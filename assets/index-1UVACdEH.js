function CV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ns(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var db={exports:{}},Kf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aj;function PV(){if(Aj)return Kf;Aj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var d in i)d!=="key"&&(a[d]=i[d])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return Kf.Fragment=e,Kf.jsx=n,Kf.jsxs=n,Kf}var Sj;function OV(){return Sj||(Sj=1,db.exports=PV()),db.exports}var u=OV(),fb={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tj;function IV(){if(Tj)return Xe;Tj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function S(z,X,ne){this.props=z,this.context=X,this.refs=E,this.updater=ne||b}S.prototype.isReactComponent={},S.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},S.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function N(){}N.prototype=S.prototype;function C(z,X,ne){this.props=z,this.context=X,this.refs=E,this.updater=ne||b}var j=C.prototype=new N;j.constructor=C,A(j,S.prototype),j.isPureReactComponent=!0;var L=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function k(z,X,ne,Z,oe,ye){return ne=ye.ref,{$$typeof:t,type:z,key:X,ref:ne!==void 0?ne:null,props:ye}}function O(z,X){return k(z.type,X,void 0,void 0,void 0,z.props)}function R(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function F(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ne){return X[ne]})}var B=/\/+/g;function q(z,X){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):X.toString(36)}function U(){}function ve(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(U,U):(z.status="pending",z.then(function(X){z.status==="pending"&&(z.status="fulfilled",z.value=X)},function(X){z.status==="pending"&&(z.status="rejected",z.reason=X)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function le(z,X,ne,Z,oe){var ye=typeof z;(ye==="undefined"||ye==="boolean")&&(z=null);var be=!1;if(z===null)be=!0;else switch(ye){case"bigint":case"string":case"number":be=!0;break;case"object":switch(z.$$typeof){case t:case e:be=!0;break;case p:return be=z._init,le(be(z._payload),X,ne,Z,oe)}}if(be)return oe=oe(z),be=Z===""?"."+q(z,0):Z,L(oe)?(ne="",be!=null&&(ne=be.replace(B,"$&/")+"/"),le(oe,X,ne,"",function(_e){return _e})):oe!=null&&(R(oe)&&(oe=O(oe,ne+(oe.key==null||z&&z.key===oe.key?"":(""+oe.key).replace(B,"$&/")+"/")+be)),X.push(oe)),1;be=0;var Le=Z===""?".":Z+":";if(L(z))for(var Ke=0;Ke<z.length;Ke++)Z=z[Ke],ye=Le+q(Z,Ke),be+=le(Z,X,ne,ye,oe);else if(Ke=x(z),typeof Ke=="function")for(z=Ke.call(z),Ke=0;!(Z=z.next()).done;)Z=Z.value,ye=Le+q(Z,Ke++),be+=le(Z,X,ne,ye,oe);else if(ye==="object"){if(typeof z.then=="function")return le(ve(z),X,ne,Z,oe);throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return be}function W(z,X,ne){if(z==null)return z;var Z=[],oe=0;return le(z,Z,"","",function(ye){return X.call(ne,ye,oe++)}),Z}function K(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(ne){(z._status===0||z._status===-1)&&(z._status=1,z._result=ne)},function(ne){(z._status===0||z._status===-1)&&(z._status=2,z._result=ne)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var ce=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function me(){}return Xe.Children={map:W,forEach:function(z,X,ne){W(z,function(){X.apply(this,arguments)},ne)},count:function(z){var X=0;return W(z,function(){X++}),X},toArray:function(z){return W(z,function(X){return X})||[]},only:function(z){if(!R(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Xe.Component=S,Xe.Fragment=n,Xe.Profiler=i,Xe.PureComponent=C,Xe.StrictMode=r,Xe.Suspense=f,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return V.H.useMemoCache(z)}},Xe.cache=function(z){return function(){return z.apply(null,arguments)}},Xe.cloneElement=function(z,X,ne){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Z=A({},z.props),oe=z.key,ye=void 0;if(X!=null)for(be in X.ref!==void 0&&(ye=void 0),X.key!==void 0&&(oe=""+X.key),X)!D.call(X,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&X.ref===void 0||(Z[be]=X[be]);var be=arguments.length-2;if(be===1)Z.children=ne;else if(1<be){for(var Le=Array(be),Ke=0;Ke<be;Ke++)Le[Ke]=arguments[Ke+2];Z.children=Le}return k(z.type,oe,void 0,void 0,ye,Z)},Xe.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:a,_context:z},z},Xe.createElement=function(z,X,ne){var Z,oe={},ye=null;if(X!=null)for(Z in X.key!==void 0&&(ye=""+X.key),X)D.call(X,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(oe[Z]=X[Z]);var be=arguments.length-2;if(be===1)oe.children=ne;else if(1<be){for(var Le=Array(be),Ke=0;Ke<be;Ke++)Le[Ke]=arguments[Ke+2];oe.children=Le}if(z&&z.defaultProps)for(Z in be=z.defaultProps,be)oe[Z]===void 0&&(oe[Z]=be[Z]);return k(z,ye,void 0,void 0,null,oe)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(z){return{$$typeof:d,render:z}},Xe.isValidElement=R,Xe.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:K}},Xe.memo=function(z,X){return{$$typeof:h,type:z,compare:X===void 0?null:X}},Xe.startTransition=function(z){var X=V.T,ne={};V.T=ne;try{var Z=z(),oe=V.S;oe!==null&&oe(ne,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(me,ce)}catch(ye){ce(ye)}finally{V.T=X}},Xe.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Xe.use=function(z){return V.H.use(z)},Xe.useActionState=function(z,X,ne){return V.H.useActionState(z,X,ne)},Xe.useCallback=function(z,X){return V.H.useCallback(z,X)},Xe.useContext=function(z){return V.H.useContext(z)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(z,X){return V.H.useDeferredValue(z,X)},Xe.useEffect=function(z,X,ne){var Z=V.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(z,X)},Xe.useId=function(){return V.H.useId()},Xe.useImperativeHandle=function(z,X,ne){return V.H.useImperativeHandle(z,X,ne)},Xe.useInsertionEffect=function(z,X){return V.H.useInsertionEffect(z,X)},Xe.useLayoutEffect=function(z,X){return V.H.useLayoutEffect(z,X)},Xe.useMemo=function(z,X){return V.H.useMemo(z,X)},Xe.useOptimistic=function(z,X){return V.H.useOptimistic(z,X)},Xe.useReducer=function(z,X,ne){return V.H.useReducer(z,X,ne)},Xe.useRef=function(z){return V.H.useRef(z)},Xe.useState=function(z){return V.H.useState(z)},Xe.useSyncExternalStore=function(z,X,ne){return V.H.useSyncExternalStore(z,X,ne)},Xe.useTransition=function(){return V.H.useTransition()},Xe.version="19.1.1",Xe}var Nj;function yd(){return Nj||(Nj=1,fb.exports=IV()),fb.exports}var _=yd();const lt=ns(_),kV=CV({__proto__:null,default:lt},[_]);var hb={exports:{}},Gf={},mb={exports:{}},pb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jj;function RV(){return jj||(jj=1,(function(t){function e(W,K){var ce=W.length;W.push(K);e:for(;0<ce;){var me=ce-1>>>1,z=W[me];if(0<i(z,K))W[me]=K,W[ce]=z,ce=me;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var K=W[0],ce=W.pop();if(ce!==K){W[0]=ce;e:for(var me=0,z=W.length,X=z>>>1;me<X;){var ne=2*(me+1)-1,Z=W[ne],oe=ne+1,ye=W[oe];if(0>i(Z,ce))oe<z&&0>i(ye,Z)?(W[me]=ye,W[oe]=ce,me=oe):(W[me]=Z,W[ne]=ce,me=ne);else if(oe<z&&0>i(ye,ce))W[me]=ye,W[oe]=ce,me=oe;else break e}}return K}function i(W,K){var ce=W.sortIndex-K.sortIndex;return ce!==0?ce:W.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,x=3,b=!1,A=!1,E=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function L(W){for(var K=n(h);K!==null;){if(K.callback===null)r(h);else if(K.startTime<=W)r(h),K.sortIndex=K.expirationTime,e(f,K);else break;K=n(h)}}function V(W){if(E=!1,L(W),!A)if(n(f)!==null)A=!0,D||(D=!0,q());else{var K=n(h);K!==null&&le(V,K.startTime-W)}}var D=!1,k=-1,O=5,R=-1;function F(){return S?!0:!(t.unstable_now()-R<O)}function B(){if(S=!1,D){var W=t.unstable_now();R=W;var K=!0;try{e:{A=!1,E&&(E=!1,C(k),k=-1),b=!0;var ce=x;try{t:{for(L(W),g=n(f);g!==null&&!(g.expirationTime>W&&F());){var me=g.callback;if(typeof me=="function"){g.callback=null,x=g.priorityLevel;var z=me(g.expirationTime<=W);if(W=t.unstable_now(),typeof z=="function"){g.callback=z,L(W),K=!0;break t}g===n(f)&&r(f),L(W)}else r(f);g=n(f)}if(g!==null)K=!0;else{var X=n(h);X!==null&&le(V,X.startTime-W),K=!1}}break e}finally{g=null,x=ce,b=!1}K=void 0}}finally{K?q():D=!1}}}var q;if(typeof j=="function")q=function(){j(B)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ve=U.port2;U.port1.onmessage=B,q=function(){ve.postMessage(null)}}else q=function(){N(B,0)};function le(W,K){k=N(function(){W(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(W){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var ce=x;x=K;try{return W()}finally{x=ce}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(W,K){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=x;x=W;try{return K()}finally{x=ce}},t.unstable_scheduleCallback=function(W,K,ce){var me=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?me+ce:me):ce=me,W){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ce+z,W={id:p++,callback:K,priorityLevel:W,startTime:ce,expirationTime:z,sortIndex:-1},ce>me?(W.sortIndex=ce,e(h,W),n(f)===null&&W===n(h)&&(E?(C(k),k=-1):E=!0,le(V,ce-me))):(W.sortIndex=z,e(f,W),A||b||(A=!0,D||(D=!0,q()))),W},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(W){var K=x;return function(){var ce=x;x=K;try{return W.apply(this,arguments)}finally{x=ce}}}})(pb)),pb}var Cj;function DV(){return Cj||(Cj=1,mb.exports=RV()),mb.exports}var gb={exports:{}},gr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pj;function MV(){if(Pj)return gr;Pj=1;var t=yd();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,p)},gr.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},gr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},gr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},gr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:b}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},gr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},gr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},gr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},gr.requestFormReset=function(f){r.d.r(f)},gr.unstable_batchedUpdates=function(f,h){return f(h)},gr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},gr.useFormStatus=function(){return l.H.useHostTransitionStatus()},gr.version="19.1.1",gr}var Oj;function iR(){if(Oj)return gb.exports;Oj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gb.exports=MV(),gb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ij;function LV(){if(Ij)return Gf;Ij=1;var t=DV(),e=yd(),n=iR();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(r(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var c=s,m=o;;){var v=c.return;if(v===null)break;var w=v.alternate;if(w===null){if(m=v.return,m!==null){c=m;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===c)return d(v),s;if(w===m)return d(v),o;w=w.sibling}throw Error(r(188))}if(c.return!==m.return)c=v,m=w;else{for(var I=!1,M=v.child;M;){if(M===c){I=!0,c=v,m=w;break}if(M===m){I=!0,m=v,c=w;break}M=M.sibling}if(!I){for(M=w.child;M;){if(M===c){I=!0,c=w,m=v;break}if(M===m){I=!0,m=w,c=v;break}M=M.sibling}if(!I)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:o}function h(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=h(s),o!==null)return o;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),j=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function ve(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case V:return"Suspense";case D:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case j:return(s.displayName||"Context")+".Provider";case C:return(s._context.displayName||"Context")+".Consumer";case L:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return o=s.displayName||null,o!==null?o:ve(s.type)||"Memo";case O:o=s._payload,s=s._init;try{return ve(s(o))}catch{}}return null}var le=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},me=[],z=-1;function X(s){return{current:s}}function ne(s){0>z||(s.current=me[z],me[z]=null,z--)}function Z(s,o){z++,me[z]=s.current,s.current=o}var oe=X(null),ye=X(null),be=X(null),Le=X(null);function Ke(s,o){switch(Z(be,o),Z(ye,s),Z(oe,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?ZN(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=ZN(o),s=JN(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ne(oe),Z(oe,s)}function _e(){ne(oe),ne(ye),ne(be)}function Ve(s){s.memoizedState!==null&&Z(Le,s);var o=oe.current,c=JN(o,s.type);o!==c&&(Z(ye,s),Z(oe,c))}function Ne(s){ye.current===s&&(ne(oe),ne(ye)),Le.current===s&&(ne(Le),zf._currentValue=ce)}var xe=Object.prototype.hasOwnProperty,Ue=t.unstable_scheduleCallback,nt=t.unstable_cancelCallback,An=t.unstable_shouldYield,Qt=t.unstable_requestPaint,Vt=t.unstable_now,os=t.unstable_getCurrentPriorityLevel,Zt=t.unstable_ImmediatePriority,Sn=t.unstable_UserBlockingPriority,Hn=t.unstable_NormalPriority,Aa=t.unstable_LowPriority,Zi=t.unstable_IdlePriority,Bd=t.log,Sa=t.unstable_setDisableYieldValue,Qr=null,Tn=null;function Vr(s){if(typeof Bd=="function"&&Sa(s),Tn&&typeof Tn.setStrictMode=="function")try{Tn.setStrictMode(Qr,s)}catch{}}var nr=Math.clz32?Math.clz32:Nr,zd=Math.log,Tr=Math.LN2;function Nr(s){return s>>>=0,s===0?32:31-(zd(s)/Tr|0)|0}var xi=256,Ta=4194304;function Zr(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function jr(s,o,c){var m=s.pendingLanes;if(m===0)return 0;var v=0,w=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var M=m&134217727;return M!==0?(m=M&~w,m!==0?v=Zr(m):(I&=M,I!==0?v=Zr(I):c||(c=M&~s,c!==0&&(v=Zr(c))))):(M=m&~w,M!==0?v=Zr(M):I!==0?v=Zr(I):c||(c=m&~s,c!==0&&(v=Zr(c)))),v===0?0:o!==0&&o!==v&&(o&w)===0&&(w=v&-v,c=o&-o,w>=c||w===32&&(c&4194048)!==0)?o:v}function Ji(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function ls(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(){var s=xi;return xi<<=1,(xi&4194048)===0&&(xi=256),s}function Na(){var s=Ta;return Ta<<=1,(Ta&62914560)===0&&(Ta=4194304),s}function mo(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Jt(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Xc(s,o,c,m,v,w){var I=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var M=s.entanglements,H=s.expirationTimes,te=s.hiddenUpdates;for(c=I&~c;0<c;){var de=31-nr(c),pe=1<<de;M[de]=0,H[de]=-1;var ie=te[de];if(ie!==null)for(te[de]=null,de=0;de<ie.length;de++){var ae=ie[de];ae!==null&&(ae.lane&=-536870913)}c&=~pe}m!==0&&ja(s,m,0),w!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=w&~(I&~o))}function ja(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var m=31-nr(o);s.entangledLanes|=o,s.entanglements[m]=s.entanglements[m]|1073741824|c&4194090}function Ca(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var m=31-nr(c),v=1<<m;v&o|s[m]&o&&(s[m]|=o),c&=~v}}function po(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Nl(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ea(){var s=K.p;return s!==0?s:(s=window.event,s===void 0?32:vj(s.type))}function $d(s,o){var c=K.p;try{return K.p=s,o()}finally{K.p=c}}var bi=Math.random().toString(36).slice(2),en="__reactFiber$"+bi,Dn="__reactProps$"+bi,Y="__reactContainer$"+bi,we="__reactEvents$"+bi,Oe="__reactListeners$"+bi,wt="__reactHandles$"+bi,tn="__reactResources$"+bi,fr="__reactMarker$"+bi;function ta(s){delete s[en],delete s[Dn],delete s[we],delete s[Oe],delete s[wt]}function hr(s){var o=s[en];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Y]||c[en]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=rj(s);s!==null;){if(c=s[en])return c;s=rj(s)}return o}s=c,c=s.parentNode}return null}function wi(s){if(s=s[en]||s[Y]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function cs(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function Pa(s){var o=s[tn];return o||(o=s[tn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function nn(s){s[fr]=!0}var Fd=new Set,us={};function _i(s,o){Ei(s,o),Ei(s+"Capture",o)}function Ei(s,o){for(us[s]=o,s=0;s<o.length;s++)Fd.add(o[s])}var ds=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ai={},go={};function qd(s){return xe.call(go,s)?!0:xe.call(Ai,s)?!1:ds.test(s)?go[s]=!0:(Ai[s]=!0,!1)}function fs(s,o,c){if(qd(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function Si(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function Ur(s,o,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+m)}}var jl,Qc;function hs(s){if(jl===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);jl=o&&o[1]||"",Qc=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jl+s+Qc}var Zc=!1;function Jc(s,o){if(!s||Zc)return"";Zc=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ae){var ie=ae}Reflect.construct(s,[],pe)}else{try{pe.call()}catch(ae){ie=ae}s.call(pe.prototype)}}else{try{throw Error()}catch(ae){ie=ae}(pe=s())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ae){if(ae&&ie&&typeof ae.stack=="string")return[ae.stack,ie.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),I=w[0],M=w[1];if(I&&M){var H=I.split(`
`),te=M.split(`
`);for(v=m=0;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;for(;v<te.length&&!te[v].includes("DetermineComponentFrameRoot");)v++;if(m===H.length||v===te.length)for(m=H.length-1,v=te.length-1;1<=m&&0<=v&&H[m]!==te[v];)v--;for(;1<=m&&0<=v;m--,v--)if(H[m]!==te[v]){if(m!==1||v!==1)do if(m--,v--,0>v||H[m]!==te[v]){var de=`
`+H[m].replace(" at new "," at ");return s.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",s.displayName)),de}while(1<=m&&0<=v);break}}}finally{Zc=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?hs(c):""}function x0(s){switch(s.tag){case 26:case 27:case 5:return hs(s.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 15:return Jc(s.type,!1);case 11:return Jc(s.type.render,!1);case 1:return Jc(s.type,!0);case 31:return hs("Activity");default:return""}}function na(s){try{var o="";do o+=x0(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function rn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function yo(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Cl(s){var o=yo(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),m=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,w=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return v.call(this)},set:function(I){m=""+I,w.call(this,I)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function vo(s){s._valueTracker||(s._valueTracker=Cl(s))}function _t(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return s&&(m=yo(s)?s.checked?"true":"false":s.value),s=m,s!==c?(o.setValue(s),!0):!1}function ms(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Pl=/[\n"\\]/g;function Kn(s){return s.replace(Pl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Hd(s,o,c,m,v,w,I,M){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),o!=null?I==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+rn(o)):s.value!==""+rn(o)&&(s.value=""+rn(o)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),o!=null?Gd(s,I,rn(o)):c!=null?Gd(s,I,rn(c)):m!=null&&s.removeAttribute("value"),v==null&&w!=null&&(s.defaultChecked=!!w),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?s.name=""+rn(M):s.removeAttribute("name")}function Kd(s,o,c,m,v,w,I,M){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),o!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;c=c!=null?""+rn(c):"",o=o!=null?""+rn(o):c,M||o===s.value||(s.value=o),s.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=M?s.checked:!!m,s.defaultChecked=!!m,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I)}function Gd(s,o,c){o==="number"&&ms(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function xo(s,o,c,m){if(s=s.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=o.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&m&&(s[c].defaultSelected=!0)}else{for(c=""+rn(c),o=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,m&&(s[v].defaultSelected=!0);return}o!==null||s[v].disabled||(o=s[v])}o!==null&&(o.selected=!0)}}function Cm(s,o,c){if(o!=null&&(o=""+rn(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+rn(c):""}function Pm(s,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(r(92));if(le(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=rn(o),s.defaultValue=c,m=s.textContent,m===c&&m!==""&&m!==null&&(s.value=m)}function Ti(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wd(s,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":m?s.setProperty(o,c):typeof c!="number"||c===0||ps.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function Yd(s,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&c[v]!==m&&Wd(s,v,m)}else for(var w in o)o.hasOwnProperty(w)&&Wd(s,w,o[w])}function eu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Im=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(s){return Im.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Xd=null;function Qd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var bo=null,Cr=null;function km(s){var o=wi(s);if(o&&(s=o.stateNode)){var c=s[Dn]||null;e:switch(s=o.stateNode,o.type){case"input":if(Hd(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Kn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==s&&m.form===s.form){var v=m[Dn]||null;if(!v)throw Error(r(90));Hd(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===s.form&&_t(m)}break e;case"textarea":Cm(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&xo(s,!!c.multiple,o,!1)}}}var Ol=!1;function Il(s,o,c){if(Ol)return s(o,c);Ol=!0;try{var m=s(o);return m}finally{if(Ol=!1,(bo!==null||Cr!==null)&&(_p(),bo&&(o=bo,s=Cr,Cr=bo=null,km(o),s)))for(o=0;o<s.length;o++)km(s[o])}}function wo(s,o){var c=s.stateNode;if(c===null)return null;var m=c[Dn]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(Pr)try{var _o={};Object.defineProperty(_o,"passive",{get:function(){gs=!0}}),window.addEventListener("test",_o,_o),window.removeEventListener("test",_o,_o)}catch{gs=!1}var Ni=null,It=null,tu=null;function Rm(){if(tu)return tu;var s,o=It,c=o.length,m,v="value"in Ni?Ni.value:Ni.textContent,w=v.length;for(s=0;s<c&&o[s]===v[s];s++);var I=c-s;for(m=1;m<=I&&o[c-m]===v[w-m];m++);return tu=v.slice(s,1<m?1-m:void 0)}function kl(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Rl(){return!0}function Zd(){return!1}function Mn(s){function o(c,m,v,w,I){this._reactName=c,this._targetInst=v,this.type=m,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(c=s[M],this[M]=c?c(w):w[M]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Rl:Zd,this.isPropagationStopped=Zd,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),o}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=Mn(mr),Ml=p({},mr,{view:0,detail:0}),Ll=Mn(Ml),nu,Vl,Oa,Ul=p({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Oa&&(Oa&&s.type==="mousemove"?(nu=s.screenX-Oa.screenX,Vl=s.screenY-Oa.screenY):Vl=nu=0,Oa=s),nu)},movementY:function(s){return"movementY"in s?s.movementY:Vl}}),Bl=Mn(Ul),b0=p({},Ul,{dataTransfer:0}),Dm=Mn(b0),zl=p({},Ml,{relatedTarget:0}),ru=Mn(zl),Mm=p({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jd=Mn(Mm),ef=p({},mr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Lm=Mn(ef),iu=p({},mr,{data:0}),tf=Mn(iu),Vm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ys={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Um={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bm(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Um[s])?!!o[s]:!1}function au(){return Bm}var zm=p({},Ml,{key:function(s){if(s.key){var o=Vm[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=kl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ys[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(s){return s.type==="keypress"?kl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?kl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),su=Mn(zm),Or=p({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nf=Mn(Or),$m=p({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),Eo=Mn($m),y=p({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Mn(y),P=p({},Ul,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Mn(P),ee=p({},mr,{newState:0,oldState:0}),se=Mn(ee),Ee=[9,13,27,32],We=Pr&&"CompositionEvent"in window,Ut=null;Pr&&"documentMode"in document&&(Ut=document.documentMode);var gt=Pr&&"TextEvent"in window&&!Ut,hn=Pr&&(!We||Ut&&8<Ut&&11>=Ut),Jr=" ",Ia=!1;function ia(s,o){switch(s){case"keyup":return Ee.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var sa=!1;function rf(s,o){switch(s){case"compositionend":return aa(o);case"keypress":return o.which!==32?null:(Ia=!0,Jr);case"textInput":return s=o.data,s===Jr&&Ia?null:s;default:return null}}function n7(s,o){if(sa)return s==="compositionend"||!We&&ia(s,o)?(s=Rm(),tu=It=Ni=null,sa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return hn&&o.locale!=="ko"?null:o.data;default:return null}}var r7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fS(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!r7[s.type]:o==="textarea"}function hS(s,o,c,m){bo?Cr?Cr.push(m):Cr=[m]:bo=m,o=jp(o,"onChange"),0<o.length&&(c=new Dl("onChange","change",null,c,m),s.push({event:c,listeners:o}))}var af=null,sf=null;function i7(s){GN(s,0)}function Fm(s){var o=cs(s);if(_t(o))return s}function mS(s,o){if(s==="change")return o}var pS=!1;if(Pr){var w0;if(Pr){var _0="oninput"in document;if(!_0){var gS=document.createElement("div");gS.setAttribute("oninput","return;"),_0=typeof gS.oninput=="function"}w0=_0}else w0=!1;pS=w0&&(!document.documentMode||9<document.documentMode)}function yS(){af&&(af.detachEvent("onpropertychange",vS),sf=af=null)}function vS(s){if(s.propertyName==="value"&&Fm(sf)){var o=[];hS(o,sf,s,Qd(s)),Il(i7,o)}}function a7(s,o,c){s==="focusin"?(yS(),af=o,sf=c,af.attachEvent("onpropertychange",vS)):s==="focusout"&&yS()}function s7(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Fm(sf)}function o7(s,o){if(s==="click")return Fm(o)}function l7(s,o){if(s==="input"||s==="change")return Fm(o)}function c7(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ei=typeof Object.is=="function"?Object.is:c7;function of(s,o){if(ei(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var v=c[m];if(!xe.call(o,v)||!ei(s[v],o[v]))return!1}return!0}function xS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bS(s,o){var c=xS(s);s=0;for(var m;c;){if(c.nodeType===3){if(m=s+c.textContent.length,s<=o&&m>=o)return{node:c,offset:o-s};s=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=xS(c)}}function wS(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?wS(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function _S(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=ms(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=ms(s.document)}return o}function E0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var u7=Pr&&"documentMode"in document&&11>=document.documentMode,ou=null,A0=null,lf=null,S0=!1;function ES(s,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;S0||ou==null||ou!==ms(m)||(m=ou,"selectionStart"in m&&E0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),lf&&of(lf,m)||(lf=m,m=jp(A0,"onSelect"),0<m.length&&(o=new Dl("onSelect","select",null,o,c),s.push({event:o,listeners:m}),o.target=ou)))}function $l(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var lu={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionrun:$l("Transition","TransitionRun"),transitionstart:$l("Transition","TransitionStart"),transitioncancel:$l("Transition","TransitionCancel"),transitionend:$l("Transition","TransitionEnd")},T0={},AS={};Pr&&(AS=document.createElement("div").style,"AnimationEvent"in window||(delete lu.animationend.animation,delete lu.animationiteration.animation,delete lu.animationstart.animation),"TransitionEvent"in window||delete lu.transitionend.transition);function Fl(s){if(T0[s])return T0[s];if(!lu[s])return s;var o=lu[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in AS)return T0[s]=o[c];return s}var SS=Fl("animationend"),TS=Fl("animationiteration"),NS=Fl("animationstart"),d7=Fl("transitionrun"),f7=Fl("transitionstart"),h7=Fl("transitioncancel"),jS=Fl("transitionend"),CS=new Map,N0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");N0.push("scrollEnd");function oa(s,o){CS.set(s,o),_i(o,[s])}var PS=new WeakMap;function ji(s,o){if(typeof s=="object"&&s!==null){var c=PS.get(s);return c!==void 0?c:(o={value:s,source:o,stack:na(o)},PS.set(s,o),o)}return{value:s,source:o,stack:na(o)}}var Ci=[],cu=0,j0=0;function qm(){for(var s=cu,o=j0=cu=0;o<s;){var c=Ci[o];Ci[o++]=null;var m=Ci[o];Ci[o++]=null;var v=Ci[o];Ci[o++]=null;var w=Ci[o];if(Ci[o++]=null,m!==null&&v!==null){var I=m.pending;I===null?v.next=v:(v.next=I.next,I.next=v),m.pending=v}w!==0&&OS(c,v,w)}}function Hm(s,o,c,m){Ci[cu++]=s,Ci[cu++]=o,Ci[cu++]=c,Ci[cu++]=m,j0|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function C0(s,o,c,m){return Hm(s,o,c,m),Km(s)}function uu(s,o){return Hm(s,null,null,o),Km(s)}function OS(s,o,c){s.lanes|=c;var m=s.alternate;m!==null&&(m.lanes|=c);for(var v=!1,w=s.return;w!==null;)w.childLanes|=c,m=w.alternate,m!==null&&(m.childLanes|=c),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(v=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,v&&o!==null&&(v=31-nr(c),s=w.hiddenUpdates,m=s[v],m===null?s[v]=[o]:m.push(o),o.lane=c|536870912),w):null}function Km(s){if(50<kf)throw kf=0,Dx=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var du={};function m7(s,o,c,m){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(s,o,c,m){return new m7(s,o,c,m)}function P0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function vs(s,o){var c=s.alternate;return c===null?(c=ti(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function IS(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Gm(s,o,c,m,v,w){var I=0;if(m=s,typeof s=="function")P0(s)&&(I=1);else if(typeof s=="string")I=gV(s,c,oe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=ti(31,c,o,v),s.elementType=R,s.lanes=w,s;case A:return ql(c.children,v,w,o);case E:I=8,v|=24;break;case S:return s=ti(12,c,o,v|2),s.elementType=S,s.lanes=w,s;case V:return s=ti(13,c,o,v),s.elementType=V,s.lanes=w,s;case D:return s=ti(19,c,o,v),s.elementType=D,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:case j:I=10;break e;case C:I=9;break e;case L:I=11;break e;case k:I=14;break e;case O:I=16,m=null;break e}I=29,c=Error(r(130,s===null?"null":typeof s,"")),m=null}return o=ti(I,c,o,v),o.elementType=s,o.type=m,o.lanes=w,o}function ql(s,o,c,m){return s=ti(7,s,m,o),s.lanes=c,s}function O0(s,o,c){return s=ti(6,s,null,o),s.lanes=c,s}function I0(s,o,c){return o=ti(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var fu=[],hu=0,Wm=null,Ym=0,Pi=[],Oi=0,Hl=null,xs=1,bs="";function Kl(s,o){fu[hu++]=Ym,fu[hu++]=Wm,Wm=s,Ym=o}function kS(s,o,c){Pi[Oi++]=xs,Pi[Oi++]=bs,Pi[Oi++]=Hl,Hl=s;var m=xs;s=bs;var v=32-nr(m)-1;m&=~(1<<v),c+=1;var w=32-nr(o)+v;if(30<w){var I=v-v%5;w=(m&(1<<I)-1).toString(32),m>>=I,v-=I,xs=1<<32-nr(o)+v|c<<v|m,bs=w+s}else xs=1<<w|c<<v|m,bs=s}function k0(s){s.return!==null&&(Kl(s,1),kS(s,1,0))}function R0(s){for(;s===Wm;)Wm=fu[--hu],fu[hu]=null,Ym=fu[--hu],fu[hu]=null;for(;s===Hl;)Hl=Pi[--Oi],Pi[Oi]=null,bs=Pi[--Oi],Pi[Oi]=null,xs=Pi[--Oi],Pi[Oi]=null}var Ir=null,ln=null,ht=!1,Gl=null,ka=!1,D0=Error(r(519));function Wl(s){var o=Error(r(418,""));throw df(ji(o,s)),D0}function RS(s){var o=s.stateNode,c=s.type,m=s.memoizedProps;switch(o[en]=s,o[Dn]=m,c){case"dialog":et("cancel",o),et("close",o);break;case"iframe":case"object":case"embed":et("load",o);break;case"video":case"audio":for(c=0;c<Df.length;c++)et(Df[c],o);break;case"source":et("error",o);break;case"img":case"image":case"link":et("error",o),et("load",o);break;case"details":et("toggle",o);break;case"input":et("invalid",o),Kd(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),vo(o);break;case"select":et("invalid",o);break;case"textarea":et("invalid",o),Pm(o,m.value,m.defaultValue,m.children),vo(o)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||QN(o.textContent,c)?(m.popover!=null&&(et("beforetoggle",o),et("toggle",o)),m.onScroll!=null&&et("scroll",o),m.onScrollEnd!=null&&et("scrollend",o),m.onClick!=null&&(o.onclick=Cp),o=!0):o=!1,o||Wl(s)}function DS(s){for(Ir=s.return;Ir;)switch(Ir.tag){case 5:case 13:ka=!1;return;case 27:case 3:ka=!0;return;default:Ir=Ir.return}}function cf(s){if(s!==Ir)return!1;if(!ht)return DS(s),ht=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Qx(s.type,s.memoizedProps)),c=!c),c&&ln&&Wl(s),DS(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){ln=ca(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}ln=null}}else o===27?(o=ln,Uo(s.type)?(s=tb,tb=null,ln=s):ln=o):ln=Ir?ca(s.stateNode.nextSibling):null;return!0}function uf(){ln=Ir=null,ht=!1}function MS(){var s=Gl;return s!==null&&($r===null?$r=s:$r.push.apply($r,s),Gl=null),s}function df(s){Gl===null?Gl=[s]:Gl.push(s)}var M0=X(null),Yl=null,ws=null;function Ao(s,o,c){Z(M0,o._currentValue),o._currentValue=c}function _s(s){s._currentValue=M0.current,ne(M0)}function L0(s,o,c){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===c)break;s=s.return}}function V0(s,o,c,m){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var w=v.dependencies;if(w!==null){var I=v.child;w=w.firstContext;e:for(;w!==null;){var M=w;w=v;for(var H=0;H<o.length;H++)if(M.context===o[H]){w.lanes|=c,M=w.alternate,M!==null&&(M.lanes|=c),L0(w.return,c,s),m||(I=null);break e}w=M.next}}else if(v.tag===18){if(I=v.return,I===null)throw Error(r(341));I.lanes|=c,w=I.alternate,w!==null&&(w.lanes|=c),L0(I,c,s),I=null}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===s){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}}function ff(s,o,c,m){s=null;for(var v=o,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var I=v.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var M=v.type;ei(v.pendingProps.value,I.value)||(s!==null?s.push(M):s=[M])}}else if(v===Le.current){if(I=v.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(zf):s=[zf])}v=v.return}s!==null&&V0(o,s,c,m),o.flags|=262144}function Xm(s){for(s=s.firstContext;s!==null;){if(!ei(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Xl(s){Yl=s,ws=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function pr(s){return LS(Yl,s)}function Qm(s,o){return Yl===null&&Xl(s),LS(s,o)}function LS(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},ws===null){if(s===null)throw Error(r(308));ws=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else ws=ws.next=o;return c}var p7=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,m){s.push(m)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},g7=t.unstable_scheduleCallback,y7=t.unstable_NormalPriority,Ln={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function U0(){return{controller:new p7,data:new Map,refCount:0}}function hf(s){s.refCount--,s.refCount===0&&g7(y7,function(){s.controller.abort()})}var mf=null,B0=0,mu=0,pu=null;function v7(s,o){if(mf===null){var c=mf=[];B0=0,mu=$x(),pu={status:"pending",value:void 0,then:function(m){c.push(m)}}}return B0++,o.then(VS,VS),o}function VS(){if(--B0===0&&mf!==null){pu!==null&&(pu.status="fulfilled");var s=mf;mf=null,mu=0,pu=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function x7(s,o){var c=[],m={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return s.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),m}var US=W.S;W.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&v7(s,o),US!==null&&US(s,o)};var Ql=X(null);function z0(){var s=Ql.current;return s!==null?s:kt.pooledCache}function Zm(s,o){o===null?Z(Ql,Ql.current):Z(Ql,o.pool)}function BS(){var s=z0();return s===null?null:{parent:Ln._currentValue,pool:s}}var pf=Error(r(460)),zS=Error(r(474)),Jm=Error(r(542)),$0={then:function(){}};function $S(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ep(){}function FS(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(ep,ep),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,HS(s),s;default:if(typeof o.status=="string")o.then(ep,ep);else{if(s=kt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,HS(s),s}throw gf=o,pf}}var gf=null;function qS(){if(gf===null)throw Error(r(459));var s=gf;return gf=null,s}function HS(s){if(s===pf||s===Jm)throw Error(r(483))}var So=!1;function F0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function q0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function To(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function No(s,o,c){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(yt&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=Km(s),OS(s,null,c),o}return Hm(s,m,o,c),Km(s)}function yf(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=s.pendingLanes,c|=m,o.lanes=c,Ca(s,c)}}function H0(s,o){var c=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var v=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var I={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?v=w=I:w=w.next=I,c=c.next}while(c!==null);w===null?v=w=o:w=w.next=o}else v=w=o;c={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var K0=!1;function vf(){if(K0){var s=pu;if(s!==null)throw s}}function xf(s,o,c,m){K0=!1;var v=s.updateQueue;So=!1;var w=v.firstBaseUpdate,I=v.lastBaseUpdate,M=v.shared.pending;if(M!==null){v.shared.pending=null;var H=M,te=H.next;H.next=null,I===null?w=te:I.next=te,I=H;var de=s.alternate;de!==null&&(de=de.updateQueue,M=de.lastBaseUpdate,M!==I&&(M===null?de.firstBaseUpdate=te:M.next=te,de.lastBaseUpdate=H))}if(w!==null){var pe=v.baseState;I=0,de=te=H=null,M=w;do{var ie=M.lane&-536870913,ae=ie!==M.lane;if(ae?(st&ie)===ie:(m&ie)===ie){ie!==0&&ie===mu&&(K0=!0),de!==null&&(de=de.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var He=s,ze=M;ie=o;var St=c;switch(ze.tag){case 1:if(He=ze.payload,typeof He=="function"){pe=He.call(St,pe,ie);break e}pe=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=ze.payload,ie=typeof He=="function"?He.call(St,pe,ie):He,ie==null)break e;pe=p({},pe,ie);break e;case 2:So=!0}}ie=M.callback,ie!==null&&(s.flags|=64,ae&&(s.flags|=8192),ae=v.callbacks,ae===null?v.callbacks=[ie]:ae.push(ie))}else ae={lane:ie,tag:M.tag,payload:M.payload,callback:M.callback,next:null},de===null?(te=de=ae,H=pe):de=de.next=ae,I|=ie;if(M=M.next,M===null){if(M=v.shared.pending,M===null)break;ae=M,M=ae.next,ae.next=null,v.lastBaseUpdate=ae,v.shared.pending=null}}while(!0);de===null&&(H=pe),v.baseState=H,v.firstBaseUpdate=te,v.lastBaseUpdate=de,w===null&&(v.shared.lanes=0),Do|=I,s.lanes=I,s.memoizedState=pe}}function KS(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function GS(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)KS(c[s],o)}var gu=X(null),tp=X(0);function WS(s,o){s=Cs,Z(tp,s),Z(gu,o),Cs=s|o.baseLanes}function G0(){Z(tp,Cs),Z(gu,gu.current)}function W0(){Cs=tp.current,ne(gu),ne(tp)}var jo=0,Qe=null,Et=null,Nn=null,np=!1,yu=!1,Zl=!1,rp=0,bf=0,vu=null,b7=0;function mn(){throw Error(r(321))}function Y0(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!ei(s[c],o[c]))return!1;return!0}function X0(s,o,c,m,v,w){return jo=w,Qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=s===null||s.memoizedState===null?OT:IT,Zl=!1,w=c(m,v),Zl=!1,yu&&(w=XS(o,c,m,v)),YS(s),w}function YS(s){W.H=cp;var o=Et!==null&&Et.next!==null;if(jo=0,Nn=Et=Qe=null,np=!1,bf=0,vu=null,o)throw Error(r(300));s===null||Gn||(s=s.dependencies,s!==null&&Xm(s)&&(Gn=!0))}function XS(s,o,c,m){Qe=s;var v=0;do{if(yu&&(vu=null),bf=0,yu=!1,25<=v)throw Error(r(301));if(v+=1,Nn=Et=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}W.H=N7,w=o(c,m)}while(yu);return w}function w7(){var s=W.H,o=s.useState()[0];return o=typeof o.then=="function"?wf(o):o,s=s.useState()[0],(Et!==null?Et.memoizedState:null)!==s&&(Qe.flags|=1024),o}function Q0(){var s=rp!==0;return rp=0,s}function Z0(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function J0(s){if(np){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}np=!1}jo=0,Nn=Et=Qe=null,yu=!1,bf=rp=0,vu=null}function Br(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Qe.memoizedState=Nn=s:Nn=Nn.next=s,Nn}function jn(){if(Et===null){var s=Qe.alternate;s=s!==null?s.memoizedState:null}else s=Et.next;var o=Nn===null?Qe.memoizedState:Nn.next;if(o!==null)Nn=o,Et=s;else{if(s===null)throw Qe.alternate===null?Error(r(467)):Error(r(310));Et=s,s={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Nn===null?Qe.memoizedState=Nn=s:Nn=Nn.next=s}return Nn}function ex(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wf(s){var o=bf;return bf+=1,vu===null&&(vu=[]),s=FS(vu,s,o),o=Qe,(Nn===null?o.memoizedState:Nn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?OT:IT),s}function ip(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return wf(s);if(s.$$typeof===j)return pr(s)}throw Error(r(438,String(s)))}function tx(s){var o=null,c=Qe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=Qe.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=ex(),Qe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),m=0;m<s;m++)c[m]=F;return o.index++,c}function Es(s,o){return typeof o=="function"?o(s):o}function ap(s){var o=jn();return nx(o,Et,s)}function nx(s,o,c){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var v=s.baseQueue,w=m.pending;if(w!==null){if(v!==null){var I=v.next;v.next=w.next,w.next=I}o.baseQueue=v=w,m.pending=null}if(w=s.baseState,v===null)s.memoizedState=w;else{o=v.next;var M=I=null,H=null,te=o,de=!1;do{var pe=te.lane&-536870913;if(pe!==te.lane?(st&pe)===pe:(jo&pe)===pe){var ie=te.revertLane;if(ie===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),pe===mu&&(de=!0);else if((jo&ie)===ie){te=te.next,ie===mu&&(de=!0);continue}else pe={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(M=H=pe,I=w):H=H.next=pe,Qe.lanes|=ie,Do|=ie;pe=te.action,Zl&&c(w,pe),w=te.hasEagerState?te.eagerState:c(w,pe)}else ie={lane:pe,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(M=H=ie,I=w):H=H.next=ie,Qe.lanes|=pe,Do|=pe;te=te.next}while(te!==null&&te!==o);if(H===null?I=w:H.next=M,!ei(w,s.memoizedState)&&(Gn=!0,de&&(c=pu,c!==null)))throw c;s.memoizedState=w,s.baseState=I,s.baseQueue=H,m.lastRenderedState=w}return v===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function rx(s){var o=jn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var m=c.dispatch,v=c.pending,w=o.memoizedState;if(v!==null){c.pending=null;var I=v=v.next;do w=s(w,I.action),I=I.next;while(I!==v);ei(w,o.memoizedState)||(Gn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,m]}function QS(s,o,c){var m=Qe,v=jn(),w=ht;if(w){if(c===void 0)throw Error(r(407));c=c()}else c=o();var I=!ei((Et||v).memoizedState,c);I&&(v.memoizedState=c,Gn=!0),v=v.queue;var M=eT.bind(null,m,v,s);if(_f(2048,8,M,[s]),v.getSnapshot!==o||I||Nn!==null&&Nn.memoizedState.tag&1){if(m.flags|=2048,xu(9,sp(),JS.bind(null,m,v,c,o),null),kt===null)throw Error(r(349));w||(jo&124)!==0||ZS(m,o,c)}return c}function ZS(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Qe.updateQueue,o===null?(o=ex(),Qe.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function JS(s,o,c,m){o.value=c,o.getSnapshot=m,tT(o)&&nT(s)}function eT(s,o,c){return c(function(){tT(o)&&nT(s)})}function tT(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!ei(s,c)}catch{return!0}}function nT(s){var o=uu(s,2);o!==null&&si(o,s,2)}function ix(s){var o=Br();if(typeof s=="function"){var c=s;if(s=c(),Zl){Vr(!0);try{c()}finally{Vr(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:s},o}function rT(s,o,c,m){return s.baseState=c,nx(s,Et,typeof m=="function"?m:Es)}function _7(s,o,c,m,v){if(lp(s))throw Error(r(485));if(s=o.action,s!==null){var w={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){w.listeners.push(I)}};W.T!==null?c(!0):w.isTransition=!1,m(w),c=o.pending,c===null?(w.next=o.pending=w,iT(o,w)):(w.next=c.next,o.pending=c.next=w)}}function iT(s,o){var c=o.action,m=o.payload,v=s.state;if(o.isTransition){var w=W.T,I={};W.T=I;try{var M=c(v,m),H=W.S;H!==null&&H(I,M),aT(s,o,M)}catch(te){ax(s,o,te)}finally{W.T=w}}else try{w=c(v,m),aT(s,o,w)}catch(te){ax(s,o,te)}}function aT(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){sT(s,o,m)},function(m){return ax(s,o,m)}):sT(s,o,c)}function sT(s,o,c){o.status="fulfilled",o.value=c,oT(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,iT(s,c)))}function ax(s,o,c){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,oT(o),o=o.next;while(o!==m)}s.action=null}function oT(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function lT(s,o){return o}function cT(s,o){if(ht){var c=kt.formState;if(c!==null){e:{var m=Qe;if(ht){if(ln){t:{for(var v=ln,w=ka;v.nodeType!==8;){if(!w){v=null;break t}if(v=ca(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){ln=ca(v.nextSibling),m=v.data==="F!";break e}}Wl(m)}m=!1}m&&(o=c[0])}}return c=Br(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lT,lastRenderedState:o},c.queue=m,c=jT.bind(null,Qe,m),m.dispatch=c,m=ix(!1),w=ux.bind(null,Qe,!1,m.queue),m=Br(),v={state:o,dispatch:null,action:s,pending:null},m.queue=v,c=_7.bind(null,Qe,v,w,c),v.dispatch=c,m.memoizedState=s,[o,c,!1]}function uT(s){var o=jn();return dT(o,Et,s)}function dT(s,o,c){if(o=nx(s,o,lT)[0],s=ap(Es)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=wf(o)}catch(I){throw I===pf?Jm:I}else m=o;o=jn();var v=o.queue,w=v.dispatch;return c!==o.memoizedState&&(Qe.flags|=2048,xu(9,sp(),E7.bind(null,v,c),null)),[m,w,s]}function E7(s,o){s.action=o}function fT(s){var o=jn(),c=Et;if(c!==null)return dT(o,c,s);jn(),o=o.memoizedState,c=jn();var m=c.queue.dispatch;return c.memoizedState=s,[o,m,!1]}function xu(s,o,c,m){return s={tag:s,create:c,deps:m,inst:o,next:null},o=Qe.updateQueue,o===null&&(o=ex(),Qe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(m=c.next,c.next=s,s.next=m,o.lastEffect=s),s}function sp(){return{destroy:void 0,resource:void 0}}function hT(){return jn().memoizedState}function op(s,o,c,m){var v=Br();m=m===void 0?null:m,Qe.flags|=s,v.memoizedState=xu(1|o,sp(),c,m)}function _f(s,o,c,m){var v=jn();m=m===void 0?null:m;var w=v.memoizedState.inst;Et!==null&&m!==null&&Y0(m,Et.memoizedState.deps)?v.memoizedState=xu(o,w,c,m):(Qe.flags|=s,v.memoizedState=xu(1|o,w,c,m))}function mT(s,o){op(8390656,8,s,o)}function pT(s,o){_f(2048,8,s,o)}function gT(s,o){return _f(4,2,s,o)}function yT(s,o){return _f(4,4,s,o)}function vT(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function xT(s,o,c){c=c!=null?c.concat([s]):null,_f(4,4,vT.bind(null,o,s),c)}function sx(){}function bT(s,o){var c=jn();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&Y0(o,m[1])?m[0]:(c.memoizedState=[s,o],s)}function wT(s,o){var c=jn();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&Y0(o,m[1]))return m[0];if(m=s(),Zl){Vr(!0);try{s()}finally{Vr(!1)}}return c.memoizedState=[m,o],m}function ox(s,o,c){return c===void 0||(jo&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=AN(),Qe.lanes|=s,Do|=s,c)}function _T(s,o,c,m){return ei(c,o)?c:gu.current!==null?(s=ox(s,c,m),ei(s,o)||(Gn=!0),s):(jo&42)===0?(Gn=!0,s.memoizedState=c):(s=AN(),Qe.lanes|=s,Do|=s,o)}function ET(s,o,c,m,v){var w=K.p;K.p=w!==0&&8>w?w:8;var I=W.T,M={};W.T=M,ux(s,!1,o,c);try{var H=v(),te=W.S;if(te!==null&&te(M,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var de=x7(H,m);Ef(s,o,de,ai(s))}else Ef(s,o,m,ai(s))}catch(pe){Ef(s,o,{then:function(){},status:"rejected",reason:pe},ai())}finally{K.p=w,W.T=I}}function A7(){}function lx(s,o,c,m){if(s.tag!==5)throw Error(r(476));var v=AT(s).queue;ET(s,v,o,ce,c===null?A7:function(){return ST(s),c(m)})}function AT(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:ce},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function ST(s){var o=AT(s).next.queue;Ef(s,o,{},ai())}function cx(){return pr(zf)}function TT(){return jn().memoizedState}function NT(){return jn().memoizedState}function S7(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=ai();s=To(c);var m=No(o,s,c);m!==null&&(si(m,o,c),yf(m,o,c)),o={cache:U0()},s.payload=o;return}o=o.return}}function T7(s,o,c){var m=ai();c={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},lp(s)?CT(o,c):(c=C0(s,o,c,m),c!==null&&(si(c,s,m),PT(c,o,m)))}function jT(s,o,c){var m=ai();Ef(s,o,c,m)}function Ef(s,o,c,m){var v={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(lp(s))CT(o,v);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var I=o.lastRenderedState,M=w(I,c);if(v.hasEagerState=!0,v.eagerState=M,ei(M,I))return Hm(s,o,v,0),kt===null&&qm(),!1}catch{}finally{}if(c=C0(s,o,v,m),c!==null)return si(c,s,m),PT(c,o,m),!0}return!1}function ux(s,o,c,m){if(m={lane:2,revertLane:$x(),action:m,hasEagerState:!1,eagerState:null,next:null},lp(s)){if(o)throw Error(r(479))}else o=C0(s,c,m,2),o!==null&&si(o,s,2)}function lp(s){var o=s.alternate;return s===Qe||o!==null&&o===Qe}function CT(s,o){yu=np=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function PT(s,o,c){if((c&4194048)!==0){var m=o.lanes;m&=s.pendingLanes,c|=m,o.lanes=c,Ca(s,c)}}var cp={readContext:pr,use:ip,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useLayoutEffect:mn,useInsertionEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useSyncExternalStore:mn,useId:mn,useHostTransitionStatus:mn,useFormState:mn,useActionState:mn,useOptimistic:mn,useMemoCache:mn,useCacheRefresh:mn},OT={readContext:pr,use:ip,useCallback:function(s,o){return Br().memoizedState=[s,o===void 0?null:o],s},useContext:pr,useEffect:mT,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,op(4194308,4,vT.bind(null,o,s),c)},useLayoutEffect:function(s,o){return op(4194308,4,s,o)},useInsertionEffect:function(s,o){op(4,2,s,o)},useMemo:function(s,o){var c=Br();o=o===void 0?null:o;var m=s();if(Zl){Vr(!0);try{s()}finally{Vr(!1)}}return c.memoizedState=[m,o],m},useReducer:function(s,o,c){var m=Br();if(c!==void 0){var v=c(o);if(Zl){Vr(!0);try{c(o)}finally{Vr(!1)}}}else v=o;return m.memoizedState=m.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},m.queue=s,s=s.dispatch=T7.bind(null,Qe,s),[m.memoizedState,s]},useRef:function(s){var o=Br();return s={current:s},o.memoizedState=s},useState:function(s){s=ix(s);var o=s.queue,c=jT.bind(null,Qe,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:sx,useDeferredValue:function(s,o){var c=Br();return ox(c,s,o)},useTransition:function(){var s=ix(!1);return s=ET.bind(null,Qe,s.queue,!0,!1),Br().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var m=Qe,v=Br();if(ht){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),kt===null)throw Error(r(349));(st&124)!==0||ZS(m,o,c)}v.memoizedState=c;var w={value:c,getSnapshot:o};return v.queue=w,mT(eT.bind(null,m,w,s),[s]),m.flags|=2048,xu(9,sp(),JS.bind(null,m,w,c,o),null),c},useId:function(){var s=Br(),o=kt.identifierPrefix;if(ht){var c=bs,m=xs;c=(m&~(1<<32-nr(m)-1)).toString(32)+c,o="«"+o+"R"+c,c=rp++,0<c&&(o+="H"+c.toString(32)),o+="»"}else c=b7++,o="«"+o+"r"+c.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:cx,useFormState:cT,useActionState:cT,useOptimistic:function(s){var o=Br();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=ux.bind(null,Qe,!0,c),c.dispatch=o,[s,o]},useMemoCache:tx,useCacheRefresh:function(){return Br().memoizedState=S7.bind(null,Qe)}},IT={readContext:pr,use:ip,useCallback:bT,useContext:pr,useEffect:pT,useImperativeHandle:xT,useInsertionEffect:gT,useLayoutEffect:yT,useMemo:wT,useReducer:ap,useRef:hT,useState:function(){return ap(Es)},useDebugValue:sx,useDeferredValue:function(s,o){var c=jn();return _T(c,Et.memoizedState,s,o)},useTransition:function(){var s=ap(Es)[0],o=jn().memoizedState;return[typeof s=="boolean"?s:wf(s),o]},useSyncExternalStore:QS,useId:TT,useHostTransitionStatus:cx,useFormState:uT,useActionState:uT,useOptimistic:function(s,o){var c=jn();return rT(c,Et,s,o)},useMemoCache:tx,useCacheRefresh:NT},N7={readContext:pr,use:ip,useCallback:bT,useContext:pr,useEffect:pT,useImperativeHandle:xT,useInsertionEffect:gT,useLayoutEffect:yT,useMemo:wT,useReducer:rx,useRef:hT,useState:function(){return rx(Es)},useDebugValue:sx,useDeferredValue:function(s,o){var c=jn();return Et===null?ox(c,s,o):_T(c,Et.memoizedState,s,o)},useTransition:function(){var s=rx(Es)[0],o=jn().memoizedState;return[typeof s=="boolean"?s:wf(s),o]},useSyncExternalStore:QS,useId:TT,useHostTransitionStatus:cx,useFormState:fT,useActionState:fT,useOptimistic:function(s,o){var c=jn();return Et!==null?rT(c,Et,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:tx,useCacheRefresh:NT},bu=null,Af=0;function up(s){var o=Af;return Af+=1,bu===null&&(bu=[]),FS(bu,s,o)}function Sf(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function dp(s,o){throw o.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function kT(s){var o=s._init;return o(s._payload)}function RT(s){function o(Q,G){if(s){var J=Q.deletions;J===null?(Q.deletions=[G],Q.flags|=16):J.push(G)}}function c(Q,G){if(!s)return null;for(;G!==null;)o(Q,G),G=G.sibling;return null}function m(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function v(Q,G){return Q=vs(Q,G),Q.index=0,Q.sibling=null,Q}function w(Q,G,J){return Q.index=J,s?(J=Q.alternate,J!==null?(J=J.index,J<G?(Q.flags|=67108866,G):J):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function I(Q){return s&&Q.alternate===null&&(Q.flags|=67108866),Q}function M(Q,G,J,fe){return G===null||G.tag!==6?(G=O0(J,Q.mode,fe),G.return=Q,G):(G=v(G,J),G.return=Q,G)}function H(Q,G,J,fe){var je=J.type;return je===A?de(Q,G,J.props.children,fe,J.key):G!==null&&(G.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===O&&kT(je)===G.type)?(G=v(G,J.props),Sf(G,J),G.return=Q,G):(G=Gm(J.type,J.key,J.props,null,Q.mode,fe),Sf(G,J),G.return=Q,G)}function te(Q,G,J,fe){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=I0(J,Q.mode,fe),G.return=Q,G):(G=v(G,J.children||[]),G.return=Q,G)}function de(Q,G,J,fe,je){return G===null||G.tag!==7?(G=ql(J,Q.mode,fe,je),G.return=Q,G):(G=v(G,J),G.return=Q,G)}function pe(Q,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=O0(""+G,Q.mode,J),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return J=Gm(G.type,G.key,G.props,null,Q.mode,J),Sf(J,G),J.return=Q,J;case b:return G=I0(G,Q.mode,J),G.return=Q,G;case O:var fe=G._init;return G=fe(G._payload),pe(Q,G,J)}if(le(G)||q(G))return G=ql(G,Q.mode,J,null),G.return=Q,G;if(typeof G.then=="function")return pe(Q,up(G),J);if(G.$$typeof===j)return pe(Q,Qm(Q,G),J);dp(Q,G)}return null}function ie(Q,G,J,fe){var je=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return je!==null?null:M(Q,G,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return J.key===je?H(Q,G,J,fe):null;case b:return J.key===je?te(Q,G,J,fe):null;case O:return je=J._init,J=je(J._payload),ie(Q,G,J,fe)}if(le(J)||q(J))return je!==null?null:de(Q,G,J,fe,null);if(typeof J.then=="function")return ie(Q,G,up(J),fe);if(J.$$typeof===j)return ie(Q,G,Qm(Q,J),fe);dp(Q,J)}return null}function ae(Q,G,J,fe,je){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Q=Q.get(J)||null,M(G,Q,""+fe,je);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:return Q=Q.get(fe.key===null?J:fe.key)||null,H(G,Q,fe,je);case b:return Q=Q.get(fe.key===null?J:fe.key)||null,te(G,Q,fe,je);case O:var Ze=fe._init;return fe=Ze(fe._payload),ae(Q,G,J,fe,je)}if(le(fe)||q(fe))return Q=Q.get(J)||null,de(G,Q,fe,je,null);if(typeof fe.then=="function")return ae(Q,G,J,up(fe),je);if(fe.$$typeof===j)return ae(Q,G,J,Qm(G,fe),je);dp(G,fe)}return null}function He(Q,G,J,fe){for(var je=null,Ze=null,Ie=G,$e=G=0,Yn=null;Ie!==null&&$e<J.length;$e++){Ie.index>$e?(Yn=Ie,Ie=null):Yn=Ie.sibling;var ut=ie(Q,Ie,J[$e],fe);if(ut===null){Ie===null&&(Ie=Yn);break}s&&Ie&&ut.alternate===null&&o(Q,Ie),G=w(ut,G,$e),Ze===null?je=ut:Ze.sibling=ut,Ze=ut,Ie=Yn}if($e===J.length)return c(Q,Ie),ht&&Kl(Q,$e),je;if(Ie===null){for(;$e<J.length;$e++)Ie=pe(Q,J[$e],fe),Ie!==null&&(G=w(Ie,G,$e),Ze===null?je=Ie:Ze.sibling=Ie,Ze=Ie);return ht&&Kl(Q,$e),je}for(Ie=m(Ie);$e<J.length;$e++)Yn=ae(Ie,Q,$e,J[$e],fe),Yn!==null&&(s&&Yn.alternate!==null&&Ie.delete(Yn.key===null?$e:Yn.key),G=w(Yn,G,$e),Ze===null?je=Yn:Ze.sibling=Yn,Ze=Yn);return s&&Ie.forEach(function(qo){return o(Q,qo)}),ht&&Kl(Q,$e),je}function ze(Q,G,J,fe){if(J==null)throw Error(r(151));for(var je=null,Ze=null,Ie=G,$e=G=0,Yn=null,ut=J.next();Ie!==null&&!ut.done;$e++,ut=J.next()){Ie.index>$e?(Yn=Ie,Ie=null):Yn=Ie.sibling;var qo=ie(Q,Ie,ut.value,fe);if(qo===null){Ie===null&&(Ie=Yn);break}s&&Ie&&qo.alternate===null&&o(Q,Ie),G=w(qo,G,$e),Ze===null?je=qo:Ze.sibling=qo,Ze=qo,Ie=Yn}if(ut.done)return c(Q,Ie),ht&&Kl(Q,$e),je;if(Ie===null){for(;!ut.done;$e++,ut=J.next())ut=pe(Q,ut.value,fe),ut!==null&&(G=w(ut,G,$e),Ze===null?je=ut:Ze.sibling=ut,Ze=ut);return ht&&Kl(Q,$e),je}for(Ie=m(Ie);!ut.done;$e++,ut=J.next())ut=ae(Ie,Q,$e,ut.value,fe),ut!==null&&(s&&ut.alternate!==null&&Ie.delete(ut.key===null?$e:ut.key),G=w(ut,G,$e),Ze===null?je=ut:Ze.sibling=ut,Ze=ut);return s&&Ie.forEach(function(jV){return o(Q,jV)}),ht&&Kl(Q,$e),je}function St(Q,G,J,fe){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case x:e:{for(var je=J.key;G!==null;){if(G.key===je){if(je=J.type,je===A){if(G.tag===7){c(Q,G.sibling),fe=v(G,J.props.children),fe.return=Q,Q=fe;break e}}else if(G.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===O&&kT(je)===G.type){c(Q,G.sibling),fe=v(G,J.props),Sf(fe,J),fe.return=Q,Q=fe;break e}c(Q,G);break}else o(Q,G);G=G.sibling}J.type===A?(fe=ql(J.props.children,Q.mode,fe,J.key),fe.return=Q,Q=fe):(fe=Gm(J.type,J.key,J.props,null,Q.mode,fe),Sf(fe,J),fe.return=Q,Q=fe)}return I(Q);case b:e:{for(je=J.key;G!==null;){if(G.key===je)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){c(Q,G.sibling),fe=v(G,J.children||[]),fe.return=Q,Q=fe;break e}else{c(Q,G);break}else o(Q,G);G=G.sibling}fe=I0(J,Q.mode,fe),fe.return=Q,Q=fe}return I(Q);case O:return je=J._init,J=je(J._payload),St(Q,G,J,fe)}if(le(J))return He(Q,G,J,fe);if(q(J)){if(je=q(J),typeof je!="function")throw Error(r(150));return J=je.call(J),ze(Q,G,J,fe)}if(typeof J.then=="function")return St(Q,G,up(J),fe);if(J.$$typeof===j)return St(Q,G,Qm(Q,J),fe);dp(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(c(Q,G.sibling),fe=v(G,J),fe.return=Q,Q=fe):(c(Q,G),fe=O0(J,Q.mode,fe),fe.return=Q,Q=fe),I(Q)):c(Q,G)}return function(Q,G,J,fe){try{Af=0;var je=St(Q,G,J,fe);return bu=null,je}catch(Ie){if(Ie===pf||Ie===Jm)throw Ie;var Ze=ti(29,Ie,null,Q.mode);return Ze.lanes=fe,Ze.return=Q,Ze}finally{}}}var wu=RT(!0),DT=RT(!1),Ii=X(null),Ra=null;function Co(s){var o=s.alternate;Z(Vn,Vn.current&1),Z(Ii,s),Ra===null&&(o===null||gu.current!==null||o.memoizedState!==null)&&(Ra=s)}function MT(s){if(s.tag===22){if(Z(Vn,Vn.current),Z(Ii,s),Ra===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Ra=s)}}else Po()}function Po(){Z(Vn,Vn.current),Z(Ii,Ii.current)}function As(s){ne(Ii),Ra===s&&(Ra=null),ne(Vn)}var Vn=X(0);function fp(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||eb(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function dx(s,o,c,m){o=s.memoizedState,c=c(m,o),c=c==null?o:p({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var fx={enqueueSetState:function(s,o,c){s=s._reactInternals;var m=ai(),v=To(m);v.payload=o,c!=null&&(v.callback=c),o=No(s,v,m),o!==null&&(si(o,s,m),yf(o,s,m))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var m=ai(),v=To(m);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=No(s,v,m),o!==null&&(si(o,s,m),yf(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=ai(),m=To(c);m.tag=2,o!=null&&(m.callback=o),o=No(s,m,c),o!==null&&(si(o,s,c),yf(o,s,c))}};function LT(s,o,c,m,v,w,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,w,I):o.prototype&&o.prototype.isPureReactComponent?!of(c,m)||!of(v,w):!0}function VT(s,o,c,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==s&&fx.enqueueReplaceState(o,o.state,null)}function Jl(s,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(s=s.defaultProps){c===o&&(c=p({},c));for(var v in s)c[v]===void 0&&(c[v]=s[v])}return c}var hp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function UT(s){hp(s)}function BT(s){console.error(s)}function zT(s){hp(s)}function mp(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function $T(s,o,c){try{var m=s.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function hx(s,o,c){return c=To(c),c.tag=3,c.payload={element:null},c.callback=function(){mp(s,o)},c}function FT(s){return s=To(s),s.tag=3,s}function qT(s,o,c,m){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var w=m.value;s.payload=function(){return v(w)},s.callback=function(){$T(o,c,m)}}var I=c.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){$T(o,c,m),typeof v!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var M=m.stack;this.componentDidCatch(m.value,{componentStack:M!==null?M:""})})}function j7(s,o,c,m,v){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&ff(o,c,v,!0),c=Ii.current,c!==null){switch(c.tag){case 13:return Ra===null?Lx():c.alternate===null&&cn===0&&(cn=3),c.flags&=-257,c.flags|=65536,c.lanes=v,m===$0?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),Ux(s,m,v)),!1;case 22:return c.flags|=65536,m===$0?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),Ux(s,m,v)),!1}throw Error(r(435,c.tag))}return Ux(s,m,v),Lx(),!1}if(ht)return o=Ii.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==D0&&(s=Error(r(422),{cause:m}),df(ji(s,c)))):(m!==D0&&(o=Error(r(423),{cause:m}),df(ji(o,c))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,m=ji(m,c),v=hx(s.stateNode,m,v),H0(s,v),cn!==4&&(cn=2)),!1;var w=Error(r(520),{cause:m});if(w=ji(w,c),If===null?If=[w]:If.push(w),cn!==4&&(cn=2),o===null)return!0;m=ji(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=v&-v,c.lanes|=s,s=hx(c.stateNode,m,s),H0(c,s),!1;case 1:if(o=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Mo===null||!Mo.has(w))))return c.flags|=65536,v&=-v,c.lanes|=v,v=FT(v),qT(v,s,c,m),H0(c,v),!1}c=c.return}while(c!==null);return!1}var HT=Error(r(461)),Gn=!1;function rr(s,o,c,m){o.child=s===null?DT(o,null,c,m):wu(o,s.child,c,m)}function KT(s,o,c,m,v){c=c.render;var w=o.ref;if("ref"in m){var I={};for(var M in m)M!=="ref"&&(I[M]=m[M])}else I=m;return Xl(o),m=X0(s,o,c,I,w,v),M=Q0(),s!==null&&!Gn?(Z0(s,o,v),Ss(s,o,v)):(ht&&M&&k0(o),o.flags|=1,rr(s,o,m,v),o.child)}function GT(s,o,c,m,v){if(s===null){var w=c.type;return typeof w=="function"&&!P0(w)&&w.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=w,WT(s,o,w,m,v)):(s=Gm(c.type,null,m,o,o.mode,v),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!wx(s,v)){var I=w.memoizedProps;if(c=c.compare,c=c!==null?c:of,c(I,m)&&s.ref===o.ref)return Ss(s,o,v)}return o.flags|=1,s=vs(w,m),s.ref=o.ref,s.return=o,o.child=s}function WT(s,o,c,m,v){if(s!==null){var w=s.memoizedProps;if(of(w,m)&&s.ref===o.ref)if(Gn=!1,o.pendingProps=m=w,wx(s,v))(s.flags&131072)!==0&&(Gn=!0);else return o.lanes=s.lanes,Ss(s,o,v)}return mx(s,o,c,m,v)}function YT(s,o,c){var m=o.pendingProps,v=m.children,w=s!==null?s.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=w!==null?w.baseLanes|c:c,s!==null){for(v=o.child=s.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;o.childLanes=w&~m}else o.childLanes=0,o.child=null;return XT(s,o,m,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Zm(o,w!==null?w.cachePool:null),w!==null?WS(o,w):G0(),MT(o);else return o.lanes=o.childLanes=536870912,XT(s,o,w!==null?w.baseLanes|c:c,c)}else w!==null?(Zm(o,w.cachePool),WS(o,w),Po(),o.memoizedState=null):(s!==null&&Zm(o,null),G0(),Po());return rr(s,o,v,c),o.child}function XT(s,o,c,m){var v=z0();return v=v===null?null:{parent:Ln._currentValue,pool:v},o.memoizedState={baseLanes:c,cachePool:v},s!==null&&Zm(o,null),G0(),MT(o),s!==null&&ff(s,o,m,!0),null}function pp(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function mx(s,o,c,m,v){return Xl(o),c=X0(s,o,c,m,void 0,v),m=Q0(),s!==null&&!Gn?(Z0(s,o,v),Ss(s,o,v)):(ht&&m&&k0(o),o.flags|=1,rr(s,o,c,v),o.child)}function QT(s,o,c,m,v,w){return Xl(o),o.updateQueue=null,c=XS(o,m,c,v),YS(s),m=Q0(),s!==null&&!Gn?(Z0(s,o,w),Ss(s,o,w)):(ht&&m&&k0(o),o.flags|=1,rr(s,o,c,w),o.child)}function ZT(s,o,c,m,v){if(Xl(o),o.stateNode===null){var w=du,I=c.contextType;typeof I=="object"&&I!==null&&(w=pr(I)),w=new c(m,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=fx,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=m,w.state=o.memoizedState,w.refs={},F0(o),I=c.contextType,w.context=typeof I=="object"&&I!==null?pr(I):du,w.state=o.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(dx(o,c,I,m),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(I=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),I!==w.state&&fx.enqueueReplaceState(w,w.state,null),xf(o,m,w,v),vf(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(s===null){w=o.stateNode;var M=o.memoizedProps,H=Jl(c,M);w.props=H;var te=w.context,de=c.contextType;I=du,typeof de=="object"&&de!==null&&(I=pr(de));var pe=c.getDerivedStateFromProps;de=typeof pe=="function"||typeof w.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,de||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M||te!==I)&&VT(o,w,m,I),So=!1;var ie=o.memoizedState;w.state=ie,xf(o,m,w,v),vf(),te=o.memoizedState,M||ie!==te||So?(typeof pe=="function"&&(dx(o,c,pe,m),te=o.memoizedState),(H=So||LT(o,c,H,m,ie,te,I))?(de||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=te),w.props=m,w.state=te,w.context=I,m=H):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{w=o.stateNode,q0(s,o),I=o.memoizedProps,de=Jl(c,I),w.props=de,pe=o.pendingProps,ie=w.context,te=c.contextType,H=du,typeof te=="object"&&te!==null&&(H=pr(te)),M=c.getDerivedStateFromProps,(te=typeof M=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==pe||ie!==H)&&VT(o,w,m,H),So=!1,ie=o.memoizedState,w.state=ie,xf(o,m,w,v),vf();var ae=o.memoizedState;I!==pe||ie!==ae||So||s!==null&&s.dependencies!==null&&Xm(s.dependencies)?(typeof M=="function"&&(dx(o,c,M,m),ae=o.memoizedState),(de=So||LT(o,c,de,m,ie,ae,H)||s!==null&&s.dependencies!==null&&Xm(s.dependencies))?(te||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,ae,H),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,ae,H)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ae),w.props=m,w.state=ae,w.context=H,m=de):(typeof w.componentDidUpdate!="function"||I===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),m=!1)}return w=m,pp(s,o),m=(o.flags&128)!==0,w||m?(w=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,s!==null&&m?(o.child=wu(o,s.child,null,v),o.child=wu(o,null,c,v)):rr(s,o,c,v),o.memoizedState=w.state,s=o.child):s=Ss(s,o,v),s}function JT(s,o,c,m){return uf(),o.flags|=256,rr(s,o,c,m),o.child}var px={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gx(s){return{baseLanes:s,cachePool:BS()}}function yx(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=ki),s}function eN(s,o,c){var m=o.pendingProps,v=!1,w=(o.flags&128)!==0,I;if((I=w)||(I=s!==null&&s.memoizedState===null?!1:(Vn.current&2)!==0),I&&(v=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,s===null){if(ht){if(v?Co(o):Po(),ht){var M=ln,H;if(H=M){e:{for(H=M,M=ka;H.nodeType!==8;){if(!M){M=null;break e}if(H=ca(H.nextSibling),H===null){M=null;break e}}M=H}M!==null?(o.memoizedState={dehydrated:M,treeContext:Hl!==null?{id:xs,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},H=ti(18,null,null,0),H.stateNode=M,H.return=o,o.child=H,Ir=o,ln=null,H=!0):H=!1}H||Wl(o)}if(M=o.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return eb(M)?o.lanes=32:o.lanes=536870912,null;As(o)}return M=m.children,m=m.fallback,v?(Po(),v=o.mode,M=gp({mode:"hidden",children:M},v),m=ql(m,v,c,null),M.return=o,m.return=o,M.sibling=m,o.child=M,v=o.child,v.memoizedState=gx(c),v.childLanes=yx(s,I,c),o.memoizedState=px,m):(Co(o),vx(o,M))}if(H=s.memoizedState,H!==null&&(M=H.dehydrated,M!==null)){if(w)o.flags&256?(Co(o),o.flags&=-257,o=xx(s,o,c)):o.memoizedState!==null?(Po(),o.child=s.child,o.flags|=128,o=null):(Po(),v=m.fallback,M=o.mode,m=gp({mode:"visible",children:m.children},M),v=ql(v,M,c,null),v.flags|=2,m.return=o,v.return=o,m.sibling=v,o.child=m,wu(o,s.child,null,c),m=o.child,m.memoizedState=gx(c),m.childLanes=yx(s,I,c),o.memoizedState=px,o=v);else if(Co(o),eb(M)){if(I=M.nextSibling&&M.nextSibling.dataset,I)var te=I.dgst;I=te,m=Error(r(419)),m.stack="",m.digest=I,df({value:m,source:null,stack:null}),o=xx(s,o,c)}else if(Gn||ff(s,o,c,!1),I=(c&s.childLanes)!==0,Gn||I){if(I=kt,I!==null&&(m=c&-c,m=(m&42)!==0?1:po(m),m=(m&(I.suspendedLanes|c))!==0?0:m,m!==0&&m!==H.retryLane))throw H.retryLane=m,uu(s,m),si(I,s,m),HT;M.data==="$?"||Lx(),o=xx(s,o,c)}else M.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=H.treeContext,ln=ca(M.nextSibling),Ir=o,ht=!0,Gl=null,ka=!1,s!==null&&(Pi[Oi++]=xs,Pi[Oi++]=bs,Pi[Oi++]=Hl,xs=s.id,bs=s.overflow,Hl=o),o=vx(o,m.children),o.flags|=4096);return o}return v?(Po(),v=m.fallback,M=o.mode,H=s.child,te=H.sibling,m=vs(H,{mode:"hidden",children:m.children}),m.subtreeFlags=H.subtreeFlags&65011712,te!==null?v=vs(te,v):(v=ql(v,M,c,null),v.flags|=2),v.return=o,m.return=o,m.sibling=v,o.child=m,m=v,v=o.child,M=s.child.memoizedState,M===null?M=gx(c):(H=M.cachePool,H!==null?(te=Ln._currentValue,H=H.parent!==te?{parent:te,pool:te}:H):H=BS(),M={baseLanes:M.baseLanes|c,cachePool:H}),v.memoizedState=M,v.childLanes=yx(s,I,c),o.memoizedState=px,m):(Co(o),c=s.child,s=c.sibling,c=vs(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,s!==null&&(I=o.deletions,I===null?(o.deletions=[s],o.flags|=16):I.push(s)),o.child=c,o.memoizedState=null,c)}function vx(s,o){return o=gp({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function gp(s,o){return s=ti(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function xx(s,o,c){return wu(o,s.child,null,c),s=vx(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function tN(s,o,c){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),L0(s.return,o,c)}function bx(s,o,c,m,v){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:v}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=c,w.tailMode=v)}function nN(s,o,c){var m=o.pendingProps,v=m.revealOrder,w=m.tail;if(rr(s,o,m.children,c),m=Vn.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tN(s,c,o);else if(s.tag===19)tN(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}switch(Z(Vn,m),v){case"forwards":for(c=o.child,v=null;c!==null;)s=c.alternate,s!==null&&fp(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),bx(o,!1,v,c,w);break;case"backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(s=v.alternate,s!==null&&fp(s)===null){o.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}bx(o,!0,c,null,w);break;case"together":bx(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ss(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Do|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(ff(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,c=vs(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=vs(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function wx(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Xm(s)))}function C7(s,o,c){switch(o.tag){case 3:Ke(o,o.stateNode.containerInfo),Ao(o,Ln,s.memoizedState.cache),uf();break;case 27:case 5:Ve(o);break;case 4:Ke(o,o.stateNode.containerInfo);break;case 10:Ao(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Co(o),o.flags|=128,null):(c&o.child.childLanes)!==0?eN(s,o,c):(Co(o),s=Ss(s,o,c),s!==null?s.sibling:null);Co(o);break;case 19:var v=(s.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(ff(s,o,c,!1),m=(c&o.childLanes)!==0),v){if(m)return nN(s,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Z(Vn,Vn.current),m)break;return null;case 22:case 23:return o.lanes=0,YT(s,o,c);case 24:Ao(o,Ln,s.memoizedState.cache)}return Ss(s,o,c)}function rN(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)Gn=!0;else{if(!wx(s,c)&&(o.flags&128)===0)return Gn=!1,C7(s,o,c);Gn=(s.flags&131072)!==0}else Gn=!1,ht&&(o.flags&1048576)!==0&&kS(o,Ym,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var m=o.elementType,v=m._init;if(m=v(m._payload),o.type=m,typeof m=="function")P0(m)?(s=Jl(m,s),o.tag=1,o=ZT(null,o,m,s,c)):(o.tag=0,o=mx(null,o,m,s,c));else{if(m!=null){if(v=m.$$typeof,v===L){o.tag=11,o=KT(null,o,m,s,c);break e}else if(v===k){o.tag=14,o=GT(null,o,m,s,c);break e}}throw o=ve(m)||m,Error(r(306,o,""))}}return o;case 0:return mx(s,o,o.type,o.pendingProps,c);case 1:return m=o.type,v=Jl(m,o.pendingProps),ZT(s,o,m,v,c);case 3:e:{if(Ke(o,o.stateNode.containerInfo),s===null)throw Error(r(387));m=o.pendingProps;var w=o.memoizedState;v=w.element,q0(s,o),xf(o,m,null,c);var I=o.memoizedState;if(m=I.cache,Ao(o,Ln,m),m!==w.cache&&V0(o,[Ln],c,!0),vf(),m=I.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=JT(s,o,m,c);break e}else if(m!==v){v=ji(Error(r(424)),o),df(v),o=JT(s,o,m,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ln=ca(s.firstChild),Ir=o,ht=!0,Gl=null,ka=!0,c=DT(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(uf(),m===v){o=Ss(s,o,c);break e}rr(s,o,m,c)}o=o.child}return o;case 26:return pp(s,o),s===null?(c=oj(o.type,null,o.pendingProps,null))?o.memoizedState=c:ht||(c=o.type,s=o.pendingProps,m=Pp(be.current).createElement(c),m[en]=o,m[Dn]=s,ar(m,c,s),nn(m),o.stateNode=m):o.memoizedState=oj(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Ve(o),s===null&&ht&&(m=o.stateNode=ij(o.type,o.pendingProps,be.current),Ir=o,ka=!0,v=ln,Uo(o.type)?(tb=v,ln=ca(m.firstChild)):ln=v),rr(s,o,o.pendingProps.children,c),pp(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&ht&&((v=m=ln)&&(m=rV(m,o.type,o.pendingProps,ka),m!==null?(o.stateNode=m,Ir=o,ln=ca(m.firstChild),ka=!1,v=!0):v=!1),v||Wl(o)),Ve(o),v=o.type,w=o.pendingProps,I=s!==null?s.memoizedProps:null,m=w.children,Qx(v,w)?m=null:I!==null&&Qx(v,I)&&(o.flags|=32),o.memoizedState!==null&&(v=X0(s,o,w7,null,null,c),zf._currentValue=v),pp(s,o),rr(s,o,m,c),o.child;case 6:return s===null&&ht&&((s=c=ln)&&(c=iV(c,o.pendingProps,ka),c!==null?(o.stateNode=c,Ir=o,ln=null,s=!0):s=!1),s||Wl(o)),null;case 13:return eN(s,o,c);case 4:return Ke(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=wu(o,null,m,c):rr(s,o,m,c),o.child;case 11:return KT(s,o,o.type,o.pendingProps,c);case 7:return rr(s,o,o.pendingProps,c),o.child;case 8:return rr(s,o,o.pendingProps.children,c),o.child;case 12:return rr(s,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,Ao(o,o.type,m.value),rr(s,o,m.children,c),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,Xl(o),v=pr(v),m=m(v),o.flags|=1,rr(s,o,m,c),o.child;case 14:return GT(s,o,o.type,o.pendingProps,c);case 15:return WT(s,o,o.type,o.pendingProps,c);case 19:return nN(s,o,c);case 31:return m=o.pendingProps,c=o.mode,m={mode:m.mode,children:m.children},s===null?(c=gp(m,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=vs(s.child,m),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return YT(s,o,c);case 24:return Xl(o),m=pr(Ln),s===null?(v=z0(),v===null&&(v=kt,w=U0(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=c),v=w),o.memoizedState={parent:m,cache:v},F0(o),Ao(o,Ln,v)):((s.lanes&c)!==0&&(q0(s,o),xf(o,null,null,c),vf()),v=s.memoizedState,w=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Ao(o,Ln,m)):(m=w.cache,Ao(o,Ln,m),m!==v.cache&&V0(o,[Ln],c,!0))),rr(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ts(s){s.flags|=4}function iN(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!fj(o)){if(o=Ii.current,o!==null&&((st&4194048)===st?Ra!==null:(st&62914560)!==st&&(st&536870912)===0||o!==Ra))throw gf=$0,zS;s.flags|=8192}}function yp(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Na():536870912,s.lanes|=o,Su|=o)}function Tf(s,o){if(!ht)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function an(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,m=0;if(o)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=m,s.childLanes=c,o}function P7(s,o,c){var m=o.pendingProps;switch(R0(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(o),null;case 1:return an(o),null;case 3:return c=o.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),_s(Ln),_e(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(cf(o)?Ts(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,MS())),an(o),null;case 26:return c=o.memoizedState,s===null?(Ts(o),c!==null?(an(o),iN(o,c)):(an(o),o.flags&=-16777217)):c?c!==s.memoizedState?(Ts(o),an(o),iN(o,c)):(an(o),o.flags&=-16777217):(s.memoizedProps!==m&&Ts(o),an(o),o.flags&=-16777217),null;case 27:Ne(o),c=be.current;var v=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==m&&Ts(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return an(o),null}s=oe.current,cf(o)?RS(o):(s=ij(v,m,c),o.stateNode=s,Ts(o))}return an(o),null;case 5:if(Ne(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==m&&Ts(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return an(o),null}if(s=oe.current,cf(o))RS(o);else{switch(v=Pp(be.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof m.is=="string"?v.createElement("select",{is:m.is}):v.createElement("select"),m.multiple?s.multiple=!0:m.size&&(s.size=m.size);break;default:s=typeof m.is=="string"?v.createElement(c,{is:m.is}):v.createElement(c)}}s[en]=o,s[Dn]=m;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=s;e:switch(ar(s,c,m),c){case"button":case"input":case"select":case"textarea":s=!!m.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ts(o)}}return an(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==m&&Ts(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(s=be.current,cf(o)){if(s=o.stateNode,c=o.memoizedProps,m=null,v=Ir,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}s[en]=o,s=!!(s.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||QN(s.nodeValue,c)),s||Wl(o)}else s=Pp(s).createTextNode(m),s[en]=o,o.stateNode=s}return an(o),null;case 13:if(m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=cf(o),m!==null&&m.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[en]=o}else uf(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;an(o),v=!1}else v=MS(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(As(o),o):(As(o),null)}if(As(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=m!==null,s=s!==null&&s.memoizedState!==null,c){m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool);var w=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==v&&(m.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),yp(o,o.updateQueue),an(o),null;case 4:return _e(),s===null&&Kx(o.stateNode.containerInfo),an(o),null;case 10:return _s(o.type),an(o),null;case 19:if(ne(Vn),v=o.memoizedState,v===null)return an(o),null;if(m=(o.flags&128)!==0,w=v.rendering,w===null)if(m)Tf(v,!1);else{if(cn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(w=fp(s),w!==null){for(o.flags|=128,Tf(v,!1),s=w.updateQueue,o.updateQueue=s,yp(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)IS(c,s),c=c.sibling;return Z(Vn,Vn.current&1|2),o.child}s=s.sibling}v.tail!==null&&Vt()>bp&&(o.flags|=128,m=!0,Tf(v,!1),o.lanes=4194304)}else{if(!m)if(s=fp(w),s!==null){if(o.flags|=128,m=!0,s=s.updateQueue,o.updateQueue=s,yp(o,s),Tf(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!ht)return an(o),null}else 2*Vt()-v.renderingStartTime>bp&&c!==536870912&&(o.flags|=128,m=!0,Tf(v,!1),o.lanes=4194304);v.isBackwards?(w.sibling=o.child,o.child=w):(s=v.last,s!==null?s.sibling=w:o.child=w,v.last=w)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Vt(),o.sibling=null,s=Vn.current,Z(Vn,m?s&1|2:s&1),o):(an(o),null);case 22:case 23:return As(o),W0(),m=o.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(an(o),o.subtreeFlags&6&&(o.flags|=8192)):an(o),c=o.updateQueue,c!==null&&yp(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),s!==null&&ne(Ql),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),_s(Ln),an(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function O7(s,o){switch(R0(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return _s(Ln),_e(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Ne(o),null;case 13:if(As(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));uf()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ne(Vn),null;case 4:return _e(),null;case 10:return _s(o.type),null;case 22:case 23:return As(o),W0(),s!==null&&ne(Ql),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return _s(Ln),null;case 25:return null;default:return null}}function aN(s,o){switch(R0(o),o.tag){case 3:_s(Ln),_e();break;case 26:case 27:case 5:Ne(o);break;case 4:_e();break;case 13:As(o);break;case 19:ne(Vn);break;case 10:_s(o.type);break;case 22:case 23:As(o),W0(),s!==null&&ne(Ql);break;case 24:_s(Ln)}}function Nf(s,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&s)===s){m=void 0;var w=c.create,I=c.inst;m=w(),I.destroy=m}c=c.next}while(c!==v)}}catch(M){Ct(o,o.return,M)}}function Oo(s,o,c){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var w=v.next;m=w;do{if((m.tag&s)===s){var I=m.inst,M=I.destroy;if(M!==void 0){I.destroy=void 0,v=o;var H=c,te=M;try{te()}catch(de){Ct(v,H,de)}}}m=m.next}while(m!==w)}}catch(de){Ct(o,o.return,de)}}function sN(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{GS(o,c)}catch(m){Ct(s,s.return,m)}}}function oN(s,o,c){c.props=Jl(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(m){Ct(s,o,m)}}function jf(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof c=="function"?s.refCleanup=c(m):c.current=m}}catch(v){Ct(s,o,v)}}function Da(s,o){var c=s.ref,m=s.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(v){Ct(s,o,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Ct(s,o,v)}else c.current=null}function lN(s){var o=s.type,c=s.memoizedProps,m=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(v){Ct(s,s.return,v)}}function _x(s,o,c){try{var m=s.stateNode;Z7(m,s.type,c,o),m[Dn]=o}catch(v){Ct(s,s.return,v)}}function cN(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Uo(s.type)||s.tag===4}function Ex(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||cN(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Uo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ax(s,o,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Cp));else if(m!==4&&(m===27&&Uo(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(Ax(s,o,c),s=s.sibling;s!==null;)Ax(s,o,c),s=s.sibling}function vp(s,o,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(m!==4&&(m===27&&Uo(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(vp(s,o,c),s=s.sibling;s!==null;)vp(s,o,c),s=s.sibling}function uN(s){var o=s.stateNode,c=s.memoizedProps;try{for(var m=s.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);ar(o,m,c),o[en]=s,o[Dn]=c}catch(w){Ct(s,s.return,w)}}var Ns=!1,pn=!1,Sx=!1,dN=typeof WeakSet=="function"?WeakSet:Set,Wn=null;function I7(s,o){if(s=s.containerInfo,Yx=Mp,s=_S(s),E0(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var v=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var I=0,M=-1,H=-1,te=0,de=0,pe=s,ie=null;t:for(;;){for(var ae;pe!==c||v!==0&&pe.nodeType!==3||(M=I+v),pe!==w||m!==0&&pe.nodeType!==3||(H=I+m),pe.nodeType===3&&(I+=pe.nodeValue.length),(ae=pe.firstChild)!==null;)ie=pe,pe=ae;for(;;){if(pe===s)break t;if(ie===c&&++te===v&&(M=I),ie===w&&++de===m&&(H=I),(ae=pe.nextSibling)!==null)break;pe=ie,ie=pe.parentNode}pe=ae}c=M===-1||H===-1?null:{start:M,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(Xx={focusedElem:s,selectionRange:c},Mp=!1,Wn=o;Wn!==null;)if(o=Wn,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Wn=s;else for(;Wn!==null;){switch(o=Wn,w=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,c=o,v=w.memoizedProps,w=w.memoizedState,m=c.stateNode;try{var He=Jl(c.type,v,c.elementType===c.type);s=m.getSnapshotBeforeUpdate(He,w),m.__reactInternalSnapshotBeforeUpdate=s}catch(ze){Ct(c,c.return,ze)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)Jx(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Jx(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,Wn=s;break}Wn=o.return}}function fN(s,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Io(s,c),m&4&&Nf(5,c);break;case 1:if(Io(s,c),m&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(I){Ct(c,c.return,I)}else{var v=Jl(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(v,o,s.__reactInternalSnapshotBeforeUpdate)}catch(I){Ct(c,c.return,I)}}m&64&&sN(c),m&512&&jf(c,c.return);break;case 3:if(Io(s,c),m&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{GS(s,o)}catch(I){Ct(c,c.return,I)}}break;case 27:o===null&&m&4&&uN(c);case 26:case 5:Io(s,c),o===null&&m&4&&lN(c),m&512&&jf(c,c.return);break;case 12:Io(s,c);break;case 13:Io(s,c),m&4&&pN(s,c),m&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=z7.bind(null,c),aV(s,c))));break;case 22:if(m=c.memoizedState!==null||Ns,!m){o=o!==null&&o.memoizedState!==null||pn,v=Ns;var w=pn;Ns=m,(pn=o)&&!w?ko(s,c,(c.subtreeFlags&8772)!==0):Io(s,c),Ns=v,pn=w}break;case 30:break;default:Io(s,c)}}function hN(s){var o=s.alternate;o!==null&&(s.alternate=null,hN(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&ta(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ht=null,zr=!1;function js(s,o,c){for(c=c.child;c!==null;)mN(s,o,c),c=c.sibling}function mN(s,o,c){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Qr,c)}catch{}switch(c.tag){case 26:pn||Da(c,o),js(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:pn||Da(c,o);var m=Ht,v=zr;Uo(c.type)&&(Ht=c.stateNode,zr=!1),js(s,o,c),Lf(c.stateNode),Ht=m,zr=v;break;case 5:pn||Da(c,o);case 6:if(m=Ht,v=zr,Ht=null,js(s,o,c),Ht=m,zr=v,Ht!==null)if(zr)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(c.stateNode)}catch(w){Ct(c,o,w)}else try{Ht.removeChild(c.stateNode)}catch(w){Ct(c,o,w)}break;case 18:Ht!==null&&(zr?(s=Ht,nj(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Hf(s)):nj(Ht,c.stateNode));break;case 4:m=Ht,v=zr,Ht=c.stateNode.containerInfo,zr=!0,js(s,o,c),Ht=m,zr=v;break;case 0:case 11:case 14:case 15:pn||Oo(2,c,o),pn||Oo(4,c,o),js(s,o,c);break;case 1:pn||(Da(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&oN(c,o,m)),js(s,o,c);break;case 21:js(s,o,c);break;case 22:pn=(m=pn)||c.memoizedState!==null,js(s,o,c),pn=m;break;default:js(s,o,c)}}function pN(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Hf(s)}catch(c){Ct(o,o.return,c)}}function k7(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new dN),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new dN),o;default:throw Error(r(435,s.tag))}}function Tx(s,o){var c=k7(s);o.forEach(function(m){var v=$7.bind(null,s,m);c.has(m)||(c.add(m),m.then(v,v))})}function ni(s,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var v=c[m],w=s,I=o,M=I;e:for(;M!==null;){switch(M.tag){case 27:if(Uo(M.type)){Ht=M.stateNode,zr=!1;break e}break;case 5:Ht=M.stateNode,zr=!1;break e;case 3:case 4:Ht=M.stateNode.containerInfo,zr=!0;break e}M=M.return}if(Ht===null)throw Error(r(160));mN(w,I,v),Ht=null,zr=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)gN(o,s),o=o.sibling}var la=null;function gN(s,o){var c=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ni(o,s),ri(s),m&4&&(Oo(3,s,s.return),Nf(3,s),Oo(5,s,s.return));break;case 1:ni(o,s),ri(s),m&512&&(pn||c===null||Da(c,c.return)),m&64&&Ns&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var v=la;if(ni(o,s),ri(s),m&512&&(pn||c===null||Da(c,c.return)),m&4){var w=c!==null?c.memoizedState:null;if(m=s.memoizedState,c===null)if(m===null)if(s.stateNode===null){e:{m=s.type,c=s.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":w=v.getElementsByTagName("title")[0],(!w||w[fr]||w[en]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(m),v.head.insertBefore(w,v.querySelector("head > title"))),ar(w,m,c),w[en]=s,nn(w),m=w;break e;case"link":var I=uj("link","href",v).get(m+(c.href||""));if(I){for(var M=0;M<I.length;M++)if(w=I[M],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){I.splice(M,1);break t}}w=v.createElement(m),ar(w,m,c),v.head.appendChild(w);break;case"meta":if(I=uj("meta","content",v).get(m+(c.content||""))){for(M=0;M<I.length;M++)if(w=I[M],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){I.splice(M,1);break t}}w=v.createElement(m),ar(w,m,c),v.head.appendChild(w);break;default:throw Error(r(468,m))}w[en]=s,nn(w),m=w}s.stateNode=m}else dj(v,s.type,s.stateNode);else s.stateNode=cj(v,m,s.memoizedProps);else w!==m?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,m===null?dj(v,s.type,s.stateNode):cj(v,m,s.memoizedProps)):m===null&&s.stateNode!==null&&_x(s,s.memoizedProps,c.memoizedProps)}break;case 27:ni(o,s),ri(s),m&512&&(pn||c===null||Da(c,c.return)),c!==null&&m&4&&_x(s,s.memoizedProps,c.memoizedProps);break;case 5:if(ni(o,s),ri(s),m&512&&(pn||c===null||Da(c,c.return)),s.flags&32){v=s.stateNode;try{Ti(v,"")}catch(ae){Ct(s,s.return,ae)}}m&4&&s.stateNode!=null&&(v=s.memoizedProps,_x(s,v,c!==null?c.memoizedProps:v)),m&1024&&(Sx=!0);break;case 6:if(ni(o,s),ri(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,c=s.stateNode;try{c.nodeValue=m}catch(ae){Ct(s,s.return,ae)}}break;case 3:if(kp=null,v=la,la=Op(o.containerInfo),ni(o,s),la=v,ri(s),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Hf(o.containerInfo)}catch(ae){Ct(s,s.return,ae)}Sx&&(Sx=!1,yN(s));break;case 4:m=la,la=Op(s.stateNode.containerInfo),ni(o,s),ri(s),la=m;break;case 12:ni(o,s),ri(s);break;case 13:ni(o,s),ri(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ix=Vt()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Tx(s,m)));break;case 22:v=s.memoizedState!==null;var H=c!==null&&c.memoizedState!==null,te=Ns,de=pn;if(Ns=te||v,pn=de||H,ni(o,s),pn=de,Ns=te,ri(s),m&8192)e:for(o=s.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(c===null||H||Ns||pn||ec(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){H=c=o;try{if(w=H.stateNode,v)I=w.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{M=H.stateNode;var pe=H.memoizedProps.style,ie=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;M.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(ae){Ct(H,H.return,ae)}}}else if(o.tag===6){if(c===null){H=o;try{H.stateNode.nodeValue=v?"":H.memoizedProps}catch(ae){Ct(H,H.return,ae)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=s.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Tx(s,c))));break;case 19:ni(o,s),ri(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Tx(s,m)));break;case 30:break;case 21:break;default:ni(o,s),ri(s)}}function ri(s){var o=s.flags;if(o&2){try{for(var c,m=s.return;m!==null;){if(cN(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,w=Ex(s);vp(s,w,v);break;case 5:var I=c.stateNode;c.flags&32&&(Ti(I,""),c.flags&=-33);var M=Ex(s);vp(s,M,I);break;case 3:case 4:var H=c.stateNode.containerInfo,te=Ex(s);Ax(s,te,H);break;default:throw Error(r(161))}}catch(de){Ct(s,s.return,de)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function yN(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;yN(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Io(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)fN(s,o.alternate,o),o=o.sibling}function ec(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Oo(4,o,o.return),ec(o);break;case 1:Da(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&oN(o,o.return,c),ec(o);break;case 27:Lf(o.stateNode);case 26:case 5:Da(o,o.return),ec(o);break;case 22:o.memoizedState===null&&ec(o);break;case 30:ec(o);break;default:ec(o)}s=s.sibling}}function ko(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=s,w=o,I=w.flags;switch(w.tag){case 0:case 11:case 15:ko(v,w,c),Nf(4,w);break;case 1:if(ko(v,w,c),m=w,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(te){Ct(m,m.return,te)}if(m=w,v=m.updateQueue,v!==null){var M=m.stateNode;try{var H=v.shared.hiddenCallbacks;if(H!==null)for(v.shared.hiddenCallbacks=null,v=0;v<H.length;v++)KS(H[v],M)}catch(te){Ct(m,m.return,te)}}c&&I&64&&sN(w),jf(w,w.return);break;case 27:uN(w);case 26:case 5:ko(v,w,c),c&&m===null&&I&4&&lN(w),jf(w,w.return);break;case 12:ko(v,w,c);break;case 13:ko(v,w,c),c&&I&4&&pN(v,w);break;case 22:w.memoizedState===null&&ko(v,w,c),jf(w,w.return);break;case 30:break;default:ko(v,w,c)}o=o.sibling}}function Nx(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&hf(c))}function jx(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&hf(s))}function Ma(s,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)vN(s,o,c,m),o=o.sibling}function vN(s,o,c,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Ma(s,o,c,m),v&2048&&Nf(9,o);break;case 1:Ma(s,o,c,m);break;case 3:Ma(s,o,c,m),v&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&hf(s)));break;case 12:if(v&2048){Ma(s,o,c,m),s=o.stateNode;try{var w=o.memoizedProps,I=w.id,M=w.onPostCommit;typeof M=="function"&&M(I,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(H){Ct(o,o.return,H)}}else Ma(s,o,c,m);break;case 13:Ma(s,o,c,m);break;case 23:break;case 22:w=o.stateNode,I=o.alternate,o.memoizedState!==null?w._visibility&2?Ma(s,o,c,m):Cf(s,o):w._visibility&2?Ma(s,o,c,m):(w._visibility|=2,_u(s,o,c,m,(o.subtreeFlags&10256)!==0)),v&2048&&Nx(I,o);break;case 24:Ma(s,o,c,m),v&2048&&jx(o.alternate,o);break;default:Ma(s,o,c,m)}}function _u(s,o,c,m,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=s,I=o,M=c,H=m,te=I.flags;switch(I.tag){case 0:case 11:case 15:_u(w,I,M,H,v),Nf(8,I);break;case 23:break;case 22:var de=I.stateNode;I.memoizedState!==null?de._visibility&2?_u(w,I,M,H,v):Cf(w,I):(de._visibility|=2,_u(w,I,M,H,v)),v&&te&2048&&Nx(I.alternate,I);break;case 24:_u(w,I,M,H,v),v&&te&2048&&jx(I.alternate,I);break;default:_u(w,I,M,H,v)}o=o.sibling}}function Cf(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,m=o,v=m.flags;switch(m.tag){case 22:Cf(c,m),v&2048&&Nx(m.alternate,m);break;case 24:Cf(c,m),v&2048&&jx(m.alternate,m);break;default:Cf(c,m)}o=o.sibling}}var Pf=8192;function Eu(s){if(s.subtreeFlags&Pf)for(s=s.child;s!==null;)xN(s),s=s.sibling}function xN(s){switch(s.tag){case 26:Eu(s),s.flags&Pf&&s.memoizedState!==null&&vV(la,s.memoizedState,s.memoizedProps);break;case 5:Eu(s);break;case 3:case 4:var o=la;la=Op(s.stateNode.containerInfo),Eu(s),la=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Pf,Pf=16777216,Eu(s),Pf=o):Eu(s));break;default:Eu(s)}}function bN(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Of(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Wn=m,_N(m,s)}bN(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)wN(s),s=s.sibling}function wN(s){switch(s.tag){case 0:case 11:case 15:Of(s),s.flags&2048&&Oo(9,s,s.return);break;case 3:Of(s);break;case 12:Of(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,xp(s)):Of(s);break;default:Of(s)}}function xp(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Wn=m,_N(m,s)}bN(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Oo(8,o,o.return),xp(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,xp(o));break;default:xp(o)}s=s.sibling}}function _N(s,o){for(;Wn!==null;){var c=Wn;switch(c.tag){case 0:case 11:case 15:Oo(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:hf(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Wn=m;else e:for(c=s;Wn!==null;){m=Wn;var v=m.sibling,w=m.return;if(hN(m),m===c){Wn=null;break e}if(v!==null){v.return=w,Wn=v;break e}Wn=w}}}var R7={getCacheForType:function(s){var o=pr(Ln),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},D7=typeof WeakMap=="function"?WeakMap:Map,yt=0,kt=null,Je=null,st=0,vt=0,ii=null,Ro=!1,Au=!1,Cx=!1,Cs=0,cn=0,Do=0,tc=0,Px=0,ki=0,Su=0,If=null,$r=null,Ox=!1,Ix=0,bp=1/0,wp=null,Mo=null,ir=0,Lo=null,Tu=null,Nu=0,kx=0,Rx=null,EN=null,kf=0,Dx=null;function ai(){if((yt&2)!==0&&st!==0)return st&-st;if(W.T!==null){var s=mu;return s!==0?s:$x()}return ea()}function AN(){ki===0&&(ki=(st&536870912)===0||ht?ho():536870912);var s=Ii.current;return s!==null&&(s.flags|=32),ki}function si(s,o,c){(s===kt&&(vt===2||vt===9)||s.cancelPendingCommit!==null)&&(ju(s,0),Vo(s,st,ki,!1)),Jt(s,c),((yt&2)===0||s!==kt)&&(s===kt&&((yt&2)===0&&(tc|=c),cn===4&&Vo(s,st,ki,!1)),La(s))}function SN(s,o,c){if((yt&6)!==0)throw Error(r(327));var m=!c&&(o&124)===0&&(o&s.expiredLanes)===0||Ji(s,o),v=m?V7(s,o):Vx(s,o,!0),w=m;do{if(v===0){Au&&!m&&Vo(s,o,0,!1);break}else{if(c=s.current.alternate,w&&!M7(c)){v=Vx(s,o,!1),w=!1;continue}if(v===2){if(w=o,s.errorRecoveryDisabledLanes&w)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var M=s;v=If;var H=M.current.memoizedState.isDehydrated;if(H&&(ju(M,I).flags|=256),I=Vx(M,I,!1),I!==2){if(Cx&&!H){M.errorRecoveryDisabledLanes|=w,tc|=w,v=4;break e}w=$r,$r=v,w!==null&&($r===null?$r=w:$r.push.apply($r,w))}v=I}if(w=!1,v!==2)continue}}if(v===1){ju(s,0),Vo(s,o,0,!0);break}e:{switch(m=s,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Vo(m,o,ki,!Ro);break e;case 2:$r=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=Ix+300-Vt(),10<v)){if(Vo(m,o,ki,!Ro),jr(m,0,!0)!==0)break e;m.timeoutHandle=ej(TN.bind(null,m,c,$r,wp,Ox,o,ki,tc,Su,Ro,w,2,-0,0),v);break e}TN(m,c,$r,wp,Ox,o,ki,tc,Su,Ro,w,0,-0,0)}}break}while(!0);La(s)}function TN(s,o,c,m,v,w,I,M,H,te,de,pe,ie,ae){if(s.timeoutHandle=-1,pe=o.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&(Bf={stylesheets:null,count:0,unsuspend:yV},xN(o),pe=xV(),pe!==null)){s.cancelPendingCommit=pe(kN.bind(null,s,o,w,c,m,v,I,M,H,de,1,ie,ae)),Vo(s,w,I,!te);return}kN(s,o,w,c,m,v,I,M,H)}function M7(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var v=c[m],w=v.getSnapshot;v=v.value;try{if(!ei(w(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vo(s,o,c,m){o&=~Px,o&=~tc,s.suspendedLanes|=o,s.pingedLanes&=~o,m&&(s.warmLanes|=o),m=s.expirationTimes;for(var v=o;0<v;){var w=31-nr(v),I=1<<w;m[w]=-1,v&=~I}c!==0&&ja(s,c,o)}function _p(){return(yt&6)===0?(Rf(0),!1):!0}function Mx(){if(Je!==null){if(vt===0)var s=Je.return;else s=Je,ws=Yl=null,J0(s),bu=null,Af=0,s=Je;for(;s!==null;)aN(s.alternate,s),s=s.return;Je=null}}function ju(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,eV(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Mx(),kt=s,Je=c=vs(s.current,null),st=o,vt=0,ii=null,Ro=!1,Au=Ji(s,o),Cx=!1,Su=ki=Px=tc=Do=cn=0,$r=If=null,Ox=!1,(o&8)!==0&&(o|=o&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=o;0<m;){var v=31-nr(m),w=1<<v;o|=s[v],m&=~w}return Cs=o,qm(),c}function NN(s,o){Qe=null,W.H=cp,o===pf||o===Jm?(o=qS(),vt=3):o===zS?(o=qS(),vt=4):vt=o===HT?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ii=o,Je===null&&(cn=1,mp(s,ji(o,s.current)))}function jN(){var s=W.H;return W.H=cp,s===null?cp:s}function CN(){var s=W.A;return W.A=R7,s}function Lx(){cn=4,Ro||(st&4194048)!==st&&Ii.current!==null||(Au=!0),(Do&134217727)===0&&(tc&134217727)===0||kt===null||Vo(kt,st,ki,!1)}function Vx(s,o,c){var m=yt;yt|=2;var v=jN(),w=CN();(kt!==s||st!==o)&&(wp=null,ju(s,o)),o=!1;var I=cn;e:do try{if(vt!==0&&Je!==null){var M=Je,H=ii;switch(vt){case 8:Mx(),I=6;break e;case 3:case 2:case 9:case 6:Ii.current===null&&(o=!0);var te=vt;if(vt=0,ii=null,Cu(s,M,H,te),c&&Au){I=0;break e}break;default:te=vt,vt=0,ii=null,Cu(s,M,H,te)}}L7(),I=cn;break}catch(de){NN(s,de)}while(!0);return o&&s.shellSuspendCounter++,ws=Yl=null,yt=m,W.H=v,W.A=w,Je===null&&(kt=null,st=0,qm()),I}function L7(){for(;Je!==null;)PN(Je)}function V7(s,o){var c=yt;yt|=2;var m=jN(),v=CN();kt!==s||st!==o?(wp=null,bp=Vt()+500,ju(s,o)):Au=Ji(s,o);e:do try{if(vt!==0&&Je!==null){o=Je;var w=ii;t:switch(vt){case 1:vt=0,ii=null,Cu(s,o,w,1);break;case 2:case 9:if($S(w)){vt=0,ii=null,ON(o);break}o=function(){vt!==2&&vt!==9||kt!==s||(vt=7),La(s)},w.then(o,o);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:$S(w)?(vt=0,ii=null,ON(o)):(vt=0,ii=null,Cu(s,o,w,7));break;case 5:var I=null;switch(Je.tag){case 26:I=Je.memoizedState;case 5:case 27:var M=Je;if(!I||fj(I)){vt=0,ii=null;var H=M.sibling;if(H!==null)Je=H;else{var te=M.return;te!==null?(Je=te,Ep(te)):Je=null}break t}}vt=0,ii=null,Cu(s,o,w,5);break;case 6:vt=0,ii=null,Cu(s,o,w,6);break;case 8:Mx(),cn=6;break e;default:throw Error(r(462))}}U7();break}catch(de){NN(s,de)}while(!0);return ws=Yl=null,W.H=m,W.A=v,yt=c,Je!==null?0:(kt=null,st=0,qm(),cn)}function U7(){for(;Je!==null&&!An();)PN(Je)}function PN(s){var o=rN(s.alternate,s,Cs);s.memoizedProps=s.pendingProps,o===null?Ep(s):Je=o}function ON(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=QT(c,o,o.pendingProps,o.type,void 0,st);break;case 11:o=QT(c,o,o.pendingProps,o.type.render,o.ref,st);break;case 5:J0(o);default:aN(c,o),o=Je=IS(o,Cs),o=rN(c,o,Cs)}s.memoizedProps=s.pendingProps,o===null?Ep(s):Je=o}function Cu(s,o,c,m){ws=Yl=null,J0(o),bu=null,Af=0;var v=o.return;try{if(j7(s,v,o,c,st)){cn=1,mp(s,ji(c,s.current)),Je=null;return}}catch(w){if(v!==null)throw Je=v,w;cn=1,mp(s,ji(c,s.current)),Je=null;return}o.flags&32768?(ht||m===1?s=!0:Au||(st&536870912)!==0?s=!1:(Ro=s=!0,(m===2||m===9||m===3||m===6)&&(m=Ii.current,m!==null&&m.tag===13&&(m.flags|=16384))),IN(o,s)):Ep(o)}function Ep(s){var o=s;do{if((o.flags&32768)!==0){IN(o,Ro);return}s=o.return;var c=P7(o.alternate,o,Cs);if(c!==null){Je=c;return}if(o=o.sibling,o!==null){Je=o;return}Je=o=s}while(o!==null);cn===0&&(cn=5)}function IN(s,o){do{var c=O7(s.alternate,s);if(c!==null){c.flags&=32767,Je=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){Je=s;return}Je=s=c}while(s!==null);cn=6,Je=null}function kN(s,o,c,m,v,w,I,M,H){s.cancelPendingCommit=null;do Ap();while(ir!==0);if((yt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(w=o.lanes|o.childLanes,w|=j0,Xc(s,c,w,I,M,H),s===kt&&(Je=kt=null,st=0),Tu=o,Lo=s,Nu=c,kx=w,Rx=v,EN=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,F7(Hn,function(){return VN(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=W.T,W.T=null,v=K.p,K.p=2,I=yt,yt|=4;try{I7(s,o,c)}finally{yt=I,K.p=v,W.T=m}}ir=1,RN(),DN(),MN()}}function RN(){if(ir===1){ir=0;var s=Lo,o=Tu,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var m=K.p;K.p=2;var v=yt;yt|=4;try{gN(o,s);var w=Xx,I=_S(s.containerInfo),M=w.focusedElem,H=w.selectionRange;if(I!==M&&M&&M.ownerDocument&&wS(M.ownerDocument.documentElement,M)){if(H!==null&&E0(M)){var te=H.start,de=H.end;if(de===void 0&&(de=te),"selectionStart"in M)M.selectionStart=te,M.selectionEnd=Math.min(de,M.value.length);else{var pe=M.ownerDocument||document,ie=pe&&pe.defaultView||window;if(ie.getSelection){var ae=ie.getSelection(),He=M.textContent.length,ze=Math.min(H.start,He),St=H.end===void 0?ze:Math.min(H.end,He);!ae.extend&&ze>St&&(I=St,St=ze,ze=I);var Q=bS(M,ze),G=bS(M,St);if(Q&&G&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==G.node||ae.focusOffset!==G.offset)){var J=pe.createRange();J.setStart(Q.node,Q.offset),ae.removeAllRanges(),ze>St?(ae.addRange(J),ae.extend(G.node,G.offset)):(J.setEnd(G.node,G.offset),ae.addRange(J))}}}}for(pe=[],ae=M;ae=ae.parentNode;)ae.nodeType===1&&pe.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<pe.length;M++){var fe=pe[M];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Mp=!!Yx,Xx=Yx=null}finally{yt=v,K.p=m,W.T=c}}s.current=o,ir=2}}function DN(){if(ir===2){ir=0;var s=Lo,o=Tu,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var m=K.p;K.p=2;var v=yt;yt|=4;try{fN(s,o.alternate,o)}finally{yt=v,K.p=m,W.T=c}}ir=3}}function MN(){if(ir===4||ir===3){ir=0,Qt();var s=Lo,o=Tu,c=Nu,m=EN;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ir=5:(ir=0,Tu=Lo=null,LN(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(Mo=null),Nl(c),o=o.stateNode,Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Qr,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=W.T,v=K.p,K.p=2,W.T=null;try{for(var w=s.onRecoverableError,I=0;I<m.length;I++){var M=m[I];w(M.value,{componentStack:M.stack})}}finally{W.T=o,K.p=v}}(Nu&3)!==0&&Ap(),La(s),v=s.pendingLanes,(c&4194090)!==0&&(v&42)!==0?s===Dx?kf++:(kf=0,Dx=s):kf=0,Rf(0)}}function LN(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,hf(o)))}function Ap(s){return RN(),DN(),MN(),VN()}function VN(){if(ir!==5)return!1;var s=Lo,o=kx;kx=0;var c=Nl(Nu),m=W.T,v=K.p;try{K.p=32>c?32:c,W.T=null,c=Rx,Rx=null;var w=Lo,I=Nu;if(ir=0,Tu=Lo=null,Nu=0,(yt&6)!==0)throw Error(r(331));var M=yt;if(yt|=4,wN(w.current),vN(w,w.current,I,c),yt=M,Rf(0,!1),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Qr,w)}catch{}return!0}finally{K.p=v,W.T=m,LN(s,o)}}function UN(s,o,c){o=ji(c,o),o=hx(s.stateNode,o,2),s=No(s,o,2),s!==null&&(Jt(s,2),La(s))}function Ct(s,o,c){if(s.tag===3)UN(s,s,c);else for(;o!==null;){if(o.tag===3){UN(o,s,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Mo===null||!Mo.has(m))){s=ji(c,s),c=FT(2),m=No(o,c,2),m!==null&&(qT(c,m,o,s),Jt(m,2),La(m));break}}o=o.return}}function Ux(s,o,c){var m=s.pingCache;if(m===null){m=s.pingCache=new D7;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(c)||(Cx=!0,v.add(c),s=B7.bind(null,s,o,c),o.then(s,s))}function B7(s,o,c){var m=s.pingCache;m!==null&&m.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,kt===s&&(st&c)===c&&(cn===4||cn===3&&(st&62914560)===st&&300>Vt()-Ix?(yt&2)===0&&ju(s,0):Px|=c,Su===st&&(Su=0)),La(s)}function BN(s,o){o===0&&(o=Na()),s=uu(s,o),s!==null&&(Jt(s,o),La(s))}function z7(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),BN(s,c)}function $7(s,o){var c=0;switch(s.tag){case 13:var m=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),BN(s,c)}function F7(s,o){return Ue(s,o)}var Sp=null,Pu=null,Bx=!1,Tp=!1,zx=!1,nc=0;function La(s){s!==Pu&&s.next===null&&(Pu===null?Sp=Pu=s:Pu=Pu.next=s),Tp=!0,Bx||(Bx=!0,H7())}function Rf(s,o){if(!zx&&Tp){zx=!0;do for(var c=!1,m=Sp;m!==null;){if(s!==0){var v=m.pendingLanes;if(v===0)var w=0;else{var I=m.suspendedLanes,M=m.pingedLanes;w=(1<<31-nr(42|s)+1)-1,w&=v&~(I&~M),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,qN(m,w))}else w=st,w=jr(m,m===kt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Ji(m,w)||(c=!0,qN(m,w));m=m.next}while(c);zx=!1}}function q7(){zN()}function zN(){Tp=Bx=!1;var s=0;nc!==0&&(J7()&&(s=nc),nc=0);for(var o=Vt(),c=null,m=Sp;m!==null;){var v=m.next,w=$N(m,o);w===0?(m.next=null,c===null?Sp=v:c.next=v,v===null&&(Pu=c)):(c=m,(s!==0||(w&3)!==0)&&(Tp=!0)),m=v}Rf(s)}function $N(s,o){for(var c=s.suspendedLanes,m=s.pingedLanes,v=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var I=31-nr(w),M=1<<I,H=v[I];H===-1?((M&c)===0||(M&m)!==0)&&(v[I]=ls(M,o)):H<=o&&(s.expiredLanes|=M),w&=~M}if(o=kt,c=st,c=jr(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,c===0||s===o&&(vt===2||vt===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&nt(m),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Ji(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(m!==null&&nt(m),Nl(c)){case 2:case 8:c=Sn;break;case 32:c=Hn;break;case 268435456:c=Zi;break;default:c=Hn}return m=FN.bind(null,s),c=Ue(c,m),s.callbackPriority=o,s.callbackNode=c,o}return m!==null&&m!==null&&nt(m),s.callbackPriority=2,s.callbackNode=null,2}function FN(s,o){if(ir!==0&&ir!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Ap()&&s.callbackNode!==c)return null;var m=st;return m=jr(s,s===kt?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(SN(s,m,o),$N(s,Vt()),s.callbackNode!=null&&s.callbackNode===c?FN.bind(null,s):null)}function qN(s,o){if(Ap())return null;SN(s,o,!0)}function H7(){tV(function(){(yt&6)!==0?Ue(Zt,q7):zN()})}function $x(){return nc===0&&(nc=ho()),nc}function HN(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ra(""+s)}function KN(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function K7(s,o,c,m,v){if(o==="submit"&&c&&c.stateNode===v){var w=HN((v[Dn]||null).action),I=m.submitter;I&&(o=(o=I[Dn]||null)?HN(o.formAction):I.getAttribute("formAction"),o!==null&&(w=o,I=null));var M=new Dl("action","action",null,m,v);s.push({event:M,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(nc!==0){var H=I?KN(v,I):new FormData(v);lx(c,{pending:!0,data:H,method:v.method,action:w},null,H)}}else typeof w=="function"&&(M.preventDefault(),H=I?KN(v,I):new FormData(v),lx(c,{pending:!0,data:H,method:v.method,action:w},w,H))},currentTarget:v}]})}}for(var Fx=0;Fx<N0.length;Fx++){var qx=N0[Fx],G7=qx.toLowerCase(),W7=qx[0].toUpperCase()+qx.slice(1);oa(G7,"on"+W7)}oa(SS,"onAnimationEnd"),oa(TS,"onAnimationIteration"),oa(NS,"onAnimationStart"),oa("dblclick","onDoubleClick"),oa("focusin","onFocus"),oa("focusout","onBlur"),oa(d7,"onTransitionRun"),oa(f7,"onTransitionStart"),oa(h7,"onTransitionCancel"),oa(jS,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Df="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Df));function GN(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var m=s[c],v=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var I=m.length-1;0<=I;I--){var M=m[I],H=M.instance,te=M.currentTarget;if(M=M.listener,H!==w&&v.isPropagationStopped())break e;w=M,v.currentTarget=te;try{w(v)}catch(de){hp(de)}v.currentTarget=null,w=H}else for(I=0;I<m.length;I++){if(M=m[I],H=M.instance,te=M.currentTarget,M=M.listener,H!==w&&v.isPropagationStopped())break e;w=M,v.currentTarget=te;try{w(v)}catch(de){hp(de)}v.currentTarget=null,w=H}}}}function et(s,o){var c=o[we];c===void 0&&(c=o[we]=new Set);var m=s+"__bubble";c.has(m)||(WN(o,s,2,!1),c.add(m))}function Hx(s,o,c){var m=0;o&&(m|=4),WN(c,s,m,o)}var Np="_reactListening"+Math.random().toString(36).slice(2);function Kx(s){if(!s[Np]){s[Np]=!0,Fd.forEach(function(c){c!=="selectionchange"&&(Y7.has(c)||Hx(c,!1,s),Hx(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Np]||(o[Np]=!0,Hx("selectionchange",!1,o))}}function WN(s,o,c,m){switch(vj(o)){case 2:var v=_V;break;case 8:v=EV;break;default:v=sb}c=v.bind(null,o,c,s),v=void 0,!gs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?s.addEventListener(o,c,{capture:!0,passive:v}):s.addEventListener(o,c,!0):v!==void 0?s.addEventListener(o,c,{passive:v}):s.addEventListener(o,c,!1)}function Gx(s,o,c,m,v){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var M=m.stateNode.containerInfo;if(M===v)break;if(I===4)for(I=m.return;I!==null;){var H=I.tag;if((H===3||H===4)&&I.stateNode.containerInfo===v)return;I=I.return}for(;M!==null;){if(I=hr(M),I===null)return;if(H=I.tag,H===5||H===6||H===26||H===27){m=w=I;continue e}M=M.parentNode}}m=m.return}Il(function(){var te=w,de=Qd(c),pe=[];e:{var ie=CS.get(s);if(ie!==void 0){var ae=Dl,He=s;switch(s){case"keypress":if(kl(c)===0)break e;case"keydown":case"keyup":ae=su;break;case"focusin":He="focus",ae=ru;break;case"focusout":He="blur",ae=ru;break;case"beforeblur":case"afterblur":ae=ru;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Eo;break;case SS:case TS:case NS:ae=Jd;break;case jS:ae=T;break;case"scroll":case"scrollend":ae=Ll;break;case"wheel":ae=$;break;case"copy":case"cut":case"paste":ae=Lm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=nf;break;case"toggle":case"beforetoggle":ae=se}var ze=(o&4)!==0,St=!ze&&(s==="scroll"||s==="scrollend"),Q=ze?ie!==null?ie+"Capture":null:ie;ze=[];for(var G=te,J;G!==null;){var fe=G;if(J=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||J===null||Q===null||(fe=wo(G,Q),fe!=null&&ze.push(Mf(G,fe,J))),St)break;G=G.return}0<ze.length&&(ie=new ae(ie,He,null,c,de),pe.push({event:ie,listeners:ze}))}}if((o&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",ae=s==="mouseout"||s==="pointerout",ie&&c!==Xd&&(He=c.relatedTarget||c.fromElement)&&(hr(He)||He[Y]))break e;if((ae||ie)&&(ie=de.window===de?de:(ie=de.ownerDocument)?ie.defaultView||ie.parentWindow:window,ae?(He=c.relatedTarget||c.toElement,ae=te,He=He?hr(He):null,He!==null&&(St=a(He),ze=He.tag,He!==St||ze!==5&&ze!==27&&ze!==6)&&(He=null)):(ae=null,He=te),ae!==He)){if(ze=Bl,fe="onMouseLeave",Q="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(ze=nf,fe="onPointerLeave",Q="onPointerEnter",G="pointer"),St=ae==null?ie:cs(ae),J=He==null?ie:cs(He),ie=new ze(fe,G+"leave",ae,c,de),ie.target=St,ie.relatedTarget=J,fe=null,hr(de)===te&&(ze=new ze(Q,G+"enter",He,c,de),ze.target=J,ze.relatedTarget=St,fe=ze),St=fe,ae&&He)t:{for(ze=ae,Q=He,G=0,J=ze;J;J=Ou(J))G++;for(J=0,fe=Q;fe;fe=Ou(fe))J++;for(;0<G-J;)ze=Ou(ze),G--;for(;0<J-G;)Q=Ou(Q),J--;for(;G--;){if(ze===Q||Q!==null&&ze===Q.alternate)break t;ze=Ou(ze),Q=Ou(Q)}ze=null}else ze=null;ae!==null&&YN(pe,ie,ae,ze,!1),He!==null&&St!==null&&YN(pe,St,He,ze,!0)}}e:{if(ie=te?cs(te):window,ae=ie.nodeName&&ie.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ie.type==="file")var je=mS;else if(fS(ie))if(pS)je=l7;else{je=s7;var Ze=a7}else ae=ie.nodeName,!ae||ae.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?te&&eu(te.elementType)&&(je=mS):je=o7;if(je&&(je=je(s,te))){hS(pe,je,c,de);break e}Ze&&Ze(s,ie,te),s==="focusout"&&te&&ie.type==="number"&&te.memoizedProps.value!=null&&Gd(ie,"number",ie.value)}switch(Ze=te?cs(te):window,s){case"focusin":(fS(Ze)||Ze.contentEditable==="true")&&(ou=Ze,A0=te,lf=null);break;case"focusout":lf=A0=ou=null;break;case"mousedown":S0=!0;break;case"contextmenu":case"mouseup":case"dragend":S0=!1,ES(pe,c,de);break;case"selectionchange":if(u7)break;case"keydown":case"keyup":ES(pe,c,de)}var Ie;if(We)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else sa?ia(s,c)&&($e="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&($e="onCompositionStart");$e&&(hn&&c.locale!=="ko"&&(sa||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&sa&&(Ie=Rm()):(Ni=de,It="value"in Ni?Ni.value:Ni.textContent,sa=!0)),Ze=jp(te,$e),0<Ze.length&&($e=new tf($e,s,null,c,de),pe.push({event:$e,listeners:Ze}),Ie?$e.data=Ie:(Ie=aa(c),Ie!==null&&($e.data=Ie)))),(Ie=gt?rf(s,c):n7(s,c))&&($e=jp(te,"onBeforeInput"),0<$e.length&&(Ze=new tf("onBeforeInput","beforeinput",null,c,de),pe.push({event:Ze,listeners:$e}),Ze.data=Ie)),K7(pe,s,te,c,de)}GN(pe,o)})}function Mf(s,o,c){return{instance:s,listener:o,currentTarget:c}}function jp(s,o){for(var c=o+"Capture",m=[];s!==null;){var v=s,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=wo(s,c),v!=null&&m.unshift(Mf(s,v,w)),v=wo(s,o),v!=null&&m.push(Mf(s,v,w))),s.tag===3)return m;s=s.return}return[]}function Ou(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function YN(s,o,c,m,v){for(var w=o._reactName,I=[];c!==null&&c!==m;){var M=c,H=M.alternate,te=M.stateNode;if(M=M.tag,H!==null&&H===m)break;M!==5&&M!==26&&M!==27||te===null||(H=te,v?(te=wo(c,w),te!=null&&I.unshift(Mf(c,te,H))):v||(te=wo(c,w),te!=null&&I.push(Mf(c,te,H)))),c=c.return}I.length!==0&&s.push({event:o,listeners:I})}var X7=/\r\n?/g,Q7=/\u0000|\uFFFD/g;function XN(s){return(typeof s=="string"?s:""+s).replace(X7,`
`).replace(Q7,"")}function QN(s,o){return o=XN(o),XN(s)===o}function Cp(){}function At(s,o,c,m,v,w){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Ti(s,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Ti(s,""+m);break;case"className":Si(s,"class",m);break;case"tabIndex":Si(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Si(s,c,m);break;case"style":Yd(s,m,w);break;case"data":if(o!=="object"){Si(s,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=ra(""+m),s.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(o!=="input"&&At(s,o,"name",v.name,v,null),At(s,o,"formEncType",v.formEncType,v,null),At(s,o,"formMethod",v.formMethod,v,null),At(s,o,"formTarget",v.formTarget,v,null)):(At(s,o,"encType",v.encType,v,null),At(s,o,"method",v.method,v,null),At(s,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=ra(""+m),s.setAttribute(c,m);break;case"onClick":m!=null&&(s.onclick=Cp);break;case"onScroll":m!=null&&et("scroll",s);break;case"onScrollEnd":m!=null&&et("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}c=ra(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""+m):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":m===!0?s.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,m):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(c,m):s.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(c):s.setAttribute(c,m);break;case"popover":et("beforetoggle",s),et("toggle",s),fs(s,"popover",m);break;case"xlinkActuate":Ur(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ur(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ur(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ur(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ur(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ur(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ur(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ur(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ur(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":fs(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Om.get(c)||c,fs(s,c,m))}}function Wx(s,o,c,m,v,w){switch(c){case"style":Yd(s,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof m=="string"?Ti(s,m):(typeof m=="number"||typeof m=="bigint")&&Ti(s,""+m);break;case"onScroll":m!=null&&et("scroll",s);break;case"onScrollEnd":m!=null&&et("scrollend",s);break;case"onClick":m!=null&&(s.onclick=Cp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!us.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),w=s[Dn]||null,w=w!=null?w[c]:null,typeof w=="function"&&s.removeEventListener(o,w,v),typeof m=="function")){typeof w!="function"&&w!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,m,v);break e}c in s?s[c]=m:m===!0?s.setAttribute(c,""):fs(s,c,m)}}}function ar(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",s),et("load",s);var m=!1,v=!1,w;for(w in c)if(c.hasOwnProperty(w)){var I=c[w];if(I!=null)switch(w){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:At(s,o,w,I,c,null)}}v&&At(s,o,"srcSet",c.srcSet,c,null),m&&At(s,o,"src",c.src,c,null);return;case"input":et("invalid",s);var M=w=I=v=null,H=null,te=null;for(m in c)if(c.hasOwnProperty(m)){var de=c[m];if(de!=null)switch(m){case"name":v=de;break;case"type":I=de;break;case"checked":H=de;break;case"defaultChecked":te=de;break;case"value":w=de;break;case"defaultValue":M=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:At(s,o,m,de,c,null)}}Kd(s,w,M,H,te,I,v,!1),vo(s);return;case"select":et("invalid",s),m=I=w=null;for(v in c)if(c.hasOwnProperty(v)&&(M=c[v],M!=null))switch(v){case"value":w=M;break;case"defaultValue":I=M;break;case"multiple":m=M;default:At(s,o,v,M,c,null)}o=w,c=I,s.multiple=!!m,o!=null?xo(s,!!m,o,!1):c!=null&&xo(s,!!m,c,!0);return;case"textarea":et("invalid",s),w=v=m=null;for(I in c)if(c.hasOwnProperty(I)&&(M=c[I],M!=null))switch(I){case"value":m=M;break;case"defaultValue":v=M;break;case"children":w=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:At(s,o,I,M,c,null)}Pm(s,m,v,w),vo(s);return;case"option":for(H in c)if(c.hasOwnProperty(H)&&(m=c[H],m!=null))switch(H){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:At(s,o,H,m,c,null)}return;case"dialog":et("beforetoggle",s),et("toggle",s),et("cancel",s),et("close",s);break;case"iframe":case"object":et("load",s);break;case"video":case"audio":for(m=0;m<Df.length;m++)et(Df[m],s);break;case"image":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"embed":case"source":case"link":et("error",s),et("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in c)if(c.hasOwnProperty(te)&&(m=c[te],m!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:At(s,o,te,m,c,null)}return;default:if(eu(o)){for(de in c)c.hasOwnProperty(de)&&(m=c[de],m!==void 0&&Wx(s,o,de,m,c,void 0));return}}for(M in c)c.hasOwnProperty(M)&&(m=c[M],m!=null&&At(s,o,M,m,c,null))}function Z7(s,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,I=null,M=null,H=null,te=null,de=null;for(ae in c){var pe=c[ae];if(c.hasOwnProperty(ae)&&pe!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":H=pe;default:m.hasOwnProperty(ae)||At(s,o,ae,null,m,pe)}}for(var ie in m){var ae=m[ie];if(pe=c[ie],m.hasOwnProperty(ie)&&(ae!=null||pe!=null))switch(ie){case"type":w=ae;break;case"name":v=ae;break;case"checked":te=ae;break;case"defaultChecked":de=ae;break;case"value":I=ae;break;case"defaultValue":M=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:ae!==pe&&At(s,o,ie,ae,m,pe)}}Hd(s,I,M,H,te,de,w,v);return;case"select":ae=I=M=ie=null;for(w in c)if(H=c[w],c.hasOwnProperty(w)&&H!=null)switch(w){case"value":break;case"multiple":ae=H;default:m.hasOwnProperty(w)||At(s,o,w,null,m,H)}for(v in m)if(w=m[v],H=c[v],m.hasOwnProperty(v)&&(w!=null||H!=null))switch(v){case"value":ie=w;break;case"defaultValue":M=w;break;case"multiple":I=w;default:w!==H&&At(s,o,v,w,m,H)}o=M,c=I,m=ae,ie!=null?xo(s,!!c,ie,!1):!!m!=!!c&&(o!=null?xo(s,!!c,o,!0):xo(s,!!c,c?[]:"",!1));return;case"textarea":ae=ie=null;for(M in c)if(v=c[M],c.hasOwnProperty(M)&&v!=null&&!m.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:At(s,o,M,null,m,v)}for(I in m)if(v=m[I],w=c[I],m.hasOwnProperty(I)&&(v!=null||w!=null))switch(I){case"value":ie=v;break;case"defaultValue":ae=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&At(s,o,I,v,m,w)}Cm(s,ie,ae);return;case"option":for(var He in c)if(ie=c[He],c.hasOwnProperty(He)&&ie!=null&&!m.hasOwnProperty(He))switch(He){case"selected":s.selected=!1;break;default:At(s,o,He,null,m,ie)}for(H in m)if(ie=m[H],ae=c[H],m.hasOwnProperty(H)&&ie!==ae&&(ie!=null||ae!=null))switch(H){case"selected":s.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:At(s,o,H,ie,m,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in c)ie=c[ze],c.hasOwnProperty(ze)&&ie!=null&&!m.hasOwnProperty(ze)&&At(s,o,ze,null,m,ie);for(te in m)if(ie=m[te],ae=c[te],m.hasOwnProperty(te)&&ie!==ae&&(ie!=null||ae!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,o));break;default:At(s,o,te,ie,m,ae)}return;default:if(eu(o)){for(var St in c)ie=c[St],c.hasOwnProperty(St)&&ie!==void 0&&!m.hasOwnProperty(St)&&Wx(s,o,St,void 0,m,ie);for(de in m)ie=m[de],ae=c[de],!m.hasOwnProperty(de)||ie===ae||ie===void 0&&ae===void 0||Wx(s,o,de,ie,m,ae);return}}for(var Q in c)ie=c[Q],c.hasOwnProperty(Q)&&ie!=null&&!m.hasOwnProperty(Q)&&At(s,o,Q,null,m,ie);for(pe in m)ie=m[pe],ae=c[pe],!m.hasOwnProperty(pe)||ie===ae||ie==null&&ae==null||At(s,o,pe,ie,m,ae)}var Yx=null,Xx=null;function Pp(s){return s.nodeType===9?s:s.ownerDocument}function ZN(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JN(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Qx(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Zx=null;function J7(){var s=window.event;return s&&s.type==="popstate"?s===Zx?!1:(Zx=s,!0):(Zx=null,!1)}var ej=typeof setTimeout=="function"?setTimeout:void 0,eV=typeof clearTimeout=="function"?clearTimeout:void 0,tj=typeof Promise=="function"?Promise:void 0,tV=typeof queueMicrotask=="function"?queueMicrotask:typeof tj<"u"?function(s){return tj.resolve(null).then(s).catch(nV)}:ej;function nV(s){setTimeout(function(){throw s})}function Uo(s){return s==="head"}function nj(s,o){var c=o,m=0,v=0;do{var w=c.nextSibling;if(s.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(0<m&&8>m){c=m;var I=s.ownerDocument;if(c&1&&Lf(I.documentElement),c&2&&Lf(I.body),c&4)for(c=I.head,Lf(c),I=c.firstChild;I;){var M=I.nextSibling,H=I.nodeName;I[fr]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&I.rel.toLowerCase()==="stylesheet"||c.removeChild(I),I=M}}if(v===0){s.removeChild(w),Hf(o);return}v--}else c==="$"||c==="$?"||c==="$!"?v++:m=c.charCodeAt(0)-48;else m=0;c=w}while(c);Hf(o)}function Jx(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Jx(c),ta(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function rV(s,o,c,m){for(;s.nodeType===1;){var v=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[fr])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=ca(s.nextSibling),s===null)break}return null}function iV(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ca(s.nextSibling),s===null))return null;return s}function eb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function aV(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function ca(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var tb=null;function rj(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function ij(s,o,c){switch(o=Pp(c),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Lf(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);ta(s)}var Ri=new Map,aj=new Set;function Op(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ps=K.d;K.d={f:sV,r:oV,D:lV,C:cV,L:uV,m:dV,X:hV,S:fV,M:mV};function sV(){var s=Ps.f(),o=_p();return s||o}function oV(s){var o=wi(s);o!==null&&o.tag===5&&o.type==="form"?ST(o):Ps.r(s)}var Iu=typeof document>"u"?null:document;function sj(s,o,c){var m=Iu;if(m&&typeof o=="string"&&o){var v=Kn(o);v='link[rel="'+s+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),aj.has(v)||(aj.add(v),s={rel:s,crossOrigin:c,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),ar(o,"link",s),nn(o),m.head.appendChild(o)))}}function lV(s){Ps.D(s),sj("dns-prefetch",s,null)}function cV(s,o){Ps.C(s,o),sj("preconnect",s,o)}function uV(s,o,c){Ps.L(s,o,c);var m=Iu;if(m&&s&&o){var v='link[rel="preload"][as="'+Kn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+Kn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+Kn(c.imageSizes)+'"]')):v+='[href="'+Kn(s)+'"]';var w=v;switch(o){case"style":w=ku(s);break;case"script":w=Ru(s)}Ri.has(w)||(s=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),Ri.set(w,s),m.querySelector(v)!==null||o==="style"&&m.querySelector(Vf(w))||o==="script"&&m.querySelector(Uf(w))||(o=m.createElement("link"),ar(o,"link",s),nn(o),m.head.appendChild(o)))}}function dV(s,o){Ps.m(s,o);var c=Iu;if(c&&s){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Kn(m)+'"][href="'+Kn(s)+'"]',w=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Ru(s)}if(!Ri.has(w)&&(s=p({rel:"modulepreload",href:s},o),Ri.set(w,s),c.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Uf(w)))return}m=c.createElement("link"),ar(m,"link",s),nn(m),c.head.appendChild(m)}}}function fV(s,o,c){Ps.S(s,o,c);var m=Iu;if(m&&s){var v=Pa(m).hoistableStyles,w=ku(s);o=o||"default";var I=v.get(w);if(!I){var M={loading:0,preload:null};if(I=m.querySelector(Vf(w)))M.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":o},c),(c=Ri.get(w))&&nb(s,c);var H=I=m.createElement("link");nn(H),ar(H,"link",s),H._p=new Promise(function(te,de){H.onload=te,H.onerror=de}),H.addEventListener("load",function(){M.loading|=1}),H.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Ip(I,o,m)}I={type:"stylesheet",instance:I,count:1,state:M},v.set(w,I)}}}function hV(s,o){Ps.X(s,o);var c=Iu;if(c&&s){var m=Pa(c).hoistableScripts,v=Ru(s),w=m.get(v);w||(w=c.querySelector(Uf(v)),w||(s=p({src:s,async:!0},o),(o=Ri.get(v))&&rb(s,o),w=c.createElement("script"),nn(w),ar(w,"link",s),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(v,w))}}function mV(s,o){Ps.M(s,o);var c=Iu;if(c&&s){var m=Pa(c).hoistableScripts,v=Ru(s),w=m.get(v);w||(w=c.querySelector(Uf(v)),w||(s=p({src:s,async:!0,type:"module"},o),(o=Ri.get(v))&&rb(s,o),w=c.createElement("script"),nn(w),ar(w,"link",s),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(v,w))}}function oj(s,o,c,m){var v=(v=be.current)?Op(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=ku(c.href),c=Pa(v).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=ku(c.href);var w=Pa(v).hoistableStyles,I=w.get(s);if(I||(v=v.ownerDocument||v,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,I),(w=v.querySelector(Vf(s)))&&!w._p&&(I.instance=w,I.state.loading=5),Ri.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ri.set(s,c),w||pV(v,s,c,I.state))),o&&m===null)throw Error(r(528,""));return I}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ru(c),c=Pa(v).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function ku(s){return'href="'+Kn(s)+'"'}function Vf(s){return'link[rel="stylesheet"]['+s+"]"}function lj(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function pV(s,o,c,m){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=s.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),ar(o,"link",c),nn(o),s.head.appendChild(o))}function Ru(s){return'[src="'+Kn(s)+'"]'}function Uf(s){return"script[async]"+s}function cj(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=s.querySelector('style[data-href~="'+Kn(c.href)+'"]');if(m)return o.instance=m,nn(m),m;var v=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),nn(m),ar(m,"style",v),Ip(m,c.precedence,s),o.instance=m;case"stylesheet":v=ku(c.href);var w=s.querySelector(Vf(v));if(w)return o.state.loading|=4,o.instance=w,nn(w),w;m=lj(c),(v=Ri.get(v))&&nb(m,v),w=(s.ownerDocument||s).createElement("link"),nn(w);var I=w;return I._p=new Promise(function(M,H){I.onload=M,I.onerror=H}),ar(w,"link",m),o.state.loading|=4,Ip(w,c.precedence,s),o.instance=w;case"script":return w=Ru(c.src),(v=s.querySelector(Uf(w)))?(o.instance=v,nn(v),v):(m=c,(v=Ri.get(w))&&(m=p({},c),rb(m,v)),s=s.ownerDocument||s,v=s.createElement("script"),nn(v),ar(v,"link",m),s.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Ip(m,c.precedence,s));return o.instance}function Ip(s,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,w=v,I=0;I<m.length;I++){var M=m[I];if(M.dataset.precedence===o)w=M;else if(w!==v)break}w?w.parentNode.insertBefore(s,w.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function nb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function rb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var kp=null;function uj(s,o,c){if(kp===null){var m=new Map,v=kp=new Map;v.set(c,m)}else v=kp,m=v.get(c),m||(m=new Map,v.set(c,m));if(m.has(s))return m;for(m.set(s,null),c=c.getElementsByTagName(s),v=0;v<c.length;v++){var w=c[v];if(!(w[fr]||w[en]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var I=w.getAttribute(o)||"";I=s+I;var M=m.get(I);M?M.push(w):m.set(I,[w])}}return m}function dj(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function gV(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function fj(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Bf=null;function yV(){}function vV(s,o,c){if(Bf===null)throw Error(r(475));var m=Bf;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=ku(c.href),w=s.querySelector(Vf(v));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(m.count++,m=Rp.bind(m),s.then(m,m)),o.state.loading|=4,o.instance=w,nn(w);return}w=s.ownerDocument||s,c=lj(c),(v=Ri.get(v))&&nb(c,v),w=w.createElement("link"),nn(w);var I=w;I._p=new Promise(function(M,H){I.onload=M,I.onerror=H}),ar(w,"link",c),o.instance=w}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=Rp.bind(m),s.addEventListener("load",o),s.addEventListener("error",o))}}function xV(){if(Bf===null)throw Error(r(475));var s=Bf;return s.stylesheets&&s.count===0&&ib(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&ib(s,s.stylesheets),s.unsuspend){var m=s.unsuspend;s.unsuspend=null,m()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Rp(){if(this.count--,this.count===0){if(this.stylesheets)ib(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Dp=null;function ib(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Dp=new Map,o.forEach(bV,s),Dp=null,Rp.call(s))}function bV(s,o){if(!(o.state.loading&4)){var c=Dp.get(s);if(c)var m=c.get(null);else{c=new Map,Dp.set(s,c);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var I=v[w];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(c.set(I.dataset.precedence,I),m=I)}m&&c.set(null,m)}v=o.instance,I=v.getAttribute("data-precedence"),w=c.get(I)||m,w===m&&c.set(null,v),c.set(I,v),this.count++,m=Rp.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),w?w.parentNode.insertBefore(v,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),o.state.loading|=4}}var zf={$$typeof:j,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function wV(s,o,c,m,v,w,I,M){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mo(0),this.hiddenUpdates=mo(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function hj(s,o,c,m,v,w,I,M,H,te,de,pe){return s=new wV(s,o,c,I,M,H,te,pe),o=1,w===!0&&(o|=24),w=ti(3,null,null,o),s.current=w,w.stateNode=s,o=U0(),o.refCount++,s.pooledCache=o,o.refCount++,w.memoizedState={element:m,isDehydrated:c,cache:o},F0(w),s}function mj(s){return s?(s=du,s):du}function pj(s,o,c,m,v,w){v=mj(v),m.context===null?m.context=v:m.pendingContext=v,m=To(o),m.payload={element:c},w=w===void 0?null:w,w!==null&&(m.callback=w),c=No(s,m,o),c!==null&&(si(c,s,o),yf(c,s,o))}function gj(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function ab(s,o){gj(s,o),(s=s.alternate)&&gj(s,o)}function yj(s){if(s.tag===13){var o=uu(s,67108864);o!==null&&si(o,s,67108864),ab(s,67108864)}}var Mp=!0;function _V(s,o,c,m){var v=W.T;W.T=null;var w=K.p;try{K.p=2,sb(s,o,c,m)}finally{K.p=w,W.T=v}}function EV(s,o,c,m){var v=W.T;W.T=null;var w=K.p;try{K.p=8,sb(s,o,c,m)}finally{K.p=w,W.T=v}}function sb(s,o,c,m){if(Mp){var v=ob(m);if(v===null)Gx(s,o,m,Lp,c),xj(s,m);else if(SV(v,s,o,c,m))m.stopPropagation();else if(xj(s,m),o&4&&-1<AV.indexOf(s)){for(;v!==null;){var w=wi(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var I=Zr(w.pendingLanes);if(I!==0){var M=w;for(M.pendingLanes|=2,M.entangledLanes|=2;I;){var H=1<<31-nr(I);M.entanglements[1]|=H,I&=~H}La(w),(yt&6)===0&&(bp=Vt()+500,Rf(0))}}break;case 13:M=uu(w,2),M!==null&&si(M,w,2),_p(),ab(w,2)}if(w=ob(m),w===null&&Gx(s,o,m,Lp,c),w===v)break;v=w}v!==null&&m.stopPropagation()}else Gx(s,o,m,null,c)}}function ob(s){return s=Qd(s),lb(s)}var Lp=null;function lb(s){if(Lp=null,s=hr(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Lp=s,null}function vj(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(os()){case Zt:return 2;case Sn:return 8;case Hn:case Aa:return 32;case Zi:return 268435456;default:return 32}default:return 32}}var cb=!1,Bo=null,zo=null,$o=null,$f=new Map,Ff=new Map,Fo=[],AV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xj(s,o){switch(s){case"focusin":case"focusout":Bo=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":$f.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ff.delete(o.pointerId)}}function qf(s,o,c,m,v,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:w,targetContainers:[v]},o!==null&&(o=wi(o),o!==null&&yj(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),s)}function SV(s,o,c,m,v){switch(o){case"focusin":return Bo=qf(Bo,s,o,c,m,v),!0;case"dragenter":return zo=qf(zo,s,o,c,m,v),!0;case"mouseover":return $o=qf($o,s,o,c,m,v),!0;case"pointerover":var w=v.pointerId;return $f.set(w,qf($f.get(w)||null,s,o,c,m,v)),!0;case"gotpointercapture":return w=v.pointerId,Ff.set(w,qf(Ff.get(w)||null,s,o,c,m,v)),!0}return!1}function bj(s){var o=hr(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,$d(s.priority,function(){if(c.tag===13){var m=ai();m=po(m);var v=uu(c,m);v!==null&&si(v,c,m),ab(c,m)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Vp(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=ob(s.nativeEvent);if(c===null){c=s.nativeEvent;var m=new c.constructor(c.type,c);Xd=m,c.target.dispatchEvent(m),Xd=null}else return o=wi(c),o!==null&&yj(o),s.blockedOn=c,!1;o.shift()}return!0}function wj(s,o,c){Vp(s)&&c.delete(o)}function TV(){cb=!1,Bo!==null&&Vp(Bo)&&(Bo=null),zo!==null&&Vp(zo)&&(zo=null),$o!==null&&Vp($o)&&($o=null),$f.forEach(wj),Ff.forEach(wj)}function Up(s,o){s.blockedOn===o&&(s.blockedOn=null,cb||(cb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,TV)))}var Bp=null;function _j(s){Bp!==s&&(Bp=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Bp===s&&(Bp=null);for(var o=0;o<s.length;o+=3){var c=s[o],m=s[o+1],v=s[o+2];if(typeof m!="function"){if(lb(m||c)===null)continue;break}var w=wi(c);w!==null&&(s.splice(o,3),o-=3,lx(w,{pending:!0,data:v,method:c.method,action:m},m,v))}}))}function Hf(s){function o(H){return Up(H,s)}Bo!==null&&Up(Bo,s),zo!==null&&Up(zo,s),$o!==null&&Up($o,s),$f.forEach(o),Ff.forEach(o);for(var c=0;c<Fo.length;c++){var m=Fo[c];m.blockedOn===s&&(m.blockedOn=null)}for(;0<Fo.length&&(c=Fo[0],c.blockedOn===null);)bj(c),c.blockedOn===null&&Fo.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var v=c[m],w=c[m+1],I=v[Dn]||null;if(typeof w=="function")I||_j(c);else if(I){var M=null;if(w&&w.hasAttribute("formAction")){if(v=w,I=w[Dn]||null)M=I.formAction;else if(lb(v)!==null)continue}else M=I.action;typeof M=="function"?c[m+1]=M:(c.splice(m,3),m-=3),_j(c)}}}function ub(s){this._internalRoot=s}zp.prototype.render=ub.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,m=ai();pj(c,m,s,o,null,null)},zp.prototype.unmount=ub.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;pj(s.current,2,null,s,null,null),_p(),o[Y]=null}};function zp(s){this._internalRoot=s}zp.prototype.unstable_scheduleHydration=function(s){if(s){var o=ea();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Fo.length&&o!==0&&o<Fo[c].priority;c++);Fo.splice(c,0,s),c===0&&bj(s)}};var Ej=e.version;if(Ej!=="19.1.1")throw Error(r(527,Ej,"19.1.1"));K.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(o),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var NV={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$p.isDisabled&&$p.supportsFiber)try{Qr=$p.inject(NV),Tn=$p}catch{}}return Gf.createRoot=function(s,o){if(!i(s))throw Error(r(299));var c=!1,m="",v=UT,w=BT,I=zT,M=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks)),o=hj(s,1,!1,null,null,c,m,v,w,I,M,null),s[Y]=o.current,Kx(s),new ub(o)},Gf.hydrateRoot=function(s,o,c){if(!i(s))throw Error(r(299));var m=!1,v="",w=UT,I=BT,M=zT,H=null,te=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(H=c.unstable_transitionCallbacks),c.formState!==void 0&&(te=c.formState)),o=hj(s,1,!0,o,c??null,m,v,w,I,M,H,te),o.context=mj(null),c=o.current,m=ai(),m=po(m),v=To(m),v.callback=null,No(c,v,m),c=m,o.current.lanes=c,Jt(o,c),La(o),s[Y]=o.current,Kx(s),new zp(o)},Gf.version="19.1.1",Gf}var kj;function VV(){if(kj)return hb.exports;kj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hb.exports=LV(),hb.exports}var UV=VV();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rj="popstate";function BV(t={}){function e(i,a){let{pathname:l="/",search:d="",hash:f=""}=Dc(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),x1("",{pathname:l,search:d,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let l=i.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let f=i.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof a=="string"?a:xh(a))}function r(i,a){Fi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return $V(e,n,r,t)}function Yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zV(){return Math.random().toString(36).substring(2,10)}function Dj(t,e){return{usr:t.state,key:t.key,idx:e}}function x1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Dc(e):e,state:n,key:e&&e.key||r||zV()}}function xh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Dc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function $V(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let S=p(),N=S==null?null:S-h;h=S,f&&f({action:d,location:E.location,delta:N})}function x(S,N){d="PUSH";let C=x1(E.location,S,N);n&&n(C,S),h=p()+1;let j=Dj(C,h),L=E.createHref(C);try{l.pushState(j,"",L)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(L)}a&&f&&f({action:d,location:E.location,delta:1})}function b(S,N){d="REPLACE";let C=x1(E.location,S,N);n&&n(C,S),h=p();let j=Dj(C,h),L=E.createHref(C);l.replaceState(j,"",L),a&&f&&f({action:d,location:E.location,delta:0})}function A(S){return FV(S)}let E={get action(){return d},get location(){return t(i,l)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Rj,g),f=S,()=>{i.removeEventListener(Rj,g),f=null}},createHref(S){return e(i,S)},createURL:A,encodeLocation(S){let N=A(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:b,go(S){return l.go(S)}};return E}function FV(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Yt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:xh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function aR(t,e,n="/"){return qV(t,e,n,!1)}function qV(t,e,n,r){let i=typeof e=="string"?Dc(e):e,a=Hs(i.pathname||"/",n);if(a==null)return null;let l=sR(t);HV(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=nU(a);d=eU(l[f],h,r)}return d}function sR(t,e=[],n=[],r="",i=!1){let a=(l,d,f=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;Yt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Vs([r,p.relativePath]),x=n.concat(p);l.children&&l.children.length>0&&(Yt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),sR(l.children,e,x,g,f)),!(l.path==null&&!l.index)&&e.push({path:g,score:ZV(g,l.index),routesMeta:x})};return t.forEach((l,d)=>{if(l.path===""||!l.path?.includes("?"))a(l,d);else for(let f of oR(l.path))a(l,d,!0,f)}),e}function oR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=oR(r.join("/")),d=[];return d.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&d.push(...l),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function HV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var KV=/^:[\w-]+$/,GV=3,WV=2,YV=1,XV=10,QV=-2,Mj=t=>t==="*";function ZV(t,e){let n=t.split("/"),r=n.length;return n.some(Mj)&&(r+=QV),e&&(r+=WV),n.filter(i=>!Mj(i)).reduce((i,a)=>i+(KV.test(a)?GV:a===""?YV:XV),r)}function JV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function eU(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=Og({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),x=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Og({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Vs([a,g.pathname]),pathnameBase:sU(Vs([a,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(a=Vs([a,g.pathnameBase]))}return l}function Og(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let A=d[x]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const b=d[x];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function tU(t,e=!1,n=!0){Fi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rU(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Dc(t):t;return{pathname:n?n.startsWith("/")?n:iU(n,e):e,search:oU(r),hash:lU(i)}}function iU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function q2(t){let e=aU(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function H2(t,e,n,r=!1){let i;typeof t=="string"?i=Dc(t):(i={...t},Yt(!i.pathname||!i.pathname.includes("?"),yb("?","pathname","search",i)),Yt(!i.pathname||!i.pathname.includes("#"),yb("#","pathname","hash",i)),Yt(!i.search||!i.search.includes("#"),yb("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,d;if(l==null)d=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),g-=1;i.pathname=x.join("/")}d=g>=0?e[g]:"/"}let f=rU(i,d),h=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var Vs=t=>t.join("/").replace(/\/\/+/g,"/"),sU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var lR=["POST","PUT","PATCH","DELETE"];new Set(lR);var uU=["GET",...lR];new Set(uU);var vd=_.createContext(null);vd.displayName="DataRouter";var ev=_.createContext(null);ev.displayName="DataRouterState";_.createContext(!1);var cR=_.createContext({isTransitioning:!1});cR.displayName="ViewTransition";var dU=_.createContext(new Map);dU.displayName="Fetchers";var fU=_.createContext(null);fU.displayName="Await";var wa=_.createContext(null);wa.displayName="Navigation";var Bh=_.createContext(null);Bh.displayName="Location";var _a=_.createContext({outlet:null,matches:[],isDataRoute:!1});_a.displayName="Route";var K2=_.createContext(null);K2.displayName="RouteError";function hU(t,{relative:e}={}){Yt(xd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(wa),{hash:i,pathname:a,search:l}=zh(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:Vs([n,a])),r.createHref({pathname:d,search:l,hash:i})}function xd(){return _.useContext(Bh)!=null}function no(){return Yt(xd(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Bh).location}var uR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dR(t){_.useContext(wa).static||_.useLayoutEffect(t)}function Wi(){let{isDataRoute:t}=_.useContext(_a);return t?TU():mU()}function mU(){Yt(xd(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(vd),{basename:e,navigator:n}=_.useContext(wa),{matches:r}=_.useContext(_a),{pathname:i}=no(),a=JSON.stringify(q2(r)),l=_.useRef(!1);return dR(()=>{l.current=!0}),_.useCallback((f,h={})=>{if(Fi(l.current,uR),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=H2(f,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Vs([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,a,i,t])}_.createContext(null);function fR(){let{matches:t}=_.useContext(_a),e=t[t.length-1];return e?e.params:{}}function zh(t,{relative:e}={}){let{matches:n}=_.useContext(_a),{pathname:r}=no(),i=JSON.stringify(q2(n));return _.useMemo(()=>H2(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function pU(t,e){return hR(t,e)}function hR(t,e,n,r,i){Yt(xd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(wa),{matches:l}=_.useContext(_a),d=l[l.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let C=g&&g.path||"";mR(h,!g||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let x=no(),b;if(e){let C=typeof e=="string"?Dc(e):e;Yt(p==="/"||C.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=x;let A=b.pathname||"/",E=A;if(p!=="/"){let C=p.replace(/^\//,"").split("/");E="/"+A.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=aR(t,{pathname:E});Fi(g||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Fi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=bU(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},f,C.params),pathname:Vs([p,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:Vs([p,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,n,r,i);return e&&N?_.createElement(Bh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function gU(){let t=SU(),e=cU(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,l)}var yU=_.createElement(gU,null),vU=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?_.createElement(_a.Provider,{value:this.props.routeContext},_.createElement(K2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xU({routeContext:t,match:e,children:n}){let r=_.useContext(vd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(_a.Provider,{value:t},n)}function bU(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Yt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let d=!1,f=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:g,errors:x}=n,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||b){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let x,b=!1,A=null,E=null;n&&(x=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||yU,d&&(f<0&&g===0?(mR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):f===g&&(b=!0,E=p.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,g+1)),N=()=>{let C;return x?C=A:b?C=E:p.route.Component?C=_.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,_.createElement(xU,{match:p,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?_.createElement(vU,{location:n.location,revalidation:n.revalidation,component:A,error:x,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):N()},null)}function G2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wU(t){let e=_.useContext(vd);return Yt(e,G2(t)),e}function _U(t){let e=_.useContext(ev);return Yt(e,G2(t)),e}function EU(t){let e=_.useContext(_a);return Yt(e,G2(t)),e}function W2(t){let e=EU(t),n=e.matches[e.matches.length-1];return Yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function AU(){return W2("useRouteId")}function SU(){let t=_.useContext(K2),e=_U("useRouteError"),n=W2("useRouteError");return t!==void 0?t:e.errors?.[n]}function TU(){let{router:t}=wU("useNavigate"),e=W2("useNavigate"),n=_.useRef(!1);return dR(()=>{n.current=!0}),_.useCallback(async(i,a={})=>{Fi(n.current,uR),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Lj={};function mR(t,e,n){!e&&!Lj[t]&&(Lj[t]=!0,Fi(!1,n))}_.memo(NU);function NU({routes:t,future:e,state:n,unstable_onError:r}){return hR(t,void 0,n,r,e)}function vb({to:t,replace:e,state:n,relative:r}){Yt(xd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(wa);Fi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(_a),{pathname:l}=no(),d=Wi(),f=H2(t,q2(a),l,r==="path"),h=JSON.stringify(f);return _.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:r})},[d,h,r,e,n]),null}function un(t){Yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jU({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Yt(!xd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),d=_.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=Dc(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:x="default"}=n,b=_.useMemo(()=>{let A=Hs(f,l);return A==null?null:{location:{pathname:A,search:h,hash:p,state:g,key:x},navigationType:r}},[l,f,h,p,g,x,r]);return Fi(b!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:_.createElement(wa.Provider,{value:d},_.createElement(Bh.Provider,{children:e,value:b}))}function xb({children:t,location:e}){return pU(b1(t),e)}function b1(t,e=[]){let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let a=[...e,i];if(r.type===_.Fragment){n.push.apply(n,b1(r.props.children,a));return}Yt(r.type===un,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=b1(r.props.children,a)),n.push(l)}),n}var gg="get",yg="application/x-www-form-urlencoded";function tv(t){return t!=null&&typeof t.tagName=="string"}function CU(t){return tv(t)&&t.tagName.toLowerCase()==="button"}function PU(t){return tv(t)&&t.tagName.toLowerCase()==="form"}function OU(t){return tv(t)&&t.tagName.toLowerCase()==="input"}function IU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kU(t,e){return t.button===0&&(!e||e==="_self")&&!IU(t)}var Fp=null;function RU(){if(Fp===null)try{new FormData(document.createElement("form"),0),Fp=!1}catch{Fp=!0}return Fp}var DU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bb(t){return t!=null&&!DU.has(t)?(Fi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yg}"`),null):t}function MU(t,e){let n,r,i,a,l;if(PU(t)){let d=t.getAttribute("action");r=d?Hs(d,e):null,n=t.getAttribute("method")||gg,i=bb(t.getAttribute("enctype"))||yg,a=new FormData(t)}else if(CU(t)||OU(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?Hs(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||gg,i=bb(t.getAttribute("formenctype"))||bb(d.getAttribute("enctype"))||yg,a=new FormData(d,t),!RU()){let{name:h,type:p,value:g}=t;if(p==="image"){let x=h?`${h}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else h&&a.append(h,g)}}else{if(tv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gg,r=null,i=yg,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Y2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function LU(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Hs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function VU(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function BU(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await VU(a,n);return l.links?l.links():[]}return[]}));return qU(r.flat(1).filter(UU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Vj(t,e,n,r,i,a){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,h)=>l(f,h)||d(f,h)):a==="data"?e.filter((f,h)=>{let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function zU(t,e,{includeHydrateFallback:n}={}){return $U(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function $U(t){return[...new Set(t)]}function FU(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function qU(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(FU(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function pR(){let t=_.useContext(vd);return Y2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function HU(){let t=_.useContext(ev);return Y2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var X2=_.createContext(void 0);X2.displayName="FrameworkContext";function gR(){let t=_.useContext(X2);return Y2(t,"You must render this element inside a <HydratedRouter> element"),t}function KU(t,e){let n=_.useContext(X2),[r,i]=_.useState(!1),[a,l]=_.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=_.useRef(null);_.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=N=>{N.forEach(C=>{l(C.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[t]),_.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let b=()=>{i(!0)},A=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:Wf(d,b),onBlur:Wf(f,A),onMouseEnter:Wf(h,b),onMouseLeave:Wf(p,A),onTouchStart:Wf(g,b)}]:[!1,x,{}]}function Wf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function GU({page:t,...e}){let{router:n}=pR(),r=_.useMemo(()=>aR(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(YU,{page:t,matches:r,...e}):null}function WU(t){let{manifest:e,routeModules:n}=gR(),[r,i]=_.useState([]);return _.useEffect(()=>{let a=!1;return BU(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function YU({page:t,matches:e,...n}){let r=no(),{manifest:i,routeModules:a}=gR(),{basename:l}=pR(),{loaderData:d,matches:f}=HU(),h=_.useMemo(()=>Vj(t,e,f,i,r,"data"),[t,e,f,i,r]),p=_.useMemo(()=>Vj(t,e,f,i,r,"assets"),[t,e,f,i,r]),g=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,E=!1;if(e.forEach(N=>{let C=i.routes[N.route.id];!C||!C.hasLoader||(!h.some(j=>j.route.id===N.route.id)&&N.route.id in d&&a[N.route.id]?.shouldRevalidate||C.hasClientLoader?E=!0:A.add(N.route.id))}),A.size===0)return[];let S=LU(t,l,"data");return E&&A.size>0&&S.searchParams.set("_routes",e.filter(N=>A.has(N.route.id)).map(N=>N.route.id).join(",")),[S.pathname+S.search]},[l,d,r,i,h,e,t,a]),x=_.useMemo(()=>zU(p,i),[p,i]),b=WU(p);return _.createElement(_.Fragment,null,g.map(A=>_.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),x.map(A=>_.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),b.map(({key:A,link:E})=>_.createElement("link",{key:A,nonce:n.nonce,...E})))}function XU(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var yR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yR&&(window.__reactRouterVersion="7.9.1")}catch{}function QU({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=BV({window:n,v5Compat:!0}));let i=r.current,[a,l]=_.useState({action:i.action,location:i.location}),d=_.useCallback(f=>{_.startTransition(()=>l(f))},[l]);return _.useLayoutEffect(()=>i.listen(d),[i,d]),_.createElement(jU,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var vR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,...x},b){let{basename:A}=_.useContext(wa),E=typeof h=="string"&&vR.test(h),S,N=!1;if(typeof h=="string"&&E&&(S=h,yR))try{let R=new URL(window.location.href),F=h.startsWith("//")?new URL(R.protocol+h):new URL(h),B=Hs(F.pathname,A);F.origin===R.origin&&B!=null?h=B+F.search+F.hash:N=!0}catch{Fi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=hU(h,{relative:i}),[j,L,V]=KU(r,x),D=tB(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:i,viewTransition:g});function k(R){e&&e(R),R.defaultPrevented||D(R)}let O=_.createElement("a",{...x,...V,href:S||C,onClick:N||a?e:k,ref:XU(b,L),target:f,"data-discover":!E&&n==="render"?"true":void 0});return j&&!E?_.createElement(_.Fragment,null,O,_.createElement(GU,{page:C})):O});De.displayName="Link";var ZU=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:d,children:f,...h},p){let g=zh(l,{relative:h.relative}),x=no(),b=_.useContext(ev),{navigator:A,basename:E}=_.useContext(wa),S=b!=null&&sB(g)&&d===!0,N=A.encodeLocation?A.encodeLocation(g).pathname:g.pathname,C=x.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(C=C.toLowerCase(),j=j?j.toLowerCase():null,N=N.toLowerCase()),j&&E&&(j=Hs(j,E)||j);const L=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let V=C===N||!i&&C.startsWith(N)&&C.charAt(L)==="/",D=j!=null&&(j===N||!i&&j.startsWith(N)&&j.charAt(N.length)==="/"),k={isActive:V,isPending:D,isTransitioning:S},O=V?e:void 0,R;typeof r=="function"?R=r(k):R=[r,V?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(k):a;return _.createElement(De,{...h,"aria-current":O,className:R,ref:p,style:F,to:l,viewTransition:d},typeof f=="function"?f(k):f)});ZU.displayName="NavLink";var JU=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=gg,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...x},b)=>{let A=iB(),E=aB(d,{relative:h}),S=l.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&vR.test(d),C=j=>{if(f&&f(j),j.defaultPrevented)return;j.preventDefault();let L=j.nativeEvent.submitter,V=L?.getAttribute("formmethod")||l;A(L||j.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:i,state:a,relative:h,preventScrollReset:p,viewTransition:g})};return _.createElement("form",{ref:b,method:S,action:E,onSubmit:r?f:C,...x,"data-discover":!N&&t==="render"?"true":void 0})});JU.displayName="Form";function eB(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xR(t){let e=_.useContext(vd);return Yt(e,eB(t)),e}function tB(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let d=Wi(),f=no(),h=zh(t,{relative:a});return _.useCallback(p=>{if(kU(p,e)){p.preventDefault();let g=n!==void 0?n:xh(f)===xh(h);d(t,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,d,h,n,r,e,t,i,a,l])}var nB=0,rB=()=>`__${String(++nB)}__`;function iB(){let{router:t}=xR("useSubmit"),{basename:e}=_.useContext(wa),n=AU();return _.useCallback(async(r,i={})=>{let{action:a,method:l,encType:d,formData:f,body:h}=MU(r,e);if(i.navigate===!1){let p=i.fetcherKey||rB();await t.fetch(p,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function aB(t,{relative:e}={}){let{basename:n}=_.useContext(wa),r=_.useContext(_a);Yt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...zh(t||".",{relative:e})},l=no();if(t==null){a.search=l.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Vs([n,a.pathname])),xh(a)}function sB(t,{relative:e}={}){let n=_.useContext(cR);Yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xR("useViewTransitionState"),i=zh(t,{relative:e});if(!n.isTransitioning)return!1;let a=Hs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Hs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Og(i.pathname,l)!=null||Og(i.pathname,a)!=null}var bR=iR();const oB=()=>{};var Uj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],d=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},_R={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,d=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=a>>2,g=(a&3)<<4|d>>4;let x=(d&15)<<2|h>>6,b=h&63;f||(b=64,l||(x=64)),r.push(n[p],n[g],n[x],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||d==null||h==null||g==null)throw new cB;const x=a<<2|d>>4;if(r.push(x),h!==64){const b=d<<4&240|h>>2;if(r.push(b),g!==64){const A=h<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uB=function(t){const e=wR(t);return _R.encodeByteArray(e,!0)},Ig=function(t){return uB(t).replace(/\./g,"")},ER=function(t){try{return _R.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=()=>dB().__FIREBASE_DEFAULTS__,hB=()=>{if(typeof process>"u"||typeof Uj>"u")return;const t=Uj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ER(t[1]);return e&&JSON.parse(e)},nv=()=>{try{return oB()||fB()||hB()||mB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AR=t=>nv()?.emulatorHosts?.[t],SR=t=>{const e=AR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},TR=()=>nv()?.config,NR=t=>nv()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Q2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ig(JSON.stringify(n)),Ig(JSON.stringify(l)),""].join(".")}const dh={};function gB(){const t={prod:[],emulator:[]};for(const e of Object.keys(dh))dh[e]?t.emulator.push(e):t.prod.push(e);return t}function yB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Bj=!1;function Z2(t,e){if(typeof window>"u"||typeof document>"u"||!Mc(window.location.host)||dh[t]===e||dh[t]||Bj)return;dh[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=gB().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,b){x.setAttribute("width","24"),x.setAttribute("id",b),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Bj=!0,l()},x}function p(x,b){x.setAttribute("id",b),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=yB(r),b=n("text"),A=document.getElementById(b)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),N=n("preprendIcon"),C=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const j=x.element;d(j),p(S,E);const L=h();f(C,N),j.append(C,A,S,L),document.body.appendChild(j)}a?(A.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Er())}function xB(){const t=nv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _B(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EB(){const t=Er();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AB(){return!xB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SB(){try{return typeof indexedDB=="object"}catch{return!1}}function TB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB="FirebaseError";class rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NB,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$h.prototype.create)}}class $h{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?jB(a,r):"Error",d=`${this.serviceName}: ${l} (${i}).`;return new rs(i,d,r)}}function jB(t,e){return t.replace(CB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const CB=/\{\$([^}]+)}/g;function PB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ks(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(zj(a)&&zj(l)){if(!Ks(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zj(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function ih(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OB(t,e){const n=new IB(t,e);return n.subscribe.bind(n)}class IB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=wb),i.error===void 0&&(i.error=wb),i.complete===void 0&&(i.complete=wb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class ol{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RB=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MB(e))try{this.getOrInitializeService({instanceIdentifier:ac})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ac){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ac){return this.instances.has(e)}getOptions(e=ac){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ac){return this.component?this.component.multipleInstances?e:ac:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DB(t){return t===ac?void 0:t}function MB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const VB={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},UB=rt.INFO,BB={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},zB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class J2{constructor(e){this.name=e,this._logLevel=UB,this._logHandler=zB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const $B=(t,e)=>e.some(n=>t instanceof n);let $j,Fj;function FB(){return $j||($j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qB(){return Fj||(Fj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CR=new WeakMap,w1=new WeakMap,PR=new WeakMap,_b=new WeakMap,e_=new WeakMap;function HB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(tl(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&CR.set(n,t)}).catch(()=>{}),e_.set(e,t),e}function KB(t){if(w1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});w1.set(t,e)}let _1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return w1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GB(t){_1=t(_1)}function WB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Eb(this),e,...n);return PR.set(r,e.sort?e.sort():[e]),tl(r)}:qB().includes(t)?function(...e){return t.apply(Eb(this),e),tl(CR.get(this))}:function(...e){return tl(t.apply(Eb(this),e))}}function YB(t){return typeof t=="function"?WB(t):(t instanceof IDBTransaction&&KB(t),$B(t,FB())?new Proxy(t,_1):t)}function tl(t){if(t instanceof IDBRequest)return HB(t);if(_b.has(t))return _b.get(t);const e=YB(t);return e!==t&&(_b.set(t,e),e_.set(e,t)),e}const Eb=t=>e_.get(t);function XB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),d=tl(l);return r&&l.addEventListener("upgradeneeded",f=>{r(tl(l.result),f.oldVersion,f.newVersion,tl(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const QB=["get","getKey","getAll","getAllKeys","count"],ZB=["put","add","delete","clear"],Ab=new Map;function qj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ab.get(e))return Ab.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ZB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QB.includes(n)))return;const a=async function(l,...d){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),i&&f.done]))[0]};return Ab.set(e,a),a}GB(t=>({...t,get:(e,n,r)=>qj(e,n)||t.get(e,n,r),has:(e,n)=>!!qj(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ez(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ez(t){return t.getComponent()?.type==="VERSION"}const E1="@firebase/app",Hj="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new J2("@firebase/app"),tz="@firebase/app-compat",nz="@firebase/analytics-compat",rz="@firebase/analytics",iz="@firebase/app-check-compat",az="@firebase/app-check",sz="@firebase/auth",oz="@firebase/auth-compat",lz="@firebase/database",cz="@firebase/data-connect",uz="@firebase/database-compat",dz="@firebase/functions",fz="@firebase/functions-compat",hz="@firebase/installations",mz="@firebase/installations-compat",pz="@firebase/messaging",gz="@firebase/messaging-compat",yz="@firebase/performance",vz="@firebase/performance-compat",xz="@firebase/remote-config",bz="@firebase/remote-config-compat",wz="@firebase/storage",_z="@firebase/storage-compat",Ez="@firebase/firestore",Az="@firebase/ai",Sz="@firebase/firestore-compat",Tz="firebase",Nz="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="[DEFAULT]",jz={[E1]:"fire-core",[tz]:"fire-core-compat",[rz]:"fire-analytics",[nz]:"fire-analytics-compat",[az]:"fire-app-check",[iz]:"fire-app-check-compat",[sz]:"fire-auth",[oz]:"fire-auth-compat",[lz]:"fire-rtdb",[cz]:"fire-data-connect",[uz]:"fire-rtdb-compat",[dz]:"fire-fn",[fz]:"fire-fn-compat",[hz]:"fire-iid",[mz]:"fire-iid-compat",[pz]:"fire-fcm",[gz]:"fire-fcm-compat",[yz]:"fire-perf",[vz]:"fire-perf-compat",[xz]:"fire-rc",[bz]:"fire-rc-compat",[wz]:"fire-gcs",[_z]:"fire-gcs-compat",[Ez]:"fire-fst",[Sz]:"fire-fst-compat",[Az]:"fire-vertex","fire-js":"fire-js",[Tz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg=new Map,Cz=new Map,S1=new Map;function Kj(t,e){try{t.container.addComponent(e)}catch(n){Gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _c(t){const e=t.name;if(S1.has(e))return Gs.debug(`There were multiple attempts to register component ${e}.`),!1;S1.set(e,t);for(const n of kg.values())Kj(n,t);for(const n of Cz.values())Kj(n,t);return!0}function rv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nl=new $h("app","Firebase",Pz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=Nz;function OR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:A1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw nl.create("bad-app-name",{appName:String(i)});if(n||(n=TR()),!n)throw nl.create("no-options");const a=kg.get(i);if(a){if(Ks(n,a.options)&&Ks(r,a.config))return a;throw nl.create("duplicate-app",{appName:i})}const l=new LB(i);for(const f of S1.values())l.addComponent(f);const d=new Oz(n,r,l);return kg.set(i,d),d}function t_(t=A1){const e=kg.get(t);if(!e&&t===A1&&TR())return OR();if(!e)throw nl.create("no-app",{appName:t});return e}function $a(t,e,n){let r=jz[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gs.warn(l.join(" "));return}_c(new ol(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz="firebase-heartbeat-database",kz=1,bh="firebase-heartbeat-store";let Sb=null;function IR(){return Sb||(Sb=XB(Iz,kz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bh)}catch(n){console.warn(n)}}}}).catch(t=>{throw nl.create("idb-open",{originalErrorMessage:t.message})})),Sb}async function Rz(t){try{const n=(await IR()).transaction(bh),r=await n.objectStore(bh).get(kR(t));return await n.done,r}catch(e){if(e instanceof rs)Gs.warn(e.message);else{const n=nl.create("idb-get",{originalErrorMessage:e?.message});Gs.warn(n.message)}}}async function Gj(t,e){try{const r=(await IR()).transaction(bh,"readwrite");await r.objectStore(bh).put(e,kR(t)),await r.done}catch(n){if(n instanceof rs)Gs.warn(n.message);else{const r=nl.create("idb-set",{originalErrorMessage:n?.message});Gs.warn(r.message)}}}function kR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz=1024,Mz=30;class Lz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Wj();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Mz){const i=Bz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Wj(),{heartbeatsToSend:n,unsentEntries:r}=Vz(this._heartbeatsCache.heartbeats),i=Ig(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Gs.warn(e),""}}}function Wj(){return new Date().toISOString().substring(0,10)}function Vz(t,e=Dz){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Yj(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Uz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SB()?TB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Rz(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Yj(t){return Ig(JSON.stringify({version:2,heartbeats:t})).length}function Bz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t){_c(new ol("platform-logger",e=>new JB(e),"PRIVATE")),_c(new ol("heartbeat",e=>new Lz(e),"PRIVATE")),$a(E1,Hj,t),$a(E1,Hj,"esm2020"),$a("fire-js","")}zz("");function RR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $z=RR,DR=new $h("auth","Firebase",RR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=new J2("@firebase/auth");function Fz(t,...e){Rg.logLevel<=rt.WARN&&Rg.warn(`Auth (${Lc}): ${t}`,...e)}function vg(t,...e){Rg.logLevel<=rt.ERROR&&Rg.error(`Auth (${Lc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,...e){throw r_(t,...e)}function pa(t,...e){return r_(t,...e)}function n_(t,e,n){const r={...$z(),[e]:n};return new $h("auth","Firebase",r).create(e,{appName:t.name})}function Us(t){return n_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qi(t,"argument-error"),n_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function r_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DR.create(t,...e)}function Fe(t,e,...n){if(!t)throw r_(e,...n)}function ks(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vg(e),new Error(e)}function Ws(t,e){t||ks(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){return typeof self<"u"&&self.location?.href||""}function Hz(){return Xj()==="http:"||Xj()==="https:"}function Xj(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hz()||wB()||"connection"in navigator)?navigator.onLine:!0}function Gz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ws(n>e,"Short delay should be less than long delay!"),this.isMobile=vB()||_B()}get(){return Kz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t,e){Ws(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Xz=new qh(3e4,6e4);function ro(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function is(t,e,n,r,i={}){return LR(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=Fh({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...a};return bB()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Mc(t.emulatorConfig.host)&&(h.credentials="include"),MR.fetch()(await VR(t,t.config.apiHost,n,d),h)})}async function LR(t,e,n){t._canInitEmulator=!1;const r={...Wz,...e};try{const i=new Zz(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw qp(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw qp(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw qp(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw qp(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw n_(t,p,h);qi(t,p)}}catch(i){if(i instanceof rs)throw i;qi(t,"network-request-failed",{message:String(i)})}}async function Hh(t,e,n,r,i={}){const a=await is(t,e,n,r,i);return"mfaPendingCredential"in a&&qi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function VR(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?i_(t.config,i):`${t.config.apiScheme}://${i}`;return Yz.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function Qz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pa(this.auth,"network-request-failed")),Xz.get())})}}function qp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pa(t,e,r);return i.customData._tokenResponse=n,i}function Qj(t){return t!==void 0&&t.enterprise!==void 0}class Jz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Qz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function e$(t,e){return is(t,"GET","/v2/recaptchaConfig",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t$(t,e){return is(t,"POST","/v1/accounts:delete",e)}async function Dg(t,e){return is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n$(t,e=!1){const n=dn(t),r=await n.getIdToken(e),i=a_(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:fh(Tb(i.auth_time)),issuedAtTime:fh(Tb(i.iat)),expirationTime:fh(Tb(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Tb(t){return Number(t)*1e3}function a_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vg("JWT malformed, contained fewer than 3 sections"),null;try{const i=ER(n);return i?JSON.parse(i):(vg("Failed to decode base64 JWT payload"),null)}catch(i){return vg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Zj(t){const e=a_(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rs&&r$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function r$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fh(this.lastLoginAt),this.creationTime=fh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mg(t){const e=t.auth,n=await t.getIdToken(),r=await Qu(t,Dg(e,{idToken:n}));Fe(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?UR(i.providerUserInfo):[],l=s$(t.providerData,a),d=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,h=d?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new N1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function a$(t){const e=dn(t);await Mg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o$(t,e){const n=await LR(t,{},async()=>{const r=Fh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await VR(t,i,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&Mc(t.emulatorConfig.host)&&(f.credentials="include"),MR.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l$(t,e){return is(t,"POST","/v2/accounts:revokeToken",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=Zj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await o$(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new zu;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Fe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zu,this.toJSON())}_performRefresh(){return ks("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ha{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new i$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new N1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return n$(this,e)}reload(){return a$(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ha({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kr(this.auth.app))return Promise.reject(Us(this.auth));const e=await this.getIdToken();return await Qu(this,t$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:b,providerData:A,stsTokenManager:E}=n;Fe(g&&E,e,"internal-error");const S=zu.fromJSON(this.name,E);Fe(typeof g=="string",e,"internal-error"),Ho(r,e.name),Ho(i,e.name),Fe(typeof x=="boolean",e,"internal-error"),Fe(typeof b=="boolean",e,"internal-error"),Ho(a,e.name),Ho(l,e.name),Ho(d,e.name),Ho(f,e.name),Ho(h,e.name),Ho(p,e.name);const N=new ha({uid:g,auth:e,email:i,emailVerified:x,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:a,tenantId:d,stsTokenManager:S,createdAt:h,lastLoginAt:p});return A&&Array.isArray(A)&&(N.providerData=A.map(C=>({...C}))),f&&(N._redirectEventId=f),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new zu;i.updateFromServerResponse(n);const a=new ha({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Fe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?UR(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,d=new zu;d.updateFromIdToken(r);const f=new ha({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new N1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=new Map;function Rs(t){Ws(t instanceof Function,"Expected a class definition");let e=Jj.get(t);return e?(Ws(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Jj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BR.type="NONE";const eC=BR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t,e,n){return`firebase:${t}:${e}:${n}`}class $u{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=xg(this.userKey,i.apiKey,a),this.fullPersistenceKey=xg("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dg(this.auth,{idToken:e}).catch(()=>{});return n?ha._fromGetAccountInfoResponse(this.auth,n,e):null}return ha._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $u(Rs(eC),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Rs(eC);const l=xg(r,e.config.apiKey,e.name);let d=null;for(const h of n)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const x=await Dg(e,{idToken:p}).catch(()=>{});if(!x)break;g=await ha._fromGetAccountInfoResponse(e,x,p)}else g=ha._fromJSON(e,p);h!==a&&(d=g),a=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new $u(a,e,r):(a=f[0],d&&await a._set(l,d.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new $u(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KR(e))return"Blackberry";if(GR(e))return"Webos";if($R(e))return"Safari";if((e.includes("chrome/")||FR(e))&&!e.includes("edge/"))return"Chrome";if(HR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function zR(t=Er()){return/firefox\//i.test(t)}function $R(t=Er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FR(t=Er()){return/crios\//i.test(t)}function qR(t=Er()){return/iemobile/i.test(t)}function HR(t=Er()){return/android/i.test(t)}function KR(t=Er()){return/blackberry/i.test(t)}function GR(t=Er()){return/webos/i.test(t)}function s_(t=Er()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function c$(t=Er()){return s_(t)&&!!window.navigator?.standalone}function u$(){return EB()&&document.documentMode===10}function WR(t=Er()){return s_(t)||HR(t)||GR(t)||KR(t)||/windows phone/i.test(t)||qR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t,e=[]){let n;switch(t){case"Browser":n=tC(Er());break;case"Worker":n=`${tC(Er())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,d)=>{try{const f=e(a);l(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f$(t,e={}){return is(t,"GET","/v2/passwordPolicy",ro(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$=6;class m${constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??h$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nC(this),this.idTokenSubscription=new nC(this),this.beforeStateQueue=new d$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $u.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dg(this,{idToken:e}),r=await ha._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===l)&&d?.user&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Gz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kr(this.app))return Promise.reject(Us(this));const n=e?dn(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kr(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kr(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f$(this),n=new m$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $h("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await l$(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rs(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await $u.create(this,[Rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Kr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Fz(`Error while retrieving App Check token: ${e.error}`),e?.token}}function io(t){return dn(t)}class nC{constructor(e){this.auth=e,this.observer=null,this.addObserver=OB(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g$(t){iv=t}function XR(t){return iv.loadJS(t)}function y$(){return iv.recaptchaEnterpriseScript}function v$(){return iv.gapiScript}function x$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class b${constructor(){this.enterprise=new w$}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class w${ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _$="recaptcha-enterprise",QR="NO_RECAPTCHA";class E${constructor(e){this.type=_$,this.auth=io(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,d)=>{e$(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const h=new Jz(f);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}}).catch(f=>{d(f)})})}function i(a,l,d){const f=window.grecaptcha;Qj(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(h=>{l(h)}).catch(()=>{l(QR)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new b$().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(d=>{if(!n&&Qj(window.grecaptcha))i(d,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=y$();f.length!==0&&(f+=d),XR(f).then(()=>{i(d,a,l)}).catch(h=>{l(h)})}}).catch(d=>{l(d)})})}}async function rC(t,e,n,r=!1,i=!1){const a=new E$(t);let l;if(i)l=QR;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,h=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Lg(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await rC(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await rC(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(t,e){const n=rv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Ks(a,e??{}))return i;qi(i,"already-initialized")}return n.initialize({options:e})}function S$(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Rs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function T$(t,e,n){const r=io(t);Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=ZR(e),{host:l,port:d}=N$(e),f=d===null?"":`:${d}`,h={url:`${a}//${l}${f}/`},p=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Fe(Ks(h,r.config.emulator)&&Ks(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Mc(l)?(Q2(`${a}//${l}${f}`),Z2("Auth",!0)):j$()}function ZR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N$(t){const e=ZR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:iC(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:iC(l)}}}function iC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,n){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}async function C$(t,e){return is(t,"POST","/v1/accounts:update",e)}async function P$(t,e){return is(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(t,e){return Hh(t,"POST","/v1/accounts:signInWithPassword",ro(t,e))}async function I$(t,e){return is(t,"POST","/v1/accounts:sendOobCode",ro(t,e))}async function k$(t,e){return I$(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R$(t,e){return Hh(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}async function D$(t,e){return Hh(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends o_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new wh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lg(e,n,"signInWithPassword",O$);case"emailLink":return R$(e,{email:this._email,oobCode:this._password});default:qi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lg(e,r,"signUpPassword",P$);case"emailLink":return D$(e,{idToken:n,email:this._email,oobCode:this._password});default:qi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t,e){return Hh(t,"POST","/v1/accounts:signInWithIdp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$="http://localhost";class Ec extends o_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ec(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new Ec(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Fu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fu(e,n)}buildRequest(){const e={requestUri:M$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V$(t){const e=rh(ih(t)).link,n=e?rh(ih(e)).deep_link_id:null,r=rh(ih(t)).deep_link_id;return(r?rh(ih(r)).link:null)||r||n||e||t}class l_{constructor(e){const n=rh(ih(e)),r=n.apiKey??null,i=n.oobCode??null,a=L$(n.mode??null);Fe(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=V$(e);try{return new l_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this.providerId=Vc.PROVIDER_ID}static credential(e,n){return wh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=l_.parseLink(n);return Fe(r,"argument-error"),wh._fromEmailAndCode(e,r.code,r.tenantId)}}Vc.PROVIDER_ID="password";Vc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends c_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Kh{constructor(){super("facebook.com")}static credential(e){return Ec._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wo.credential(e.oauthAccessToken)}catch{return null}}}Wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Kh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ec._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ba.credential(n,r)}catch{return null}}}Ba.GOOGLE_SIGN_IN_METHOD="google.com";Ba.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Kh{constructor(){super("github.com")}static credential(e){return Ec._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yo.credential(e.oauthAccessToken)}catch{return null}}}Yo.GITHUB_SIGN_IN_METHOD="github.com";Yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends Kh{constructor(){super("twitter.com")}static credential(e,n){return Ec._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xo.credential(n,r)}catch{return null}}}Xo.TWITTER_SIGN_IN_METHOD="twitter.com";Xo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U$(t,e){return Hh(t,"POST","/v1/accounts:signUp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ha._fromIdTokenResponse(e,r,i),l=aC(r);return new Ac({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=aC(r);return new Ac({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function aC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends rs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vg(e,n,r,i)}}function JR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Vg._fromErrorAndOperation(t,a,e,r):a})}async function B$(t,e,n=!1){const r=await Qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ac._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(t,e,n=!1){const{auth:r}=t;if(Kr(r.app))return Promise.reject(Us(r));const i="reauthenticate";try{const a=await Qu(t,JR(r,i,e,t),n);Fe(a.idToken,r,"internal-error");const l=a_(a.idToken);Fe(l,r,"internal-error");const{sub:d}=l;return Fe(t.uid===d,r,"user-mismatch"),Ac._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&qi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(t,e,n=!1){if(Kr(t.app))return Promise.reject(Us(t));const r="signIn",i=await JR(t,r,e),a=await Ac._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function z$(t,e){return t3(io(t),e)}async function $$(t,e){return e3(dn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(t){const e=io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F$(t,e,n){const r=io(t);await Lg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",k$)}async function q$(t,e,n){if(Kr(t.app))return Promise.reject(Us(t));const r=io(t),l=await Lg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U$).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&n3(t),f}),d=await Ac._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(d.user),d}function H$(t,e,n){return Kr(t.app)?Promise.reject(Us(t)):z$(dn(t),Vc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&n3(t),r})}function K$(t,e){return G$(dn(t),null,e)}async function G$(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const l=await Qu(t,C$(r,a));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(t,e){return dn(t).setPersistence(e)}function Y$(t,e,n,r){return dn(t).onIdTokenChanged(e,n,r)}function X$(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}function Q$(t,e,n,r){return dn(t).onAuthStateChanged(e,n,r)}function r3(t){return dn(t).signOut()}const Ug="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ug,"1"),this.storage.removeItem(Ug),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=1e3,J$=10;class a3 extends i3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,d,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);u$()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,J$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Z$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}a3.type="LOCAL";const s3=a3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3 extends i3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}o3.type="SESSION";const l3=o3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new av(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(l).map(async h=>h(n.origin,a)),f=await eF(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}av.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((d,f)=>{const h=u_("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const x=g;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(x.data.response);break;default:clearTimeout(p),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(){return window}function nF(t){Fa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(){return typeof Fa().WorkerGlobalScope<"u"&&typeof Fa().importScripts=="function"}async function rF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iF(){return navigator?.serviceWorker?.controller||null}function aF(){return c3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="firebaseLocalStorageDb",sF=1,Bg="firebaseLocalStorage",d3="fbase_key";class Gh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sv(t,e){return t.transaction([Bg],e?"readwrite":"readonly").objectStore(Bg)}function oF(){const t=indexedDB.deleteDatabase(u3);return new Gh(t).toPromise()}function j1(){const t=indexedDB.open(u3,sF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bg,{keyPath:d3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bg)?e(r):(r.close(),await oF(),e(await j1()))})})}async function sC(t,e,n){const r=sv(t,!0).put({[d3]:e,value:n});return new Gh(r).toPromise()}async function lF(t,e){const n=sv(t,!1).get(e),r=await new Gh(n).toPromise();return r===void 0?null:r.value}function oC(t,e){const n=sv(t,!0).delete(e);return new Gh(n).toPromise()}const cF=800,uF=3;class f3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await j1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return c3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=av._getInstance(aF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rF(),!this.activeServiceWorker)return;this.sender=new tF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await j1();return await sC(e,Ug,"1"),await oC(e,Ug),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=sv(i,!1).getAll();return new Gh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f3.type="LOCAL";const dF=f3;new qh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t,e){return e?Rs(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends o_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fF(t){return t3(t.auth,new d_(t),t.bypassAuthState)}function hF(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),e3(n,new d_(t),t.bypassAuthState)}async function mF(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),B$(n,new d_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fF;case"linkViaPopup":case"linkViaRedirect":return mF;case"reauthViaPopup":case"reauthViaRedirect":return hF;default:qi(this.auth,"internal-error")}}resolve(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=new qh(2e3,1e4);async function p3(t,e,n){if(Kr(t.app))return Promise.reject(pa(t,"operation-not-supported-in-this-environment"));const r=io(t);qz(t,e,c_);const i=h3(r,n);return new cc(r,"signInViaPopup",e,i).executeNotNull()}class cc extends m3{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,cc.currentPopupAction&&cc.currentPopupAction.cancel(),cc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Ws(this.filter.length===1,"Popup operations only handle one event");const e=u_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pF.get())};e()}}cc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="pendingRedirect",bg=new Map;class yF extends m3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bg.get(this.auth._key());if(!e){try{const r=await vF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bg.set(this.auth._key(),e)}return this.bypassAuthState||bg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vF(t,e){const n=wF(e),r=bF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function xF(t,e){bg.set(t._key(),e)}function bF(t){return Rs(t._redirectPersistence)}function wF(t){return xg(gF,t.config.apiKey,t.name)}async function _F(t,e,n=!1){if(Kr(t.app))return Promise.reject(Us(t));const r=io(t),i=h3(r,e),l=await new yF(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=600*1e3;class AF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!g3(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(pa(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EF&&this.cachedEventUids.clear(),this.cachedEventUids.has(lC(e))}saveEventToCache(e){this.cachedEventUids.add(lC(e)),this.lastProcessedEventTime=Date.now()}}function lC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function g3({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function SF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TF(t,e={}){return is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jF=/^https?/;async function CF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TF(t);for(const n of e)try{if(PF(n))return}catch{}qi(t,"unauthorized-domain")}function PF(t){const e=T1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!jF.test(n))return!1;if(NF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=new qh(3e4,6e4);function cC(){const t=Fa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IF(t){return new Promise((e,n)=>{function r(){cC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cC(),n(pa(t,"network-request-failed"))},timeout:OF.get()})}if(Fa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fa().gapi?.load)r();else{const i=x$("iframefcb");return Fa()[i]=()=>{gapi.load?r():n(pa(t,"network-request-failed"))},XR(`${v$()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw wg=null,e})}let wg=null;function kF(t){return wg=wg||IF(t),wg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=new qh(5e3,15e3),DF="__/auth/iframe",MF="emulator/auth/iframe",LF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UF(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?i_(e,MF):`https://${t.config.authDomain}/${DF}`,r={apiKey:e.apiKey,appName:t.name,v:Lc},i=VF.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Fh(r).slice(1)}`}async function BF(t){const e=await kF(t),n=Fa().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:UF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LF,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=pa(t,"network-request-failed"),d=Fa().setTimeout(()=>{a(l)},RF.get());function f(){Fa().clearTimeout(d),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$F=500,FF=600,qF="_blank",HF="http://localhost";class uC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KF(t,e,n,r=$F,i=FF){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...zF,width:r.toString(),height:i.toString(),top:a,left:l},h=Er().toLowerCase();n&&(d=FR(h)?qF:n),zR(h)&&(e=e||HF,f.scrollbars="yes");const p=Object.entries(f).reduce((x,[b,A])=>`${x}${b}=${A},`,"");if(c$(h)&&d!=="_self")return GF(e||"",d),new uC(null);const g=window.open(e||"",d,p);Fe(g,t,"popup-blocked");try{g.focus()}catch{}return new uC(g)}function GF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF="__/auth/handler",YF="emulator/auth/handler",XF=encodeURIComponent("fac");async function dC(t,e,n,r,i,a){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lc,eventId:i};if(e instanceof c_){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",PB(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof Kh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await t._getAppCheckToken(),h=f?`#${XF}=${encodeURIComponent(f)}`:"";return`${QF(t)}?${Fh(d).slice(1)}${h}`}function QF({config:t}){return t.emulator?i_(t,YF):`https://${t.authDomain}/${WF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="webStorageSupport";class ZF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l3,this._completeRedirectFn=_F,this._overrideRedirectResult=xF}async _openPopup(e,n,r,i){Ws(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await dC(e,n,r,T1(),i);return KF(e,a,u_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await dC(e,n,r,T1(),i);return nF(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ws(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BF(e),r=new AF(e);return n.register("authEvent",i=>(Fe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nb,{type:Nb},i=>{const a=i?.[0]?.[Nb];a!==void 0&&n(!!a),qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WR()||$R()||s_()}}const JF=ZF;var fC="@firebase/auth",hC="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nq(t){_c(new ol("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Fe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YR(t)},h=new p$(r,i,a,f);return S$(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_c(new ol("auth-internal",e=>{const n=io(e.getProvider("auth").getImmediate());return(r=>new eq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$a(fC,hC,tq(t)),$a(fC,hC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq=300,iq=NR("authIdTokenMaxAge")||rq;let mC=null;const aq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iq)return;const i=n?.token;mC!==i&&(mC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sq(t=t_()){const e=rv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=A$(t,{popupRedirectResolver:JF,persistence:[dF,s3,l3]}),r=NR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=aq(a.toString());X$(n,l,()=>l(n.currentUser)),Y$(n,d=>l(d))}}const i=AR("auth");return i&&T$(n,`http://${i}`),n}function oq(){return document.getElementsByTagName("head")?.[0]??document}g$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=pa("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",oq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nq("Browser");var lq="firebase",cq="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$a(lq,cq,"app");var pC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rl,y3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,O){function R(){}R.prototype=O.prototype,k.F=O.prototype,k.prototype=new R,k.prototype.constructor=k,k.D=function(F,B,q){for(var U=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)U[ve-2]=arguments[ve];return O.prototype[B].apply(F,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,O,R){R||(R=0);const F=Array(16);if(typeof O=="string")for(var B=0;B<16;++B)F[B]=O.charCodeAt(R++)|O.charCodeAt(R++)<<8|O.charCodeAt(R++)<<16|O.charCodeAt(R++)<<24;else for(B=0;B<16;++B)F[B]=O[R++]|O[R++]<<8|O[R++]<<16|O[R++]<<24;O=k.g[0],R=k.g[1],B=k.g[2];let q=k.g[3],U;U=O+(q^R&(B^q))+F[0]+3614090360&4294967295,O=R+(U<<7&4294967295|U>>>25),U=q+(B^O&(R^B))+F[1]+3905402710&4294967295,q=O+(U<<12&4294967295|U>>>20),U=B+(R^q&(O^R))+F[2]+606105819&4294967295,B=q+(U<<17&4294967295|U>>>15),U=R+(O^B&(q^O))+F[3]+3250441966&4294967295,R=B+(U<<22&4294967295|U>>>10),U=O+(q^R&(B^q))+F[4]+4118548399&4294967295,O=R+(U<<7&4294967295|U>>>25),U=q+(B^O&(R^B))+F[5]+1200080426&4294967295,q=O+(U<<12&4294967295|U>>>20),U=B+(R^q&(O^R))+F[6]+2821735955&4294967295,B=q+(U<<17&4294967295|U>>>15),U=R+(O^B&(q^O))+F[7]+4249261313&4294967295,R=B+(U<<22&4294967295|U>>>10),U=O+(q^R&(B^q))+F[8]+1770035416&4294967295,O=R+(U<<7&4294967295|U>>>25),U=q+(B^O&(R^B))+F[9]+2336552879&4294967295,q=O+(U<<12&4294967295|U>>>20),U=B+(R^q&(O^R))+F[10]+4294925233&4294967295,B=q+(U<<17&4294967295|U>>>15),U=R+(O^B&(q^O))+F[11]+2304563134&4294967295,R=B+(U<<22&4294967295|U>>>10),U=O+(q^R&(B^q))+F[12]+1804603682&4294967295,O=R+(U<<7&4294967295|U>>>25),U=q+(B^O&(R^B))+F[13]+4254626195&4294967295,q=O+(U<<12&4294967295|U>>>20),U=B+(R^q&(O^R))+F[14]+2792965006&4294967295,B=q+(U<<17&4294967295|U>>>15),U=R+(O^B&(q^O))+F[15]+1236535329&4294967295,R=B+(U<<22&4294967295|U>>>10),U=O+(B^q&(R^B))+F[1]+4129170786&4294967295,O=R+(U<<5&4294967295|U>>>27),U=q+(R^B&(O^R))+F[6]+3225465664&4294967295,q=O+(U<<9&4294967295|U>>>23),U=B+(O^R&(q^O))+F[11]+643717713&4294967295,B=q+(U<<14&4294967295|U>>>18),U=R+(q^O&(B^q))+F[0]+3921069994&4294967295,R=B+(U<<20&4294967295|U>>>12),U=O+(B^q&(R^B))+F[5]+3593408605&4294967295,O=R+(U<<5&4294967295|U>>>27),U=q+(R^B&(O^R))+F[10]+38016083&4294967295,q=O+(U<<9&4294967295|U>>>23),U=B+(O^R&(q^O))+F[15]+3634488961&4294967295,B=q+(U<<14&4294967295|U>>>18),U=R+(q^O&(B^q))+F[4]+3889429448&4294967295,R=B+(U<<20&4294967295|U>>>12),U=O+(B^q&(R^B))+F[9]+568446438&4294967295,O=R+(U<<5&4294967295|U>>>27),U=q+(R^B&(O^R))+F[14]+3275163606&4294967295,q=O+(U<<9&4294967295|U>>>23),U=B+(O^R&(q^O))+F[3]+4107603335&4294967295,B=q+(U<<14&4294967295|U>>>18),U=R+(q^O&(B^q))+F[8]+1163531501&4294967295,R=B+(U<<20&4294967295|U>>>12),U=O+(B^q&(R^B))+F[13]+2850285829&4294967295,O=R+(U<<5&4294967295|U>>>27),U=q+(R^B&(O^R))+F[2]+4243563512&4294967295,q=O+(U<<9&4294967295|U>>>23),U=B+(O^R&(q^O))+F[7]+1735328473&4294967295,B=q+(U<<14&4294967295|U>>>18),U=R+(q^O&(B^q))+F[12]+2368359562&4294967295,R=B+(U<<20&4294967295|U>>>12),U=O+(R^B^q)+F[5]+4294588738&4294967295,O=R+(U<<4&4294967295|U>>>28),U=q+(O^R^B)+F[8]+2272392833&4294967295,q=O+(U<<11&4294967295|U>>>21),U=B+(q^O^R)+F[11]+1839030562&4294967295,B=q+(U<<16&4294967295|U>>>16),U=R+(B^q^O)+F[14]+4259657740&4294967295,R=B+(U<<23&4294967295|U>>>9),U=O+(R^B^q)+F[1]+2763975236&4294967295,O=R+(U<<4&4294967295|U>>>28),U=q+(O^R^B)+F[4]+1272893353&4294967295,q=O+(U<<11&4294967295|U>>>21),U=B+(q^O^R)+F[7]+4139469664&4294967295,B=q+(U<<16&4294967295|U>>>16),U=R+(B^q^O)+F[10]+3200236656&4294967295,R=B+(U<<23&4294967295|U>>>9),U=O+(R^B^q)+F[13]+681279174&4294967295,O=R+(U<<4&4294967295|U>>>28),U=q+(O^R^B)+F[0]+3936430074&4294967295,q=O+(U<<11&4294967295|U>>>21),U=B+(q^O^R)+F[3]+3572445317&4294967295,B=q+(U<<16&4294967295|U>>>16),U=R+(B^q^O)+F[6]+76029189&4294967295,R=B+(U<<23&4294967295|U>>>9),U=O+(R^B^q)+F[9]+3654602809&4294967295,O=R+(U<<4&4294967295|U>>>28),U=q+(O^R^B)+F[12]+3873151461&4294967295,q=O+(U<<11&4294967295|U>>>21),U=B+(q^O^R)+F[15]+530742520&4294967295,B=q+(U<<16&4294967295|U>>>16),U=R+(B^q^O)+F[2]+3299628645&4294967295,R=B+(U<<23&4294967295|U>>>9),U=O+(B^(R|~q))+F[0]+4096336452&4294967295,O=R+(U<<6&4294967295|U>>>26),U=q+(R^(O|~B))+F[7]+1126891415&4294967295,q=O+(U<<10&4294967295|U>>>22),U=B+(O^(q|~R))+F[14]+2878612391&4294967295,B=q+(U<<15&4294967295|U>>>17),U=R+(q^(B|~O))+F[5]+4237533241&4294967295,R=B+(U<<21&4294967295|U>>>11),U=O+(B^(R|~q))+F[12]+1700485571&4294967295,O=R+(U<<6&4294967295|U>>>26),U=q+(R^(O|~B))+F[3]+2399980690&4294967295,q=O+(U<<10&4294967295|U>>>22),U=B+(O^(q|~R))+F[10]+4293915773&4294967295,B=q+(U<<15&4294967295|U>>>17),U=R+(q^(B|~O))+F[1]+2240044497&4294967295,R=B+(U<<21&4294967295|U>>>11),U=O+(B^(R|~q))+F[8]+1873313359&4294967295,O=R+(U<<6&4294967295|U>>>26),U=q+(R^(O|~B))+F[15]+4264355552&4294967295,q=O+(U<<10&4294967295|U>>>22),U=B+(O^(q|~R))+F[6]+2734768916&4294967295,B=q+(U<<15&4294967295|U>>>17),U=R+(q^(B|~O))+F[13]+1309151649&4294967295,R=B+(U<<21&4294967295|U>>>11),U=O+(B^(R|~q))+F[4]+4149444226&4294967295,O=R+(U<<6&4294967295|U>>>26),U=q+(R^(O|~B))+F[11]+3174756917&4294967295,q=O+(U<<10&4294967295|U>>>22),U=B+(O^(q|~R))+F[2]+718787259&4294967295,B=q+(U<<15&4294967295|U>>>17),U=R+(q^(B|~O))+F[9]+3951481745&4294967295,k.g[0]=k.g[0]+O&4294967295,k.g[1]=k.g[1]+(B+(U<<21&4294967295|U>>>11))&4294967295,k.g[2]=k.g[2]+B&4294967295,k.g[3]=k.g[3]+q&4294967295}r.prototype.v=function(k,O){O===void 0&&(O=k.length);const R=O-this.blockSize,F=this.C;let B=this.h,q=0;for(;q<O;){if(B==0)for(;q<=R;)i(this,k,q),q+=this.blockSize;if(typeof k=="string"){for(;q<O;)if(F[B++]=k.charCodeAt(q++),B==this.blockSize){i(this,F),B=0;break}}else for(;q<O;)if(F[B++]=k[q++],B==this.blockSize){i(this,F),B=0;break}}this.h=B,this.o+=O},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var O=1;O<k.length-8;++O)k[O]=0;O=this.o*8;for(var R=k.length-8;R<k.length;++R)k[R]=O&255,O/=256;for(this.v(k),k=Array(16),O=0,R=0;R<4;++R)for(let F=0;F<32;F+=8)k[O++]=this.g[R]>>>F&255;return k};function a(k,O){var R=d;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=O(k)}function l(k,O){this.h=O;const R=[];let F=!0;for(let B=k.length-1;B>=0;B--){const q=k[B]|0;F&&q==O||(R[B]=q,F=!1)}this.g=R}var d={};function f(k){return-128<=k&&k<128?a(k,function(O){return new l([O|0],O<0?-1:0)}):new l([k|0],k<0?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return g;if(k<0)return S(h(-k));const O=[];let R=1;for(let F=0;k>=R;F++)O[F]=k/R|0,R*=4294967296;return new l(O,0)}function p(k,O){if(k.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(k.charAt(0)=="-")return S(p(k.substring(1),O));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=h(Math.pow(O,8));let F=g;for(let q=0;q<k.length;q+=8){var B=Math.min(8,k.length-q);const U=parseInt(k.substring(q,q+B),O);B<8?(B=h(Math.pow(O,B)),F=F.j(B).add(h(U))):(F=F.j(R),F=F.add(h(U)))}return F}var g=f(0),x=f(1),b=f(16777216);t=l.prototype,t.m=function(){if(E(this))return-S(this).m();let k=0,O=1;for(let R=0;R<this.g.length;R++){const F=this.i(R);k+=(F>=0?F:4294967296+F)*O,O*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(A(this))return"0";if(E(this))return"-"+S(this).toString(k);const O=h(Math.pow(k,6));var R=this;let F="";for(;;){const B=L(R,O).g;R=N(R,B.j(O));let q=((R.g.length>0?R.g[0]:R.h)>>>0).toString(k);if(R=B,A(R))return q+F;for(;q.length<6;)q="0"+q;F=q+F}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function A(k){if(k.h!=0)return!1;for(let O=0;O<k.g.length;O++)if(k.g[O]!=0)return!1;return!0}function E(k){return k.h==-1}t.l=function(k){return k=N(this,k),E(k)?-1:A(k)?0:1};function S(k){const O=k.g.length,R=[];for(let F=0;F<O;F++)R[F]=~k.g[F];return new l(R,~k.h).add(x)}t.abs=function(){return E(this)?S(this):this},t.add=function(k){const O=Math.max(this.g.length,k.g.length),R=[];let F=0;for(let B=0;B<=O;B++){let q=F+(this.i(B)&65535)+(k.i(B)&65535),U=(q>>>16)+(this.i(B)>>>16)+(k.i(B)>>>16);F=U>>>16,q&=65535,U&=65535,R[B]=U<<16|q}return new l(R,R[R.length-1]&-2147483648?-1:0)};function N(k,O){return k.add(S(O))}t.j=function(k){if(A(this)||A(k))return g;if(E(this))return E(k)?S(this).j(S(k)):S(S(this).j(k));if(E(k))return S(this.j(S(k)));if(this.l(b)<0&&k.l(b)<0)return h(this.m()*k.m());const O=this.g.length+k.g.length,R=[];for(var F=0;F<2*O;F++)R[F]=0;for(F=0;F<this.g.length;F++)for(let B=0;B<k.g.length;B++){const q=this.i(F)>>>16,U=this.i(F)&65535,ve=k.i(B)>>>16,le=k.i(B)&65535;R[2*F+2*B]+=U*le,C(R,2*F+2*B),R[2*F+2*B+1]+=q*le,C(R,2*F+2*B+1),R[2*F+2*B+1]+=U*ve,C(R,2*F+2*B+1),R[2*F+2*B+2]+=q*ve,C(R,2*F+2*B+2)}for(k=0;k<O;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=O;k<2*O;k++)R[k]=0;return new l(R,0)};function C(k,O){for(;(k[O]&65535)!=k[O];)k[O+1]+=k[O]>>>16,k[O]&=65535,O++}function j(k,O){this.g=k,this.h=O}function L(k,O){if(A(O))throw Error("division by zero");if(A(k))return new j(g,g);if(E(k))return O=L(S(k),O),new j(S(O.g),S(O.h));if(E(O))return O=L(k,S(O)),new j(S(O.g),O.h);if(k.g.length>30){if(E(k)||E(O))throw Error("slowDivide_ only works with positive integers.");for(var R=x,F=O;F.l(k)<=0;)R=V(R),F=V(F);var B=D(R,1),q=D(F,1);for(F=D(F,2),R=D(R,2);!A(F);){var U=q.add(F);U.l(k)<=0&&(B=B.add(R),q=U),F=D(F,1),R=D(R,1)}return O=N(k,B.j(O)),new j(B,O)}for(B=g;k.l(O)>=0;){for(R=Math.max(1,Math.floor(k.m()/O.m())),F=Math.ceil(Math.log(R)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),q=h(R),U=q.j(O);E(U)||U.l(k)>0;)R-=F,q=h(R),U=q.j(O);A(q)&&(q=x),B=B.add(q),k=N(k,U)}return new j(B,k)}t.B=function(k){return L(this,k).h},t.and=function(k){const O=Math.max(this.g.length,k.g.length),R=[];for(let F=0;F<O;F++)R[F]=this.i(F)&k.i(F);return new l(R,this.h&k.h)},t.or=function(k){const O=Math.max(this.g.length,k.g.length),R=[];for(let F=0;F<O;F++)R[F]=this.i(F)|k.i(F);return new l(R,this.h|k.h)},t.xor=function(k){const O=Math.max(this.g.length,k.g.length),R=[];for(let F=0;F<O;F++)R[F]=this.i(F)^k.i(F);return new l(R,this.h^k.h)};function V(k){const O=k.g.length+1,R=[];for(let F=0;F<O;F++)R[F]=k.i(F)<<1|k.i(F-1)>>>31;return new l(R,k.h)}function D(k,O){const R=O>>5;O%=32;const F=k.g.length-R,B=[];for(let q=0;q<F;q++)B[q]=O>0?k.i(q+R)>>>O|k.i(q+R+1)<<32-O:k.i(q+R);return new l(B,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,y3=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,rl=l}).apply(typeof pC<"u"?pC:typeof self<"u"?self:typeof window<"u"?window:{});var Hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v3,ah,x3,_g,C1,b3,w3,_3;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hp=="object"&&Hp];for(var T=0;T<y.length;++T){var P=y[T];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(y,T){if(T)e:{var P=r;y=y.split(".");for(var $=0;$<y.length-1;$++){var ee=y[$];if(!(ee in P))break e;P=P[ee]}y=y[y.length-1],$=P[y],T=T($),T!=$&&T!=null&&e(P,y,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(T){var P=[],$;for($ in T)Object.prototype.hasOwnProperty.call(T,$)&&P.push([$,T[$]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function d(y){var T=typeof y;return T=="object"&&y!=null||T=="function"}function f(y,T,P){return y.call.apply(y.bind,arguments)}function h(y,T,P){return h=f,h.apply(null,arguments)}function p(y,T){var P=Array.prototype.slice.call(arguments,1);return function(){var $=P.slice();return $.push.apply($,arguments),y.apply(this,$)}}function g(y,T){function P(){}P.prototype=T.prototype,y.Z=T.prototype,y.prototype=new P,y.prototype.constructor=y,y.Ob=function($,ee,se){for(var Ee=Array(arguments.length-2),We=2;We<arguments.length;We++)Ee[We-2]=arguments[We];return T.prototype[ee].apply($,Ee)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function b(y){const T=y.length;if(T>0){const P=Array(T);for(let $=0;$<T;$++)P[$]=y[$];return P}return[]}function A(y,T){for(let $=1;$<arguments.length;$++){const ee=arguments[$];var P=typeof ee;if(P=P!="object"?P:ee?Array.isArray(ee)?"array":P:"null",P=="array"||P=="object"&&typeof ee.length=="number"){P=y.length||0;const se=ee.length||0;y.length=P+se;for(let Ee=0;Ee<se;Ee++)y[P+Ee]=ee[Ee]}else y.push(ee)}}class E{constructor(T,P){this.i=T,this.j=P,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function S(y){l.setTimeout(()=>{throw y},0)}function N(){var y=k;let T=null;return y.g&&(T=y.g,y.g=y.g.next,y.g||(y.h=null),T.next=null),T}class C{constructor(){this.h=this.g=null}add(T,P){const $=j.get();$.set(T,P),this.h?this.h.next=$:this.g=$,this.h=$}}var j=new E(()=>new L,y=>y.reset());class L{constructor(){this.next=this.g=this.h=null}set(T,P){this.h=T,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let V,D=!1,k=new C,O=()=>{const y=Promise.resolve(void 0);V=()=>{y.then(R)}};function R(){for(var y;y=N();){try{y.h.call(y.g)}catch(P){S(P)}var T=j;T.j(y),T.h<100&&(T.h++,y.next=T.g,T.g=y)}D=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(y,T){this.type=y,this.g=this.target=T,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,T=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const P=()=>{};l.addEventListener("test",P,T),l.removeEventListener("test",P,T)}catch{}return y})();function U(y){return/^[\s\xa0]*$/.test(y)}function ve(y,T){B.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,T)}g(ve,B),ve.prototype.init=function(y,T){const P=this.type=y.type,$=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=T,T=y.relatedTarget,T||(P=="mouseover"?T=y.fromElement:P=="mouseout"&&(T=y.toElement)),this.relatedTarget=T,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),W=0;function K(y,T,P,$,ee){this.listener=y,this.proxy=null,this.src=T,this.type=P,this.capture=!!$,this.ha=ee,this.key=++W,this.da=this.fa=!1}function ce(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function me(y,T,P){for(const $ in y)T.call(P,y[$],$,y)}function z(y,T){for(const P in y)T.call(void 0,y[P],P,y)}function X(y){const T={};for(const P in y)T[P]=y[P];return T}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(y,T){let P,$;for(let ee=1;ee<arguments.length;ee++){$=arguments[ee];for(P in $)y[P]=$[P];for(let se=0;se<ne.length;se++)P=ne[se],Object.prototype.hasOwnProperty.call($,P)&&(y[P]=$[P])}}function oe(y){this.src=y,this.g={},this.h=0}oe.prototype.add=function(y,T,P,$,ee){const se=y.toString();y=this.g[se],y||(y=this.g[se]=[],this.h++);const Ee=be(y,T,$,ee);return Ee>-1?(T=y[Ee],P||(T.fa=!1)):(T=new K(T,this.src,se,!!$,ee),T.fa=P,y.push(T)),T};function ye(y,T){const P=T.type;if(P in y.g){var $=y.g[P],ee=Array.prototype.indexOf.call($,T,void 0),se;(se=ee>=0)&&Array.prototype.splice.call($,ee,1),se&&(ce(T),y.g[P].length==0&&(delete y.g[P],y.h--))}}function be(y,T,P,$){for(let ee=0;ee<y.length;++ee){const se=y[ee];if(!se.da&&se.listener==T&&se.capture==!!P&&se.ha==$)return ee}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Ke={};function _e(y,T,P,$,ee){if(Array.isArray(T)){for(let se=0;se<T.length;se++)_e(y,T[se],P,$,ee);return null}return P=os(P),y&&y[le]?y.J(T,P,d($)?!!$.capture:!1,ee):Ve(y,T,P,!1,$,ee)}function Ve(y,T,P,$,ee,se){if(!T)throw Error("Invalid event type");const Ee=d(ee)?!!ee.capture:!!ee;let We=Qt(y);if(We||(y[Le]=We=new oe(y)),P=We.add(T,P,$,Ee,se),P.proxy)return P;if($=Ne(),P.proxy=$,$.src=y,$.listener=P,y.addEventListener)q||(ee=Ee),ee===void 0&&(ee=!1),y.addEventListener(T.toString(),$,ee);else if(y.attachEvent)y.attachEvent(nt(T.toString()),$);else if(y.addListener&&y.removeListener)y.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Ne(){function y(P){return T.call(y.src,y.listener,P)}const T=An;return y}function xe(y,T,P,$,ee){if(Array.isArray(T))for(var se=0;se<T.length;se++)xe(y,T[se],P,$,ee);else $=d($)?!!$.capture:!!$,P=os(P),y&&y[le]?(y=y.i,se=String(T).toString(),se in y.g&&(T=y.g[se],P=be(T,P,$,ee),P>-1&&(ce(T[P]),Array.prototype.splice.call(T,P,1),T.length==0&&(delete y.g[se],y.h--)))):y&&(y=Qt(y))&&(T=y.g[T.toString()],y=-1,T&&(y=be(T,P,$,ee)),(P=y>-1?T[y]:null)&&Ue(P))}function Ue(y){if(typeof y!="number"&&y&&!y.da){var T=y.src;if(T&&T[le])ye(T.i,y);else{var P=y.type,$=y.proxy;T.removeEventListener?T.removeEventListener(P,$,y.capture):T.detachEvent?T.detachEvent(nt(P),$):T.addListener&&T.removeListener&&T.removeListener($),(P=Qt(T))?(ye(P,y),P.h==0&&(P.src=null,T[Le]=null)):ce(y)}}}function nt(y){return y in Ke?Ke[y]:Ke[y]="on"+y}function An(y,T){if(y.da)y=!0;else{T=new ve(T,this);const P=y.listener,$=y.ha||y.src;y.fa&&Ue(y),y=P.call($,T)}return y}function Qt(y){return y=y[Le],y instanceof oe?y:null}var Vt="__closure_events_fn_"+(Math.random()*1e9>>>0);function os(y){return typeof y=="function"?y:(y[Vt]||(y[Vt]=function(T){return y.handleEvent(T)}),y[Vt])}function Zt(){F.call(this),this.i=new oe(this),this.M=this,this.G=null}g(Zt,F),Zt.prototype[le]=!0,Zt.prototype.removeEventListener=function(y,T,P,$){xe(this,y,T,P,$)};function Sn(y,T){var P,$=y.G;if($)for(P=[];$;$=$.G)P.push($);if(y=y.M,$=T.type||T,typeof T=="string")T=new B(T,y);else if(T instanceof B)T.target=T.target||y;else{var ee=T;T=new B($,y),Z(T,ee)}ee=!0;let se,Ee;if(P)for(Ee=P.length-1;Ee>=0;Ee--)se=T.g=P[Ee],ee=Hn(se,$,!0,T)&&ee;if(se=T.g=y,ee=Hn(se,$,!0,T)&&ee,ee=Hn(se,$,!1,T)&&ee,P)for(Ee=0;Ee<P.length;Ee++)se=T.g=P[Ee],ee=Hn(se,$,!1,T)&&ee}Zt.prototype.N=function(){if(Zt.Z.N.call(this),this.i){var y=this.i;for(const T in y.g){const P=y.g[T];for(let $=0;$<P.length;$++)ce(P[$]);delete y.g[T],y.h--}}this.G=null},Zt.prototype.J=function(y,T,P,$){return this.i.add(String(y),T,!1,P,$)},Zt.prototype.K=function(y,T,P,$){return this.i.add(String(y),T,!0,P,$)};function Hn(y,T,P,$){if(T=y.i.g[String(T)],!T)return!0;T=T.concat();let ee=!0;for(let se=0;se<T.length;++se){const Ee=T[se];if(Ee&&!Ee.da&&Ee.capture==P){const We=Ee.listener,Ut=Ee.ha||Ee.src;Ee.fa&&ye(y.i,Ee),ee=We.call(Ut,$)!==!1&&ee}}return ee&&!$.defaultPrevented}function Aa(y,T){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(y,T||0)}function Zi(y){y.g=Aa(()=>{y.g=null,y.i&&(y.i=!1,Zi(y))},y.l);const T=y.h;y.h=null,y.m.apply(null,T)}class Bd extends F{constructor(T,P){super(),this.m=T,this.l=P,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Zi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sa(y){F.call(this),this.h=y,this.g={}}g(Sa,F);var Qr=[];function Tn(y){me(y.g,function(T,P){this.g.hasOwnProperty(P)&&Ue(T)},y),y.g={}}Sa.prototype.N=function(){Sa.Z.N.call(this),Tn(this)},Sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vr=l.JSON.stringify,nr=l.JSON.parse,zd=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function Tr(){}function Nr(){}var xi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ta(){B.call(this,"d")}g(Ta,B);function Zr(){B.call(this,"c")}g(Zr,B);var jr={},Ji=null;function ls(){return Ji=Ji||new Zt}jr.Ia="serverreachability";function ho(y){B.call(this,jr.Ia,y)}g(ho,B);function Na(y){const T=ls();Sn(T,new ho(T))}jr.STAT_EVENT="statevent";function mo(y,T){B.call(this,jr.STAT_EVENT,y),this.stat=T}g(mo,B);function Jt(y){const T=ls();Sn(T,new mo(T,y))}jr.Ja="timingevent";function Xc(y,T){B.call(this,jr.Ja,y),this.size=T}g(Xc,B);function ja(y,T){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},T)}function Ca(){this.g=!0}Ca.prototype.ua=function(){this.g=!1};function po(y,T,P,$,ee,se){y.info(function(){if(y.g)if(se){var Ee="",We=se.split("&");for(let gt=0;gt<We.length;gt++){var Ut=We[gt].split("=");if(Ut.length>1){const hn=Ut[0];Ut=Ut[1];const Jr=hn.split("_");Ee=Jr.length>=2&&Jr[1]=="type"?Ee+(hn+"="+Ut+"&"):Ee+(hn+"=redacted&")}}}else Ee=null;else Ee=se;return"XMLHTTP REQ ("+$+") [attempt "+ee+"]: "+T+`
`+P+`
`+Ee})}function Nl(y,T,P,$,ee,se,Ee){y.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+ee+"]: "+T+`
`+P+`
`+se+" "+Ee})}function ea(y,T,P,$){y.info(function(){return"XMLHTTP TEXT ("+T+"): "+bi(y,P)+($?" "+$:"")})}function $d(y,T){y.info(function(){return"TIMEOUT: "+T})}Ca.prototype.info=function(){};function bi(y,T){if(!y.g)return T;if(!T)return null;try{const se=JSON.parse(T);if(se){for(y=0;y<se.length;y++)if(Array.isArray(se[y])){var P=se[y];if(!(P.length<2)){var $=P[1];if(Array.isArray($)&&!($.length<1)){var ee=$[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let Ee=1;Ee<$.length;Ee++)$[Ee]=""}}}}return Vr(se)}catch{return T}}var en={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Y;function we(){}g(we,Tr),we.prototype.g=function(){return new XMLHttpRequest},Y=new we;function Oe(y){return encodeURIComponent(String(y))}function wt(y){var T=1;y=y.split(":");const P=[];for(;T>0&&y.length;)P.push(y.shift()),T--;return y.length&&P.push(y.join(":")),P}function tn(y,T,P,$){this.j=y,this.i=T,this.l=P,this.S=$||1,this.V=new Sa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fr}function fr(){this.i=null,this.g="",this.h=!1}var ta={},hr={};function wi(y,T,P){y.M=1,y.A=ms(rn(T)),y.u=P,y.R=!0,cs(y,null)}function cs(y,T){y.F=Date.now(),us(y),y.B=rn(y.A);var P=y.B,$=y.S;Array.isArray($)||($=[String($)]),Om(P.i,"t",$),y.C=0,P=y.j.L,y.h=new fr,y.g=au(y.j,P?T:null,!y.u),y.P>0&&(y.O=new Bd(h(y.Y,y,y.g),y.P)),T=y.V,P=y.g,$=y.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(Qr[0]=ee.toString()),ee=Qr);for(let se=0;se<ee.length;se++){const Ee=_e(P,ee[se],$||T.handleEvent,!1,T.h||T);if(!Ee)break;T.g[Ee.key]=Ee}T=y.J?X(y.J):{},y.u?(y.v||(y.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,T)):(y.v="GET",y.g.ea(y.B,y.v,null,T)),Na(),po(y.i,y.v,y.B,y.l,y.S,y.u)}tn.prototype.ba=function(y){y=y.target;const T=this.O;T&&mr(y)==3?T.j():this.Y(y)},tn.prototype.Y=function(y){try{if(y==this.g)e:{const We=mr(this.g),Ut=this.g.ya(),gt=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||Dl(this.g)))){this.K||We!=4||Ut==7||(Ut==8||gt<=0?Na(3):Na(2)),Ei(this);var T=this.g.ca();this.X=T;var P=Pa(this);if(this.o=T==200,Nl(this.i,this.v,this.B,this.l,this.S,We,T),this.o){if(this.U&&!this.L){t:{if(this.g){var $,ee=this.g;if(($=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U($)){var se=$;break t}}se=null}if(y=se)ea(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,go(this,y);else{this.o=!1,this.m=3,Jt(12),Ai(this),ds(this);break e}}if(this.R){y=!0;let hn;for(;!this.K&&this.C<P.length;)if(hn=Fd(this,P),hn==hr){We==4&&(this.m=4,Jt(14),y=!1),ea(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==ta){this.m=4,Jt(15),ea(this.i,this.l,P,"[Invalid Chunk]"),y=!1;break}else ea(this.i,this.l,hn,null),go(this,hn);if(nn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||P.length!=0||this.h.h||(this.m=1,Jt(16),y=!1),this.o=this.o&&y,!y)ea(this.i,this.l,P,"[Invalid Chunked Response]"),Ai(this),ds(this);else if(P.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),ef(Ee),Ee.P=!0,Jt(11))}}else ea(this.i,this.l,P,null),go(this,P);We==4&&Ai(this),this.o&&!this.K&&(We==4?tf(this.j,this):(this.o=!1,us(this)))}else Ml(this.g),T==400&&P.indexOf("Unknown SID")>0?(this.m=3,Jt(12)):(this.m=0,Jt(13)),Ai(this),ds(this)}}}catch{}finally{}};function Pa(y){if(!nn(y))return y.g.la();const T=Dl(y.g);if(T==="")return"";let P="";const $=T.length,ee=mr(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Ai(y),ds(y),"";y.h.i=new l.TextDecoder}for(let se=0;se<$;se++)y.h.h=!0,P+=y.h.i.decode(T[se],{stream:!(ee&&se==$-1)});return T.length=0,y.h.g+=P,y.C=0,y.h.g}function nn(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Fd(y,T){var P=y.C,$=T.indexOf(`
`,P);return $==-1?hr:(P=Number(T.substring(P,$)),isNaN(P)?ta:($+=1,$+P>T.length?hr:(T=T.slice($,$+P),y.C=$+P,T)))}tn.prototype.cancel=function(){this.K=!0,Ai(this)};function us(y){y.T=Date.now()+y.H,_i(y,y.H)}function _i(y,T){if(y.D!=null)throw Error("WatchDog timer not null");y.D=ja(h(y.aa,y),T)}function Ei(y){y.D&&(l.clearTimeout(y.D),y.D=null)}tn.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?($d(this.i,this.B),this.M!=2&&(Na(),Jt(17)),Ai(this),this.m=2,ds(this)):_i(this,this.T-y)};function ds(y){y.j.I==0||y.K||tf(y.j,y)}function Ai(y){Ei(y);var T=y.O;T&&typeof T.dispose=="function"&&T.dispose(),y.O=null,Tn(y.V),y.g&&(T=y.g,y.g=null,T.abort(),T.dispose())}function go(y,T){try{var P=y.j;if(P.I!=0&&(P.g==y||jl(P.h,y))){if(!y.L&&jl(P.h,y)&&P.I==3){try{var $=P.Ba.g.parse(T)}catch{$=null}if(Array.isArray($)&&$.length==3){var ee=$;if(ee[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<y.F)iu(P),Oa(P);else break e;Jd(P),Jt(18)}}else P.xa=ee[1],0<P.xa-P.K&&ee[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=ja(h(P.Va,P),6e3));Ur(P.h)<=1&&P.ta&&(P.ta=void 0)}else ys(P,11)}else if((y.L||P.g==y)&&iu(P),!U(T))for(ee=P.Ba.g.parse(T),T=0;T<ee.length;T++){let gt=ee[T];const hn=gt[0];if(!(hn<=P.K))if(P.K=hn,gt=gt[1],P.I==2)if(gt[0]=="c"){P.M=gt[1],P.ba=gt[2];const Jr=gt[3];Jr!=null&&(P.ka=Jr,P.j.info("VER="+P.ka));const Ia=gt[4];Ia!=null&&(P.za=Ia,P.j.info("SVER="+P.za));const ia=gt[5];ia!=null&&typeof ia=="number"&&ia>0&&($=1.5*ia,P.O=$,P.j.info("backChannelRequestTimeoutMs_="+$)),$=P;const aa=y.g;if(aa){const sa=aa.g?aa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sa){var se=$.h;se.g||sa.indexOf("spdy")==-1&&sa.indexOf("quic")==-1&&sa.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Qc(se,se.h),se.h=null))}if($.G){const rf=aa.g?aa.g.getResponseHeader("X-HTTP-Session-Id"):null;rf&&($.wa=rf,_t($.J,$.G,rf))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-y.F,P.j.info("Handshake RTT: "+P.T+"ms")),$=P;var Ee=y;if($.na=Bm($,$.L?$.ba:null,$.W),Ee.L){hs($.h,Ee);var We=Ee,Ut=$.O;Ut&&(We.H=Ut),We.D&&(Ei(We),us(We)),$.g=Ee}else Mm($);P.i.length>0&&Bl(P)}else gt[0]!="stop"&&gt[0]!="close"||ys(P,7);else P.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?ys(P,7):Vl(P):gt[0]!="noop"&&P.l&&P.l.qa(gt),P.A=0)}}Na(4)}catch{}}var qd=class{constructor(y,T){this.g=y,this.map=T}};function fs(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Si(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ur(y){return y.h?1:y.g?y.g.size:0}function jl(y,T){return y.h?y.h==T:y.g?y.g.has(T):!1}function Qc(y,T){y.g?y.g.add(T):y.h=T}function hs(y,T){y.h&&y.h==T?y.h=null:y.g&&y.g.has(T)&&y.g.delete(T)}fs.prototype.cancel=function(){if(this.i=Zc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Zc(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let T=y.i;for(const P of y.g.values())T=T.concat(P.G);return T}return b(y.i)}var Jc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function x0(y,T){if(y){y=y.split("&");for(let P=0;P<y.length;P++){const $=y[P].indexOf("=");let ee,se=null;$>=0?(ee=y[P].substring(0,$),se=y[P].substring($+1)):ee=y[P],T(ee,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function na(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;y instanceof na?(this.l=y.l,yo(this,y.j),this.o=y.o,this.g=y.g,Cl(this,y.u),this.h=y.h,vo(this,Im(y.i)),this.m=y.m):y&&(T=String(y).match(Jc))?(this.l=!1,yo(this,T[1]||"",!0),this.o=Pl(T[2]||""),this.g=Pl(T[3]||"",!0),Cl(this,T[4]),this.h=Pl(T[5]||"",!0),vo(this,T[6]||"",!0),this.m=Pl(T[7]||"")):(this.l=!1,this.i=new Ti(null,this.l))}na.prototype.toString=function(){const y=[];var T=this.j;T&&y.push(Kn(T,Kd,!0),":");var P=this.g;return(P||T=="file")&&(y.push("//"),(T=this.o)&&y.push(Kn(T,Kd,!0),"@"),y.push(Oe(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&y.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&y.push("/"),y.push(Kn(P,P.charAt(0)=="/"?xo:Gd,!0))),(P=this.i.toString())&&y.push("?",P),(P=this.m)&&y.push("#",Kn(P,Pm)),y.join("")},na.prototype.resolve=function(y){const T=rn(this);let P=!!y.j;P?yo(T,y.j):P=!!y.o,P?T.o=y.o:P=!!y.g,P?T.g=y.g:P=y.u!=null;var $=y.h;if(P)Cl(T,y.u);else if(P=!!y.h){if($.charAt(0)!="/")if(this.g&&!this.h)$="/"+$;else{var ee=T.h.lastIndexOf("/");ee!=-1&&($=T.h.slice(0,ee+1)+$)}if(ee=$,ee==".."||ee==".")$="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){$=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const se=[];for(let Ee=0;Ee<ee.length;){const We=ee[Ee++];We=="."?$&&Ee==ee.length&&se.push(""):We==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),$&&Ee==ee.length&&se.push("")):(se.push(We),$=!0)}$=se.join("/")}else $=ee}return P?T.h=$:P=y.i.toString()!=="",P?vo(T,Im(y.i)):P=!!y.m,P&&(T.m=y.m),T};function rn(y){return new na(y)}function yo(y,T,P){y.j=P?Pl(T,!0):T,y.j&&(y.j=y.j.replace(/:$/,""))}function Cl(y,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);y.u=T}else y.u=null}function vo(y,T,P){T instanceof Ti?(y.i=T,Xd(y.i,y.l)):(P||(T=Kn(T,Cm)),y.i=new Ti(T,y.l))}function _t(y,T,P){y.i.set(T,P)}function ms(y){return _t(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Pl(y,T){return y?T?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Kn(y,T,P){return typeof y=="string"?(y=encodeURI(y).replace(T,Hd),P&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Hd(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Kd=/[#\/\?@]/g,Gd=/[#\?:]/g,xo=/[#\?]/g,Cm=/[#\?@]/g,Pm=/#/g;function Ti(y,T){this.h=this.g=null,this.i=y||null,this.j=!!T}function ps(y){y.g||(y.g=new Map,y.h=0,y.i&&x0(y.i,function(T,P){y.add(decodeURIComponent(T.replace(/\+/g," ")),P)}))}t=Ti.prototype,t.add=function(y,T){ps(this),this.i=null,y=ra(this,y);let P=this.g.get(y);return P||this.g.set(y,P=[]),P.push(T),this.h+=1,this};function Wd(y,T){ps(y),T=ra(y,T),y.g.has(T)&&(y.i=null,y.h-=y.g.get(T).length,y.g.delete(T))}function Yd(y,T){return ps(y),T=ra(y,T),y.g.has(T)}t.forEach=function(y,T){ps(this),this.g.forEach(function(P,$){P.forEach(function(ee){y.call(T,ee,$,this)},this)},this)};function eu(y,T){ps(y);let P=[];if(typeof T=="string")Yd(y,T)&&(P=P.concat(y.g.get(ra(y,T))));else for(y=Array.from(y.g.values()),T=0;T<y.length;T++)P=P.concat(y[T]);return P}t.set=function(y,T){return ps(this),this.i=null,y=ra(this,y),Yd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[T]),this.h+=1,this},t.get=function(y,T){return y?(y=eu(this,y),y.length>0?String(y[0]):T):T};function Om(y,T,P){Wd(y,T),P.length>0&&(y.i=null,y.g.set(ra(y,T),b(P)),y.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],T=Array.from(this.g.keys());for(let $=0;$<T.length;$++){var P=T[$];const ee=Oe(P);P=eu(this,P);for(let se=0;se<P.length;se++){let Ee=ee;P[se]!==""&&(Ee+="="+Oe(P[se])),y.push(Ee)}}return this.i=y.join("&")};function Im(y){const T=new Ti;return T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),T}function ra(y,T){return T=String(T),y.j&&(T=T.toLowerCase()),T}function Xd(y,T){T&&!y.j&&(ps(y),y.i=null,y.g.forEach(function(P,$){const ee=$.toLowerCase();$!=ee&&(Wd(this,$),Om(this,ee,P))},y)),y.j=T}function Qd(y,T){const P=new Ca;if(l.Image){const $=new Image;$.onload=p(Cr,P,"TestLoadImage: loaded",!0,T,$),$.onerror=p(Cr,P,"TestLoadImage: error",!1,T,$),$.onabort=p(Cr,P,"TestLoadImage: abort",!1,T,$),$.ontimeout=p(Cr,P,"TestLoadImage: timeout",!1,T,$),l.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=y}else T(!1)}function bo(y,T){const P=new Ca,$=new AbortController,ee=setTimeout(()=>{$.abort(),Cr(P,"TestPingServer: timeout",!1,T)},1e4);fetch(y,{signal:$.signal}).then(se=>{clearTimeout(ee),se.ok?Cr(P,"TestPingServer: ok",!0,T):Cr(P,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(ee),Cr(P,"TestPingServer: error",!1,T)})}function Cr(y,T,P,$,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),$(P)}catch{}}function km(){this.g=new zd}function Ol(y){this.i=y.Sb||null,this.h=y.ab||!1}g(Ol,Tr),Ol.prototype.g=function(){return new Il(this.i,this.h)};function Il(y,T){Zt.call(this),this.H=y,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Il,Zt),t=Il.prototype,t.open=function(y,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=T,this.readyState=1,gs(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(T.body=y),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wo(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function wo(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var T=y.value?y.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!y.done}))&&(this.response=this.responseText+=T)}y.done?Pr(this):gs(this),this.readyState==3&&wo(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,Pr(this))},t.Na=function(y){this.g&&(this.response=y,Pr(this))},t.ga=function(){this.g&&Pr(this)};function Pr(y){y.readyState=4,y.l=null,y.j=null,y.B=null,gs(y)}t.setRequestHeader=function(y,T){this.A.append(y,T)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],T=this.h.entries();for(var P=T.next();!P.done;)P=P.value,y.push(P[0]+": "+P[1]),P=T.next();return y.join(`\r
`)};function gs(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function _o(y){let T="";return me(y,function(P,$){T+=$,T+=":",T+=P,T+=`\r
`}),T}function Ni(y,T,P){e:{for($ in P){var $=!1;break e}$=!0}$||(P=_o(P),typeof y=="string"?P!=null&&Oe(P):_t(y,T,P))}function It(y){Zt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(It,Zt);var tu=/^https?$/i,Rm=["POST","PUT"];t=It.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,T,P,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);T=T?T.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Y.g(),this.g.onreadystatechange=x(h(this.Ca,this));try{this.B=!0,this.g.open(T,String(y),!0),this.B=!1}catch(se){kl(this,se);return}if(y=P||"",P=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var ee in $)P.set(ee,$[ee]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const se of $.keys())P.set(se,$.get(se));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(P.keys()).find(se=>se.toLowerCase()=="content-type"),ee=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(Rm,T,void 0)>=0)||$||ee||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Ee]of P)this.g.setRequestHeader(se,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(se){kl(this,se)}};function kl(y,T){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=T,y.o=5,Rl(y),Mn(y)}function Rl(y){y.A||(y.A=!0,Sn(y,"complete"),Sn(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Sn(this,"complete"),Sn(this,"abort"),Mn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mn(this,!0)),It.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Zd(this):this.Xa())},t.Xa=function(){Zd(this)};function Zd(y){if(y.h&&typeof a<"u"){if(y.v&&mr(y)==4)setTimeout(y.Ca.bind(y),0);else if(Sn(y,"readystatechange"),mr(y)==4){y.h=!1;try{const se=y.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var P;if(!(P=T)){var $;if($=se===0){let Ee=String(y.D).match(Jc)[1]||null;!Ee&&l.self&&l.self.location&&(Ee=l.self.location.protocol.slice(0,-1)),$=!tu.test(Ee?Ee.toLowerCase():"")}P=$}if(P)Sn(y,"complete"),Sn(y,"success");else{y.o=6;try{var ee=mr(y)>2?y.g.statusText:""}catch{ee=""}y.l=ee+" ["+y.ca()+"]",Rl(y)}}finally{Mn(y)}}}}function Mn(y,T){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const P=y.g;y.g=null,T||Sn(y,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function mr(y){return y.g?y.g.readyState:0}t.ca=function(){try{return mr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var T=this.g.responseText;return y&&T.indexOf(y)==0&&(T=T.substring(y.length)),nr(T)}};function Dl(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Ml(y){const T={};y=(y.g&&mr(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<y.length;$++){if(U(y[$]))continue;var P=wt(y[$]);const ee=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const se=T[ee]||[];T[ee]=se,se.push(P)}z(T,function($){return $.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ll(y,T,P){return P&&P.internalChannelParams&&P.internalChannelParams[y]||T}function nu(y){this.za=0,this.i=[],this.j=new Ca,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ll("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ll("baseRetryDelayMs",5e3,y),this.Za=Ll("retryDelaySeedMs",1e4,y),this.Ta=Ll("forwardChannelMaxRetries",2,y),this.va=Ll("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new fs(y&&y.concurrentRequestLimit),this.Ba=new km,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=nu.prototype,t.ka=8,t.I=1,t.connect=function(y,T,P,$){Jt(0),this.W=y,this.H=T||{},P&&$!==void 0&&(this.H.OSID=P,this.H.OAID=$),this.F=this.X,this.J=Bm(this,null,this.W),Bl(this)};function Vl(y){if(Ul(y),y.I==3){var T=y.V++,P=rn(y.J);if(_t(P,"SID",y.M),_t(P,"RID",T),_t(P,"TYPE","terminate"),zl(y,P),T=new tn(y,y.j,T),T.M=2,T.A=ms(rn(P)),P=!1,l.navigator&&l.navigator.sendBeacon)try{P=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!P&&l.Image&&(new Image().src=T.A,P=!0),P||(T.g=au(T.j,null),T.g.ea(T.A)),T.F=Date.now(),us(T)}Um(y)}function Oa(y){y.g&&(ef(y),y.g.cancel(),y.g=null)}function Ul(y){Oa(y),y.v&&(l.clearTimeout(y.v),y.v=null),iu(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function Bl(y){if(!Si(y.h)&&!y.m){y.m=!0;var T=y.Ea;V||O(),D||(V(),D=!0),k.add(T,y),y.D=0}}function b0(y,T){return Ur(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=T.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=ja(h(y.Ea,y,T),Vm(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const ee=new tn(this,this.j,y);let se=this.o;if(this.U&&(se?(se=X(se),Z(se,this.U)):se=this.U),this.u!==null||this.R||(ee.J=se,se=null),this.S)e:{for(var T=0,P=0;P<this.i.length;P++){t:{var $=this.i[P];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(T+=$,T>4096){T=P;break e}if(T===4096||P===this.i.length-1){T=P+1;break e}}T=1e3}else T=1e3;T=ru(this,ee,T),P=rn(this.J),_t(P,"RID",y),_t(P,"CVER",22),this.G&&_t(P,"X-HTTP-Session-Id",this.G),zl(this,P),se&&(this.R?T="headers="+Oe(_o(se))+"&"+T:this.u&&Ni(P,this.u,se)),Qc(this.h,ee),this.Ra&&_t(P,"TYPE","init"),this.S?(_t(P,"$req",T),_t(P,"SID","null"),ee.U=!0,wi(ee,P,null)):wi(ee,P,T),this.I=2}}else this.I==3&&(y?Dm(this,y):this.i.length==0||Si(this.h)||Dm(this))};function Dm(y,T){var P;T?P=T.l:P=y.V++;const $=rn(y.J);_t($,"SID",y.M),_t($,"RID",P),_t($,"AID",y.K),zl(y,$),y.u&&y.o&&Ni($,y.u,y.o),P=new tn(y,y.j,P,y.D+1),y.u===null&&(P.J=y.o),T&&(y.i=T.G.concat(y.i)),T=ru(y,P,1e3),P.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Qc(y.h,P),wi(P,$,T)}function zl(y,T){y.H&&me(y.H,function(P,$){_t(T,$,P)}),y.l&&me({},function(P,$){_t(T,$,P)})}function ru(y,T,P){P=Math.min(y.i.length,P);const $=y.l?h(y.l.Ka,y.l,y):null;e:{var ee=y.i;let We=-1;for(;;){const Ut=["count="+P];We==-1?P>0?(We=ee[0].g,Ut.push("ofs="+We)):We=0:Ut.push("ofs="+We);let gt=!0;for(let hn=0;hn<P;hn++){var se=ee[hn].g;const Jr=ee[hn].map;if(se-=We,se<0)We=Math.max(0,ee[hn].g-100),gt=!1;else try{se="req"+se+"_"||"";try{var Ee=Jr instanceof Map?Jr:Object.entries(Jr);for(const[Ia,ia]of Ee){let aa=ia;d(ia)&&(aa=Vr(ia)),Ut.push(se+Ia+"="+encodeURIComponent(aa))}}catch(Ia){throw Ut.push(se+"type="+encodeURIComponent("_badmap")),Ia}}catch{$&&$(Jr)}}if(gt){Ee=Ut.join("&");break e}}Ee=void 0}return y=y.i.splice(0,P),T.G=y,Ee}function Mm(y){if(!y.g&&!y.v){y.Y=1;var T=y.Da;V||O(),D||(V(),D=!0),k.add(T,y),y.A=0}}function Jd(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=ja(h(y.Da,y),Vm(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,Lm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=ja(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Jt(10),Oa(this),Lm(this))};function ef(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function Lm(y){y.g=new tn(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var T=rn(y.na);_t(T,"RID","rpc"),_t(T,"SID",y.M),_t(T,"AID",y.K),_t(T,"CI",y.F?"0":"1"),!y.F&&y.ia&&_t(T,"TO",y.ia),_t(T,"TYPE","xmlhttp"),zl(y,T),y.u&&y.o&&Ni(T,y.u,y.o),y.O&&(y.g.H=y.O);var P=y.g;y=y.ba,P.M=1,P.A=ms(rn(T)),P.u=null,P.R=!0,cs(P,y)}t.Va=function(){this.C!=null&&(this.C=null,Oa(this),Jd(this),Jt(19))};function iu(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function tf(y,T){var P=null;if(y.g==T){iu(y),ef(y),y.g=null;var $=2}else if(jl(y.h,T))P=T.G,hs(y.h,T),$=1;else return;if(y.I!=0){if(T.o)if($==1){P=T.u?T.u.length:0,T=Date.now()-T.F;var ee=y.D;$=ls(),Sn($,new Xc($,P)),Bl(y)}else Mm(y);else if(ee=T.m,ee==3||ee==0&&T.X>0||!($==1&&b0(y,T)||$==2&&Jd(y)))switch(P&&P.length>0&&(T=y.h,T.i=T.i.concat(P)),ee){case 1:ys(y,5);break;case 4:ys(y,10);break;case 3:ys(y,6);break;default:ys(y,2)}}}function Vm(y,T){let P=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(P*=2),P*T}function ys(y,T){if(y.j.info("Error code "+T),T==2){var P=h(y.bb,y),$=y.Ua;const ee=!$;$=new na($||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||yo($,"https"),ms($),ee?Qd($.toString(),P):bo($.toString(),P)}else Jt(2);y.I=0,y.l&&y.l.pa(T),Um(y),Ul(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function Um(y){if(y.I=0,y.ja=[],y.l){const T=Zc(y.h);(T.length!=0||y.i.length!=0)&&(A(y.ja,T),A(y.ja,y.i),y.h.i.length=0,b(y.i),y.i.length=0),y.l.oa()}}function Bm(y,T,P){var $=P instanceof na?rn(P):new na(P);if($.g!="")T&&($.g=T+"."+$.g),Cl($,$.u);else{var ee=l.location;$=ee.protocol,T=T?T+"."+ee.hostname:ee.hostname,ee=+ee.port;const se=new na(null);$&&yo(se,$),T&&(se.g=T),ee&&Cl(se,ee),P&&(se.h=P),$=se}return P=y.G,T=y.wa,P&&T&&_t($,P,T),_t($,"VER",y.ka),zl(y,$),$}function au(y,T,P){if(T&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=y.Aa&&!y.ma?new It(new Ol({ab:P})):new It(y.ma),T.Fa(y.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zm(){}t=zm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function su(){}su.prototype.g=function(y,T){return new Or(y,T)};function Or(y,T){Zt.call(this),this.g=new nu(T),this.l=y,this.h=T&&T.messageUrlParams||null,y=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(y?y["X-WebChannel-Content-Type"]=T.messageContentType:y={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(y?y["X-WebChannel-Client-Profile"]=T.sa:y={"X-WebChannel-Client-Profile":T.sa}),this.g.U=y,(y=T&&T.Qb)&&!U(y)&&(this.g.u=y),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!U(T)&&(this.g.G=T,y=this.h,y!==null&&T in y&&(y=this.h,T in y&&delete y[T])),this.j=new Eo(this)}g(Or,Zt),Or.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Or.prototype.close=function(){Vl(this.g)},Or.prototype.o=function(y){var T=this.g;if(typeof y=="string"){var P={};P.__data__=y,y=P}else this.v&&(P={},P.__data__=Vr(y),y=P);T.i.push(new qd(T.Ya++,y)),T.I==3&&Bl(T)},Or.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,Or.Z.N.call(this)};function nf(y){Ta.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var T=y.__sm__;if(T){e:{for(const P in T){y=P;break e}y=void 0}(this.i=y)&&(y=this.i,T=T!==null&&y in T?T[y]:void 0),this.data=T}else this.data=y}g(nf,Ta);function $m(){Zr.call(this),this.status=1}g($m,Zr);function Eo(y){this.g=y}g(Eo,zm),Eo.prototype.ra=function(){Sn(this.g,"a")},Eo.prototype.qa=function(y){Sn(this.g,new nf(y))},Eo.prototype.pa=function(y){Sn(this.g,new $m)},Eo.prototype.oa=function(){Sn(this.g,"b")},su.prototype.createWebChannel=su.prototype.g,Or.prototype.send=Or.prototype.o,Or.prototype.open=Or.prototype.m,Or.prototype.close=Or.prototype.close,_3=function(){return new su},w3=function(){return ls()},b3=jr,C1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},en.NO_ERROR=0,en.TIMEOUT=8,en.HTTP_ERROR=6,_g=en,Dn.COMPLETE="complete",x3=Dn,Nr.EventType=xi,xi.OPEN="a",xi.CLOSE="b",xi.ERROR="c",xi.MESSAGE="d",Zt.prototype.listen=Zt.prototype.J,ah=Nr,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,v3=It}).apply(typeof Hp<"u"?Hp:typeof self<"u"?self:typeof window<"u"?window:{});const gC="@firebase/firestore",yC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new J2("@firebase/firestore");function Mu(){return Sc.logLevel}function Se(t,...e){if(Sc.logLevel<=rt.DEBUG){const n=e.map(f_);Sc.debug(`Firestore (${bd}): ${t}`,...n)}}function Ys(t,...e){if(Sc.logLevel<=rt.ERROR){const n=e.map(f_);Sc.error(`Firestore (${bd}): ${t}`,...n)}}function Zu(t,...e){if(Sc.logLevel<=rt.WARN){const n=e.map(f_);Sc.warn(`Firestore (${bd}): ${t}`,...n)}}function f_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,E3(t,r,n)}function E3(t,e,n){let r=`FIRESTORE (${bd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ys(r),new Error(r)}function pt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||E3(e,i,r)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xr.UNAUTHENTICATED)))}shutdown(){}}class dq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class fq{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Bs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Bs,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},d=f=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bs)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt(typeof r.accessToken=="string",31837,{l:r}),new A3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new xr(e)}}class hq{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mq{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new hq(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pq{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pt(this.o===void 0,3512);const r=a=>{a.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Se("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(pt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=gq(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function it(t,e){return t<e?-1:t>e?1:0}function P1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return jb(i)===jb(a)?it(i,a):jb(i)?1:-1}return it(t.length,e.length)}const yq=55296,vq=57343;function jb(t){const e=t.charCodeAt(0);return e>=yq&&e<=vq}function Ju(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="__name__";class Va{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Va.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Va?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Va.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return it(e.length,n.length)}static compareSegments(e,n){const r=Va.isNumericId(e),i=Va.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Va.extractNumericId(e).compare(Va.extractNumericId(n)):P1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rl.fromString(e.substring(4,e.length-2))}}class Dt extends Va{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Dt(n)}static emptyPath(){return new Dt([])}}const xq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends Va{construct(e,n,r){return new cr(e,n,r)}static isValidIdentifier(e){return xq.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xC}static keyField(){return new cr([xC])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Ae(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ae(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(l=!l,i++):d!=="."||l?(r+=d,i++):(a(),i++)}if(a(),l)throw new Ae(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cr(n)}static emptyPath(){return new cr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Dt.fromString(e))}static fromName(e){return new Me(Dt.fromString(e).popFirst(5))}static empty(){return new Me(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t,e,n){if(!n)throw new Ae(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bq(t,e,n,r){if(e===!0&&r===!0)throw new Ae(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bC(t){if(!Me.isDocumentKey(t))throw new Ae(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wC(t){if(Me.isDocumentKey(t))throw new Ae(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function T3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ov(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function ya(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ov(t);throw new Ae(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,e){const n={typeString:t};return e&&(n.value=e),n}function Wh(t,e){if(!T3(t))throw new Ae(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Ae(he.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=-62135596800,EC=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*EC);return new $t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_C)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EC}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wh(e,$t._jsonSchema))return new $t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_C;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$t._jsonSchemaVersion="firestore/timestamp/1.0",$t._jsonSchema={type:In("string",$t._jsonSchemaVersion),seconds:In("number"),nanoseconds:In("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new $t(0,0))}static max(){return new Ge(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=-1;function wq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new ll(i,Me.empty(),e)}function _q(t){return new ll(t.readTime,t.key,_h)}class ll{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ll(Ge.min(),Me.empty(),_h)}static max(){return new ll(Ge.max(),Me.empty(),_h)}}function Eq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==Aq)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.reject(n)}static resolve(e){return new ge(((n,r)=>{n(e)}))}static reject(e){return new ge(((n,r)=>{r(e)}))}static waitFor(e){return new ge(((n,r)=>{let i=0,a=0,l=!1;e.forEach((d=>{++i,d.next((()=>{++a,l&&a===i&&n()}),(f=>r(f)))})),l=!0,a===i&&n()}))}static or(e){let n=ge.resolve(!1);for(const r of e)n=n.next((i=>i?ge.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ge(((r,i)=>{const a=e.length,l=new Array(a);let d=0;for(let f=0;f<a;f++){const h=f;n(e[h]).next((p=>{l[h]=p,++d,d===a&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new ge(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Tq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _d(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=-1;function cv(t){return t==null}function zg(t){return t===0&&1/t==-1/0}function Nq(t){return typeof t=="number"&&Number.isInteger(t)&&!zg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="";function jq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AC(e)),e=Cq(t.get(n),e);return AC(e)}function Cq(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case N3:n+="";break;default:n+=a}}return n}function AC(t){return t+N3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function j3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n){this.comparator=e,this.root=n||or.EMPTY}insert(e,n){return new sn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,or.BLACK,null,null))}remove(e){return new sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,or.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kp(this.root,e,this.comparator,!0)}}class Kp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class or{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??or.RED,this.left=i??or.EMPTY,this.right=a??or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new or(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return or.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}or.EMPTY=null,or.RED=!0,or.BLACK=!1;or.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new or(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TC(this.data.getIterator())}getIteratorFrom(e){return new TC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bn(this.comparator);return n.data=e,n}}class TC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new fi([])}unionWith(e){let n=new Bn(cr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ju(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new C3("Invalid base64 string: "+a):a}})(e);return new ur(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new ur(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const Pq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cl(t){if(pt(!!t,39018),typeof t=="string"){let e=0;const n=Pq.exec(t);if(pt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vn(t.seconds),nanos:vn(t.nanos)}}function vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ul(t){return typeof t=="string"?ur.fromBase64String(t):ur.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="server_timestamp",O3="__type__",I3="__previous_value__",k3="__local_write_time__";function p_(t){return(t?.mapValue?.fields||{})[O3]?.stringValue===P3}function uv(t){const e=t.mapValue.fields[I3];return p_(e)?uv(e):e}function Eh(t){const e=cl(t.mapValue.fields[k3].timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e,n,r,i,a,l,d,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const $g="(default)";class Ah{constructor(e,n){this.projectId=e,this.database=n||$g}static empty(){return new Ah("","")}get isDefaultDatabase(){return this.database===$g}isEqual(e){return e instanceof Ah&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="__type__",Iq="__max__",Gp={mapValue:{}},D3="__vector__",Fg="value";function dl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?p_(t)?4:Rq(t)?9007199254740991:kq(t)?10:11:qe(28295,{value:t})}function Ya(t,e){if(t===e)return!0;const n=dl(t);if(n!==dl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Eh(t).isEqual(Eh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=cl(i.timestampValue),d=cl(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ul(i.bytesValue).isEqual(ul(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return vn(i.geoPointValue.latitude)===vn(a.geoPointValue.latitude)&&vn(i.geoPointValue.longitude)===vn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return vn(i.integerValue)===vn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=vn(i.doubleValue),d=vn(a.doubleValue);return l===d?zg(l)===zg(d):isNaN(l)&&isNaN(d)}return!1})(t,e);case 9:return Ju(t.arrayValue.values||[],e.arrayValue.values||[],Ya);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},d=a.mapValue.fields||{};if(SC(l)!==SC(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(d[f]===void 0||!Ya(l[f],d[f])))return!1;return!0})(t,e);default:return qe(52216,{left:t})}}function Sh(t,e){return(t.values||[]).find((n=>Ya(n,e)))!==void 0}function ed(t,e){if(t===e)return 0;const n=dl(t),r=dl(e);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const d=vn(a.integerValue||a.doubleValue),f=vn(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return NC(t.timestampValue,e.timestampValue);case 4:return NC(Eh(t),Eh(e));case 5:return P1(t.stringValue,e.stringValue);case 6:return(function(a,l){const d=ul(a),f=ul(l);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const d=a.split("/"),f=l.split("/");for(let h=0;h<d.length&&h<f.length;h++){const p=it(d[h],f[h]);if(p!==0)return p}return it(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const d=it(vn(a.latitude),vn(l.latitude));return d!==0?d:it(vn(a.longitude),vn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return jC(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const d=a.fields||{},f=l.fields||{},h=d[Fg]?.arrayValue,p=f[Fg]?.arrayValue,g=it(h?.values?.length||0,p?.values?.length||0);return g!==0?g:jC(h,p)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Gp.mapValue&&l===Gp.mapValue)return 0;if(a===Gp.mapValue)return 1;if(l===Gp.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const x=P1(f[g],p[g]);if(x!==0)return x;const b=ed(d[f[g]],h[p[g]]);if(b!==0)return b}return it(f.length,p.length)})(t.mapValue,e.mapValue);default:throw qe(23264,{he:n})}}function NC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=cl(t),r=cl(e),i=it(n.seconds,r.seconds);return i!==0?i:it(n.nanos,r.nanos)}function jC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=ed(n[i],r[i]);if(a)return a}return it(n.length,r.length)}function td(t){return O1(t)}function O1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=cl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ul(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=O1(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${O1(n.fields[l])}`;return i+"}"})(t.mapValue):qe(61005,{value:t})}function Eg(t){switch(dl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uv(t);return e?16+Eg(e):16;case 5:return 2*t.stringValue.length;case 6:return ul(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Eg(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return vl(r.fields,((a,l)=>{i+=a.length+Eg(l)})),i})(t.mapValue);default:throw qe(13486,{value:t})}}function CC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function I1(t){return!!t&&"integerValue"in t}function g_(t){return!!t&&"arrayValue"in t}function PC(t){return!!t&&"nullValue"in t}function OC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ag(t){return!!t&&"mapValue"in t}function kq(t){return(t?.mapValue?.fields||{})[R3]?.stringValue===D3}function hh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=hh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hh(t.arrayValue.values[n]);return e}return{...t}}function Rq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Iq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.value=e}static empty(){return new Gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ag(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hh(n)}setAll(e){let n=cr.emptyPath(),r={},i=[];e.forEach(((l,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=d.popLast()}l?r[d.lastSegment()]=hh(l):i.push(d.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Ag(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ya(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ag(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vl(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Gr(hh(this.value))}}function M3(t){const e=[];return vl(t.fields,((n,r)=>{const i=new cr([n]);if(Ag(r)){const a=M3(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new fi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,r,i,a,l,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new br(e,0,Ge.min(),Ge.min(),Ge.min(),Gr.empty(),0)}static newFoundDocument(e,n,r,i){return new br(e,1,n,Ge.min(),r,i,0)}static newNoDocument(e,n){return new br(e,2,n,Ge.min(),Ge.min(),Gr.empty(),0)}static newUnknownDocument(e,n){return new br(e,3,n,Ge.min(),Ge.min(),Gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.position=e,this.inclusive=n}}function IC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Me.comparator(Me.fromName(l.referenceValue),n.key):r=ed(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function kC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ya(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function Dq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{}class On extends L3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Lq(e,n,r):n==="array-contains"?new Bq(e,r):n==="in"?new zq(e,r):n==="not-in"?new $q(e,r):n==="array-contains-any"?new Fq(e,r):new On(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Vq(e,r):new Uq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ed(n,this.value)):n!==null&&dl(this.value)===dl(n)&&this.matchesComparison(ed(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class va extends L3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new va(e,n)}matches(e){return V3(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function V3(t){return t.op==="and"}function U3(t){return Mq(t)&&V3(t)}function Mq(t){for(const e of t.filters)if(e instanceof va)return!1;return!0}function k1(t){if(t instanceof On)return t.field.canonicalString()+t.op.toString()+td(t.value);if(U3(t))return t.filters.map((e=>k1(e))).join(",");{const e=t.filters.map((n=>k1(n))).join(",");return`${t.op}(${e})`}}function B3(t,e){return t instanceof On?(function(r,i){return i instanceof On&&r.op===i.op&&r.field.isEqual(i.field)&&Ya(r.value,i.value)})(t,e):t instanceof va?(function(r,i){return i instanceof va&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,d)=>a&&B3(l,i.filters[d])),!0):!1})(t,e):void qe(19439)}function z3(t){return t instanceof On?(function(n){return`${n.field.canonicalString()} ${n.op} ${td(n.value)}`})(t):t instanceof va?(function(n){return n.op.toString()+" {"+n.getFilters().map(z3).join(" ,")+"}"})(t):"Filter"}class Lq extends On{constructor(e,n,r){super(e,n,r),this.key=Me.fromName(r.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class Vq extends On{constructor(e,n){super(e,"in",n),this.keys=$3("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Uq extends On{constructor(e,n){super(e,"not-in",n),this.keys=$3("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $3(t,e){return(e.arrayValue?.values||[]).map((n=>Me.fromName(n.referenceValue)))}class Bq extends On{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return g_(n)&&Sh(n.arrayValue,this.value)}}class zq extends On{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sh(this.value.arrayValue,n)}}class $q extends On{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sh(this.value.arrayValue,n)}}class Fq extends On{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!g_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Sh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e,n=null,r=[],i=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=d,this.Te=null}}function RC(t,e=null,n=[],r=[],i=null,a=null,l=null){return new qq(t,e,n,r,i,a,l)}function y_(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>k1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),cv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>td(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>td(r))).join(",")),e.Te=n}return e.Te}function v_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Dq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!B3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kC(t.startAt,e.startAt)&&kC(t.endAt,e.endAt)}function R1(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n=null,r=[],i=[],a=null,l="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Hq(t,e,n,r,i,a,l,d){return new Ed(t,e,n,r,i,a,l,d)}function x_(t){return new Ed(t)}function DC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F3(t){return t.collectionGroup!==null}function mh(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new Bn(cr.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Th(a,r))})),n.has(cr.keyField().canonicalString())||e.Ie.push(new Th(cr.keyField(),r))}return e.Ie}function qa(t){const e=Ye(t);return e.Ee||(e.Ee=Kq(e,mh(t))),e.Ee}function Kq(t,e){if(t.limitType==="F")return RC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Th(i.field,a)}));const n=t.endAt?new qg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qg(t.startAt.position,t.startAt.inclusive):null;return RC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function D1(t,e){const n=t.filters.concat([e]);return new Ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hg(t,e,n){return new Ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dv(t,e){return v_(qa(t),qa(e))&&t.limitType===e.limitType}function q3(t){return`${y_(qa(t))}|lt:${t.limitType}`}function Lu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>z3(i))).join(", ")}]`),cv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>td(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>td(i))).join(",")),`Target(${r})`})(qa(t))}; limitType=${t.limitType})`}function fv(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Me.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of mh(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,d,f){const h=IC(l,d,f);return l.inclusive?h<=0:h<0})(r.startAt,mh(r),i)||r.endAt&&!(function(l,d,f){const h=IC(l,d,f);return l.inclusive?h>=0:h>0})(r.endAt,mh(r),i))})(t,e)}function Gq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function H3(t){return(e,n)=>{let r=!1;for(const i of mh(t)){const a=Wq(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Wq(t,e,n){const r=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(a,l,d){const f=l.data.field(a),h=d.data.field(a);return f!==null&&h!==null?ed(f,h):qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vl(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return j3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=new sn(Me.comparator);function Xs(){return Yq}const K3=new sn(Me.comparator);function sh(...t){let e=K3;for(const n of t)e=e.insert(n.key,n);return e}function G3(t){let e=K3;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function uc(){return ph()}function W3(){return ph()}function ph(){return new Uc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Xq=new sn(Me.comparator),Qq=new Bn(Me.comparator);function at(...t){let e=Qq;for(const n of t)e=e.add(n);return e}const Zq=new Bn(it);function Jq(){return Zq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zg(e)?"-0":e}}function Y3(t){return{integerValue:""+t}}function eH(t,e){return Nq(e)?Y3(e):b_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this._=void 0}}function tH(t,e,n){return t instanceof Kg?(function(i,a){const l={fields:{[O3]:{stringValue:P3},[k3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&p_(a)&&(a=uv(a)),a&&(l.fields[I3]=a),{mapValue:l}})(n,e):t instanceof nd?Q3(t,e):t instanceof rd?Z3(t,e):(function(i,a){const l=X3(i,a),d=MC(l)+MC(i.Ae);return I1(l)&&I1(i.Ae)?Y3(d):b_(i.serializer,d)})(t,e)}function nH(t,e,n){return t instanceof nd?Q3(t,e):t instanceof rd?Z3(t,e):n}function X3(t,e){return t instanceof Gg?(function(r){return I1(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Kg extends hv{}class nd extends hv{constructor(e){super(),this.elements=e}}function Q3(t,e){const n=J3(e);for(const r of t.elements)n.some((i=>Ya(i,r)))||n.push(r);return{arrayValue:{values:n}}}class rd extends hv{constructor(e){super(),this.elements=e}}function Z3(t,e){let n=J3(e);for(const r of t.elements)n=n.filter((i=>!Ya(i,r)));return{arrayValue:{values:n}}}class Gg extends hv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function MC(t){return vn(t.integerValue||t.doubleValue)}function J3(t){return g_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.field=e,this.transform=n}}function rH(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof nd&&i instanceof nd||r instanceof rd&&i instanceof rd?Ju(r.elements,i.elements,Ya):r instanceof Gg&&i instanceof Gg?Ya(r.Ae,i.Ae):r instanceof Kg&&i instanceof Kg})(t.transform,e.transform)}class iH{constructor(e,n){this.version=e,this.transformResults=n}}class $i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mv{}function tD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new w_(t.key,$i.none()):new Yh(t.key,t.data,$i.none());{const n=t.data,r=Gr.empty();let i=new Bn(cr.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new xl(t.key,r,new fi(i.toArray()),$i.none())}}function aH(t,e,n){t instanceof Yh?(function(i,a,l){const d=i.value.clone(),f=VC(i.fieldTransforms,a,l.transformResults);d.setAll(f),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):t instanceof xl?(function(i,a,l){if(!Sg(i.precondition,a))return void a.convertToUnknownDocument(l.version);const d=VC(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(nD(i)),f.setAll(d),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function gh(t,e,n,r){return t instanceof Yh?(function(a,l,d,f){if(!Sg(a.precondition,l))return d;const h=a.value.clone(),p=UC(a.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof xl?(function(a,l,d,f){if(!Sg(a.precondition,l))return d;const h=UC(a.fieldTransforms,f,l),p=l.data;return p.setAll(nD(a)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(a,l,d){return Sg(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(t,e,n)}function sH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=X3(r.transform,i||null);a!=null&&(n===null&&(n=Gr.empty()),n.set(r.field,a))}return n||null}function LC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ju(r,i,((a,l)=>rH(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yh extends mv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xl extends mv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function nD(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function VC(t,e,n){const r=new Map;pt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,d=e.data.field(a.field);r.set(a.field,nH(l,d,n[i]))}return r}function UC(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,tH(a,l,e))}return r}class w_ extends mv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oH extends mv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&aH(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=W3();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=n.has(i.key)?null:d;const f=tD(l,d);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Ge.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&Ju(this.mutations,e.mutations,((n,r)=>LC(n,r)))&&Ju(this.baseMutations,e.baseMutations,((n,r)=>LC(n,r)))}}class __{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Xq})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new __(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn,ot;function dH(t){switch(t){case he.OK:return qe(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function rD(t){if(t===void 0)return Ys("GRPC error has no .code"),he.UNKNOWN;switch(t){case Cn.OK:return he.OK;case Cn.CANCELLED:return he.CANCELLED;case Cn.UNKNOWN:return he.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return he.INTERNAL;case Cn.UNAVAILABLE:return he.UNAVAILABLE;case Cn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Cn.NOT_FOUND:return he.NOT_FOUND;case Cn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Cn.ABORTED:return he.ABORTED;case Cn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Cn.DATA_LOSS:return he.DATA_LOSS;default:return qe(39323,{code:t})}}(ot=Cn||(Cn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=new rl([4294967295,4294967295],0);function BC(t){const e=fH().encode(t),n=new y3;return n.update(e),new Uint8Array(n.digest())}function zC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new rl([n,r],0),new rl([i,a],0)]}class E_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oh(`Invalid padding: ${n}`);if(r<0)throw new oh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(rl.fromNumber(r)));return i.compare(hH)===1&&(i=new rl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=BC(e),[r,i]=zC(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new E_(a,i,n);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.ge===0)return;const n=BC(e),[r,i]=zC(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pv(Ge.min(),i,new sn(it),Xs(),at())}}class Xh{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xh(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class iD{constructor(e,n){this.targetId=e,this.Ce=n}}class aD{constructor(e,n,r=ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $C{constructor(){this.ve=0,this.Fe=FC(),this.Me=ur.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),n=at(),r=at();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qe(38017,{changeType:a})}})),new Xh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=FC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xs(),this.Je=Wp(),this.He=Wp(),this.Ye=new sn(it)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(R1(a))if(r===0){const l=new Me(a.path);this.et(n,l,br.newNoDocument(l,Ge.min()))}else pt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const d=this.ut(e),f=d?this.ct(d,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,d;try{l=ul(r).toUint8Array()}catch(f){if(f instanceof C3)return Zu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new E_(l,i,a)}catch(f){return Zu(f instanceof oh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const d=this.ot(l);if(d){if(a.current&&R1(d.target)){const f=new Me(d.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,br.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=at();this.He.forEach(((a,l)=>{let d=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new pv(e,n,this.Ye,this.je,r);return this.je=Xs(),this.Je=Wp(),this.He=Wp(),this.Ye=new sn(it),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $C,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bn(it),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bn(it),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $C),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wp(){return new sn(Me.comparator)}function FC(){return new sn(Me.comparator)}const pH={asc:"ASCENDING",desc:"DESCENDING"},gH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yH={and:"AND",or:"OR"};class vH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function M1(t,e){return t.useProto3Json||cv(e)?e:{value:e}}function Wg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xH(t,e){return Wg(t,e.toTimestamp())}function Ha(t){return pt(!!t,49232),Ge.fromTimestamp((function(n){const r=cl(n);return new $t(r.seconds,r.nanos)})(t))}function A_(t,e){return L1(t,e).canonicalString()}function L1(t,e){const n=(function(i){return new Dt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function oD(t){const e=Dt.fromString(t);return pt(fD(e),10190,{key:e.toString()}),e}function V1(t,e){return A_(t.databaseId,e.path)}function Cb(t,e){const n=oD(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(cD(n))}function lD(t,e){return A_(t.databaseId,e)}function bH(t){const e=oD(t);return e.length===4?Dt.emptyPath():cD(e)}function U1(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cD(t){return pt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qC(t,e,n){return{name:V1(t,e),fields:n.value.mapValue.fields}}function wH(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:qe(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,p){return h.useProto3Json?(pt(p===void 0||typeof p=="string",58123),ur.fromBase64String(p||"")):(pt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),ur.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(h){const p=h.code===void 0?he.UNKNOWN:rD(h.code);return new Ae(p,h.message||"")})(l);n=new aD(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cb(t,r.document.name),a=Ha(r.document.updateTime),l=r.document.createTime?Ha(r.document.createTime):Ge.min(),d=new Gr({mapValue:{fields:r.document.fields}}),f=br.newFoundDocument(i,a,l,d),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Tg(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cb(t,r.document),a=r.readTime?Ha(r.readTime):Ge.min(),l=br.newNoDocument(i,a),d=r.removedTargetIds||[];n=new Tg([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cb(t,r.document),a=r.removedTargetIds||[];n=new Tg([],a,i,null)}else{if(!("filter"in e))return qe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new uH(i,a),d=r.targetId;n=new iD(d,l)}}return n}function _H(t,e){let n;if(e instanceof Yh)n={update:qC(t,e.key,e.value)};else if(e instanceof w_)n={delete:V1(t,e.key)};else if(e instanceof xl)n={update:qC(t,e.key,e.data),updateMask:OH(e.fieldMask)};else{if(!(e instanceof oH))return qe(16599,{Vt:e.type});n={verify:V1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const d=l.transform;if(d instanceof Kg)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof nd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof rd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Gg)return{fieldPath:l.field.canonicalString(),increment:d.Ae};throw qe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:xH(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:qe(27497)})(t,e.precondition)),n}function EH(t,e){return t&&t.length>0?(pt(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?Ha(i.updateTime):Ha(a);return l.isEqual(Ge.min())&&(l=Ha(a)),new iH(l,i.transformResults||[])})(n,e)))):[]}function AH(t,e){return{documents:[lD(t,e.path)]}}function SH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lD(t,i);const a=(function(h){if(h.length!==0)return dD(va.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(h){if(h.length!==0)return h.map((p=>(function(x){return{field:Vu(x.field),direction:jH(x.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const d=M1(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function TH(t){let e=bH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];n.where&&(a=(function(g){const x=uD(g);return x instanceof va&&U3(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((x=>(function(A){return new Th(Uu(A.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let x;return x=typeof g=="object"?g.value:g,cv(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(g){const x=!!g.before,b=g.values||[];return new qg(b,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const x=!g.before,b=g.values||[];return new qg(b,x)})(n.endAt)),Hq(e,i,l,a,d,"F",f,h)}function NH(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uD(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Uu(n.unaryFilter.field);return On.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Uu(n.unaryFilter.field);return On.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Uu(n.unaryFilter.field);return On.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Uu(n.unaryFilter.field);return On.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return On.create(Uu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return va.create(n.compositeFilter.filters.map((r=>uD(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(n.compositeFilter.op))})(t):qe(30097,{filter:t})}function jH(t){return pH[t]}function CH(t){return gH[t]}function PH(t){return yH[t]}function Vu(t){return{fieldPath:t.canonicalString()}}function Uu(t){return cr.fromServerFormat(t.fieldPath)}function dD(t){return t instanceof On?(function(n){if(n.op==="=="){if(OC(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NAN"}};if(PC(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OC(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NOT_NAN"}};if(PC(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vu(n.field),op:CH(n.op),value:n.value}}})(t):t instanceof va?(function(n){const r=n.getFilters().map((i=>dD(i)));return r.length===1?r[0]:{compositeFilter:{op:PH(n.op),filters:r}}})(t):qe(54877,{filter:t})}function OH(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function fD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,r,i,a=Ge.min(),l=Ge.min(),d=ur.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Zo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e){this.yt=e}}function kH(t){const e=TH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(){this.Cn=new DH}addToCollectionParentIndex(e,n){return this.Cn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(ll.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(ll.min())}updateCollectionGroup(e,n,r){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class DH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bn(Dt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hD=41943040;class qr{static withCacheSize(e){return new qr(e,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr.DEFAULT_COLLECTION_PERCENTILE=10,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qr.DEFAULT=new qr(hD,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qr.DISABLED=new qr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new id(0)}static cr(){return new id(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="LruGarbageCollector",MH=1048576;function GC([t,e],[n,r]){const i=it(t,n);return i===0?it(e,r):i}class LH{constructor(e){this.Ir=e,this.buffer=new Bn(GC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Se(KC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_d(n)?Se(KC,"Ignoring IndexedDB error during garbage collection: ",n):await wd(n)}await this.Vr(3e5)}))}}class UH{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(lv.ce);const r=new LH(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(HC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HC):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,d,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,d=Date.now(),this.removeTargets(e,r,n)))).next((g=>(a=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Mu()<=rt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(d-l)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g}))))}}function BH(t,e){return new UH(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(){this.changes=new Uc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,br.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ge.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&gh(r.mutation,i,fi.empty(),$t.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,at()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=at()){const i=uc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=sh();return a.forEach(((d,f)=>{l=l.insert(d,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=uc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,at())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,d)=>{n.set(l,d)}))}))}computeViews(e,n,r,i){let a=Xs();const l=ph(),d=(function(){return ph()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof xl)?a=a.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),gh(p.mutation,h,p.mutation.getFieldMask(),$t.now())):l.set(h.key,fi.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>d.set(h,new $H(p,l.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=ph();let i=new sn(((l,d)=>l-d)),a=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const d of l)d.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||fi.empty();p=d.applyToLocalView(h,p),r.set(f,p);const g=(i.get(d.batchId)||at()).add(f);i=i.insert(d.batchId,g)}))})).next((()=>{const l=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,p=f.value,g=W3();p.forEach((x=>{if(!a.has(x)){const b=tD(n.get(x),r.get(x));b!==null&&g.set(x,b),a=a.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ge.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Me.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ge.resolve(uc());let d=_h,f=a;return l.next((h=>ge.forEach(h,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),a.get(p)?ge.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{f=f.insert(p,x)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,f,h,at()))).next((p=>({batchId:d,changes:G3(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((r=>{let i=sh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=sh();return this.indexManager.getCollectionParents(e,a).next((d=>ge.forEach(d,(f=>{const h=(function(g,x){return new Ed(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,x)=>{l=l.insert(g,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,br.newInvalidDocument(p)))}));let d=sh();return l.forEach(((f,h)=>{const p=a.get(f);p!==void 0&&gh(p.mutation,h,fi.empty(),$t.now()),fv(n,h)&&(d=d.insert(f,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ge.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ha(i.createTime)}})(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:kH(i.bundledQuery),readTime:Ha(i.readTime)}})(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(){this.overlays=new sn(Me.comparator),this.qr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const r=uc();return ge.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),ge.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ge.resolve()}getOverlaysForCollection(e,n,r){const i=uc(),a=n.length+1,l=new Me(n.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new sn(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=a.get(h.largestBatchId);p===null&&(p=uc(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const d=uc(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>d.set(h,p))),!(d.size()>=i)););return ge.resolve(d)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new cH(n,r));let a=this.qr.get(n);a===void 0&&(a=at(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(){this.sessionToken=ur.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.Qr=new Bn(Xn.$r),this.Ur=new Bn(Xn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Xn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Me(new Dt([])),r=new Xn(n,e),i=new Xn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Me(new Dt([])),r=new Xn(n,e),i=new Xn(n,e+1);let a=at();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Xn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Me.comparator(e.key,n.key)||it(e.Yr,n.Yr)}static Kr(e,n){return it(e.Yr,n.Yr)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bn(Xn.$r)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new lH(a,n,r,i);this.mutationQueue.push(l);for(const d of i)this.Zr=this.Zr.add(new Xn(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ge.resolve(l)}lookupMutationBatch(e,n){return ge.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?m_:this.tr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xn(n,0),i=new Xn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const d=this.Xr(l.Yr);a.push(d)})),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bn(it);return n.forEach((i=>{const a=new Xn(i,0),l=new Xn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(d=>{r=r.add(d.Yr)}))})),ge.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Me.isDocumentKey(a)||(a=a.child(""));const l=new Xn(new Me(a),0);let d=new Bn(it);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(d=d.add(f.Yr)),!0)}),l),ge.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){pt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ge.forEach(n.mutations,(i=>{const a=new Xn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Xn(n,0),i=this.Zr.firstAfterOrEqual(r);return ge.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e){this.ri=e,this.docs=(function(){return new sn(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ge.resolve(r?r.document.mutableCopy():br.newInvalidDocument(n))}getEntries(e,n){let r=Xs();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():br.newInvalidDocument(i))})),ge.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Xs();const l=n.path,d=new Me(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||Eq(_q(p),r)<=0||(i.has(p.key)||fv(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return ge.resolve(a)}getAllFromCollectionGroup(e,n,r,i){qe(9500)}ii(e,n){return ge.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new YH(this)}getSize(e){return ge.resolve(this.size)}}class YH extends zH{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ge.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(e){this.persistence=e,this.si=new Uc((n=>y_(n)),v_),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.oi=0,this._i=new S_,this.targetCount=0,this.ai=id.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ge.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new id(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Pr(n),ge.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),ge.waitFor(a).next((()=>i))}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ge.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ge.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),ge.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ge.resolve(r)}containsKey(e,n){return ge.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.ui={},this.overlays={},this.ci=new lv(0),this.li=!1,this.li=!0,this.hi=new KH,this.referenceDelegate=e(this),this.Pi=new XH(this),this.indexManager=new RH,this.remoteDocumentCache=(function(i){return new WH(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new IH(n),this.Ii=new qH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new GH(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const i=new QH(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return ge.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class QH extends Sq{constructor(e){super(),this.currentSequenceNumber=e}}class T_{constructor(e){this.persistence=e,this.Ri=new S_,this.Vi=null}static mi(e){return new T_(e)}get fi(){if(this.Vi)return this.Vi;throw qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ge.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.fi,(r=>{const i=Me.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Ge.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ge.or([()=>ge.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Yg{constructor(e,n){this.persistence=e,this.pi=new Uc((r=>jq(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=BH(this,n)}static mi(e,n){return new Yg(e,n)}Ei(){}di(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ge.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?ge.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((d=>{d||(r++,a.removeEntry(l,Ge.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eg(e.data.value)),n}br(e,n,r){return ge.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=at(),i=at();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new N_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AB()?8:Tq(Er())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new ZH;return this.Ss(e,n,l).next((d=>{if(a.result=d,this.Vs)return this.bs(e,n,l,d.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Mu()<=rt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Lu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ge.resolve()):(Mu()<=rt.DEBUG&&Se("QueryEngine","Query:",Lu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Mu()<=rt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Lu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qa(n))):ge.resolve())}ys(e,n){if(DC(n))return ge.resolve(null);let r=qa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Hg(n,null,"F"),r=qa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=at(...a);return this.ps.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,d);return this.Cs(n,h,l,f.readTime)?this.ys(e,Hg(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return DC(n)||i.isEqual(Ge.min())?ge.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?ge.resolve(null):(Mu()<=rt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lu(n)),this.vs(e,l,n,wq(i,_h)).next((d=>d)))}))}Ds(e,n){let r=new Bn(H3(e));return n.forEach(((i,a)=>{fv(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Mu()<=rt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Lu(n)),this.ps.getDocumentsMatchingQuery(e,n,ll.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="LocalStore",eK=3e8;class tK{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new sn(it),this.xs=new Uc((a=>y_(a)),v_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FH(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function nK(t,e,n,r){return new tK(t,e,n,r)}async function pD(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],d=[];let f=at();for(const h of i){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of a){d.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:d})))}))}))}function rK(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,h,p){const g=h.batch,x=g.keys();let b=ge.resolve();return x.forEach((A=>{b=b.next((()=>p.getEntry(f,A))).next((E=>{const S=h.docVersions.get(A);pt(S!==null,48541),E.version.compareTo(S)<0&&(g.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),p.addEntry(E)))}))})),b.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=at();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function gD(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function iK(t,e){const n=Ye(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const d=[];e.targetChanges.forEach(((p,g)=>{const x=i.get(g);if(!x)return;d.push(n.Pi.removeMatchingKeys(a,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(a,p.addedDocuments,g))));let b=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(ur.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(g,b),(function(E,S,N){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=eK?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(x,b,p)&&d.push(n.Pi.updateTargetData(a,b))}));let f=Xs(),h=at();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))})),d.push(aK(a,l,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(Ge.min())){const p=n.Pi.getLastRemoteSnapshotVersion(a).next((g=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(p)}return ge.waitFor(d).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,h))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function aK(t,e,n){let r=at(),i=at();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Xs();return n.forEach(((d,f)=>{const h=a.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(Ge.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):Se(j_,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function sK(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=m_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function oK(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,ge.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Zo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function B1(t,e,n){const r=Ye(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!_d(l))throw l;Se(j_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function WC(t,e,n){const r=Ye(t);let i=Ge.min(),a=at();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const g=Ye(f),x=g.xs.get(p);return x!==void 0?ge.resolve(g.Ms.get(x)):g.Pi.getTargetData(h,p)})(r,l,qa(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,d.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Ge.min(),n?a:at()))).next((d=>(lK(r,Gq(e),d),{documents:d,Qs:a})))))}function lK(t,e,n){let r=t.Os.get(e)||Ge.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class YC{constructor(){this.activeTargetIds=Jq()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cK{constructor(){this.Mo=new YC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new YC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="ConnectivityMonitor";class QC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Se(XC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Se(XC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp=null;function z1(){return Yp===null?Yp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yp++,"0x"+Yp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="RestConnection",dK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fK{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===$g?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=z1(),d=this.zo(e,n.toUriEncodedString());Se(Pb,`Sending RPC '${e}' ${l}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:h}=new URL(d),p=Mc(h);return this.Jo(e,d,f,r,p).then((g=>(Se(Pb,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw Zu(Pb,`RPC '${e}' ${l} failed with error: `,g,"url: ",d,"request:",r),g}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=dK[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="WebChannelConnection";class mK extends fK{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=z1();return new Promise(((d,f)=>{const h=new v3;h.setWithCredentials(!0),h.listenOnce(x3.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case _g.NO_ERROR:const g=h.getResponseJson();Se(yr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),d(g);break;case _g.TIMEOUT:Se(yr,`RPC '${e}' ${l} timed out`),f(new Ae(he.DEADLINE_EXCEEDED,"Request time out"));break;case _g.HTTP_ERROR:const x=h.getStatus();if(Se(yr,`RPC '${e}' ${l} failed with status:`,x,"response text:",h.getResponseText()),x>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const A=b?.error;if(A&&A.status&&A.message){const E=(function(N){const C=N.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(C)>=0?C:he.UNKNOWN})(A.status);f(new Ae(E,A.message))}else f(new Ae(he.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ae(he.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Se(yr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);Se(yr,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=z1(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=_3(),d=w3(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=a.join("");Se(yr,`Creating RPC '${e}' stream ${i}: ${p}`,f);const g=l.createWebChannel(p,f);this.I_(g);let x=!1,b=!1;const A=new hK({Yo:S=>{b?Se(yr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(x||(Se(yr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),x=!0),Se(yr,`RPC '${e}' stream ${i} sending:`,S),g.send(S))},Zo:()=>g.close()}),E=(S,N,C)=>{S.listen(N,(j=>{try{C(j)}catch(L){setTimeout((()=>{throw L}),0)}}))};return E(g,ah.EventType.OPEN,(()=>{b||(Se(yr,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),E(g,ah.EventType.CLOSE,(()=>{b||(b=!0,Se(yr,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(g))})),E(g,ah.EventType.ERROR,(S=>{b||(b=!0,Zu(yr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),A.a_(new Ae(he.UNAVAILABLE,"The operation could not be completed")))})),E(g,ah.EventType.MESSAGE,(S=>{if(!b){const N=S.data[0];pt(!!N,16349);const C=N,j=C?.error||C[0]?.error;if(j){Se(yr,`RPC '${e}' stream ${i} received error:`,j);const L=j.status;let V=(function(O){const R=Cn[O];if(R!==void 0)return rD(R)})(L),D=j.message;V===void 0&&(V=he.INTERNAL,D="Unknown error status: "+L+" with message "+j.message),b=!0,A.a_(new Ae(V,D)),g.close()}else Se(yr,`RPC '${e}' stream ${i} received:`,N),A.u_(N)}})),E(d,b3.STAT_EVENT,(S=>{S.stat===C1.PROXY?Se(yr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===C1.NOPROXY&&Se(yr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ob(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t){return new vH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="PersistentStream";class vD{constructor(e,n,r,i,a,l,d,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(Ys(n.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ae(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(ZC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Se(ZC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pK extends vD{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=wH(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ge.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ge.min():l.readTime?Ha(l.readTime):Ge.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=U1(this.serializer),n.addTarget=(function(a,l){let d;const f=l.target;if(d=R1(f)?{documents:AH(a,f)}:{query:SH(a,f).ft},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=sD(a,l.resumeToken);const h=M1(a,l.expectedCount);h!==null&&(d.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ge.min())>0){d.readTime=Wg(a,l.snapshotVersion.toTimestamp());const h=M1(a,l.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=NH(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=U1(this.serializer),n.removeTarget=e,this.q_(n)}}class gK extends vD{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=EH(e.writeResults,e.commitTime),r=Ha(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=U1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>_H(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{}class vK extends yK{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,L1(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ae(he.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Ho(e,L1(n,r),i,l,d,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(he.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ys(n),this.aa=!1):Se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="RemoteStore";class bK{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Bc(this)&&(Se(Tc,"Restarting streams for network reachability change."),await(async function(f){const h=Ye(f);h.Ea.add(4),await Qh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await yv(h)})(this))}))})),this.Ra=new xK(r,i)}}async function yv(t){if(Bc(t))for(const e of t.da)await e(!0)}async function Qh(t){for(const e of t.da)await e(!1)}function xD(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),I_(n)?O_(n):Ad(n).O_()&&P_(n,e))}function C_(t,e){const n=Ye(t),r=Ad(n);n.Ia.delete(e),r.O_()&&bD(n,e),n.Ia.size===0&&(r.O_()?r.L_():Bc(n)&&n.Ra.set("Unknown"))}function P_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ad(t).Y_(e)}function bD(t,e){t.Va.Ue(e),Ad(t).Z_(e)}function O_(t){t.Va=new mH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ad(t).start(),t.Ra.ua()}function I_(t){return Bc(t)&&!Ad(t).x_()&&t.Ia.size>0}function Bc(t){return Ye(t).Ea.size===0}function wD(t){t.Va=void 0}async function wK(t){t.Ra.set("Online")}async function _K(t){t.Ia.forEach(((e,n)=>{P_(t,e)}))}async function EK(t,e){wD(t),I_(t)?(t.Ra.ha(e),O_(t)):t.Ra.set("Unknown")}async function AK(t,e,n){if(t.Ra.set("Online"),e instanceof aD&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const d of a.targetIds)i.Ia.has(d)&&(await i.remoteSyncer.rejectListen(d,l),i.Ia.delete(d),i.Va.removeTarget(d))})(t,e)}catch(r){Se(Tc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xg(t,r)}else if(e instanceof Tg?t.Va.Ze(e):e instanceof iD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ge.min()))try{const r=await gD(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const d=a.Va.Tt(l);return d.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=a.Ia.get(h);p&&a.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),d.targetMismatches.forEach(((f,h)=>{const p=a.Ia.get(f);if(!p)return;a.Ia.set(f,p.withResumeToken(ur.EMPTY_BYTE_STRING,p.snapshotVersion)),bD(a,f);const g=new Zo(p.target,f,h,p.sequenceNumber);P_(a,g)})),a.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Se(Tc,"Failed to raise snapshot:",r),await Xg(t,r)}}async function Xg(t,e,n){if(!_d(e))throw e;t.Ea.add(1),await Qh(t),t.Ra.set("Offline"),n||(n=()=>gD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Se(Tc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await yv(t)}))}function _D(t,e){return e().catch((n=>Xg(t,n,e)))}async function vv(t){const e=Ye(t),n=fl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:m_;for(;SK(e);)try{const i=await sK(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,TK(e,i)}catch(i){await Xg(e,i)}ED(e)&&AD(e)}function SK(t){return Bc(t)&&t.Ta.length<10}function TK(t,e){t.Ta.push(e);const n=fl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ED(t){return Bc(t)&&!fl(t).x_()&&t.Ta.length>0}function AD(t){fl(t).start()}async function NK(t){fl(t).ra()}async function jK(t){const e=fl(t);for(const n of t.Ta)e.ea(n.mutations)}async function CK(t,e,n){const r=t.Ta.shift(),i=__.from(r,e,n);await _D(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await vv(t)}async function PK(t,e){e&&fl(t).X_&&await(async function(r,i){if((function(l){return dH(l)&&l!==he.ABORTED})(i.code)){const a=r.Ta.shift();fl(r).B_(),await _D(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await vv(r)}})(t,e),ED(t)&&AD(t)}async function JC(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Se(Tc,"RemoteStore received new credentials");const r=Bc(n);n.Ea.add(3),await Qh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yv(n)}async function OK(t,e){const n=Ye(t);e?(n.Ea.delete(2),await yv(n)):e||(n.Ea.add(2),await Qh(n),n.Ra.set("Unknown"))}function Ad(t){return t.ma||(t.ma=(function(n,r,i){const a=Ye(n);return a.sa(),new pK(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:wK.bind(null,t),t_:_K.bind(null,t),r_:EK.bind(null,t),H_:AK.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),I_(t)?O_(t):t.Ra.set("Unknown")):(await t.ma.stop(),wD(t))}))),t.ma}function fl(t){return t.fa||(t.fa=(function(n,r,i){const a=Ye(n);return a.sa(),new gK(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:NK.bind(null,t),r_:PK.bind(null,t),ta:jK.bind(null,t),na:CK.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await vv(t)):(await t.fa.stop(),t.Ta.length>0&&(Se(Tc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,d=new k_(e,n,l,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function R_(t,e){if(Ys("AsyncQueue",`${e}: ${t}`),_d(t))return new Ae(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{static emptySet(e){return new qu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Me.comparator(n.key,r.key):(n,r)=>Me.comparator(n.key,r.key),this.keyedMap=sh(),this.sortedSet=new sn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.ga=new sn(Me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):qe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ad{constructor(e,n,r,i,a,l,d,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((d=>{l.push({type:0,doc:d})})),new ad(e,n,qu.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kK{constructor(){this.queries=tP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ye(n),a=i.queries;i.queries=tP(),a.forEach(((l,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new Ae(he.ABORTED,"Firestore shutting down"))}}function tP(){return new Uc((t=>q3(t)),dv)}async function SD(t,e){const n=Ye(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new IK,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const d=R_(l,`Initialization of query '${Lu(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&D_(n)}async function TD(t,e){const n=Ye(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RK(t,e){const n=Ye(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const d of l.Sa)d.Fa(i)&&(r=!0);l.wa=i}}r&&D_(n)}function DK(t,e,n){const r=Ye(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function D_(t){t.Ca.forEach((e=>{e.next()}))}var $1,nP;(nP=$1||($1={})).Ma="default",nP.Cache="cache";class ND{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ad(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ad.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.key=e}}class CD{constructor(e){this.key=e}}class MK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=H3(e),this.tu=new qu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new eP,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const x=i.get(p),b=fv(this.query,g)?g:null,A=!!x&&this.mutatedKeys.has(x.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;x&&b?x.data.isEqual(b.data)?A!==E&&(r.track({type:3,doc:b}),S=!0):this.su(x,b)||(r.track({type:2,doc:b}),S=!0,(f&&this.eu(b,f)>0||h&&this.eu(b,h)<0)&&(d=!0)):!x&&b?(r.track({type:0,doc:b}),S=!0):x&&!b&&(r.track({type:1,doc:x}),S=!0,(f||h)&&(d=!0)),S&&(b?(l=l.add(b),a=E?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:d,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(b,A){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Rt:S})}};return E(b)-E(A)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const d=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new ad(this.query,e.tu,a,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new CD(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new jD(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=at();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ad.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const M_="SyncEngine";class LK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VK{constructor(e){this.key=e,this.hu=!1}}class UK{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Uc((d=>q3(d)),dv),this.Iu=new Map,this.Eu=new Set,this.du=new sn(Me.comparator),this.Au=new Map,this.Ru=new S_,this.Vu={},this.mu=new Map,this.fu=id.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BK(t,e,n=!0){const r=DD(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await PD(r,e,n,!0),i}async function zK(t,e){const n=DD(t);await PD(n,e,!0,!1)}async function PD(t,e,n,r){const i=await oK(t.localStore,qa(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await $K(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&xD(t.remoteStore,i),d}async function $K(t,e,n,r,i){t.pu=(g,x,b)=>(async function(E,S,N,C){let j=S.view.ru(N);j.Cs&&(j=await WC(E.localStore,S.query,!1).then((({documents:k})=>S.view.ru(k,j))));const L=C&&C.targetChanges.get(S.targetId),V=C&&C.targetMismatches.get(S.targetId)!=null,D=S.view.applyChanges(j,E.isPrimaryClient,L,V);return iP(E,S.targetId,D.au),D.snapshot})(t,g,x,b);const a=await WC(t.localStore,e,!0),l=new MK(e,a.Qs),d=l.ru(a.documents),f=Xh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(d,t.isPrimaryClient,f);iP(t,n,h.au);const p=new LK(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function FK(t,e,n){const r=Ye(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!dv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await B1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&C_(r.remoteStore,i.targetId),F1(r,i.targetId)})).catch(wd)):(F1(r,i.targetId),await B1(r.localStore,i.targetId,!0))}async function qK(t,e){const n=Ye(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),C_(n.remoteStore,r.targetId))}async function HK(t,e,n){const r=ZK(t);try{const i=await(function(l,d){const f=Ye(l),h=$t.now(),p=d.reduce(((b,A)=>b.add(A.key)),at());let g,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let A=Xs(),E=at();return f.Ns.getEntries(b,p).next((S=>{A=S,A.forEach(((N,C)=>{C.isValidDocument()||(E=E.add(N))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,A))).next((S=>{g=S;const N=[];for(const C of d){const j=sH(C,g.get(C.key).overlayedDocument);j!=null&&N.push(new xl(C.key,j,M3(j.value.mapValue),$i.exists(!0)))}return f.mutationQueue.addMutationBatch(b,h,N,d)})).next((S=>{x=S;const N=S.applyToLocalDocumentSet(g,E);return f.documentOverlayCache.saveOverlays(b,S.batchId,N)}))})).then((()=>({batchId:x.batchId,changes:G3(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,d,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new sn(it)),h=h.insert(d,f),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await Zh(r,i.changes),await vv(r.remoteStore)}catch(i){const a=R_(i,"Failed to persist write");n.reject(a)}}async function OD(t,e){const n=Ye(t);try{const r=await iK(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?pt(l.hu,14607):i.removedDocuments.size>0&&(pt(l.hu,42227),l.hu=!1))})),await Zh(n,r,e)}catch(r){await wd(r)}}function rP(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const d=l.view.va(e);d.snapshot&&i.push(d.snapshot)})),(function(l,d){const f=Ye(l);f.onlineState=d;let h=!1;f.queries.forEach(((p,g)=>{for(const x of g.Sa)x.va(d)&&(h=!0)})),h&&D_(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KK(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new sn(Me.comparator);l=l.insert(a,br.newNoDocument(a,Ge.min()));const d=at().add(a),f=new pv(Ge.min(),new Map,new sn(it),l,d);await OD(r,f),r.du=r.du.remove(a),r.Au.delete(e),L_(r)}else await B1(r.localStore,e,!1).then((()=>F1(r,e,n))).catch(wd)}async function GK(t,e){const n=Ye(t),r=e.batch.batchId;try{const i=await rK(n.localStore,e);kD(n,r,null),ID(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zh(n,i)}catch(i){await wd(i)}}async function WK(t,e,n){const r=Ye(t);try{const i=await(function(l,d){const f=Ye(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,d).next((g=>(pt(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);kD(r,e,n),ID(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zh(r,i)}catch(i){await wd(i)}}function ID(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function kD(t,e,n){const r=Ye(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function F1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||RD(t,r)}))}function RD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(C_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),L_(t))}function iP(t,e,n){for(const r of n)r instanceof jD?(t.Ru.addReference(r.key,e),YK(t,r)):r instanceof CD?(Se(M_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||RD(t,r.key)):qe(19791,{wu:r})}function YK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Se(M_,"New document in limbo: "+n),t.Eu.add(r),L_(t))}function L_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me(Dt.fromString(e)),r=t.fu.next();t.Au.set(r,new VK(n)),t.du=t.du.insert(n,r),xD(t.remoteStore,new Zo(qa(x_(n.path)),r,"TargetPurposeLimboResolution",lv.ce))}}async function Zh(t,e,n){const r=Ye(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{l.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=N_.As(f.targetId,h);a.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,h){const p=Ye(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ge.forEach(h,(x=>ge.forEach(x.Es,(b=>p.persistence.referenceDelegate.addReference(g,x.targetId,b))).next((()=>ge.forEach(x.ds,(b=>p.persistence.referenceDelegate.removeReference(g,x.targetId,b)))))))))}catch(g){if(!_d(g))throw g;Se(j_,"Failed to update sequence numbers: "+g)}for(const g of h){const x=g.targetId;if(!g.fromCache){const b=p.Ms.get(x),A=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(A);p.Ms=p.Ms.insert(x,E)}}})(r.localStore,a))}async function XK(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Se(M_,"User change. New user:",e.toKey());const r=await pD(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new Ae(he.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zh(n,r.Ls)}}function QK(t,e){const n=Ye(t),r=n.Au.get(e);if(r&&r.hu)return at().add(r.key);{let i=at();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const d=n.Tu.get(l);i=i.unionWith(d.view.nu)}return i}}function DD(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KK.bind(null,e),e.Pu.H_=RK.bind(null,e.eventManager),e.Pu.yu=DK.bind(null,e.eventManager),e}function ZK(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WK.bind(null,e),e}class Qg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return nK(this.persistence,new JH,e.initialUser,this.serializer)}Cu(e){return new mD(T_.mi,this.serializer)}Du(e){return new cK}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qg.provider={build:()=>new Qg};class JK extends Qg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){pt(this.persistence.referenceDelegate instanceof Yg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new VH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qr.withCacheSize(this.cacheSizeBytes):qr.DEFAULT;return new mD((r=>Yg.mi(r,n)),this.serializer)}}class q1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XK.bind(null,this.syncEngine),await OK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kK})()}createDatastore(e){const n=gv(e.databaseInfo.databaseId),r=(function(a){return new mK(a)})(e.databaseInfo);return(function(a,l,d,f){return new vK(a,l,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,d){return new bK(r,i,a,l,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>rP(this.syncEngine,n,0)),(function(){return QC.v()?new QC:new uK})())}createSyncEngine(e,n){return(function(i,a,l,d,f,h,p){const g=new UK(i,a,l,d,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ye(n);Se(Tc,"RemoteStore shutting down."),r.Ea.add(5),await Qh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}q1.provider={build:()=>new q1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="FirestoreClient";class eG{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xr.UNAUTHENTICATED,this.clientId=h_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Se(hl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Se(hl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=R_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ib(t,e){t.asyncQueue.verifyOperationInProgress(),Se(hl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await pD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function aP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tG(t);Se(hl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>JC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>JC(e.remoteStore,i))),t._onlineComponents=e}async function tG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(hl,"Using user provided OfflineComponentProvider");try{await Ib(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Zu("Error using user provided cache. Falling back to memory cache: "+n),await Ib(t,new Qg)}}else Se(hl,"Using default OfflineComponentProvider"),await Ib(t,new JK(void 0));return t._offlineComponents}async function LD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(hl,"Using user provided OnlineComponentProvider"),await aP(t,t._uninitializedComponentsProvider._online)):(Se(hl,"Using default OnlineComponentProvider"),await aP(t,new q1))),t._onlineComponents}function nG(t){return LD(t).then((e=>e.syncEngine))}async function VD(t){const e=await LD(t),n=e.eventManager;return n.onListen=BK.bind(null,e.syncEngine),n.onUnlisten=FK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qK.bind(null,e.syncEngine),n}function rG(t,e,n={}){const r=new Bs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,f,h){const p=new MD({next:x=>{p.Nu(),l.enqueueAndForget((()=>TD(a,g)));const b=x.docs.has(d);!b&&x.fromCache?h.reject(new Ae(he.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&x.fromCache&&f&&f.source==="server"?h.reject(new Ae(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new ND(x_(d.path),p,{includeMetadataChanges:!0,qa:!0});return SD(a,g)})(await VD(t),t.asyncQueue,e,n,r))),r.promise}function iG(t,e,n={}){const r=new Bs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,f,h){const p=new MD({next:x=>{p.Nu(),l.enqueueAndForget((()=>TD(a,g))),x.fromCache&&f.source==="server"?h.reject(new Ae(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new ND(d,p,{includeMetadataChanges:!0,qa:!0});return SD(a,g)})(await VD(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="firestore.googleapis.com",oP=!0;class lP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BD,this.ssl=oP}else this.host=e.host,this.ssl=e.ssl??oP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MH)throw new Ae(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new uq;switch(r.type){case"firstParty":return new mq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=sP.get(n);r&&(Se("ComponentProvider","Removing Datastore"),sP.delete(n),r.terminate())})(this),Promise.resolve()}}function aG(t,e,n,r={}){t=ya(t,xv);const i=Mc(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;i&&(Q2(`https://${d}`),Z2("Firestore",!0)),a.host!==BD&&a.host!==d&&Zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:i,emulatorOptions:r};if(!Ks(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=xr.MOCK_USER;else{h=jR(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ae(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new xr(g)}t._authCredentials=new dq(new A3(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bl(this.firestore,e,this._query)}}class xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}toJSON(){return{type:xn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Wh(n,xn._jsonSchema))return new xn(e,r||null,new Me(Dt.fromString(n.referencePath)))}}xn._jsonSchemaVersion="firestore/documentReference/1.0",xn._jsonSchema={type:In("string",xn._jsonSchemaVersion),referencePath:In("string")};class il extends bl{constructor(e,n,r){super(e,n,x_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new Me(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function Pt(t,e,...n){if(t=dn(t),S3("collection","path",e),t instanceof xv){const r=Dt.fromString(e,...n);return wC(r),new il(t,null,r)}{if(!(t instanceof xn||t instanceof il))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return wC(r),new il(t.firestore,null,r)}}function bt(t,e,...n){if(t=dn(t),arguments.length===1&&(e=h_.newId()),S3("doc","path",e),t instanceof xv){const r=Dt.fromString(e,...n);return bC(r),new xn(t,null,new Me(r))}{if(!(t instanceof xn||t instanceof il))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return bC(r),new xn(t.firestore,t instanceof il?t.converter:null,new Me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="AsyncQueue";class uP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yD(this,"async_queue_retry"),this._c=()=>{const r=Ob();r&&Se(cP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ob();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ob();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Bs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_d(e))throw e;Se(cP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ys("INTERNAL UNHANDLED ERROR: ",dP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=k_.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&qe(47125,{Pc:dP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function dP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class zc extends xv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new uP,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uP(e),this._firestoreClient=void 0,await e}}}function sG(t,e){const n=typeof t=="object"?t:t_(),r=typeof t=="string"?t:$g,i=rv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=SR("firestore");a&&aG(i,...a)}return i}function V_(t){if(t._terminated)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oG(t),t._firestoreClient}function oG(t){const e=t._freezeSettings(),n=(function(i,a,l,d){return new Oq(i,a,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,UD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new eG(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bi(ur.fromBase64String(e))}catch(n){throw new Ae(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bi(ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wh(e,Bi._jsonSchema))return Bi.fromBase64String(e.bytes)}}Bi._jsonSchemaVersion="firestore/bytes/1.0",Bi._jsonSchema={type:In("string",Bi._jsonSchemaVersion),bytes:In("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ka._jsonSchemaVersion}}static fromJSON(e){if(Wh(e,Ka._jsonSchema))return new Ka(e.latitude,e.longitude)}}Ka._jsonSchemaVersion="firestore/geoPoint/1.0",Ka._jsonSchema={type:In("string",Ka._jsonSchemaVersion),latitude:In("number"),longitude:In("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ga._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wh(e,Ga._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ga(e.vectorValues);throw new Ae(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ga._jsonSchemaVersion="firestore/vectorValue/1.0",Ga._jsonSchema={type:In("string",Ga._jsonSchemaVersion),vectorValues:In("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=/^__.*__$/;class cG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yh(e,this.data,n,this.fieldTransforms)}}class zD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $D(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ac:t})}}class wv{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new wv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($D(this.Ac)&&lG.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gv(e)}Cc(e,n,r,i=!1){return new wv({Ac:e,methodName:n,Dc:r,path:cr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _v(t){const e=t._freezeSettings(),n=gv(t._databaseId);return new uG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FD(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);z_("Data must be an object, but it was:",l,r);const d=HD(r,l);let f,h;if(a.merge)f=new fi(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const x=H1(e,g,n);if(!l.contains(x))throw new Ae(he.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);GD(p,x)||p.push(x)}f=new fi(p),h=l.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=l.fieldTransforms;return new cG(new Gr(d),f,h)}class Ev extends Jh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ev}}function qD(t,e,n){return new wv({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class U_ extends Jh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=qD(this,e,!0),r=this.vc.map((a=>$c(a,n))),i=new nd(r);return new eD(e.path,i)}isEqual(e){return e instanceof U_&&Ks(this.vc,e.vc)}}class B_ extends Jh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=qD(this,e,!0),r=this.vc.map((a=>$c(a,n))),i=new rd(r);return new eD(e.path,i)}isEqual(e){return e instanceof B_&&Ks(this.vc,e.vc)}}function dG(t,e,n,r){const i=t.Cc(1,e,n);z_("Data must be an object, but it was:",i,r);const a=[],l=Gr.empty();vl(r,((f,h)=>{const p=$_(e,f,n);h=dn(h);const g=i.yc(p);if(h instanceof Ev)a.push(p);else{const x=$c(h,g);x!=null&&(a.push(p),l.set(p,x))}}));const d=new fi(a);return new zD(l,d,i.fieldTransforms)}function fG(t,e,n,r,i,a){const l=t.Cc(1,e,n),d=[H1(e,r,n)],f=[i];if(a.length%2!=0)throw new Ae(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)d.push(H1(e,a[x])),f.push(a[x+1]);const h=[],p=Gr.empty();for(let x=d.length-1;x>=0;--x)if(!GD(h,d[x])){const b=d[x];let A=f[x];A=dn(A);const E=l.yc(b);if(A instanceof Ev)h.push(b);else{const S=$c(A,E);S!=null&&(h.push(b),p.set(b,S))}}const g=new fi(h);return new zD(p,g,l.fieldTransforms)}function hG(t,e,n,r=!1){return $c(n,t.Cc(r?4:3,e))}function $c(t,e){if(KD(t=dn(t)))return z_("Unsupported field value:",e,t),HD(t,e);if(t instanceof Jh)return(function(r,i){if(!$D(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const d of r){let f=$c(d,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=$t.fromDate(r);return{timestampValue:Wg(i.serializer,a)}}if(r instanceof $t){const a=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wg(i.serializer,a)}}if(r instanceof Ka)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bi)return{bytesValue:sD(i.serializer,r._byteString)};if(r instanceof xn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:A_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ga)return(function(l,d){return{mapValue:{fields:{[R3]:{stringValue:D3},[Fg]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw d.Sc("VectorValues must only contain numeric values.");return b_(d.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${ov(r)}`)})(t,e)}function HD(t,e){const n={};return j3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vl(t,((r,i)=>{const a=$c(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function KD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof Ka||t instanceof Bi||t instanceof xn||t instanceof Jh||t instanceof Ga)}function z_(t,e,n){if(!KD(n)||!T3(n)){const r=ov(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function H1(t,e,n){if((e=dn(e))instanceof bv)return e._internalPath;if(typeof e=="string")return $_(t,e);throw Zg("Field path arguments must be of type string or ",t,!1,void 0,n)}const mG=new RegExp("[~\\*/\\[\\]]");function $_(t,e,n){if(e.search(mG)>=0)throw Zg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bv(...e.split("."))._internalPath}catch{throw Zg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zg(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Ae(he.INVALID_ARGUMENT,d+t+f)}function GD(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Av("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pG extends WD{data(){return super.data()}}function Av(t,e){return typeof e=="string"?$_(t,e):e instanceof bv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F_{}class q_ extends F_{}function xa(t,e,...n){let r=[];e instanceof F_&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof H_)).length,d=a.filter((f=>f instanceof Sv)).length;if(l>1||l>0&&d>0)throw new Ae(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Sv extends q_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sv(e,n,r)}_apply(e){const n=this._parse(e);return YD(e._query,n),new bl(e.firestore,e.converter,D1(e._query,n))}_parse(e){const n=_v(e.firestore);return(function(a,l,d,f,h,p,g){let x;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){hP(g,p);const A=[];for(const E of g)A.push(fP(f,a,E));x={arrayValue:{values:A}}}else x=fP(f,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||hP(g,p),x=hG(d,l,g,p==="in"||p==="not-in");return On.create(h,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Qs(t,e,n){const r=e,i=Av("where",t);return Sv._create(i,r,n)}class H_ extends F_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new H_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:va.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const d=a.getFlattenedFilters();for(const f of d)YD(l,f),l=D1(l,f)})(e._query,n),new bl(e.firestore,e.converter,D1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class K_ extends q_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new K_(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new Ae(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ae(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Th(a,l)})(e._query,this._field,this._direction);return new bl(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new Ed(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function wl(t,e="asc"){const n=e,r=Av("orderBy",t);return K_._create(r,n)}class G_ extends q_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new G_(e,n,r)}_apply(e){return new bl(e.firestore,e.converter,Hg(e._query,this._limit,this._limitType))}}function yG(t){return G_._create("limit",t,"F")}function fP(t,e,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new Ae(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F3(e)&&n.indexOf("/")!==-1)throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dt.fromString(n));if(!Me.isDocumentKey(r))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CC(t,new Me(r))}if(n instanceof xn)return CC(t,n._key);throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ov(n)}.`)}function hP(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YD(t,e){const n=(function(i,a){for(const l of i)for(const d of l.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ae(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vG{convertValue(e,n="none"){switch(dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vl(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Fg].arrayValue?.values?.map((r=>vn(r.doubleValue)));return new Ga(n)}convertGeoPoint(e){return new Ka(vn(e.latitude),vn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Eh(e));default:return null}}convertTimestamp(e){const n=cl(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);pt(fD(r),9688,{name:e});const i=new Ah(r.get(1),r.get(3)),a=new Me(r.popFirst(5));return i.isEqual(n)||Ys(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class lh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gc extends WD{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ng(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Av("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=gc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}gc._jsonSchemaVersion="firestore/documentSnapshot/1.0",gc._jsonSchema={type:In("string",gc._jsonSchemaVersion),bundleSource:In("string","DocumentSnapshot"),bundleName:In("string"),bundle:In("string")};class Ng extends gc{data(e={}){return super.data(e)}}class Hu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new lh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ng(this._firestore,this._userDataWriter,r.key,r,new lh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((d=>{const f=new Ng(i._firestore,i._userDataWriter,d.doc.key,d.doc,new lh(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new Ng(i._firestore,i._userDataWriter,d.doc.key,d.doc,new lh(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return d.type!==0&&(h=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),p=l.indexOf(d.doc.key)),{type:xG(d.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=h_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){t=ya(t,xn);const e=ya(t.firestore,zc);return rG(V_(e),t._key).then((n=>bG(e,t,n)))}Hu._jsonSchemaVersion="firestore/querySnapshot/1.0",Hu._jsonSchema={type:In("string",Hu._jsonSchemaVersion),bundleSource:In("string","QuerySnapshot"),bundleName:In("string"),bundle:In("string")};class QD extends vG{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function Gt(t){t=ya(t,bl);const e=ya(t.firestore,zc),n=V_(e),r=new QD(e);return gG(t._query),iG(n,t._query).then((i=>new Hu(e,r,t,i)))}function ml(t,e,n){t=ya(t,xn);const r=ya(t.firestore,zc),i=XD(t.converter,e,n);return Nv(r,[FD(_v(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$i.none())])}function ua(t,e,n,...r){t=ya(t,xn);const i=ya(t.firestore,zc),a=_v(i);let l;return l=typeof(e=dn(e))=="string"||e instanceof bv?fG(a,"updateDoc",t._key,e,n,r):dG(a,"updateDoc",t._key,e),Nv(i,[l.toMutation(t._key,$i.exists(!0))])}function W_(t){return Nv(ya(t.firestore,zc),[new w_(t._key,$i.none())])}function Tv(t,e){const n=ya(t.firestore,zc),r=bt(t),i=XD(t.converter,e);return Nv(n,[FD(_v(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$i.exists(!1))]).then((()=>r))}function Nv(t,e){return(function(r,i){const a=new Bs;return r.asyncQueue.enqueueAndForget((async()=>HK(await nG(r),i,a))),a.promise})(V_(t),e)}function bG(t,e,n){const r=n.docs.get(e._key),i=new QD(t);return new gc(t,i,e._key,r,new lh(n.hasPendingWrites,n.fromCache),e.converter)}function mP(...t){return new U_("arrayUnion",t)}function pP(...t){return new B_("arrayRemove",t)}(function(e,n=!0){(function(i){bd=i})(Lc),_c(new ol("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new zc(new fq(r.getProvider("auth-internal")),new pq(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ae(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ah(h.options.projectId,p)})(l,i),l);return a={useFetchStreams:n,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),$a(gC,yC,e),$a(gC,yC,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="firebasestorage.googleapis.com",wG="storageBucket",_G=120*1e3,EG=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends rs{constructor(e,n,r=0){super(kb(e),`Firebase Storage: ${n} (${kb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,as.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xa;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xa||(Xa={}));function kb(t){return"storage/"+t}function AG(){const t="An unknown error occurred, please check the error payload for server response.";return new as(Xa.UNKNOWN,t)}function SG(){return new as(Xa.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TG(){return new as(Xa.CANCELED,"User canceled the upload/download.")}function NG(t){return new as(Xa.INVALID_URL,"Invalid URL '"+t+"'.")}function jG(t){return new as(Xa.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gP(t){return new as(Xa.INVALID_ARGUMENT,t)}function JD(){return new as(Xa.APP_DELETED,"The Firebase app was deleted.")}function CG(t){return new as(Xa.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ma.makeFromUrl(e,n)}catch{return new ma(e,"")}if(r.path==="")return r;throw jG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const l="(/(.*))?$",d=new RegExp("^gs://"+i+l,"i"),f={bucket:1,path:3};function h(L){L.path_=decodeURIComponent(L.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",b=new RegExp(`^https?://${g}/${p}/b/${i}/o${x}`,"i"),A={bucket:1,path:3},E=n===ZD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",N=new RegExp(`^https?://${E}/${i}/${S}`,"i"),j=[{regex:d,indices:f,postModify:a},{regex:b,indices:A,postModify:h},{regex:N,indices:{bucket:1,path:2},postModify:h}];for(let L=0;L<j.length;L++){const V=j[L],D=V.regex.exec(e);if(D){const k=D[V.indices.bucket];let O=D[V.indices.path];O||(O=""),r=new ma(k,O),V.postModify(r);break}}if(r==null)throw NG(e);return r}}class PG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(t,e,n){let r=1,i=null,a=null,l=!1,d=0;function f(){return d===2}let h=!1;function p(...S){h||(h=!0,e.apply(null,S))}function g(S){i=setTimeout(()=>{i=null,t(b,f())},S)}function x(){a&&clearTimeout(a)}function b(S,...N){if(h){x();return}if(S){x(),p.call(null,S,...N);return}if(f()||l){x(),p.call(null,S,...N);return}r<64&&(r*=2);let j;d===1?(d=2,j=0):j=(r+Math.random())*1e3,g(j)}let A=!1;function E(S){A||(A=!0,x(),!h&&(i!==null?(S||(d=2),clearTimeout(i),g(0)):S||(d=1)))}return g(0),a=setTimeout(()=>{l=!0,E(!0)},n),E}function IG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG(t){return t!==void 0}function yP(t,e,n,r){if(r<e)throw gP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw gP(`Invalid value for '${t}'. Expected ${n} or less.`)}function RG(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Jg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Jg||(Jg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DG(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e,n,r,i,a,l,d,f,h,p,g,x=!0,b=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=x,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,E)=>{this.resolve_=A,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Xp(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=d=>{const f=d.loaded,h=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const d=a.getErrorCode()===Jg.NO_ERROR,f=a.getStatus();if(!d||DG(f,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===Jg.ABORT;r(!1,new Xp(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new Xp(h,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());kG(f)?a(f):a()}catch(f){l(f)}else if(d!==null){const f=AG();f.serverResponse=d.getErrorText(),this.errorCallback_?l(this.errorCallback_(d,f)):l(f)}else if(i.canceled){const f=this.appDelete_?JD():TG();l(f)}else{const f=SG();l(f)}};this.canceled_?n(!1,new Xp(!1,null,!0)):this.backoffId_=OG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function LG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function VG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function UG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function BG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zG(t,e,n,r,i,a,l=!0,d=!1){const f=RG(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return UG(p,e),LG(p,n),VG(p,a),BG(p,r),new MG(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function FG(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this._service=e,n instanceof ma?this._location=n:this._location=ma.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ey(e,n)}get root(){const e=new ma(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FG(this._location.path)}get storage(){return this._service}get parent(){const e=$G(this._location.path);if(e===null)return null;const n=new ma(this._location.bucket,e);return new ey(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw CG(e)}}function vP(t,e){const n=e?.[wG];return n==null?null:ma.makeFromBucketSpec(n,t)}function qG(t,e,n,r={}){t.host=`${e}:${n}`;const i=Mc(e);i&&(Q2(`https://${t.host}/b`),Z2("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:jR(a,t.app.options.projectId))}class HG{constructor(e,n,r,i,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=ZD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_G,this._maxUploadRetryTime=EG,this._requests=new Set,i!=null?this._bucket=ma.makeFromBucketSpec(i,this._host):this._bucket=vP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ma.makeFromBucketSpec(this._url,e):this._bucket=vP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Kr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ey(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new PG(JD());{const l=zG(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const xP="@firebase/storage",bP="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6="storage";function KG(t=t_(),e){t=dn(t);const r=rv(t,e6).getImmediate({identifier:e}),i=SR("storage");return i&&GG(r,...i),r}function GG(t,e,n,r={}){qG(t,e,n,r)}function WG(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new HG(n,r,i,e,Lc)}function YG(){_c(new ol(e6,WG,"PUBLIC").setMultipleInstances(!0)),$a(xP,bP,""),$a(xP,bP,"esm2020")}YG();const K1={apiKey:"AIzaSyDzEL20_gjVbq1gmskOJ2H2mFUocpamJzU",authDomain:"psgshop-62518.firebaseapp.com",projectId:"psgshop-62518",storageBucket:"psgshop-62518.firebasestorage.app",messagingSenderId:"951270215395",appId:"1:951270215395:web:d6c1ec0787e43351c17fd6"};console.log("Firebase config values:",{apiKey:"***",authDomain:"psgshop-62518.firebaseapp.com",projectId:"psgshop-62518",storageBucket:"psgshop-62518.firebasestorage.app",messagingSenderId:"951270215395",appId:"1:951270215395:web:d6c1ec0787e43351c17fd6"});const t6=Object.values(K1).every(t=>t&&t!=="");console.log("Is Firebase config valid:",t6);let Qp,Re,ga,XG;if(t6)try{console.log("Initializing Firebase app..."),Qp=OR(K1),console.log("Firebase app initialized successfully"),console.log("Initializing Firestore..."),Re=sG(Qp),console.log("Firestore initialized successfully"),console.log("Initializing Auth..."),ga=sq(Qp),W$(ga,s3).then(()=>{console.log("Auth persistence set to browser local storage")}).catch(t=>{console.error("Error setting auth persistence:",t)}),console.log("Auth initialized successfully"),console.log("Initializing Storage..."),XG=KG(Qp),console.log("Storage initialized successfully")}catch(t){console.error("Firebase initialization error:",t),console.error("Error code:",t.code),console.error("Error message:",t.message)}else{const t=Object.entries(K1).filter(([e,n])=>!n||n==="").map(([e])=>e);console.warn("Firebase configuration is missing or incomplete. Missing keys:",t),console.warn("Please check your .env file and ensure all Firebase config variables are set.")}const n6=_.createContext(),Yi=()=>_.useContext(n6),r6=_.createContext(),QG=(t,e)=>{switch(e.type){case"SET_CART":return{...t,items:e.payload.items||[],coupon:e.payload.coupon||null};case"ADD_TO_CART":const n=t.items.find(f=>f.id===e.payload.id);if(n){const f=n.quantity+(e.payload.quantity||1),h=e.payload.stock!==void 0?e.payload.stock:1/0;return f>h?t:{...t,items:t.items.map(p=>p.id===e.payload.id?{...p,quantity:f}:p)}}const r=e.payload.quantity||1,i=e.payload.stock!==void 0?e.payload.stock:1/0;return r>i?t:{...t,items:[...t.items,{...e.payload,quantity:r}]};case"REMOVE_FROM_CART":return{...t,items:t.items.filter(f=>f.id!==e.payload)};case"UPDATE_QUANTITY":const a=t.items.find(f=>f.id===e.payload.id);if(!a)return t;const l=a.stock!==void 0?a.stock:1/0,d=Math.min(e.payload.quantity,l);return d<=0?{...t,items:t.items.filter(f=>f.id!==e.payload.id)}:{...t,items:t.items.map(f=>f.id===e.payload.id?{...f,quantity:d}:f)};case"CLEAR_CART":return{...t,items:[],coupon:null};case"APPLY_COUPON":return{...t,coupon:e.payload};case"REMOVE_COUPON":return{...t,coupon:null};default:return t}},ZG=({children:t})=>{const[e,n]=_.useReducer(QG,{items:[],coupon:null}),[r,i]=_.useState(!0),{currentUser:a}=Yi(),l=_.useRef(!0),d=N=>{if(N.imageUrls&&N.imageUrls.length>0){const C=N.imageUrls.filter(j=>j&&(typeof j=="string"||j.data&&typeof j.data=="string"));if(C.length>0){const j=N.primaryImageIndex||0,L=Math.min(j,C.length-1),V=C[L];if(typeof V=="string")return V;if(V&&V.data)return V.data}}return N.imageUrl||"https://via.placeholder.com/600x600.png?text=Moño"},f=_.useCallback(async()=>{if(i(!0),!a){console.log("No user logged in, clearing cart"),n({type:"SET_CART",payload:{items:[],coupon:null}}),i(!1);return}try{console.log("Attempting to load cart from Firestore for user:",a.uid);const N=bt(Re,"carts",a.uid),C=await ba(N);if(C.exists()){const j=C.data();console.log("Cart data loaded from Firestore:",j),n({type:"SET_CART",payload:{items:j.items||[],coupon:j.coupon||null}})}else console.log("No cart found for user, initializing empty cart"),n({type:"SET_CART",payload:{items:[],coupon:null}})}catch(N){console.error("Error loading cart from Firestore:",N),console.error("Error details:",N.code,N.message),n({type:"SET_CART",payload:{items:[],coupon:null}})}finally{i(!1)}},[a]);_.useEffect(()=>{console.log("CartProvider useEffect triggered with currentUser:",a),f()},[a,f]),_.useEffect(()=>{if(!a||r||l.current){l.current&&(console.log("Skipping save during initial cart load"),l.current=!1);return}const N=async()=>{console.log("Saving cart to Firestore:",{userId:a.uid,itemsCount:e.items.length,items:e.items,coupon:e.coupon});try{const j=bt(Re,"carts",a.uid),L={userId:a.uid,items:e.items.map(D=>({...D,lastUpdated:Date.now()})),coupon:e.coupon,updatedAt:new Date().toISOString(),timestamp:Date.now()};await ml(j,L,{merge:!0}),console.log("Successfully saved cart to Firestore with data:",L),(await ba(j)).exists()?console.log("Verification: Cart successfully saved and can be read back"):console.error("Verification: Failed to verify cart save")}catch(j){console.error("Error saving cart to Firestore:",j),console.error("Error details:",j.code,j.message)}},C=setTimeout(()=>{N()},500);return()=>clearTimeout(C)},[e.items,e.coupon,a,r]);const h=N=>{console.log("Adding to cart:",N);const C={...N,imageUrl:d(N)};n({type:"ADD_TO_CART",payload:C})},p=async N=>{if(console.log("Removing from cart:",N),n({type:"REMOVE_FROM_CART",payload:N}),a)try{const C=bt(Re,"carts",a.uid)}catch(C){console.error("Error removing item from Firestore cart:",C)}},g=(N,C)=>{if(console.log("Updating quantity:",N,C),C<=0){p(N);return}n({type:"UPDATE_QUANTITY",payload:{id:N,quantity:C}})},x=async()=>{if(n({type:"CLEAR_CART"}),a)try{const N=bt(Re,"carts",a.uid);await ml(N,{userId:a.uid,items:[],coupon:null,updatedAt:new Date})}catch(N){console.error("Error clearing cart in Firestore:",N)}},b=()=>e.items.reduce((N,C)=>N+C.quantity,0),A=()=>{const N=e.items.reduce((C,j)=>C+j.price*j.quantity,0);if(e.coupon){if(e.coupon.discountType==="percentage")return N*(1-e.coupon.discountValue/100);if(e.coupon.discountType==="fixed")return Math.max(0,N-e.coupon.discountValue)}return N},E=async N=>{try{const C=Pt(Re,"coupons"),j=xa(C,Qs("code","==",N)),L=await Gt(j);if(L.empty)throw new Error("Cupón no válido");const V=L.docs[0],D={id:V.id,...V.data()};if(!D.isActive)throw new Error("Este cupón no está activo");const k=new Date;if(D.expiryDate&&k>D.expiryDate.toDate())throw new Error("Este cupón ha expirado");return n({type:"APPLY_COUPON",payload:D}),D}catch(C){throw console.error("Error applying coupon:",C),C}},S=()=>{n({type:"REMOVE_COUPON"})};return u.jsx(r6.Provider,{value:{items:e.items,coupon:e.coupon,loading:r,addToCart:h,removeFromCart:p,updateQuantity:g,clearCart:x,getTotalItems:b,getTotalPrice:A,applyCoupon:E,removeCoupon:S},children:t})},Fc=()=>{const t=_.useContext(r6);if(!t)throw new Error("useCart must be used within a CartProvider");return t},i6=_.createContext(),em=()=>_.useContext(i6),JG=({children:t})=>{const[e,n]=_.useState([]),[r,i]=_.useState(!0),{currentUser:a}=Yi(),l=_.useRef(!0),d=E=>{if(E.imageUrls&&E.imageUrls.length>0){const S=E.imageUrls.filter(N=>N&&(typeof N=="string"||N.data&&typeof N.data=="string"));if(S.length>0){const N=E.primaryImageIndex||0,C=Math.min(N,S.length-1),j=S[C];if(typeof j=="string")return j;if(j&&j.data)return j.data}}return E.imageUrl||"https://via.placeholder.com/600x600.png?text=Moño"},f=_.useCallback(async()=>{if(i(!0),!a){n([]),i(!1),l.current=!1;return}try{const E=bt(Re,"wishlists",a.uid),S=await ba(E);if(S.exists()){const N=S.data();n(N.items||[])}else n([])}catch(E){console.error("Error loading wishlist from Firestore:",E),n([])}finally{i(!1),l.current=!1}},[a]);_.useEffect(()=>{f()},[a,f]),_.useEffect(()=>{if(!a||r||l.current)return;const E=async()=>{try{const N=bt(Re,"wishlists",a.uid),C={userId:a.uid,items:e.map(L=>({...L,lastUpdated:Date.now()})),updatedAt:new Date().toISOString(),timestamp:Date.now()};await ml(N,C,{merge:!0}),(await ba(N)).exists()||console.error("Verification: Failed to verify wishlist save")}catch(N){console.error("Error saving wishlist to Firestore:",N)}},S=setTimeout(()=>{E()},500);return()=>clearTimeout(S)},[e,a,r]);const h=E=>{n(S=>{if(S.find(j=>j.id===E.id))return S;const C={...E,imageUrl:d(E)};return[...S,C]})},p=E=>{n(S=>S.filter(N=>N.id!==E))},g=E=>e.some(S=>S.id===E),x=async()=>{if(n([]),a)try{const E=bt(Re,"wishlists",a.uid);await ml(E,{userId:a.uid,items:[],updatedAt:new Date})}catch(E){console.error("Error clearing wishlist in Firestore:",E)}},b=()=>e.length,A=()=>{f()};return u.jsx(i6.Provider,{value:{items:e,loading:r,addToWishlist:h,removeFromWishlist:p,isInWishlist:g,clearWishlist:x,getTotalItems:b,refreshWishlist:A},children:t})};var Rb={exports:{}},Db,wP;function eW(){if(wP)return Db;wP=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Db=t,Db}var Mb,_P;function tW(){if(_P)return Mb;_P=1;var t=eW();function e(){}function n(){}return n.resetWarningCache=e,Mb=function(){function r(l,d,f,h,p,g){if(g!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Mb}var EP;function nW(){return EP||(EP=1,Rb.exports=tW()()),Rb.exports}var rW=nW();const Bt=ns(rW);function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){a6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jg(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jg=function(e){return typeof e}:jg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function a6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function aW(t,e){if(t==null)return{};var n=iW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sW(t,e){return oW(t)||lW(t,e)||cW(t,e)||uW()}function oW(t){if(Array.isArray(t))return t}function lW(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,a=!1,l,d;try{for(n=n.call(t);!(i=(l=n.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(f){a=!0,d=f}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw d}}return r}}function cW(t,e){if(t){if(typeof t=="string")return TP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TP(t,e)}}function TP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var kr=function(e,n,r){var i=!!r,a=lt.useRef(r);lt.useEffect(function(){a.current=r},[r]),lt.useEffect(function(){if(!i||!e)return function(){};var l=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,l),function(){e.off(n,l)}},[i,n,e,a])},dW=function(e){var n=lt.useRef(e);return lt.useEffect(function(){n.current=e},[e]),n.current},ty=function(e){return e!==null&&jg(e)==="object"},NP="[object Object]",fW=function t(e,n){if(!ty(e)||!ty(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var a=Object.prototype.toString.call(e)===NP,l=Object.prototype.toString.call(n)===NP;if(a!==l)return!1;if(!a&&!r)return e===n;var d=Object.keys(e),f=Object.keys(n);if(d.length!==f.length)return!1;for(var h={},p=0;p<d.length;p+=1)h[d[p]]=!0;for(var g=0;g<f.length;g+=1)h[f[g]]=!0;var x=Object.keys(h);if(x.length!==d.length)return!1;var b=e,A=n,E=function(N){return t(b[N],A[N])};return x.every(E)},hW=function(e,n,r){return ty(e)?Object.keys(e).reduce(function(i,a){var l=!ty(n)||!fW(e[a],n[a]);return r.includes(a)?(l&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):l?SP(SP({},i||{}),{},a6({},a,e[a])):i},null):null},s6=lt.createContext(null);s6.displayName="ElementsContext";var mW=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e};Bt.any,Bt.object;Bt.func.isRequired;var o6=lt.createContext(null);o6.displayName="CheckoutSdkContext";var pW=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},gW=lt.createContext(null);gW.displayName="CheckoutContext";Bt.any,Bt.shape({fetchClientSecret:Bt.func.isRequired,elementsOptions:Bt.object}).isRequired;var jP=function(e){var n=lt.useContext(o6),r=lt.useContext(s6);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?pW(n,e):mW(r,e)},yW=["mode"],vW=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},bn=function(e,n){var r="".concat(vW(e),"Element"),i=function(f){var h=f.id,p=f.className,g=f.options,x=g===void 0?{}:g,b=f.onBlur,A=f.onFocus,E=f.onReady,S=f.onChange,N=f.onEscape,C=f.onClick,j=f.onLoadError,L=f.onLoaderStart,V=f.onNetworksChange,D=f.onConfirm,k=f.onCancel,O=f.onShippingAddressChange,R=f.onShippingRateChange,F=f.onSavedPaymentMethodRemove,B=f.onSavedPaymentMethodUpdate,q=jP("mounts <".concat(r,">")),U="elements"in q?q.elements:null,ve="checkoutSdk"in q?q.checkoutSdk:null,le=lt.useState(null),W=sW(le,2),K=W[0],ce=W[1],me=lt.useRef(null),z=lt.useRef(null);kr(K,"blur",b),kr(K,"focus",A),kr(K,"escape",N),kr(K,"click",C),kr(K,"loaderror",j),kr(K,"loaderstart",L),kr(K,"networkschange",V),kr(K,"confirm",D),kr(K,"cancel",k),kr(K,"shippingaddresschange",O),kr(K,"shippingratechange",R),kr(K,"savedpaymentmethodremove",F),kr(K,"savedpaymentmethodupdate",B),kr(K,"change",S);var X;E&&(e==="expressCheckout"?X=E:X=function(){E(K)}),kr(K,"ready",X),lt.useLayoutEffect(function(){if(me.current===null&&z.current!==null&&(U||ve)){var Z=null;if(ve)switch(e){case"payment":Z=ve.createPaymentElement(x);break;case"address":if("mode"in x){var oe=x.mode,ye=aW(x,yW);if(oe==="shipping")Z=ve.createShippingAddressElement(ye);else if(oe==="billing")Z=ve.createBillingAddressElement(ye);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":Z=ve.createExpressCheckoutElement(x);break;case"currencySelector":Z=ve.createCurrencySelectorElement();break;case"taxId":Z=ve.createTaxIdElement(x);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else U&&(Z=U.create(e,x));me.current=Z,ce(Z),Z&&Z.mount(z.current)}},[U,ve,x]);var ne=dW(x);return lt.useEffect(function(){if(me.current){var Z=hW(x,ne,["paymentRequest"]);Z&&"update"in me.current&&me.current.update(Z)}},[x,ne]),lt.useLayoutEffect(function(){return function(){if(me.current&&typeof me.current.destroy=="function")try{me.current.destroy(),me.current=null}catch{}}},[]),lt.createElement("div",{id:h,className:p,ref:z})},a=function(f){jP("mounts <".concat(r,">"));var h=f.id,p=f.className;return lt.createElement("div",{id:h,className:p})},l=n?a:i;return l.propTypes={id:Bt.string,className:Bt.string,onChange:Bt.func,onBlur:Bt.func,onFocus:Bt.func,onReady:Bt.func,onEscape:Bt.func,onClick:Bt.func,onLoadError:Bt.func,onLoaderStart:Bt.func,onNetworksChange:Bt.func,onConfirm:Bt.func,onCancel:Bt.func,onShippingAddressChange:Bt.func,onShippingRateChange:Bt.func,onSavedPaymentMethodRemove:Bt.func,onSavedPaymentMethodUpdate:Bt.func,options:Bt.object},l.displayName=r,l.__elementType=e,l},wn=typeof window>"u",xW=lt.createContext(null);xW.displayName="EmbeddedCheckoutProviderContext";bn("auBankAccount",wn);var bW=bn("card",wn);bn("cardNumber",wn);bn("cardExpiry",wn);bn("cardCvc",wn);bn("fpxBank",wn);bn("iban",wn);bn("idealBank",wn);bn("p24Bank",wn);bn("epsBank",wn);bn("payment",wn);bn("expressCheckout",wn);bn("currencySelector",wn);bn("paymentRequestButton",wn);bn("linkAuthentication",wn);bn("address",wn);bn("shippingAddress",wn);bn("paymentMethodMessaging",wn);bn("affirmMessage",wn);bn("afterpayClearpayMessage",wn);bn("taxId",wn);var Lb,CP;function wW(){if(CP)return Lb;CP=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,i=(z,X)=>{for(var ne in X)t(z,ne,{get:X[ne],enumerable:!0})},a=(z,X,ne,Z)=>{if(X&&typeof X=="object"||typeof X=="function")for(let oe of n(X))!r.call(z,oe)&&oe!==ne&&t(z,oe,{get:()=>X[oe],enumerable:!(Z=e(X,oe))||Z.enumerable});return z},l=z=>a(t({},"__esModule",{value:!0}),z),d=(z,X,ne)=>new Promise((Z,oe)=>{var ye=Ke=>{try{Le(ne.next(Ke))}catch(_e){oe(_e)}},be=Ke=>{try{Le(ne.throw(Ke))}catch(_e){oe(_e)}},Le=Ke=>Ke.done?Z(Ke.value):Promise.resolve(Ke.value).then(ye,be);Le((ne=ne.apply(z,X)).next())}),f={};i(f,{SubmissionError:()=>L,appendExtraData:()=>U,createClient:()=>K,getDefaultClient:()=>ce,isSubmissionError:()=>j}),Lb=l(f);var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;function g(z){z=String(z);for(var X,ne,Z,oe,ye="",be=0,Le=z.length%3;be<z.length;){if((ne=z.charCodeAt(be++))>255||(Z=z.charCodeAt(be++))>255||(oe=z.charCodeAt(be++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");X=ne<<16|Z<<8|oe,ye+=h.charAt(X>>18&63)+h.charAt(X>>12&63)+h.charAt(X>>6&63)+h.charAt(X&63)}return Le?ye.slice(0,Le-3)+"===".substring(Le):ye}function x(z){if(z=String(z).replace(/[\t\n\f\r ]+/g,""),!p.test(z))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");z+="==".slice(2-(z.length&3));for(var X,ne="",Z,oe,ye=0;ye<z.length;)X=h.indexOf(z.charAt(ye++))<<18|h.indexOf(z.charAt(ye++))<<12|(Z=h.indexOf(z.charAt(ye++)))<<6|(oe=h.indexOf(z.charAt(ye++))),ne+=Z===64?String.fromCharCode(X>>16&255):oe===64?String.fromCharCode(X>>16&255,X>>8&255):String.fromCharCode(X>>16&255,X>>8&255,X&255);return ne}var b=()=>navigator.webdriver||!!document.documentElement.getAttribute(x("d2ViZHJpdmVy"))||!!window.callPhantom||!!window._phantom,A=class{constructor(){this.loadedAt=Date.now(),this.webdriver=b()}data(){return{loadedAt:this.loadedAt,webdriver:this.webdriver}}},E=class{constructor(z){this.kind="success",this.next=z.next}};function S(z){return"next"in z&&typeof z.next=="string"}var N=class{constructor(z,X){this.paymentIntentClientSecret=z,this.resubmitKey=X,this.kind="stripePluginPending"}};function C(z){if("stripe"in z&&"resubmitKey"in z&&typeof z.resubmitKey=="string"){let{stripe:X}=z;return typeof X=="object"&&X!=null&&"paymentIntentClientSecret"in X&&typeof X.paymentIntentClientSecret=="string"}return!1}function j(z){return z.kind==="error"}var L=class{constructor(...z){this.kind="error",this.formErrors=[],this.fieldErrors=new Map;var X;for(let ne of z){if(!ne.field){this.formErrors.push({code:ne.code&&V(ne.code)?ne.code:"UNSPECIFIED",message:ne.message});continue}let Z=(X=this.fieldErrors.get(ne.field))!=null?X:[];Z.push({code:ne.code&&k(ne.code)?ne.code:"UNSPECIFIED",message:ne.message}),this.fieldErrors.set(ne.field,Z)}}getFormErrors(){return[...this.formErrors]}getFieldErrors(z){var X;return(X=this.fieldErrors.get(z))!=null?X:[]}getAllFieldErrors(){return Array.from(this.fieldErrors)}};function V(z){return z in D}var D={BLOCKED:"BLOCKED",EMPTY:"EMPTY",FILES_TOO_BIG:"FILES_TOO_BIG",FORM_NOT_FOUND:"FORM_NOT_FOUND",INACTIVE:"INACTIVE",NO_FILE_UPLOADS:"NO_FILE_UPLOADS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",TOO_MANY_FILES:"TOO_MANY_FILES"};function k(z){return z in O}var O={REQUIRED_FIELD_EMPTY:"REQUIRED_FIELD_EMPTY",REQUIRED_FIELD_MISSING:"REQUIRED_FIELD_MISSING",STRIPE_CLIENT_ERROR:"STRIPE_CLIENT_ERROR",STRIPE_SCA_ERROR:"STRIPE_SCA_ERROR",TYPE_EMAIL:"TYPE_EMAIL",TYPE_NUMERIC:"TYPE_NUMERIC",TYPE_TEXT:"TYPE_TEXT"};function R(z){return"errors"in z&&Array.isArray(z.errors)&&z.errors.every(X=>typeof X.message=="string")||"error"in z&&typeof z.error=="string"}var F="4.0.0",B=z=>g(JSON.stringify(z)),q=z=>{let X=`@formspree/core@${F}`;return z?`${z} ${X}`:X};function U(z,X,ne){z instanceof FormData?z.append(X,ne):z[X]=ne}function ve(z){return z!==null&&typeof z=="object"}var le=class{constructor(z={}){this.project=z.project,this.stripe=z.stripe,typeof window<"u"&&(this.session=new A)}submitForm(z,X){return d(this,arguments,function*(ne,Z,oe={}){let ye=oe.endpoint||"https://formspree.io",be=this.project?`${ye}/p/${this.project}/f/${ne}`:`${ye}/f/${ne}`,Le={Accept:"application/json","Formspree-Client":q(oe.clientName)};this.session&&(Le["Formspree-Session-Data"]=B(this.session.data())),Z instanceof FormData||(Le["Content-Type"]="application/json");function Ke(Ve){return d(this,null,function*(){try{let Ne=yield(yield fetch(be,{method:"POST",mode:"cors",body:Ve instanceof FormData?Ve:JSON.stringify(Ve),headers:Le})).json();if(ve(Ne)){if(R(Ne))return Array.isArray(Ne.errors)?new L(...Ne.errors):new L({message:Ne.error});if(C(Ne))return new N(Ne.stripe.paymentIntentClientSecret,Ne.resubmitKey);if(S(Ne))return new E({next:Ne.next})}return new L({message:"Unexpected response format"})}catch(Ne){let xe=Ne instanceof Error?Ne.message:`Unknown error while posting to Formspree: ${JSON.stringify(Ne)}`;return new L({message:xe})}})}if(this.stripe&&oe.createPaymentMethod){let Ve=yield oe.createPaymentMethod();if(Ve.error)return new L({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Error creating payment method"});U(Z,"paymentMethod",Ve.paymentMethod.id);let Ne=yield Ke(Z);if(Ne.kind==="error")return Ne;if(Ne.kind==="stripePluginPending"){let xe=yield this.stripe.handleCardAction(Ne.paymentIntentClientSecret);if(xe.error)return new L({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Stripe SCA error"});Z instanceof FormData?Z.delete("paymentMethod"):delete Z.paymentMethod,U(Z,"paymentIntent",xe.paymentIntent.id),U(Z,"resubmitKey",Ne.resubmitKey);let Ue=yield Ke(Z);return W(Ue),Ue}return Ne}let _e=yield Ke(Z);return W(_e),_e})}};function W(z){let{kind:X}=z;if(X!=="success"&&X!=="error")throw new Error(`Unexpected submission result (kind: ${X})`)}var K=z=>new le(z),ce=()=>(me||(me=K()),me),me;return Lb}var Y_=wW();function ny(t){let{prefix:e,field:n,errors:r,...i}=t;if(r==null)return null;let a=n?r.getFieldErrors(n):r.getFormErrors();return a.length===0?null:lt.createElement("div",{...i},e?`${e} `:null,a.map(l=>l.message).join(", "))}var _W=_.createContext({elements:null});function EW(){return _.useContext(_W)}var AW=lt.createContext(null);function SW(){return _.useContext(AW)??{client:Y_.getDefaultClient()}}var TW="3.0.0",NW=`@formspree/react@${TW}`;function jW(t,e={}){let n=SW(),{client:r=n.client,extraData:i,origin:a}=e,{elements:l}=EW(),{stripe:d}=r;return async function(f){let h=CW(f)?PW(f):f;if(typeof i=="object")for(let[x,b]of Object.entries(i)){let A;typeof b=="function"?A=await b():A=b,A!==void 0&&Y_.appendExtraData(h,x,A)}let p=l?.getElement(bW),g=d&&p?()=>d.createPaymentMethod({type:"card",card:p,billing_details:OW(h)}):void 0;return r.submitForm(t,h,{endpoint:a,clientName:NW,createPaymentMethod:g})}}function CW(t){return"preventDefault"in t&&typeof t.preventDefault=="function"}function PW(t){t.preventDefault();let e=t.currentTarget;if(e.tagName!="FORM")throw new Error("submit was triggered for a non-form element");return new FormData(e)}function OW(t){let e={address:IW(t)};for(let n of["name","email","phone"]){let r=t instanceof FormData?t.get(n):t[n];r&&typeof r=="string"&&(e[n]=r)}return e}function IW(t){let e={};for(let[n,r]of[["address_line1","line1"],["address_line2","line2"],["address_city","city"],["address_country","country"],["address_state","state"],["address_postal_code","postal_code"]]){let i=t instanceof FormData?t.get(n):t[n];i&&typeof i=="string"&&(e[r]=i)}return e}function l6(t,e={}){let[n,r]=_.useState(null),[i,a]=_.useState(null),[l,d]=_.useState(!1),[f,h]=_.useState(!1),p=jW(t,{client:e.client,extraData:e.data,origin:e.endpoint});return[{errors:n,result:i,submitting:l,succeeded:f},async function(g){d(!0);let x=await p(g);d(!1),Y_.isSubmissionError(x)?(r(x),h(!1)):(r(null),a(x),h(!0))},function(){r(null),a(null),d(!1),h(!1)}]}const c6=async()=>{try{const t=Pt(Re,"products");return(await Gt(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Error fetching products:",t),t}},kW=async t=>{try{const e=bt(Re,"products",t),n=await ba(e);if(n.exists())return{id:n.id,...n.data()};throw new Error("Product not found")}catch(e){throw console.error("Error fetching product:",e),e}},Nh=({rating:t,size:e="md"})=>{const n=Math.max(0,Math.min(5,t||0)),r=Math.floor(n),i=n-r,a={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=a[e]||a.md,d=[];for(let h=0;h<r;h++)d.push(u.jsx("svg",{className:`${l} text-yellow-400`,fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`full-${h}`));if(i>0){const h=i*100;d.push(u.jsxs("div",{className:"relative",children:[u.jsx("svg",{className:`${l} text-gray-300`,fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),u.jsx("div",{className:"absolute top-0 left-0 overflow-hidden",style:{width:`${h}%`},children:u.jsx("svg",{className:`${l} text-yellow-400`,fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]},"fractional"))}const f=d.length;for(let h=f;h<5;h++)d.push(u.jsx("svg",{className:`${l} text-gray-300`,fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`empty-${h}`));return u.jsxs("div",{className:"flex items-center",children:[d,u.jsx("span",{className:"ml-1 text-gray-600 text-sm",children:n.toFixed(1)})]})};/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function u6(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function RW(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function PP(t,e){return t.get(u6(t,e))}function DW(t,e,n){RW(t,e),e.set(t,n)}function MW(t,e,n){return t.set(u6(t,e),n),n}const LW=100,Be={},VW=()=>{Be.previousActiveElement instanceof HTMLElement?(Be.previousActiveElement.focus(),Be.previousActiveElement=null):document.body&&document.body.focus()},UW=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;Be.restoreFocusTimeout=setTimeout(()=>{VW(),e()},LW),window.scrollTo(n,r)}),d6="swal2-",BW=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],ue=BW.reduce((t,e)=>(t[e]=d6+e,t),{}),zW=["success","warning","info","question","error"],ry=zW.reduce((t,e)=>(t[e]=d6+e,t),{}),f6="SweetAlert2:",X_=t=>t.charAt(0).toUpperCase()+t.slice(1),Mr=t=>{console.warn(`${f6} ${typeof t=="object"?t.join(" "):t}`)},qc=t=>{console.error(`${f6} ${t}`)},OP=[],$W=t=>{OP.includes(t)||(OP.push(t),Mr(t))},h6=(t,e=null)=>{$W(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},jv=t=>typeof t=="function"?t():t,Q_=t=>t&&typeof t.toPromise=="function",tm=t=>Q_(t)?t.toPromise():Promise.resolve(t),Z_=t=>t&&Promise.resolve(t)===t,Lr=()=>document.body.querySelector(`.${ue.container}`),nm=t=>{const e=Lr();return e?e.querySelector(t):null},gi=t=>nm(`.${t}`),dt=()=>gi(ue.popup),Sd=()=>gi(ue.icon),FW=()=>gi(ue["icon-content"]),m6=()=>gi(ue.title),J_=()=>gi(ue["html-container"]),p6=()=>gi(ue.image),eE=()=>gi(ue["progress-steps"]),Cv=()=>gi(ue["validation-message"]),Qa=()=>nm(`.${ue.actions} .${ue.confirm}`),Td=()=>nm(`.${ue.actions} .${ue.cancel}`),Hc=()=>nm(`.${ue.actions} .${ue.deny}`),qW=()=>gi(ue["input-label"]),Nd=()=>nm(`.${ue.loader}`),rm=()=>gi(ue.actions),g6=()=>gi(ue.footer),Pv=()=>gi(ue["timer-progress-bar"]),tE=()=>gi(ue.close),HW=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,nE=()=>{const t=dt();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,l)=>{const d=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(l.getAttribute("tabindex")||"0");return d>f?1:d<f?-1:0}),r=t.querySelectorAll(HW),i=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(i))].filter(a=>Yr(a))},rE=()=>zs(document.body,ue.shown)&&!zs(document.body,ue["toast-shown"])&&!zs(document.body,ue["no-backdrop"]),Ov=()=>{const t=dt();return t?zs(t,ue.toast):!1},KW=()=>{const t=dt();return t?t.hasAttribute("data-loading"):!1},yi=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),i=r.querySelector("head");i&&Array.from(i.childNodes).forEach(l=>{t.appendChild(l)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?t.appendChild(l.cloneNode(!0)):t.appendChild(l)})}},zs=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},GW=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(ue).includes(n)&&!Object.values(ry).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},mi=(t,e,n)=>{if(GW(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Mr(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}mt(t,r)}},Iv=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${ue.popup} > .${ue[e]}`);case"checkbox":return t.querySelector(`.${ue.popup} > .${ue.checkbox} input`);case"radio":return t.querySelector(`.${ue.popup} > .${ue.radio} input:checked`)||t.querySelector(`.${ue.popup} > .${ue.radio} input:first-child`);case"range":return t.querySelector(`.${ue.popup} > .${ue.range} input`);default:return t.querySelector(`.${ue.popup} > .${ue.input}`)}},y6=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},v6=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(i=>{n?i.classList.add(r):i.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},mt=(t,e)=>{v6(t,e,!0)},Hi=(t,e)=>{v6(t,e,!1)},Jo=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const i=n[r];if(i instanceof HTMLElement&&zs(i,e))return i}},yc=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Jn=(t,e="flex")=>{t&&(t.style.display=e)},Ar=t=>{t&&(t.style.display="none")},iE=(t,e="block")=>{t&&new MutationObserver(()=>{im(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},IP=(t,e,n,r)=>{const i=t.querySelector(e);i&&i.style.setProperty(n,r)},im=(t,e,n="flex")=>{e?Jn(t,n):Ar(t)},Yr=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),WW=()=>!Yr(Qa())&&!Yr(Hc())&&!Yr(Td()),G1=t=>t.scrollHeight>t.clientHeight,YW=(t,e)=>{let n=t;for(;n&&n!==e;){if(G1(n))return!0;n=n.parentElement}return!1},x6=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},aE=(t,e=!1)=>{const n=Pv();n&&Yr(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},XW=()=>{const t=Pv();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},QW=()=>typeof window>"u"||typeof document>"u",ZW=`
 <div aria-labelledby="${ue.title}" aria-describedby="${ue["html-container"]}" class="${ue.popup}" tabindex="-1">
   <button type="button" class="${ue.close}"></button>
   <ul class="${ue["progress-steps"]}"></ul>
   <div class="${ue.icon}"></div>
   <img class="${ue.image}" />
   <h2 class="${ue.title}" id="${ue.title}"></h2>
   <div class="${ue["html-container"]}" id="${ue["html-container"]}"></div>
   <input class="${ue.input}" id="${ue.input}" />
   <input type="file" class="${ue.file}" />
   <div class="${ue.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${ue.select}" id="${ue.select}"></select>
   <div class="${ue.radio}"></div>
   <label class="${ue.checkbox}">
     <input type="checkbox" id="${ue.checkbox}" />
     <span class="${ue.label}"></span>
   </label>
   <textarea class="${ue.textarea}" id="${ue.textarea}"></textarea>
   <div class="${ue["validation-message"]}" id="${ue["validation-message"]}"></div>
   <div class="${ue.actions}">
     <div class="${ue.loader}"></div>
     <button type="button" class="${ue.confirm}"></button>
     <button type="button" class="${ue.deny}"></button>
     <button type="button" class="${ue.cancel}"></button>
   </div>
   <div class="${ue.footer}"></div>
   <div class="${ue["timer-progress-bar-container"]}">
     <div class="${ue["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),JW=()=>{const t=Lr();return t?(t.remove(),Hi([document.documentElement,document.body],[ue["no-backdrop"],ue["toast-shown"],ue["has-column"]]),!0):!1},rc=()=>{Be.currentInstance.resetValidationMessage()},eY=()=>{const t=dt(),e=Jo(t,ue.input),n=Jo(t,ue.file),r=t.querySelector(`.${ue.range} input`),i=t.querySelector(`.${ue.range} output`),a=Jo(t,ue.select),l=t.querySelector(`.${ue.checkbox} input`),d=Jo(t,ue.textarea);e.oninput=rc,n.onchange=rc,a.onchange=rc,l.onchange=rc,d.oninput=rc,r.oninput=()=>{rc(),i.value=r.value},r.onchange=()=>{rc(),i.value=r.value}},tY=t=>typeof t=="string"?document.querySelector(t):t,nY=t=>{const e=dt();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},rY=t=>{window.getComputedStyle(t).direction==="rtl"&&mt(Lr(),ue.rtl)},iY=t=>{const e=JW();if(QW()){qc("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=ue.container,e&&mt(n,ue["no-transition"]),yi(n,ZW),n.dataset.swal2Theme=t.theme;const r=tY(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),nY(t),rY(r),eY()},sE=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?aY(t,e):t&&yi(e,t)},aY=(t,e)=>{t.jquery?sY(e,t):yi(e,t.toString())},sY=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},oY=(t,e)=>{const n=rm(),r=Nd();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Ar(n):Jn(n),mi(n,e,"actions"),lY(n,r,e),yi(r,e.loaderHtml||""),mi(r,e,"loader"))};function lY(t,e,n){const r=Qa(),i=Hc(),a=Td();!r||!i||!a||(Ub(r,"confirm",n),Ub(i,"deny",n),Ub(a,"cancel",n),cY(r,i,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(i,r)):(t.insertBefore(a,e),t.insertBefore(i,e),t.insertBefore(r,e))))}function cY(t,e,n,r){if(!r.buttonsStyling){Hi([t,e,n],ue.styled);return}mt([t,e,n],ue.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Vb(t),Vb(e),Vb(n)}function Vb(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Ub(t,e,n){const r=X_(e);im(t,n[`show${r}Button`],"inline-block"),yi(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=ue[e],mi(t,n,`${e}Button`)}const uY=(t,e)=>{const n=tE();n&&(yi(n,e.closeButtonHtml||""),mi(n,e,"closeButton"),im(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},dY=(t,e)=>{const n=Lr();n&&(fY(n,e.backdrop),hY(n,e.position),mY(n,e.grow),mi(n,e,"container"))};function fY(t,e){typeof e=="string"?t.style.background=e:e||mt([document.documentElement,document.body],ue["no-backdrop"])}function hY(t,e){e&&(e in ue?mt(t,ue[e]):(Mr('The "position" parameter is not valid, defaulting to "center"'),mt(t,ue.center)))}function mY(t,e){e&&mt(t,ue[`grow-${e}`])}var Mt={innerParams:new WeakMap,domCache:new WeakMap};const pY=["input","file","range","select","radio","checkbox","textarea"],gY=(t,e)=>{const n=dt();if(!n)return;const r=Mt.innerParams.get(t),i=!r||e.input!==r.input;pY.forEach(a=>{const l=Jo(n,ue[a]);l&&(xY(a,e.inputAttributes),l.className=ue[a],i&&Ar(l))}),e.input&&(i&&yY(e),bY(e))},yY=t=>{if(!t.input)return;if(!yn[t.input]){qc(`Unexpected type of input! Expected ${Object.keys(yn).join(" | ")}, got "${t.input}"`);return}const e=b6(t.input);if(!e)return;const n=yn[t.input](e,t);Jn(e),t.inputAutoFocus&&setTimeout(()=>{y6(n)})},vY=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},xY=(t,e)=>{const n=dt();if(!n)return;const r=Iv(n,t);if(r){vY(r);for(const i in e)r.setAttribute(i,e[i])}},bY=t=>{if(!t.input)return;const e=b6(t.input);e&&mi(e,t,"input")},oE=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},am=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),i=ue["input-label"];r.setAttribute("for",t.id),r.className=i,typeof n.customClass=="object"&&mt(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},b6=t=>{const e=dt();if(e)return Jo(e,ue[t]||ue.input)},iy=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:Z_(e)||Mr(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},yn={};yn.text=yn.email=yn.password=yn.number=yn.tel=yn.url=yn.search=yn.date=yn["datetime-local"]=yn.time=yn.week=yn.month=(t,e)=>(iy(t,e.inputValue),am(t,t,e),oE(t,e),t.type=e.input,t);yn.file=(t,e)=>(am(t,t,e),oE(t,e),t);yn.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return iy(n,e.inputValue),n.type=e.input,iy(r,e.inputValue),am(n,t,e),t};yn.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");yi(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return am(t,t,e),t};yn.radio=t=>(t.textContent="",t);yn.checkbox=(t,e)=>{const n=Iv(dt(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return yi(r,e.inputPlaceholder||e.inputLabel),n};yn.textarea=(t,e)=>{iy(t,e.inputValue),oE(t,e),am(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(dt()).width),i=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?dt().style.width=`${a}px`:yc(dt(),"width",e.width)};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const wY=(t,e)=>{const n=J_();n&&(iE(n),mi(n,e,"htmlContainer"),e.html?(sE(e.html,n),Jn(n,"block")):e.text?(n.textContent=e.text,Jn(n,"block")):Ar(n),gY(t,e))},_Y=(t,e)=>{const n=g6();n&&(iE(n),im(n,e.footer,"block"),e.footer&&sE(e.footer,n),mi(n,e,"footer"))},EY=(t,e)=>{const n=Mt.innerParams.get(t),r=Sd();if(!r)return;if(n&&e.icon===n.icon){RP(r,e),kP(r,e);return}if(!e.icon&&!e.iconHtml){Ar(r);return}if(e.icon&&Object.keys(ry).indexOf(e.icon)===-1){qc(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Ar(r);return}Jn(r),RP(r,e),kP(r,e),mt(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",w6)},kP=(t,e)=>{for(const[n,r]of Object.entries(ry))e.icon!==n&&Hi(t,r);mt(t,e.icon&&ry[e.icon]),TY(t,e),w6(),mi(t,e,"icon")},w6=()=>{const t=dt();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},AY=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,SY=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,RP=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=DP(e.iconHtml):e.icon==="success"?(r=AY(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=SY:e.icon&&(r=DP({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&yi(t,r)},TY=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])IP(t,n,"background-color",e.iconColor);IP(t,".swal2-success-ring","border-color",e.iconColor)}},DP=t=>`<div class="${ue["icon-content"]}">${t}</div>`,NY=(t,e)=>{const n=p6();if(n){if(!e.imageUrl){Ar(n);return}Jn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),yc(n,"width",e.imageWidth),yc(n,"height",e.imageHeight),n.className=ue.image,mi(n,e,"image")}};let lE=!1,_6=0,E6=0,A6=0,S6=0;const jY=t=>{t.addEventListener("mousedown",ay),document.body.addEventListener("mousemove",sy),t.addEventListener("mouseup",oy),t.addEventListener("touchstart",ay),document.body.addEventListener("touchmove",sy),t.addEventListener("touchend",oy)},CY=t=>{t.removeEventListener("mousedown",ay),document.body.removeEventListener("mousemove",sy),t.removeEventListener("mouseup",oy),t.removeEventListener("touchstart",ay),document.body.removeEventListener("touchmove",sy),t.removeEventListener("touchend",oy)},ay=t=>{const e=dt();if(t.target===e||Sd().contains(t.target)){lE=!0;const n=T6(t);_6=n.clientX,E6=n.clientY,A6=parseInt(e.style.insetInlineStart)||0,S6=parseInt(e.style.insetBlockStart)||0,mt(e,"swal2-dragging")}},sy=t=>{const e=dt();if(lE){let{clientX:n,clientY:r}=T6(t);e.style.insetInlineStart=`${A6+(n-_6)}px`,e.style.insetBlockStart=`${S6+(r-E6)}px`}},oy=()=>{const t=dt();lE=!1,Hi(t,"swal2-dragging")},T6=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},PY=(t,e)=>{const n=Lr(),r=dt();if(!(!n||!r)){if(e.toast){yc(n,"width",e.width),r.style.width="100%";const i=Nd();i&&r.insertBefore(i,Sd())}else yc(r,"width",e.width);yc(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Ar(Cv()),OY(r,e),e.draggable&&!e.toast?(mt(r,ue.draggable),jY(r)):(Hi(r,ue.draggable),CY(r))}},OY=(t,e)=>{const n=e.showClass||{};t.className=`${ue.popup} ${Yr(t)?n.popup:""}`,e.toast?(mt([document.documentElement,document.body],ue["toast-shown"]),mt(t,ue.toast)):mt(t,ue.modal),mi(t,e,"popup"),typeof e.customClass=="string"&&mt(t,e.customClass),e.icon&&mt(t,ue[`icon-${e.icon}`])},IY=(t,e)=>{const n=eE();if(!n)return;const{progressSteps:r,currentProgressStep:i}=e;if(!r||r.length===0||i===void 0){Ar(n);return}Jn(n),n.textContent="",i>=r.length&&Mr("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,l)=>{const d=kY(a);if(n.appendChild(d),l===i&&mt(d,ue["active-progress-step"]),l!==r.length-1){const f=RY(e);n.appendChild(f)}})},kY=t=>{const e=document.createElement("li");return mt(e,ue["progress-step"]),yi(e,t),e},RY=t=>{const e=document.createElement("li");return mt(e,ue["progress-step-line"]),t.progressStepsDistance&&yc(e,"width",t.progressStepsDistance),e},DY=(t,e)=>{const n=m6();n&&(iE(n),im(n,e.title||e.titleText,"block"),e.title&&sE(e.title,n),e.titleText&&(n.innerText=e.titleText),mi(n,e,"title"))},N6=(t,e)=>{PY(t,e),dY(t,e),IY(t,e),EY(t,e),NY(t,e),DY(t,e),uY(t,e),wY(t,e),oY(t,e),_Y(t,e);const n=dt();typeof e.didRender=="function"&&n&&e.didRender(n),Be.eventEmitter.emit("didRender",n)},MY=()=>Yr(dt()),j6=()=>{var t;return(t=Qa())===null||t===void 0?void 0:t.click()},LY=()=>{var t;return(t=Hc())===null||t===void 0?void 0:t.click()},VY=()=>{var t;return(t=Td())===null||t===void 0?void 0:t.click()},jd=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),C6=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},UY=(t,e,n)=>{C6(t),e.toast||(t.keydownHandler=r=>zY(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:dt(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},W1=(t,e)=>{var n;const r=nE();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=dt())===null||n===void 0||n.focus()},P6=["ArrowRight","ArrowDown"],BY=["ArrowLeft","ArrowUp"],zY=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?$Y(e,t):e.key==="Tab"?FY(e):[...P6,...BY].includes(e.key)?qY(e.key):e.key==="Escape"&&HY(e,t,n)))},$Y=(t,e)=>{if(!jv(e.allowEnterKey))return;const n=Iv(dt(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;j6(),t.preventDefault()}},FY=t=>{const e=t.target,n=nE();let r=-1;for(let i=0;i<n.length;i++)if(e===n[i]){r=i;break}t.shiftKey?W1(r,-1):W1(r,1),t.stopPropagation(),t.preventDefault()},qY=t=>{const e=rm(),n=Qa(),r=Hc(),i=Td();if(!e||!n||!r||!i)return;const a=[n,r,i];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const l=P6.includes(t)?"nextElementSibling":"previousElementSibling";let d=document.activeElement;if(d){for(let f=0;f<e.children.length;f++){if(d=d[l],!d)return;if(d instanceof HTMLButtonElement&&Yr(d))break}d instanceof HTMLButtonElement&&d.focus()}},HY=(t,e,n)=>{t.preventDefault(),jv(e.allowEscapeKey)&&n(jd.esc)};var sd={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const KY=()=>{const t=Lr();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},O6=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},I6=typeof window<"u"&&!!window.GestureEvent,GY=()=>{if(I6&&!zs(document.body,ue.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,mt(document.body,ue.iosfix),WY()}},WY=()=>{const t=Lr();if(!t)return;let e;t.ontouchstart=n=>{e=YY(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},YY=t=>{const e=t.target,n=Lr(),r=J_();return!n||!r||XY(t)||QY(t)?!1:e===n||!G1(n)&&e instanceof HTMLElement&&!YW(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(G1(r)&&r.contains(e))},XY=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",QY=t=>t.touches&&t.touches.length>1,ZY=()=>{if(zs(document.body,ue.iosfix)){const t=parseInt(document.body.style.top,10);Hi(document.body,ue.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},JY=()=>{const t=document.createElement("div");t.className=ue["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Ku=null;const eX=t=>{Ku===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Ku=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ku+JY()}px`)},tX=()=>{Ku!==null&&(document.body.style.paddingRight=`${Ku}px`,Ku=null)};function k6(t,e,n,r){Ov()?MP(t,r):(UW(n).then(()=>MP(t,r)),C6(Be)),I6?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),rE()&&(tX(),ZY(),O6()),nX()}function nX(){Hi([document.documentElement,document.body],[ue.shown,ue["height-auto"],ue["no-backdrop"],ue["toast-shown"]])}function el(t){t=iX(t);const e=sd.swalPromiseResolve.get(this),n=rX(this);this.isAwaitingPromise?t.isDismissed||(sm(this),e(t)):n&&e(t)}const rX=t=>{const e=dt();if(!e)return!1;const n=Mt.innerParams.get(t);if(!n||zs(e,n.hideClass.popup))return!1;Hi(e,n.showClass.popup),mt(e,n.hideClass.popup);const r=Lr();return Hi(r,n.showClass.backdrop),mt(r,n.hideClass.backdrop),aX(t,e,n),!0};function R6(t){const e=sd.swalPromiseReject.get(this);sm(this),e&&e(t)}const sm=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Mt.innerParams.get(t)||t._destroy())},iX=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),aX=(t,e,n)=>{var r;const i=Lr(),a=x6(e);typeof n.willClose=="function"&&n.willClose(e),(r=Be.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?sX(t,e,i,n.returnFocus,n.didClose):k6(t,i,n.returnFocus,n.didClose)},sX=(t,e,n,r,i)=>{Be.swalCloseEventFinishedCallback=k6.bind(null,t,n,r,i);const a=function(l){if(l.target===e){var d;(d=Be.swalCloseEventFinishedCallback)===null||d===void 0||d.call(Be),delete Be.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},MP=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=Be.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},od=t=>{let e=dt();if(e||new ke,e=dt(),!e)return;const n=Nd();Ov()?Ar(Sd()):oX(e,t),Jn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},oX=(t,e)=>{const n=rm(),r=Nd();!n||!r||(!e&&Yr(Qa())&&(e=Qa()),Jn(n),e&&(Ar(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),mt([t,n],ue.loading))},lX=(t,e)=>{e.input==="select"||e.input==="radio"?hX(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(Q_(e.inputValue)||Z_(e.inputValue))&&(od(Qa()),mX(t,e))},cX=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return uX(n);case"radio":return dX(n);case"file":return fX(n);default:return e.inputAutoTrim?n.value.trim():n.value}},uX=t=>t.checked?1:0,dX=t=>t.checked?t.value:null,fX=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,hX=(t,e)=>{const n=dt();if(!n)return;const r=i=>{e.input==="select"?pX(n,ly(i),e):e.input==="radio"&&gX(n,ly(i),e)};Q_(e.inputOptions)||Z_(e.inputOptions)?(od(Qa()),tm(e.inputOptions).then(i=>{t.hideLoading(),r(i)})):typeof e.inputOptions=="object"?r(e.inputOptions):qc(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},mX=(t,e)=>{const n=t.getInput();n&&(Ar(n),tm(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,Jn(n),n.focus(),t.hideLoading()}).catch(r=>{qc(`Error in inputValue promise: ${r}`),n.value="",Jn(n),n.focus(),t.hideLoading()}))};function pX(t,e,n){const r=Jo(t,ue.select);if(!r)return;const i=(a,l,d)=>{const f=document.createElement("option");f.value=d,yi(f,l),f.selected=D6(d,n.inputValue),a.appendChild(f)};e.forEach(a=>{const l=a[0],d=a[1];if(Array.isArray(d)){const f=document.createElement("optgroup");f.label=l,f.disabled=!1,r.appendChild(f),d.forEach(h=>i(f,h[1],h[0]))}else i(r,d,l)}),r.focus()}function gX(t,e,n){const r=Jo(t,ue.radio);if(!r)return;e.forEach(a=>{const l=a[0],d=a[1],f=document.createElement("input"),h=document.createElement("label");f.type="radio",f.name=ue.radio,f.value=l,D6(l,n.inputValue)&&(f.checked=!0);const p=document.createElement("span");yi(p,d),p.className=ue.label,h.appendChild(f),h.appendChild(p),r.appendChild(h)});const i=r.querySelectorAll("input");i.length&&i[0].focus()}const ly=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let i=n;typeof i=="object"&&(i=ly(i)),e.push([r,i])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=ly(r)),e.push([n,r])}),e},D6=(t,e)=>!!e&&e.toString()===t.toString(),yX=t=>{const e=Mt.innerParams.get(t);t.disableButtons(),e.input?M6(t,"confirm"):uE(t,!0)},vX=t=>{const e=Mt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?M6(t,"deny"):cE(t,!1)},xX=(t,e)=>{t.disableButtons(),e(jd.cancel)},M6=(t,e)=>{const n=Mt.innerParams.get(t);if(!n.input){qc(`The "input" parameter is needed to be set when using returnInputValueOn${X_(e)}`);return}const r=t.getInput(),i=cX(t,n);n.inputValidator?bX(t,i,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?cE(t,i):uE(t,i)},bX=(t,e,n)=>{const r=Mt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>tm(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?cE(t,e):uE(t,e)})},cE=(t,e)=>{const n=Mt.innerParams.get(t||void 0);n.showLoaderOnDeny&&od(Hc()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>tm(n.preDeny(e,n.validationMessage))).then(i=>{i===!1?(t.hideLoading(),sm(t)):t.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>L6(t||void 0,i))):t.close({isDenied:!0,value:e})},LP=(t,e)=>{t.close({isConfirmed:!0,value:e})},L6=(t,e)=>{t.rejectPromise(e)},uE=(t,e)=>{const n=Mt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&od(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>tm(n.preConfirm(e,n.validationMessage))).then(i=>{Yr(Cv())||i===!1?(t.hideLoading(),sm(t)):LP(t,typeof i>"u"?e:i)}).catch(i=>L6(t||void 0,i))):LP(t,e)};function cy(){const t=Mt.innerParams.get(this);if(!t)return;const e=Mt.domCache.get(this);Ar(e.loader),Ov()?t.icon&&Jn(Sd()):wX(e),Hi([e.popup,e.actions],ue.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const wX=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Jn(e[0],"inline-block"):WW()&&Ar(t.actions)};function V6(){const t=Mt.innerParams.get(this),e=Mt.domCache.get(this);return e?Iv(e.popup,t.input):null}function U6(t,e,n){const r=Mt.domCache.get(t);e.forEach(i=>{r[i].disabled=n})}function B6(t,e){const n=dt();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${ue.radio}"]`);for(let i=0;i<r.length;i++)r[i].disabled=e}else t.disabled=e}function z6(){U6(this,["confirmButton","denyButton","cancelButton"],!1)}function $6(){U6(this,["confirmButton","denyButton","cancelButton"],!0)}function F6(){B6(this.getInput(),!1)}function q6(){B6(this.getInput(),!0)}function H6(t){const e=Mt.domCache.get(this),n=Mt.innerParams.get(this);yi(e.validationMessage,t),e.validationMessage.className=ue["validation-message"],n.customClass&&n.customClass.validationMessage&&mt(e.validationMessage,n.customClass.validationMessage),Jn(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",ue["validation-message"]),y6(r),mt(r,ue.inputerror))}function K6(){const t=Mt.domCache.get(this);t.validationMessage&&Ar(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Hi(e,ue.inputerror))}const Gu={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},_X=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],EX={allowEnterKey:void 0},AX=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],G6=t=>Object.prototype.hasOwnProperty.call(Gu,t),W6=t=>_X.indexOf(t)!==-1,Y6=t=>EX[t],SX=t=>{G6(t)||Mr(`Unknown parameter "${t}"`)},TX=t=>{AX.includes(t)&&Mr(`The parameter "${t}" is incompatible with toasts`)},NX=t=>{const e=Y6(t);e&&h6(t,e)},X6=t=>{t.backdrop===!1&&t.allowOutsideClick&&Mr('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Mr(`Invalid theme "${t.theme}"`);for(const e in t)SX(e),t.toast&&TX(e),NX(e)};function Q6(t){const e=Lr(),n=dt(),r=Mt.innerParams.get(this);if(!n||zs(n,r.hideClass.popup)){Mr("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=jX(t),a=Object.assign({},r,i);X6(a),e.dataset.swal2Theme=a.theme,N6(this,a),Mt.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const jX=t=>{const e={};return Object.keys(t).forEach(n=>{W6(n)?e[n]=t[n]:Mr(`Invalid parameter to update: ${n}`)}),e};function Z6(){const t=Mt.domCache.get(this),e=Mt.innerParams.get(this);if(!e){J6(this);return}t.popup&&Be.swalCloseEventFinishedCallback&&(Be.swalCloseEventFinishedCallback(),delete Be.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Be.eventEmitter.emit("didDestroy"),CX(this)}const CX=t=>{J6(t),delete t.params,delete Be.keydownHandler,delete Be.keydownTarget,delete Be.currentInstance},J6=t=>{t.isAwaitingPromise?(Bb(Mt,t),t.isAwaitingPromise=!0):(Bb(sd,t),Bb(Mt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Bb=(t,e)=>{for(const n in t)t[n].delete(e)};var PX=Object.freeze({__proto__:null,_destroy:Z6,close:el,closeModal:el,closePopup:el,closeToast:el,disableButtons:$6,disableInput:q6,disableLoading:cy,enableButtons:z6,enableInput:F6,getInput:V6,handleAwaitingPromise:sm,hideLoading:cy,rejectPromise:R6,resetValidationMessage:K6,showValidationMessage:H6,update:Q6});const OX=(t,e,n)=>{t.toast?IX(t,e,n):(RX(e),DX(e),MX(t,e,n))},IX=(t,e,n)=>{e.popup.onclick=()=>{t&&(kX(t)||t.timer||t.input)||n(jd.close)}},kX=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let uy=!1;const RX=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(uy=!0)}}},DX=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(uy=!0)}}},MX=(t,e,n)=>{e.container.onclick=r=>{if(uy){uy=!1;return}r.target===e.container&&jv(t.allowOutsideClick)&&n(jd.backdrop)}},LX=t=>typeof t=="object"&&t.jquery,VP=t=>t instanceof Element||LX(t),VX=t=>{const e={};return typeof t[0]=="object"&&!VP(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const i=t[r];typeof i=="string"||VP(i)?e[n]=i:i!==void 0&&qc(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)}),e};function UX(...t){return new this(...t)}function BX(t){class e extends this{_main(r,i){return super._main(r,Object.assign({},t,i))}}return e}const zX=()=>Be.timeout&&Be.timeout.getTimerLeft(),e5=()=>{if(Be.timeout)return XW(),Be.timeout.stop()},t5=()=>{if(Be.timeout){const t=Be.timeout.start();return aE(t),t}},$X=()=>{const t=Be.timeout;return t&&(t.running?e5():t5())},FX=t=>{if(Be.timeout){const e=Be.timeout.increase(t);return aE(e,!0),e}},qX=()=>!!(Be.timeout&&Be.timeout.isRunning());let UP=!1;const Y1={};function HX(t="data-swal-template"){Y1[t]=this,UP||(document.body.addEventListener("click",KX),UP=!0)}const KX=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Y1){const r=e.getAttribute(n);if(r){Y1[n].fire({template:r});return}}};let GX=class{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...i)=>{this.removeListener(e,r),n.apply(this,i)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(i){console.error(i)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),i=r.indexOf(n);i>-1&&r.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}};Be.eventEmitter=new GX;const WX=(t,e)=>{Be.eventEmitter.on(t,e)},YX=(t,e)=>{Be.eventEmitter.once(t,e)},XX=(t,e)=>{if(!t){Be.eventEmitter.reset();return}e?Be.eventEmitter.removeListener(t,e):Be.eventEmitter.removeAllListeners(t)};var QX=Object.freeze({__proto__:null,argsToParams:VX,bindClickHandler:HX,clickCancel:VY,clickConfirm:j6,clickDeny:LY,enableLoading:od,fire:UX,getActions:rm,getCancelButton:Td,getCloseButton:tE,getConfirmButton:Qa,getContainer:Lr,getDenyButton:Hc,getFocusableElements:nE,getFooter:g6,getHtmlContainer:J_,getIcon:Sd,getIconContent:FW,getImage:p6,getInputLabel:qW,getLoader:Nd,getPopup:dt,getProgressSteps:eE,getTimerLeft:zX,getTimerProgressBar:Pv,getTitle:m6,getValidationMessage:Cv,increaseTimer:FX,isDeprecatedParameter:Y6,isLoading:KW,isTimerRunning:qX,isUpdatableParameter:W6,isValidParameter:G6,isVisible:MY,mixin:BX,off:XX,on:WX,once:YX,resumeTimer:t5,showLoading:od,stopTimer:e5,toggleTimer:$X});class ZX{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const n5=["swal-title","swal-html","swal-footer"],JX=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return oQ(n),Object.assign(eQ(n),tQ(n),nQ(n),rQ(n),iQ(n),aQ(n),sQ(n,n5))},eQ=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Nc(r,["name","value"]);const i=r.getAttribute("name"),a=r.getAttribute("value");!i||!a||(typeof Gu[i]=="boolean"?e[i]=a!=="false":typeof Gu[i]=="object"?e[i]=JSON.parse(a):e[i]=a)}),e},tQ=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const i=r.getAttribute("name"),a=r.getAttribute("value");!i||!a||(e[i]=new Function(`return ${a}`)())}),e},nQ=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Nc(r,["type","color","aria-label"]);const i=r.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=r.innerHTML,e[`show${X_(i)}Button`]=!0,r.hasAttribute("color")&&(e[`${i}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},rQ=t=>{const e={},n=t.querySelector("swal-image");return n&&(Nc(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},iQ=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Nc(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},aQ=t=>{const e={},n=t.querySelector("swal-input");n&&(Nc(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(i=>{Nc(i,["value"]);const a=i.getAttribute("value");if(!a)return;const l=i.innerHTML;e.inputOptions[a]=l})),e},sQ=(t,e)=>{const n={};for(const r in e){const i=e[r],a=t.querySelector(i);a&&(Nc(a,[]),n[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},oQ=t=>{const e=n5.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||Mr(`Unrecognized element <${r}>`)})},Nc=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Mr([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},r5=10,lQ=t=>{const e=Lr(),n=dt();typeof t.willOpen=="function"&&t.willOpen(n),Be.eventEmitter.emit("willOpen",n);const i=window.getComputedStyle(document.body).overflowY;dQ(e,n,t),setTimeout(()=>{cQ(e,n)},r5),rE()&&(uQ(e,t.scrollbarPadding,i),KY()),!Ov()&&!Be.previousActiveElement&&(Be.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),Be.eventEmitter.emit("didOpen",n),Hi(e,ue["no-transition"])},dy=t=>{const e=dt();if(t.target!==e)return;const n=Lr();e.removeEventListener("animationend",dy),e.removeEventListener("transitionend",dy),n.style.overflowY="auto"},cQ=(t,e)=>{x6(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",dy),e.addEventListener("transitionend",dy)):t.style.overflowY="auto"},uQ=(t,e,n)=>{GY(),e&&n!=="hidden"&&eX(n),setTimeout(()=>{t.scrollTop=0})},dQ=(t,e,n)=>{mt(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Jn(e,"grid"),setTimeout(()=>{mt(e,n.showClass.popup),e.style.removeProperty("opacity")},r5)):Jn(e,"grid"),mt([document.documentElement,document.body],ue.shown),n.heightAuto&&n.backdrop&&!n.toast&&mt([document.documentElement,document.body],ue["height-auto"])};var BP={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function fQ(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=BP.email),t.input==="url"&&(t.inputValidator=BP.url))}function hQ(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Mr('Target parameter is not valid, defaulting to "body"'),t.target="body")}function mQ(t){fQ(t),t.showLoaderOnConfirm&&!t.preConfirm&&Mr(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),hQ(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),iY(t)}let Ua;var Zp=new WeakMap;class _n{constructor(...e){if(DW(this,Zp,void 0),typeof window>"u")return;Ua=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,MW(Zp,this,this._main(Ua.params))}_main(e,n={}){if(X6(Object.assign({},n,e)),Be.currentInstance){const a=sd.swalPromiseResolve.get(Be.currentInstance),{isAwaitingPromise:l}=Be.currentInstance;Be.currentInstance._destroy(),l||a({isDismissed:!0}),rE()&&O6()}Be.currentInstance=Ua;const r=gQ(e,n);mQ(r),Object.freeze(r),Be.timeout&&(Be.timeout.stop(),delete Be.timeout),clearTimeout(Be.restoreFocusTimeout);const i=yQ(Ua);return N6(Ua,r),Mt.innerParams.set(Ua,r),pQ(Ua,i,r)}then(e){return PP(Zp,this).then(e)}finally(e){return PP(Zp,this).finally(e)}}const pQ=(t,e,n)=>new Promise((r,i)=>{const a=l=>{t.close({isDismissed:!0,dismiss:l})};sd.swalPromiseResolve.set(t,r),sd.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{yX(t)},e.denyButton.onclick=()=>{vX(t)},e.cancelButton.onclick=()=>{xX(t,a)},e.closeButton.onclick=()=>{a(jd.close)},OX(n,e,a),UY(Be,n,a),lX(t,n),lQ(n),vQ(Be,n,a),xQ(e,n),setTimeout(()=>{e.container.scrollTop=0})}),gQ=(t,e)=>{const n=JX(t),r=Object.assign({},Gu,e,n,t);return r.showClass=Object.assign({},Gu.showClass,r.showClass),r.hideClass=Object.assign({},Gu.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},yQ=t=>{const e={popup:dt(),container:Lr(),actions:rm(),confirmButton:Qa(),denyButton:Hc(),cancelButton:Td(),loader:Nd(),closeButton:tE(),validationMessage:Cv(),progressSteps:eE()};return Mt.domCache.set(t,e),e},vQ=(t,e,n)=>{const r=Pv();Ar(r),e.timer&&(t.timeout=new ZX(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Jn(r),mi(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&aE(e.timer)})))},xQ=(t,e)=>{if(!e.toast){if(!jv(e.allowEnterKey)){h6("allowEnterKey"),_Q();return}bQ(t)||wQ(t,e)||W1(-1,1)}},bQ=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Yr(n))return n.focus(),!0;return!1},wQ=(t,e)=>e.focusDeny&&Yr(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Yr(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Yr(t.confirmButton)?(t.confirmButton.focus(),!0):!1,_Q=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};_n.prototype.disableButtons=$6;_n.prototype.enableButtons=z6;_n.prototype.getInput=V6;_n.prototype.disableInput=q6;_n.prototype.enableInput=F6;_n.prototype.hideLoading=cy;_n.prototype.disableLoading=cy;_n.prototype.showValidationMessage=H6;_n.prototype.resetValidationMessage=K6;_n.prototype.close=el;_n.prototype.closePopup=el;_n.prototype.closeModal=el;_n.prototype.closeToast=el;_n.prototype.rejectPromise=R6;_n.prototype.update=Q6;_n.prototype._destroy=Z6;Object.assign(_n,QX);Object.keys(PX).forEach(t=>{_n[t]=function(...e){return Ua&&Ua[t]?Ua[t](...e):null}});_n.DismissReason=jd;_n.version="11.23.0";const ke=_n;ke.default=ke;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const zP=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,a]=_.useState(null),{addToCart:l}=Fc(),{addToWishlist:d}=em(),{currentUser:f}=Yi(),[h,p]=_.useState(0),[g,x]=l6("mpwybkly"),[b,A]=_.useState({name:"",email:"",subject:"",message:""});_.useEffect(()=>{(async()=>{try{r(!0);const O=[...await c6()].sort((R,F)=>(F.rating||0)-(R.rating||0)).slice(0,8);e(O)}catch(k){a("Failed to load products"),console.error("Error fetching products:",k)}finally{r(!1)}})()},[]);const E=[{id:1,name:"María González",text:"Los moños son de excelente calidad y el envío fue rápido. ¡Definitivamente volveré a comprar!",rating:5},{id:2,name:"Carlos Rodríguez",text:"Excelente atención al cliente y productos de alta calidad. Muy recomendado para eventos especiales.",rating:5},{id:3,name:"Ana Martínez",text:"Compré varios moños para una boda y todos quedaron hermosos. La calidad superó mis expectativas.",rating:5}];_.useEffect(()=>{const D=setInterval(()=>{p(k=>(k+1)%E.length)},5e3);return()=>clearInterval(D)},[E.length]);const S=D=>{const{name:k,value:O}=D.target;A(R=>({...R,[k]:O}))},N=D=>{if(D.imageUrls&&D.imageUrls.length>0){const k=D.imageUrls.filter(O=>O&&(typeof O=="string"||O.data&&typeof O.data=="string"));if(k.length>0){const O=D.primaryImageIndex||0,R=Math.min(O,k.length-1),F=k[R];if(typeof F=="string")return F;if(F&&F.data)return F.data}}return D.imageUrl||"https://via.placeholder.com/300x300.png?text=Moño"},C=D=>{if(!f){ke.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos al carrito",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(R=>{R.isConfirmed&&(window.location.href="/psg-shop/#/login")});return}if((D.stock!==void 0?D.stock:1/0)===0){ke.fire({title:"Producto agotado",text:"Este producto no está disponible actualmente.",icon:"error",confirmButtonText:"Aceptar"});return}const O=N(D);l({...D,imageUrl:O,quantity:1}),ke.fire({title:"Producto agregado",text:"Producto agregado correctamente al carrito",icon:"success",confirmButtonText:"Aceptar"})},j=D=>{if(!f){ke.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos a tu lista de deseos",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(O=>{O.isConfirmed&&(window.location.href="/psg-shop/#/login")});return}const k=N(D);d({...D,imageUrl:k}),ke.fire({title:"Producto agregado",text:"Producto agregado correctamente a tu lista de deseos",icon:"success",confirmButtonText:"Aceptar"})},L=[{id:1,title:"Envío Gratis",description:"En pedidos superiores a $100.000 COP",icon:u.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{id:2,title:"Devolución Gratuita",description:"30 días para devoluciones sin complicaciones",icon:u.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},{id:3,title:"Soporte 24/7",description:"Asistencia dedicada en cualquier momento",icon:u.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})},{id:4,title:"Pago Seguro",description:"Protegemos tus datos de pago",icon:u.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 01-8 0v4h8z"})})}],V=[{id:1,name:"Moños Clásicos",image:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"},{id:2,name:"Moños Modernos",image:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"},{id:3,name:"Moños Infantiles",image:"https://images.unsplash.com/photo-1595173425119-1c5134b706b3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"},{id:4,name:"Moños para Damas",image:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"}];return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-indigo-700 to-purple-800",children:[u.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),u.jsx("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:u.jsx("div",{className:"relative z-10 pb-8 sm:pb-16 md:pb-20 lg:max-w-2xl lg:w-full lg:pb-28 xl:pb-32",children:u.jsx("main",{className:"px-4 mx-auto mt-10 max-w-7xl sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28",children:u.jsxs("div",{className:"sm:text-center lg:text-left",children:[u.jsxs("h1",{className:"text-4xl font-extrabold tracking-tight text-white sm:text-5xl md:text-6xl",children:[u.jsx("span",{className:"block",children:"Elegancia en cada"}),u.jsx("span",{className:"block text-indigo-200",children:"detalle perfecto"})]}),u.jsx("p",{className:"mt-3 text-base text-indigo-100 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0",children:"Colección exclusiva de moños artesanales para todas las ocasiones. Calidad premium, diseño único y entrega rápida."}),u.jsxs("div",{className:"flex flex-col gap-4 mt-8 sm:mt-10 sm:flex-row sm:justify-center lg:justify-start",children:[u.jsx(De,{to:"/shop",className:"px-8 py-4 text-base font-medium text-center text-indigo-700 transition-all duration-300 bg-white border border-transparent rounded-lg shadow-md hover:bg-indigo-50 md:py-4 md:text-lg md:px-10 hover:shadow-lg",children:"Comprar Ahora"}),u.jsx(De,{to:"/shop",className:"px-8 py-4 text-base font-medium text-center text-white transition-all duration-300 bg-transparent border-2 border-white rounded-lg hover:bg-white hover:bg-opacity-10 md:py-4 md:text-lg md:px-10",children:"Ver Catálogo"})]})]})})})}),u.jsx("div",{className:"lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2",children:u.jsx("div",{className:"w-full h-56 sm:h-72 md:h-96 lg:w-full lg:h-full",children:u.jsx("img",{className:"object-cover w-full h-full",src:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",alt:"Elegante colección de moños",onError:D=>{D.target.onerror=null,D.target.src="https://via.placeholder.com/1200x600.png?text=Elegante+Colecci%C3%B3n+de+Mo%C3%B1os"}})})})]}),u.jsx("div",{className:"py-12 bg-white",children:u.jsx("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:u.jsxs("div",{className:"grid grid-cols-2 gap-8 text-center md:grid-cols-4",children:[u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-3xl font-bold text-indigo-700",children:"500+"}),u.jsx("div",{className:"mt-2 text-gray-600",children:"Clientes Satisfechos"})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-3xl font-bold text-indigo-700",children:"100+"}),u.jsx("div",{className:"mt-2 text-gray-600",children:"Diseños Únicos"})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-3xl font-bold text-indigo-700",children:"24/7"}),u.jsx("div",{className:"mt-2 text-gray-600",children:"Soporte"})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-3xl font-bold text-indigo-700",children:"5.0"}),u.jsx("div",{className:"mt-2 text-gray-600",children:"Calificación Promedio"})]})]})})}),u.jsx("div",{className:"py-16 bg-white",children:u.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-16 lg:text-center",children:[u.jsx("h2",{className:"text-base font-semibold tracking-wide text-indigo-600 uppercase",children:"Nuestros Beneficios"}),u.jsx("p",{className:"mt-2 text-3xl font-extrabold leading-8 tracking-tight text-gray-900 sm:text-4xl",children:"Por qué elegirnos"}),u.jsx("p",{className:"max-w-2xl mt-4 text-xl text-gray-500 lg:mx-auto",children:"Comprometidos con la calidad y la satisfacción del cliente"})]}),u.jsx("div",{className:"mt-10",children:u.jsx("div",{className:"grid grid-cols-1 gap-12 sm:grid-cols-2 lg:grid-cols-4",children:L.map(D=>u.jsxs("div",{className:"text-center group",children:[u.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto transition-all duration-300 rounded-full bg-indigo-50 group-hover:bg-indigo-100",children:D.icon}),u.jsx("h3",{className:"mt-6 text-lg font-medium text-gray-900",children:D.title}),u.jsx("p",{className:"mt-2 text-base text-gray-500",children:D.description})]},D.id))})})]})}),u.jsx("div",{className:"py-16 bg-gradient-to-r from-indigo-50 to-purple-50",children:u.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-16 lg:text-center",children:[u.jsx("h2",{className:"text-base font-semibold tracking-wide text-indigo-600 uppercase",children:"Categorías"}),u.jsx("p",{className:"mt-2 text-3xl font-extrabold leading-8 tracking-tight text-gray-900 sm:text-4xl",children:"Nuestra colección"})]}),u.jsx("div",{className:"grid grid-cols-1 gap-8 mt-10 sm:grid-cols-2 lg:grid-cols-4",children:V.map(D=>u.jsxs("div",{className:"relative overflow-hidden transition-all duration-300 transform shadow-lg group rounded-2xl hover:shadow-xl hover:-translate-y-1",children:[u.jsxs("div",{className:"relative w-full h-80",children:[u.jsx("img",{src:D.image,alt:D.name,className:"object-cover w-full h-full transition-transform duration-500 group-hover:scale-110",onError:k=>{k.target.onerror=null,k.target.src="https://via.placeholder.com/500x500.png?text="+encodeURIComponent(D.name)}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-70"})]}),u.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-6",children:[u.jsx("h3",{className:"mb-2 text-xl font-bold text-white",children:D.name}),u.jsxs(De,{to:"/shop",className:"inline-flex items-center font-medium text-indigo-200 transition-colors duration-300 hover:text-white",children:["Explorar",u.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]},D.id))})]})}),u.jsx("div",{className:"py-16 bg-white",children:u.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-16 lg:text-center",children:[u.jsx("h2",{className:"text-base font-semibold tracking-wide text-indigo-600 uppercase",children:"Productos Destacados"}),u.jsx("p",{className:"mt-2 text-3xl font-extrabold leading-8 tracking-tight text-gray-900 sm:text-4xl",children:"Lo más vendido"})]}),n?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"w-12 h-12 border-b-2 border-indigo-600 rounded-full animate-spin"})}):i?u.jsxs("div",{className:"relative px-4 py-3 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:[u.jsx("strong",{className:"font-bold",children:"Error! "}),u.jsx("span",{className:"block sm:inline",children:i})]}):u.jsx("div",{className:"grid grid-cols-1 mt-10 gap-y-10 gap-x-6 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8",children:t.map(D=>u.jsxs("div",{className:"overflow-hidden transition-all duration-300 transform bg-white border border-gray-100 rounded-lg shadow-md hover:shadow-lg hover:-translate-y-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx(De,{to:`/product/${D.id}`,children:u.jsx("div",{className:"w-full overflow-hidden aspect-w-1 aspect-h-1",children:u.jsx("img",{src:N(D),alt:D.name,className:"object-cover w-full h-64",onError:k=>{k.target.onerror=null,k.target.src="https://via.placeholder.com/300x300.png?text=Moño"}})})}),D.stock!==void 0&&D.stock<=5&&u.jsx("div",{className:"absolute z-20 top-4 right-4",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${D.stock>0?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-sm":"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-sm"}`,children:D.stock>0?`Solo ${D.stock} disponibles`:"Agotado"})})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-800",children:D.category})}),u.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900 transition-colors duration-300 group-hover:text-indigo-700",children:u.jsx(De,{to:`/product/${D.id}`,className:"block",children:D.name})}),D.rating>0&&u.jsx("div",{className:"mt-2",children:u.jsx(Nh,{rating:D.rating,size:"sm"})}),u.jsx("div",{className:"mt-2",children:u.jsxs("span",{className:"text-lg font-semibold text-indigo-700",children:["$",parseFloat(D.price).toLocaleString("es-CO")]})}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx("button",{className:"flex-1 px-4 py-2 text-sm font-medium text-white transition-all duration-300 border border-transparent rounded-md shadow-sm bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:k=>{k.preventDefault(),C(D)},children:"Agregar al Carrito"}),u.jsx("button",{className:"flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-700 transition-all duration-300 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:k=>{k.preventDefault(),k.stopPropagation(),j(D)},children:u.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-colors duration-300 hover:text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4 4 0 000 6.364L12 20.364l7.682-7.682a4 4 0 00-6.364-6.364L12 7.636l-1.318-1.318a4 4 0 00-6.364 0z"})})})]})]})]},D.id))}),u.jsx("div",{className:"mt-16 text-center",children:u.jsx(De,{to:"/shop",className:"inline-flex items-center px-8 py-4 text-base font-medium text-white transition-all duration-300 border border-transparent rounded-lg shadow-lg bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 hover:shadow-xl",children:"Ver todos los productos"})})]})}),u.jsx("div",{className:"py-16 bg-white",children:u.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-16 lg:text-center",children:[u.jsx("h2",{className:"text-base font-semibold tracking-wide text-indigo-600 uppercase",children:"Testimonios"}),u.jsx("p",{className:"mt-2 text-3xl font-extrabold leading-8 tracking-tight text-gray-900 sm:text-4xl",children:"Lo que dicen nuestros clientes"})]}),u.jsxs("div",{className:"max-w-4xl mx-auto mt-10",children:[u.jsx("div",{className:"relative p-8 shadow-sm bg-gray-50 rounded-2xl",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:[...Array(E[h].rating)].map((D,k)=>u.jsx("svg",{className:"w-6 h-6 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},k))}),u.jsxs("blockquote",{className:"text-xl italic text-gray-600",children:['"',E[h].text,'"']}),u.jsx("figcaption",{className:"mt-6",children:u.jsx("div",{className:"font-bold text-gray-900",children:E[h].name})})]})}),u.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:E.map((D,k)=>u.jsx("button",{onClick:()=>p(k),className:`w-3 h-3 rounded-full ${k===h?"bg-indigo-600":"bg-gray-300"}`,"aria-label":`Ver testimonio ${k+1}`},k))})]})]})}),u.jsx("div",{className:"py-16 bg-gradient-to-r from-indigo-50 to-purple-50",children:u.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-16 lg:text-center",children:[u.jsx("h2",{className:"text-base font-semibold tracking-wide text-indigo-600 uppercase",children:"Últimas Entradas"}),u.jsx("p",{className:"mt-2 text-3xl font-extrabold leading-8 tracking-tight text-gray-900 sm:text-4xl",children:"Descubre consejos y tendencias"}),u.jsx("p",{className:"max-w-2xl mt-4 text-xl text-gray-500 lg:mx-auto",children:"Explora nuestros artículos sobre estilo, cuidado y novedades en el mundo de los moños"})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-8 mt-10 sm:grid-cols-2 lg:grid-cols-3",children:[u.jsxs("div",{className:"overflow-hidden transition-all duration-300 bg-white shadow-md rounded-2xl hover:shadow-xl",children:[u.jsx("div",{className:"h-48 overflow-hidden",children:u.jsx("img",{src:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",alt:"Cómo elegir el moño perfecto",className:"object-cover w-full h-full transition-transform duration-500 hover:scale-105"})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium text-indigo-800 bg-indigo-100 rounded-full",children:"Guía de Estilo"}),u.jsx("span",{className:"text-sm text-gray-500",children:"15 Oct 2025"})]}),u.jsx("h3",{className:"mb-3 text-xl font-bold text-gray-900",children:"Cómo elegir el moño perfecto para tu ocasión especial"}),u.jsx("p",{className:"mb-4 text-gray-600",children:"Descubre los factores clave para seleccionar el moño ideal que complemente tu estilo y la ocasión."}),u.jsxs(De,{to:"/blog",className:"inline-flex items-center font-medium text-indigo-600 transition-colors duration-300 hover:text-indigo-800",children:["Leer más",u.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]}),u.jsxs("div",{className:"overflow-hidden transition-all duration-300 bg-white shadow-md rounded-2xl hover:shadow-xl",children:[u.jsx("div",{className:"h-48 overflow-hidden",children:u.jsx("img",{src:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",alt:"Tendencias de moda en moños",className:"object-cover w-full h-full transition-transform duration-500 hover:scale-105"})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium text-indigo-800 bg-indigo-100 rounded-full",children:"Tendencias"}),u.jsx("span",{className:"text-sm text-gray-500",children:"10 Oct 2025"})]}),u.jsx("h3",{className:"mb-3 text-xl font-bold text-gray-900",children:"Tendencias de moda en moños para esta temporada"}),u.jsx("p",{className:"mb-4 text-gray-600",children:"Explora las últimas tendencias en moños y cómo incorporarlas a tu guardarropa diario."}),u.jsxs(De,{to:"/blog",className:"inline-flex items-center font-medium text-indigo-600 transition-colors duration-300 hover:text-indigo-800",children:["Leer más",u.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]}),u.jsxs("div",{className:"overflow-hidden transition-all duration-300 bg-white shadow-md rounded-2xl hover:shadow-xl",children:[u.jsx("div",{className:"h-48 overflow-hidden",children:u.jsx("img",{src:"https://images.unsplash.com/photo-1595173425119-1c5134b706b3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",alt:"Cuidado y mantenimiento",className:"object-cover w-full h-full transition-transform duration-500 hover:scale-105"})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium text-indigo-800 bg-indigo-100 rounded-full",children:"Cuidado"}),u.jsx("span",{className:"text-sm text-gray-500",children:"5 Oct 2025"})]}),u.jsx("h3",{className:"mb-3 text-xl font-bold text-gray-900",children:"Cuidado y mantenimiento de tus moños favoritos"}),u.jsx("p",{className:"mb-4 text-gray-600",children:"Consejos profesionales para mantener tus moños en perfecto estado durante más tiempo."}),u.jsxs(De,{to:"/blog",className:"inline-flex items-center font-medium text-indigo-600 transition-colors duration-300 hover:text-indigo-800",children:["Leer más",u.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]})]}),u.jsx("div",{className:"mt-12 text-center",children:u.jsx(De,{to:"/blog",className:"inline-flex items-center px-6 py-3 text-base font-medium text-white transition-all duration-300 border border-transparent rounded-lg shadow-md bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800",children:"Ver todos los artículos"})})]})}),u.jsx("div",{className:"py-16 bg-white",children:u.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-16 lg:text-center",children:[u.jsx("h2",{className:"text-base font-semibold tracking-wide text-indigo-600 uppercase",children:"Contáctanos"}),u.jsx("p",{className:"mt-2 text-3xl font-extrabold leading-8 tracking-tight text-gray-900 sm:text-4xl",children:"¿Tienes preguntas?"}),u.jsx("p",{className:"max-w-2xl mt-4 text-xl text-gray-500 lg:mx-auto",children:"Envíanos un mensaje y nos pondremos en contacto contigo pronto"})]}),u.jsx("div",{className:"max-w-4xl mx-auto mt-10",children:u.jsx("div",{className:"p-8 shadow-sm bg-gray-50 rounded-2xl",children:g.succeeded?u.jsx("div",{className:"p-4 mb-8 rounded-md bg-green-50",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"w-5 h-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"text-sm font-medium text-green-800",children:"¡Gracias por tu mensaje!"}),u.jsx("div",{className:"mt-2 text-sm text-green-700",children:u.jsx("p",{children:"Hemos recibido tu mensaje y nos pondremos en contacto contigo pronto."})})]})]})}):u.jsxs("form",{onSubmit:x,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-700",children:"Nombre"}),u.jsx("input",{type:"text",name:"name",id:"name",required:!0,value:b.name,onChange:S,className:"w-full px-4 py-3 transition-colors duration-300 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Tu nombre completo"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"Email"}),u.jsx("input",{type:"email",name:"email",id:"email",required:!0,value:b.email,onChange:S,className:"w-full px-4 py-3 transition-colors duration-300 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"tu@email.com"}),u.jsx(ny,{prefix:"Email",field:"email",errors:g.errors})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"subject",className:"block mb-2 text-sm font-medium text-gray-700",children:"Asunto"}),u.jsx("input",{type:"text",name:"subject",id:"subject",required:!0,value:b.subject,onChange:S,className:"w-full px-4 py-3 transition-colors duration-300 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"¿Sobre qué te gustaría hablar?"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"message",className:"block mb-2 text-sm font-medium text-gray-700",children:"Mensaje"}),u.jsx("textarea",{id:"message",name:"message",rows:6,required:!0,value:b.message,onChange:S,className:"w-full px-4 py-3 transition-colors duration-300 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Escribe tu mensaje aquí..."}),u.jsx(ny,{prefix:"Message",field:"message",errors:g.errors})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:g.submitting,className:`w-full flex justify-center py-3 px-6 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300 ${g.submitting?"opacity-75 cursor-not-allowed":""}`,children:g.submitting?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enviando..."]}):"Enviar Mensaje"})})]})})})]})})]})},EQ=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,a]=_.useState(null),[l,d]=_.useState("all"),[f,h]=_.useState(""),{addToCart:p}=Fc(),{addToWishlist:g}=em(),{currentUser:x}=Yi();_.useEffect(()=>{(async()=>{try{r(!0);const j=await c6();e(j)}catch(j){a("Failed to load products"),console.error("Error fetching products:",j)}finally{r(!1)}})()},[]);const b=_.useMemo(()=>{let C=l==="all"?t:t.filter(j=>j.category===l);if(f){const j=f.toLowerCase();C=C.filter(L=>L.name.toLowerCase().includes(j)||L.description&&L.description.toLowerCase().includes(j)||L.category&&L.category.toLowerCase().includes(j)||L.material&&L.material.toLowerCase().includes(j)||L.color&&L.color.toLowerCase().includes(j))}return C},[t,l,f]),A=["all",...new Set(t.map(C=>C.category))],E=C=>{if(C.imageUrls&&C.imageUrls.length>0){const j=C.imageUrls.filter(L=>L&&(typeof L=="string"||L.data&&typeof L.data=="string"));if(j.length>0){const L=C.primaryImageIndex||0,V=Math.min(L,j.length-1),D=j[V];if(typeof D=="string")return D;if(D&&D.data)return D.data}}return C.imageUrl||"https://via.placeholder.com/300x300.png?text=Moño"},S=C=>{if(!x){ke.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos al carrito",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(V=>{V.isConfirmed&&(window.location.href="/psg-shop/#/login")});return}if((C.stock!==void 0?C.stock:1/0)===0){ke.fire({title:"Producto agotado",text:"Este producto no está disponible actualmente.",icon:"error",confirmButtonText:"Aceptar"});return}const L=E(C);p({...C,imageUrl:L,quantity:1}),ke.fire({title:"Producto agregado",text:"Producto agregado correctamente al carrito",icon:"success",confirmButtonText:"Aceptar"})},N=C=>{if(!x){ke.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos a tu lista de deseos",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(L=>{L.isConfirmed&&(window.location.href="/psg-shop/#/login")});return}const j=E(C);g({...C,imageUrl:j}),ke.fire({title:"Producto agregado",text:"Producto agregado correctamente a tu lista de deseos",icon:"success",confirmButtonText:"Aceptar"})};return u.jsx("div",{children:u.jsxs("div",{className:"px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex flex-col mb-8 md:flex-row md:items-center md:justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Nuestra Colección"}),u.jsxs("div",{className:"flex flex-col gap-4 mt-4 md:mt-0 sm:flex-row",children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Buscar productos...",className:"w-full py-2 pl-10 pr-4 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:w-64",value:f,onChange:C=>h(C.target.value)}),u.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:u.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"category-filter",className:"mr-2 text-sm font-medium text-gray-700",children:"Filtrar por:"}),u.jsx("select",{id:"category-filter",className:"border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:l,onChange:C=>d(C.target.value),children:A.map(C=>u.jsx("option",{value:C,children:C==="all"?"Todos":C},C))})]})]})]}),n?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"w-12 h-12 border-b-2 border-gray-900 rounded-full animate-spin"})}):i?u.jsxs("div",{className:"relative px-4 py-3 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:[u.jsx("strong",{className:"font-bold",children:"Error! "}),u.jsx("span",{className:"block sm:inline",children:i})]}):u.jsxs(u.Fragment,{children:[f&&u.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[b.length,' producto(s) encontrado(s) para "',f,'"']}),u.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:b.map(C=>u.jsxs("div",{className:"overflow-hidden transition-shadow duration-300 bg-white rounded-lg shadow-md hover:shadow-lg",children:[u.jsx(De,{to:`/product/${C.id}`,children:u.jsx("div",{className:"w-full overflow-hidden aspect-w-1 aspect-h-1",children:u.jsx("img",{src:E(C),alt:C.name,className:"object-cover w-full h-64",onError:j=>{j.target.onerror=null,j.target.src="https://via.placeholder.com/300x300.png?text=Moño"}})})}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:C.category}),C.stock!==void 0&&C.stock<=5&&u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:C.stock>0?`Solo ${C.stock} disponibles`:"Agotado"})]}),u.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:C.name}),C.rating>0&&u.jsx("div",{className:"mt-2",children:u.jsx(Nh,{rating:C.rating,size:"sm"})}),u.jsx("div",{className:"mt-2",children:u.jsxs("span",{className:"text-lg font-semibold text-indigo-600",children:["$",parseFloat(C.price).toLocaleString("es-CO")]})}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx("button",{className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:j=>{j.preventDefault(),S(C)},children:"Agregar al Carrito"}),u.jsx("button",{className:"flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:j=>{j.preventDefault(),j.stopPropagation(),N(C)},children:u.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4 4 0 000 6.364L12 20.364l7.682-7.682a4 4 0 00-6.364-6.364L12 7.636l-1.318-1.318a4 4 0 00-6.364 0z"})})})]})]})]},C.id))})]}),!n&&!i&&b.length===0&&u.jsxs("div",{className:"py-12 text-center",children:[u.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No se encontraron productos"}),u.jsx("p",{className:"mt-1 text-gray-500",children:f?`No se encontraron productos que coincidan con "${f}".`:"No hay productos disponibles en esta categoría."}),f&&u.jsx("div",{className:"mt-6",children:u.jsx("button",{onClick:()=>{h(""),d("all")},className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ver todos los productos"})})]})]})})},i5=async t=>{try{const e=Pt(Re,"reviews");return{id:(await Tv(e,{...t,createdAt:new Date,updatedAt:new Date})).id,...t,createdAt:new Date,updatedAt:new Date}}catch(e){throw console.error("Error creating review:",e),e}},$P=async t=>{try{const e=Pt(Re,"reviews"),n=xa(e,Qs("productId","==",t),wl("createdAt","desc"));return(await Gt(n)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){if(console.error("Error fetching reviews:",e),e.code==="failed-precondition"||e.message&&e.message.includes("index"))try{const n=Pt(Re,"reviews"),r=xa(n,Qs("productId","==",t));return(await Gt(r)).docs.map(d=>({id:d.id,...d.data()})).sort((d,f)=>{const h=d.createdAt?.toDate?d.createdAt.toDate():new Date(d.createdAt);return(f.createdAt?.toDate?f.createdAt.toDate():new Date(f.createdAt))-h})}catch(n){throw console.error("Error fetching reviews without index:",n),n}else throw e}},FP=async()=>{try{const t=Pt(Re,"reviews"),e=xa(t,wl("createdAt","desc"));return(await Gt(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){if(console.error("Error fetching all reviews:",t),t.code==="failed-precondition"||t.message&&t.message.includes("index"))try{const e=Pt(Re,"reviews");return(await Gt(e)).docs.map(a=>({id:a.id,...a.data()})).sort((a,l)=>{const d=a.createdAt?.toDate?a.createdAt.toDate():new Date(a.createdAt);return(l.createdAt?.toDate?l.createdAt.toDate():new Date(l.createdAt))-d})}catch(e){throw console.error("Error fetching all reviews without index:",e),e}else throw t}},AQ=async(t,e)=>{try{const n=bt(Re,"reviews",t);return await ua(n,{...e,updatedAt:new Date}),{id:t,...e,updatedAt:new Date}}catch(n){throw console.error("Error updating review:",n),n}},SQ=async t=>{try{const e=bt(Re,"reviews",t);return await W_(e),t}catch(e){throw console.error("Error deleting review:",e),e}},TQ=()=>{const{id:t}=fR(),[e,n]=_.useState(null),[r,i]=_.useState(!0),[a,l]=_.useState(null),[d,f]=_.useState(1),[h,p]=_.useState(0),{addToCart:g}=Fc(),{addToWishlist:x}=em(),{currentUser:b}=Yi(),A=Wi(),[E,S]=_.useState([]),[N,C]=_.useState(!0),[j,L]=_.useState({rating:0,comment:""}),[V,D]=_.useState(!1);_.useEffect(()=>{t&&(async()=>{try{i(!0);const ce=await kW(t);n(ce),p(0)}catch(ce){l("Failed to load product"),console.error("Error fetching product:",ce)}finally{i(!1)}})()},[t]),_.useEffect(()=>{(async()=>{if(t)try{C(!0);const ce=await $P(t);S(ce)}catch(ce){console.error("Error fetching reviews:",ce)}finally{C(!1)}})()},[t]);const k=K=>{if(K.imageUrls&&K.imageUrls.length>0){const ce=K.imageUrls.filter(me=>me&&(typeof me=="string"||me.data&&typeof me.data=="string"));if(ce.length>0){const me=K.primaryImageIndex||0,z=Math.min(me,ce.length-1),X=ce[z];if(typeof X=="string")return X;if(X&&X.data)return X.data}}return K.imageUrl||"https://via.placeholder.com/600x600.png?text=Moño"},O=()=>{if(!b){ke.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos al carrito",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(K=>{K.isConfirmed&&A("/login")});return}if(e){if((e.stock!==void 0?e.stock:1/0)===0){ke.fire({title:"Producto agotado",text:"Este producto no está disponible actualmente.",icon:"error",confirmButtonText:"Aceptar"});return}const ce=k(e);g({...e,imageUrl:ce,quantity:1}),ke.fire({title:"Producto agregado",text:"Producto agregado correctamente al carrito",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})}},R=()=>{if(!b){ke.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos a tu lista de deseos",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(K=>{K.isConfirmed&&A("/login")});return}if(e){const K=k(e);x({...e,imageUrl:K}),ke.fire({title:"Producto agregado",text:"Producto agregado correctamente a tu lista de deseos",icon:"success",confirmButtonText:"Aceptar"})}},F=()=>{if(e?.imageUrls&&Array.isArray(e.imageUrls)){const K=e.imageUrls.filter(ce=>ce&&(typeof ce=="string"||ce.data&&typeof ce.data=="string"));return K.length>0?K.map(me=>typeof me=="string"?me:me&&me.data?me.data:"https://via.placeholder.com/600x600.png?text=Moño"):["https://via.placeholder.com/600x600.png?text=Moño"]}return e?.imageUrl?[e.imageUrl]:["https://via.placeholder.com/600x600.png?text=Moño"]},B=()=>{const K=F();return K[h]||K[0]},q=K=>{const{name:ce,value:me}=K.target;L(z=>({...z,[ce]:me}))},U=K=>{L(ce=>({...ce,rating:K}))},ve=async K=>{if(K.preventDefault(),!b){ke.fire({title:"Inicia sesión",text:"Debes iniciar sesión para dejar una reseña",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(ce=>{ce.isConfirmed&&A("/login")});return}if(j.rating===0){ke.fire({title:"Error",text:"Por favor selecciona una calificación",icon:"error",confirmButtonText:"Aceptar"});return}if(j.comment.trim()===""){ke.fire({title:"Error",text:"Por favor escribe un comentario",icon:"error",confirmButtonText:"Aceptar"});return}D(!0);try{const ce={productId:t,userId:b.uid,userEmail:b.email,userName:b.displayName||b.email.split("@")[0],rating:j.rating,comment:j.comment.trim()};await i5(ce),L({rating:0,comment:""});const me=await $P(t);S(me),ke.fire({title:"Reseña enviada",text:"Tu reseña ha sido enviada correctamente",icon:"success",confirmButtonText:"Aceptar"})}catch(ce){console.error("Error submitting review:",ce),ke.fire({title:"Error",text:"Hubo un error al enviar tu reseña. Por favor intenta nuevamente.",icon:"error",confirmButtonText:"Aceptar"})}finally{D(!1)}},le=K=>K?K instanceof Date?K.toLocaleDateString("es-CO"):K.toDate?K.toDate().toLocaleDateString("es-CO"):"N/A":"N/A";if(r)return u.jsx("div",{children:u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"w-12 h-12 border-b-2 border-gray-900 rounded-full animate-spin"})})});if(a||!e)return u.jsx("div",{children:u.jsx("div",{className:"px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8",children:u.jsxs("div",{className:"relative px-4 py-3 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:[u.jsx("strong",{className:"font-bold",children:"Error! "}),u.jsx("span",{className:"block sm:inline",children:a||"Product not found"})]})})});const W=F();return u.jsx("div",{children:u.jsxs("div",{className:"px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[u.jsx("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:u.jsxs("ol",{className:"flex items-center space-x-2",children:[u.jsx("li",{children:u.jsx(De,{to:"/home",className:"text-gray-500 hover:text-gray-700",children:"Home"})}),u.jsx("li",{children:u.jsx("span",{className:"text-gray-500",children:"/"})}),u.jsx("li",{children:u.jsx(De,{to:"/shop",className:"text-gray-500 hover:text-gray-700",children:"Shop"})}),u.jsx("li",{children:u.jsx("span",{className:"text-gray-500",children:"/"})}),u.jsx("li",{children:u.jsx("span",{className:"text-gray-900",children:e.name})})]})}),u.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-x-8 lg:items-start",children:[u.jsxs("div",{className:"flex flex-col-reverse",children:[W.length>1&&u.jsx("div",{className:"w-full max-w-2xl mx-auto mt-6 lg:max-w-none",children:u.jsx("div",{className:"grid grid-cols-4 gap-6","aria-orientation":"horizontal",children:W.map((K,ce)=>u.jsxs("button",{className:`relative h-24 bg-white rounded-md flex items-center justify-center text-sm font-medium uppercase text-gray-900 cursor-pointer hover:bg-gray-50 focus:outline-none focus:ring focus:ring-offset-4 focus:ring-indigo-500 ${h===ce?"ring-2 ring-indigo-500":""}`,onClick:()=>p(ce),children:[u.jsxs("span",{className:"sr-only",children:["Imagen ",ce+1]}),u.jsx("span",{className:"absolute inset-0 overflow-hidden rounded-md",children:u.jsx("img",{src:K,alt:`Imagen ${ce+1}`,className:"object-cover w-full h-full",onError:me=>{me.target.onerror=null,me.target.src="https://via.placeholder.com/100x100.png?text=Moño"}})}),h===ce&&u.jsx("span",{className:"absolute inset-0 rounded-md pointer-events-none ring-2 ring-offset-2 ring-indigo-500","aria-hidden":"true"})]},ce))})}),u.jsx("div",{className:"w-full aspect-w-1 aspect-h-1",children:u.jsx("img",{src:B(),alt:e.name,className:"object-cover object-center w-full h-full sm:rounded-lg",onError:K=>{K.target.onerror=null,K.target.src="https://via.placeholder.com/600x600.png?text=Moño"}})})]}),u.jsxs("div",{className:"px-4 mt-10 sm:px-0 sm:mt-16 lg:mt-0",children:[u.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:e.name}),u.jsxs("div",{className:"mt-3",children:[u.jsx("h2",{className:"sr-only",children:"Product information"}),u.jsxs("p",{className:"text-3xl text-gray-900",children:["$",parseFloat(e.price).toLocaleString("es-CO")]})]}),e.rating>0&&u.jsx("div",{className:"mt-2",children:u.jsx(Nh,{rating:e.rating,size:"lg"})}),u.jsxs("div",{className:"mt-6",children:[u.jsx("h3",{className:"sr-only",children:"Description"}),u.jsx("div",{className:"space-y-6 text-base text-gray-700",children:u.jsx("p",{children:e.description})})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"mr-2 text-gray-700",children:"Categoría:"}),u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.category})]}),e.stock!==void 0&&u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx("span",{className:"mr-2 text-gray-700",children:"Stock:"}),u.jsx("span",{className:`font-medium ${e.stock>5?"text-green-600":e.stock>0?"text-yellow-600":"text-red-600"}`,children:e.stock>0?`${e.stock} disponibles`:"Agotado"})]}),e.material&&u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx("span",{className:"mr-2 text-gray-700",children:"Material:"}),u.jsx("span",{className:"text-gray-900",children:e.material})]}),e.color&&u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx("span",{className:"mr-2 text-gray-700",children:"Color:"}),u.jsx("span",{className:"text-gray-900",children:e.color})]}),e.size&&u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx("span",{className:"mr-2 text-gray-700",children:"Tamaño:"}),u.jsx("span",{className:"text-gray-900",children:e.size})]}),e.style&&u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx("span",{className:"mr-2 text-gray-700",children:"Estilo:"}),u.jsx("span",{className:"text-gray-900",children:e.style})]})]}),u.jsx("form",{className:"mt-6",children:u.jsxs("div",{className:"flex gap-3 mt-10 sm:flex-col1",children:[u.jsx("button",{type:"button",onClick:O,className:"flex items-center justify-center flex-1 max-w-xs px-8 py-3 text-base font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:w-full",disabled:e.stock===0,children:"Agregar al Carrito"}),u.jsxs("button",{type:"button",onClick:R,className:"flex items-center justify-center px-4 py-3 ml-4 text-gray-400 rounded-md hover:bg-gray-100 hover:text-gray-500",children:[u.jsx("svg",{className:"flex-shrink-0 w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),u.jsx("span",{className:"sr-only",children:"Add to favorites"})]})]})})]})]}),u.jsx("div",{className:"mt-16",children:u.jsxs("div",{className:"border-t border-gray-200 pt-10",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Reseñas de Clientes"}),b&&u.jsxs("div",{className:"mb-10",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Deja tu reseña"}),u.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calificación"}),u.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(K=>u.jsx("button",{type:"button",onClick:()=>U(K),className:"text-2xl focus:outline-none",children:K<=j.rating?u.jsx("span",{className:"text-yellow-400",children:"★"}):u.jsx("span",{className:"text-gray-300",children:"☆"})},K)),u.jsx("span",{className:"ml-2 text-sm text-gray-500",children:j.rating>0?`${j.rating} de 5 estrellas`:"Selecciona una calificación"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Comentario"}),u.jsx("textarea",{id:"comment",name:"comment",rows:4,value:j.comment,onChange:q,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border border-gray-300 rounded-md p-3",placeholder:"Comparte tu experiencia con este producto..."})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:V,className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${V?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,children:V?"Enviando...":"Enviar Reseña"})})]})]}),u.jsx("div",{children:N?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx("div",{className:"w-8 h-8 border-b-2 border-gray-900 rounded-full animate-spin"})}):E.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-gray-500",children:"No hay reseñas para este producto aún."}),!b&&u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:u.jsx(De,{to:"/login",className:"text-indigo-600 hover:text-indigo-500",children:"Inicia sesión para dejar la primera reseña"})})]}):u.jsx("div",{className:"space-y-6",children:E.map(K=>u.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-medium text-gray-900",children:K.userName}),u.jsx("div",{className:"mt-1",children:u.jsx(Nh,{rating:K.rating,size:"sm"})})]}),u.jsx("p",{className:"text-sm text-gray-500",children:le(K.createdAt)})]}),u.jsx("div",{className:"mt-4",children:u.jsx("p",{className:"text-gray-700",children:K.comment})})]},K.id))})})]})})]})})},NQ=()=>{const{items:t,updateQuantity:e,removeFromCart:n,getTotalPrice:r,loading:i,coupon:a,applyCoupon:l,removeCoupon:d}=Fc(),f=Wi(),[h,p]=_.useState(""),[g,x]=_.useState(""),[b,A]=_.useState(!1);if(i)return u.jsx("div",{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})})});const E=()=>{f("/checkout")},S=async j=>{if(j.preventDefault(),!!h.trim()){A(!0),x("");try{await l(h.trim()),p("")}catch(L){x(L.message||"Error al aplicar el cupón")}finally{A(!1)}}},N=()=>{d(),p(""),x("")},C=t.reduce((j,L)=>j+L.price*L.quantity,0);return u.jsx("div",{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Tu Carrito de Compras"}),t.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),u.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Tu carrito está vacío"}),u.jsx("p",{className:"mt-1 text-gray-500",children:"Empieza a agregar productos a tu carrito"}),u.jsx("div",{className:"mt-6",children:u.jsx(De,{to:"/shop",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Continuar Comprando"})})]}):u.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-12",children:[u.jsx("div",{className:"lg:col-span-8",children:u.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:u.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(j=>u.jsx("li",{className:"p-4 sm:p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden",children:u.jsx("img",{src:j.imageUrl||"https://via.placeholder.com/100x100.png?text=Moño",alt:j.name,className:"w-full h-full object-center object-cover",onError:L=>{L.target.onerror=null,L.target.src="https://via.placeholder.com/100x100.png?text=Moño"}})}),u.jsxs("div",{className:"ml-4 flex-1 flex flex-col",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[u.jsx("h3",{children:u.jsx(De,{to:`/product/${j.id}`,children:j.name})}),u.jsxs("p",{className:"ml-4",children:["$",parseFloat(j.price*j.quantity).toLocaleString("es-CO")]})]}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:j.category}),j.stock!==void 0&&u.jsx("p",{className:"mt-1 text-sm",children:u.jsx("span",{className:`font-medium ${j.stock>5?"text-green-600":j.stock>0?"text-yellow-600":"text-red-600"}`,children:j.stock>0?`Stock: ${j.stock} disponibles`:"Agotado"})})]}),u.jsxs("div",{className:"flex-1 flex items-end justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsxs("button",{onClick:()=>e(j.id,j.quantity-1),className:"text-gray-500 hover:text-gray-600",disabled:j.quantity<=1,children:[u.jsx("span",{className:"sr-only",children:"Remove one"}),u.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})})]}),u.jsx("span",{className:"mx-2 text-gray-500",children:j.quantity}),u.jsxs("button",{onClick:()=>{const L=j.stock!==void 0?j.stock:1/0;j.quantity<L&&e(j.id,j.quantity+1)},className:"text-gray-500 hover:text-gray-600",disabled:j.stock!==void 0&&j.quantity>=j.stock,children:[u.jsx("span",{className:"sr-only",children:"Add one"}),u.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})]}),u.jsx("div",{className:"flex",children:u.jsx("button",{type:"button",onClick:()=>n(j.id),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Eliminar"})})]})]})]})},j.id))})})}),u.jsx("div",{className:"mt-8 lg:mt-0 lg:col-span-4",children:u.jsxs("div",{className:"bg-gray-50 rounded-lg px-4 py-6 sm:p-6 lg:p-8",children:[u.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Resumen del Pedido"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Cupón de Descuento"}),a?u.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-md",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-green-800",children:a.code}),u.jsx("span",{className:"ml-2 text-sm text-green-600",children:a.discountType==="percentage"?`-${a.discountValue}%`:`-$${a.discountValue.toLocaleString("es-CO")}`})]}),u.jsx("button",{onClick:N,className:"text-sm text-red-600 hover:text-red-800",children:"Eliminar"})]}):u.jsxs("form",{onSubmit:S,className:"flex space-x-2",children:[u.jsx("input",{type:"text",value:h,onChange:j=>p(j.target.value),placeholder:"Ingresa tu código",className:"flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",disabled:b}),u.jsx("button",{type:"submit",disabled:b||!h.trim(),className:`inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white ${b||!h.trim()?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:b?"Aplicando...":"Aplicar"})]}),g&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:g})]}),u.jsxs("dl",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("dt",{className:"text-sm text-gray-600",children:"Subtotal"}),u.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:["$",parseFloat(C).toLocaleString("es-CO")]})]}),a&&u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("dt",{className:"text-sm text-gray-600",children:["Descuento (",a.code,")"]}),u.jsxs("dd",{className:"text-sm font-medium text-green-600",children:["-$",parseFloat(C-r()).toLocaleString("es-CO")]})]}),u.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6",children:[u.jsx("dt",{className:"text-base font-medium text-gray-900",children:"Total del Pedido"}),u.jsxs("dd",{className:"text-base font-medium text-gray-900",children:["$",parseFloat(r()).toLocaleString("es-CO")]})]})]}),t.some(j=>j.stock!==void 0&&j.stock<j.quantity)&&u.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Algunos productos tienen stock limitado"}),u.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:u.jsx("p",{children:"La cantidad en tu carrito excede el stock disponible para algunos productos. Por favor, ajusta las cantidades."})})]})]})}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{type:"button",onClick:E,className:"w-full bg-indigo-600 border border-transparent rounded-md shadow-sm py-3 px-4 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500",disabled:t.some(j=>j.stock!==void 0&&j.stock<j.quantity),children:"Proceder al Pago"})}),u.jsx("div",{className:"mt-4 text-center",children:u.jsx(De,{to:"/shop",className:"text-indigo-600 hover:text-indigo-500",children:"← Continuar Comprando"})})]})})]})]})})};/*!
 * react-paypal-js v8.9.2 (2025-10-02T20:17:55.069Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr;(function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"})(Hr||(Hr={}));var al;(function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"})(al||(al={}));var qP;(function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"})(qP||(qP={}));var Pn=function(){return Pn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Pn.apply(this,arguments)};function a5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function HP(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var jh="data-react-paypal-script-id",dc={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},jQ="Failed to load the PayPal JS SDK script.",s5="paypal",CQ="usePayPalScriptReducer must be used within a PayPalScriptProvider";function PQ(t){return t===void 0&&(t=s5),window[t]}function OQ(t){for(var e="",n=0;n<t.length;n++){var r=t[n].charCodeAt(0)*n;t[n+1]&&(r+=t[n+1].charCodeAt(0)*(n-1)),e+=String.fromCharCode(97+Math.abs(r)%26)}return e}function IQ(t){var e=t.reactComponentName,n=t.sdkComponentKey,r=t.sdkRequestedComponents,i=r===void 0?"":r,a=t.sdkDataNamespace,l=a===void 0?s5:a,d=n.charAt(0).toUpperCase().concat(n.substring(1)),f="Unable to render <".concat(e," /> because window.").concat(l,".").concat(d," is undefined."),h=typeof i=="string"?i:i.join(",");if(!h.includes(n)){var p=[h,n].filter(Boolean).join();f+=`
To fix the issue, add '`.concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(p,"'}}>`.")}return f}function o5(t){var e=t,n=jh;e[n];var r=a5(e,[n+""]);return"react-paypal-js-".concat(OQ(JSON.stringify(r)))}function kQ(t){var e=self.document.querySelector("script[".concat(jh,'="').concat(t,'"]'));e?.parentNode&&e.parentNode.removeChild(e)}function RQ(t,e){var n,r;switch(e.type){case al.LOADING_STATUS:return typeof e.value=="object"?Pn(Pn({},t),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):Pn(Pn({},t),{loadingStatus:e.value});case al.RESET_OPTIONS:return kQ(t.options[jh]),Pn(Pn({},t),{loadingStatus:Hr.PENDING,options:Pn(Pn((n={},n[dc.DATA_SDK_INTEGRATION_SOURCE]=dc.DATA_LIBRARY_VALUE,n),e.value),(r={},r[jh]="".concat(o5(e.value)),r))});case al.SET_BRAINTREE_INSTANCE:return Pn(Pn({},t),{braintreePayPalCheckoutInstance:e.value});default:return t}}var l5=_.createContext(null);function DQ(t){if(typeof t?.dispatch=="function"&&t.dispatch.length!==0)return t;throw new Error(CQ)}function MQ(){var t=DQ(_.useContext(l5)),e=Pn(Pn({},t),{isInitial:t.loadingStatus===Hr.INITIAL,isPending:t.loadingStatus===Hr.PENDING,isResolved:t.loadingStatus===Hr.RESOLVED,isRejected:t.loadingStatus===Hr.REJECTED});return[e,t.dispatch]}_.createContext({});function LQ(t){var e=_.useRef(new Proxy({},{get:function(n,r,i){return typeof n[r]=="function"?function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return n[r].apply(n,a)}:Reflect.get(n,r,i)}}));return e.current=Object.assign(e.current,t),e.current}var dE=function(t){var e,n=t.className,r=n===void 0?"":n,i=t.disabled,a=i===void 0?!1:i,l=t.children,d=t.forceReRender,f=d===void 0?[]:d,h=a5(t,["className","disabled","children","forceReRender"]),p=a?{opacity:.38}:{},g="".concat(r," ").concat(a?"paypal-buttons-disabled":"").trim(),x=_.useRef(null),b=_.useRef(null),A=LQ(h),E=MQ()[0],S=E.isResolved,N=E.options,C=_.useState(null),j=C[0],L=C[1],V=_.useState(!0),D=V[0],k=V[1],O=_.useState(null),R=O[1];function F(){b.current!==null&&b.current.close().catch(function(){})}return!((e=b.current)===null||e===void 0)&&e.updateProps&&b.current.updateProps({message:h.message}),_.useEffect(function(){if(S===!1)return F;var B=PQ(N.dataNamespace);if(B===void 0||B.Buttons===void 0)return R(function(){throw new Error(IQ({reactComponentName:dE.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:N.components,sdkDataNamespace:N[dc.DATA_NAMESPACE]}))}),F;var q=function(U,ve){L(ve),typeof h.onInit=="function"&&h.onInit(U,ve)};try{b.current=B.Buttons(Pn(Pn({},A),{onInit:q}))}catch(U){return R(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(U))})}return b.current.isEligible()===!1?(k(!1),F):(x.current&&b.current.render(x.current).catch(function(U){x.current===null||x.current.children.length===0||R(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(U))})}),F)},HP(HP([S],f,!0),[h.fundingSource],!1)),_.useEffect(function(){j!==null&&(a===!0?j.disable().catch(function(){}):j.enable().catch(function(){}))},[a,j]),lt.createElement(lt.Fragment,null,D?lt.createElement("div",{ref:x,style:p,className:g}):l)};dE.displayName="PayPalButtons";function VQ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function UQ(t,e){var n=document.querySelector('script[src="'.concat(t,'"]'));if(n===null)return null;var r=c5(t,e),i=n.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(r.dataset).length)return null;var a=!0;return Object.keys(i.dataset).forEach(function(l){i.dataset[l]!==r.dataset[l]&&(a=!1)}),a?n:null}function BQ(t){var e=t.url,n=t.attributes,r=t.onSuccess,i=t.onError,a=c5(e,n);a.onerror=i,a.onload=r,document.head.insertBefore(a,document.head.firstElementChild)}function zQ(t){var e=t.sdkBaseUrl,n=t.environment,r=VQ(t,["sdkBaseUrl","environment"]),i=e||qQ(n),a=r,l=Object.keys(a).filter(function(h){return typeof a[h]<"u"&&a[h]!==null&&a[h]!==""}).reduce(function(h,p){var g=a[p].toString();return p=$Q(p),p.substring(0,4)==="data"||p==="crossorigin"?h.attributes[p]=g:h.queryParams[p]=g,h},{queryParams:{},attributes:{}}),d=l.queryParams,f=l.attributes;return d["merchant-id"]&&d["merchant-id"].indexOf(",")!==-1&&(f["data-merchant-id"]=d["merchant-id"],d["merchant-id"]="*"),{url:"".concat(i,"?").concat(FQ(d)),attributes:f}}function $Q(t){var e=function(n,r){return(r?"-":"")+n.toLowerCase()};return t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function FQ(t){var e="";return Object.keys(t).forEach(function(n){e.length!==0&&(e+="&"),e+=n+"="+t[n]}),e}function qQ(t){return t==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function c5(t,e){e===void 0&&(e={});var n=document.createElement("script");return n.src=t,Object.keys(e).forEach(function(r){n.setAttribute(r,e[r]),r==="data-csp-nonce"&&n.setAttribute("nonce",e["data-csp-nonce"])}),n}function HQ(t,e){if(e===void 0&&(e=Promise),u5(t,e),typeof document>"u")return e.resolve(null);var n=zQ(t),r=n.url,i=n.attributes,a=i["data-namespace"]||"paypal",l=KP(a);return i["data-js-sdk-library"]||(i["data-js-sdk-library"]="paypal-js"),UQ(r,i)&&l?e.resolve(l):KQ({url:r,attributes:i},e).then(function(){var d=KP(a);if(d)return d;throw new Error("The window.".concat(a," global variable is not available."))})}function KQ(t,e){e===void 0&&(e=Promise),u5(t,e);var n=t.url,r=t.attributes;if(typeof n!="string"||n.length===0)throw new Error("Invalid url.");if(typeof r<"u"&&typeof r!="object")throw new Error("Expected attributes to be an object.");return new e(function(i,a){if(typeof document>"u")return i();BQ({url:n,attributes:r,onSuccess:function(){return i()},onError:function(){var l=new Error('The script "'.concat(n,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return a(l)}})})}function KP(t){return window[t]}function u5(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");var n=t.environment;if(n&&n!=="production"&&n!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var GQ=function(t){var e,n=t.options,r=n===void 0?{clientId:"test"}:n,i=t.children,a=t.deferLoading,l=a===void 0?!1:a,d=_.useReducer(RQ,{options:Pn(Pn({},r),(e={},e[dc.DATA_JS_SDK_LIBRARY]=dc.DATA_LIBRARY_VALUE,e[dc.DATA_SDK_INTEGRATION_SOURCE]=dc.DATA_LIBRARY_VALUE,e[jh]="".concat(o5(r)),e)),loadingStatus:l?Hr.INITIAL:Hr.PENDING}),f=d[0],h=d[1];return _.useEffect(function(){if(l===!1&&f.loadingStatus===Hr.INITIAL)return h({type:al.LOADING_STATUS,value:Hr.PENDING});if(f.loadingStatus===Hr.PENDING){var p=!0;return HQ(f.options).then(function(){p&&h({type:al.LOADING_STATUS,value:Hr.RESOLVED})}).catch(function(g){console.error("".concat(jQ," ").concat(g)),p&&h({type:al.LOADING_STATUS,value:{state:Hr.REJECTED,message:String(g)}})}),function(){p=!1}}},[f.options,l,f.loadingStatus]),lt.createElement(l5.Provider,{value:Pn(Pn({},f),{dispatch:h})},i)};function GP(){}_.createContext({cardFieldsForm:null,fields:{},registerField:GP,unregisterField:GP});const WQ=()=>{const{items:t,getTotalPrice:e,loading:n,clearCart:r,coupon:i}=Fc(),{currentUser:a}=Yi(),l=Wi(),d=28e-5,f=le=>le*d,h=le=>{if(le.imageUrls&&le.imageUrls.length>0){const W=le.imageUrls.filter(K=>K&&(typeof K=="string"||K.data&&typeof K.data=="string"));if(W.length>0){const K=le.primaryImageIndex||0,ce=Math.min(K,W.length-1),me=W[ce];if(typeof me=="string")return me;if(me&&me.data)return me.data}}return le.imageUrl||"https://via.placeholder.com/100x100.png?text=Moño"},[p,g]=_.useState([]),[x,b]=_.useState(null),[A,E]=_.useState({name:"",street:"",city:"",state:"",zipCode:"",country:"Colombia"}),[S,N]=_.useState(!1),[C,j]=_.useState(!0),[L,V]=_.useState(!1),D=t.reduce((le,W)=>le+W.price*W.quantity,0),k=i?D-e():0,O=e();_.useEffect(()=>{(async()=>{if(!a){l("/login");return}try{const W=bt(Re,"users",a.uid),K=await ba(W);if(K.exists()){const me=K.data().addresses||[];g(me);const z=me.find(X=>X.isDefault);z?b(z):me.length>0&&b(me[0])}}catch(W){console.error("Error loading addresses:",W),ke.fire({title:"Error",text:"Error al cargar las direcciones",icon:"error",confirmButtonText:"Aceptar"})}finally{j(!1)}})()},[a,l]);const R=le=>{const{name:W,value:K}=le.target;E(ce=>({...ce,[W]:K}))},F=async le=>{if(le.preventDefault(),!A.name||!A.street||!A.city||!A.state||!A.zipCode){ke.fire({title:"Error",text:"Por favor completa todos los campos de la dirección",icon:"error",confirmButtonText:"Aceptar"});return}try{const W=bt(Re,"users",a.uid),K={...A,id:Date.now(),isDefault:p.length===0};await ua(W,{addresses:[...p,K]});const ce=[...p,K];g(ce),b(K),N(!1),E({name:"",street:"",city:"",state:"",zipCode:"",country:"Colombia"}),ke.fire({title:"Dirección agregada",text:"La dirección se ha agregado correctamente",icon:"success",confirmButtonText:"Aceptar"})}catch(W){console.error("Error adding address:",W),ke.fire({title:"Error",text:"Error al agregar la dirección: "+W.message,icon:"error",confirmButtonText:"Aceptar"})}},B=async(le,W)=>{try{const K=f(O),ce={userId:a.uid,userEmail:a.email,items:t,subtotal:parseFloat(D),discount:parseFloat(k),totalAmount:parseFloat(O),totalAmountUSD:parseFloat(K.toFixed(2)),address:x,paymentMethod:le,paymentStatus:W,orderStatus:"pending",coupon:i||null,createdAt:new Date,updatedAt:new Date},me=Pt(Re,"orders"),z=await Tv(me,ce);return console.log("Order created with ID:",z.id),z.id}catch(K){throw console.error("Error creating order:",K),K}},q=(le,W)=>W.order.capture().then(async K=>{V(!0);try{await B("PayPal","completed"),r(),ke.fire({title:"¡Pago exitoso!",text:`Gracias por tu compra, ${K.payer.name.given_name}!`,icon:"success",confirmButtonText:"Aceptar"}).then(()=>{l("/home")})}catch(ce){console.error("Error processing order:",ce),ke.fire({title:"Error",text:"Hubo un error al procesar tu pedido. Por favor contacta al soporte.",icon:"error",confirmButtonText:"Aceptar"})}finally{V(!1)}}),U=le=>{console.error("PayPal payment error:",le),ke.fire({title:"Error",text:"Hubo un error al procesar el pago con PayPal. Por favor intenta nuevamente.",icon:"error",confirmButtonText:"Aceptar"})},ve=async()=>{if(!x){ke.fire({title:"Error",text:"Por favor selecciona una dirección de envío",icon:"error",confirmButtonText:"Aceptar"});return}V(!0);try{await B("Cash on Delivery","pending"),r(),ke.fire({title:"Pedido confirmado",text:"Tu pedido ha sido confirmado. Pagarás contra entrega.",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{l("/home")})}catch(le){console.error("Error processing order:",le),ke.fire({title:"Error",text:"Error al procesar el pedido: "+le.message,icon:"error",confirmButtonText:"Aceptar"})}finally{V(!1)}};return n||C?u.jsx("div",{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})})}):t.length===0?(l("/cart"),null):u.jsx("div",{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Checkout"}),u.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-12",children:[u.jsxs("div",{className:"lg:col-span-8",children:[u.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-8",children:u.jsxs("div",{className:"px-4 py-6 sm:px-6",children:[u.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Dirección de Envío"}),p.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsxs("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay direcciones guardadas"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Agrega una nueva dirección para continuar."})]}):u.jsx("div",{className:"space-y-4",children:p.map(le=>u.jsx("div",{className:`border rounded-lg p-4 cursor-pointer ${x&&x.id===le.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>b(le),children:u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex items-center h-5",children:u.jsx("input",{type:"radio",name:"address",checked:x&&x.id===le.id,onChange:()=>b(le),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"})}),u.jsxs("div",{className:"ml-3",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[le.name,le.isDefault&&u.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Predeterminada"})]}),u.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:[u.jsx("p",{children:le.street}),u.jsxs("p",{children:[le.city,", ",le.state," ",le.zipCode]}),u.jsx("p",{children:le.country})]})]})]})},le.id))}),u.jsx("div",{className:"mt-6",children:u.jsxs("button",{type:"button",onClick:()=>N(!S),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[u.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),p.length===0?"Agregar Dirección":"Agregar Nueva Dirección"]})}),S&&u.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[u.jsx("h3",{className:"text-md font-medium text-gray-900 mb-4",children:p.length===0?"Agregar Dirección":"Nueva Dirección"}),u.jsxs("form",{onSubmit:F,children:[u.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre de la Dirección"}),u.jsx("input",{type:"text",name:"name",id:"name",value:A.name,onChange:R,placeholder:"Ej: Casa, Trabajo",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700",children:"Calle y Número"}),u.jsx("input",{type:"text",name:"street",id:"street",value:A.street,onChange:R,placeholder:"Ej: Av. Principal 123",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"Ciudad"}),u.jsx("input",{type:"text",name:"city",id:"city",value:A.city,onChange:R,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"Estado/Provincia"}),u.jsx("input",{type:"text",name:"state",id:"state",value:A.state,onChange:R,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700",children:"Código Postal"}),u.jsx("input",{type:"text",name:"zipCode",id:"zipCode",value:A.zipCode,onChange:R,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"País"}),u.jsx("input",{type:"text",name:"country",id:"country",value:A.country,onChange:R,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),u.jsxs("div",{className:"mt-6 flex space-x-3",children:[u.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Guardar Dirección"}),u.jsx("button",{type:"button",onClick:()=>N(!1),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"})]})]})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:u.jsxs("div",{className:"px-4 py-6 sm:px-6",children:[u.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Resumen del Pedido"}),u.jsx("div",{className:"flow-root",children:u.jsx("ul",{className:"-my-6 divide-y divide-gray-200",children:t.map(le=>u.jsxs("li",{className:"py-6 flex",children:[u.jsx("div",{className:"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden",children:u.jsx("img",{src:h(le),alt:le.name,className:"w-full h-full object-center object-cover",onError:W=>{W.target.onerror=null,W.target.src="https://via.placeholder.com/100x100.png?text=Moño"}})}),u.jsxs("div",{className:"ml-4 flex-1 flex flex-col",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[u.jsx("h3",{children:le.name}),u.jsxs("p",{className:"ml-4",children:["$",parseFloat(le.price*le.quantity).toLocaleString("es-CO")]})]}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:le.category})]}),u.jsx("div",{className:"flex-1 flex items-end justify-between text-sm",children:u.jsxs("p",{className:"text-gray-500",children:["Cantidad: ",le.quantity]})})]})]},le.id))})})]})})]}),u.jsx("div",{className:"mt-8 lg:mt-0 lg:col-span-4",children:u.jsxs("div",{className:"bg-gray-50 rounded-lg px-4 py-6 sm:p-6 lg:p-8",children:[u.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Resumen del Pedido"}),u.jsxs("dl",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("dt",{className:"text-sm text-gray-600",children:"Subtotal"}),u.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:["$",parseFloat(D).toLocaleString("es-CO")]})]}),i&&u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("dt",{className:"text-sm text-gray-600",children:["Descuento (",i.code,")"]}),u.jsxs("dd",{className:"text-sm font-medium text-green-600",children:["-$",parseFloat(k).toLocaleString("es-CO")]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("dt",{className:"text-sm text-gray-600",children:"Envío"}),u.jsx("dd",{className:"text-sm font-medium text-gray-900",children:"$0"})]}),u.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6",children:[u.jsx("dt",{className:"text-base font-medium text-gray-900",children:"Total"}),u.jsxs("dd",{className:"text-base font-medium text-gray-900",children:["$",parseFloat(O).toLocaleString("es-CO")]})]})]}),x&&u.jsxs("div",{className:"mt-8 p-4 bg-white rounded-lg border border-gray-200",children:[u.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Dirección de Envío"}),u.jsxs("div",{className:"text-sm text-gray-500",children:[u.jsx("p",{className:"font-medium",children:x.name}),u.jsx("p",{children:x.street}),u.jsxs("p",{children:[x.city,", ",x.state," ",x.zipCode]}),u.jsx("p",{children:x.country})]})]}),u.jsxs("div",{className:"mt-8",children:[u.jsx("h3",{className:"text-md font-medium text-gray-900 mb-4",children:"Método de Pago"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"w-full",children:x?u.jsx(dE,{style:{layout:"vertical"},createOrder:(le,W)=>{const K=f(O);return W.order.create({purchase_units:[{amount:{value:K.toFixed(2),currency_code:"USD"}}]})},onApprove:q,onError:U}):u.jsxs("button",{disabled:!0,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white opacity-50 cursor-not-allowed",children:[u.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 38 24",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{fill:"#253b80",d:"M35.71 15.39c.27-.4.4-.87.36-1.35-.04-.48-.24-.93-.57-1.28-.33-.35-.76-.55-1.22-.56-.46 0-.89.19-1.22.53-.33.34-.52.8-.54 1.28-.02.48.12.94.4 1.33.28.39.68.67 1.14.8.46.13.95.1 1.4-.08.45-.18.84-.49 1.12-.89z"}),u.jsx("path",{fill:"#179bd7",d:"M13.34 15.96c.34-.46.52-1.02.51-1.59-.01-.57-.22-1.12-.59-1.54-.37-.42-.87-.67-1.41-.71-.54-.04-1.08.13-1.51.46-.43.33-.73.81-.85 1.35-.12.54-.07 1.11.14 1.62.21.51.57.94 1.03 1.23.46.29.99.42 1.53.37.54-.05 1.05-.27 1.47-.63z"}),u.jsx("path",{fill:"#253b80",d:"M22.72 16.11c.41-.36.67-.87.72-1.41.05-.54-.09-1.08-.31-1.55-.28-.42-.72-.81-1.23-.96-.51-.15-1-.08-1.46.09-.46.17-.85.49-1.11.89-.27.4-.37.93-.32 1.44.03.51.21.99.51 1.4.3.41.74.72 1.23.88.49.16 1.01.17 1.51.06.5-.12.94-.4 1.26-.78z"}),u.jsx("path",{fill:"#179bd7",d:"M30.21 16.26c.45-.31.75-.8.83-1.34.08-.54-.03-1.09-.31-1.55-.28-.42-.72-.81-1.23-.96-.51-.15-1-.08-1.46.09-.46.17-.85.49-1.11.89-.26.4-.37.88-.32 1.37.05.49.27.95.61 1.31.34.36.79.6 1.28.68.49.08 1-.01 1.44-.24z"}),u.jsx("path",{fill:"#253b80",d:"M5.39 16.39c.47-.23.81-.66.93-1.16.12-.5.03-1.03-.25-1.45-.28-.42-.71-.71-1.2-.82-.49-.11-1-.08-1.46.09-.46.17-.85.49-1.11.89-.26.4-.37.88-.32 1.37.05.49.27.95.61 1.31.34.36.79.6 1.28.68.49.08 1-.01 1.44-.24z"})]}),"Pagar con PayPal"]})}),u.jsxs("button",{onClick:ve,disabled:L||!x,className:`w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${L||!x?"opacity-50 cursor-not-allowed":""}`,children:[L?u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):u.jsx("svg",{className:"mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pagar Contra Entrega"]})]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{onClick:()=>l("/cart"),className:"text-indigo-600 hover:text-indigo-500",children:"← Volver al Carrito"})})]})})]})]})})},YQ=()=>{const{currentUser:t,userRole:e,refreshUserData:n}=Yi(),r=Wi(),[i,a]=_.useState({displayName:"",email:"",phone:"",profileImage:""}),[l,d]=_.useState({currentPassword:"",newPassword:"",confirmNewPassword:""}),[f,h]=_.useState([]),[p,g]=_.useState({id:Date.now(),name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1}),[x,b]=_.useState(null),[A,E]=_.useState({id:null,name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1}),[S,N]=_.useState("profile"),[C,j]=_.useState(!0),[L,V]=_.useState(!1),[D,k]=_.useState(!1),[O,R]=_.useState(!1);_.useEffect(()=>{(async()=>{if(!t){r("/login");return}try{const oe=bt(Re,"users",t.uid),ye=await ba(oe);if(ye.exists()){const be=ye.data();a({displayName:be.displayName||t.displayName||"",email:t.email,phone:be.phone||"",profileImage:be.profileImage||t.photoURL||""}),h(be.addresses||[])}else a({displayName:t.displayName||"",email:t.email,phone:"",profileImage:t.photoURL||""}),h([])}catch(oe){console.error("Error loading profile:",oe),ke.fire({title:"Error",text:"Error al cargar el perfil",icon:"error",confirmButtonText:"Aceptar"})}finally{j(!1)}})()},[t,r]);const F=Z=>{const{name:oe,value:ye}=Z.target;a(be=>({...be,[oe]:ye}))},B=Z=>{const{name:oe,value:ye}=Z.target;d(be=>({...be,[oe]:ye}))},q=Z=>{const{name:oe,value:ye}=Z.target;g(be=>({...be,[oe]:ye}))},U=Z=>{const{name:oe,value:ye}=Z.target;E(be=>({...be,[oe]:ye}))},ve=Z=>{const oe=Z.target.files[0];if(oe){if(oe.size>2*1024*1024){ke.fire({title:"Archivo muy grande",text:"La imagen debe ser menor a 2MB",icon:"warning",confirmButtonText:"Aceptar"});return}if(!oe.type.match("image.*")){ke.fire({title:"Tipo de archivo inválido",text:"Por favor selecciona una imagen",icon:"warning",confirmButtonText:"Aceptar"});return}const ye=new FileReader;ye.onload=be=>{a(Le=>({...Le,profileImage:be.target.result}))},ye.readAsDataURL(oe)}},le=async Z=>{Z.preventDefault(),V(!0);try{const oe=bt(Re,"users",t.uid),ye=await ba(oe);let be={...i,updatedAt:new Date};if(ye.exists()){const Le=ye.data();Le.hasOwnProperty("role")&&(be.role=Le.role),Le.hasOwnProperty("createdAt")&&(be.createdAt=Le.createdAt),Le.hasOwnProperty("addresses")&&(be.addresses=Le.addresses)}else be.role="customer",be.createdAt=new Date,be.addresses=[];await ml(oe,be),console.log("Profile saved, refreshing user data"),n(),ke.fire({title:"Perfil actualizado",text:"Tu perfil se ha actualizado correctamente",icon:"success",confirmButtonText:"Aceptar"})}catch(oe){console.error("Error saving profile:",oe),ke.fire({title:"Error",text:"Error al guardar el perfil: "+oe.message,icon:"error",confirmButtonText:"Aceptar"})}finally{V(!1)}},W=async Z=>{if(Z.preventDefault(),k(!0),l.newPassword!==l.confirmNewPassword){ke.fire({title:"Error",text:"Las contraseñas nuevas no coinciden",icon:"error",confirmButtonText:"Aceptar"}),k(!1);return}if(l.newPassword.length<6){ke.fire({title:"Error",text:"La nueva contraseña debe tener al menos 6 caracteres",icon:"error",confirmButtonText:"Aceptar"}),k(!1);return}try{const oe=Vc.credential(t.email,l.currentPassword);await $$(t,oe),await K$(t,l.newPassword),ke.fire({title:"Contraseña actualizada",text:"Tu contraseña se ha actualizado correctamente",icon:"success",confirmButtonText:"Aceptar"}),d({currentPassword:"",newPassword:"",confirmNewPassword:""})}catch(oe){console.error("Error changing password:",oe);let ye="Error al cambiar la contraseña";switch(oe.code){case"auth/wrong-password":ye="La contraseña actual es incorrecta";break;case"auth/too-many-requests":ye="Demasiados intentos. Por favor, inténtalo más tarde";break;default:ye="Error al cambiar la contraseña: "+oe.message}ke.fire({title:"Error",text:ye,icon:"error",confirmButtonText:"Aceptar"})}finally{k(!1)}},K=async Z=>{if(Z.preventDefault(),R(!0),!p.name||!p.street||!p.city||!p.state||!p.zipCode||!p.country){ke.fire({title:"Error",text:"Por favor completa todos los campos de la dirección",icon:"error",confirmButtonText:"Aceptar"}),R(!1);return}try{const oe=bt(Re,"users",t.uid),ye={...p,id:Date.now()};if(f.length===0||p.isDefault){ye.isDefault=!0;const be=f.map(Le=>({...Le,isDefault:!1}));h([...be,ye])}else h([...f,ye]);await ua(oe,{addresses:mP(ye)}),ke.fire({title:"Dirección agregada",text:"La dirección se ha agregado correctamente",icon:"success",confirmButtonText:"Aceptar"}),g({id:Date.now(),name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1})}catch(oe){console.error("Error adding address:",oe),ke.fire({title:"Error",text:"Error al agregar la dirección: "+oe.message,icon:"error",confirmButtonText:"Aceptar"})}finally{R(!1)}},ce=Z=>{b(Z.id),E({...Z})},me=()=>{b(null),E({id:null,name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1})},z=async Z=>{if(Z.preventDefault(),R(!0),!A.name||!A.street||!A.city||!A.state||!A.zipCode||!A.country){ke.fire({title:"Error",text:"Por favor completa todos los campos de la dirección",icon:"error",confirmButtonText:"Aceptar"}),R(!1);return}try{const oe=bt(Re,"users",t.uid),ye=f.find(Le=>Le.id===A.id);ye&&await ua(oe,{addresses:pP(ye)});const be={...A};await ua(oe,{addresses:mP(be)}),h(f.map(Le=>Le.id===A.id?be:Le)),ke.fire({title:"Dirección actualizada",text:"La dirección se ha actualizado correctamente",icon:"success",confirmButtonText:"Aceptar"}),b(null),E({id:null,name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1})}catch(oe){console.error("Error updating address:",oe),ke.fire({title:"Error",text:"Error al actualizar la dirección: "+oe.message,icon:"error",confirmButtonText:"Aceptar"})}finally{R(!1)}},X=async Z=>{ke.fire({title:"¿Estás seguro?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async oe=>{if(oe.isConfirmed)try{const ye=bt(Re,"users",t.uid),be=f.find(Le=>Le.id===Z);be&&(await ua(ye,{addresses:pP(be)}),h(f.filter(Le=>Le.id!==Z)),ke.fire({title:"Dirección eliminada",text:"La dirección se ha eliminado correctamente",icon:"success",confirmButtonText:"Aceptar"}))}catch(ye){console.error("Error deleting address:",ye),ke.fire({title:"Error",text:"Error al eliminar la dirección: "+ye.message,icon:"error",confirmButtonText:"Aceptar"})}})},ne=async Z=>{try{const oe=bt(Re,"users",t.uid),ye=f.map(be=>({...be,isDefault:be.id===Z}));h(ye),await ua(oe,{addresses:ye}),ke.fire({title:"Dirección predeterminada",text:"La dirección se ha establecido como predeterminada",icon:"success",confirmButtonText:"Aceptar"})}catch(oe){console.error("Error setting default address:",oe),ke.fire({title:"Error",text:"Error al establecer la dirección predeterminada: "+oe.message,icon:"error",confirmButtonText:"Aceptar"})}};return C?u.jsx("div",{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})})}):u.jsx("div",{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsxs("div",{className:"max-w-5xl mx-auto",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Mi Perfil"}),u.jsx("div",{className:"border-b border-gray-200 mb-8",children:u.jsxs("nav",{className:"-mb-px flex space-x-8",children:[u.jsx("button",{onClick:()=>N("profile"),className:`py-4 px-1 border-b-2 font-medium text-sm ${S==="profile"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Perfil"}),u.jsx("button",{onClick:()=>N("security"),className:`py-4 px-1 border-b-2 font-medium text-sm ${S==="security"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Seguridad"}),u.jsx("button",{onClick:()=>N("addresses"),className:`py-4 px-1 border-b-2 font-medium text-sm ${S==="addresses"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Direcciones"})]})}),S==="profile"&&u.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:u.jsx("div",{className:"px-6 py-8",children:u.jsxs("form",{onSubmit:le,children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Foto de Perfil"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0",children:i.profileImage?u.jsx("img",{src:i.profileImage,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-gray-300"}):u.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 border-2 border-gray-300 flex items-center justify-center",children:u.jsx("span",{className:"text-gray-500 text-3xl font-bold",children:i.displayName?.charAt(0)||i.email?.charAt(0)||"U"})})}),u.jsxs("div",{className:"ml-6",children:[u.jsxs("label",{className:"block",children:[u.jsx("span",{className:"px-4 py-2 bg-white border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 cursor-pointer",children:"Cambiar foto"}),u.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:ve})]}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"JPG, GIF o PNG. Tamaño máximo 2MB"})]})]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información Personal"}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Nombre Completo"}),u.jsx("input",{type:"text",name:"displayName",id:"displayName",value:i.displayName,onChange:F,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo Electrónico"}),u.jsx("input",{type:"email",name:"email",id:"email",value:i.email,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 bg-gray-100"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"El correo no puede ser modificado"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Teléfono"}),u.jsx("input",{type:"tel",name:"phone",id:"phone",value:i.phone,onChange:F,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Rol"}),u.jsx("input",{type:"text",name:"role",id:"role",value:e||"customer",disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 bg-gray-100"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"El rol no puede ser modificado"})]})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"submit",disabled:L,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:L?"Guardando...":"Guardar Cambios"})})]})})}),S==="security"&&u.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:u.jsxs("div",{className:"px-6 py-8",children:[u.jsxs("form",{onSubmit:W,children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cambiar Contraseña"}),u.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:u.jsxs("div",{children:[u.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Contraseña Actual"}),u.jsx("input",{type:"password",name:"currentPassword",id:"currentPassword",value:l.currentPassword,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"Nueva Contraseña"}),u.jsx("input",{type:"password",name:"newPassword",id:"newPassword",value:l.newPassword,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmNewPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmar Nueva Contraseña"}),u.jsx("input",{type:"password",name:"confirmNewPassword",id:"confirmNewPassword",value:l.confirmNewPassword,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"submit",disabled:D,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:D?"Guardando...":"Cambiar Contraseña"})})]}),u.jsxs("div",{className:"mt-12",children:[u.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Dispositivos Activos"}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:u.jsx("svg",{className:"h-6 w-6 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Este dispositivo"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Última actividad: Ahora mismo"})]}),u.jsx("div",{className:"ml-auto",children:u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Activo"})})]})}),u.jsx("div",{className:"mt-4 text-sm text-gray-500",children:u.jsx("p",{children:"Para seguridad adicional, si ves un dispositivo que no reconoces, cierra la sesión en todos los dispositivos y cambia tu contraseña."})})]})]})}),S==="addresses"&&u.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:u.jsxs("div",{className:"px-6 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:x?"Editar Dirección":"Agregar Nueva Dirección"}),u.jsxs("form",{onSubmit:x?z:K,children:[u.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"addressName",className:"block text-sm font-medium text-gray-700",children:"Nombre de la Dirección"}),u.jsx("input",{type:"text",name:"name",id:"addressName",value:x?A.name:p.name,onChange:x?U:q,placeholder:"Ej: Casa, Trabajo",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"addressStreet",className:"block text-sm font-medium text-gray-700",children:"Calle y Número"}),u.jsx("input",{type:"text",name:"street",id:"addressStreet",value:x?A.street:p.street,onChange:x?U:q,placeholder:"Ej: Av. Principal 123",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"addressCity",className:"block text-sm font-medium text-gray-700",children:"Ciudad"}),u.jsx("input",{type:"text",name:"city",id:"addressCity",value:x?A.city:p.city,onChange:x?U:q,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"addressState",className:"block text-sm font-medium text-gray-700",children:"Estado/Provincia"}),u.jsx("input",{type:"text",name:"state",id:"addressState",value:x?A.state:p.state,onChange:x?U:q,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"addressZipCode",className:"block text-sm font-medium text-gray-700",children:"Código Postal"}),u.jsx("input",{type:"text",name:"zipCode",id:"addressZipCode",value:x?A.zipCode:p.zipCode,onChange:x?U:q,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"addressCountry",className:"block text-sm font-medium text-gray-700",children:"País"}),u.jsx("input",{type:"text",name:"country",id:"addressCountry",value:x?A.country:p.country,onChange:x?U:q,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"addressIsDefault",name:"isDefault",type:"checkbox",checked:x?A.isDefault:p.isDefault,onChange:Z=>x?E(oe=>({...oe,isDefault:Z.target.checked})):g(oe=>({...oe,isDefault:Z.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"addressIsDefault",className:"ml-2 block text-sm text-gray-900",children:"Establecer como dirección predeterminada"})]})]}),u.jsxs("div",{className:"mt-6 flex space-x-3",children:[u.jsx("button",{type:"submit",disabled:O,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:O?"Guardando...":x?"Guardar Cambios":"Agregar Dirección"}),x&&u.jsx("button",{type:"button",onClick:me,className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"})]})]})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Direcciones Guardadas"}),f.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsxs("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay direcciones"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Agrega tu primera dirección usando el formulario de arriba."})]}):u.jsx("div",{className:"space-y-4",children:f.map(Z=>u.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900",children:Z.name}),u.jsx("p",{className:"text-sm text-gray-500",children:Z.street}),u.jsxs("p",{className:"text-sm text-gray-500",children:[Z.city,", ",Z.state," ",Z.zipCode]}),u.jsx("p",{className:"text-sm text-gray-500",children:Z.country}),Z.isDefault&&u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 mt-2",children:"Predeterminada"})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>ce(Z),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200",children:"Editar"}),u.jsx("button",{onClick:()=>ne(Z.id),disabled:Z.isDefault,className:`inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 ${Z.isDefault?"bg-gray-100":"bg-indigo-100 hover:bg-indigo-200"}`,children:Z.isDefault?"Predeterminada":"Hacer Predeterminada"}),u.jsx("button",{onClick:()=>X(Z.id),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200",children:"Eliminar"})]})]})},Z.id))})]})]})})]})})})},XQ=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[i,a]=_.useState(""),[l,d]=_.useState(!1),f=Wi(),{currentUser:h}=Yi();lt.useEffect(()=>{h&&f("/home")},[h,f]);const p=async()=>{a(""),d(!0);try{const x=new Ba,A=(await p3(ga,x)).user,E=bt(Re,"users",A.uid);(await ba(E)).exists()||(await ml(E,{email:A.email,displayName:A.displayName||"",profileImage:A.photoURL||"",createdAt:new Date,role:"customer"}),console.log("User info stored successfully for Google user")),f("/home")}catch(x){console.error("Google sign-in error:",x),a("Error al iniciar sesión con Google. Por favor, inténtalo de nuevo.")}finally{d(!1)}},g=async x=>{x.preventDefault(),a(""),d(!0);try{await H$(ga,t,n),f("/home")}catch(b){switch(b.code){case"auth/user-not-found":a("No se encontró una cuenta con ese correo electrónico.");break;case"auth/wrong-password":a("Contraseña incorrecta.");break;case"auth/invalid-email":a("El correo electrónico no es válido.");break;case"auth/user-disabled":a("Esta cuenta ha sido deshabilitada.");break;default:a("Error al iniciar sesión. Por favor, verifica tus credenciales.")}}finally{d(!1)}};return u.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 py-12 bg-white sm:px-6 lg:px-8",children:u.jsxs("div",{className:"w-full max-w-md space-y-8",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-full",children:u.jsx("svg",{className:"w-6 h-6 text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Login"}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"See your growth and get consulting support!"})]}),i&&u.jsx("div",{className:"relative px-4 py-3 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:u.jsx("span",{className:"block sm:inline",children:i})}),u.jsx("div",{children:u.jsxs("button",{onClick:p,disabled:l,className:"flex items-center justify-center w-full gap-3 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50",children:[u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),u.jsx("span",{children:"Sign in with Google"})]})}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 text-gray-500 bg-white",children:"or Sign in with Email"})})]}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email*"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"mail@website.com",value:t,onChange:x=>e(x.target.value),disabled:l})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password*"}),u.jsx("div",{className:"text-sm",children:u.jsx(De,{to:"/reset-password",className:"font-medium text-purple-600 hover:text-purple-500",children:"Forgot password?"})})]}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Min. 8 character",value:n,onChange:x=>r(x.target.value),disabled:l})})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),u.jsx("label",{htmlFor:"remember-me",className:"block ml-2 text-sm text-gray-700",children:"Remember me"})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:l,className:"relative flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-purple-600 border border-transparent rounded-full group hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:l?"Logging in...":"Login"})})]}),u.jsx("div",{className:"text-center",children:u.jsxs("p",{className:"text-sm text-gray-500",children:["Not registered yet?"," ",u.jsx(De,{to:"/register",className:"font-medium text-purple-600 hover:text-purple-500",children:"Create an Account"})]})}),u.jsx("div",{className:"mt-8 text-center",children:u.jsx("p",{className:"text-xs text-gray-500",children:"©2020 Felix All rights reserved."})})]})})},QQ=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[i,a]=_.useState(""),[l,d]=_.useState(""),[f,h]=_.useState(""),[p,g]=_.useState(!1),x=Wi(),{firebaseError:b}=Yi(),A=async()=>{d(""),h(""),g(!0);try{const S=new Ba,C=(await p3(ga,S)).user,j=bt(Re,"users",C.uid);(await ba(j)).exists()||(await ml(j,{email:C.email,displayName:C.displayName||"",profileImage:C.photoURL||"",createdAt:new Date,role:"customer"}),console.log("User info stored successfully for Google user")),x("/home")}catch(S){console.error("Google sign-up error:",S),d("Error al registrarse con Google. Por favor, inténtalo de nuevo.")}finally{g(!1)}},E=async S=>{if(S.preventDefault(),d(""),h(""),b){d(b);return}if(!ga||!Re){d("Firebase no está configurado correctamente. Por favor, verifica tu archivo .env");return}if(n!==i){d("Las contraseñas no coinciden");return}if(n.length<6){d("La contraseña debe tener al menos 6 caracteres");return}g(!0);try{console.log("Attempting to create user with email:",t);const C=(await q$(ga,t,n)).user;console.log("User created successfully:",C),console.log("Storing user info in Firestore..."),await ml(bt(Re,"users",C.uid),{email:C.email,displayName:"",profileImage:"",createdAt:new Date,role:"customer"}),console.log("User info stored successfully"),h("Cuenta creada exitosamente. Redirigiendo..."),setTimeout(()=>{x("/home")},2e3)}catch(N){switch(console.error("Registration error:",N),console.error("Error code:",N.code),console.error("Error message:",N.message),N.code){case"auth/email-already-in-use":d("Este correo electrónico ya está registrado.");break;case"auth/invalid-email":d("El correo electrónico no es válido.");break;case"auth/operation-not-allowed":d("El registro de usuarios está deshabilitado. Por favor, habilita la autenticación en la consola de Firebase.");break;case"auth/weak-password":d("La contraseña es muy débil.");break;default:d(`Error al crear la cuenta: ${N.message}`)}}finally{g(!1)}};return u.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 py-12 bg-white sm:px-6 lg:px-8",children:u.jsxs("div",{className:"w-full max-w-md space-y-8",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-full",children:u.jsx("svg",{className:"w-6 h-6 text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Register"}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Create an account to get started!"})]}),b&&u.jsxs("div",{className:"relative px-4 py-3 text-yellow-700 bg-yellow-100 border border-yellow-400 rounded",role:"alert",children:[u.jsx("strong",{className:"font-bold",children:"Configuración incompleta! "}),u.jsx("span",{className:"block sm:inline",children:b})]}),l&&u.jsx("div",{className:"relative px-4 py-3 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:u.jsx("span",{className:"block sm:inline",children:l})}),f&&u.jsx("div",{className:"relative px-4 py-3 text-green-700 bg-green-100 border border-green-400 rounded",role:"alert",children:u.jsx("span",{className:"block sm:inline",children:f})}),u.jsx("div",{children:u.jsxs("button",{onClick:A,disabled:p||b,className:"flex items-center justify-center w-full gap-3 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50",children:[u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),u.jsx("span",{children:"Sign up with Google"})]})}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 text-gray-500 bg-white",children:"or Sign up with Email"})})]}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:E,children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email*"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"mail@website.com",value:t,onChange:S=>e(S.target.value),disabled:b||p})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password*"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Min. 8 character",value:n,onChange:S=>r(S.target.value),disabled:b||p})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm Password*"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Confirm your password",value:i,onChange:S=>a(S.target.value),disabled:b||p})})]})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:p||b,className:"relative flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-purple-600 border border-transparent rounded-full group hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:p?"Creating Account...":"Create Account"})})]}),u.jsx("div",{className:"text-center",children:u.jsxs("p",{className:"text-sm text-gray-500",children:["Already have an account?"," ",u.jsx(De,{to:"/login",className:"font-medium text-purple-600 hover:text-purple-500",children:"Sign in"})]})}),u.jsx("div",{className:"mt-8 text-center",children:u.jsx("p",{className:"text-xs text-gray-500",children:"©2020 Felix All rights reserved."})})]})})},ZQ=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[i,a]=_.useState(""),[l,d]=_.useState(!1);Wi();const f=async h=>{h.preventDefault(),a(""),r(""),d(!0);try{await F$(ga,t),r("Se ha enviado un correo para restablecer tu contraseña. Revisa tu bandeja de entrada.")}catch(p){switch(p.code){case"auth/user-not-found":a("No se encontró una cuenta con ese correo electrónico.");break;case"auth/invalid-email":a("El correo electrónico no es válido.");break;default:a("Error al enviar el correo de restablecimiento. Por favor, inténtalo de nuevo.")}}finally{d(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{children:[u.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center",children:u.jsx("svg",{className:"h-6 w-6 text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Restablecer Contraseña"}),u.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Ingresa tu correo electrónico y te enviaremos un enlace para restablecer tu contraseña."})]}),n&&u.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:u.jsx("span",{className:"block sm:inline",children:n})}),i&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:u.jsx("span",{className:"block sm:inline",children:i})}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700",children:"Correo Electrónico"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"mail@website.com",value:t,onChange:h=>e(h.target.value),disabled:l})})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-full text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:l?"Enviando...":"Enviar Enlace de Restablecimiento"})})]}),u.jsx("div",{className:"text-center",children:u.jsx(De,{to:"/login",className:"font-medium text-purple-600 hover:text-purple-500",children:"← Volver al inicio de sesión"})}),u.jsx("div",{className:"mt-8 text-center",children:u.jsx("p",{className:"text-xs text-gray-500",children:"©2020 Felix All rights reserved."})})]})})},WP=async()=>{try{const t=Pt(Re,"users");return(await Gt(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Error fetching users:",t),t}},JQ=async(t,e)=>{try{const n=bt(Re,"users",t);return await ua(n,{role:e}),{id:t,role:e}}catch(n){throw console.error("Error updating user role:",n),n}},zb=t=>{switch(t){case"pending":return"Pendiente";case"processing":return"Procesando";case"shipped":return"Enviado";case"delivered":return"Entregado";case"cancelled":return"Cancelado";default:return t}},YP=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},eZ=async t=>{try{const e=Pt(Re,"orders"),n=xa(e,Qs("userId","==",t),wl("createdAt","desc"));return(await Gt(n)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){if(console.error("Error fetching orders:",e),e.code==="failed-precondition"||e.message&&e.message.includes("index"))try{const n=Pt(Re,"orders"),r=xa(n,Qs("userId","==",t));return(await Gt(r)).docs.map(d=>({id:d.id,...d.data()})).sort((d,f)=>{const h=d.createdAt?.toDate?d.createdAt.toDate():new Date(d.createdAt);return(f.createdAt?.toDate?f.createdAt.toDate():new Date(f.createdAt))-h})}catch(n){throw console.error("Error fetching orders without index:",n),n}else throw e}},tZ=async(t,e)=>{try{const n=bt(Re,"orders",t);return await ua(n,{orderStatus:e,updatedAt:new Date}),{id:t,status:e}}catch(n){throw console.error("Error updating order status:",n),n}},nZ=async()=>{try{const t=Pt(Re,"orders"),e=xa(t,wl("createdAt","desc"));return(await Gt(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){if(console.error("Error fetching all orders:",t),t.code==="failed-precondition"||t.message&&t.message.includes("index"))try{const e=Pt(Re,"orders");return(await Gt(e)).docs.map(a=>({id:a.id,...a.data()})).sort((a,l)=>{const d=a.createdAt?.toDate?a.createdAt.toDate():new Date(a.createdAt);return(l.createdAt?.toDate?l.createdAt.toDate():new Date(l.createdAt))-d})}catch(e){throw console.error("Error fetching all orders without index:",e),e}else throw t}},rZ=async(t,e)=>{try{const n=Pt(Re,"orders"),r=xa(n,Qs("createdAt",">=",t),Qs("createdAt","<=",e),wl("createdAt","desc")),a=(await Gt(r)).docs.map(p=>({id:p.id,...p.data()})),l={};let d=0,f=0;return a.forEach(p=>{const g=p.createdAt.toDate().toISOString().split("T")[0];l[g]||(l[g]={date:g,totalSales:0,orderCount:0,revenue:0});const x=p.totalAmount||0;l[g].totalSales+=x,l[g].orderCount+=1,l[g].revenue+=x,d+=x,f+=1}),{salesData:Object.values(l).sort((p,g)=>new Date(p.date)-new Date(g.date)),totalRevenue:d,totalOrders:f,averageOrderValue:f>0?d/f:0}}catch(n){throw console.error("Error fetching sales data:",n),n}},iZ=async()=>{try{const t=Pt(Re,"products"),n=(await Gt(t)).docs.map(h=>({id:h.id,...h.data()})),r=Pt(Re,"orders"),a=(await Gt(r)).docs.map(h=>({id:h.id,...h.data()})),l={};n.forEach(h=>{l[h.id]=h.category||"Sin categoría"});const d={};return a.forEach(h=>{h.items&&Array.isArray(h.items)&&h.items.forEach(p=>{const g=l[p.productId]||"Sin categoría";d[g]||(d[g]={category:g,sales:0,quantity:0,revenue:0});const x=(p.price||0)*(p.quantity||0);d[g].sales+=x,d[g].quantity+=p.quantity||0,d[g].revenue+=x})}),Object.values(d).sort((h,p)=>p.revenue-h.revenue)}catch(t){throw console.error("Error fetching sales by category:",t),t}},aZ=async()=>{try{const t=Pt(Re,"orders"),n=(await Gt(t)).docs.map(a=>({id:a.id,...a.data()})),r={pending:0,processing:0,shipped:0,delivered:0,cancelled:0};return n.forEach(a=>{const l=a.orderStatus||"pending";l in r&&r[l]++}),Object.entries(r).map(([a,l])=>({status:a,count:l}))}catch(t){throw console.error("Error fetching order status distribution:",t),t}},sZ=async(t=10)=>{try{const e=Pt(Re,"products"),r=(await Gt(e)).docs.map(p=>({id:p.id,...p.data()})),i=Pt(Re,"orders"),l=(await Gt(i)).docs.map(p=>({id:p.id,...p.data()})),d={};r.forEach(p=>{d[p.id]=p.name||"Producto sin nombre"});const f={};return l.forEach(p=>{p.items&&Array.isArray(p.items)&&p.items.forEach(g=>{const x=g.productId;f[x]||(f[x]={productId:x,productName:d[x]||"Producto desconocido",sales:0,quantity:0,revenue:0});const b=(g.price||0)*(g.quantity||0);f[x].sales+=b,f[x].quantity+=g.quantity||0,f[x].revenue+=b})}),Object.values(f).sort((p,g)=>g.revenue-p.revenue).slice(0,t)}catch(e){throw console.error("Error fetching top selling products:",e),e}},oZ=async(t,e)=>{try{const n=Pt(Re,"users"),r=xa(n,Qs("createdAt",">=",t),Qs("createdAt","<=",e),wl("createdAt","desc")),a=(await Gt(r)).docs.map(h=>({id:h.id,...h.data()})),l={};let d=0;return a.forEach(h=>{const p=h.createdAt.toDate().toISOString().split("T")[0];l[p]||(l[p]={date:p,registrations:0}),l[p].registrations+=1,d+=1}),{registrationData:Object.values(l).sort((h,p)=>new Date(h.date)-new Date(p.date)),totalUsers:d}}catch(n){throw console.error("Error fetching user registration data:",n),n}},lZ=async()=>{try{const t=Pt(Re,"orders"),n=(await Gt(t)).docs.map(a=>({id:a.id,...a.data()})),r={};return n.forEach(a=>{const l=a.paymentMethod||"Desconocido",d=a.totalAmount||0;r[l]||(r[l]={method:l,revenue:0,count:0}),r[l].revenue+=d,r[l].count+=1}),Object.values(r)}catch(t){throw console.error("Error fetching revenue by payment method:",t),t}},cZ=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,a]=_.useState(null),[l,d]=_.useState(""),[f,h]=_.useState({code:"",discountType:"percentage",discountValue:"",isActive:!0,expiryDate:""}),[p,g]=_.useState(null),x=Pt(Re,"coupons"),b=async()=>{try{const D=xa(x,wl("createdAt","desc")),k=await Gt(D);e(k.docs.map(O=>({...O.data(),id:O.id})))}catch(D){console.error("Firebase error fetching coupons: ",D),a("No se pudieron cargar los cupones. Revisa las reglas de seguridad de Firebase y la consola del navegador.")}r(!1)};_.useEffect(()=>{b()},[]);const A=D=>{d(D),setTimeout(()=>d(""),3e3)},E=D=>{const{name:k,value:O,type:R,checked:F}=D.target;h({...f,[k]:R==="checkbox"?F:O})},S=D=>{const{name:k,value:O,type:R,checked:F}=D.target;g({...p,[k]:R==="checkbox"?F:O})},N=async D=>{if(D.preventDefault(),!f.code||!f.discountValue){a("Por favor, completa todos los campos obligatorios.");return}if(f.discountType==="percentage"&&(f.discountValue<1||f.discountValue>100)){a("El porcentaje de descuento debe estar entre 1 y 100.");return}try{const k={code:f.code.toUpperCase(),discountType:f.discountType,discountValue:parseFloat(f.discountValue),isActive:f.isActive,createdAt:new Date,...f.expiryDate&&{expiryDate:new Date(f.expiryDate)}};await Tv(x,k),h({code:"",discountType:"percentage",discountValue:"",isActive:!0,expiryDate:""}),a(null),A("Cupón creado exitosamente!"),b()}catch(k){console.error("Firebase error creating coupon: ",k),a("Error al crear el cupón. ¿Tienes permisos de escritura?")}},C=async(D,k)=>{if(window.confirm(`¿Estás seguro de que quieres eliminar el cupón "${k}"?`))try{const R=bt(Re,"coupons",D);await W_(R),e(t.filter(F=>F.id!==D)),A("Cupón eliminado exitosamente!")}catch(R){console.error("Firebase error deleting coupon: ",R),a("Error al eliminar el cupón. ¿Tienes permisos de escritura?")}},j=async D=>{if(D.preventDefault(),!p.code||!p.discountValue){a("Por favor, completa todos los campos obligatorios.");return}if(p.discountType==="percentage"&&(p.discountValue<1||p.discountValue>100)){a("El porcentaje de descuento debe estar entre 1 y 100.");return}try{const k=bt(Re,"coupons",p.id),O={code:p.code.toUpperCase(),discountType:p.discountType,discountValue:parseFloat(p.discountValue),isActive:p.isActive,updatedAt:new Date,...p.expiryDate&&{expiryDate:new Date(p.expiryDate)}};await ua(k,O),g(null),a(null),A("Cupón actualizado exitosamente!"),b()}catch(k){console.error("Firebase error updating coupon: ",k),a("Error al actualizar el cupón. ¿Tienes permisos de escritura?")}},L=D=>D?D instanceof Date?D.toLocaleDateString("es-CO"):D.toDate?D.toDate().toLocaleDateString("es-CO"):"N/A":"N/A",V=D=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(D||0);return u.jsxs("div",{className:"mt-8",children:[l&&u.jsxs("div",{className:"relative px-4 py-3 mb-4 text-green-700 bg-green-100 border border-green-400 rounded",role:"alert",children:[u.jsx("strong",{className:"font-bold",children:"Éxito! "}),u.jsx("span",{className:"block sm:inline",children:l})]}),i&&u.jsxs("div",{className:"relative px-4 py-3 mb-4 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:[u.jsx("strong",{className:"font-bold",children:"Error! "}),u.jsx("span",{className:"block sm:inline",children:i})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-8",children:[u.jsx("div",{className:"px-4 py-5 border-b border-gray-200 sm:px-6",children:u.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:p?"Editar Cupón":"Agregar Nuevo Cupón"})}),u.jsx("div",{className:"px-4 py-5 sm:p-6",children:u.jsxs("form",{onSubmit:p?j:N,children:[u.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700",children:"Código del Cupón *"}),u.jsx("input",{type:"text",name:"code",id:"code",required:!0,value:p?p.code:f.code,onChange:p?S:E,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Ej: DESCUENTO10"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"discountType",className:"block text-sm font-medium text-gray-700",children:"Tipo de Descuento *"}),u.jsxs("select",{name:"discountType",id:"discountType",required:!0,value:p?p.discountType:f.discountType,onChange:p?S:E,className:"mt-1 block w-full bg-white border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[u.jsx("option",{value:"percentage",children:"Porcentaje"}),u.jsx("option",{value:"fixed",children:"Monto Fijo"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"discountValue",className:"block text-sm font-medium text-gray-700",children:"Valor del Descuento *"}),u.jsx("input",{type:"number",name:"discountValue",id:"discountValue",required:!0,min:"0",step:"0.01",value:p?p.discountValue:f.discountValue,onChange:p?S:E,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:p?p.discountType==="percentage"?"Ej: 15":"Ej: 5000":f.discountType==="percentage"?"Ej: 15":"Ej: 5000"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:p?p.discountType==="percentage"?"Porcentaje de descuento (1-100%)":"Monto fijo en COP":f.discountType==="percentage"?"Porcentaje de descuento (1-100%)":"Monto fijo en COP"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"expiryDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de Expiración"}),u.jsx("input",{type:"date",name:"expiryDate",id:"expiryDate",value:p?p.expiryDate:f.expiryDate,onChange:p?S:E,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),u.jsx("div",{className:"sm:col-span-2",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"isActive",name:"isActive",type:"checkbox",checked:p?p.isActive:f.isActive,onChange:p?S:E,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Cupón Activo"})]})})]}),u.jsx("div",{className:"mt-6 flex space-x-3",children:p?u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Guardar Cambios"}),u.jsx("button",{type:"button",onClick:()=>g(null),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"})]}):u.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Crear Cupón"})})]})})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[u.jsx("div",{className:"px-4 py-5 border-b border-gray-200 sm:px-6",children:u.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Cupones Existentes"})}),u.jsx("div",{className:"px-4 py-5 sm:px-6",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Código"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Tipo"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Valor"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Estado"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Expiración"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-right text-gray-500 uppercase",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:"w-6 h-6 border-b-2 border-gray-900 rounded-full animate-spin"})})})}):i?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-red-500",children:i})}):t.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No hay cupones disponibles"})}):t.map(D=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.code})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:D.discountType==="percentage"?"Porcentaje":"Monto Fijo"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.discountType==="percentage"?`${D.discountValue}%`:V(D.discountValue)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D.isActive?u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Activo"}):u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactivo"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.expiryDate?L(D.expiryDate):"Nunca"}),u.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-right whitespace-nowrap",children:[u.jsx("button",{onClick:()=>g(D),className:"mr-3 text-indigo-600 hover:text-indigo-900",children:"Editar"}),u.jsx("button",{onClick:()=>C(D.id,D.code),className:"text-red-600 hover:text-red-900",children:"Eliminar"})]})]},D.id))})]})})})]})]})},d5=({order:t,isOpen:e,onClose:n,formatDate:r,formatCurrency:i,getOrderStatusText:a,getStatusBadgeClass:l})=>!e||!t?null:u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto bg-black bg-opacity-50",children:u.jsx("div",{className:"relative w-full max-w-2xl mx-auto my-8 bg-white rounded-lg shadow-xl",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Detalles de la Orden"}),u.jsx("button",{onClick:n,className:"text-2xl font-bold text-gray-400 hover:text-gray-500",children:"×"})]}),u.jsxs("div",{className:"mt-2 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Información de la Orden"}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"ID de Orden"}),u.jsx("p",{className:"font-medium",children:t.id})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Fecha"}),u.jsx("p",{className:"font-medium",children:r(t.createdAt)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Estado"}),u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l(t.orderStatus||"pending")}`,children:a(t.orderStatus||"pending")})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Método de Pago"}),u.jsx("p",{className:"font-medium",children:t.paymentMethod||"N/A"}),u.jsx("p",{className:"text-sm text-gray-500",children:t.paymentStatus==="completed"?"Pagado":"Pendiente"})]})]})})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Información del Cliente"}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Nombre"}),u.jsx("p",{className:"font-medium",children:t.userEmail||"N/A"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"ID de Usuario"}),u.jsx("p",{className:"font-medium",children:t.userId?.substring(0,8)||"N/A"})]})]})})]}),t.address&&u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Dirección de Envío"}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("p",{className:"font-medium",children:t.address.name}),u.jsx("p",{children:t.address.street}),u.jsxs("p",{children:[t.address.city,", ",t.address.state," ",t.address.zipCode]}),u.jsx("p",{children:t.address.country})]})]}),t.coupon&&u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cupón de Descuento"}),u.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Código"}),u.jsx("p",{className:"font-medium",children:t.coupon.code})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Descuento"}),u.jsx("p",{className:"font-medium",children:t.coupon.discountType==="percentage"?`${t.coupon.discountValue}%`:i(t.coupon.discountValue)})]})]})})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Productos"}),u.jsx("div",{className:"bg-gray-50 rounded-lg divide-y divide-gray-200",children:t.items?.map((d,f)=>u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 w-16 h-16 border border-gray-200 rounded-md overflow-hidden",children:u.jsx("img",{src:d.imageUrl||"https://via.placeholder.com/64x64.png?text=Moño",alt:d.name,className:"w-full h-full object-center object-cover",onError:h=>{h.target.onerror=null,h.target.src="https://via.placeholder.com/64x64.png?text=Moño"}})}),u.jsxs("div",{className:"ml-4 flex-1",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("h5",{className:"font-medium text-gray-900",children:d.name}),u.jsx("p",{className:"font-medium",children:i(d.price*d.quantity)})]}),u.jsx("p",{className:"text-sm text-gray-500",children:d.category}),u.jsxs("div",{className:"flex justify-between mt-1",children:[u.jsxs("p",{className:"text-sm text-gray-500",children:["Cantidad: ",d.quantity]}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Precio unitario: ",i(d.price)]})]})]})]})},f))})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Resumen del Pedido"}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("p",{className:"text-gray-600",children:"Subtotal"}),u.jsx("p",{className:"font-medium",children:i(t.subtotal||0)})]}),t.coupon&&u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("p",{className:"text-gray-600",children:["Descuento (",t.coupon.code,")"]}),u.jsxs("p",{className:"font-medium text-green-600",children:["-",i(t.discount||0)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("p",{className:"text-gray-600",children:"Envío"}),u.jsx("p",{className:"font-medium",children:"$0"})]}),u.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[u.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Total"}),u.jsx("p",{className:"text-lg font-medium text-gray-900",children:i(t.totalAmount||0)})]})]})]})]}),u.jsx("div",{className:"flex justify-end pt-4",children:u.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cerrar"})})]})})});function f5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=f5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ct(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=f5(t))&&(r&&(r+=" "),r+=e);return r}var $b={},Fb={},XP;function uZ(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Fb)),Fb}var qb={},QP;function h5(){return QP||(QP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(qb)),qb}var Hb={},ZP;function m5(){return ZP||(ZP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Hb)),Hb}var Kb={},JP;function fE(){return JP||(JP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let a=0,l="",d="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const h=n[a];d?h==="\\"&&a+1<i?(a++,l+=n[a]):h===d?d="":l+=h:f?h==='"'||h==="'"?d=h:h==="]"?(f=!1,r.push(l),l=""):l+=h:h==="["?(f=!0,l&&(r.push(l),l="")):h==="."?l&&(r.push(l),l=""):l+=h,a++}return l&&r.push(l),r}t.toPath=e})(Kb)),Kb}var e4;function hE(){return e4||(e4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uZ(),n=h5(),r=m5(),i=fE();function a(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?a(d,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(d,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function l(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=a})($b)),$b}var Gb,t4;function dZ(){return t4||(t4=1,Gb=hE().get),Gb}var fZ=dZ();const jc=ns(fZ);var Wb={exports:{}},Tt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n4;function hZ(){if(n4)return Tt;n4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function A(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case n:case i:case r:case f:case h:case x:return E;default:switch(E=E&&E.$$typeof,E){case l:case d:case g:case p:return E;case a:return E;default:return S}}case e:return S}}}return Tt.ContextConsumer=a,Tt.ContextProvider=l,Tt.Element=t,Tt.ForwardRef=d,Tt.Fragment=n,Tt.Lazy=g,Tt.Memo=p,Tt.Portal=e,Tt.Profiler=i,Tt.StrictMode=r,Tt.Suspense=f,Tt.SuspenseList=h,Tt.isContextConsumer=function(E){return A(E)===a},Tt.isContextProvider=function(E){return A(E)===l},Tt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Tt.isForwardRef=function(E){return A(E)===d},Tt.isFragment=function(E){return A(E)===n},Tt.isLazy=function(E){return A(E)===g},Tt.isMemo=function(E){return A(E)===p},Tt.isPortal=function(E){return A(E)===e},Tt.isProfiler=function(E){return A(E)===i},Tt.isStrictMode=function(E){return A(E)===r},Tt.isSuspense=function(E){return A(E)===f},Tt.isSuspenseList=function(E){return A(E)===h},Tt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===l||E.$$typeof===a||E.$$typeof===d||E.$$typeof===b||E.getModuleId!==void 0)},Tt.typeOf=A,Tt}var r4;function mZ(){return r4||(r4=1,Wb.exports=hZ()),Wb.exports}var pZ=mZ(),Zn=t=>t===0?0:t>0?1:-1,Xr=t=>typeof t=="number"&&t!=+t,fc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Pe=t=>(typeof t=="number"||t instanceof Number)&&!Xr(t),Za=t=>Pe(t)||typeof t=="string",gZ=0,Ch=t=>{var e=++gZ;return"".concat(t||"").concat(e)},_r=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(e)&&typeof e!="string")return r;var a;if(fc(e)){if(n==null)return r;var l=e.indexOf("%");a=n*parseFloat(e.slice(0,l))/100}else a=+e;return Xr(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},p5=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Nt(t,e,n){return Pe(t)&&Pe(e)?t+n*(e-t):e}function g5(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):jc(r,e))===n)}var Ft=t=>t===null||typeof t>"u",om=t=>Ft(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),yZ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function mE(t){if(typeof t!="string")return!1;var e=yZ;return e.includes(t)}var vZ=["viewBox","children"],i4=["points","pathLength"],Yb={svg:vZ,polygon:i4,polyline:i4},pE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{mE(i)&&(r[i]=(a=>n[i](n,a)))}),r},xZ=(t,e,n)=>r=>(t(e,n,r),null),lm=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];mE(i)&&typeof a=="function"&&(r||(r={}),r[i]=xZ(a,e,n))}),r},bZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function y5(t){if(typeof t!="string")return!1;var e=bZ;return e.includes(t)}function Xi(t){var e=Object.entries(t).filter(n=>{var[r]=n;return y5(r)});return Object.fromEntries(e)}var a4=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",s4=null,Xb=null,v5=t=>{if(t===s4&&Array.isArray(Xb))return Xb;var e=[];return _.Children.forEach(t,n=>{Ft(n)||(pZ.isFragment(n)?e=e.concat(v5(n.props.children)):e.push(n))}),Xb=e,s4=t,e};function gE(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>a4(i)):r=[a4(e)],v5(t).forEach(i=>{var a=jc(i,"type.displayName")||jc(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var kv=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,wZ=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&Yb?.[r])!==null&&i!==void 0?i:[],l=e.startsWith("data-"),d=typeof t!="function"&&(!!r&&a.includes(e)||y5(e)),f=!!n&&mE(e);return l||d||f},qt=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(_.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var l;wZ((l=r)===null||l===void 0?void 0:l[a],a,e,n)&&(i[a]=r[a])}),i},_Z=["children","width","height","viewBox","className","style","title","desc"];function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X1.apply(null,arguments)}function EZ(t,e){if(t==null)return{};var n,r,i=AZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function AZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yE=_.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:d,title:f,desc:h}=t,p=EZ(t,_Z),g=a||{width:r,height:i,x:0,y:0},x=ct("recharts-surface",l);return _.createElement("svg",X1({},qt(p,!0,"svg"),{className:x,width:r,height:i,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),_.createElement("title",null,f),_.createElement("desc",null,h),n)}),SZ=["children","className"];function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q1.apply(null,arguments)}function TZ(t,e){if(t==null)return{};var n,r,i=NZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function NZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fn=_.forwardRef((t,e)=>{var{children:n,className:r}=t,i=TZ(t,SZ),a=ct("recharts-layer",r);return _.createElement("g",Q1({className:a},qt(i,!0),{ref:e}),n)}),x5=_.createContext(null),jZ=()=>_.useContext(x5);function Rt(t){return function(){return t}}const b5=Math.cos,fy=Math.sin,Ea=Math.sqrt,hy=Math.PI,Rv=2*hy,Z1=Math.PI,J1=2*Z1,sc=1e-6,CZ=J1-sc;function w5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function PZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return w5;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class OZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?w5:PZ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,d=this._y1,f=r-e,h=i-n,p=l-e,g=d-n,x=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>sc)if(!(Math.abs(g*f-h*p)>sc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-l,A=i-d,E=f*f+h*h,S=b*b+A*A,N=Math.sqrt(E),C=Math.sqrt(x),j=a*Math.tan((Z1-Math.acos((E+x-S)/(2*N*C)))/2),L=j/C,V=j/N;Math.abs(L-1)>sc&&this._append`L${e+L*p},${n+L*g}`,this._append`A${a},${a},0,0,${+(g*b>p*A)},${this._x1=e+V*f},${this._y1=n+V*h}`}}arc(e,n,r,i,a,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(i),f=r*Math.sin(i),h=e+d,p=n+f,g=1^l,x=l?i-a:a-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>sc||Math.abs(this._y1-p)>sc)&&this._append`L${h},${p}`,r&&(x<0&&(x=x%J1+J1),x>CZ?this._append`A${r},${r},0,1,${g},${e-d},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:x>sc&&this._append`A${r},${r},0,${+(x>=Z1)},${g},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function vE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new OZ(e)}function xE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _5(t){this._context=t}_5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Dv(t){return new _5(t)}function E5(t){return t[0]}function A5(t){return t[1]}function S5(t,e){var n=Rt(!0),r=null,i=Dv,a=null,l=vE(d);t=typeof t=="function"?t:t===void 0?E5:Rt(t),e=typeof e=="function"?e:e===void 0?A5:Rt(e);function d(f){var h,p=(f=xE(f)).length,g,x=!1,b;for(r==null&&(a=i(b=l())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===x&&((x=!x)?a.lineStart():a.lineEnd()),x&&a.point(+t(g,h,f),+e(g,h,f));if(b)return a=null,b+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Rt(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Rt(+f),d):e},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Rt(!!f),d):n},d.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),d):i},d.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),d):r},d}function Jp(t,e,n){var r=null,i=Rt(!0),a=null,l=Dv,d=null,f=vE(h);t=typeof t=="function"?t:t===void 0?E5:Rt(+t),e=typeof e=="function"?e:Rt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?A5:Rt(+n);function h(g){var x,b,A,E=(g=xE(g)).length,S,N=!1,C,j=new Array(E),L=new Array(E);for(a==null&&(d=l(C=f())),x=0;x<=E;++x){if(!(x<E&&i(S=g[x],x,g))===N)if(N=!N)b=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),A=x-1;A>=b;--A)d.point(j[A],L[A]);d.lineEnd(),d.areaEnd()}N&&(j[x]=+t(S,x,g),L[x]=+e(S,x,g),d.point(r?+r(S,x,g):j[x],n?+n(S,x,g):L[x]))}if(C)return d=null,C+""||null}function p(){return S5().defined(i).curve(l).context(a)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Rt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Rt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Rt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Rt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Rt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Rt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Rt(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,a!=null&&(d=l(a)),h):l},h.context=function(g){return arguments.length?(g==null?a=d=null:d=l(a=g),h):a},h}class T5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function IZ(t){return new T5(t,!0)}function kZ(t){return new T5(t,!1)}const bE={draw(t,e){const n=Ea(e/hy);t.moveTo(n,0),t.arc(0,0,n,0,Rv)}},RZ={draw(t,e){const n=Ea(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},N5=Ea(1/3),DZ=N5*2,MZ={draw(t,e){const n=Ea(e/DZ),r=n*N5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},LZ={draw(t,e){const n=Ea(e),r=-n/2;t.rect(r,r,n,n)}},VZ=.8908130915292852,j5=fy(hy/10)/fy(7*hy/10),UZ=fy(Rv/10)*j5,BZ=-b5(Rv/10)*j5,zZ={draw(t,e){const n=Ea(e*VZ),r=UZ*n,i=BZ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const l=Rv*a/5,d=b5(l),f=fy(l);t.lineTo(f*n,-d*n),t.lineTo(d*r-f*i,f*r+d*i)}t.closePath()}},Qb=Ea(3),$Z={draw(t,e){const n=-Ea(e/(Qb*3));t.moveTo(0,n*2),t.lineTo(-Qb*n,-n),t.lineTo(Qb*n,-n),t.closePath()}},Di=-.5,Mi=Ea(3)/2,e2=1/Ea(12),FZ=(e2/2+1)*3,qZ={draw(t,e){const n=Ea(e/FZ),r=n/2,i=n*e2,a=r,l=n*e2+n,d=-a,f=l;t.moveTo(r,i),t.lineTo(a,l),t.lineTo(d,f),t.lineTo(Di*r-Mi*i,Mi*r+Di*i),t.lineTo(Di*a-Mi*l,Mi*a+Di*l),t.lineTo(Di*d-Mi*f,Mi*d+Di*f),t.lineTo(Di*r+Mi*i,Di*i-Mi*r),t.lineTo(Di*a+Mi*l,Di*l-Mi*a),t.lineTo(Di*d+Mi*f,Di*f-Mi*d),t.closePath()}};function HZ(t,e){let n=null,r=vE(i);t=typeof t=="function"?t:Rt(t||bE),e=typeof e=="function"?e:Rt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Rt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Rt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function my(){}function py(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function C5(t){this._context=t}C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:py(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:py(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KZ(t){return new C5(t)}function P5(t){this._context=t}P5.prototype={areaStart:my,areaEnd:my,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:py(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GZ(t){return new P5(t)}function O5(t){this._context=t}O5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:py(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WZ(t){return new O5(t)}function I5(t){this._context=t}I5.prototype={areaStart:my,areaEnd:my,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function YZ(t){return new I5(t)}function o4(t){return t<0?-1:1}function l4(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),d=(a*i+l*r)/(r+i);return(o4(a)+o4(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(d))||0}function c4(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Zb(t,e,n){var r=t._x0,i=t._y0,a=t._x1,l=t._y1,d=(a-r)/3;t._context.bezierCurveTo(r+d,i+d*e,a-d,l-d*n,a,l)}function gy(t){this._context=t}gy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zb(this,this._t0,c4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Zb(this,c4(this,n=l4(this,t,e)),n);break;default:Zb(this,this._t0,n=l4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function k5(t){this._context=new R5(t)}(k5.prototype=Object.create(gy.prototype)).point=function(t,e){gy.prototype.point.call(this,e,t)};function R5(t){this._context=t}R5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function XZ(t){return new gy(t)}function QZ(t){return new k5(t)}function D5(t){this._context=t}D5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=u4(t),i=u4(e),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function u4(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function ZZ(t){return new D5(t)}function Mv(t,e){this._context=t,this._t=e}Mv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function JZ(t){return new Mv(t,.5)}function eJ(t){return new Mv(t,0)}function tJ(t){return new Mv(t,1)}function ld(t,e){if((l=t.length)>1)for(var n=1,r,i,a=t[e[0]],l,d=a.length;n<l;++n)for(i=a,a=t[e[n]],r=0;r<d;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function t2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function nJ(t,e){return t[e]}function rJ(t){const e=[];return e.key=t,e}function iJ(){var t=Rt([]),e=t2,n=ld,r=nJ;function i(a){var l=Array.from(t.apply(this,arguments),rJ),d,f=l.length,h=-1,p;for(const g of a)for(d=0,++h;d<f;++d)(l[d][h]=[0,+r(g,l[d].key,h,a)]).data=g;for(d=0,p=xE(e(l));d<f;++d)l[p[d]].index=d;return n(l,p),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Rt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Rt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?t2:typeof a=="function"?a:Rt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??ld,i):n},i}function aJ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}ld(t,e)}}function sJ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var l=0,d=0;l<i;++l)d+=t[l][n][1]||0;r[n][1]+=r[n][0]=-d/2}ld(t,e)}}function oJ(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var d=0,f=0,h=0;d<l;++d){for(var p=t[e[d]],g=p[r][1]||0,x=p[r-1][1]||0,b=(g-x)/2,A=0;A<d;++A){var E=t[e[A]],S=E[r][1]||0,N=E[r-1][1]||0;b+=S-N}f+=g,h+=b*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,ld(t,e)}}var lJ=["type","size","sizeType"];function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n2.apply(null,arguments)}function d4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(n),!0).forEach(function(r){cJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cJ(t,e,n){return(e=uJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uJ(t){var e=dJ(t,"string");return typeof e=="symbol"?e:e+""}function dJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fJ(t,e){if(t==null)return{};var n,r,i=hJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var M5={symbolCircle:bE,symbolCross:RZ,symbolDiamond:MZ,symbolSquare:LZ,symbolStar:zZ,symbolTriangle:$Z,symbolWye:qZ},mJ=Math.PI/180,pJ=t=>{var e="symbol".concat(om(t));return M5[e]||bE},gJ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*mJ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},yJ=(t,e)=>{M5["symbol".concat(om(t))]=e},wE=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=fJ(t,lJ),a=f4(f4({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var d=()=>{var x=pJ(l),b=HZ().type(x).size(gJ(n,r,l));return b()},{className:f,cx:h,cy:p}=a,g=qt(a,!0);return h===+h&&p===+p&&n===+n?_.createElement("path",n2({},g,{className:ct("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};wE.registerSymbol=yJ;function r2(){return r2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r2.apply(null,arguments)}function h4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(n),!0).forEach(function(r){_E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _E(t,e,n){return(e=xJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xJ(t){var e=bJ(t,"string");return typeof e=="symbol"?e:e+""}function bJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Li=32;class EE extends _.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Li/2,a=Li/6,l=Li/3,d=e.inactive?r:e.color,f=n??e.type;if(f==="none")return null;if(f==="plainline")return _.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Li,y2:i,className:"recharts-legend-icon"});if(f==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Li,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return _.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Li/8,"h").concat(Li,"v").concat(Li*3/4,"h").concat(-Li,"z"),className:"recharts-legend-icon"});if(_.isValidElement(e.legendIcon)){var h=vJ({},e);return delete h.legendIcon,_.cloneElement(e.legendIcon,h)}return _.createElement(wE,{fill:d,cx:i,cy:i,size:Li,sizeType:"diameter",type:f})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=this.props,d={x:0,y:0,width:Li,height:Li},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,g)=>{var x=p.formatter||i,b=ct({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var A=p.inactive?a:p.color,E=x?x(p.value,p,g):p.value;return _.createElement("li",r2({className:b,style:f,key:"legend-item-".concat(g)},lm(this.props,p,g)),_.createElement(yE,{width:n,height:n,viewBox:d,style:h,"aria-label":"".concat(E," legend icon")},this.renderIcon(p,l)),_.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},E))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}_E(EE,"displayName","Legend");_E(EE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Jb={},ew={},m4;function wJ(){return m4||(m4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],d=r(l);i.has(d)||i.set(d,l)}return Array.from(i.values())}t.uniqBy=e})(ew)),ew}var tw={},p4;function L5(){return p4||(p4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(tw)),tw}var nw={},rw={},iw={},g4;function _J(){return g4||(g4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(iw)),iw}var y4;function AE(){return y4||(y4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_J();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(rw)),rw}var aw={},v4;function EJ(){return v4||(v4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(aw)),aw}var x4;function AJ(){return x4||(x4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AE(),n=EJ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(nw)),nw}var sw={},ow={},b4;function SJ(){return b4||(b4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(ow)),ow}var lw={},cw={},uw={},dw={},w4;function V5(){return w4||(w4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(dw)),dw}var fw={},_4;function U5(){return _4||(_4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(fw)),fw}var hw={},E4;function B5(){return E4||(E4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(hw)),hw}var A4;function TJ(){return A4||(A4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SE(),n=V5(),r=U5(),i=B5();function a(g,x,b){return typeof b!="function"?e.isMatch(g,x):l(g,x,function A(E,S,N,C,j,L){const V=b(E,S,N,C,j,L);return V!==void 0?!!V:l(E,S,A,L)},new Map)}function l(g,x,b,A){if(x===g)return!0;switch(typeof x){case"object":return d(g,x,b,A);case"function":return Object.keys(x).length>0?l(g,{...x},b,A):i.eq(g,x);default:return n.isObject(g)?typeof x=="string"?x==="":!0:i.eq(g,x)}}function d(g,x,b,A){if(x==null)return!0;if(Array.isArray(x))return h(g,x,b,A);if(x instanceof Map)return f(g,x,b,A);if(x instanceof Set)return p(g,x,b,A);const E=Object.keys(x);if(g==null)return E.length===0;if(E.length===0)return!0;if(A&&A.has(x))return A.get(x)===g;A&&A.set(x,g);try{for(let S=0;S<E.length;S++){const N=E[S];if(!r.isPrimitive(g)&&!(N in g)||x[N]===void 0&&g[N]!==void 0||x[N]===null&&g[N]!==null||!b(g[N],x[N],N,g,x,A))return!1}return!0}finally{A&&A.delete(x)}}function f(g,x,b,A){if(x.size===0)return!0;if(!(g instanceof Map))return!1;for(const[E,S]of x.entries()){const N=g.get(E);if(b(N,S,E,g,x,A)===!1)return!1}return!0}function h(g,x,b,A){if(x.length===0)return!0;if(!Array.isArray(g))return!1;const E=new Set;for(let S=0;S<x.length;S++){const N=x[S];let C=!1;for(let j=0;j<g.length;j++){if(E.has(j))continue;const L=g[j];let V=!1;if(b(L,N,S,g,x,A)&&(V=!0),V){E.add(j),C=!0;break}}if(!C)return!1}return!0}function p(g,x,b,A){return x.size===0?!0:g instanceof Set?h([...g],[...x],b,A):!1}t.isMatchWith=a,t.isSetMatch=p})(uw)),uw}var S4;function SE(){return S4||(S4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TJ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(cw)),cw}var mw={},pw={},gw={},T4;function NJ(){return T4||(T4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(gw)),gw}var yw={},N4;function z5(){return N4||(N4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(yw)),yw}var vw={},j4;function $5(){return j4||(j4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",x="[object ArrayBuffer]",b="[object Object]",A="[object Error]",E="[object DataView]",S="[object Uint8Array]",N="[object Uint8ClampedArray]",C="[object Uint16Array]",j="[object Uint32Array]",L="[object BigUint64Array]",V="[object Int8Array]",D="[object Int16Array]",k="[object Int32Array]",O="[object BigInt64Array]",R="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=x,t.arrayTag=p,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=L,t.booleanTag=i,t.dataViewTag=E,t.dateTag=d,t.errorTag=A,t.float32ArrayTag=R,t.float64ArrayTag=F,t.functionTag=g,t.int16ArrayTag=D,t.int32ArrayTag=k,t.int8ArrayTag=V,t.mapTag=f,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=C,t.uint32ArrayTag=j,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=N})(vw)),vw}var xw={},C4;function jJ(){return C4||(C4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(xw)),xw}var P4;function F5(){return P4||(P4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NJ(),n=z5(),r=$5(),i=U5(),a=jJ();function l(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,x,b=new Map,A=void 0){const E=A?.(p,g,x,b);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const S=new Array(p.length);b.set(p,S);for(let N=0;N<p.length;N++)S[N]=d(p[N],N,x,b,A);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;b.set(p,S);for(const[N,C]of p)S.set(N,d(C,N,x,b,A));return S}if(p instanceof Set){const S=new Set;b.set(p,S);for(const N of p)S.add(d(N,void 0,x,b,A));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(a.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,S);for(let N=0;N<p.length;N++)S[N]=d(p[N],N,x,b,A);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,S),f(S,p,x,b,A),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return b.set(p,S),f(S,p,x,b,A),S}if(p instanceof Blob){const S=new Blob([p],{type:p.type});return b.set(p,S),f(S,p,x,b,A),S}if(p instanceof Error){const S=new p.constructor;return b.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,f(S,p,x,b,A),S}if(typeof p=="object"&&h(p)){const S=Object.create(Object.getPrototypeOf(p));return b.set(p,S),f(S,p,x,b,A),S}return p}function f(p,g,x=p,b,A){const E=[...Object.keys(g),...e.getSymbols(g)];for(let S=0;S<E.length;S++){const N=E[S],C=Object.getOwnPropertyDescriptor(p,N);(C==null||C.writable)&&(p[N]=d(g[N],N,x,b,A))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=d,t.copyProperties=f})(pw)),pw}var O4;function CJ(){return O4||(O4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F5();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(mw)),mw}var I4;function PJ(){return I4||(I4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SE(),n=CJ();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(lw)),lw}var bw={},ww={},_w={},k4;function OJ(){return k4||(k4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F5(),n=$5();function r(i,a){return e.cloneDeepWith(i,(l,d,f,h)=>{const p=a?.(l,d,f,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(_w)),_w}var R4;function IJ(){return R4||(R4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OJ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(ww)),ww}var Ew={},Aw={},D4;function q5(){return D4||(D4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Aw)),Aw}var Sw={},M4;function kJ(){return M4||(M4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z5();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Sw)),Sw}var L4;function RJ(){return L4||(L4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h5(),n=q5(),r=kJ(),i=fE();function a(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&e.isDeepKey(d)&&l?.[d]==null?f=i.toPath(d):f=[d],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=a})(Ew)),Ew}var V4;function DJ(){return V4||(V4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SE(),n=m5(),r=IJ(),i=hE(),a=RJ();function l(d,f){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=i.get(h,d);return p===void 0?a.has(h,d):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=l})(bw)),bw}var U4;function MJ(){return U4||(U4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L5(),n=SJ(),r=PJ(),i=DJ();function a(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=a})(sw)),sw}var B4;function LJ(){return B4||(B4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wJ(),n=L5(),r=AJ(),i=MJ();function a(l,d=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(d)):[]}t.uniqBy=a})(Jb)),Jb}var Tw,z4;function VJ(){return z4||(z4=1,Tw=LJ().uniqBy),Tw}var UJ=VJ();const $4=ns(UJ);function H5(t,e,n){return e===!0?$4(t,n):typeof e=="function"?$4(t,e):t}var Nw={exports:{}},jw={},Cw={exports:{}},Pw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F4;function BJ(){if(F4)return Pw;F4=1;var t=yd();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function d(g,x){var b=x(),A=r({inst:{value:b,getSnapshot:x}}),E=A[0].inst,S=A[1];return a(function(){E.value=b,E.getSnapshot=x,f(E)&&S({inst:E})},[g,b,x]),i(function(){return f(E)&&S({inst:E}),g(function(){f(E)&&S({inst:E})})},[g]),l(b),b}function f(g){var x=g.getSnapshot;g=g.value;try{var b=x();return!n(g,b)}catch{return!0}}function h(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Pw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Pw}var q4;function zJ(){return q4||(q4=1,Cw.exports=BJ()),Cw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H4;function $J(){if(H4)return jw;H4=1;var t=yd(),e=zJ();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,d=t.useMemo,f=t.useDebugValue;return jw.useSyncExternalStoreWithSelector=function(h,p,g,x,b){var A=a(null);if(A.current===null){var E={hasValue:!1,value:null};A.current=E}else E=A.current;A=d(function(){function N(D){if(!C){if(C=!0,j=D,D=x(D),b!==void 0&&E.hasValue){var k=E.value;if(b(k,D))return L=k}return L=D}if(k=L,r(j,D))return k;var O=x(D);return b!==void 0&&b(k,O)?(j=D,k):(j=D,L=O)}var C=!1,j,L,V=g===void 0?null:g;return[function(){return N(p())},V===null?void 0:function(){return N(V())}]},[p,g,x,b]);var S=i(h,A[0],A[1]);return l(function(){E.hasValue=!0,E.value=S},[S]),f(S),S},jw}var K4;function FJ(){return K4||(K4=1,Nw.exports=$J()),Nw.exports}var qJ=FJ(),TE=_.createContext(null),HJ=t=>t,on=()=>{var t=_.useContext(TE);return t?t.store.dispatch:HJ},Cg=()=>{},KJ=()=>Cg,GJ=(t,e)=>t===e;function Ce(t){var e=_.useContext(TE);return qJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:KJ,e?e.store.getState:Cg,e?e.store.getState:Cg,e?t:Cg,GJ)}function WJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function YJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function XJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var G4=t=>Array.isArray(t)?t:[t];function QJ(t){const e=Array.isArray(t[0])?t[0]:t;return XJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function ZJ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var JJ=class{constructor(t){this.value=t}deref(){return this.value}},eee=typeof WeakRef<"u"?WeakRef:JJ,tee=0,W4=1;function eg(){return{s:tee,v:void 0,o:null,p:null}}function K5(t,e={}){let n=eg();const{resultEqualityCheck:r}=e;let i,a=0;function l(){let d=n;const{length:f}=arguments;for(let g=0,x=f;g<x;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let A=d.o;A===null&&(d.o=A=new WeakMap);const E=A.get(b);E===void 0?(d=eg(),A.set(b,d)):d=E}else{let A=d.p;A===null&&(d.p=A=new Map);const E=A.get(b);E===void 0?(d=eg(),A.set(b,d)):d=E}}const h=d;let p;if(d.s===W4)p=d.v;else if(p=t.apply(null,arguments),a++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,a!==0&&a--),i=typeof p=="object"&&p!==null||typeof p=="function"?new eee(p):p}return h.s=W4,h.v=p,p}return l.clearCache=()=>{n=eg(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function nee(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,l=0,d,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),WJ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:x=[],argsMemoize:b=K5,argsMemoizeOptions:A=[]}=p,E=G4(x),S=G4(A),N=QJ(i),C=g(function(){return a++,h.apply(null,arguments)},...E),j=b(function(){l++;const V=ZJ(N,arguments);return d=C.apply(null,V),d},...S);return Object.assign(j,{resultFunc:h,memoizedResultFunc:C,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var re=nee(K5),ree=Object.assign((t,e=re)=>{YJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((l,d,f)=>(l[n[f]]=d,l),{}))},{withTypes:()=>ree}),Ow={},Iw={},kw={},Y4;function iee(){return Y4||(Y4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=e(r),d=e(i);if(l===d&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?d-l:l-d}return 0};t.compareValues=n})(kw)),kw}var Rw={},Dw={},X4;function G5(){return X4||(X4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Dw)),Dw}var Q4;function aee(){return Q4||(Q4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}t.isKey=i})(Rw)),Rw}var Z4;function see(){return Z4||(Z4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iee(),n=aee(),r=fE();function i(a,l,d,f){if(a==null)return[];d=f?void 0:d,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(b=>String(b));const h=(b,A)=>{let E=b;for(let S=0;S<A.length&&E!=null;++S)E=E[A[S]];return E},p=(b,A)=>A==null||b==null?A:typeof b=="object"&&"key"in b?Object.hasOwn(A,b.key)?A[b.key]:h(A,b.path):typeof b=="function"?b(A):Array.isArray(b)?h(A,b):typeof A=="object"?A[b]:A,g=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:g.map(A=>p(A,b))})).slice().sort((b,A)=>{for(let E=0;E<g.length;E++){const S=e.compareValues(b.criteria[E],A.criteria[E],d[E]);if(S!==0)return S}return 0}).map(b=>b.original)}t.orderBy=i})(Iw)),Iw}var Mw={},J4;function oee(){return J4||(J4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),l=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<a?l(p,f+1):i.push(p)}};return l(n,0),i}t.flatten=e})(Mw)),Mw}var Lw={},eO;function W5(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q5(),n=AE(),r=V5(),i=B5();function a(l,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&e.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?i.eq(f[d],l):!1}t.isIterateeCall=a})(Lw)),Lw}var tO;function lee(){return tO||(tO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=see(),n=oee(),r=W5();function i(a,...l){const d=l.length;return d>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:d>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(a,n.flatten(l),["asc"])}t.sortBy=i})(Ow)),Ow}var Vw,nO;function cee(){return nO||(nO=1,Vw=lee().sortBy),Vw}var uee=cee();const Lv=ns(uee);var Y5=t=>t.legend.settings,dee=t=>t.legend.size,fee=t=>t.legend.payload,hee=re([fee,Y5],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Lv(r,n):r});function mee(){return Ce(hee)}var tg=1;function X5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-e.height)>tg||Math.abs(l.left-e.left)>tg||Math.abs(l.top-e.top)>tg||Math.abs(l.width-e.width)>tg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function sr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pee=typeof Symbol=="function"&&Symbol.observable||"@@observable",rO=pee,Uw=()=>Math.random().toString(36).substring(7).split("").join("."),gee={INIT:`@@redux/INIT${Uw()}`,REPLACE:`@@redux/REPLACE${Uw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Uw()}`},yy=gee;function NE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Q5(t,e,n){if(typeof t!="function")throw new Error(sr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(sr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(sr(1));return n(Q5)(t,e)}let r=t,i=e,a=new Map,l=a,d=0,f=!1;function h(){l===a&&(l=new Map,a.forEach((S,N)=>{l.set(N,S)}))}function p(){if(f)throw new Error(sr(3));return i}function g(S){if(typeof S!="function")throw new Error(sr(4));if(f)throw new Error(sr(5));let N=!0;h();const C=d++;return l.set(C,S),function(){if(N){if(f)throw new Error(sr(6));N=!1,h(),l.delete(C),a=null}}}function x(S){if(!NE(S))throw new Error(sr(7));if(typeof S.type>"u")throw new Error(sr(8));if(typeof S.type!="string")throw new Error(sr(17));if(f)throw new Error(sr(9));try{f=!0,i=r(i,S)}finally{f=!1}return(a=l).forEach(C=>{C()}),S}function b(S){if(typeof S!="function")throw new Error(sr(10));r=S,x({type:yy.REPLACE})}function A(){const S=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(sr(11));function C(){const L=N;L.next&&L.next(p())}return C(),{unsubscribe:S(C)}},[rO](){return this}}}return x({type:yy.INIT}),{dispatch:x,subscribe:g,getState:p,replaceReducer:b,[rO]:A}}function yee(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:yy.INIT})>"u")throw new Error(sr(12));if(typeof n(void 0,{type:yy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sr(13))})}function Z5(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{yee(n)}catch(a){i=a}return function(l={},d){if(i)throw i;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],x=n[g],b=l[g],A=x(b,d);if(typeof A>"u")throw d&&d.type,new Error(sr(14));h[g]=A,f=f||A!==b}return f=f||r.length!==Object.keys(l).length,f?h:l}}function vy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function vee(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(sr(15))};const l={getState:i.getState,dispatch:(f,...h)=>a(f,...h)},d=t.map(f=>f(l));return a=vy(...d)(i.dispatch),{...i,dispatch:a}}}function J5(t){return NE(t)&&"type"in t&&typeof t.type=="string"}var eM=Symbol.for("immer-nothing"),iO=Symbol.for("immer-draftable"),pi=Symbol.for("immer-state");function da(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var cd=Object.getPrototypeOf;function Cc(t){return!!t&&!!t[pi]}function Zs(t){return t?tM(t)||Array.isArray(t)||!!t[iO]||!!t.constructor?.[iO]||cm(t)||Uv(t):!1}var xee=Object.prototype.constructor.toString();function tM(t){if(!t||typeof t!="object")return!1;const e=cd(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===xee}function xy(t,e){Vv(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Vv(t){const e=t[pi];return e?e.type_:Array.isArray(t)?1:cm(t)?2:Uv(t)?3:0}function i2(t,e){return Vv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function nM(t,e,n){const r=Vv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function bee(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function cm(t){return t instanceof Map}function Uv(t){return t instanceof Set}function oc(t){return t.copy_||t.base_}function a2(t,e){if(cm(t))return new Map(t);if(Uv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=tM(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[pi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],d=r[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[l]})}return Object.create(cd(t),r)}else{const r=cd(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function jE(t,e=!1){return Bv(t)||Cc(t)||!Zs(t)||(Vv(t)>1&&Object.defineProperties(t,{set:{value:ng},add:{value:ng},clear:{value:ng},delete:{value:ng}}),Object.freeze(t),e&&Object.values(t).forEach(n=>jE(n,!0))),t}function ng(){da(2)}function Bv(t){return Object.isFrozen(t)}var wee={};function Pc(t){const e=wee[t];return e||da(0,t),e}var Ph;function rM(){return Ph}function _ee(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function aO(t,e){e&&(Pc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function s2(t){o2(t),t.drafts_.forEach(Eee),t.drafts_=null}function o2(t){t===Ph&&(Ph=t.parent_)}function sO(t){return Ph=_ee(Ph,t)}function Eee(t){const e=t[pi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function oO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[pi].modified_&&(s2(e),da(4)),Zs(t)&&(t=by(e,t),e.parent_||wy(e,t)),e.patches_&&Pc("Patches").generateReplacementPatches_(n[pi].base_,t,e.patches_,e.inversePatches_)):t=by(e,n,[]),s2(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==eM?t:void 0}function by(t,e,n){if(Bv(e))return e;const r=e[pi];if(!r)return xy(e,(i,a)=>lO(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return wy(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,l=!1;r.type_===3&&(a=new Set(i),i.clear(),l=!0),xy(a,(d,f)=>lO(t,r,i,d,f,n,l)),wy(t,i,!1),n&&t.patches_&&Pc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function lO(t,e,n,r,i,a,l){if(Cc(i)){const d=a&&e&&e.type_!==3&&!i2(e.assigned_,r)?a.concat(r):void 0,f=by(t,i,d);if(nM(n,r,f),Cc(f))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Zs(i)&&!Bv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;by(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(cm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&wy(t,i)}}function wy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&jE(e,n)}function Aee(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:rM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=CE;n&&(i=[r],a=Oh);const{revoke:l,proxy:d}=Proxy.revocable(i,a);return r.draft_=d,r.revoke_=l,d}var CE={get(t,e){if(e===pi)return t;const n=oc(t);if(!i2(n,e))return See(t,n,e);const r=n[e];return t.finalized_||!Zs(r)?r:r===Bw(t.base_,e)?(zw(t),t.copy_[e]=c2(r,t)):r},has(t,e){return e in oc(t)},ownKeys(t){return Reflect.ownKeys(oc(t))},set(t,e,n){const r=iM(oc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Bw(oc(t),e),a=i?.[pi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(bee(n,i)&&(n!==void 0||i2(t.base_,e)))return!0;zw(t),l2(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Bw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,zw(t),l2(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=oc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){da(11)},getPrototypeOf(t){return cd(t.base_)},setPrototypeOf(){da(12)}},Oh={};xy(CE,(t,e)=>{Oh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Oh.deleteProperty=function(t,e){return Oh.set.call(this,t,e,void 0)};Oh.set=function(t,e,n){return CE.set.call(this,t[0],e,n,t[0])};function Bw(t,e){const n=t[pi];return(n?oc(n):t)[e]}function See(t,e,n){const r=iM(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function iM(t,e){if(!(e in t))return;let n=cd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=cd(n)}}function l2(t){t.modified_||(t.modified_=!0,t.parent_&&l2(t.parent_))}function zw(t){t.copy_||(t.copy_=a2(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Tee=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const l=this;return function(f=a,...h){return l.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&da(6),r!==void 0&&typeof r!="function"&&da(7);let i;if(Zs(e)){const a=sO(this),l=c2(e,void 0);let d=!0;try{i=n(l),d=!1}finally{d?s2(a):o2(a)}return aO(a,r),oO(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===eM&&(i=void 0),this.autoFreeze_&&jE(i,!0),r){const a=[],l=[];Pc("Patches").generateReplacementPatches_(e,i,a,l),r(a,l)}return i}else da(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...d)=>this.produceWithPatches(l,f=>e(f,...d));let r,i;return[this.produce(e,n,(l,d)=>{r=l,i=d}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Zs(t)||da(8),Cc(t)&&(t=$s(t));const e=sO(this),n=c2(t,void 0);return n[pi].isManual_=!0,o2(e),n}finishDraft(t,e){const n=t&&t[pi];(!n||!n.isManual_)&&da(9);const{scope_:r}=n;return aO(r,e),oO(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Pc("Patches").applyPatches_;return Cc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function c2(t,e){const n=cm(t)?Pc("MapSet").proxyMap_(t,e):Uv(t)?Pc("MapSet").proxySet_(t,e):Aee(t,e);return(e?e.scope_:rM()).drafts_.push(n),n}function $s(t){return Cc(t)||da(10,t),aM(t)}function aM(t){if(!Zs(t)||Bv(t))return t;const e=t[pi];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=a2(t,e.scope_.immer_.useStrictShallowCopy_)}else n=a2(t,!0);return xy(n,(r,i)=>{nM(n,r,aM(i))}),e&&(e.finalized_=!1),n}var Nee=new Tee,sM=Nee.produce;function oM(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var jee=oM(),Cee=oM,Pee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vy:vy.apply(null,arguments)};function Ki(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(hi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>J5(r)&&r.type===t,n}var lM=class ch extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ch.prototype)}static get[Symbol.species](){return ch}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ch(...e[0].concat(this)):new ch(...e.concat(this))}};function cO(t){return Zs(t)?sM(t,()=>{}):t}function rg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Oee(t){return typeof t=="boolean"}var Iee=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new lM;return n&&(Oee(n)?l.push(jee):l.push(Cee(n.extraArgument))),l},kee="RTK_autoBatch",uO=t=>e=>{setTimeout(e,t)},Ree=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,l=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:uO(10):t.type==="callback"?t.queueNotification:uO(t.timeout),h=()=>{l=!1,a&&(a=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),x=r.subscribe(g);return d.add(p),()=>{x(),d.delete(p)}},dispatch(p){try{return i=!p?.meta?.[kee],a=!i,a&&(l||(l=!0,f(h))),r.dispatch(p)}finally{i=!0}}})},Dee=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new lM(t);return r&&i.push(Ree(typeof r=="object"?r:void 0)),i};function Mee(t){const e=Iee(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(NE(n))d=Z5(n);else throw new Error(hi(1));let f;typeof r=="function"?f=r(e):f=e();let h=vy;i&&(h=Pee({trace:!1,...typeof i=="object"&&i}));const p=vee(...f),g=Dee(p);let x=typeof l=="function"?l(g):g();const b=h(...x);return Q5(d,a,b)}function cM(t){const e={},n=[];let r;const i={addCase(a,l){const d=typeof a=="string"?a:a.type;if(!d)throw new Error(hi(28));if(d in e)throw new Error(hi(29));return e[d]=l,i},addAsyncThunk(a,l){return l.pending&&(e[a.pending.type]=l.pending),l.rejected&&(e[a.rejected.type]=l.rejected),l.fulfilled&&(e[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Lee(t){return typeof t=="function"}function Vee(t,e){let[n,r,i]=cM(e),a;if(Lee(t))a=()=>cO(t());else{const d=cO(t);a=()=>d}function l(d=a(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(Cc(p)){const b=g(p,f);return b===void 0?p:b}else{if(Zs(p))return sM(p,x=>g(x,f));{const x=g(p,f);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},d)}return l.getInitialState=a,l}var Uee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Bee=(t=21)=>{let e="",n=t;for(;n--;)e+=Uee[Math.random()*64|0];return e},zee=Symbol.for("rtk-slice-createasyncthunk");function $ee(t,e){return`${t}/${e}`}function Fee({creators:t}={}){const e=t?.asyncThunk?.[zee];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(hi(11));const l=(typeof r.reducers=="function"?r.reducers(Hee()):r.reducers)||{},d=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(j,L){const V=typeof j=="string"?j:j.type;if(!V)throw new Error(hi(12));if(V in f.sliceCaseReducersByType)throw new Error(hi(13));return f.sliceCaseReducersByType[V]=L,h},addMatcher(j,L){return f.sliceMatchers.push({matcher:j,reducer:L}),h},exposeAction(j,L){return f.actionCreators[j]=L,h},exposeCaseReducer(j,L){return f.sliceCaseReducersByName[j]=L,h}};d.forEach(j=>{const L=l[j],V={reducerName:j,type:$ee(i,j),createNotation:typeof r.reducers=="function"};Gee(L)?Yee(V,L,h,e):Kee(V,L,h)});function p(){const[j={},L=[],V=void 0]=typeof r.extraReducers=="function"?cM(r.extraReducers):[r.extraReducers],D={...j,...f.sliceCaseReducersByType};return Vee(r.initialState,k=>{for(let O in D)k.addCase(O,D[O]);for(let O of f.sliceMatchers)k.addMatcher(O.matcher,O.reducer);for(let O of L)k.addMatcher(O.matcher,O.reducer);V&&k.addDefaultCase(V)})}const g=j=>j,x=new Map,b=new WeakMap;let A;function E(j,L){return A||(A=p()),A(j,L)}function S(){return A||(A=p()),A.getInitialState()}function N(j,L=!1){function V(k){let O=k[j];return typeof O>"u"&&L&&(O=rg(b,V,S)),O}function D(k=g){const O=rg(x,L,()=>new WeakMap);return rg(O,k,()=>{const R={};for(const[F,B]of Object.entries(r.selectors??{}))R[F]=qee(B,k,()=>rg(b,k,S),L);return R})}return{reducerPath:j,getSelectors:D,get selectors(){return D(V)},selectSlice:V}}const C={name:i,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:S,...N(a),injectInto(j,{reducerPath:L,...V}={}){const D=L??a;return j.inject({reducerPath:D,reducer:E},V),{...C,...N(D,!0)}}};return C}}function qee(t,e,n,r){function i(a,...l){let d=e(a);return typeof d>"u"&&r&&(d=n()),t(d,...l)}return i.unwrapped=t,i}var vi=Fee();function Hee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Kee({type:t,reducerName:e,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!Wee(r))throw new Error(hi(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?Ki(t,l):Ki(t))}function Gee(t){return t._reducerDefinitionType==="asyncThunk"}function Wee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Yee({type:t,reducerName:e},n,r,i){if(!i)throw new Error(hi(18));const{payloadCreator:a,fulfilled:l,pending:d,rejected:f,settled:h,options:p}=n,g=i(t,a,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:l||ig,pending:d||ig,rejected:f||ig,settled:h||ig})}function ig(){}var Xee="task",uM="listener",dM="completed",PE="cancelled",Qee=`task-${PE}`,Zee=`task-${dM}`,u2=`${uM}-${PE}`,Jee=`${uM}-${dM}`,zv=class{constructor(t){this.code=t,this.message=`${Xee} ${PE} (reason: ${t})`}name="TaskAbortError";message},OE=(t,e)=>{if(typeof t!="function")throw new TypeError(hi(32))},_y=()=>{},fM=(t,e=_y)=>(t.catch(e),t),hM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),vc=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},xc=t=>{if(t.aborted){const{reason:e}=t;throw new zv(e)}};function mM(t,e){let n=_y;return new Promise((r,i)=>{const a=()=>i(new zv(t.reason));if(t.aborted){a();return}n=hM(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=_y})}var ete=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof zv?"cancelled":"rejected",error:n}}finally{e?.()}},Ey=t=>e=>fM(mM(t,e).then(n=>(xc(t),n))),pM=t=>{const e=Ey(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Wu}=Object,dO={},$v="listenerMiddleware",tte=(t,e)=>{const n=r=>hM(t,()=>vc(r,t.reason));return(r,i)=>{OE(r);const a=new AbortController;n(a);const l=ete(async()=>{xc(t),xc(a.signal);const d=await r({pause:Ey(a.signal),delay:pM(a.signal),signal:a.signal});return xc(a.signal),d},()=>vc(a,Zee));return i?.autoJoin&&e.push(l.catch(_y)),{result:Ey(t)(l),cancel(){vc(a,Qee)}}}},nte=(t,e)=>{const n=async(r,i)=>{xc(e);let a=()=>{};const d=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,x)=>{x.unsubscribe(),f([g,x.getState(),x.getOriginalState()])}});a=()=>{p(),h()}})];i!=null&&d.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await mM(e,Promise.race(d));return xc(e),f}finally{a()}};return(r,i)=>fM(n(r,i))},gM=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Ki(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(hi(21));return OE(a),{predicate:i,type:e,effect:a}},yM=Wu(t=>{const{type:e,predicate:n,effect:r}=gM(t);return{id:Bee(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(hi(22))}}},{withTypes:()=>yM}),fO=(t,e)=>{const{type:n,effect:r,predicate:i}=gM(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},d2=t=>{t.pending.forEach(e=>{vc(e,u2)})},rte=t=>()=>{t.forEach(d2),t.clear()},hO=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},vM=Wu(Ki(`${$v}/add`),{withTypes:()=>vM}),ite=Ki(`${$v}/removeAll`),xM=Wu(Ki(`${$v}/remove`),{withTypes:()=>xM}),ate=(...t)=>{console.error(`${$v}/error`,...t)},um=(t={})=>{const e=new Map,{extra:n,onError:r=ate}=t;OE(r);const i=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),g=>{p.unsubscribe(),g?.cancelActive&&d2(p)}),a=p=>{const g=fO(e,p)??yM(p);return i(g)};Wu(a,{withTypes:()=>a});const l=p=>{const g=fO(e,p);return g&&(g.unsubscribe(),p.cancelActive&&d2(g)),!!g};Wu(l,{withTypes:()=>l});const d=async(p,g,x,b)=>{const A=new AbortController,E=nte(a,A.signal),S=[];try{p.pending.add(A),await Promise.resolve(p.effect(g,Wu({},x,{getOriginalState:b,condition:(N,C)=>E(N,C).then(Boolean),take:E,delay:pM(A.signal),pause:Ey(A.signal),extra:n,signal:A.signal,fork:tte(A.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((N,C,j)=>{N!==A&&(vc(N,u2),j.delete(N))})},cancel:()=>{vc(A,u2),p.pending.delete(A)},throwIfCancelled:()=>{xc(A.signal)}})))}catch(N){N instanceof zv||hO(r,N,{raisedBy:"effect"})}finally{await Promise.all(S),vc(A,Jee),p.pending.delete(A)}},f=rte(e);return{middleware:p=>g=>x=>{if(!J5(x))return g(x);if(vM.match(x))return a(x.payload);if(ite.match(x)){f();return}if(xM.match(x))return l(x.payload);let b=p.getState();const A=()=>{if(b===dO)throw new Error(hi(23));return b};let E;try{if(E=g(x),e.size>0){const S=p.getState(),N=Array.from(e.values());for(const C of N){let j=!1;try{j=C.predicate(x,S,b)}catch(L){j=!1,hO(r,L,{raisedBy:"predicate"})}j&&d(C,x,p,A)}}}finally{b=dO}return E},startListening:a,stopListening:l,clearListeners:f}};function hi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ste={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},bM=vi({name:"chartLayout",initialState:ste,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:ote,setLayout:lte,setChartSize:cte,setScale:ute}=bM.actions,dte=bM.reducer;function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fte(t,e,n){return(e=hte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hte(t){var e=mte(t,"string");return typeof e=="symbol"?e:e+""}function mte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ay=Math.PI/180,pte=t=>t*180/Math.PI,kn=(t,e,n,r)=>({x:t+Math.cos(-Ay*r)*n,y:e+Math.sin(-Ay*r)*n}),wM=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},gte=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},yte=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,l=gte({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var d=(n-i)/l,f=Math.acos(d);return r>a&&(f=2*Math.PI-f),{radius:l,angle:pte(f),angleInRadian:f}},vte=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},xte=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return t+l*360},bte=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=yte({x:n,y:r},e),{innerRadius:l,outerRadius:d}=e;if(i<l||i>d||i===0)return null;var{startAngle:f,endAngle:h}=vte(e),p=a,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?pO(pO({},e),{},{radius:i,angle:xte(p,e)}):null};function _M(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){wte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wte(t,e,n){return(e=_te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _te(t){var e=Ete(t,"string");return typeof e=="symbol"?e:e+""}function Ete(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jt(t,e,n){return Ft(t)||Ft(e)?n:Za(e)?jc(t,e,n):typeof e=="function"?e(t):n}var Ate=(t,e,n,r,i)=>{var a,l=-1,d=(a=e?.length)!==null&&a!==void 0?a:0;if(d<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<d;f++){var h=f>0?n[f-1].coordinate:n[d-1].coordinate,p=n[f].coordinate,g=f>=d-1?n[0].coordinate:n[f+1].coordinate,x=void 0;if(Zn(p-h)!==Zn(g-p)){var b=[];if(Zn(g-p)===Zn(i[1]-i[0])){x=g;var A=p+i[1]-i[0];b[0]=Math.min(A,(A+h)/2),b[1]=Math.max(A,(A+h)/2)}else{x=h;var E=g+i[1]-i[0];b[0]=Math.min(p,(E+p)/2),b[1]=Math.max(p,(E+p)/2)}var S=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(t>S[0]&&t<=S[1]||t>=b[0]&&t<=b[1]){({index:l}=n[f]);break}}else{var N=Math.min(h,g),C=Math.max(h,g);if(t>(N+p)/2&&t<=(C+p)/2){({index:l}=n[f]);break}}}else if(e){for(var j=0;j<d;j++)if(j===0&&t<=(e[j].coordinate+e[j+1].coordinate)/2||j>0&&j<d-1&&t>(e[j].coordinate+e[j-1].coordinate)/2&&t<=(e[j].coordinate+e[j+1].coordinate)/2||j===d-1&&t>(e[j].coordinate+e[j-1].coordinate)/2){({index:l}=e[j]);break}}return l},Ste=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:d}=e;if((d==="vertical"||d==="horizontal"&&l==="middle")&&a!=="center"&&Pe(t[a]))return Ui(Ui({},t),{},{[a]:t[a]+(r||0)});if((d==="horizontal"||d==="vertical"&&a==="center")&&l!=="middle"&&Pe(t[l]))return Ui(Ui({},t),{},{[l]:t[l]+(i||0)})}return t},ss=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",EM=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var i,a,l=t.map(d=>(d.coordinate===e&&(i=!0),d.coordinate===n&&(a=!0),d.coordinate));return i||l.push(e),a||l.push(n),l},AM=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:x,axisType:b}=t;if(!l)return null;var A=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/A:0;if(E=b==="angleAxis"&&a&&a.length>=2?Zn(a[0]-a[1])*2*E:E,g||x){var S=(g||x||[]).map((N,C)=>{var j=r?r.indexOf(N):N;return{coordinate:l(j)+E,value:N,offset:E,index:C}});return S.filter(N=>!Xr(N.coordinate))}return f&&h?h.map((N,C)=>({coordinate:l(N)+E,value:N,index:C,offset:E})):l.ticks&&p!=null?l.ticks(p).map((N,C)=>({coordinate:l(N)+E,value:N,offset:E,index:C})):l.domain().map((N,C)=>({coordinate:l(N)+E,value:r?r[N]:N,index:C,offset:E}))},yO=1e-4,Tte=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-yO,a=Math.max(r[0],r[1])+yO,l=t(e[0]),d=t(e[n-1]);(l<i||l>a||d<i||d>a)&&t.domain([e[0],e[n-1]])}},Nte=(t,e)=>{if(!e||e.length!==2||!Pe(e[0])||!Pe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Pe(t[0])||t[0]<n)&&(i[0]=n),(!Pe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},jte=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,l=0;l<e;++l){var d=Xr(t[l][n][1])?t[l][n][0]:t[l][n][1];d>=0?(t[l][n][0]=i,t[l][n][1]=i+d,i=t[l][n][1]):(t[l][n][0]=a,t[l][n][1]=a+d,a=t[l][n][1])}},Cte=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var l=Xr(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},Pte={sign:jte,expand:aJ,none:ld,silhouette:sJ,wiggle:oJ,positive:Cte},Ote=(t,e,n)=>{var r=Pte[n],i=iJ().keys(e).value((a,l)=>+jt(a,l,0)).order(t2).offset(r);return i(t)};function SM(t){return t==null?void 0:String(t)}function Sy(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ft(i[e.dataKey])){var d=g5(n,"value",i[e.dataKey]);if(d)return d.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var f=jt(i,Ft(l)?e.dataKey:l);return Ft(f)?null:e.scale(f)}var vO=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var d=jt(a,e.dataKey,e.scale.domain()[l]);return Ft(d)?null:e.scale(d)-i/2+r},Ite=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},kte=t=>{var e=t.flat(2).filter(Pe);return[Math.min(...e),Math.max(...e)]},Rte=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Dte=(t,e,n)=>{if(t!=null)return Rte(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:l}=a,d=l.reduce((f,h)=>{var p=_M(h,e,n),g=kte(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},xO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Oc=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Lv(e,p=>p.coordinate),a=1/0,l=1,d=i.length;l<d;l++){var f=i[l],h=i[l-1];a=Math.min((f.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function wO(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Ui(Ui({},e),{},{dataKey:n,payload:r,value:i,name:a})}function _l(t,e){if(t)return String(t);if(typeof e=="string")return e}function Mte(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?bte({x:t,y:e},r):null}var Lte=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:l}=r;return Ui(Ui(Ui({},r),kn(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var d=i.coordinate,{angle:f}=r;return Ui(Ui(Ui({},r),kn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{x:0,y:0}},Vte=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,ao=t=>t.layout.width,so=t=>t.layout.height,Ute=t=>t.layout.scale,TM=t=>t.layout.margin,Fv=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),qv=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),NM="data-recharts-item-index",jM="data-recharts-item-data-key",dm=60;function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){Bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bte(t,e,n){return(e=zte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zte(t){var e=$te(t,"string");return typeof e=="symbol"?e:e+""}function $te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fte=t=>t.brush.height;function qte(t){var e=qv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:dm;return n+i}return n},0)}function Hte(t){var e=qv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:dm;return n+i}return n},0)}function Kte(t){var e=Fv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Gte(t){var e=Fv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var zn=re([ao,so,TM,Fte,qte,Hte,Kte,Gte,Y5,dee],(t,e,n,r,i,a,l,d,f,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+a},g={top:(n.top||0)+l,bottom:(n.bottom||0)+d},x=ag(ag({},g),p),b=x.bottom;x.bottom+=r,x=Ste(x,f,h);var A=t-x.left-x.right,E=e-x.top-x.bottom;return ag(ag({brushBottom:b},x),{},{width:Math.max(A,0),height:Math.max(E,0)})}),Wte=re(zn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),IE=re(ao,so,(t,e)=>({x:0,y:0,width:t,height:e})),Yte=_.createContext(null),Sr=()=>_.useContext(Yte)!=null,Hv=t=>t.brush,Kv=re([Hv,zn,TM],(t,e,n)=>({height:t.height,x:Pe(t.x)?t.x:e.left,y:Pe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Pe(t.width)?t.width:e.width})),kE=()=>{var t,e=Sr(),n=Ce(Wte),r=Ce(Kv),i=(t=Ce(Hv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Xte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},CM=()=>{var t;return(t=Ce(zn))!==null&&t!==void 0?t:Xte},RE=()=>Ce(ao),DE=()=>Ce(so),Qte=()=>Ce(t=>t.layout.margin),tt=t=>t.layout.layoutType,fm=()=>Ce(tt),Zte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},PM=vi({name:"legend",initialState:Zte,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=$s(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:EO,setLegendSettings:Jte,addLegendPayload:OM,removeLegendPayload:IM}=PM.actions,ene=PM.reducer,tne=["contextPayload"];function f2(){return f2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f2.apply(null,arguments)}function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(r){ME(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ME(t,e,n){return(e=nne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nne(t){var e=rne(t,"string");return typeof e=="symbol"?e:e+""}function rne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ine(t,e){if(t==null)return{};var n,r,i=ane(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ane(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sne(t){return t.value}function one(t){var{contextPayload:e}=t,n=ine(t,tne),r=H5(e,t.payloadUniqBy,sne),i=ud(ud({},n),{},{payload:r});return _.isValidElement(t.content)?_.cloneElement(t.content,i):typeof t.content=="function"?_.createElement(t.content,i):_.createElement(EE,i)}function lne(t,e,n,r,i,a){var{layout:l,align:d,verticalAlign:f}=e,h,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(d==="center"&&l==="vertical"?h={left:((r||0)-a.width)/2}:h=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?p={top:((i||0)-a.height)/2}:p=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ud(ud({},h),p)}function cne(t){var e=on();return _.useEffect(()=>{e(Jte(t))},[e,t]),null}function une(t){var e=on();return _.useEffect(()=>(e(EO(t)),()=>{e(EO({width:0,height:0}))}),[e,t]),null}function dne(t){var e=mee(),n=jZ(),r=Qte(),{width:i,height:a,wrapperStyle:l,portal:d}=t,[f,h]=X5([e]),p=RE(),g=DE();if(p==null||g==null)return null;var x=p-(r.left||0)-(r.right||0),b=El.getWidthOrHeight(t.layout,a,i,x),A=d?l:ud(ud({position:"absolute",width:b?.width||i||"auto",height:b?.height||a||"auto"},lne(l,t,r,p,g,f)),l),E=d??n;if(E==null)return null;var S=_.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:h},_.createElement(cne,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),_.createElement(une,{width:f.width,height:f.height}),_.createElement(one,f2({},t,b,{margin:r,chartWidth:p,chartHeight:g,contextPayload:e})));return bR.createPortal(S,E)}class El extends _.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Pe(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return _.createElement(dne,this.props)}}ME(El,"displayName","Legend");ME(El,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function h2(){return h2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h2.apply(null,arguments)}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fne(t,e,n){return(e=hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hne(t){var e=mne(t,"string");return typeof e=="symbol"?e:e+""}function mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pne(t){return Array.isArray(t)&&Za(t[0])&&Za(t[1])?t.join(" ~ "):t}var gne=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:x=!1}=t,b=()=>{if(a&&a.length){var V={padding:0,margin:0},D=(d?Lv(a,d):a).map((k,O)=>{if(k.type==="none")return null;var R=k.formatter||l||pne,{value:F,name:B}=k,q=F,U=B;if(R){var ve=R(F,B,k,O,a);if(Array.isArray(ve))[q,U]=ve;else if(ve!=null)q=ve;else return null}var le=$w({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:le},Za(U)?_.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Za(U)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},q),_.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:V},D)}return null},A=$w({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=$w({margin:0},i),S=!Ft(p),N=S?p:"",C=ct("recharts-default-tooltip",f),j=ct("recharts-tooltip-label",h);S&&g&&a!==void 0&&a!==null&&(N=g(p,a));var L=x?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",h2({className:C,style:A},L),_.createElement("p",{className:j,style:E},_.isValidElement(N)?N:"".concat(N)),b())},Yf="recharts-tooltip-wrapper",yne={visibility:"hidden"};function vne(t){var{coordinate:e,translateX:n,translateY:r}=t;return ct(Yf,{["".concat(Yf,"-right")]:Pe(n)&&e&&Pe(e.x)&&n>=e.x,["".concat(Yf,"-left")]:Pe(n)&&e&&Pe(e.x)&&n<e.x,["".concat(Yf,"-bottom")]:Pe(r)&&e&&Pe(e.y)&&r>=e.y,["".concat(Yf,"-top")]:Pe(r)&&e&&Pe(e.y)&&r<e.y})}function TO(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=t;if(a&&Pe(a[r]))return a[r];var p=n[r]-d-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?p:g;var x=f[r];if(x==null)return 0;if(l[r]){var b=p,A=x;return b<A?Math.max(g,x):Math.max(p,x)}if(h==null)return 0;var E=g+d,S=x+h;return E>S?Math.max(p,x):Math.max(g,x)}function xne(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function bne(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:d,viewBox:f}=t,h,p,g;return l.height>0&&l.width>0&&n?(p=TO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=TO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=xne({translateX:p,translateY:g,useTranslate3d:d})):h=yne,{cssProperties:h,cssClasses:vne({translateX:p,translateY:g,coordinate:n})}}function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){m2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m2(t,e,n){return(e=wne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wne(t){var e=_ne(t,"string");return typeof e=="symbol"?e:e+""}function _ne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ene extends _.PureComponent{constructor(){super(...arguments),m2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),m2(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:x,viewBox:b,wrapperStyle:A,lastBoundingBox:E,innerRef:S,hasPortalFromProps:N}=this.props,{cssClasses:C,cssProperties:j}=bne({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:x,viewBox:b}),L=N?{}:sg(sg({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),V=sg(sg({},L),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},A);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:V,ref:S},a)}}var Ane=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),oo={devToolsEnabled:!1,isSsr:Ane()},kM=()=>Ce(t=>t.rootProps.accessibilityLayer);function dr(t){return Number.isFinite(t)}function dd(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function p2(){return p2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p2.apply(null,arguments)}function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){Sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sne(t,e,n){return(e=Tne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tne(t){var e=Nne(t,"string");return typeof e=="symbol"?e:e+""}function Nne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PO={curveBasisClosed:GZ,curveBasisOpen:WZ,curveBasis:KZ,curveBumpX:IZ,curveBumpY:kZ,curveLinearClosed:YZ,curveLinear:Dv,curveMonotoneX:XZ,curveMonotoneY:QZ,curveNatural:ZZ,curveStep:JZ,curveStepAfter:tJ,curveStepBefore:eJ},og=t=>dr(t.x)&&dr(t.y),Xf=t=>t.x,Qf=t=>t.y,jne=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(om(t));return(n==="curveMonotone"||n==="curveBump")&&e?PO["".concat(n).concat(e==="vertical"?"Y":"X")]:PO[n]||Dv},Cne=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,l=jne(e,i),d=a?n.filter(og):n,f;if(Array.isArray(r)){var h=a?r.filter(g=>og(g)):r,p=d.map((g,x)=>CO(CO({},g),{},{base:h[x]}));return i==="vertical"?f=Jp().y(Qf).x1(Xf).x0(g=>g.base.x):f=Jp().x(Xf).y1(Qf).y0(g=>g.base.y),f.defined(og).curve(l),f(p)}return i==="vertical"&&Pe(r)?f=Jp().y(Qf).x1(Xf).x0(r):Pe(r)?f=Jp().x(Xf).y1(Qf).y0(r):f=S5().x(Xf).y(Qf),f.defined(og).curve(l),f(d)},Yu=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Cne(t):r;return _.createElement("path",p2({},Xi(t),pE(t),{className:ct("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Pne=["x","y","top","left","width","height","className"];function g2(){return g2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g2.apply(null,arguments)}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function One(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){Ine(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ine(t,e,n){return(e=kne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kne(t){var e=Rne(t,"string");return typeof e=="symbol"?e:e+""}function Rne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dne(t,e){if(t==null)return{};var n,r,i=Mne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lne=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Vne=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:d}=t,f=Dne(t,Pne),h=One({x:e,y:n,top:r,left:i,width:a,height:l},f);return!Pe(e)||!Pe(n)||!Pe(a)||!Pe(l)||!Pe(r)||!Pe(i)?null:_.createElement("path",g2({},qt(h,!0),{className:ct("recharts-cross",d),d:Lne(e,n,a,l,r,i)}))};function Une(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){zne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zne(t,e,n){return(e=$ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=Fne(t,"string");return typeof e=="symbol"?e:e+""}function Fne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $n(t,e){var n=Bne({},t),r=e,i=Object.keys(e),a=i.reduce((l,d)=>(l[d]===void 0&&r[d]!==void 0&&(l[d]=r[d]),l),n);return a}function qne(){}function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){Hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hne(t,e,n){return(e=Kne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kne(t){var e=Gne(t,"string");return typeof e=="symbol"?e:e+""}function Gne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wne=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),RM=(t,e,n)=>t.map(r=>"".concat(Wne(r)," ").concat(e,"ms ").concat(n)).join(","),Yne=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ih=(t,e)=>Object.keys(e).reduce((n,r)=>RO(RO({},n),{},{[r]:t(r,e[r])}),{});function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){Xne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xne(t,e,n){return(e=Qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qne(t){var e=Zne(t,"string");return typeof e=="symbol"?e:e+""}function Zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ty=(t,e,n)=>t+(e-t)*n,y2=t=>{var{from:e,to:n}=t;return e!==n},DM=(t,e,n)=>{var r=Ih((i,a)=>{if(y2(a)){var[l,d]=t(a.from,a.to,a.velocity);return lr(lr({},a),{},{from:l,velocity:d})}return a},e);return n<1?Ih((i,a)=>y2(a)?lr(lr({},a),{},{velocity:Ty(a.velocity,r[i].velocity,n),from:Ty(a.from,r[i].from,n)}):a,e):DM(t,r,n-1)};function Jne(t,e,n,r,i,a){var l,d=r.reduce((x,b)=>lr(lr({},x),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>Ih((x,b)=>b.from,d),h=()=>!Object.values(d).filter(y2).length,p=null,g=x=>{l||(l=x);var b=x-l,A=b/n.dt;d=DM(n,d,A),i(lr(lr(lr({},t),e),f())),l=x,h()||(p=a.setTimeout(g))};return()=>(p=a.setTimeout(g),()=>{p()})}function ere(t,e,n,r,i,a,l){var d=null,f=i.reduce((g,x)=>lr(lr({},g),{},{[x]:[t[x],e[x]]}),{}),h,p=g=>{h||(h=g);var x=(g-h)/r,b=Ih((E,S)=>Ty(...S,n(x)),f);if(a(lr(lr(lr({},t),e),b)),x<1)d=l.setTimeout(p);else{var A=Ih((E,S)=>Ty(...S,n(1)),f);a(lr(lr(lr({},t),e),A))}};return()=>(d=l.setTimeout(p),()=>{d()})}const tre=(t,e,n,r,i,a)=>{var l=Yne(t,e);return n.isStepper===!0?Jne(t,e,n,l,i,a):ere(t,e,n,r,l,i,a)};var Ny=1e-4,MM=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],LM=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),MO=(t,e)=>n=>{var r=MM(t,e);return LM(r,n)},nre=(t,e)=>n=>{var r=MM(t,e),i=[...r.map((a,l)=>a*l).slice(1),0];return LM(i,n)},LO=function(){for(var e,n,r,i,a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];if(l.length===1)switch(l[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var f=l[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,r,n,i]=f[1].split(")")[0].split(",").map(A=>parseFloat(A)))}}else l.length===4&&([e,r,n,i]=l);var h=MO(e,n),p=MO(r,i),g=nre(e,n),x=A=>A>1?1:A<0?0:A,b=A=>{for(var E=A>1?1:A,S=E,N=0;N<8;++N){var C=h(S)-E,j=g(S);if(Math.abs(C-E)<Ny||j<Ny)return p(S);S=x(S-C/j)}return p(S)};return b.isStepper=!1,b},rre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(l,d,f)=>{var h=-(l-d)*n,p=f*r,g=f+(h-p)*i/1e3,x=f*i/1e3+l;return Math.abs(x-d)<Ny&&Math.abs(g)<Ny?[d,0]:[x,g]};return a.isStepper=!0,a.dt=i,a},ire=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LO(t);case"spring":return rre();default:if(t.split("(")[0]==="cubic-bezier")return LO(t)}return typeof t=="function"?t:null};function are(t){var e,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...h]=d;if(typeof f=="number"){i=t.setTimeout(a.bind(null,h),f);return}a(f),i=t.setTimeout(a.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class sre{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function ore(){return are(new sre)}var lre=_.createContext(ore);function cre(t,e){var n=_.useContext(lre);return _.useMemo(()=>e??n(t),[t,e,n])}var ure={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},VO={t:0},Fw={t:1};function Cd(t){var e=$n(t,ure),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:d,onAnimationStart:f,children:h}=e,p=cre(e.animationId,e.animationManager),[g,x]=_.useState(n?VO:Fw),b=_.useRef(null);return _.useEffect(()=>{n||x(Fw)},[n]),_.useEffect(()=>{if(!n||!r)return qne;var A=tre(VO,Fw,ire(a),i,x,p.getTimeoutController()),E=()=>{b.current=A()};return p.start([f,l,E,i,d]),()=>{p.stop(),b.current&&b.current(),d()}},[n,r,i,a,l,f,d,p]),h(g.t)}function Pd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Ch(e)),r=_.useRef(t);return r.current!==t&&(n.current=Ch(e),r.current=t),n.current}function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dre(t,e,n){return(e=fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fre(t){var e=hre(t,"string");return typeof e=="symbol"?e:e+""}function hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jy(){return jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jy.apply(null,arguments)}var zO=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(a>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,x=4;g<x;g++)p[g]=i[g]>a?a:i[g];h="M".concat(t,",").concat(e+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(t+d*p[0],",").concat(e)),h+="L ".concat(t+n-d*p[1],",").concat(e),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*p[1])),h+="L ".concat(t+n,",").concat(e+r-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(t+n-d*p[2],",").concat(e+r)),h+="L ".concat(t+d*p[3],",").concat(e+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*p[3])),h+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);h="M ".concat(t,",").concat(e+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+d*b,",").concat(e,`
            L `).concat(t+n-d*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*b,`
            L `).concat(t+n,",").concat(e+r-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-d*b,",").concat(e+r,`
            L `).concat(t+d*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*b," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},mre={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VM=t=>{var e=$n(t,mre),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ve=n.current.getTotalLength();ve&&i(ve)}catch{}},[]);var{x:a,y:l,width:d,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:x,animationBegin:b,isAnimationActive:A,isUpdateAnimationActive:E}=e,S=_.useRef(d),N=_.useRef(f),C=_.useRef(a),j=_.useRef(l),L=_.useMemo(()=>({x:a,y:l,width:d,height:f,radius:h}),[a,l,d,f,h]),V=Pd(L,"rectangle-");if(a!==+a||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var D=ct("recharts-rectangle",p);if(!E)return _.createElement("path",jy({},qt(e,!0),{className:D,d:zO(a,l,d,f,h)}));var k=S.current,O=N.current,R=C.current,F=j.current,B="0px ".concat(r===-1?1:r,"px"),q="".concat(r,"px 0px"),U=RM(["strokeDasharray"],x,typeof g=="string"?g:void 0);return _.createElement(Cd,{animationId:V,key:V,canBegin:r>0,duration:x,easing:g,isActive:E,begin:b},ve=>{var le=Nt(k,d,ve),W=Nt(O,f,ve),K=Nt(R,a,ve),ce=Nt(F,l,ve);n.current&&(S.current=le,N.current=W,C.current=K,j.current=ce);var me;return A?ve>0?me={transition:U,strokeDasharray:q}:me={strokeDasharray:B}:me={strokeDasharray:q},_.createElement("path",jy({},qt(e,!0),{className:D,d:zO(K,ce,le,W,h),ref:n,style:BO(BO({},me),e.style)}))})};function UM(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,l=kn(e,n,r,i),d=kn(e,n,r,a);return{points:[l,d],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function v2(){return v2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v2.apply(null,arguments)}var pre=(t,e)=>{var n=Zn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},lg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:d,cornerIsExternal:f}=t,h=d*(l?1:-1)+r,p=Math.asin(d/h)/Ay,g=f?i:i+a*p,x=kn(e,n,h,g),b=kn(e,n,r,g),A=f?i-a*p:i,E=kn(e,n,h*Math.cos(p*Ay),A);return{center:x,circleTangency:b,lineTangency:E,theta:p}},BM=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=t,d=pre(a,l),f=a+d,h=kn(e,n,i,a),p=kn(e,n,i,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(a>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var x=kn(e,n,r,a),b=kn(e,n,r,f);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(a<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},gre=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:h}=t,p=Zn(h-f),{circleTangency:g,lineTangency:x,theta:b}=lg({cx:e,cy:n,radius:i,angle:f,sign:p,cornerRadius:a,cornerIsExternal:d}),{circleTangency:A,lineTangency:E,theta:S}=lg({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:a,cornerIsExternal:d}),N=d?Math.abs(f-h):Math.abs(f-h)-b-S;if(N<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):BM({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var C="M ".concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:j,lineTangency:L,theta:V}=lg({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:d}),{circleTangency:D,lineTangency:k,theta:O}=lg({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:d}),R=d?Math.abs(f-h):Math.abs(f-h)-V-O;if(R<0&&a===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(R>180),",").concat(+(p>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,"Z")}else C+="L".concat(e,",").concat(n,"Z");return C},yre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zM=t=>{var e=$n(t,yre),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(a<i||h===p)return null;var x=ct("recharts-sector",g),b=a-i,A=_r(l,b,0,!0),E;return A>0&&Math.abs(h-p)<360?E=gre({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(A,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):E=BM({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:p}),_.createElement("path",v2({},qt(e,!0),{className:x,d:E}))};function vre(t,e,n){var r,i,a,l;if(t==="horizontal")r=e.x,a=r,i=n.top,l=n.top+n.height;else if(t==="vertical")i=e.y,l=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:d,cy:f,innerRadius:h,outerRadius:p,angle:g}=e,x=kn(d,f,h,g),b=kn(d,f,p,g);r=x.x,i=x.y,a=b.x,l=b.y}else return UM(e);return[{x:r,y:i},{x:a,y:l}]}var qw={},Hw={},Kw={},$O;function xre(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G5();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Kw)),Kw}var FO;function bre(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xre();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Hw)),Hw}var qO;function wre(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W5(),n=bre();function r(i,a,l){l&&typeof l!="number"&&e.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const d=Math.max(Math.ceil((a-i)/(l||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=i,i+=l;return f}t.range=r})(qw)),qw}var Gw,HO;function _re(){return HO||(HO=1,Gw=wre().range),Gw}var Ere=_re();const $M=ns(Ere);function sl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Are(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function LE(t){let e,n,r;t.length!==2?(e=sl,n=(d,f)=>sl(t(d),f),r=(d,f)=>t(d)-f):(e=t===sl||t===Are?t:Sre,n=t,r=t);function i(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function a(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(d,f,h=0,p=d.length){const g=i(d,f,h,p-1);return g>h&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:i,center:l,right:a}}function Sre(){return 0}function FM(t){return t===null?NaN:+t}function*Tre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Nre=LE(sl),hm=Nre.right;LE(FM).center;class KO extends Map{constructor(e,n=Pre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(GO(this,e))}has(e){return super.has(GO(this,e))}set(e,n){return super.set(jre(this,e),n)}delete(e){return super.delete(Cre(this,e))}}function GO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function jre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Cre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Pre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ore(t=sl){if(t===sl)return qM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function qM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ire=Math.sqrt(50),kre=Math.sqrt(10),Rre=Math.sqrt(2);function Cy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=Ire?10:a>=kre?5:a>=Rre?2:1;let d,f,h;return i<0?(h=Math.pow(10,-i)/l,d=Math.round(t*h),f=Math.round(e*h),d/h<t&&++d,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,d=Math.round(t/h),f=Math.round(e/h),d*h<t&&++d,f*h>e&&--f),f<d&&.5<=n&&n<2?Cy(t,e,n*2):[d,f,h]}function x2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,l]=r?Cy(e,t,n):Cy(t,e,n);if(!(a>=i))return[];const d=a-i+1,f=new Array(d);if(r)if(l<0)for(let h=0;h<d;++h)f[h]=(a-h)/-l;else for(let h=0;h<d;++h)f[h]=(a-h)*l;else if(l<0)for(let h=0;h<d;++h)f[h]=(i+h)/-l;else for(let h=0;h<d;++h)f[h]=(i+h)*l;return f}function b2(t,e,n){return e=+e,t=+t,n=+n,Cy(t,e,n)[2]}function w2(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?b2(e,t,n):b2(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function WO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function YO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function HM(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?qM:Ore(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),b=Math.max(n,Math.floor(e-h*g/f+x)),A=Math.min(r,Math.floor(e+(f-h)*g/f+x));HM(t,e,b,A,i)}const a=t[e];let l=n,d=r;for(Zf(t,n,e),i(t[r],a)>0&&Zf(t,n,r);l<d;){for(Zf(t,l,d),++l,--d;i(t[l],a)<0;)++l;for(;i(t[d],a)>0;)--d}i(t[n],a)===0?Zf(t,n,d):(++d,Zf(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function Zf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Dre(t,e,n){if(t=Float64Array.from(Tre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return YO(t);if(e>=1)return WO(t);var r,i=(r-1)*e,a=Math.floor(i),l=WO(HM(t,a).subarray(0,a+1)),d=YO(t.subarray(a+1));return l+(d-l)*(i-a)}}function Mre(t,e,n=FM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),l=+n(t[a],a,t),d=+n(t[a+1],a+1,t);return l+(d-l)*(i-a)}}function Lre(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Qi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function lo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const _2=Symbol("implicit");function VE(){var t=new KO,e=[],n=[],r=_2;function i(a){let l=t.get(a);if(l===void 0){if(r!==_2)return r;t.set(a,l=e.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new KO;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return VE(e,n).unknown(r)},Qi.apply(i,arguments),i}function UE(){var t=VE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,l,d=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var x=e().length,b=i<r,A=b?i:r,E=b?r:i;a=(E-A)/Math.max(1,x-f+h*2),d&&(a=Math.floor(a)),A+=(E-A-a*(x-f))*p,l=a*(1-f),d&&(A=Math.round(A),l=Math.round(l));var S=Lre(x).map(function(N){return A+a*N});return n(b?S.reverse():S)}return t.domain=function(x){return arguments.length?(e(x),g()):e()},t.range=function(x){return arguments.length?([r,i]=x,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(x){return[r,i]=x,r=+r,i=+i,d=!0,g()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(x){return arguments.length?(d=!!x,g()):d},t.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),g()):f},t.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),g()):f},t.paddingOuter=function(x){return arguments.length?(h=+x,g()):h},t.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),g()):p},t.copy=function(){return UE(e(),[r,i]).round(d).paddingInner(f).paddingOuter(h).align(p)},Qi.apply(g(),arguments)}function KM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return KM(e())},t}function Vre(){return KM(UE.apply(null,arguments).paddingInner(1))}function BE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function GM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function mm(){}var kh=.7,Py=1/kh,Xu="\\s*([+-]?\\d+)\\s*",Rh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ure=/^#([0-9a-f]{3,8})$/,Bre=new RegExp(`^rgb\\(${Xu},${Xu},${Xu}\\)$`),zre=new RegExp(`^rgb\\(${Wa},${Wa},${Wa}\\)$`),$re=new RegExp(`^rgba\\(${Xu},${Xu},${Xu},${Rh}\\)$`),Fre=new RegExp(`^rgba\\(${Wa},${Wa},${Wa},${Rh}\\)$`),qre=new RegExp(`^hsl\\(${Rh},${Wa},${Wa}\\)$`),Hre=new RegExp(`^hsla\\(${Rh},${Wa},${Wa},${Rh}\\)$`),XO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BE(mm,Dh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:QO,formatHex:QO,formatHex8:Kre,formatHsl:Gre,formatRgb:ZO,toString:ZO});function QO(){return this.rgb().formatHex()}function Kre(){return this.rgb().formatHex8()}function Gre(){return WM(this).formatHsl()}function ZO(){return this.rgb().formatRgb()}function Dh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ure.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?JO(e):n===3?new Wr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?cg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?cg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Bre.exec(t))?new Wr(e[1],e[2],e[3],1):(e=zre.exec(t))?new Wr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$re.exec(t))?cg(e[1],e[2],e[3],e[4]):(e=Fre.exec(t))?cg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qre.exec(t))?nI(e[1],e[2]/100,e[3]/100,1):(e=Hre.exec(t))?nI(e[1],e[2]/100,e[3]/100,e[4]):XO.hasOwnProperty(t)?JO(XO[t]):t==="transparent"?new Wr(NaN,NaN,NaN,0):null}function JO(t){return new Wr(t>>16&255,t>>8&255,t&255,1)}function cg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wr(t,e,n,r)}function Wre(t){return t instanceof mm||(t=Dh(t)),t?(t=t.rgb(),new Wr(t.r,t.g,t.b,t.opacity)):new Wr}function E2(t,e,n,r){return arguments.length===1?Wre(t):new Wr(t,e,n,r??1)}function Wr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}BE(Wr,E2,GM(mm,{brighter(t){return t=t==null?Py:Math.pow(Py,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?kh:Math.pow(kh,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wr(bc(this.r),bc(this.g),bc(this.b),Oy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eI,formatHex:eI,formatHex8:Yre,formatRgb:tI,toString:tI}));function eI(){return`#${hc(this.r)}${hc(this.g)}${hc(this.b)}`}function Yre(){return`#${hc(this.r)}${hc(this.g)}${hc(this.b)}${hc((isNaN(this.opacity)?1:this.opacity)*255)}`}function tI(){const t=Oy(this.opacity);return`${t===1?"rgb(":"rgba("}${bc(this.r)}, ${bc(this.g)}, ${bc(this.b)}${t===1?")":`, ${t})`}`}function Oy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hc(t){return t=bc(t),(t<16?"0":"")+t.toString(16)}function nI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new fa(t,e,n,r)}function WM(t){if(t instanceof fa)return new fa(t.h,t.s,t.l,t.opacity);if(t instanceof mm||(t=Dh(t)),!t)return new fa;if(t instanceof fa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,d=a-i,f=(a+i)/2;return d?(e===a?l=(n-r)/d+(n<r)*6:n===a?l=(r-e)/d+2:l=(e-n)/d+4,d/=f<.5?a+i:2-a-i,l*=60):d=f>0&&f<1?0:l,new fa(l,d,f,t.opacity)}function Xre(t,e,n,r){return arguments.length===1?WM(t):new fa(t,e,n,r??1)}function fa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}BE(fa,Xre,GM(mm,{brighter(t){return t=t==null?Py:Math.pow(Py,t),new fa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?kh:Math.pow(kh,t),new fa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wr(Ww(t>=240?t-240:t+120,i,r),Ww(t,i,r),Ww(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new fa(rI(this.h),ug(this.s),ug(this.l),Oy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Oy(this.opacity);return`${t===1?"hsl(":"hsla("}${rI(this.h)}, ${ug(this.s)*100}%, ${ug(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rI(t){return t=(t||0)%360,t<0?t+360:t}function ug(t){return Math.max(0,Math.min(1,t||0))}function Ww(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const zE=t=>()=>t;function Qre(t,e){return function(n){return t+n*e}}function Zre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Jre(t){return(t=+t)==1?YM:function(e,n){return n-e?Zre(e,n,t):zE(isNaN(e)?n:e)}}function YM(t,e){var n=e-t;return n?Qre(t,n):zE(isNaN(t)?e:t)}const iI=(function t(e){var n=Jre(e);function r(i,a){var l=n((i=E2(i)).r,(a=E2(a)).r),d=n(i.g,a.g),f=n(i.b,a.b),h=YM(i.opacity,a.opacity);return function(p){return i.r=l(p),i.g=d(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function eie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function tie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=Od(t[l],e[l]);for(;l<n;++l)a[l]=e[l];return function(d){for(l=0;l<r;++l)a[l]=i[l](d);return a}}function rie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Iy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function iie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Od(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var A2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yw=new RegExp(A2.source,"g");function aie(t){return function(){return t}}function sie(t){return function(e){return t(e)+""}}function oie(t,e){var n=A2.lastIndex=Yw.lastIndex=0,r,i,a,l=-1,d=[],f=[];for(t=t+"",e=e+"";(r=A2.exec(t))&&(i=Yw.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),d[l]?d[l]+=a:d[++l]=a),(r=r[0])===(i=i[0])?d[l]?d[l]+=i:d[++l]=i:(d[++l]=null,f.push({i:l,x:Iy(r,i)})),n=Yw.lastIndex;return n<e.length&&(a=e.slice(n),d[l]?d[l]+=a:d[++l]=a),d.length<2?f[0]?sie(f[0].x):aie(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function Od(t,e){var n=typeof e,r;return e==null||n==="boolean"?zE(e):(n==="number"?Iy:n==="string"?(r=Dh(e))?(e=r,iI):oie:e instanceof Dh?iI:e instanceof Date?rie:tie(e)?eie:Array.isArray(e)?nie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iie:Iy)(t,e)}function $E(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function lie(t,e){e===void 0&&(e=t,t=Od);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(l){var d=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[d](l-d)}}function cie(t){return function(){return t}}function ky(t){return+t}var aI=[0,1];function Dr(t){return t}function S2(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:cie(isNaN(e)?NaN:.5)}function uie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function die(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=S2(i,r),a=n(l,a)):(r=S2(r,i),a=n(a,l)),function(d){return a(r(d))}}function fie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=S2(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(d){var f=hm(t,d,1,r)-1;return a[f](i[f](d))}}function pm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gv(){var t=aI,e=aI,n=Od,r,i,a,l=Dr,d,f,h;function p(){var x=Math.min(t.length,e.length);return l!==Dr&&(l=uie(t[0],t[x-1])),d=x>2?fie:die,f=h=null,g}function g(x){return x==null||isNaN(x=+x)?a:(f||(f=d(t.map(r),e,n)))(r(l(x)))}return g.invert=function(x){return l(i((h||(h=d(e,t.map(r),Iy)))(x)))},g.domain=function(x){return arguments.length?(t=Array.from(x,ky),p()):t.slice()},g.range=function(x){return arguments.length?(e=Array.from(x),p()):e.slice()},g.rangeRound=function(x){return e=Array.from(x),n=$E,p()},g.clamp=function(x){return arguments.length?(l=x?!0:Dr,p()):l!==Dr},g.interpolate=function(x){return arguments.length?(n=x,p()):n},g.unknown=function(x){return arguments.length?(a=x,g):a},function(x,b){return r=x,i=b,p()}}function FE(){return Gv()(Dr,Dr)}function hie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ry(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function fd(t){return t=Ry(Math.abs(t)),t?t[1]:NaN}function mie(t,e){return function(n,r){for(var i=n.length,a=[],l=0,d=t[0],f=0;i>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),a.push(n.substring(i-=d,i+d)),!((f+=d+1)>r));)d=t[l=(l+1)%t.length];return a.reverse().join(e)}}function pie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var gie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mh(t){if(!(e=gie.exec(t)))throw new Error("invalid format: "+t);var e;return new qE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mh.prototype=qE.prototype;function qE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}qE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var XM;function vie(t,e){var n=Ry(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(XM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ry(t,Math.max(0,e+a-1))[0]}function sI(t,e){var n=Ry(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const oI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:hie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sI(t*100,e),r:sI,s:vie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function lI(t){return t}var cI=Array.prototype.map,uI=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xie(t){var e=t.grouping===void 0||t.thousands===void 0?lI:mie(cI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?lI:pie(cI.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=Mh(g);var x=g.fill,b=g.align,A=g.sign,E=g.symbol,S=g.zero,N=g.width,C=g.comma,j=g.precision,L=g.trim,V=g.type;V==="n"?(C=!0,V="g"):oI[V]||(j===void 0&&(j=12),L=!0,V="g"),(S||x==="0"&&b==="=")&&(S=!0,x="0",b="=");var D=E==="$"?n:E==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():"",k=E==="$"?r:/[%p]/.test(V)?l:"",O=oI[V],R=/[defgprs%]/.test(V);j=j===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function F(B){var q=D,U=k,ve,le,W;if(V==="c")U=O(B)+U,B="";else{B=+B;var K=B<0||1/B<0;if(B=isNaN(B)?f:O(Math.abs(B),j),L&&(B=yie(B)),K&&+B==0&&A!=="+"&&(K=!1),q=(K?A==="("?A:d:A==="-"||A==="("?"":A)+q,U=(V==="s"?uI[8+XM/3]:"")+U+(K&&A==="("?")":""),R){for(ve=-1,le=B.length;++ve<le;)if(W=B.charCodeAt(ve),48>W||W>57){U=(W===46?i+B.slice(ve+1):B.slice(ve))+U,B=B.slice(0,ve);break}}}C&&!S&&(B=e(B,1/0));var ce=q.length+B.length+U.length,me=ce<N?new Array(N-ce+1).join(x):"";switch(C&&S&&(B=e(me+B,me.length?N-U.length:1/0),me=""),b){case"<":B=q+B+U+me;break;case"=":B=q+me+B+U;break;case"^":B=me.slice(0,ce=me.length>>1)+q+B+U+me.slice(ce);break;default:B=me+q+B+U;break}return a(B)}return F.toString=function(){return g+""},F}function p(g,x){var b=h((g=Mh(g),g.type="f",g)),A=Math.max(-8,Math.min(8,Math.floor(fd(x)/3)))*3,E=Math.pow(10,-A),S=uI[8+A/3];return function(N){return b(E*N)+S}}return{format:h,formatPrefix:p}}var dg,HE,QM;bie({thousands:",",grouping:[3],currency:["$",""]});function bie(t){return dg=xie(t),HE=dg.format,QM=dg.formatPrefix,dg}function wie(t){return Math.max(0,-fd(Math.abs(t)))}function _ie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fd(e)/3)))*3-fd(Math.abs(t)))}function Eie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fd(e)-fd(t))+1}function ZM(t,e,n,r){var i=w2(t,e,n),a;switch(r=Mh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=_ie(i,l))&&(r.precision=a),QM(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Eie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=wie(i))&&(r.precision=a-(r.type==="%")*2);break}}return HE(r)}function Al(t){var e=t.domain;return t.ticks=function(n){var r=e();return x2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return ZM(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,l=r[i],d=r[a],f,h,p=10;for(d<l&&(h=l,l=d,d=h,h=i,i=a,a=h);p-- >0;){if(h=b2(l,d,n),h===f)return r[i]=l,r[a]=d,e(r);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;f=h}return t},t}function JM(){var t=FE();return t.copy=function(){return pm(t,JM())},Qi.apply(t,arguments),Al(t)}function e8(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ky),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return e8(t).unknown(e)},t=arguments.length?Array.from(t,ky):[0,1],Al(n)}function t8(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function dI(t){return Math.log(t)}function fI(t){return Math.exp(t)}function Aie(t){return-Math.log(-t)}function Sie(t){return-Math.exp(-t)}function Tie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Nie(t){return t===10?Tie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function hI(t){return(e,n)=>-t(-e,n)}function KE(t){const e=t(dI,fI),n=e.domain;let r=10,i,a;function l(){return i=jie(r),a=Nie(r),n()[0]<0?(i=hI(i),a=hI(a),t(Aie,Sie)):t(dI,fI),e}return e.base=function(d){return arguments.length?(r=+d,l()):r},e.domain=function(d){return arguments.length?(n(d),l()):n()},e.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let x=i(h),b=i(p),A,E;const S=d==null?10:+d;let N=[];if(!(r%1)&&b-x<S){if(x=Math.floor(x),b=Math.ceil(b),h>0){for(;x<=b;++x)for(A=1;A<r;++A)if(E=x<0?A/a(-x):A*a(x),!(E<h)){if(E>p)break;N.push(E)}}else for(;x<=b;++x)for(A=r-1;A>=1;--A)if(E=x>0?A/a(-x):A*a(x),!(E<h)){if(E>p)break;N.push(E)}N.length*2<S&&(N=x2(h,p,S))}else N=x2(x,b,Math.min(b-x,S)).map(a);return g?N.reverse():N},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Mh(f)).precision==null&&(f.trim=!0),f=HE(f)),d===1/0)return f;const h=Math.max(1,r*d/e.ticks().length);return p=>{let g=p/a(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(t8(n(),{floor:d=>a(Math.floor(i(d))),ceil:d=>a(Math.ceil(i(d)))})),e}function n8(){const t=KE(Gv()).domain([1,10]);return t.copy=()=>pm(t,n8()).base(t.base()),Qi.apply(t,arguments),t}function mI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function pI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function GE(t){var e=1,n=t(mI(e),pI(e));return n.constant=function(r){return arguments.length?t(mI(e=+r),pI(e)):e},Al(n)}function r8(){var t=GE(Gv());return t.copy=function(){return pm(t,r8()).constant(t.constant())},Qi.apply(t,arguments)}function gI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Cie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Pie(t){return t<0?-t*t:t*t}function WE(t){var e=t(Dr,Dr),n=1;function r(){return n===1?t(Dr,Dr):n===.5?t(Cie,Pie):t(gI(n),gI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Al(e)}function YE(){var t=WE(Gv());return t.copy=function(){return pm(t,YE()).exponent(t.exponent())},Qi.apply(t,arguments),t}function Oie(){return YE.apply(null,arguments).exponent(.5)}function yI(t){return Math.sign(t)*t*t}function Iie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function i8(){var t=FE(),e=[0,1],n=!1,r;function i(a){var l=Iie(t(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return t.invert(yI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,ky)).map(yI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return i8(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Qi.apply(i,arguments),Al(i)}function a8(){var t=[],e=[],n=[],r;function i(){var l=0,d=Math.max(1,e.length);for(n=new Array(d-1);++l<d;)n[l-1]=Mre(t,l/d);return a}function a(l){return l==null||isNaN(l=+l)?r:e[hm(n,l)]}return a.invertExtent=function(l){var d=e.indexOf(l);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let d of l)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(sl),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return a8().domain(t).range(e).unknown(r)},Qi.apply(a,arguments)}function s8(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function l(f){return f!=null&&f<=f?i[hm(r,f,0,n)]:a}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,d()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(a=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return s8().domain([t,e]).range(i).unknown(a)},Qi.apply(Al(l),arguments)}function o8(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[hm(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return o8().domain(t).range(e).unknown(n)},Qi.apply(i,arguments)}const Xw=new Date,Qw=new Date;function Fn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),d=i.ceil(a);return a-l<d-a?l:d},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,d)=>{const f=[];if(a=i.ceil(a),d=d==null?1:Math.floor(d),!(a<l)||!(d>0))return f;let h;do f.push(h=new Date(+a)),e(a,d),t(a);while(h<a&&a<l);return f},i.filter=a=>Fn(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;e(l,-1),!a(l););else for(;--d>=0;)for(;e(l,1),!a(l););}),n&&(i.count=(a,l)=>(Xw.setTime(+a),Qw.setTime(+l),t(Xw),t(Qw),Math.floor(n(Xw,Qw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const Dy=Fn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Dy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Fn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Dy);Dy.range;const Ds=1e3,zi=Ds*60,Ms=zi*60,Js=Ms*24,XE=Js*7,vI=Js*30,Zw=Js*365,mc=Fn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getUTCSeconds());mc.range;const QE=Fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ds)},(t,e)=>{t.setTime(+t+e*zi)},(t,e)=>(e-t)/zi,t=>t.getMinutes());QE.range;const ZE=Fn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zi)},(t,e)=>(e-t)/zi,t=>t.getUTCMinutes());ZE.range;const JE=Fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ds-t.getMinutes()*zi)},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getHours());JE.range;const eA=Fn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getUTCHours());eA.range;const gm=Fn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zi)/Js,t=>t.getDate()-1);gm.range;const Wv=Fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Js,t=>t.getUTCDate()-1);Wv.range;const l8=Fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Js,t=>Math.floor(t/Js));l8.range;function Kc(t){return Fn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*zi)/XE)}const Yv=Kc(0),My=Kc(1),kie=Kc(2),Rie=Kc(3),hd=Kc(4),Die=Kc(5),Mie=Kc(6);Yv.range;My.range;kie.range;Rie.range;hd.range;Die.range;Mie.range;function Gc(t){return Fn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/XE)}const Xv=Gc(0),Ly=Gc(1),Lie=Gc(2),Vie=Gc(3),md=Gc(4),Uie=Gc(5),Bie=Gc(6);Xv.range;Ly.range;Lie.range;Vie.range;md.range;Uie.range;Bie.range;const tA=Fn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());tA.range;const nA=Fn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nA.range;const eo=Fn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());eo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Fn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});eo.range;const to=Fn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());to.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Fn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});to.range;function c8(t,e,n,r,i,a){const l=[[mc,1,Ds],[mc,5,5*Ds],[mc,15,15*Ds],[mc,30,30*Ds],[a,1,zi],[a,5,5*zi],[a,15,15*zi],[a,30,30*zi],[i,1,Ms],[i,3,3*Ms],[i,6,6*Ms],[i,12,12*Ms],[r,1,Js],[r,2,2*Js],[n,1,XE],[e,1,vI],[e,3,3*vI],[t,1,Zw]];function d(h,p,g){const x=p<h;x&&([h,p]=[p,h]);const b=g&&typeof g.range=="function"?g:f(h,p,g),A=b?b.range(h,+p+1):[];return x?A.reverse():A}function f(h,p,g){const x=Math.abs(p-h)/g,b=LE(([,,S])=>S).right(l,x);if(b===l.length)return t.every(w2(h/Zw,p/Zw,g));if(b===0)return Dy.every(Math.max(w2(h,p,g),1));const[A,E]=l[x/l[b-1][2]<l[b][2]/x?b-1:b];return A.every(E)}return[d,f]}const[zie,$ie]=c8(to,nA,Xv,l8,eA,ZE),[Fie,qie]=c8(eo,tA,Yv,gm,JE,QE);function Jw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function e1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Jf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Hie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,d=t.months,f=t.shortMonths,h=eh(i),p=th(i),g=eh(a),x=th(a),b=eh(l),A=th(l),E=eh(d),S=th(d),N=eh(f),C=th(f),j={a:K,A:ce,b:me,B:z,c:null,d:AI,e:AI,f:mae,g:Aae,G:Tae,H:dae,I:fae,j:hae,L:u8,m:pae,M:gae,p:X,q:ne,Q:NI,s:jI,S:yae,u:vae,U:xae,V:bae,w:wae,W:_ae,x:null,X:null,y:Eae,Y:Sae,Z:Nae,"%":TI},L={a:Z,A:oe,b:ye,B:be,c:null,d:SI,e:SI,f:Oae,g:zae,G:Fae,H:jae,I:Cae,j:Pae,L:f8,m:Iae,M:kae,p:Le,q:Ke,Q:NI,s:jI,S:Rae,u:Dae,U:Mae,V:Lae,w:Vae,W:Uae,x:null,X:null,y:Bae,Y:$ae,Z:qae,"%":TI},V={a:F,A:B,b:q,B:U,c:ve,d:_I,e:_I,f:oae,g:wI,G:bI,H:EI,I:EI,j:rae,L:sae,m:nae,M:iae,p:R,q:tae,Q:cae,s:uae,S:aae,u:Xie,U:Qie,V:Zie,w:Yie,W:Jie,x:le,X:W,y:wI,Y:bI,Z:eae,"%":lae};j.x=D(n,j),j.X=D(r,j),j.c=D(e,j),L.x=D(n,L),L.X=D(r,L),L.c=D(e,L);function D(_e,Ve){return function(Ne){var xe=[],Ue=-1,nt=0,An=_e.length,Qt,Vt,os;for(Ne instanceof Date||(Ne=new Date(+Ne));++Ue<An;)_e.charCodeAt(Ue)===37&&(xe.push(_e.slice(nt,Ue)),(Vt=xI[Qt=_e.charAt(++Ue)])!=null?Qt=_e.charAt(++Ue):Vt=Qt==="e"?" ":"0",(os=Ve[Qt])&&(Qt=os(Ne,Vt)),xe.push(Qt),nt=Ue+1);return xe.push(_e.slice(nt,Ue)),xe.join("")}}function k(_e,Ve){return function(Ne){var xe=Jf(1900,void 0,1),Ue=O(xe,_e,Ne+="",0),nt,An;if(Ue!=Ne.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(Ve&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(nt=e1(Jf(xe.y,0,1)),An=nt.getUTCDay(),nt=An>4||An===0?Ly.ceil(nt):Ly(nt),nt=Wv.offset(nt,(xe.V-1)*7),xe.y=nt.getUTCFullYear(),xe.m=nt.getUTCMonth(),xe.d=nt.getUTCDate()+(xe.w+6)%7):(nt=Jw(Jf(xe.y,0,1)),An=nt.getDay(),nt=An>4||An===0?My.ceil(nt):My(nt),nt=gm.offset(nt,(xe.V-1)*7),xe.y=nt.getFullYear(),xe.m=nt.getMonth(),xe.d=nt.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),An="Z"in xe?e1(Jf(xe.y,0,1)).getUTCDay():Jw(Jf(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(An+5)%7:xe.w+xe.U*7-(An+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,e1(xe)):Jw(xe)}}function O(_e,Ve,Ne,xe){for(var Ue=0,nt=Ve.length,An=Ne.length,Qt,Vt;Ue<nt;){if(xe>=An)return-1;if(Qt=Ve.charCodeAt(Ue++),Qt===37){if(Qt=Ve.charAt(Ue++),Vt=V[Qt in xI?Ve.charAt(Ue++):Qt],!Vt||(xe=Vt(_e,Ne,xe))<0)return-1}else if(Qt!=Ne.charCodeAt(xe++))return-1}return xe}function R(_e,Ve,Ne){var xe=h.exec(Ve.slice(Ne));return xe?(_e.p=p.get(xe[0].toLowerCase()),Ne+xe[0].length):-1}function F(_e,Ve,Ne){var xe=b.exec(Ve.slice(Ne));return xe?(_e.w=A.get(xe[0].toLowerCase()),Ne+xe[0].length):-1}function B(_e,Ve,Ne){var xe=g.exec(Ve.slice(Ne));return xe?(_e.w=x.get(xe[0].toLowerCase()),Ne+xe[0].length):-1}function q(_e,Ve,Ne){var xe=N.exec(Ve.slice(Ne));return xe?(_e.m=C.get(xe[0].toLowerCase()),Ne+xe[0].length):-1}function U(_e,Ve,Ne){var xe=E.exec(Ve.slice(Ne));return xe?(_e.m=S.get(xe[0].toLowerCase()),Ne+xe[0].length):-1}function ve(_e,Ve,Ne){return O(_e,e,Ve,Ne)}function le(_e,Ve,Ne){return O(_e,n,Ve,Ne)}function W(_e,Ve,Ne){return O(_e,r,Ve,Ne)}function K(_e){return l[_e.getDay()]}function ce(_e){return a[_e.getDay()]}function me(_e){return f[_e.getMonth()]}function z(_e){return d[_e.getMonth()]}function X(_e){return i[+(_e.getHours()>=12)]}function ne(_e){return 1+~~(_e.getMonth()/3)}function Z(_e){return l[_e.getUTCDay()]}function oe(_e){return a[_e.getUTCDay()]}function ye(_e){return f[_e.getUTCMonth()]}function be(_e){return d[_e.getUTCMonth()]}function Le(_e){return i[+(_e.getUTCHours()>=12)]}function Ke(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var Ve=D(_e+="",j);return Ve.toString=function(){return _e},Ve},parse:function(_e){var Ve=k(_e+="",!1);return Ve.toString=function(){return _e},Ve},utcFormat:function(_e){var Ve=D(_e+="",L);return Ve.toString=function(){return _e},Ve},utcParse:function(_e){var Ve=k(_e+="",!0);return Ve.toString=function(){return _e},Ve}}}var xI={"-":"",_:" ",0:"0"},er=/^\s*\d+/,Kie=/^%/,Gie=/[\\^$*+?|[\]().{}]/g;function ft(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Wie(t){return t.replace(Gie,"\\$&")}function eh(t){return new RegExp("^(?:"+t.map(Wie).join("|")+")","i")}function th(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Yie(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Xie(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Qie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Zie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Jie(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function bI(t,e,n){var r=er.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function wI(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eae(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tae(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function nae(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function _I(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function rae(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function EI(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function iae(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function aae(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function sae(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oae(t,e,n){var r=er.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lae(t,e,n){var r=Kie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cae(t,e,n){var r=er.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function uae(t,e,n){var r=er.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function AI(t,e){return ft(t.getDate(),e,2)}function dae(t,e){return ft(t.getHours(),e,2)}function fae(t,e){return ft(t.getHours()%12||12,e,2)}function hae(t,e){return ft(1+gm.count(eo(t),t),e,3)}function u8(t,e){return ft(t.getMilliseconds(),e,3)}function mae(t,e){return u8(t,e)+"000"}function pae(t,e){return ft(t.getMonth()+1,e,2)}function gae(t,e){return ft(t.getMinutes(),e,2)}function yae(t,e){return ft(t.getSeconds(),e,2)}function vae(t){var e=t.getDay();return e===0?7:e}function xae(t,e){return ft(Yv.count(eo(t)-1,t),e,2)}function d8(t){var e=t.getDay();return e>=4||e===0?hd(t):hd.ceil(t)}function bae(t,e){return t=d8(t),ft(hd.count(eo(t),t)+(eo(t).getDay()===4),e,2)}function wae(t){return t.getDay()}function _ae(t,e){return ft(My.count(eo(t)-1,t),e,2)}function Eae(t,e){return ft(t.getFullYear()%100,e,2)}function Aae(t,e){return t=d8(t),ft(t.getFullYear()%100,e,2)}function Sae(t,e){return ft(t.getFullYear()%1e4,e,4)}function Tae(t,e){var n=t.getDay();return t=n>=4||n===0?hd(t):hd.ceil(t),ft(t.getFullYear()%1e4,e,4)}function Nae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ft(e/60|0,"0",2)+ft(e%60,"0",2)}function SI(t,e){return ft(t.getUTCDate(),e,2)}function jae(t,e){return ft(t.getUTCHours(),e,2)}function Cae(t,e){return ft(t.getUTCHours()%12||12,e,2)}function Pae(t,e){return ft(1+Wv.count(to(t),t),e,3)}function f8(t,e){return ft(t.getUTCMilliseconds(),e,3)}function Oae(t,e){return f8(t,e)+"000"}function Iae(t,e){return ft(t.getUTCMonth()+1,e,2)}function kae(t,e){return ft(t.getUTCMinutes(),e,2)}function Rae(t,e){return ft(t.getUTCSeconds(),e,2)}function Dae(t){var e=t.getUTCDay();return e===0?7:e}function Mae(t,e){return ft(Xv.count(to(t)-1,t),e,2)}function h8(t){var e=t.getUTCDay();return e>=4||e===0?md(t):md.ceil(t)}function Lae(t,e){return t=h8(t),ft(md.count(to(t),t)+(to(t).getUTCDay()===4),e,2)}function Vae(t){return t.getUTCDay()}function Uae(t,e){return ft(Ly.count(to(t)-1,t),e,2)}function Bae(t,e){return ft(t.getUTCFullYear()%100,e,2)}function zae(t,e){return t=h8(t),ft(t.getUTCFullYear()%100,e,2)}function $ae(t,e){return ft(t.getUTCFullYear()%1e4,e,4)}function Fae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?md(t):md.ceil(t),ft(t.getUTCFullYear()%1e4,e,4)}function qae(){return"+0000"}function TI(){return"%"}function NI(t){return+t}function jI(t){return Math.floor(+t/1e3)}var Du,m8,p8;Hae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Hae(t){return Du=Hie(t),m8=Du.format,Du.parse,p8=Du.utcFormat,Du.utcParse,Du}function Kae(t){return new Date(t)}function Gae(t){return t instanceof Date?+t:+new Date(+t)}function rA(t,e,n,r,i,a,l,d,f,h){var p=FE(),g=p.invert,x=p.domain,b=h(".%L"),A=h(":%S"),E=h("%I:%M"),S=h("%I %p"),N=h("%a %d"),C=h("%b %d"),j=h("%B"),L=h("%Y");function V(D){return(f(D)<D?b:d(D)<D?A:l(D)<D?E:a(D)<D?S:r(D)<D?i(D)<D?N:C:n(D)<D?j:L)(D)}return p.invert=function(D){return new Date(g(D))},p.domain=function(D){return arguments.length?x(Array.from(D,Gae)):x().map(Kae)},p.ticks=function(D){var k=x();return t(k[0],k[k.length-1],D??10)},p.tickFormat=function(D,k){return k==null?V:h(k)},p.nice=function(D){var k=x();return(!D||typeof D.range!="function")&&(D=e(k[0],k[k.length-1],D??10)),D?x(t8(k,D)):p},p.copy=function(){return pm(p,rA(t,e,n,r,i,a,l,d,f,h))},p}function Wae(){return Qi.apply(rA(Fie,qie,eo,tA,Yv,gm,JE,QE,mc,m8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yae(){return Qi.apply(rA(zie,$ie,to,nA,Xv,Wv,eA,ZE,mc,p8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qv(){var t=0,e=1,n,r,i,a,l=Dr,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(a(g)-n)*i,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(x){var b,A;return arguments.length?([b,A]=x,l=g(b,A),h):[l(0),l(1)]}}return h.range=p(Od),h.rangeRound=p($E),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return a=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function Sl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function g8(){var t=Al(Qv()(Dr));return t.copy=function(){return Sl(t,g8())},lo.apply(t,arguments)}function y8(){var t=KE(Qv()).domain([1,10]);return t.copy=function(){return Sl(t,y8()).base(t.base())},lo.apply(t,arguments)}function v8(){var t=GE(Qv());return t.copy=function(){return Sl(t,v8()).constant(t.constant())},lo.apply(t,arguments)}function iA(){var t=WE(Qv());return t.copy=function(){return Sl(t,iA()).exponent(t.exponent())},lo.apply(t,arguments)}function Xae(){return iA.apply(null,arguments).exponent(.5)}function x8(){var t=[],e=Dr;function n(r){if(r!=null&&!isNaN(r=+r))return e((hm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(sl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Dre(t,a/r))},n.copy=function(){return x8(e).domain(t)},lo.apply(n,arguments)}function Zv(){var t=0,e=.5,n=1,r=1,i,a,l,d,f,h=Dr,p,g=!1,x;function b(E){return isNaN(E=+E)?x:(E=.5+((E=+p(E))-a)*(r*E<r*a?d:f),h(g?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,n]=E,i=p(t=+t),a=p(e=+e),l=p(n=+n),d=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(E){return arguments.length?(g=!!E,b):g},b.interpolator=function(E){return arguments.length?(h=E,b):h};function A(E){return function(S){var N,C,j;return arguments.length?([N,C,j]=S,h=lie(E,[N,C,j]),b):[h(0),h(.5),h(1)]}}return b.range=A(Od),b.rangeRound=A($E),b.unknown=function(E){return arguments.length?(x=E,b):x},function(E){return p=E,i=E(t),a=E(e),l=E(n),d=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,b}}function b8(){var t=Al(Zv()(Dr));return t.copy=function(){return Sl(t,b8())},lo.apply(t,arguments)}function w8(){var t=KE(Zv()).domain([.1,1,10]);return t.copy=function(){return Sl(t,w8()).base(t.base())},lo.apply(t,arguments)}function _8(){var t=GE(Zv());return t.copy=function(){return Sl(t,_8()).constant(t.constant())},lo.apply(t,arguments)}function aA(){var t=WE(Zv());return t.copy=function(){return Sl(t,aA()).exponent(t.exponent())},lo.apply(t,arguments)}function Qae(){return aA.apply(null,arguments).exponent(.5)}const uh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:UE,scaleDiverging:b8,scaleDivergingLog:w8,scaleDivergingPow:aA,scaleDivergingSqrt:Qae,scaleDivergingSymlog:_8,scaleIdentity:e8,scaleImplicit:_2,scaleLinear:JM,scaleLog:n8,scaleOrdinal:VE,scalePoint:Vre,scalePow:YE,scaleQuantile:a8,scaleQuantize:s8,scaleRadial:i8,scaleSequential:g8,scaleSequentialLog:y8,scaleSequentialPow:iA,scaleSequentialQuantile:x8,scaleSequentialSqrt:Xae,scaleSequentialSymlog:v8,scaleSqrt:Oie,scaleSymlog:r8,scaleThreshold:o8,scaleTime:Wae,scaleUtc:Yae,tickFormat:ZM},Symbol.toStringTag,{value:"Module"}));var Tl=t=>t.chartData,sA=re([Tl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),ym=(t,e,n,r)=>r?sA(t):Tl(t);function pd(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(dr(e)&&dr(n))return!0}return!1}function CI(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Zae(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(dr(n))i=n;else if(typeof n=="function")return;if(dr(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(pd(l))return l}}function Jae(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(pd(r))return CI(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,l,d;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Pe(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&xO.test(i)){var f=xO.exec(i);if(f==null||e==null)l=void 0;else{var h=+f[1];l=e[0]-h}}else l=e?.[0];if(a==="auto")e!=null&&(d=Math.max(...e));else if(Pe(a))d=a;else if(typeof a=="function")try{e!=null&&(d=a(e?.[1]))}catch{}else if(typeof a=="string"&&bO.test(a)){var p=bO.exec(a);if(p==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e?.[1];var x=[l,d];if(pd(x))return e==null?x:CI(x,e,n)}}}var Id=1e9,ese={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lA,Wt=!0,Gi="[DecimalError] ",wc=Gi+"Invalid argument: ",oA=Gi+"Exponent out of range: ",kd=Math.floor,lc=Math.pow,tse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,di,Qn=1e7,zt=7,E8=9007199254740991,Vy=kd(E8/zt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*zt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return Fs(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return Ot(Fs(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return Rn(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(di))throw Error(Gi+"NaN");if(n.s<1)throw Error(Gi+(n.s?"NaN":"-Infinity"));return n.eq(di)?new r(0):(Wt=!1,e=Fs(Lh(n,a),Lh(t,a),a),Wt=!0,Ot(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?T8(e,t):A8(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Gi+"NaN");return n.s?(Wt=!1,e=Fs(n,t,0,1).times(t),Wt=!0,n.minus(e)):Ot(new r(n),i)};Te.naturalExponential=Te.exp=function(){return S8(this)};Te.naturalLogarithm=Te.ln=function(){return Lh(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A8(e,t):T8(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wc+t);if(e=Rn(i)+1,r=i.d.length-1,n=r*zt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,a,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Gi+"NaN")}for(t=Rn(d),Wt=!1,i=Math.sqrt(+d),i==0||i==1/0?(e=za(d.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=kd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(a=r,r=a.plus(Fs(d,a,l+2)).times(.5),za(a.d).slice(0,l)===(e=za(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Ot(a,n+1,0),a.times(a).eq(d)){r=a;break}}else if(e!="9999")break;l+=4}return Wt=!0,Ot(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,a,l,d,f,h,p=this,g=p.constructor,x=p.d,b=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=x.length,h=b.length,f<h&&(a=x,x=b,b=a,l=f,f=h,h=l),a=[],l=f+h,r=l;r--;)a.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)d=a[i]+b[r]*x[i-r-1]+e,a[i--]=d%Qn|0,e=d/Qn|0;a[i]=(a[i]+e)%Qn|0}for(;!a[--l];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Wt?Ot(t,g.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ja(t,0,Id),e===void 0?e=r.rounding:Ja(e,0,8),Ot(n,t+Rn(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ic(r,!0):(Ja(t,0,Id),e===void 0?e=i.rounding:Ja(e,0,8),r=Ot(new i(r),t+1,e),n=Ic(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Ic(i):(Ja(t,0,Id),e===void 0?e=a.rounding:Ja(e,0,8),r=Ot(new a(i),t+Rn(i)+1,e),n=Ic(r.abs(),!1,t+Rn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return Ot(new e(t),Rn(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,a,l,d=this,f=d.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(di);if(d=new f(d),!d.s){if(t.s<1)throw Error(Gi+"Infinity");return d}if(d.eq(di))return d;if(r=f.precision,t.eq(di))return Ot(d,r);if(e=t.e,n=t.d.length-1,l=e>=n,a=d.s,l){if((n=p<0?-p:p)<=E8){for(i=new f(di),e=Math.ceil(r/zt+4),Wt=!1;n%2&&(i=i.times(d),OI(i.d,e)),n=kd(n/2),n!==0;)d=d.times(d),OI(d.d,e);return Wt=!0,t.s<0?new f(di).div(i):Ot(i,r)}}else if(a<0)throw Error(Gi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,Wt=!1,i=t.times(Lh(d,r+h)),Wt=!0,i=S8(i),i.s=a,i};Te.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Rn(i),r=Ic(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ja(t,1,Id),e===void 0?e=a.rounding:Ja(e,0,8),i=Ot(new a(i),t,e),n=Rn(i),r=Ic(i,t<=n||n<=a.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ja(t,1,Id),e===void 0?e=r.rounding:Ja(e,0,8)),Ot(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Rn(t),n=t.constructor;return Ic(t,e<=n.toExpNeg||e>=n.toExpPos)};function A8(t,e){var n,r,i,a,l,d,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Wt?Ot(e,g):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),a=l-i,a){for(a<0?(r=f,a=-a,d=h.length):(r=h,i=l,d=f.length),l=Math.ceil(g/zt),d=l>d?l+1:d+1,a>d&&(a=d,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(d=f.length,a=h.length,d-a<0&&(a=d,r=h,h=f,f=r),n=0;a;)n=(f[--a]=f[a]+h[a]+n)/Qn|0,f[a]%=Qn;for(n&&(f.unshift(n),++i),d=f.length;f[--d]==0;)f.pop();return e.d=f,e.e=i,Wt?Ot(e,g):e}function Ja(t,e,n){if(t!==~~t||t<e||t>n)throw Error(wc+t)}function za(t){var e,n,r,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)r=t[e]+"",n=zt-r.length,n&&(a+=Ko(n)),a+=r;l=t[e],r=l+"",n=zt-r.length,n&&(a+=Ko(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var Fs=(function(){function t(r,i){var a,l=0,d=r.length;for(r=r.slice();d--;)a=r[d]*i+l,r[d]=a%Qn|0,l=a/Qn|0;return l&&r.unshift(l),r}function e(r,i,a,l){var d,f;if(a!=l)f=a>l?1:-1;else for(d=f=0;d<a;d++)if(r[d]!=i[d]){f=r[d]>i[d]?1:-1;break}return f}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Qn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var d,f,h,p,g,x,b,A,E,S,N,C,j,L,V,D,k,O,R=r.constructor,F=r.s==i.s?1:-1,B=r.d,q=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(Gi+"Division by zero");for(f=r.e-i.e,k=q.length,V=B.length,b=new R(F),A=b.d=[],h=0;q[h]==(B[h]||0);)++h;if(q[h]>(B[h]||0)&&--f,a==null?C=a=R.precision:l?C=a+(Rn(r)-Rn(i))+1:C=a,C<0)return new R(0);if(C=C/zt+2|0,h=0,k==1)for(p=0,q=q[0],C++;(h<V||p)&&C--;h++)j=p*Qn+(B[h]||0),A[h]=j/q|0,p=j%q|0;else{for(p=Qn/(q[0]+1)|0,p>1&&(q=t(q,p),B=t(B,p),k=q.length,V=B.length),L=k,E=B.slice(0,k),S=E.length;S<k;)E[S++]=0;O=q.slice(),O.unshift(0),D=q[0],q[1]>=Qn/2&&++D;do p=0,d=e(q,E,k,S),d<0?(N=E[0],k!=S&&(N=N*Qn+(E[1]||0)),p=N/D|0,p>1?(p>=Qn&&(p=Qn-1),g=t(q,p),x=g.length,S=E.length,d=e(g,E,x,S),d==1&&(p--,n(g,k<x?O:q,x))):(p==0&&(d=p=1),g=q.slice()),x=g.length,x<S&&g.unshift(0),n(E,g,S),d==-1&&(S=E.length,d=e(q,E,k,S),d<1&&(p++,n(E,k<S?O:q,S))),S=E.length):d===0&&(p++,E=[0]),A[h++]=p,d&&E[0]?E[S++]=B[L]||0:(E=[B[L]],S=1);while((L++<V||E[0]!==void 0)&&C--)}return A[0]||A.shift(),b.e=f,Ot(b,l?a+Rn(b)+1:a)}})();function S8(t,e){var n,r,i,a,l,d,f=0,h=0,p=t.constructor,g=p.precision;if(Rn(t)>16)throw Error(oA+Rn(t));if(!t.s)return new p(di);for(Wt=!1,d=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(lc(2,h))/Math.LN10*2+5|0,d+=r,n=i=a=new p(di),p.precision=d;;){if(i=Ot(i.times(t),d),n=n.times(++f),l=a.plus(Fs(i,n,d)),za(l.d).slice(0,d)===za(a.d).slice(0,d)){for(;h--;)a=Ot(a.times(a),d);return p.precision=g,e==null?(Wt=!0,Ot(a,g)):a}a=l}}function Rn(t){for(var e=t.e*zt,n=t.d[0];n>=10;n/=10)e++;return e}function t1(t,e,n){if(e>t.LN10.sd())throw Wt=!0,n&&(t.precision=n),Error(Gi+"LN10 precision limit exceeded");return Ot(new t(t.LN10),e)}function Ko(t){for(var e="";t--;)e+="0";return e}function Lh(t,e){var n,r,i,a,l,d,f,h,p,g=1,x=10,b=t,A=b.d,E=b.constructor,S=E.precision;if(b.s<1)throw Error(Gi+(b.s?"NaN":"-Infinity"));if(b.eq(di))return new E(0);if(e==null?(Wt=!1,h=S):h=e,b.eq(10))return e==null&&(Wt=!0),t1(E,h);if(h+=x,E.precision=h,n=za(A),r=n.charAt(0),a=Rn(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=za(b.d),r=n.charAt(0),g++;a=Rn(b),r>1?(b=new E("0."+n),a++):b=new E(r+"."+n.slice(1))}else return f=t1(E,h+2,S).times(a+""),b=Lh(new E(r+"."+n.slice(1)),h-x).plus(f),E.precision=S,e==null?(Wt=!0,Ot(b,S)):b;for(d=l=b=Fs(b.minus(di),b.plus(di),h),p=Ot(b.times(b),h),i=3;;){if(l=Ot(l.times(p),h),f=d.plus(Fs(l,new E(i),h)),za(f.d).slice(0,h)===za(d.d).slice(0,h))return d=d.times(2),a!==0&&(d=d.plus(t1(E,h+2,S).times(a+""))),d=Fs(d,new E(g),h),E.precision=S,e==null?(Wt=!0,Ot(d,S)):d;d=f,i+=2}}function PI(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=kd(n/zt),t.d=[],r=(n+1)%zt,n<0&&(r+=zt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=zt;r<i;)t.d.push(+e.slice(r,r+=zt));e=e.slice(r),r=zt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Wt&&(t.e>Vy||t.e<-Vy))throw Error(oA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ot(t,e,n){var r,i,a,l,d,f,h,p,g=t.d;for(l=1,a=g[0];a>=10;a/=10)l++;if(r=e-l,r<0)r+=zt,i=e,h=g[p=0];else{if(p=Math.ceil((r+1)/zt),a=g.length,p>=a)return t;for(h=a=g[p],l=1;a>=10;a/=10)l++;r%=zt,i=r-zt+l}if(n!==void 0&&(a=lc(10,l-i-1),d=h/a%10|0,f=e<0||g[p+1]!==void 0||h%a,f=n<4?(d||f)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?i>0?h/lc(10,l-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(a=Rn(t),g.length=1,e=e-a-1,g[0]=lc(10,(zt-e%zt)%zt),t.e=kd(-e/zt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,a=1,p--):(g.length=p+1,a=lc(10,zt-r),g[p]=i>0?(h/lc(10,l-i)%lc(10,i)|0)*a:0),f)for(;;)if(p==0){(g[0]+=a)==Qn&&(g[0]=1,++t.e);break}else{if(g[p]+=a,g[p]!=Qn)break;g[p--]=0,a=1}for(r=g.length;g[--r]===0;)g.pop();if(Wt&&(t.e>Vy||t.e<-Vy))throw Error(oA+Rn(t));return t}function T8(t,e){var n,r,i,a,l,d,f,h,p,g,x=t.constructor,b=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),Wt?Ot(e,b):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,d=g.length):(n=g,r=h,d=f.length),i=Math.max(Math.ceil(b/zt),d)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,d=g.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}l=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),d=f.length,i=g.length-d;i>0;--i)f[d++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(a=i;a&&f[--a]===0;)f[a]=Qn-1;--f[a],f[i]+=Qn}f[i]-=g[i]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Wt?Ot(e,b):e):new x(0)}function Ic(t,e,n){var r,i=Rn(t),a=za(t.d),l=a.length;return e?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+Ko(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ko(-i-1)+a,n&&(r=n-l)>0&&(a+=Ko(r))):i>=l?(a+=Ko(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+Ko(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=Ko(r))),t.s<0?"-"+a:a}function OI(t,e){if(t.length>e)return t.length=e,!0}function N8(t){var e,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(wc+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return PI(l,a.toString())}else if(typeof a!="string")throw Error(wc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,tse.test(a))PI(l,a);else throw Error(wc+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=N8,i.config=i.set=nse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function nse(t){if(!t||typeof t!="object")throw Error(Gi+"Object expected");var e,n,r,i=["precision",1,Id,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(kd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(wc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wc+n+": "+r);return this}var lA=N8(ese);di=new lA(1);const xt=lA;var rse=t=>t,j8={},C8=t=>t===j8,II=t=>function e(){return arguments.length===0||arguments.length===1&&C8(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},P8=(t,e)=>t===1?e:II(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==j8).length;return a>=t?e(...r):P8(t-a,II(function(){for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];var h=r.map(p=>C8(p)?d.shift():p);return e(...h,...d)}))}),Jv=t=>P8(t.length,t),T2=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},ise=Jv((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),ase=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return rse;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((d,f)=>f(d),a(...arguments))}},N2=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),O8=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((l,d)=>{var f;return l===((f=e)===null||f===void 0?void 0:f[d])})||(e=i,n=t(...i)),n}};function I8(t){var e;return t===0?e=1:e=Math.floor(new xt(t).abs().log(10).toNumber())+1,e}function k8(t,e,n){for(var r=new xt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}Jv((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Jv((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Jv((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var R8=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},D8=(t,e,n)=>{if(t.lte(0))return new xt(0);var r=I8(t.toNumber()),i=new xt(10).pow(r),a=t.div(i),l=r!==1?.05:.1,d=new xt(Math.ceil(a.div(l).toNumber())).add(n).mul(l),f=d.mul(i);return e?new xt(f.toNumber()):new xt(Math.ceil(f.toNumber()))},sse=(t,e,n)=>{var r=new xt(1),i=new xt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new xt(10).pow(I8(t)-1),i=new xt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new xt(Math.floor(t)))}else t===0?i=new xt(Math.floor((e-1)/2)):n||(i=new xt(Math.floor(t)));var l=Math.floor((e-1)/2),d=ase(ise(f=>i.add(new xt(f-l).mul(r)).toNumber()),T2);return d(0,e)},M8=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new xt(0),tickMin:new xt(0),tickMax:new xt(0)};var l=D8(new xt(n).sub(e).div(r-1),i,a),d;e<=0&&n>=0?d=new xt(0):(d=new xt(e).add(n).div(2),d=d.sub(new xt(d).mod(l)));var f=Math.ceil(d.sub(e).div(l).toNumber()),h=Math.ceil(new xt(n).sub(d).div(l).toNumber()),p=f+h+1;return p>r?M8(e,n,r,i,a+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:l,tickMin:d.sub(new xt(f).mul(l)),tickMax:d.add(new xt(h).mul(l))})};function ose(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[l,d]=R8([e,n]);if(l===-1/0||d===1/0){var f=d===1/0?[l,...T2(0,r-1).map(()=>1/0)]:[...T2(0,r-1).map(()=>-1/0),d];return e>n?N2(f):f}if(l===d)return sse(l,r,i);var{step:h,tickMin:p,tickMax:g}=M8(l,d,a,i,0),x=k8(p,g.add(new xt(.1).mul(h)),h);return e>n?N2(x):x}function lse(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=R8([n,r]);if(a===-1/0||l===1/0)return[n,r];if(a===l)return[a];var d=Math.max(e,2),f=D8(new xt(l).sub(a).div(d-1),i,0),h=[...k8(new xt(a),new xt(l),f),l];return i===!1&&(h=h.map(p=>Math.round(p))),n>r?N2(h):h}var cse=O8(ose),use=O8(lse),L8=t=>t.rootProps.maxBarSize,dse=t=>t.rootProps.barGap,V8=t=>t.rootProps.barCategoryGap,fse=t=>t.rootProps.barSize,vm=t=>t.rootProps.stackOffset,cA=t=>t.options.chartName,uA=t=>t.rootProps.syncId,U8=t=>t.rootProps.syncMethod,dA=t=>t.options.eventEmitter,Os={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ci={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},e0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},hse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Os.angleAxisId,includeHidden:!1,name:void 0,reversed:Os.reversed,scale:Os.scale,tick:Os.tick,tickCount:void 0,ticks:void 0,type:Os.type,unit:void 0},mse={allowDataOverflow:ci.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ci.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ci.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ci.scale,tick:ci.tick,tickCount:ci.tickCount,ticks:void 0,type:ci.type,unit:void 0},pse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Os.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Os.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Os.scale,tick:Os.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},gse={allowDataOverflow:ci.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ci.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ci.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ci.scale,tick:ci.tick,tickCount:ci.tickCount,ticks:void 0,type:"category",unit:void 0},fA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?pse:hse,hA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?gse:mse,t0=t=>t.polarOptions,mA=re([ao,so,zn],wM),B8=re([t0,mA],(t,e)=>{if(t!=null)return _r(t.innerRadius,e,0)}),z8=re([t0,mA],(t,e)=>{if(t!=null)return _r(t.outerRadius,e,e*.8)}),yse=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},$8=re([t0],yse);re([fA,$8],e0);var F8=re([mA,B8,z8],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([hA,F8],e0);var q8=re([tt,t0,B8,z8,ao,so],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:d,startAngle:f,endAngle:h}=e;return{cx:_r(l,i,i/2),cy:_r(d,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Xt=(t,e)=>e,xm=(t,e,n)=>n;function n0(t){return t?.id}var qn=t=>{var e=tt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Rd=t=>t.tooltip.settings.axisId,tr=t=>{var e=qn(t),n=Rd(t);return bm(t,e,n)},H8=re([tr],t=>t?.dataKey);function K8(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return t.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=n0(d);h.forEach((g,x)=>{var b=a==null||i?x:String(jt(g,a,null)),A=jt(g,d.dataKey,0),E;l.has(b)?E=l.get(b):E={},Object.assign(E,{[p]:A}),l.set(b,E)})}}),Array.from(l.values())}function r0(t){return t.stackId!=null&&t.dataKey!=null}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){vse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vse(t,e,n){return(e=xse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xse(t){var e=bse(t,"string");return typeof e=="symbol"?e:e+""}function bse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j2=[0,"auto"],oi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},G8=(t,e)=>t.cartesianAxis.xAxis[e],co=(t,e)=>{var n=G8(t,e);return n??oi},li={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:j2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:dm},W8=(t,e)=>t.cartesianAxis.yAxis[e],uo=(t,e)=>{var n=W8(t,e);return n??li},wse={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},pA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??wse},En=(t,e,n)=>{switch(e){case"xAxis":return co(t,n);case"yAxis":return uo(t,n);case"zAxis":return pA(t,n);case"angleAxis":return fA(t,n);case"radiusAxis":return hA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},_se=(t,e,n)=>{switch(e){case"xAxis":return co(t,n);case"yAxis":return uo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},bm=(t,e,n)=>{switch(e){case"xAxis":return co(t,n);case"yAxis":return uo(t,n);case"angleAxis":return fA(t,n);case"radiusAxis":return hA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Y8=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function gA(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var wm=t=>t.graphicalItems.cartesianItems,Ese=re([Xt,xm],gA),yA=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),_m=re([wm,En,Ese],yA),X8=re([_m],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(r0)),Q8=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Z8=re([_m],Q8),vA=t=>t.map(e=>e.data).filter(Boolean).flat(1),Ase=re([_m],vA),xA=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},bA=re([Ase,ym],xA),wA=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:jt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:jt(i,r)}))):t.map(r=>({value:r})),i0=re([bA,En,_m],wA);function J8(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Wc(t){return t.filter(e=>Za(e)||e instanceof Date).map(Number).filter(e=>Xr(e)===!1)}function Sse(t,e,n){return!n||typeof e!="number"||Xr(e)?[]:n.length?Wc(n.flatMap(r=>{var i=jt(t,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!dr(a)||!dr(l)))return[e-a,e+l]})):[]}var Tse=re([X8,ym,tr],K8),e9=(t,e,n)=>{var r={},i=e.reduce((a,l)=>(l.stackId==null||(a[l.stackId]==null&&(a[l.stackId]=[]),a[l.stackId].push(l)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[l,d]=a,f=d.map(n0);return[l,{stackedData:Ote(t,f,n),graphicalItems:d}]}))},Vh=re([Tse,X8,vm],e9),t9=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=Dte(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Nse=re([Vh,Tl,Xt],t9),n9=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(l=>{var d,f,h=(d=r[l.id])===null||d===void 0?void 0:d.filter(g=>J8(i,g)),p=jt(a,(f=e.dataKey)!==null&&f!==void 0?f:l.dataKey);return{value:p,errorDomain:Sse(a,p,h)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:jt(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),a0=t=>t.errorBars,r9=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>J8(n,r));re([Z8,a0,Xt],r9);var jse=re([bA,En,Z8,a0,Xt],n9);function Cse(t){var{value:e}=t;if(Za(e)||e instanceof Date)return e}var RI=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Wc(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Pse=(t,e,n)=>{var r=t.map(Cse).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&p5(r))?$M(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},_A=t=>{var e;if(t==null||!("domain"in t))return j2;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Wc(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:j2},By=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),d=Math.max(...a);return[l,d]}},i9=t=>t.referenceElements.dots,Dd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Ose=re([i9,Xt,xm],Dd),a9=t=>t.referenceElements.areas,Ise=re([a9,Xt,xm],Dd),s9=t=>t.referenceElements.lines,kse=re([s9,Xt,xm],Dd),o9=(t,e)=>{var n=Wc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Rse=re(Ose,Xt,o9),l9=(t,e)=>{var n=Wc(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Dse=re([Ise,Xt],l9),c9=(t,e)=>{var n=Wc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Mse=re(kse,Xt,c9),Lse=re(Rse,Mse,Dse,(t,e,n)=>By(t,n,e)),u9=re([En],_A),EA=(t,e,n,r,i,a,l)=>{var d=Zae(e,t.allowDataOverflow);if(d!=null)return d;var f=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",h=f?By(n,i,RI(r)):By(i,RI(r));return Jae(e,h,t.allowDataOverflow)},Vse=re([En,u9,Nse,jse,Lse,tt,Xt],EA),Use=[0,1],AA=(t,e,n,r,i,a,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:d,type:f}=t,h=ss(e,a);return h&&d==null?$M(0,n.length):f==="category"?Pse(r,t,h):i==="expand"?Use:l}},SA=re([En,tt,bA,i0,vm,Xt,Vse],AA),d9=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:l}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var d="scale".concat(om(a));return d in uh?d:"point"}}},Md=re([En,tt,Y8,cA,Xt],d9);function Bse(t){if(t!=null){if(t in uh)return uh[t]();var e="scale".concat(om(t));if(e in uh)return uh[e]()}}function TA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Bse(e);if(i!=null){var a=i.domain(n).range(r);return Tte(a),a}}}var NA=(t,e,n)=>{var r=_A(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&pd(t))return cse(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&pd(t))return use(t,e.tickCount,e.allowDecimals)}},jA=re([SA,bm,Md],NA),CA=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&pd(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],l=e[1],d=n[n.length-1];return[Math.min(i,a),Math.max(l,d)]}return e},zse=re([En,SA,jA,Xt],CA),$se=re(i0,En,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Wc(t.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/i}}),f9=re($se,tt,V8,zn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!dr(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var l=_r(n,t*a),d=t*a/2;return d-l-(d-l)/a*l}return 0}),Fse=(t,e)=>{var n=co(t,e);return n==null||typeof n.padding!="string"?0:f9(t,"xAxis",e,n.padding)},qse=(t,e)=>{var n=uo(t,e);return n==null||typeof n.padding!="string"?0:f9(t,"yAxis",e,n.padding)},Hse=re(co,Fse,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Kse=re(uo,qse,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Gse=re([zn,Hse,Kv,Hv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Wse=re([zn,tt,Kse,Kv,Hv,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Em=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Gse(t,n,r);case"yAxis":return Wse(t,n,r);case"zAxis":return(i=pA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return $8(t);case"radiusAxis":return F8(t,n);default:return}},h9=re([En,Em],e0),Ld=re([En,Md,zse,h9],TA);re([_m,a0,Xt],r9);function m9(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var s0=(t,e)=>e,o0=(t,e,n)=>n,Yse=re(Fv,s0,o0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(m9)),Xse=re(qv,s0,o0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(m9)),p9=(t,e)=>({width:t.width,height:e.height}),Qse=(t,e)=>{var n=typeof e.width=="number"?e.width:dm;return{width:n,height:t.height}},g9=re(zn,co,p9),Zse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Jse=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},eoe=re(so,zn,Yse,s0,o0,(t,e,n,r,i)=>{var a={},l;return n.forEach(d=>{var f=p9(e,d);l==null&&(l=Zse(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;a[d.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),a}),toe=re(ao,zn,Xse,s0,o0,(t,e,n,r,i)=>{var a={},l;return n.forEach(d=>{var f=Qse(e,d);l==null&&(l=Jse(e,r,t));var h=r==="left"&&!i||r==="right"&&i;a[d.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),a}),noe=(t,e)=>{var n=co(t,e);if(n!=null)return eoe(t,n.orientation,n.mirror)},roe=re([zn,co,noe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),ioe=(t,e)=>{var n=uo(t,e);if(n!=null)return toe(t,n.orientation,n.mirror)},aoe=re([zn,uo,ioe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),y9=re(zn,uo,(t,e)=>{var n=typeof e.width=="number"?e.width:dm;return{width:n,height:t.height}}),DI=(t,e,n)=>{switch(e){case"xAxis":return g9(t,n).width;case"yAxis":return y9(t,n).height;default:return}},v9=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,d=ss(t,r),f=e.map(h=>h.value);if(l&&d&&a==="category"&&i&&p5(f))return f}},PA=re([tt,i0,En,Xt],v9),x9=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=ss(t,r);if(l&&(i==="number"||a!=="auto"))return e.map(d=>d.value)}},OA=re([tt,i0,bm,Xt],x9),MI=re([tt,_se,Md,Ld,PA,OA,Em,jA,Xt],(t,e,n,r,i,a,l,d,f)=>{if(e==null)return null;var h=ss(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:d,range:l,realScaleType:n,scale:r}}),soe=(t,e,n,r,i,a,l,d,f)=>{if(!(e==null||r==null)){var h=ss(t,f),{type:p,ticks:g,tickCount:x}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,A=p==="category"&&r.bandwidth?r.bandwidth()/b:0;A=f==="angleAxis"&&a!=null&&a.length>=2?Zn(a[0]-a[1])*2*A:A;var E=g||i;if(E){var S=E.map((N,C)=>{var j=l?l.indexOf(N):N;return{index:C,coordinate:r(j)+A,value:N,offset:A}});return S.filter(N=>!Xr(N.coordinate))}return h&&d?d.map((N,C)=>({coordinate:r(N)+A,value:N,index:C,offset:A})):r.ticks?r.ticks(x).map(N=>({coordinate:r(N)+A,value:N,offset:A})):r.domain().map((N,C)=>({coordinate:r(N)+A,value:l?l[N]:N,index:C,offset:A}))}},b9=re([tt,bm,Md,Ld,jA,Em,PA,OA,Xt],soe),ooe=(t,e,n,r,i,a,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=ss(t,l),{tickCount:f}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?Zn(r[0]-r[1])*2*h:h,d&&a?a.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}},es=re([tt,bm,Ld,Em,PA,OA,Xt],ooe),ts=re(En,Ld,(t,e)=>{if(!(t==null||e==null))return Uy(Uy({},t),{},{scale:e})}),loe=re([En,Md,SA,h9],TA);re((t,e,n)=>pA(t,n),loe,(t,e)=>{if(!(t==null||e==null))return Uy(Uy({},t),{},{scale:e})});var coe=re([tt,Fv,qv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),w9=t=>t.options.defaultTooltipEventType,_9=t=>t.options.validateTooltipEventTypes;function E9(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function IA(t,e){var n=w9(t),r=_9(t);return E9(e,n,r)}function uoe(t){return Ce(e=>IA(e,t))}var A9=(t,e)=>{var n,r=Number(e);if(!(Xr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},doe=t=>t.tooltip.settings,Qo={active:!1,index:null,dataKey:void 0,coordinate:void 0},foe={itemInteraction:{click:Qo,hover:Qo},axisInteraction:{click:Qo,hover:Qo},keyboardInteraction:Qo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},S9=vi({name:"tooltip",initialState:foe,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=$s(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:hoe,removeTooltipEntrySettings:moe,setTooltipSettingsState:poe,setActiveMouseOverItemIndex:T9,mouseLeaveItem:goe,mouseLeaveChart:N9,setActiveClickItemIndex:yoe,setMouseOverAxisIndex:j9,setMouseClickAxisIndex:voe,setSyncInteraction:C2,setKeyboardInteraction:P2}=S9.actions,xoe=S9.reducer;function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){boe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function boe(t,e,n){return(e=woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function woe(t){var e=_oe(t,"string");return typeof e=="symbol"?e:e+""}function _oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eoe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Aoe(t){return t.index!=null}var C9=(t,e,n,r)=>{if(e==null)return Qo;var i=Eoe(t,e,n);if(i==null)return Qo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Aoe(i)){if(a)return fg(fg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return fg(fg({},Qo),{},{coordinate:i.coordinate})},kA=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!dr(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},P9=(t,e,n,r,i,a,l,d)=>{if(!(a==null||d==null)){var f=l[0],h=f==null?void 0:d(f.positions,a);if(h!=null)return h;var p=i?.[Number(a)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},O9=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},Am=t=>t.options.tooltipPayloadSearcher,Vd=t=>t.tooltip;function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){Soe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Soe(t,e,n){return(e=Toe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Toe(t){var e=Noe(t,"string");return typeof e=="symbol"?e:e+""}function Noe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function joe(t,e){return t??e}var I9=(t,e,n,r,i,a,l)=>{if(!(e==null||a==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((x,b)=>{var A,{dataDefinedOnItem:E,settings:S}=b,N=joe(E,d),C=Array.isArray(N)?_M(N,h,p):N,j=(A=S?.dataKey)!==null&&A!==void 0?A:r,L=S?.nameKey,V;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&l==="axis"?V=g5(C,r,i):V=a(C,e,f,L),Array.isArray(V))V.forEach(k=>{var O=UI(UI({},S),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});x.push(wO({tooltipEntrySettings:O,dataKey:k.dataKey,payload:k.payload,value:jt(k.payload,k.dataKey),name:k.name}))});else{var D;x.push(wO({tooltipEntrySettings:S,dataKey:j,payload:V,value:jt(V,j),name:(D=jt(V,L))!==null&&D!==void 0?D:S?.name}))}return x},g)}},RA=re([tr,tt,Y8,cA,qn],d9),Coe=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Poe=re([qn,Rd],gA),Sm=re([Coe,tr,Poe],yA),Ooe=re([Sm],t=>t.filter(r0)),Ioe=re([Sm],vA),Ud=re([Ioe,Tl],xA),koe=re([Ooe,Tl,tr],K8),DA=re([Ud,tr,Sm],wA),Roe=re([tr],_A),Doe=re([Sm],t=>t.filter(r0)),Moe=re([koe,Doe,vm],e9),Loe=re([Moe,Tl,qn],t9),Voe=re([Sm],Q8),Uoe=re([Ud,tr,Voe,a0,qn],n9),Boe=re([i9,qn,Rd],Dd),zoe=re([Boe,qn],o9),$oe=re([a9,qn,Rd],Dd),Foe=re([$oe,qn],l9),qoe=re([s9,qn,Rd],Dd),Hoe=re([qoe,qn],c9),Koe=re([zoe,Hoe,Foe],By),Goe=re([tr,Roe,Loe,Uoe,Koe,tt,qn],EA),k9=re([tr,tt,Ud,DA,vm,qn,Goe],AA),Woe=re([k9,tr,RA],NA),Yoe=re([tr,k9,Woe,qn],CA),R9=t=>{var e=qn(t),n=Rd(t),r=!1;return Em(t,e,n,r)},D9=re([tr,R9],e0),M9=re([tr,RA,Yoe,D9],TA),Xoe=re([tt,DA,tr,qn],v9),Qoe=re([tt,DA,tr,qn],x9),Zoe=(t,e,n,r,i,a,l,d)=>{if(e){var{type:f}=e,h=ss(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&i!=null&&i?.length>=2?Zn(i[0]-i[1])*2*g:g,h&&l?l.map((x,b)=>({coordinate:r(x)+g,value:x,index:b,offset:g})):r.domain().map((x,b)=>({coordinate:r(x)+g,value:a?a[x]:x,index:b,offset:g}))}}},fo=re([tt,tr,RA,M9,R9,Xoe,Qoe,qn],Zoe),MA=re([w9,_9,doe],(t,e,n)=>E9(n.shared,t,e)),L9=t=>t.tooltip.settings.trigger,LA=t=>t.tooltip.settings.defaultIndex,l0=re([Vd,MA,L9,LA],C9),pl=re([l0,Ud],kA),V9=re([fo,pl],A9),U9=re([l0],t=>{if(t)return t.dataKey}),B9=re([Vd,MA,L9,LA],O9),Joe=re([ao,so,tt,zn,fo,LA,B9,Am],P9),ele=re([l0,Joe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),tle=re([l0],t=>t.active),nle=re([B9,pl,Tl,H8,V9,Am,MA],I9),rle=re([nle],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){ile(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ile(t,e,n){return(e=ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ale(t){var e=sle(t,"string");return typeof e=="symbol"?e:e+""}function sle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ole=()=>Ce(tr),lle=()=>{var t=ole(),e=Ce(fo),n=Ce(M9);return Oc(zI(zI({},t),{},{scale:n}),e)},z9=()=>Ce(cA),VA=(t,e)=>e,$9=(t,e,n)=>n,UA=(t,e,n,r)=>r,cle=re(fo,t=>Lv(t,e=>e.coordinate)),BA=re([Vd,VA,$9,UA],C9),F9=re([BA,Ud],kA),ule=(t,e,n)=>{if(e!=null){var r=Vd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},q9=re([Vd,VA,$9,UA],O9),zy=re([ao,so,tt,zn,fo,UA,q9,Am],P9),dle=re([BA,zy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),H9=re(fo,F9,A9),fle=re([q9,F9,Tl,H8,H9,Am,VA],I9),hle=re([BA],t=>({isActive:t.active,activeIndex:t.index})),mle=(t,e,n,r,i,a,l,d)=>{if(!(!t||!e||!r||!i||!a)){var f=Mte(t.chartX,t.chartY,e,n,d);if(f){var h=Vte(f,e),p=Ate(h,l,a,r,i),g=Lte(e,a,p,f);return{activeIndex:String(p),activeCoordinate:g}}}};function O2(){return O2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O2.apply(null,arguments)}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){ple(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ple(t,e,n){return(e=gle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gle(t){var e=yle(t,"string");return typeof e=="symbol"?e:e+""}function yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vle(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:l,cursor:d,tooltipEventType:f,chartName:h}=t,p=e,g=n,x=r;if(!d||!p||h!=="ScatterChart"&&f!=="axis")return null;var b,A;if(h==="ScatterChart")b=p,A=Vne;else if(h==="BarChart")b=Une(l,p,i,a),A=VM;else if(l==="radial"){var{cx:E,cy:S,radius:N,startAngle:C,endAngle:j}=UM(p);b={cx:E,cy:S,startAngle:C,endAngle:j,innerRadius:N,outerRadius:N},A=zM}else b={points:vre(l,p,i)},A=Yu;var L=typeof d=="object"&&"className"in d?d.className:void 0,V=hg(hg(hg(hg({stroke:"#ccc",pointerEvents:"none"},i),b),qt(d,!1)),{},{payload:g,payloadIndex:x,className:ct("recharts-tooltip-cursor",L)});return _.isValidElement(d)?_.cloneElement(d,V):_.createElement(A,V)}function xle(t){var e=lle(),n=CM(),r=fm(),i=z9();return _.createElement(vle,O2({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var K9=_.createContext(null),ble=()=>_.useContext(K9),n1={exports:{}},FI;function wle(){return FI||(FI=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function a(f,h,p,g,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,g||f,x),A=n?n+h:h;return f._events[A]?f._events[A].fn?f._events[A]=[f._events[A],b]:f._events[A].push(b):(f._events[A]=b,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,b=g.length,A=new Array(b);x<b;x++)A[x]=g[x].fn;return A},d.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,x,b,A){var E=n?n+h:h;if(!this._events[E])return!1;var S=this._events[E],N=arguments.length,C,j;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),N){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,x),!0;case 5:return S.fn.call(S.context,p,g,x,b),!0;case 6:return S.fn.call(S.context,p,g,x,b,A),!0}for(j=1,C=new Array(N-1);j<N;j++)C[j-1]=arguments[j];S.fn.apply(S.context,C)}else{var L=S.length,V;for(j=0;j<L;j++)switch(S[j].once&&this.removeListener(h,S[j].fn,void 0,!0),N){case 1:S[j].fn.call(S[j].context);break;case 2:S[j].fn.call(S[j].context,p);break;case 3:S[j].fn.call(S[j].context,p,g);break;case 4:S[j].fn.call(S[j].context,p,g,x);break;default:if(!C)for(V=1,C=new Array(N-1);V<N;V++)C[V-1]=arguments[V];S[j].fn.apply(S[j].context,C)}}return!0},d.prototype.on=function(h,p,g){return a(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return a(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,x){var b=n?n+h:h;if(!this._events[b])return this;if(!p)return l(this,b),this;var A=this._events[b];if(A.fn)A.fn===p&&(!x||A.once)&&(!g||A.context===g)&&l(this,b);else{for(var E=0,S=[],N=A.length;E<N;E++)(A[E].fn!==p||x&&!A[E].once||g&&A[E].context!==g)&&S.push(A[E]);S.length?this._events[b]=S.length===1?S[0]:S:l(this,b)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(n1)),n1.exports}var _le=wle();const Ele=ns(_le);var Uh=new Ele,I2="recharts.syncEvent.tooltip",qI="recharts.syncEvent.brush";function c0(t,e){if(e){var n=Number.parseInt(e,10);if(!Xr(n))return t?.[n]}}var Ale={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},G9=vi({name:"options",initialState:Ale,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Sle=G9.reducer,{createEventEmitter:Tle}=G9.actions;function Nle(t){return t.tooltip.syncInteraction}var jle={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},W9=vi({name:"chartData",initialState:jle,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:HI,setDataStartEndIndexes:Cle,setComputedData:sye}=W9.actions,Ple=W9.reducer,Ole=["x","y"];function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ic(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){Ile(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ile(t,e,n){return(e=kle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kle(t){var e=Rle(t,"string");return typeof e=="symbol"?e:e+""}function Rle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dle(t,e){if(t==null)return{};var n,r,i=Mle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Y9=()=>{};function Lle(){var t=Ce(uA),e=Ce(dA),n=on(),r=Ce(U8),i=Ce(fo),a=fm(),l=kE(),d=Ce(f=>f.rootProps.className);_.useEffect(()=>{if(t==null)return Y9;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var x;if(l&&p!==null&&p!==void 0&&(x=p.payload)!==null&&x!==void 0&&x.coordinate){var b=p.payload.coordinate,{x:A,y:E}=b,S=Dle(b,Ole),N=ic(ic(ic({},S),typeof A=="number"&&{x:Math.max(l.x,Math.min(A,l.x+l.width))}),typeof E=="number"&&{y:Math.max(l.y,Math.min(E,l.y+l.height))}),C=ic(ic({},p),{},{payload:ic(ic({},p.payload),{},{coordinate:N})});n(C)}else n(p);return}if(i!=null){var j;if(typeof r=="function"){var L={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},V=r(i,L);j=i[V]}else r==="value"&&(j=i.find(U=>String(U.value)===p.payload.label));var{coordinate:D}=p.payload;if(j==null||p.payload.active===!1||D==null||l==null){n(C2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:k,y:O}=D,R=Math.min(k,l.x+l.width),F=Math.min(O,l.y+l.height),B={x:a==="horizontal"?j.coordinate:R,y:a==="horizontal"?F:j.coordinate},q=C2({active:p.payload.active,coordinate:B,dataKey:p.payload.dataKey,index:String(j.index),label:p.payload.label});n(q)}}};return Uh.on(I2,f),()=>{Uh.off(I2,f)}},[d,n,e,t,r,i,a,l])}function Vle(){var t=Ce(uA),e=Ce(dA),n=on();_.useEffect(()=>{if(t==null)return Y9;var r=(i,a,l)=>{e!==l&&t===i&&n(Cle(a))};return Uh.on(qI,r),()=>{Uh.off(qI,r)}},[n,e,t])}function Ule(){var t=on();_.useEffect(()=>{t(Tle())},[t]),Lle(),Vle()}function Ble(t,e,n,r,i,a){var l=Ce(x=>ule(x,t,e)),d=Ce(dA),f=Ce(uA),h=Ce(U8),p=Ce(Nle),g=p?.active;_.useEffect(()=>{if(!g&&f!=null&&d!=null){var x=C2({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});Uh.emit(I2,f,x,d)}},[g,n,l,i,r,d,f,h,a])}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){zle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zle(t,e,n){return(e=$le(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $le(t){var e=Fle(t,"string");return typeof e=="symbol"?e:e+""}function Fle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qle(t){return t.dataKey}function Hle(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(gne,e)}var YI=[],Kle={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!oo.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tm(t){var e=$n(t,Kle),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:l,filterNull:d,isAnimationActive:f,offset:h,payloadUniqBy:p,position:g,reverseDirection:x,useTranslate3d:b,wrapperStyle:A,cursor:E,shared:S,trigger:N,defaultIndex:C,portal:j,axisId:L}=e,V=on(),D=typeof C=="number"?String(C):C;_.useEffect(()=>{V(poe({shared:S,trigger:N,axisId:L,active:n,defaultIndex:D}))},[V,S,N,L,n,D]);var k=kE(),O=kM(),R=uoe(S),{activeIndex:F,isActive:B}=Ce(ye=>hle(ye,R,N,D)),q=Ce(ye=>fle(ye,R,N,D)),U=Ce(ye=>H9(ye,R,N,D)),ve=Ce(ye=>dle(ye,R,N,D)),le=q,W=ble(),K=n??B,[ce,me]=X5([le,K]),z=R==="axis"?U:void 0;Ble(R,N,ve,z,F,K);var X=j??W;if(X==null)return null;var ne=le??YI;K||(ne=YI),d&&ne.length&&(ne=H5(le.filter(ye=>ye.value!=null&&(ye.hide!==!0||e.includeHidden)),p,qle));var Z=ne.length>0,oe=_.createElement(Ene,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:f,active:K,coordinate:ve,hasPayload:Z,offset:h,position:g,reverseDirection:x,useTranslate3d:b,viewBox:k,wrapperStyle:A,lastBoundingBox:ce,innerRef:me,hasPortalFromProps:!!j},Hle(l,WI(WI({},e),{},{payload:ne,label:z,active:K,coordinate:ve,accessibilityLayer:O})));return _.createElement(_.Fragment,null,bR.createPortal(oe,X),K&&_.createElement(xle,{cursor:E,tooltipEventType:R,coordinate:ve,payload:le,index:F}))}var r1={},i1={},a1={},XI;function Gle(){return XI||(XI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let l,d=null;const f=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),p=()=>{d!==null&&(n.apply(l,d),l=void 0,d=null)},g=()=>{h&&p(),E()};let x=null;const b=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},r)},A=()=>{x!==null&&(clearTimeout(x),x=null)},E=()=>{A(),l=void 0,d=null},S=()=>{p()},N=function(...C){if(i?.aborted)return;l=this,d=C;const j=x==null;b(),f&&j&&p()};return N.schedule=b,N.cancel=E,N.flush=S,i?.addEventListener("abort",E,{once:!0}),N}t.debounce=e})(a1)),a1}var QI;function Wle(){return QI||(QI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gle();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:d=!0,maxWait:f}=a,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const x=e.debounce(function(...E){p=r.apply(this,E),g=null},i,{edges:h}),b=function(...E){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,E),g=Date.now(),x.cancel(),x.schedule(),p):(x.apply(this,E),p)},A=()=>(x.flush(),p);return b.cancel=x.cancel,b.flush=A,b}t.debounce=n})(i1)),i1}var ZI;function Yle(){return ZI||(ZI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wle();function n(r,i=0,a={}){const{leading:l=!0,trailing:d=!0}=a;return e.debounce(r,i,{leading:l,maxWait:i,trailing:d})}t.throttle=n})(r1)),r1}var s1,JI;function Xle(){return JI||(JI=1,s1=Yle().throttle),s1}var Qle=Xle();const Zle=ns(Qle);var yh=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){Jle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jle(t,e,n){return(e=ece(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ece(t){var e=tce(t,"string");return typeof e=="symbol"?e:e+""}function tce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nm=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:l=0,minHeight:d,maxHeight:f,children:h,debounce:p=0,id:g,className:x,onResize:b,style:A={}}=t,E=_.useRef(null),S=_.useRef();S.current=b,_.useImperativeHandle(e,()=>E.current);var[N,C]=_.useState({containerWidth:r.width,containerHeight:r.height}),j=_.useCallback((V,D)=>{C(k=>{var O=Math.round(V),R=Math.round(D);return k.containerWidth===O&&k.containerHeight===R?k:{containerWidth:O,containerHeight:R}})},[]);_.useEffect(()=>{var V=R=>{var F,{width:B,height:q}=R[0].contentRect;j(B,q),(F=S.current)===null||F===void 0||F.call(S,B,q)};p>0&&(V=Zle(V,p,{trailing:!0,leading:!1}));var D=new ResizeObserver(V),{width:k,height:O}=E.current.getBoundingClientRect();return j(k,O),D.observe(E.current),()=>{D.disconnect()}},[j,p]);var L=_.useMemo(()=>{var{containerWidth:V,containerHeight:D}=N;if(V<0||D<0)return null;yh(fc(i)||fc(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),yh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var k=fc(i)?V:i,O=fc(a)?D:a;return n&&n>0&&(k?O=k/n:O&&(k=O*n),f&&O>f&&(O=f)),yh(k>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,O,i,a,l,d,n),_.Children.map(h,R=>_.cloneElement(R,{width:k,height:O,style:o1({width:k,height:O},R.props.style)}))},[n,h,a,f,d,l,N,i]);return _.createElement("div",{id:g?"".concat(g):void 0,className:ct("recharts-responsive-container",x),style:o1(o1({},A),{},{width:i,height:a,minWidth:l,minHeight:d,maxHeight:f}),ref:E},_.createElement("div",{style:{width:0,height:0,overflow:"visible"}},L))}),Yc=t=>null;Yc.displayName="Cell";function nce(t,e,n){return(e=rce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rce(t){var e=ice(t,"string");return typeof e=="symbol"?e:e+""}function ice(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ace{constructor(e){nce(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){oce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oce(t,e,n){return(e=lce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lce(t){var e=cce(t,"string");return typeof e=="symbol"?e:e+""}function cce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uce={cacheSize:2e3,enableCache:!0},X9=sce({},uce),nk=new ace(X9.cacheSize),dce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rk="recharts_measurement_span";function fce(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",l=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(d)}var ik=(t,e)=>{try{var n=document.getElementById(rk);n||(n=document.createElement("span"),n.setAttribute("id",rk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,dce,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},vh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||oo.isSsr)return{width:0,height:0};if(!X9.enableCache)return ik(e,n);var r=fce(e,n),i=nk.get(r);if(i)return i;var a=ik(e,n);return nk.set(r,a),a},ak=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Q9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pce=Object.keys(Q9),Bu="NaN";function gce(t,e){return t*Q9[e]}class Fr{static parse(e){var n,[,r,i]=(n=mce.exec(e))!==null&&n!==void 0?n:[];return new Fr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Xr(e)&&(this.unit=""),n!==""&&!hce.test(n)&&(this.num=NaN,this.unit=""),pce.includes(n)&&(this.num=gce(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Xr(this.num)}}function Z9(t){if(t.includes(Bu))return Bu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=ak.exec(e))!==null&&n!==void 0?n:[],l=Fr.parse(r??""),d=Fr.parse(a??""),f=i==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return Bu;e=e.replace(ak,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,x]=(h=sk.exec(e))!==null&&h!==void 0?h:[],b=Fr.parse(p??""),A=Fr.parse(x??""),E=g==="+"?b.add(A):b.subtract(A);if(E.isNaN())return Bu;e=e.replace(sk,E.toString())}return e}var ok=/\(([^()]*)\)/;function yce(t){for(var e=t,n;(n=ok.exec(e))!=null;){var[,r]=n;e=e.replace(ok,Z9(r))}return e}function vce(t){var e=t.replace(/\s+/g,"");return e=yce(e),e=Z9(e),e}function xce(t){try{return vce(t)}catch{return Bu}}function l1(t){var e=xce(t.slice(5,-1));return e===Bu?"":e}var bce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],wce=["dx","dy","angle","className","breakAll"];function k2(){return k2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k2.apply(null,arguments)}function lk(t,e){if(t==null)return{};var n,r,i=_ce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var J9=/[ \f\n\r\t\v\u2028\u2029]+/,eL=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Ft(e)||(n?i=e.toString().split(""):i=e.toString().split(J9));var a=i.map(d=>({word:d,width:vh(d,r).width})),l=n?0:vh(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},Ece=(t,e,n,r,i)=>{var{maxLines:a,children:l,style:d,breakAll:f}=t,h=Pe(a),p=l,g=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce((q,U)=>{var{word:ve,width:le}=U,W=q[q.length-1];if(W&&(r==null||i||W.width+le+n<Number(r)))W.words.push(ve),W.width+=le+n;else{var K={words:[ve],width:le};q.push(K)}return q},[])},x=g(e),b=F=>F.reduce((B,q)=>B.width>q.width?B:q);if(!h||i)return x;var A=x.length>a||b(x).width>Number(r);if(!A)return x;for(var E="…",S=F=>{var B=p.slice(0,F),q=eL({breakAll:f,style:d,children:B+E}).wordsWithComputedWidth,U=g(q),ve=U.length>a||b(U).width>Number(r);return[ve,U]},N=0,C=p.length-1,j=0,L;N<=C&&j<=p.length-1;){var V=Math.floor((N+C)/2),D=V-1,[k,O]=S(D),[R]=S(V);if(!k&&!R&&(N=V+1),k&&R&&(C=V-1),!k&&R){L=O;break}j++}return L||x},ck=t=>{var e=Ft(t)?[]:t.toString().split(J9);return[{words:e}]},Ace=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=t;if((e||n)&&!oo.isSsr){var d,f,h=eL({breakAll:a,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return ck(r);return Ece({breakAll:a,children:r,maxLines:l,style:i},d,f,e,n)}return ck(r)},uk="#808080",u0=_.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:l=!1,textAnchor:d="start",verticalAnchor:f="end",fill:h=uk}=t,p=lk(t,bce),g=_.useMemo(()=>Ace({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:l,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,l,p.style,p.width]),{dx:x,dy:b,angle:A,className:E,breakAll:S}=p,N=lk(p,wce);if(!Za(n)||!Za(r)||g.length===0)return null;var C=n+(Pe(x)?x:0),j=r+(Pe(b)?b:0),L;switch(f){case"start":L=l1("calc(".concat(a,")"));break;case"middle":L=l1("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:L=l1("calc(".concat(g.length-1," * -").concat(i,")"));break}var V=[];if(l){var D=g[0].width,{width:k}=p;V.push("scale(".concat(Pe(k)?k/D:1,")"))}return A&&V.push("rotate(".concat(A,", ").concat(C,", ").concat(j,")")),V.length&&(N.transform=V.join(" ")),_.createElement("text",k2({},qt(N,!0),{ref:e,x:C,y:j,className:ct("recharts-text",E),textAnchor:d,fill:h.includes("url")?uk:h}),g.map((O,R)=>{var F=O.words.join(S?"":" ");return _.createElement("tspan",{x:C,dy:R===0?L:i,key:"".concat(F,"-").concat(R)},F)}))});u0.displayName="Text";var Sce=["labelRef"];function Tce(t,e){if(t==null)return{};var n,r,i=Nce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){jce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jce(t,e,n){return(e=Cce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cce(t){var e=Pce(t,"string");return typeof e=="symbol"?e:e+""}function Pce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Is(){return Is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Is.apply(null,arguments)}var tL=_.createContext(null),Oce=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,l=_.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return _.createElement(tL.Provider,{value:l},a)},nL=()=>{var t=_.useContext(tL),e=kE();return t||e},Ice=_.createContext(null),kce=()=>{var t=_.useContext(Ice),e=Ce(q8);return t||e},Rce=t=>{var{value:e,formatter:n}=t,r=Ft(t.children)?e:t.children;return typeof n=="function"?n(r):r},zA=t=>t!=null&&typeof t=="function",Dce=(t,e)=>{var n=Zn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Mce=(t,e,n,r,i)=>{var{offset:a,className:l}=t,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:x,clockWise:b}=i,A=(h+p)/2,E=Dce(g,x),S=E>=0?1:-1,N,C;switch(e){case"insideStart":N=g+S*a,C=b;break;case"insideEnd":N=x-S*a,C=!b;break;case"end":N=x+S*a,C=b;break;default:throw new Error("Unsupported position ".concat(e))}C=E<=0?C:!C;var j=kn(d,f,A,N),L=kn(d,f,A,N+(C?1:-1)*359),V="M".concat(j.x,",").concat(j.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(C?0:1,`,
    `).concat(L.x,",").concat(L.y),D=Ft(t.id)?Ch("recharts-radial-line-"):t.id;return _.createElement("text",Is({},r,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",l)}),_.createElement("defs",null,_.createElement("path",{id:D,d:V})),_.createElement("textPath",{xlinkHref:"#".concat(D)},n))},Lce=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:d,endAngle:f}=t,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=kn(r,i,l+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var x=(a+l)/2,{x:b,y:A}=kn(r,i,x,h);return{x:b,y:A,textAnchor:"middle",verticalAnchor:"middle"}},rL=t=>"cx"in t&&Pe(t.cx),Vce=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!rL(n)&&(a=n);var{x:l,y:d,width:f,height:h}=e,p=h>=0?1:-1,g=p*r,x=p>0?"end":"start",b=p>0?"start":"end",A=f>=0?1:-1,E=A*r,S=A>0?"end":"start",N=A>0?"start":"end";if(i==="top"){var C={x:l+f/2,y:d-p*r,textAnchor:"middle",verticalAnchor:x};return gn(gn({},C),a?{height:Math.max(d-a.y,0),width:f}:{})}if(i==="bottom"){var j={x:l+f/2,y:d+h+g,textAnchor:"middle",verticalAnchor:b};return gn(gn({},j),a?{height:Math.max(a.y+a.height-(d+h),0),width:f}:{})}if(i==="left"){var L={x:l-E,y:d+h/2,textAnchor:S,verticalAnchor:"middle"};return gn(gn({},L),a?{width:Math.max(L.x-a.x,0),height:h}:{})}if(i==="right"){var V={x:l+f+E,y:d+h/2,textAnchor:N,verticalAnchor:"middle"};return gn(gn({},V),a?{width:Math.max(a.x+a.width-V.x,0),height:h}:{})}var D=a?{width:f,height:h}:{};return i==="insideLeft"?gn({x:l+E,y:d+h/2,textAnchor:N,verticalAnchor:"middle"},D):i==="insideRight"?gn({x:l+f-E,y:d+h/2,textAnchor:S,verticalAnchor:"middle"},D):i==="insideTop"?gn({x:l+f/2,y:d+g,textAnchor:"middle",verticalAnchor:b},D):i==="insideBottom"?gn({x:l+f/2,y:d+h-g,textAnchor:"middle",verticalAnchor:x},D):i==="insideTopLeft"?gn({x:l+E,y:d+g,textAnchor:N,verticalAnchor:b},D):i==="insideTopRight"?gn({x:l+f-E,y:d+g,textAnchor:S,verticalAnchor:b},D):i==="insideBottomLeft"?gn({x:l+E,y:d+h-g,textAnchor:N,verticalAnchor:x},D):i==="insideBottomRight"?gn({x:l+f-E,y:d+h-g,textAnchor:S,verticalAnchor:x},D):i&&typeof i=="object"&&(Pe(i.x)||fc(i.x))&&(Pe(i.y)||fc(i.y))?gn({x:l+_r(i.x,f),y:d+_r(i.y,h),textAnchor:"end",verticalAnchor:"end"},D):gn({x:l+f/2,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},D)},Uce={offset:5};function Go(t){var e=$n(t,Uce),{viewBox:n,position:r,value:i,children:a,content:l,className:d="",textBreakAll:f,labelRef:h}=e,p=kce(),g=nL(),x=r==="center"?g:p??g,b=n||x;if(!b||Ft(i)&&Ft(a)&&!_.isValidElement(l)&&typeof l!="function")return null;var A=gn(gn({},e),{},{viewBox:b});if(_.isValidElement(l)){var{labelRef:E}=A,S=Tce(A,Sce);return _.cloneElement(l,S)}var N;if(typeof l=="function"){if(N=_.createElement(l,A),_.isValidElement(N))return N}else N=Rce(e);var C=rL(b),j=qt(e,!0);if(C&&(r==="insideStart"||r==="insideEnd"||r==="end"))return Mce(e,r,N,j,b);var L=C?Lce(b,e.offset,e.position):Vce(e,b);return _.createElement(u0,Is({ref:h,className:ct("recharts-label",d)},j,L,{breakAll:f}),N)}Go.displayName="Label";var Bce=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(Go,Is({key:"label-implicit"},r)):Za(t)?_.createElement(Go,Is({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===Go?_.cloneElement(t,gn({key:"label-implicit"},r)):_.createElement(Go,Is({key:"label-implicit",content:t},r)):zA(t)?_.createElement(Go,Is({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(Go,Is({},t,{key:"label-implicit"},r)):null};function zce(t){var{label:e}=t,n=nL();return Bce(e,n)||null}var c1={},u1={},fk;function $ce(){return fk||(fk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(u1)),u1}var d1={},hk;function Fce(){return hk||(hk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(d1)),d1}var mk;function qce(){return mk||(mk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$ce(),n=Fce(),r=AE();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(c1)),c1}var f1,pk;function Hce(){return pk||(pk=1,f1=qce().last),f1}var Kce=Hce();const Gce=ns(Kce);var Wce=["valueAccessor"],Yce=["dataKey","clockWise","id","textBreakAll"];function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(null,arguments)}function gk(t,e){if(t==null)return{};var n,r,i=Xce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Qce=t=>Array.isArray(t.value)?Gce(t.value):t.value,iL=_.createContext(void 0),$A=iL.Provider,aL=_.createContext(void 0),Zce=aL.Provider;function Jce(){return _.useContext(iL)}function eue(){return _.useContext(aL)}function Pg(t){var{valueAccessor:e=Qce}=t,n=gk(t,Wce),{dataKey:r,clockWise:i,id:a,textBreakAll:l}=n,d=gk(n,Yce),f=Jce(),h=eue(),p=f||h;return!p||!p.length?null:_.createElement(fn,{className:"recharts-label-list"},p.map((g,x)=>{var b,A=Ft(r)?e(g,x):jt(g&&g.payload,r),E=Ft(a)?{}:{id:"".concat(a,"-").concat(x)};return _.createElement(Go,$y({},qt(g,!0),d,E,{fill:(b=n.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:A,textBreakAll:l,viewBox:g.viewBox,key:"label-".concat(x),index:x}))}))}Pg.displayName="LabelList";function d0(t){var{label:e}=t;return e?e===!0?_.createElement(Pg,{key:"labelList-implicit"}):_.isValidElement(e)||zA(e)?_.createElement(Pg,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(Pg,$y({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function R2(){return R2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R2.apply(null,arguments)}var FA=t=>{var{cx:e,cy:n,r,className:i}=t,a=ct("recharts-dot",i);return e===+e&&n===+n&&r===+r?_.createElement("circle",R2({},Xi(t),pE(t),{className:a,cx:e,cy:n,r})):null},sL=t=>t.graphicalItems.polarItems,tue=re([Xt,xm],gA),qA=re([sL,En,tue],yA),nue=re([qA],vA),HA=re([nue,sA],xA),rue=re([HA,En,qA],wA),iue=re([HA,En,qA],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,l=jt(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:jt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),yk=()=>{},aue=re([En,u9,yk,iue,yk,tt,Xt],EA),oL=re([En,tt,HA,rue,vm,Xt,aue],AA),sue=re([oL,En,Md],NA);re([En,oL,sue,Xt],CA);var oue={radiusAxis:{},angleAxis:{}},lL=vi({name:"polarAxis",initialState:oue,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:oye,removeRadiusAxis:lye,addAngleAxis:cye,removeAngleAxis:uye}=lL.actions,lue=lL.reducer;function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){cue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cue(t,e,n){return(e=uue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uue(t){var e=due(t,"string");return typeof e=="symbol"?e:e+""}function due(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fue=(t,e)=>e,KA=re([sL,fue],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),hue=[],GA=(t,e,n)=>n?.length===0?hue:n,cL=re([sA,KA,GA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>xk(xk({},e.presentationProps),a.props))),i!=null)return i}}),mue=re([cL,KA,GA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,l=jt(r,e.nameKey,e.name),d;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?d=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=e.fill,{value:_l(l,e.dataKey),color:d,payload:r,type:e.legendType}})}),pue=re([cL,KA,GA,zn],(t,e,n,r)=>{if(!(e==null||t==null))return fde({offset:r,pieSettings:e,displayedData:t,cells:n})}),h1={},bk;function gue(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(h1)),h1}var m1,wk;function yue(){return wk||(wk=1,m1=gue().isPlainObject),m1}var vue=yue();const xue=ns(vue);function _k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(n),!0).forEach(function(r){bue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bue(t,e,n){return(e=wue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wue(t){var e=_ue(t,"string");return typeof e=="symbol"?e:e+""}function _ue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fy(){return Fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fy.apply(null,arguments)}var Ak=(t,e,n,r,i)=>{var a=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-a/2,",").concat(e+i),l+="L ".concat(t+n-a/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},Eue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Aue=t=>{var e=$n(t,Eue),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,x=_.useRef(),[b,A]=_.useState(-1),E=_.useRef(i),S=_.useRef(a),N=_.useRef(l),C=_.useRef(n),j=_.useRef(r),L=Pd(t,"trapezoid-");if(_.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var ve=x.current.getTotalLength();ve&&A(ve)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var V=ct("recharts-trapezoid",d);if(!g)return _.createElement("g",null,_.createElement("path",Fy({},qt(e,!0),{className:V,d:Ak(n,r,i,a,l)})));var D=E.current,k=S.current,O=N.current,R=C.current,F=j.current,B="0px ".concat(b===-1?1:b,"px"),q="".concat(b,"px 0px"),U=RM(["strokeDasharray"],h,f);return _.createElement(Cd,{animationId:L,key:L,canBegin:b>0,duration:h,easing:f,isActive:g,begin:p},ve=>{var le=Nt(D,i,ve),W=Nt(k,a,ve),K=Nt(O,l,ve),ce=Nt(R,n,ve),me=Nt(F,r,ve);x.current&&(E.current=le,S.current=W,N.current=K,C.current=ce,j.current=me);var z=ve>0?{transition:U,strokeDasharray:q}:{strokeDasharray:B};return _.createElement("path",Fy({},qt(e,!0),{className:V,d:Ak(ce,me,le,W,K),ref:x,style:Ek(Ek({},z),e.style)}))})},Sue=["option","shapeType","propTransformer","activeClassName","isActive"];function Tue(t,e){if(t==null)return{};var n,r,i=Nue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){jue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jue(t,e,n){return(e=Cue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cue(t){var e=Pue(t,"string");return typeof e=="symbol"?e:e+""}function Pue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oue(t,e){return qy(qy({},e),t)}function Iue(t,e){return t==="symbols"}function Tk(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(VM,n);case"trapezoid":return _.createElement(Aue,n);case"sector":return _.createElement(zM,n);case"symbols":if(Iue(e))return _.createElement(wE,n);break;default:return null}}function kue(t){return _.isValidElement(t)?t.props:t}function uL(t){var{option:e,shapeType:n,propTransformer:r=Oue,activeClassName:i="recharts-active-shape",isActive:a}=t,l=Tue(t,Sue),d;if(_.isValidElement(e))d=_.cloneElement(e,qy(qy({},l),kue(e)));else if(typeof e=="function")d=e(l);else if(xue(e)&&typeof e!="boolean"){var f=r(e,l);d=_.createElement(Tk,{shapeType:n,elementProps:f})}else{var h=l;d=_.createElement(Tk,{shapeType:n,elementProps:h})}return a?_.createElement(fn,{className:i},d):d}var WA=(t,e)=>{var n=on();return(r,i)=>a=>{t?.(r,i,a),n(T9({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},YA=t=>{var e=on();return(n,r)=>i=>{t?.(n,r,i),e(goe())}},XA=(t,e)=>{var n=on();return(r,i)=>a=>{t?.(r,i,a),n(yoe({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function f0(t){var{fn:e,args:n}=t,r=on(),i=Sr();return _.useEffect(()=>{if(!i){var a=e(n);return r(hoe(a)),()=>{r(moe(a))}}},[e,n,r,i]),null}var dL=()=>{};function QA(t){var{legendPayload:e}=t,n=on(),r=Sr();return _.useEffect(()=>r?dL:(n(OM(e)),()=>{n(IM(e))}),[n,r,e]),null}function Rue(t){var{legendPayload:e}=t,n=on(),r=Ce(tt);return _.useEffect(()=>r!=="centric"&&r!=="radial"?dL:(n(OM(e)),()=>{n(IM(e))}),[n,r,e]),null}var p1,Due=()=>{var[t]=_.useState(()=>Ch("uid-"));return t},Mue=(p1=kV.useId)!==null&&p1!==void 0?p1:Due;function Lue(t,e){var n=Mue();return e||(t?"".concat(t,"-").concat(n):n)}var Vue=_.createContext(void 0),h0=t=>{var{id:e,type:n,children:r}=t,i=Lue("recharts-".concat(n),e);return _.createElement(Vue.Provider,{value:i},r(i))},Uue={cartesianItems:[],polarItems:[]},fL=vi({name:"graphicalItems",initialState:Uue,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=$s(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=$s(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=$s(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Bue,replaceCartesianGraphicalItem:zue,removeCartesianGraphicalItem:$ue,addPolarGraphicalItem:Fue,removePolarGraphicalItem:que}=fL.actions,Hue=fL.reducer;function ZA(t){var e=on(),n=_.useRef(null);return _.useEffect(()=>{n.current===null?e(Bue(t)):n.current!==t&&e(zue({prev:n.current,next:t})),n.current=t},[e,t]),_.useEffect(()=>()=>{n.current&&(e($ue(n.current)),n.current=null)},[e]),null}function Kue(t){var e=on();return _.useEffect(()=>(e(Fue(t)),()=>{e(que(t))}),[e,t]),null}var Gue=["onMouseEnter","onClick","onMouseLeave"],Wue=["id"],Yue=["id"];function JA(t,e){if(t==null)return{};var n,r,i=Xue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){Que(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Que(t,e,n){return(e=Zue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zue(t){var e=Jue(t,"string");return typeof e=="symbol"?e:e+""}function Jue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(null,arguments)}function ede(t){var e=_.useMemo(()=>gE(t.children,Yc),[t.children]),n=Ce(r=>mue(r,t.id,e));return n==null?null:_.createElement(Rue,{legendPayload:n})}function tde(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:l,name:d,hide:f,tooltipType:h}=t;return{dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:l,dataKey:e,nameKey:n,name:_l(d,e),hide:f,type:h,color:l,unit:""}}}var nde=(t,e)=>t>e?"start":t<e?"end":"middle",rde=(t,e,n)=>_r(typeof e=="function"?e(t):e,n,n*.8),ide=(t,e,n)=>{var{top:r,left:i,width:a,height:l}=e,d=wM(a,l),f=i+_r(t.cx,a,a/2),h=r+_r(t.cy,l,l/2),p=_r(t.innerRadius,d,0),g=rde(n,t.outerRadius,d),x=t.maxRadius||Math.sqrt(a*a+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:x}},ade=(t,e)=>{var n=Zn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function sde(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var ode=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var n=ct("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return _.createElement(Yu,gl({},e,{type:"linear",className:n}))},lde=(t,e,n)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),_.isValidElement(r)))return r;var i=ct("recharts-pie-label-text",sde(t));return _.createElement(u0,gl({},e,{alignmentBaseline:"middle",className:i}),r)};function cde(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:l}=n;if(!r||!i||!e)return null;var d=Xi(n),f=qt(i,!1),h=qt(a,!1),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((x,b)=>{var A=(x.startAngle+x.endAngle)/2,E=kn(x.cx,x.cy,x.outerRadius+p,A),S=Kt(Kt(Kt(Kt({},d),x),{},{stroke:"none"},f),{},{index:b,textAnchor:nde(E.x,x.cx)},E),N=Kt(Kt(Kt(Kt({},d),x),{},{fill:"none",stroke:x.fill},h),{},{index:b,points:[kn(x.cx,x.cy,x.outerRadius,A),E],key:"line"});return _.createElement(fn,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},a&&ode(a,N),lde(i,S,jt(x,l)))});return _.createElement(fn,{className:"recharts-pie-labels"},g)}function ude(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(d0,{label:i}):_.createElement(cde,{sectors:e,props:n,showLabels:r})}function dde(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=Ce(pl),{onMouseEnter:l,onClick:d,onMouseLeave:f}=i,h=JA(i,Gue),p=WA(l,i.dataKey),g=YA(f),x=XA(d,i.dataKey);return e==null||e.length===0?null:_.createElement(_.Fragment,null,e.map((b,A)=>{if(b?.startAngle===0&&b?.endAngle===0&&e.length!==1)return null;var E=n&&String(A)===a,S=a?r:null,N=E?n:S,C=Kt(Kt({},b),{},{stroke:b.stroke,tabIndex:-1,[NM]:A,[jM]:i.dataKey});return _.createElement(fn,gl({tabIndex:-1,className:"recharts-pie-sector"},lm(h,b,A),{onMouseEnter:p(b,A),onMouseLeave:g(b,A),onClick:x(b,A),key:"sector-".concat(b?.startAngle,"-").concat(b?.endAngle,"-").concat(b.midAngle,"-").concat(A)}),_.createElement(uL,gl({option:N,isActive:E,shapeType:"sector"},C)))}))}function fde(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:l,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,x=Math.abs(n.minAngle),b=ade(d,f),A=Math.abs(b),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,S=r.filter(D=>jt(D,h,0)!==0).length,N=(A>=360?S:S-1)*E,C=A-S*x-N,j=r.reduce((D,k)=>{var O=jt(k,h,0);return D+(Pe(O)?O:0)},0),L;if(j>0){var V;L=r.map((D,k)=>{var O=jt(D,h,0),R=jt(D,p,k),F=ide(n,a,D),B=(Pe(O)?O:0)/j,q,U=Kt(Kt({},D),i&&i[k]&&i[k].props);k?q=V.endAngle+Zn(b)*E*(O!==0?1:0):q=d;var ve=q+Zn(b)*((O!==0?x:0)+B*C),le=(q+ve)/2,W=(F.innerRadius+F.outerRadius)/2,K=[{name:R,value:O,payload:U,dataKey:h,type:g}],ce=kn(F.cx,F.cy,W,le);return V=Kt(Kt(Kt(Kt({},n.presentationProps),{},{percent:B,cornerRadius:l,name:R,tooltipPayload:K,midAngle:le,middleRadius:W,tooltipPosition:ce},U),F),{},{value:O,startAngle:q,endAngle:ve,payload:U,paddingAngle:Zn(b)*E}),V})}return L}function hde(t){var{showLabels:e,sectors:n,children:r}=t,i=_.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return _.createElement(Zce,{value:e?i:void 0},r)}function mde(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:l,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,x=Pd(e,"recharts-pie-"),b=n.current,[A,E]=_.useState(!1),S=_.useCallback(()=>{typeof g=="function"&&g(),E(!1)},[g]),N=_.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return _.createElement(hde,{showLabels:!A,sectors:r},_.createElement(Cd,{animationId:x,begin:a,duration:l,isActive:i,easing:d,onAnimationStart:N,onAnimationEnd:S,key:x},C=>{var j=[],L=r&&r[0],V=L?.startAngle;return r?.forEach((D,k)=>{var O=b&&b[k],R=k>0?jc(D,"paddingAngle",0):0;if(O){var F=Nt(O.endAngle-O.startAngle,D.endAngle-D.startAngle,C),B=Kt(Kt({},D),{},{startAngle:V+R,endAngle:V+F+R});j.push(B),V=B.endAngle}else{var{endAngle:q,startAngle:U}=D,ve=Nt(0,q-U,C),le=Kt(Kt({},D),{},{startAngle:V+R,endAngle:V+ve+R});j.push(le),V=le.endAngle}}),n.current=j,_.createElement(fn,null,_.createElement(dde,{sectors:j,activeShape:f,inactiveShape:h,allOtherPieProps:e}))}),_.createElement(ude,{showLabels:!A,sectors:r,props:e}),e.children)}var pde={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!oo.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function gde(t){var{id:e}=t,n=JA(t,Wue),{hide:r,className:i,rootTabIndex:a}=t,l=_.useMemo(()=>gE(t.children,Yc),[t.children]),d=Ce(p=>pue(p,e,l)),f=_.useRef(null),h=ct("recharts-pie",i);return r||d==null?(f.current=null,_.createElement(fn,{tabIndex:a,className:h})):_.createElement(_.Fragment,null,_.createElement(f0,{fn:tde,args:Kt(Kt({},t),{},{sectors:d})}),_.createElement(fn,{tabIndex:a,className:h},_.createElement(mde,{props:Kt(Kt({},n),{},{sectors:d}),previousSectorsRef:f})))}function eS(t){var e=$n(t,pde),{id:n}=e,r=JA(e,Yue),i=Xi(r);return _.createElement(h0,{id:n,type:"pie"},a=>_.createElement(_.Fragment,null,_.createElement(Kue,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),_.createElement(ede,gl({},r,{id:a})),_.createElement(gde,gl({},r,{id:a}))))}eS.displayName="Pie";function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){yde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yde(t,e,n){return(e=vde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vde(t){var e=xde(t,"string");return typeof e=="symbol"?e:e+""}function xde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bde={xAxis:{},yAxis:{},zAxis:{}},hL=vi({name:"cartesianAxis",initialState:bde,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=Ck(Ck({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:wde,removeXAxis:_de,addYAxis:Ede,removeYAxis:Ade,addZAxis:dye,removeZAxis:fye,updateYAxisWidth:Sde}=hL.actions,Tde=hL.reducer,Nde=re([zn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),jde=re([Nde,ao,so],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),m0=()=>Ce(jde),Cde=()=>Ce(rle);function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ok(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){Pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pde(t,e,n){return(e=Ode(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ode(t){var e=Ide(t,"string");return typeof e=="symbol"?e:e+""}function Ide(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kde=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l=Ok(Ok({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},qt(i,!1)),pE(i)),d;return _.isValidElement(i)?d=_.cloneElement(i,l):typeof i=="function"?d=i(l):d=_.createElement(FA,l),_.createElement(fn,{className:"recharts-active-dot"},d)};function D2(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=Ce(pl),l=Cde();if(e==null||l==null)return null;var d=e.find(f=>l.includes(f.payload));return Ft(d)?null:kde({point:d,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var Rde="Invariant failed";function Dde(t,e){throw new Error(Rde)}var Mde=["x","y"];function M2(){return M2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M2.apply(null,arguments)}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){Lde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lde(t,e,n){return(e=Vde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vde(t){var e=Ude(t,"string");return typeof e=="symbol"?e:e+""}function Ude(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bde(t,e){if(t==null)return{};var n,r,i=zde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $de(t,e){var{x:n,y:r}=t,i=Bde(t,Mde),a="".concat(n),l=parseInt(a,10),d="".concat(r),f=parseInt(d,10),h="".concat(e.height||i.height),p=parseInt(h,10),g="".concat(e.width||i.width),x=parseInt(g,10);return nh(nh(nh(nh(nh({},e),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:x,name:e.name,radius:e.radius})}function tS(t){return _.createElement(uL,M2({shapeType:"rectangle",propTransformer:$de,activeClassName:"recharts-active-bar"},t))}var Fde=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Pe(e))return e;var a=Pe(r)||Ft(r);return a?e(r,i):(a||Dde(),n)}},qde={},mL=vi({name:"errorBars",initialState:qde,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:hye,replaceErrorBar:mye,removeErrorBar:pye}=mL.actions,Hde=mL.reducer,Kde=["children"];function Gde(t,e){if(t==null)return{};var n,r,i=Wde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yde={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Xde=_.createContext(Yde);function pL(t){var{children:e}=t,n=Gde(t,Kde);return _.createElement(Xde.Provider,{value:n},e)}function p0(t,e){var n,r,i=Ce(h=>co(h,t)),a=Ce(h=>uo(h,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:oi.allowDataOverflow,d=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:li.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function nS(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=m0(),{needClipX:a,needClipY:l,needClip:d}=p0(e,n);if(!d)return null;var{x:f,y:h,width:p,height:g}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:a?f:f-p/2,y:l?h:h-g/2,width:a?p:p*2,height:l?g:g*2}))}var Qde=["onMouseEnter","onMouseLeave","onClick"],Zde=["value","background","tooltipPosition"],Jde=["id"],efe=["onMouseEnter","onClick","onMouseLeave"];function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(null,arguments)}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tfe(t,e,n){return(e=nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nfe(t){var e=rfe(t,"string");return typeof e=="symbol"?e:e+""}function rfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hy(t,e){if(t==null)return{};var n,r,i=ife(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ife(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var afe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:_l(n,e),payload:t}]};function sfe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:l,unit:d}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:_l(a,e),hide:l,type:t.tooltipType,color:t.fill,unit:d}}}function ofe(t){var e=Ce(pl),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:l,onMouseLeave:d,onClick:f}=a,h=Hy(a,Qde),p=WA(l,r),g=YA(d),x=XA(f,r);if(!i||n==null)return null;var b=qt(i,!1);return _.createElement(_.Fragment,null,n.map((A,E)=>{var{value:S,background:N,tooltipPosition:C}=A,j=Hy(A,Zde);if(!N)return null;var L=p(A,E),V=g(A,E),D=x(A,E),k=Rr(Rr(Rr(Rr(Rr({option:i,isActive:String(E)===e},j),{},{fill:"#eee"},N),b),lm(h,A,E)),{},{onMouseEnter:L,onMouseLeave:V,onClick:D,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return _.createElement(tS,yl({key:"background-bar-".concat(k.index)},k))}))}function lfe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(a=>{var l={x:a.x,y:a.y,width:a.width,height:a.height};return Rr(Rr({},l),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:l,fill:a.fill})});return _.createElement($A,{value:e?i:void 0},n)}function cfe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:l}=t,d=Ce(pl),f=Ce(U9),h=n&&String(a)===d&&(f==null||l===f),p=h?n:e;return _.createElement(tS,yl({},r,i,{isActive:h,option:p,index:a,dataKey:l}))}function ufe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return _.createElement(tS,yl({},n,r,{isActive:!1,option:e,index:i,dataKey:a}))}function dfe(t){var{data:e,props:n}=t,r=Xi(n),{id:i}=r,a=Hy(r,Jde),{shape:l,dataKey:d,activeBar:f}=n,{onMouseEnter:h,onClick:p,onMouseLeave:g}=n,x=Hy(n,efe),b=WA(h,d),A=YA(g),E=XA(p,d);return e?_.createElement(_.Fragment,null,e.map((S,N)=>_.createElement(fn,yl({className:"recharts-bar-rectangle"},lm(x,S,N),{onMouseEnter:b(S,N),onMouseLeave:A(S,N),onClick:E(S,N),key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(N)}),f?_.createElement(cfe,{shape:l,activeBar:f,baseProps:a,entry:S,index:N,dataKey:d}):_.createElement(ufe,{shape:l,baseProps:a,entry:S,index:N,dataKey:d})))):null}function ffe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,x=Pd(e,"recharts-bar-"),[b,A]=_.useState(!1),E=!b,S=_.useCallback(()=>{typeof h=="function"&&h(),A(!1)},[h]),N=_.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return _.createElement(lfe,{showLabels:E,rects:r},_.createElement(Cd,{animationId:x,begin:l,duration:d,isActive:a,easing:f,onAnimationEnd:S,onAnimationStart:N,key:x},C=>{var j=C===1?r:r?.map((L,V)=>{var D=g&&g[V];if(D)return Rr(Rr({},L),{},{x:Nt(D.x,L.x,C),y:Nt(D.y,L.y,C),width:Nt(D.width,L.width,C),height:Nt(D.height,L.height,C)});if(i==="horizontal"){var k=Nt(0,L.height,C);return Rr(Rr({},L),{},{y:L.y+L.height-k,height:k})}var O=Nt(0,L.width,C);return Rr(Rr({},L),{},{width:O})});return C>0&&(n.current=j??null),j==null?null:_.createElement(fn,null,_.createElement(dfe,{props:e,data:j}))}),_.createElement(d0,{label:e.label}),e.children)}function hfe(t){var e=_.useRef(null);return _.createElement(ffe,{previousRectanglesRef:e,props:t})}var gL=0,mfe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:jt(t,e)}};class pfe extends _.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:l,needClip:d,background:f,id:h}=this.props;if(e||n==null)return null;var p=ct("recharts-bar",i),g=h;return _.createElement(fn,{className:p,id:h},d&&_.createElement("defs",null,_.createElement(nS,{clipPathId:g,xAxisId:a,yAxisId:l})),_.createElement(fn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},_.createElement(ofe,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),_.createElement(hfe,this.props)))}}var gfe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!oo.isSsr,legendType:"rect",minPointSize:gL,xAxisId:0,yAxisId:0};function yfe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=p0(e,n),x=fm(),b=Sr(),A=gE(t.children,Yc),E=Ce(C=>Hfe(C,e,n,b,t.id,A));if(x!=="vertical"&&x!=="horizontal")return null;var S,N=E?.[0];return N==null||N.height==null||N.width==null?S=0:S=x==="vertical"?N.height/2:N.width/2,_.createElement(pL,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:mfe,errorBarOffset:S},_.createElement(pfe,yl({},t,{layout:x,needClip:g,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function vfe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:x,cells:b,parentViewBox:A}=t,E=e==="horizontal"?d:l,S=p?E.scale.domain():null,N=Ite({numericAxis:E});return g.map((C,j)=>{var L,V,D,k,O,R;p?L=Nte(p[j],S):(L=jt(C,n),Array.isArray(L)||(L=[N,L]));var F=Fde(r,gL)(L[1],j);if(e==="horizontal"){var B,[q,U]=[d.scale(L[0]),d.scale(L[1])];V=vO({axis:l,ticks:f,bandSize:a,offset:i.offset,entry:C,index:j}),D=(B=U??q)!==null&&B!==void 0?B:void 0,k=i.size;var ve=q-U;if(O=Xr(ve)?0:ve,R={x:V,y:x.top,width:k,height:x.height},Math.abs(F)>0&&Math.abs(O)<Math.abs(F)){var le=Zn(O||F)*(Math.abs(F)-Math.abs(O));D-=le,O+=le}}else{var[W,K]=[l.scale(L[0]),l.scale(L[1])];if(V=W,D=vO({axis:d,ticks:h,bandSize:a,offset:i.offset,entry:C,index:j}),k=K-W,O=i.size,R={x:x.left,y:D,width:x.width,height:O},Math.abs(F)>0&&Math.abs(k)<Math.abs(F)){var ce=Zn(k||F)*(Math.abs(F)-Math.abs(k));k+=ce}}if(V==null||D==null||k==null||O==null)return null;var me=Rr(Rr({},C),{},{x:V,y:D,width:k,height:O,value:p?L:L[1],payload:C,background:R,tooltipPosition:{x:V+k/2,y:D+O/2},parentViewBox:A},b&&b[j]&&b[j].props);return me}).filter(Boolean)}function xfe(t){var e=$n(t,gfe),n=Sr();return _.createElement(h0,{id:e.id,type:"bar"},r=>_.createElement(_.Fragment,null,_.createElement(QA,{legendPayload:afe(e)}),_.createElement(f0,{fn:sfe,args:e}),_.createElement(ZA,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:SM(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),_.createElement(yfe,yl({},e,{id:r}))))}var yL=_.memo(xfe);yL.displayName="Bar";function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){bfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bfe(t,e,n){return(e=wfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wfe(t){var e=_fe(t,"string");return typeof e=="symbol"?e:e+""}function _fe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Efe=(t,e)=>e,Afe=(t,e,n)=>n,Sfe=(t,e,n,r)=>r,Tfe=(t,e,n,r,i)=>i,jm=re([wm,Tfe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Nfe=re([jm],t=>t?.maxBarSize),jfe=(t,e,n,r,i,a)=>a,Dk=(t,e,n)=>{var r=n??t;if(!Ft(r))return _r(r,e,0)},Cfe=re([tt,wm,Efe,Afe,Sfe],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Pfe=(t,e,n,r)=>{var i=tt(t);return i==="horizontal"?Vh(t,"yAxis",n,r):Vh(t,"xAxis",e,r)},Ofe=(t,e,n)=>{var r=tt(t);return r==="horizontal"?DI(t,"xAxis",e):DI(t,"yAxis",n)},Ife=(t,e,n)=>{var r={},i=t.filter(r0),a=t.filter(h=>h.stackId==null),l=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),d=Object.entries(l).map(h=>{var[p,g]=h,x=g.map(A=>A.dataKey),b=Dk(e,n,g[0].barSize);return{stackId:p,dataKeys:x,barSize:b}}),f=a.map(h=>{var p=[h.dataKey].filter(x=>x!=null),g=Dk(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]},kfe=re([Cfe,fse,Ofe],Ife),Rfe=(t,e,n,r,i)=>{var a,l,d=jm(t,e,n,r,i);if(d!=null){var f=tt(t),h=L8(t),{maxBarSize:p}=d,g=Ft(p)?h:p,x,b;return f==="horizontal"?(x=ts(t,"xAxis",e,r),b=es(t,"xAxis",e,r)):(x=ts(t,"yAxis",n,r),b=es(t,"yAxis",n,r)),(a=(l=Oc(x,b,!0))!==null&&l!==void 0?l:g)!==null&&a!==void 0?a:0}},vL=(t,e,n,r)=>{var i=tt(t),a,l;return i==="horizontal"?(a=ts(t,"xAxis",e,r),l=es(t,"xAxis",e,r)):(a=ts(t,"yAxis",n,r),l=es(t,"yAxis",n,r)),Oc(a,l)};function Dfe(t,e,n,r,i){var a=r.length;if(!(a<1)){var l=_r(t,n,0,!0),d,f=[];if(dr(r[0].barSize)){var h=!1,p=n/a,g=r.reduce((N,C)=>N+(C.barSize||0),0);g+=(a-1)*l,g>=n&&(g-=(a-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=a*p);var x=(n-g)/2>>0,b={offset:x-l,size:0};d=r.reduce((N,C)=>{var j,L={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:b.offset+b.size+l,size:h?p:(j=C.barSize)!==null&&j!==void 0?j:0}},V=[...N,L];return b=V[V.length-1].position,V},f)}else{var A=_r(e,n,0,!0);n-2*A-(a-1)*l<=0&&(l=0);var E=(n-2*A-(a-1)*l)/a;E>1&&(E>>=0);var S=dr(i)?Math.min(E,i):E;d=r.reduce((N,C,j)=>[...N,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:A+(E+l)*j+(E-S)/2,size:S}}],f)}return d}}var Mfe=(t,e,n,r,i,a,l)=>{var d=Ft(l)?e:l,f=Dfe(n,r,i!==a?i:a,t,d);return i!==a&&f!=null&&(f=f.map(h=>mg(mg({},h),{},{position:mg(mg({},h.position),{},{offset:h.position.offset-i/2})}))),f},Lfe=re([kfe,L8,dse,V8,Rfe,vL,Nfe],Mfe),Vfe=(t,e,n,r)=>ts(t,"xAxis",e,r),Ufe=(t,e,n,r)=>ts(t,"yAxis",n,r),Bfe=(t,e,n,r)=>es(t,"xAxis",e,r),zfe=(t,e,n,r)=>es(t,"yAxis",n,r),$fe=re([Lfe,jm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Ffe=(t,e)=>{var n=n0(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(l=>l.key===n)}}}},qfe=re([Pfe,jm],Ffe),Hfe=re([zn,IE,Vfe,Ufe,Bfe,zfe,$fe,tt,ym,vL,qfe,jm,jfe],(t,e,n,r,i,a,l,d,f,h,p,g,x)=>{var{chartData:b,dataStartIndex:A,dataEndIndex:E}=f;if(!(g==null||l==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||i==null||a==null||h==null)){var{data:S}=g,N;if(S!=null&&S.length>0?N=S:N=b?.slice(A,E+1),N!=null)return vfe({layout:d,barSettings:g,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:p,displayedData:N,offset:t,cells:x})}}),xL=t=>{var{chartData:e}=t,n=on(),r=Sr();return _.useEffect(()=>r?()=>{}:(n(HI(e)),()=>{n(HI(void 0))}),[e,n,r]),null},Mk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},bL=vi({name:"brush",initialState:Mk,reducers:{setBrushSettings(t,e){return e.payload==null?Mk:e.payload}}}),{setBrushSettings:gye}=bL.actions,Kfe=bL.reducer;function Gfe(t,e,n){return(e=Wfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wfe(t){var e=Yfe(t,"string");return typeof e=="symbol"?e:e+""}function Yfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rS{static create(e){return new rS(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Gfe(rS,"EPS",1e-4);function Xfe(t){return(t%180+180)%180}var Qfe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Xfe(i),l=a*Math.PI/180,d=Math.atan(r/n),f=l>d&&l<Math.PI-d?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},Zfe={dots:[],areas:[],lines:[]},wL=vi({name:"referenceElements",initialState:Zfe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=$s(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=$s(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=$s(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:yye,removeDot:vye,addArea:xye,removeArea:bye,addLine:wye,removeLine:_ye}=wL.actions,Jfe=wL.reducer,ehe=_.createContext(void 0),the=t=>{var{children:e}=t,[n]=_.useState("".concat(Ch("recharts"),"-clip")),r=m0();if(r==null)return null;var{x:i,y:a,width:l,height:d}=r;return _.createElement(ehe.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:a,height:d,width:l}))),e)};function gd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function _L(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function nhe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Qfe(r,n)}function rhe(t,e,n){var r=n==="width",{x:i,y:a,width:l,height:d}=t;return e===1?{start:r?i:a,end:r?i+l:a+d}:{start:r?i+l:a+d,end:r?i:a}}function Ky(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function ihe(t,e){return _L(t,e+1)}function ahe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:l,end:d}=e,f=0,h=1,p=l,g=function(){var A=r?.[f];if(A===void 0)return{v:_L(r,h)};var E=f,S,N=()=>(S===void 0&&(S=n(A,E)),S),C=A.coordinate,j=f===0||Ky(t,C,N,p,d);j||(f=0,p=l,h+=1),j&&(p=C+t*(N()/2+i),f+=h)},x;h<=a.length;)if(x=g(),x)return x.v;return[]}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){she(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function she(t,e,n){return(e=ohe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ohe(t){var e=lhe(t,"string");return typeof e=="symbol"?e:e+""}function lhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function che(t,e,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:d}=e,{end:f}=e,h=function(x){var b=a[x],A,E=()=>(A===void 0&&(A=n(b,x)),A);if(x===l-1){var S=t*(b.coordinate+t*E()/2-f);a[x]=b=vr(vr({},b),{},{tickCoord:S>0?b.coordinate-S*t:b.coordinate})}else a[x]=b=vr(vr({},b),{},{tickCoord:b.coordinate});var N=Ky(t,b.tickCoord,E,d,f);N&&(f=b.tickCoord-t*(E()/2+i),a[x]=vr(vr({},b),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return a}function uhe(t,e,n,r,i,a){var l=(r||[]).slice(),d=l.length,{start:f,end:h}=e;if(a){var p=r[d-1],g=n(p,d-1),x=t*(p.coordinate+t*g/2-h);l[d-1]=p=vr(vr({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate});var b=Ky(t,p.tickCoord,()=>g,f,h);b&&(h=p.tickCoord-t*(g/2+i),l[d-1]=vr(vr({},p),{},{isShow:!0}))}for(var A=a?d-1:d,E=function(C){var j=l[C],L,V=()=>(L===void 0&&(L=n(j,C)),L);if(C===0){var D=t*(j.coordinate-t*V()/2-f);l[C]=j=vr(vr({},j),{},{tickCoord:D<0?j.coordinate-D*t:j.coordinate})}else l[C]=j=vr(vr({},j),{},{tickCoord:j.coordinate});var k=Ky(t,j.tickCoord,V,f,h);k&&(f=j.tickCoord+t*(V()/2+i),l[C]=vr(vr({},j),{},{isShow:!0}))},S=0;S<A;S++)E(S);return l}function iS(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Pe(f)||oo.isSsr){var x;return(x=ihe(i,Pe(f)?f:0))!==null&&x!==void 0?x:[]}var b=[],A=d==="top"||d==="bottom"?"width":"height",E=p&&A==="width"?vh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(j,L)=>{var V=typeof h=="function"?h(j.value,L):j.value;return A==="width"?nhe(vh(V,{fontSize:e,letterSpacing:n}),E,g):vh(V,{fontSize:e,letterSpacing:n})[A]},N=i.length>=2?Zn(i[1].coordinate-i[0].coordinate):1,C=rhe(a,N,A);return f==="equidistantPreserveStart"?ahe(N,C,S,i,l):(f==="preserveStart"||f==="preserveStartEnd"?b=uhe(N,C,S,i,l,f==="preserveStartEnd"):b=che(N,C,S,i,l),b.filter(j=>j.isShow))}var dhe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,l=0;if(e){e.forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=i+a,h=l+f+d+(n?r:0);return Math.round(h)}return 0},fhe=["axisLine","width","height","className","hide","ticks"],hhe=["viewBox"],mhe=["viewBox"];function L2(t,e){if(t==null)return{};var n,r,i=phe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function phe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kc.apply(null,arguments)}function Vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(n),!0).forEach(function(r){ghe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ghe(t,e,n){return(e=yhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yhe(t){var e=vhe(t,"string");return typeof e=="symbol"?e:e+""}function vhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aS={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function xhe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:d,otherSvgProps:f}=t;if(!d)return null;var h=Un(Un(Un({},f),qt(d,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var p=+(a==="top"&&!l||a==="bottom"&&l);h=Un(Un({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(a==="left"&&!l||a==="right"&&l);h=Un(Un({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return _.createElement("line",kc({},h,{className:ct("recharts-cartesian-axis-line",jc(d,"className"))}))}function bhe(t,e,n,r,i,a,l,d,f){var h,p,g,x,b,A,E=d?-1:1,S=t.tickSize||l,N=Pe(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":h=p=t.coordinate,x=n+ +!d*i,g=x-E*S,A=g-E*f,b=N;break;case"left":g=x=t.coordinate,p=e+ +!d*r,h=p-E*S,b=h-E*f,A=N;break;case"right":g=x=t.coordinate,p=e+ +d*r,h=p+E*S,b=h+E*f,A=N;break;default:h=p=t.coordinate,x=n+ +d*i,g=x+E*S,A=g+E*f,b=N;break}return{line:{x1:h,y1:g,x2:p,y2:x},tick:{x:b,y:A}}}function whe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function _he(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Ehe(t){var{option:e,tickProps:n,value:r}=t,i,a=ct(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,Un(Un({},n),{},{className:a}));else if(typeof e=="function")i=e(Un(Un({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=ct(l,e?.className)),i=_.createElement(u0,kc({},n,{className:l}),r)}return i}function Ahe(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:l,padding:d,tickTextProps:f,orientation:h,mirror:p,x:g,y:x,width:b,height:A,tickSize:E,tickMargin:S,fontSize:N,letterSpacing:C,getTicksConfig:j,events:L}=t,V=iS(Un(Un({},j),{},{ticks:e}),N,C),D=whe(h,p),k=_he(h,p),O=Xi(j),R=qt(n,!1),F=Un(Un({},O),{},{fill:"none"},qt(r,!1)),B=V.map((q,U)=>{var{line:ve,tick:le}=bhe(q,g,x,b,A,h,E,p,S),W=Un(Un(Un(Un({textAnchor:D,verticalAnchor:k},O),{},{stroke:"none",fill:i},R),le),{},{index:U,payload:q,visibleTicksCount:V.length,tickFormatter:a,padding:d},f);return _.createElement(fn,kc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},lm(L,q,U)),r&&_.createElement("line",kc({},F,ve,{className:ct("recharts-cartesian-axis-tick-line",jc(r,"className"))})),n&&_.createElement(Ehe,{option:n,tickProps:W,value:"".concat(typeof a=="function"?a(q.value,U):q.value).concat(l||"")}))});return B.length>0?_.createElement("g",{className:"recharts-cartesian-axis-ticks"},B):null}var She=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:d}=t,f=L2(t,fhe),[h,p]=_.useState(""),[g,x]=_.useState(""),b=_.useRef([]);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return dhe({ticks:b.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=_.useCallback(E=>{if(E){var S=E.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=Array.from(S);var N=S[0];if(N){var C=window.getComputedStyle(N),j=C.fontSize,L=C.letterSpacing;(j!==h||L!==g)&&(p(j),x(L))}}},[h,g]);return l||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(fn,{className:ct("recharts-cartesian-axis",a),ref:A},_.createElement(xhe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Xi(t)}),_.createElement(Ahe,{ticks:d,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:h,letterSpacing:g,getTicksConfig:t,events:f}),_.createElement(Oce,{x:t.x,y:t.y,width:t.width,height:t.height},_.createElement(zce,{label:t.label}),t.children))}),The=_.memo(She,(t,e)=>{var{viewBox:n}=t,r=L2(t,hhe),{viewBox:i}=e,a=L2(e,mhe);return gd(n,i)&&gd(r,a)}),sS=_.forwardRef((t,e)=>{var n=$n(t,aS);return _.createElement(The,kc({},n,{ref:e}))});sS.displayName="CartesianAxis";var Nhe=["x1","y1","x2","y2","key"],jhe=["offset"],Che=["xAxisId","yAxisId"],Phe=["xAxisId","yAxisId"];function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){Ohe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ohe(t,e,n){return(e=Ihe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ihe(t){var e=khe(t,"string");return typeof e=="symbol"?e:e+""}function khe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(null,arguments)}function Gy(t,e){if(t==null)return{};var n,r,i=Rhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Dhe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:d}=t;return _.createElement("rect",{x:r,y:i,ry:d,width:a,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function EL(t,e){var n;if(_.isValidElement(t))n=_.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:l,key:d}=e,f=Gy(e,Nhe),h=Xi(f),{offset:p}=h,g=Gy(h,jhe);n=_.createElement("line",pc({},g,{x1:r,y1:i,x2:a,y2:l,fill:"none",key:d}))}return n}function Mhe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,d=Gy(t,Che),f=i.map((h,p)=>{var g=wr(wr({},d),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return EL(r,g)});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Lhe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,d=Gy(t,Phe),f=i.map((h,p)=>{var g=wr(wr({},d),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return EL(r,g)});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Vhe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:d,horizontal:f=!0}=t;if(!f||!e||!e.length)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,x)=>g-x);i!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var b=!h[x+1],A=b?i+l-g:h[x+1]-g;if(A<=0)return null;var E=x%e.length;return _.createElement("rect",{key:"react-".concat(x),y:g,x:r,height:A,width:a,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Uhe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:d,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,x)=>g-x);i!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var b=!h[x+1],A=b?i+l-g:h[x+1]-g;if(A<=0)return null;var E=x%n.length;return _.createElement("rect",{key:"react-".concat(x),x:g,y:a,width:A,height:d,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Bhe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return EM(iS(wr(wr(wr({},aS),n),{},{ticks:AM(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},zhe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return EM(iS(wr(wr(wr({},aS),n),{},{ticks:AM(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},$he={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function g0(t){var e=RE(),n=DE(),r=CM(),i=wr(wr({},$n(t,$he)),{},{x:Pe(t.x)?t.x:r.left,y:Pe(t.y)?t.y:r.top,width:Pe(t.width)?t.width:r.width,height:Pe(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:l,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:x,verticalValues:b}=i,A=Sr(),E=Ce(R=>MI(R,"xAxis",a,A)),S=Ce(R=>MI(R,"yAxis",l,A));if(!Pe(h)||h<=0||!Pe(p)||p<=0||!Pe(d)||d!==+d||!Pe(f)||f!==+f)return null;var N=i.verticalCoordinatesGenerator||Bhe,C=i.horizontalCoordinatesGenerator||zhe,{horizontalPoints:j,verticalPoints:L}=i;if((!j||!j.length)&&typeof C=="function"){var V=x&&x.length,D=C({yAxis:S?wr(wr({},S),{},{ticks:V?x:S.ticks}):void 0,width:e,height:n,offset:r},V?!0:g);yh(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(j=D)}if((!L||!L.length)&&typeof N=="function"){var k=b&&b.length,O=N({xAxis:E?wr(wr({},E),{},{ticks:k?b:E.ticks}):void 0,width:e,height:n,offset:r},k?!0:g);yh(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(L=O)}return _.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(Dhe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(Vhe,pc({},i,{horizontalPoints:j})),_.createElement(Uhe,pc({},i,{verticalPoints:L})),_.createElement(Mhe,pc({},i,{offset:r,horizontalPoints:j,xAxis:E,yAxis:S})),_.createElement(Lhe,pc({},i,{offset:r,verticalPoints:L,xAxis:E,yAxis:S})))}g0.displayName="CartesianGrid";var AL=(t,e,n,r)=>ts(t,"xAxis",e,r),SL=(t,e,n,r)=>es(t,"xAxis",e,r),TL=(t,e,n,r)=>ts(t,"yAxis",n,r),NL=(t,e,n,r)=>es(t,"yAxis",n,r),Fhe=re([tt,AL,TL,SL,NL],(t,e,n,r,i)=>ss(t,"xAxis")?Oc(e,r,!1):Oc(n,i,!1)),qhe=(t,e,n,r,i)=>i;function Hhe(t){return t.type==="line"}var Khe=re([wm,qhe],(t,e)=>t.filter(Hhe).find(n=>n.id===e)),Ghe=re([tt,AL,TL,SL,NL,Khe,Fhe,ym],(t,e,n,r,i,a,l,d)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=d;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{dataKey:g,data:x}=a,b;if(x!=null&&x.length>0?b=x:b=f?.slice(h,p+1),b!=null)return pme({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:b})}}),Whe=["id"],Yhe=["type","layout","connectNulls","needClip"],Xhe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){Qhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qhe(t,e,n){return(e=Zhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zhe(t){var e=Jhe(t,"string");return typeof e=="symbol"?e:e+""}function Jhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oS(t,e){if(t==null)return{};var n,r,i=eme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rc(){return Rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rc.apply(null,arguments)}var tme=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:_l(n,e),payload:t}]};function nme(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:d,unit:f}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:_l(l,e),hide:d,type:t.tooltipType,color:t.stroke,unit:f}}}var jL=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function rme(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var ime=(t,e,n)=>{var r=n.reduce((g,x)=>g+x);if(!r)return jL(e,t);for(var i=Math.floor(t/r),a=t%r,l=e-t,d=[],f=0,h=0;f<n.length;h+=n[f],++f)if(h+n[f]>a){d=[...n.slice(0,f),a-h];break}var p=d.length%2===0?[0,l]:[l];return[...rme(n,i),...d,...p].map(g=>"".concat(g,"px")).join(", ")};function ame(t,e){var n;if(_.isValidElement(t))n=_.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=ct("recharts-line-dot",typeof t!="boolean"?t.className:"");n=_.createElement(FA,Rc({},e,{className:r}))}return n}function sme(t,e){return t==null?!1:e?!0:t.length===1}function ome(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:l}=r;if(!sme(n,i))return null;var{id:d}=r,f=oS(r,Whe),h=kv(i),p=Xi(f),g=qt(i,!0),x=n.map((A,E)=>{var S=ui(ui(ui({key:"dot-".concat(E),r:3},p),g),{},{index:E,cx:A.x,cy:A.y,dataKey:a,value:A.value,payload:A.payload,points:n});return ame(i,S)}),b={clipPath:l?"url(#clipPath-".concat(h?"":"dots-").concat(e,")"):void 0};return _.createElement(fn,Rc({className:"recharts-line-dots",key:"dots"},b),x)}function lme(t){var{showLabels:e,children:n,points:r}=t,i=_.useMemo(()=>r?.map(a=>{var l={x:a.x,y:a.y,width:0,height:0};return ui(ui({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return _.createElement($A,{value:e?i:null},n)}function zk(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:l,layout:d,connectNulls:f,needClip:h}=a,p=oS(a,Yhe),g=ui(ui({},qt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:d,connectNulls:f,strokeDasharray:i??a.strokeDasharray});return _.createElement(_.Fragment,null,r?.length>1&&_.createElement(Yu,Rc({},g,{pathRef:n})),_.createElement(ome,{points:r,clipPathId:e,props:a}))}function cme(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function ume(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:l,strokeDasharray:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:x,width:b,height:A,onAnimationEnd:E,onAnimationStart:S}=n,N=i.current,C=Pd(n,"recharts-line-"),[j,L]=_.useState(!1),V=!j,D=_.useCallback(()=>{typeof E=="function"&&E(),L(!1)},[E]),k=_.useCallback(()=>{typeof S=="function"&&S(),L(!0)},[S]),O=cme(r.current),R=a.current;return _.createElement(lme,{points:l,showLabels:V},n.children,_.createElement(Cd,{animationId:C,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:D,onAnimationStart:k,key:C},F=>{var B=Nt(R,O+R,F),q=Math.min(B,O),U;if(f)if(d){var ve="".concat(d).split(/[,\s]+/gim).map(K=>parseFloat(K));U=ime(q,O,ve)}else U=jL(O,q);else U=d==null?void 0:String(d);if(N){var le=N.length/l.length,W=F===1?l:l.map((K,ce)=>{var me=Math.floor(ce*le);if(N[me]){var z=N[me];return ui(ui({},K),{},{x:Nt(z.x,K.x,F),y:Nt(z.y,K.y,F)})}return x?ui(ui({},K),{},{x:Nt(b*2,K.x,F),y:Nt(A/2,K.y,F)}):ui(ui({},K),{},{x:K.x,y:K.y})});return i.current=W,_.createElement(zk,{props:n,points:W,clipPathId:e,pathRef:r,strokeDasharray:U})}return F>0&&O>0&&(i.current=l,a.current=q),_.createElement(zk,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:U})}),_.createElement(d0,{label:n.label}))}function dme(t){var{clipPathId:e,props:n}=t,r=_.useRef(null),i=_.useRef(0),a=_.useRef(null);return _.createElement(ume,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var fme=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:jt(t.payload,e)});class hme extends _.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:l,yAxisId:d,top:f,left:h,width:p,height:g,id:x,needClip:b}=this.props;if(n)return null;var A=ct("recharts-line",a),E=x,{r:S=3,strokeWidth:N=2}=(e=qt(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},C=kv(r),j=S*2+N;return _.createElement(_.Fragment,null,_.createElement(fn,{className:A},b&&_.createElement("defs",null,_.createElement(nS,{clipPathId:E,xAxisId:l,yAxisId:d}),!C&&_.createElement("clipPath",{id:"clipPath-dots-".concat(E)},_.createElement("rect",{x:h-j/2,y:f-j/2,width:p+j,height:g+j}))),_.createElement(pL,{xAxisId:l,yAxisId:d,data:i,dataPointFormatter:fme,errorBarOffset:0},_.createElement(dme,{props:this.props,clipPathId:E}))),_.createElement(D2,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var CL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!oo.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function mme(t){var e=$n(t,CL),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:d,dot:f,hide:h,isAnimationActive:p,label:g,legendType:x,xAxisId:b,yAxisId:A,id:E}=e,S=oS(e,Xhe),{needClip:N}=p0(b,A),C=m0(),j=fm(),L=Sr(),V=Ce(F=>Ghe(F,b,A,L,E));if(j!=="horizontal"&&j!=="vertical"||V==null||C==null)return null;var{height:D,width:k,x:O,y:R}=C;return _.createElement(hme,Rc({},S,{id:E,connectNulls:d,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:x,xAxisId:b,yAxisId:A,points:V,layout:j,height:D,width:k,left:O,top:R,needClip:N}))}function pme(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:d,displayedData:f}=t;return f.map((h,p)=>{var g=jt(h,l);if(e==="horizontal"){var x=Sy({axis:n,ticks:i,bandSize:d,entry:h,index:p}),b=Ft(g)?null:r.scale(g);return{x,y:b,value:g,payload:h}}var A=Ft(g)?null:n.scale(g),E=Sy({axis:r,ticks:a,bandSize:d,entry:h,index:p});return A==null||E==null?null:{x:A,y:E,value:g,payload:h}}).filter(Boolean)}function gme(t){var e=$n(t,CL),n=Sr();return _.createElement(h0,{id:e.id,type:"line"},r=>_.createElement(_.Fragment,null,_.createElement(QA,{legendPayload:tme(e)}),_.createElement(f0,{fn:nme,args:e}),_.createElement(ZA,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),_.createElement(mme,Rc({},e,{id:r}))))}var V2=_.memo(gme);V2.displayName="Line";var PL=(t,e,n,r)=>ts(t,"xAxis",e,r),OL=(t,e,n,r)=>es(t,"xAxis",e,r),IL=(t,e,n,r)=>ts(t,"yAxis",n,r),kL=(t,e,n,r)=>es(t,"yAxis",n,r),yme=re([tt,PL,IL,OL,kL],(t,e,n,r,i)=>ss(t,"xAxis")?Oc(e,r,!1):Oc(n,i,!1)),vme=(t,e,n,r,i)=>i,RL=re([wm,vme],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),xme=(t,e,n,r,i)=>{var a,l=RL(t,e,n,r,i);if(l!=null){var d=tt(t),f=ss(d,"xAxis"),h;if(f?h=Vh(t,"yAxis",n,r):h=Vh(t,"xAxis",e,r),h!=null){var{stackId:p}=l,g=n0(l);if(!(p==null||g==null)){var x=(a=h[p])===null||a===void 0?void 0:a.stackedData;return x?.find(b=>b.key===g)}}}},bme=re([tt,PL,IL,OL,kL,xme,ym,yme,RL],(t,e,n,r,i,a,l,d,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:g}=l;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||d==null)){var{data:x}=f,b;if(x&&x.length>0?b=x:b=h?.slice(p,g+1),b!=null){var A=void 0;return zme({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:f,stackedData:a,displayedData:b,chartBaseValue:A,bandSize:d})}}}),wme=["id"],_me=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function DL(t,e){if(t==null)return{};var n,r,i=Eme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Eme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){Ame(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ame(t,e,n){return(e=Sme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sme(t){var e=Tme(t,"string");return typeof e=="symbol"?e:e+""}function Tme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qs(){return qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qs.apply(null,arguments)}function Wy(t,e){return t&&t!=="none"?t:e}var Nme=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:l}=t;return[{inactive:l,dataKey:e,type:a,color:Wy(r,i),value:_l(n,e),payload:t}]};function jme(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:d,unit:f}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:_l(l,e),hide:d,type:t.tooltipType,color:Wy(r,a),unit:f}}}var Cme=(t,e)=>{var n;if(_.isValidElement(t))n=_.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=ct("recharts-area-dot",typeof t!="boolean"?t.className:"");n=_.createElement(FA,qs({},e,{className:r}))}return n};function Pme(t,e){return t==null?!1:e?!0:t.length===1}function Ome(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:l}=r;if(!Pme(n,a))return null;var d=kv(a),f=Xi(r),h=qt(a,!0),p=n.map((x,b)=>{var A=Ls(Ls(Ls({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:x.x,cy:x.y,dataKey:l,value:x.value,payload:x.payload,points:n});return Cme(a,A)}),g={clipPath:i?"url(#clipPath-".concat(d?"":"dots-").concat(e,")"):void 0};return _.createElement(fn,qs({className:"recharts-area-dots"},g),p)}function Ime(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var l={x:a.x,y:a.y,width:0,height:0};return Ls(Ls({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return _.createElement($A,{value:e?i:null},n)}function Fk(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:l,type:d,stroke:f,connectNulls:h,isRange:p}=a,{id:g}=a,x=DL(a,wme),b=Xi(x);return _.createElement(_.Fragment,null,e?.length>1&&_.createElement(fn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},_.createElement(Yu,qs({},b,{id:g,points:e,connectNulls:h,type:d,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&_.createElement(Yu,qs({},b,{className:"recharts-area-curve",layout:l,type:d,connectNulls:h,fill:"none",points:e})),f!=="none"&&p&&_.createElement(Yu,qs({},b,{className:"recharts-area-curve",layout:l,type:d,connectNulls:h,fill:"none",points:n}))),_.createElement(Ome,{points:e,props:x,clipPathId:i}))}function kme(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].y,l=r[r.length-1].y;if(!dr(a)||!dr(l))return null;var d=e*Math.abs(a-l),f=Math.max(...r.map(h=>h.x||0));return Pe(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.x||0),f)),Pe(f)?_.createElement("rect",{x:0,y:a<l?a:a-d,width:f+(i?parseInt("".concat(i),10):1),height:Math.floor(d)}):null}function Rme(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].x,l=r[r.length-1].x;if(!dr(a)||!dr(l))return null;var d=e*Math.abs(a-l),f=Math.max(...r.map(h=>h.y||0));return Pe(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.y||0),f)),Pe(f)?_.createElement("rect",{x:a<l?a:a-d,y:0,width:d,height:Math.floor(f+(i?parseInt("".concat(i),10):1))}):null}function Dme(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?_.createElement(kme,{alpha:e,points:r,baseLine:i,strokeWidth:a}):_.createElement(Rme,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function Mme(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:l,baseLine:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,onAnimationStart:x,onAnimationEnd:b}=r,A=Pd(r,"recharts-area-"),[E,S]=_.useState(!1),N=!E,C=_.useCallback(()=>{typeof b=="function"&&b(),S(!1)},[b]),j=_.useCallback(()=>{typeof x=="function"&&x(),S(!0)},[x]),L=i.current,V=a.current;return _.createElement(Ime,{showLabels:N,points:l},r.children,_.createElement(Cd,{animationId:A,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:C,onAnimationStart:j,key:A},D=>{if(L){var k=L.length/l.length,O=D===1?l:l.map((F,B)=>{var q=Math.floor(B*k);if(L[q]){var U=L[q];return Ls(Ls({},F),{},{x:Nt(U.x,F.x,D),y:Nt(U.y,F.y,D)})}return F}),R;return Pe(d)?R=Nt(V,d,D):Ft(d)||Xr(d)?R=Nt(V,0,D):R=d.map((F,B)=>{var q=Math.floor(B*k);if(Array.isArray(V)&&V[q]){var U=V[q];return Ls(Ls({},F),{},{x:Nt(U.x,F.x,D),y:Nt(U.y,F.y,D)})}return F}),D>0&&(i.current=O,a.current=R),_.createElement(Fk,{points:O,baseLine:R,needClip:e,clipPathId:n,props:r})}return D>0&&(i.current=l,a.current=d),_.createElement(fn,null,f&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(n)},_.createElement(Dme,{alpha:D,points:l,baseLine:d,layout:r.layout,strokeWidth:r.strokeWidth}))),_.createElement(fn,{clipPath:"url(#animationClipPath-".concat(n,")")},_.createElement(Fk,{points:l,baseLine:d,needClip:e,clipPathId:n,props:r})))}),_.createElement(d0,{label:r.label}))}function Lme(t){var{needClip:e,clipPathId:n,props:r}=t,i=_.useRef(null),a=_.useRef();return _.createElement(Mme,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class Vme extends _.PureComponent{render(){var e,{hide:n,dot:r,points:i,className:a,top:l,left:d,needClip:f,xAxisId:h,yAxisId:p,width:g,height:x,id:b,baseLine:A}=this.props;if(n)return null;var E=ct("recharts-area",a),S=b,{r:N=3,strokeWidth:C=2}=(e=qt(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},j=kv(r),L=N*2+C;return _.createElement(_.Fragment,null,_.createElement(fn,{className:E},f&&_.createElement("defs",null,_.createElement(nS,{clipPathId:S,xAxisId:h,yAxisId:p}),!j&&_.createElement("clipPath",{id:"clipPath-dots-".concat(S)},_.createElement("rect",{x:d-L/2,y:l-L/2,width:g+L,height:x+L}))),_.createElement(Lme,{needClip:f,clipPathId:S,props:this.props})),_.createElement(D2,{points:i,mainColor:Wy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(A)&&_.createElement(D2,{points:A,mainColor:Wy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var ML={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!oo.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Ume(t){var e,n=$n(t,ML),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:d,dot:f,fill:h,fillOpacity:p,hide:g,isAnimationActive:x,legendType:b,stroke:A,xAxisId:E,yAxisId:S}=n,N=DL(n,_me),C=fm(),j=z9(),{needClip:L}=p0(E,S),V=Sr(),{points:D,isRange:k,baseLine:O}=(e=Ce(ve=>bme(ve,E,S,V,t.id)))!==null&&e!==void 0?e:{},R=m0();if(C!=="horizontal"&&C!=="vertical"||R==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:F,width:B,x:q,y:U}=R;return!D||!D.length?null:_.createElement(Vme,qs({},N,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:l,baseLine:O,connectNulls:d,dot:f,fill:h,fillOpacity:p,height:F,hide:g,layout:C,isAnimationActive:x,isRange:k,legendType:b,needClip:L,points:D,stroke:A,width:B,left:q,top:U,xAxisId:E,yAxisId:S}))}var Bme=(t,e,n,r,i)=>{var a=n??e;if(Pe(a))return a;var l=t==="horizontal"?i:r,d=l.scale.domain();if(l.type==="number"){var f=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return a==="dataMin"?h:a==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return a==="dataMin"?d[0]:a==="dataMax"?d[1]:d[0]};function zme(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:l,xAxis:d,yAxis:f,displayedData:h,dataStartIndex:p,xAxisTicks:g,yAxisTicks:x,bandSize:b}=t,A=i&&i.length,E=Bme(a,l,n,d,f),S=a==="horizontal",N=!1,C=h.map((L,V)=>{var D;A?D=i[p+V]:(D=jt(L,r),Array.isArray(D)?N=!0:D=[E,D]);var k=D[1]==null||A&&!e&&jt(L,r)==null;return S?{x:Sy({axis:d,ticks:g,bandSize:b,entry:L,index:V}),y:k?null:f.scale(D[1]),value:D,payload:L}:{x:k?null:d.scale(D[1]),y:Sy({axis:f,ticks:x,bandSize:b,entry:L,index:V}),value:D,payload:L}}),j;return A||N?j=C.map(L=>{var V=Array.isArray(L.value)?L.value[0]:null;return S?{x:L.x,y:V!=null&&L.y!=null?f.scale(V):null,payload:L.payload}:{x:V!=null?d.scale(V):null,y:L.y,payload:L.payload}}):j=S?f.scale(E):d.scale(E),{points:C,baseLine:j,isRange:N}}function $me(t){var e=$n(t,ML),n=Sr();return _.createElement(h0,{id:e.id,type:"area"},r=>_.createElement(_.Fragment,null,_.createElement(QA,{legendPayload:Nme(e)}),_.createElement(f0,{fn:jme,args:e}),_.createElement(ZA,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:SM(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),_.createElement(Ume,qs({},e,{id:r}))))}var LL=_.memo($me);LL.displayName="Area";var Fme=["dangerouslySetInnerHTML","ticks"],qme=["id"],Hme=["domain"],Kme=["domain"];function U2(){return U2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U2.apply(null,arguments)}function Yy(t,e){if(t==null)return{};var n,r,i=Gme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Wme(t){var e=on();return _.useEffect(()=>(e(wde(t)),()=>{e(_de(t))}),[t,e]),null}var Yme=t=>{var{xAxisId:e,className:n}=t,r=Ce(IE),i=Sr(),a="xAxis",l=Ce(S=>Ld(S,a,e,i)),d=Ce(S=>b9(S,a,e,i)),f=Ce(S=>g9(S,e)),h=Ce(S=>roe(S,e)),p=Ce(S=>G8(S,e));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=t,b=Yy(t,Fme),{id:A}=p,E=Yy(p,qme);return _.createElement(sS,U2({},b,E,{scale:l,x:h.x,y:h.y,width:f.width,height:f.height,className:ct("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:d}))},Xme={allowDataOverflow:oi.allowDataOverflow,allowDecimals:oi.allowDecimals,allowDuplicatedCategory:oi.allowDuplicatedCategory,height:oi.height,hide:!1,mirror:oi.mirror,orientation:oi.orientation,padding:oi.padding,reversed:oi.reversed,scale:oi.scale,tickCount:oi.tickCount,type:oi.type,xAxisId:0},Qme=t=>{var e,n,r,i,a,l=$n(t,Xme);return _.createElement(_.Fragment,null,_.createElement(Wme,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),_.createElement(Yme,l))},Zme=(t,e)=>{var{domain:n}=t,r=Yy(t,Hme),{domain:i}=e,a=Yy(e,Kme);return gd(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:gd({domain:n},{domain:i}):!1},y0=_.memo(Qme,Zme);y0.displayName="XAxis";var Jme=["dangerouslySetInnerHTML","ticks"],epe=["id"],tpe=["domain"],npe=["domain"];function B2(){return B2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B2.apply(null,arguments)}function Xy(t,e){if(t==null)return{};var n,r,i=rpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ipe(t){var e=on();return _.useEffect(()=>(e(Ede(t)),()=>{e(Ade(t))}),[t,e]),null}var ape=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=_.useRef(null),l=_.useRef(null),d=Ce(IE),f=Sr(),h=on(),p="yAxis",g=Ce(V=>Ld(V,p,e,f)),x=Ce(V=>y9(V,e)),b=Ce(V=>aoe(V,e)),A=Ce(V=>b9(V,p,e,f)),E=Ce(V=>W8(V,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!x||zA(i)||_.isValidElement(i)||E==null)){var V=a.current;if(V){var D=V.getCalculatedWidth();Math.round(x.width)!==Math.round(D)&&h(Sde({id:e,width:D}))}}},[A,x,h,i,e,r,E]),x==null||b==null||E==null)return null;var{dangerouslySetInnerHTML:S,ticks:N}=t,C=Xy(t,Jme),{id:j}=E,L=Xy(E,epe);return _.createElement(sS,B2({},C,L,{ref:a,labelRef:l,scale:g,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:ct("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:A}))},spe={allowDataOverflow:li.allowDataOverflow,allowDecimals:li.allowDecimals,allowDuplicatedCategory:li.allowDuplicatedCategory,hide:!1,mirror:li.mirror,orientation:li.orientation,padding:li.padding,reversed:li.reversed,scale:li.scale,tickCount:li.tickCount,type:li.type,width:li.width,yAxisId:0},ope=t=>{var e,n,r,i,a,l=$n(t,spe);return _.createElement(_.Fragment,null,_.createElement(ipe,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),_.createElement(ape,l))},lpe=(t,e)=>{var{domain:n}=t,r=Xy(t,tpe),{domain:i}=e,a=Xy(e,npe);return gd(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:gd({domain:n},{domain:i}):!1},v0=_.memo(ope,lpe);v0.displayName="YAxis";var g1={exports:{}},y1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qk;function cpe(){if(qk)return y1;qk=1;var t=yd();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,d=t.useDebugValue;return y1.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var b=i(null);if(b.current===null){var A={hasValue:!1,value:null};b.current=A}else A=b.current;b=l(function(){function S(V){if(!N){if(N=!0,C=V,V=g(V),x!==void 0&&A.hasValue){var D=A.value;if(x(D,V))return j=D}return j=V}if(D=j,n(C,V))return D;var k=g(V);return x!==void 0&&x(D,k)?(C=V,D):(C=V,j=k)}var N=!1,C,j,L=p===void 0?null:p;return[function(){return S(h())},L===null?void 0:function(){return S(L())}]},[h,p,g,x]);var E=r(f,b[0],b[1]);return a(function(){A.hasValue=!0,A.value=E},[E]),d(E),E},y1}var Hk;function upe(){return Hk||(Hk=1,g1.exports=cpe()),g1.exports}upe();function dpe(t){t()}function fpe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){dpe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Kk={notify(){},get:()=>[]};function hpe(t,e){let n,r=Kk,i=0,a=!1;function l(E){p();const S=r.subscribe(E);let N=!1;return()=>{N||(N=!0,S(),g())}}function d(){r.notify()}function f(){A.onStateChange&&A.onStateChange()}function h(){return a}function p(){i++,n||(n=t.subscribe(f),r=fpe())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Kk)}function x(){a||(a=!0,p())}function b(){a&&(a=!1,g())}const A={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:x,tryUnsubscribe:b,getListeners:()=>r};return A}var mpe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ppe=mpe(),gpe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ype=gpe(),vpe=()=>ppe||ype?_.useLayoutEffect:_.useEffect,xpe=vpe(),bpe=Symbol.for("react-redux-context"),wpe=typeof globalThis<"u"?globalThis:{};function _pe(){if(!_.createContext)return{};const t=wpe[bpe]??=new Map;let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var Epe=_pe();function Ape(t){const{children:e,context:n,serverState:r,store:i}=t,a=_.useMemo(()=>{const f=hpe(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=_.useMemo(()=>i.getState(),[i]);xpe(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,l]);const d=n||Epe;return _.createElement(d.Provider,{value:a},e)}var Spe=Ape,Tpe=(t,e)=>e,lS=re([Tpe,tt,q8,qn,D9,fo,cle,zn],mle),cS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},VL=Ki("mouseClick"),UL=um();UL.startListening({actionCreator:VL,effect:(t,e)=>{var n=t.payload,r=lS(e.getState(),cS(n));r?.activeIndex!=null&&e.dispatch(voe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var z2=Ki("mouseMove"),BL=um();BL.startListening({actionCreator:z2,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=IA(r,r.tooltip.settings.shared),a=lS(r,cS(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(j9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(N9()))}});var Gk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},zL=vi({name:"rootProps",initialState:Gk,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Gk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Npe=zL.reducer,{updateOptions:jpe}=zL.actions,$L=vi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Cpe}=$L.actions,Ppe=$L.reducer,FL=Ki("keyDown"),qL=Ki("focus"),uS=um();uS.startListening({actionCreator:FL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=Number(kA(i,Ud(n))),d=fo(n);if(a==="Enter"){var f=zy(n,"axis","hover",String(i.index));e.dispatch(P2({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=coe(n),p=h==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,x=l+g*p;if(!(d==null||x>=d.length||x<0)){var b=zy(n,"axis","hover",String(x));e.dispatch(P2({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});uS.startListening({actionCreator:qL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=zy(n,"axis","hover",String(a));e.dispatch(P2({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var Vi=Ki("externalEvent"),HL=um();HL.startListening({actionCreator:Vi,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:ele(n),activeDataKey:U9(n),activeIndex:pl(n),activeLabel:V9(n),activeTooltipIndex:pl(n),isTooltipActive:tle(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Ope=re([Vd],t=>t.tooltipItemPayloads),Ipe=re([Ope,Am,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(d=>d.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=e(a,n);return l}}}),KL=Ki("touchMove"),GL=um();GL.startListening({actionCreator:KL,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=IA(r,r.tooltip.settings.shared);if(i==="axis"){var a=lS(r,cS({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(j9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,d=n.touches[0],f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(NM),p=(l=f.getAttribute(jM))!==null&&l!==void 0?l:void 0,g=Ipe(e.getState(),h,p);e.dispatch(T9({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}});var kpe=Z5({brush:Kfe,cartesianAxis:Tde,chartData:Ple,errorBars:Hde,graphicalItems:Hue,layout:dte,legend:ene,options:Sle,polarAxis:lue,polarOptions:Ppe,referenceElements:Jfe,rootProps:Npe,tooltip:xoe}),Rpe=function(e){return Mee({reducer:kpe,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([UL.middleware,BL.middleware,uS.middleware,HL.middleware,GL.middleware]),devTools:oo.devToolsEnabled})};function WL(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Sr(),a=_.useRef(null);if(i)return n;a.current==null&&(a.current=Rpe(e));var l=TE;return _.createElement(Spe,{context:l,store:a.current},n)}function YL(t){var{layout:e,width:n,height:r,margin:i}=t,a=on(),l=Sr();return _.useEffect(()=>{l||(a(lte(e)),a(cte({width:n,height:r})),a(ote(i)))},[a,l,e,n,r,i]),null}function XL(t){var e=on();return _.useEffect(()=>{e(jpe(t))},[e,t]),null}var Dpe=["children"];function Mpe(t,e){if(t==null)return{};var n,r,i=Lpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qy.apply(null,arguments)}var Vpe={width:"100%",height:"100%"},Upe=_.forwardRef((t,e)=>{var n=RE(),r=DE(),i=kM();if(!dd(n)||!dd(r))return null;var{children:a,otherAttributes:l,title:d,desc:f}=t,h,p;return typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0,_.createElement(yE,Qy({},l,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:Vpe,ref:e}),a)}),Bpe=t=>{var{children:e}=t,n=Ce(Kv);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return _.createElement(yE,{width:r,height:i,x:l,y:a},e)},Wk=_.forwardRef((t,e)=>{var{children:n}=t,r=Mpe(t,Dpe),i=Sr();return i?_.createElement(Bpe,null,n):_.createElement(Upe,Qy({ref:e},r),n)});function zpe(){var t=on(),[e,n]=_.useState(null),r=Ce(Ute);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;dr(a)&&a!==r&&t(ute(a))}},[e,t,r]),n}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){Fpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fpe(t,e,n){return(e=qpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qpe(t){var e=Hpe(t,"string");return typeof e=="symbol"?e:e+""}function Hpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kpe=_.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:x,onTouchEnd:b,onTouchMove:A,onTouchStart:E,style:S,width:N}=t,C=on(),[j,L]=_.useState(null),[V,D]=_.useState(null);Ule();var k=zpe(),O=_.useCallback(ne=>{k(ne),typeof e=="function"&&e(ne),L(ne),D(ne)},[k,e,L,D]),R=_.useCallback(ne=>{C(VL(ne)),C(Vi({handler:a,reactEvent:ne}))},[C,a]),F=_.useCallback(ne=>{C(z2(ne)),C(Vi({handler:h,reactEvent:ne}))},[C,h]),B=_.useCallback(ne=>{C(N9()),C(Vi({handler:p,reactEvent:ne}))},[C,p]),q=_.useCallback(ne=>{C(z2(ne)),C(Vi({handler:g,reactEvent:ne}))},[C,g]),U=_.useCallback(()=>{C(qL())},[C]),ve=_.useCallback(ne=>{C(FL(ne.key))},[C]),le=_.useCallback(ne=>{C(Vi({handler:l,reactEvent:ne}))},[C,l]),W=_.useCallback(ne=>{C(Vi({handler:d,reactEvent:ne}))},[C,d]),K=_.useCallback(ne=>{C(Vi({handler:f,reactEvent:ne}))},[C,f]),ce=_.useCallback(ne=>{C(Vi({handler:x,reactEvent:ne}))},[C,x]),me=_.useCallback(ne=>{C(Vi({handler:E,reactEvent:ne}))},[C,E]),z=_.useCallback(ne=>{C(KL(ne)),C(Vi({handler:A,reactEvent:ne}))},[C,A]),X=_.useCallback(ne=>{C(Vi({handler:b,reactEvent:ne}))},[C,b]);return _.createElement(K9.Provider,{value:j},_.createElement(x5.Provider,{value:V},_.createElement("div",{className:ct("recharts-wrapper",r),style:$pe({position:"relative",cursor:"default",width:N,height:i},S),onClick:R,onContextMenu:le,onDoubleClick:W,onFocus:U,onKeyDown:ve,onMouseDown:K,onMouseEnter:F,onMouseLeave:B,onMouseMove:q,onMouseUp:ce,onTouchEnd:X,onTouchMove:z,onTouchStart:me,ref:O},n)))}),Gpe=["children","className","width","height","style","compact","title","desc"];function Wpe(t,e){if(t==null)return{};var n,r,i=Ype(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ype(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var QL=_.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:l,compact:d,title:f,desc:h}=t,p=Wpe(t,Gpe),g=Xi(p);return d?_.createElement(Wk,{otherAttributes:g,title:f,desc:h},n):_.createElement(Kpe,{className:r,style:l,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(Wk,{otherAttributes:g,title:f,desc:h,ref:e},_.createElement(the,null,n)))}),Xpe=["width","height"];function $2(){return $2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$2.apply(null,arguments)}function Qpe(t,e){if(t==null)return{};var n,r,i=Zpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Jpe={top:5,right:5,bottom:5,left:5},ege={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jpe,reverseStackOrder:!1,syncMethod:"index"},dS=_.forwardRef(function(e,n){var r,i=$n(e.categoricalChartProps,ege),{width:a,height:l}=i,d=Qpe(i,Xpe);if(!dd(a)||!dd(l))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,categoricalChartProps:x}=e,b={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,eventEmitter:void 0};return _.createElement(WL,{preloadedState:{options:b},reduxStoreName:(r=x.id)!==null&&r!==void 0?r:f},_.createElement(xL,{chartData:x.data}),_.createElement(YL,{width:a,height:l,layout:i.layout,margin:i.margin}),_.createElement(XL,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(QL,$2({},d,{width:a,height:l,ref:n})))}),tge=["axis"],nge=_.forwardRef((t,e)=>_.createElement(dS,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tge,tooltipPayloadSearcher:c0,categoricalChartProps:t,ref:e})),rge=["axis","item"],ige=_.forwardRef((t,e)=>_.createElement(dS,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rge,tooltipPayloadSearcher:c0,categoricalChartProps:t,ref:e}));function age(t){var e=on();return _.useEffect(()=>{e(Cpe(t))},[e,t]),null}var sge=["width","height","layout"];function F2(){return F2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F2.apply(null,arguments)}function oge(t,e){if(t==null)return{};var n,r,i=lge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cge={top:5,right:5,bottom:5,left:5},uge={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:cge,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},dge=_.forwardRef(function(e,n){var r,i=$n(e.categoricalChartProps,uge),{width:a,height:l,layout:d}=i,f=oge(i,sge);if(!dd(a)||!dd(l))return null;var{chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:x}=e,b={chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,eventEmitter:void 0};return _.createElement(WL,{preloadedState:{options:b},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:h},_.createElement(xL,{chartData:i.data}),_.createElement(YL,{width:a,height:l,layout:d,margin:i.margin}),_.createElement(XL,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(age,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(QL,F2({width:a,height:l},f,{ref:n})))}),fge=["item"],hge={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ZL=_.forwardRef((t,e)=>{var n=$n(t,hge);return _.createElement(dge,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:fge,tooltipPayloadSearcher:c0,categoricalChartProps:n,ref:e})}),mge=["axis"],pge=_.forwardRef((t,e)=>_.createElement(dS,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mge,tooltipPayloadSearcher:c0,categoricalChartProps:t,ref:e}));const gge=({data:t})=>{const e=t.map(r=>({date:r.date,Ventas:r.totalSales,Pedidos:r.orderCount})),n=r=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(r);return u.jsx(Nm,{width:"100%",height:"100%",children:u.jsxs(nge,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[u.jsx(g0,{strokeDasharray:"3 3"}),u.jsx(y0,{dataKey:"date",tick:{fontSize:12},tickFormatter:r=>new Date(r).toLocaleDateString("es-CO",{month:"short",day:"numeric"})}),u.jsx(v0,{tick:{fontSize:12},tickFormatter:r=>n(r)}),u.jsx(Tm,{formatter:(r,i)=>i==="Ventas"?[n(r),"Ventas"]:[r,"Pedidos"],labelFormatter:r=>new Date(r).toLocaleDateString("es-CO",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),u.jsx(El,{}),u.jsx(V2,{type:"monotone",dataKey:"Ventas",stroke:"#3b82f6",activeDot:{r:8},strokeWidth:2,name:"Ventas"}),u.jsx(V2,{type:"monotone",dataKey:"Pedidos",stroke:"#10b981",strokeWidth:2,name:"Pedidos"})]})})},yge=({data:t})=>{const e=t.map(i=>({name:i.category,value:i.revenue,sales:i.sales,quantity:i.quantity})),n=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#f97316","#ec4899"],r=i=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(i);return u.jsx(Nm,{width:"100%",height:"100%",children:u.jsxs(ZL,{children:[u.jsx(eS,{data:e,cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:i,percent:a})=>`${i}: ${(a*100).toFixed(0)}%`,children:e.map((i,a)=>u.jsx(Yc,{fill:n[a%n.length]},`cell-${a}`))}),u.jsx(Tm,{formatter:i=>r(i),labelFormatter:i=>`Categoría: ${i}`}),u.jsx(El,{})]})})},vge=({data:t})=>{const e=i=>{switch(i){case"pending":return"Pendiente";case"processing":return"Procesando";case"shipped":return"Enviado";case"delivered":return"Entregado";case"cancelled":return"Cancelado";default:return i}},n=i=>{switch(i){case"pending":return"#f59e0b";case"processing":return"#3b82f6";case"shipped":return"#8b5cf6";case"delivered":return"#10b981";case"cancelled":return"#ef4444";default:return"#6b7280"}},r=t.map(i=>({name:e(i.status),value:i.count}));return u.jsx(Nm,{width:"100%",height:"100%",children:u.jsxs(ige,{data:r,margin:{top:5,right:30,left:20,bottom:5},children:[u.jsx(g0,{strokeDasharray:"3 3"}),u.jsx(y0,{dataKey:"name",tick:{fontSize:12}}),u.jsx(v0,{tick:{fontSize:12}}),u.jsx(Tm,{formatter:i=>[i,"Pedidos"],labelFormatter:i=>`Estado: ${i}`}),u.jsx(El,{}),u.jsx(yL,{dataKey:"value",name:"Número de Pedidos",children:r.map((i,a)=>u.jsx(Yc,{fill:n(t[a].status)},`cell-${a}`))})]})})},xge=({data:t})=>{const e=t.map(i=>({name:i.method,value:i.revenue,count:i.count})),n=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#f97316","#ec4899"],r=i=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(i);return u.jsx(Nm,{width:"100%",height:"100%",children:u.jsxs(ZL,{children:[u.jsx(eS,{data:e,cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:i,percent:a})=>`${i}: ${(a*100).toFixed(0)}%`,children:e.map((i,a)=>u.jsx(Yc,{fill:n[a%n.length]},`cell-${a}`))}),u.jsx(Tm,{formatter:(i,a,l)=>a==="value"?[r(i),"Ingresos"]:[i,"Pedidos"],labelFormatter:i=>`Método: ${i}`}),u.jsx(El,{})]})})},bge=({data:t})=>{const e=t.map(n=>({date:n.date,Registros:n.registrations}));return u.jsx(Nm,{width:"100%",height:"100%",children:u.jsxs(pge,{data:e,margin:{top:10,right:30,left:0,bottom:0},children:[u.jsx(g0,{strokeDasharray:"3 3"}),u.jsx(y0,{dataKey:"date",tick:{fontSize:12},tickFormatter:n=>new Date(n).toLocaleDateString("es-CO",{month:"short",day:"numeric"})}),u.jsx(v0,{tick:{fontSize:12}}),u.jsx(Tm,{labelFormatter:n=>new Date(n).toLocaleDateString("es-CO",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),u.jsx(El,{}),u.jsx(LL,{type:"monotone",dataKey:"Registros",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.3,strokeWidth:2})]})})};var JL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xk=lt.createContext&&lt.createContext(JL),wge=["attr","size","title"];function _ge(t,e){if(t==null)return{};var n=Ege(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ege(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zy(){return Zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zy.apply(this,arguments)}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){Age(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Age(t,e,n){return e=Sge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sge(t){var e=Tge(t,"string");return typeof e=="symbol"?e:e+""}function Tge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e7(t){return t&&t.map((e,n)=>lt.createElement(e.tag,Jy({key:n},e.attr),e7(e.child)))}function Lt(t){return e=>lt.createElement(Nge,Zy({attr:Jy({},t.attr)},e),e7(t.child))}function Nge(t){var e=n=>{var{attr:r,size:i,title:a}=t,l=_ge(t,wge),d=i||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),lt.createElement("svg",Zy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:f,style:Jy(Jy({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&lt.createElement("title",null,a),t.children)};return Xk!==void 0?lt.createElement(Xk.Consumer,null,n=>e(n)):e(JL)}function Zk(t){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function Jk(t){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function jge(t){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Cge(t){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function Pge(t){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function eR(t){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function Oge(t){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function pg(t){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(t)}function Ige(t){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function kge(t){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function tR(t){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function nR(t){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function v1(t){return Lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Rge=()=>{const{currentUser:t,isAdmin:e}=Yi(),n=Wi(),[r,i]=_.useState(!1),[a,l]=_.useState("analytics"),[d,f]=_.useState({totalProducts:0,totalOrders:0,totalUsers:0,totalReviews:0,totalRevenue:0,recentOrders:[],recentUsers:[],salesData:[],salesByCategory:[],orderStatusData:[],topSellingProducts:[],userRegistrationData:[],paymentMethodData:[],dateRange:"last30days"}),[h,p]=_.useState(!1),[g,x]=_.useState([]),[b,A]=_.useState(!1),[E,S]=_.useState({name:"",description:"",price:"",imageUrls:[],primaryImageIndex:0,category:"",material:"",color:"",size:"",style:"",stock:0,rating:0}),[N,C]=_.useState(null),[j,L]=_.useState(!1),[V,D]=_.useState("add"),[k,O]=_.useState([]),[R,F]=_.useState(!1),[B,q]=_.useState([]),[U,ve]=_.useState(!1),[le,W]=_.useState(null),[K,ce]=_.useState(!1),[me,z]=_.useState([]),[X,ne]=_.useState(!1),[Z,oe]=_.useState(null),[ye,be]=_.useState(!1),[Le,Ke]=_.useState({}),[_e,Ve]=_.useState(!1),Ne=_.useRef(null),[xe,Ue]=_.useState(null),[nt,An]=_.useState(""),[Qt,Vt]=_.useState(!1);_.useEffect(()=>{const Y=we=>{Ne.current&&!Ne.current.contains(we.target)&&Ve(!1)};return document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[]);const os=()=>{Ve(!_e)},Zt=()=>{Ve(!1)},Sn=async()=>{try{await r3(ga),Zt(),n("/login")}catch(Y){console.error("Error signing out:",Y),Ue("Error al cerrar sesión")}},Hn=Y=>{An(Y),setTimeout(()=>An(""),3e3)},Aa=Y=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(Y||0),Zi=Y=>Y?Y instanceof Date?Y.toLocaleDateString("es-CO"):Y.toDate?Y.toDate().toLocaleDateString("es-CO"):"N/A":"N/A",Bd=async(Y,we)=>{try{Ke(Oe=>({...Oe,[Y]:!0})),await tZ(Y,we),z(me.map(Oe=>Oe.id===Y?{...Oe,orderStatus:we,updatedAt:new Date}:Oe)),Z&&Z.id===Y&&oe({...Z,orderStatus:we,updatedAt:new Date}),Hn(`Estado del pedido actualizado a ${zb(we)}`)}catch(Oe){console.error("Error updating order status:",Oe),Ue("Error al actualizar el estado del pedido")}finally{Ke(Oe=>({...Oe,[Y]:!1}))}},Sa=async()=>{try{p(!0);const Y=new Date;let we=new Date;switch(d.dateRange){case"last7days":we.setDate(we.getDate()-7);break;case"last30days":we.setDate(we.getDate()-30);break;case"last90days":we.setDate(we.getDate()-90);break;case"lastYear":we.setFullYear(we.getFullYear()-1);break;default:we.setDate(we.getDate()-30)}const wt=(await Gt(Pt(Re,"products"))).size,tn=await Gt(Pt(Re,"orders")),fr=tn.size;let ta=0;tn.docs.forEach(Si=>{const Ur=Si.data();ta+=Ur.totalAmount||0});const hr=await WP(),wi=hr.length,Pa=(await FP()).length,nn=xa(Pt(Re,"orders"),wl("createdAt","desc"),yG(5)),us=(await Gt(nn)).docs.map(Si=>({id:Si.id,...Si.data()})),_i=hr.slice(0,5),Ei=await rZ(we,Y),ds=await iZ(),Ai=await aZ(),go=await sZ(10),qd=await oZ(we,Y),fs=await lZ();f({totalProducts:wt,totalOrders:fr,totalUsers:wi,totalReviews:Pa,totalRevenue:ta,recentOrders:us,recentUsers:_i,salesData:Ei.salesData,salesByCategory:ds,orderStatusData:Ai,topSellingProducts:go,userRegistrationData:qd.registrationData,paymentMethodData:fs,dateRange:d.dateRange})}catch(Y){console.error("Error fetching dashboard stats:",Y),Ue("Error al cargar las estadísticas del dashboard")}finally{p(!1)}},Qr=Y=>{f(we=>({...we,dateRange:Y}))},Tn=async()=>{try{A(!0);const we=(await Gt(Pt(Re,"products"))).docs.map(Oe=>({id:Oe.id,...Oe.data()}));x(we)}catch(Y){console.error("Error fetching products:",Y),Ue("Error al cargar los productos")}finally{A(!1)}},Vr=async()=>{try{F(!0);const Y=await WP();O(Y)}catch(Y){console.error("Error fetching users:",Y),Ue("Error al cargar los usuarios")}finally{F(!1)}},nr=async()=>{try{ve(!0);const Y=await FP();q(Y)}catch(Y){console.error("Error fetching reviews:",Y),Ue("Error al cargar las reseñas")}finally{ve(!1)}},zd=async()=>{try{ne(!0);const Y=await nZ();z(Y)}catch(Y){console.error("Error fetching orders:",Y),Ue("Error al cargar los pedidos")}finally{ne(!1)}};_.useEffect(()=>{if(e)switch(p(!1),A(!1),F(!1),ve(!1),ne(!1),a){case"analytics":Sa();break;case"products":A(!0),Tn();break;case"users":F(!0),Vr();break;case"reviews":ve(!0),nr();break;case"orders":ne(!0),zd();break;default:Sa()}},[a,e]);const Tr=Y=>{S({...E,[Y.target.name]:Y.target.value})},Nr=Y=>{C({...N,[Y.target.name]:Y.target.value})},xi=async Y=>{if(!Y)return null;if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(Y.type))return Ue("Por favor, sube una imagen válida (JPEG, JPG, PNG, GIF)."),null;if(Y.size>1024*1024)return Ue("La imagen debe ser menor a 1MB."),null;try{Vt(!0);const Oe=await Ta(Y);return{name:Y.name,type:Y.type,data:Oe,timestamp:Date.now()}}catch(Oe){return console.error("Error converting file to base64:",Oe),Ue("Error al procesar la imagen: "+Oe.message),null}finally{Vt(!1)}},Ta=Y=>new Promise((we,Oe)=>{const wt=new FileReader;wt.readAsDataURL(Y),wt.onload=()=>we(wt.result),wt.onerror=tn=>Oe(tn)}),Zr=async(Y=!1)=>{const we=document.createElement("input");we.type="file",we.accept="image/*",we.multiple=!0,we.onchange=async Oe=>{const wt=Array.from(Oe.target.files);if(!wt.length)return;const tn=Y?N.imageUrls:E.imageUrls;if(tn.length+wt.length>4){Ue(`Solo puedes subir un máximo de 4 imágenes. Actualmente tienes ${tn.length} imágenes.`);return}const fr=[];for(const ta of wt){const hr=await xi(ta);hr&&fr.push(hr)}fr.length>0&&(Y?C({...N,imageUrls:[...N.imageUrls,...fr]}):S({...E,imageUrls:[...E.imageUrls,...fr]}),Hn(`${fr.length} imagen(es) subida(s) exitosamente!`))},we.click()},jr=(Y,we=!1)=>{if(we){const Oe=[...N.imageUrls];Oe.splice(Y,1),C({...N,imageUrls:Oe})}else{const Oe=[...E.imageUrls];Oe.splice(Y,1),S({...E,imageUrls:Oe})}},Ji=(Y,we=!1)=>{we?C({...N,primaryImageIndex:Y}):S({...E,primaryImageIndex:Y})},ls=async Y=>{if(Y.preventDefault(),!E.name||!E.price){Ue("Por favor, introduce al menos un nombre y un precio.");return}try{const we=parseFloat(E.price);if(isNaN(we)){Ue("El precio debe ser un número válido.");return}const Oe=parseInt(E.stock);if(isNaN(Oe)){Ue("El stock debe ser un número válido.");return}const wt=parseFloat(E.rating);if(isNaN(wt)||wt<0||wt>5){Ue("La calificación debe ser un número entre 0 y 5.");return}await Tv(Pt(Re,"products"),{...E,price:we,stock:Oe,rating:wt,createdAt:new Date}),S({name:"",description:"",price:"",stock:0,rating:0,imageUrls:[],primaryImageIndex:0,category:"",material:"",color:"",size:"",style:""}),Hn("Producto añadido exitosamente!"),L(!1),Tn()}catch(we){console.error("Firebase error: ",we),Ue("Error al crear el producto. ¿Tienes permisos de escritura?")}},ho=async Y=>{if(Y.preventDefault(),!N.name||!N.price){Ue("Por favor, introduce al menos un nombre y un precio.");return}try{const we=parseFloat(N.price);if(isNaN(we)){Ue("El precio debe ser un número válido.");return}const Oe=parseInt(N.stock);if(isNaN(Oe)){Ue("El stock debe ser un número válido.");return}const wt=parseFloat(N.rating);if(isNaN(wt)||wt<0||wt>5){Ue("La calificación debe ser un número entre 0 y 5.");return}const tn=bt(Re,"products",N.id);await ua(tn,{...N,price:we,stock:Oe,rating:wt,updatedAt:new Date}),Hn("Producto actualizado exitosamente!"),L(!1),C(null),Tn()}catch(we){console.error("Firebase error: ",we),Ue("Error al actualizar el producto. ¿Tienes permisos de escritura?")}},Na=async(Y,we)=>{if(window.confirm(`¿Estás seguro de que quieres eliminar el producto "${we}"?`))try{const wt=bt(Re,"products",Y);await W_(wt),x(g.filter(tn=>tn.id!==Y)),Hn("Producto eliminado exitosamente!")}catch(wt){console.error("Firebase error: ",wt),Ue("Error al eliminar el producto. ¿Tienes permisos de escritura?")}},mo=()=>{S({name:"",description:"",price:"",imageUrls:[],primaryImageIndex:0,category:"",material:"",color:"",size:"",style:"",stock:0,rating:0}),D("add"),L(!0)},Jt=Y=>{C({...Y}),D("edit"),L(!0)},Xc=async(Y,we)=>{try{await JQ(Y,we),O(k.map(Oe=>Oe.id===Y?{...Oe,role:we,updatedAt:new Date}:Oe)),Hn(`Usuario actualizado a ${we==="admin"?"administrador":"cliente"} exitosamente!`)}catch(Oe){console.error("Firebase error updating user role: ",Oe),Ue("Error al actualizar el rol del usuario. ¿Tienes permisos de escritura?")}},ja=Y=>{const{name:we,value:Oe}=Y.target;W({...le,[we]:Oe})},Ca=Y=>{W({...le,rating:Y})},po=async Y=>{if(Y.preventDefault(),le.rating<1||le.rating>5){Ue("La calificación debe estar entre 1 y 5 estrellas.");return}if(!le.comment||le.comment.trim()===""){Ue("El comentario no puede estar vacío.");return}try{await AQ(le.id,{rating:le.rating,comment:le.comment.trim()}),q(B.map(we=>we.id===le.id?{...we,rating:le.rating,comment:le.comment.trim()}:we)),W(null),ce(!1),Hn("Reseña actualizada exitosamente!")}catch(we){console.error("Firebase error: ",we),Ue("Error al actualizar la reseña. ¿Tienes permisos de escritura?")}},Nl=async Y=>{if(window.confirm("¿Estás seguro de que quieres eliminar esta reseña?"))try{await SQ(Y),q(B.filter(Oe=>Oe.id!==Y)),Hn("Reseña eliminada exitosamente!")}catch(Oe){console.error("Firebase error: ",Oe),Ue("Error al eliminar la reseña. ¿Tienes permisos de escritura?")}},ea=Y=>{W({...Y}),ce(!0)},$d=Y=>{oe(Y),be(!0)},bi=()=>{be(!1),oe(null)},en=[{id:"analytics",label:"Analytics",icon:u.jsx(Zk,{})},{id:"products",label:"Productos",icon:u.jsx(pg,{})},{id:"users",label:"Usuarios",icon:u.jsx(nR,{})},{id:"reviews",label:"Reviews",icon:u.jsx(Pge,{})},{id:"coupons",label:"Códigos Promocionales",icon:u.jsx(kge,{})},{id:"orders",label:"Pedidos",icon:u.jsx(eR,{})}],Dn=()=>{switch(a){case"analytics":return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-6 bg-white shadow-sm rounded-xl",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analíticas"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>Qr("last7days"),className:`px-4 py-2 text-sm rounded-lg ${d.dateRange==="last7days"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Últimos 7 días"}),u.jsx("button",{onClick:()=>Qr("last30days"),className:`px-4 py-2 text-sm rounded-lg ${d.dateRange==="last30days"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Últimos 30 días"}),u.jsx("button",{onClick:()=>Qr("last90days"),className:`px-4 py-2 text-sm rounded-lg ${d.dateRange==="last90days"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Últimos 90 días"}),u.jsx("button",{onClick:()=>Qr("lastYear"),className:`px-4 py-2 text-sm rounded-lg ${d.dateRange==="lastYear"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Último año"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[u.jsx("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:u.jsx(pg,{className:"text-blue-600",size:24})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Productos"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:d.totalProducts})]})]})}),u.jsx("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:u.jsx(eR,{className:"text-green-600",size:24})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pedidos"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:d.totalOrders})]})]})}),u.jsx("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:u.jsx(nR,{className:"text-purple-600",size:24})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Usuarios"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:d.totalUsers})]})]})}),u.jsx("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:u.jsx(Zk,{className:"text-indigo-600",size:24})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos Totales"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Aa(d.totalRevenue)})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[u.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[u.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Tendencia de Ventas"}),u.jsx("div",{className:"h-80",children:u.jsx(gge,{data:d.salesData})})]}),u.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[u.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Ventas por Categoría"}),u.jsx("div",{className:"h-80",children:u.jsx(yge,{data:d.salesByCategory})})]}),u.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[u.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Distribución de Estados de Pedido"}),u.jsx("div",{className:"h-80",children:u.jsx(vge,{data:d.orderStatusData})})]}),u.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[u.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Ingresos por Método de Pago"}),u.jsx("div",{className:"h-80",children:u.jsx(xge,{data:d.paymentMethodData})})]})]}),u.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[u.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Productos Más Vendidos"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Producto"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Cantidad Vendida"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Ingresos"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.topSellingProducts.map((Y,we)=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:Y.productName}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Y.quantity}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Aa(Y.revenue)})]},we))})]})})]}),u.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[u.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Tendencia de Registro de Usuarios"}),u.jsx("div",{className:"h-80",children:u.jsx(bge,{data:d.userRegistrationData})})]}),u.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[u.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Pedidos Recientes"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"ID"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Cliente"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Fecha"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Total"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Estado"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.recentOrders.map(Y=>u.jsxs("tr",{children:[u.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:[Y.id.substring(0,8),"..."]}),u.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:Y.userEmail||"N/A"}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Zi(Y.createdAt)}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Aa(Y.totalAmount||0)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${YP(Y.orderStatus||"pending")}`,children:zb(Y.orderStatus||"pending")})})]},Y.id))})]})})]}),u.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[u.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Usuarios Recientes"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Nombre"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Email"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Rol"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Fecha de Registro"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.recentUsers.map(Y=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:Y.name||Y.email}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Y.email}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Y.role==="admin"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:Y.role==="admin"?"Administrador":"Cliente"})}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Zi(Y.createdAt)})]},Y.id))})]})})]})]});case"products":return u.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gestión de Productos"}),u.jsxs("button",{onClick:mo,className:"flex items-center px-4 py-2 text-white transition-colors bg-blue-600 rounded-lg hover:bg-blue-700",children:[u.jsx(Oge,{className:"mr-2"}),"Añadir Producto"]})]}),b?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx("div",{className:"w-8 h-8 border-b-2 border-blue-600 rounded-full animate-spin"})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Imagen"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Nombre"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Stock"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Precio"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(Y=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"flex-shrink-0 w-10 h-10",children:Y.imageUrls&&Y.imageUrls.length>0?u.jsx("img",{className:"object-cover w-10 h-10 rounded-md",src:typeof Y.imageUrls[Y.primaryImageIndex]=="string"?Y.imageUrls[Y.primaryImageIndex]:Y.imageUrls[Y.primaryImageIndex]?.data||Y.imageUrls[0],alt:Y.name,onError:we=>{we.target.onerror=null,we.target.src="https://via.placeholder.com/40x40.png?text=Moño"}}):u.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-200 rounded-md",children:u.jsx(pg,{className:"text-gray-500"})})})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.name})}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Y.stock}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Aa(Y.price)}),u.jsxs("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap",children:[u.jsx("button",{onClick:()=>Jt(Y),className:"mr-3 text-blue-600 hover:text-blue-900",title:"Editar producto",children:u.jsx(Jk,{})}),u.jsx("button",{onClick:()=>Na(Y.id,Y.name),className:"text-red-600 hover:text-red-900",title:"Eliminar producto",children:u.jsx(tR,{})})]})]},Y.id))})]})})]});case"users":return u.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[u.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-900",children:"Gestión de Usuarios"}),R?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx("div",{className:"w-8 h-8 border-b-2 border-blue-600 rounded-full animate-spin"})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Email"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Rol"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(Y=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Y.email}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Y.role==="admin"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:Y.role==="admin"?"Administrador":"Cliente"})}),u.jsx("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap",children:u.jsx("button",{onClick:()=>{const we=Y.role==="admin"?"customer":"admin";Xc(Y.id,we)},className:`px-3 py-1 text-xs rounded-md ${Y.role==="admin"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-blue-100 text-blue-800 hover:bg-blue-200"}`,children:Y.role==="admin"?"Hacer Cliente":"Hacer Administrador"})})]},Y.id))})]})})]});case"reviews":return u.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[u.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-900",children:"Gestión de Reseñas"}),U?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx("div",{className:"w-8 h-8 border-b-2 border-blue-600 rounded-full animate-spin"})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Producto"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Usuario"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Calificación"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Fecha"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.map(Y=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Y.productId||"N/A"}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.userName||"N/A"}),u.jsx("div",{className:"text-sm text-gray-500",children:Y.userEmail||"N/A"})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx(Nh,{rating:Y.rating})}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Zi(Y.createdAt)}),u.jsxs("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap",children:[u.jsx("button",{onClick:()=>ea(Y),className:"mr-3 text-blue-600 hover:text-blue-900",title:"Editar reseña",children:u.jsx(Jk,{})}),u.jsx("button",{onClick:()=>Nl(Y.id),className:"text-red-600 hover:text-red-900",title:"Eliminar reseña",children:u.jsx(tR,{})})]})]},Y.id))})]})})]});case"coupons":return u.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[u.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-900",children:"Gestión de Códigos Promocionales"}),u.jsx(cZ,{})]});case"orders":return u.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[u.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-900",children:"Gestión de Pedidos"}),X?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx("div",{className:"w-8 h-8 border-b-2 border-blue-600 rounded-full animate-spin"})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"ID"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Cliente"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Fecha"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Total"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Estado"}),u.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Acciones"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:me.map(Y=>u.jsxs("tr",{children:[u.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:[Y.id.substring(0,8),"..."]}),u.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:Y.userEmail||"N/A"}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Zi(Y.createdAt)}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Aa(Y.totalAmount||0)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("select",{value:Y.orderStatus||"pending",onChange:we=>Bd(Y.id,we.target.value),className:"px-2 py-1 text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:Le[Y.id],children:[u.jsx("option",{value:"pending",children:"Pendiente"}),u.jsx("option",{value:"processing",children:"Procesando"}),u.jsx("option",{value:"shipped",children:"Enviado"}),u.jsx("option",{value:"delivered",children:"Entregado"}),u.jsx("option",{value:"cancelled",children:"Cancelado"})]})}),u.jsx("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap",children:u.jsx("button",{onClick:()=>$d(Y),className:"text-blue-600 hover:text-blue-900",children:"Ver Detalles"})})]},Y.id))})]})})]});default:return u.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[u.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900",children:"Dashboard"}),u.jsx("p",{className:"text-gray-600",children:"Bienvenido al panel de administración moderno."})]})}};return e?u.jsxs("div",{className:"flex h-screen bg-gray-50",children:[r&&u.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>i(!1)}),u.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${r?"translate-x-0":"-translate-x-full"}`,children:[u.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(pg,{className:"text-blue-600",size:24}),u.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"Ecommerce Admin"})]}),u.jsx("button",{className:"p-1 rounded-md lg:hidden",onClick:()=>i(!1),children:u.jsx(v1,{size:24})})]}),u.jsx("nav",{className:"mt-6",children:en.map(Y=>u.jsxs("button",{className:`flex items-center w-full px-6 py-3 text-left transition-colors duration-200 ${a===Y.id?"bg-blue-50 border-l-4 border-blue-500 text-blue-600":"text-gray-600 hover:bg-gray-50"}`,onClick:()=>{l(Y.id),i(!1)},children:[u.jsx("span",{className:"mr-3",children:Y.icon}),u.jsx("span",{className:"font-medium",children:Y.label})]},Y.id))})]}),u.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[u.jsxs("header",{className:"flex items-center justify-between h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("button",{className:"p-2 mr-2 rounded-md lg:hidden",onClick:()=>i(!0),children:u.jsx(Cge,{size:24})}),u.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Panel de Administración"})]}),u.jsx("div",{className:"flex items-center space-x-4",children:u.jsxs("div",{className:"relative",ref:Ne,children:[u.jsxs("div",{className:"flex items-center px-3 py-1 text-sm bg-gray-100 rounded-full cursor-pointer",onClick:os,children:[u.jsx("div",{className:"flex items-center justify-center w-8 h-8 mr-2 font-semibold text-white bg-blue-500 rounded-full",children:t?.email?.charAt(0).toUpperCase()||"A"}),u.jsx("span",{className:"font-medium text-gray-700",children:"Administrador"})]}),_e&&u.jsx("div",{className:"absolute right-0 z-50 w-48 mt-2 bg-white rounded-md shadow-lg",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>{n("/shop"),Zt()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[u.jsx(Ige,{className:"mr-3 text-gray-400"}),"Ir a la tienda"]}),u.jsxs("button",{onClick:()=>{Sn(),Zt()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[u.jsx(jge,{className:"mr-3 text-gray-400"}),"Cerrar sesión"]})]})})]})})]}),nt&&u.jsx("div",{className:"p-4 mx-4 mt-4 border-l-4 border-green-500 bg-green-50 lg:mx-6",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("span",{className:"text-green-500",children:"✓"})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-green-700",children:nt})})]})}),xe&&u.jsx("div",{className:"p-4 mx-4 mt-4 border-l-4 border-red-500 bg-red-50 lg:mx-6",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("span",{className:"text-red-500",children:"✕"})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-red-700",children:xe})})]})}),u.jsx("main",{className:"flex-1 p-4 overflow-y-auto lg:p-6 bg-gray-50",children:a==="analytics"&&h?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"w-8 h-8 border-b-2 border-blue-600 rounded-full animate-spin"})}):Dn()})]}),j&&u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:u.jsxs("div",{className:"flex items-end justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[u.jsx("div",{className:"fixed transition-opacity bg-opacity-75 bg-white-500","aria-hidden":"true",onClick:()=>L(!1)}),u.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),u.jsxs("div",{className:"z-50 inline-block overflow-hidden text-left align-bottom transition-all transform bg-white shadow-xl rounded-2xl sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full",style:{boxShadow:"0 10px 30px rgba(0,0,0,0.1)",width:"650px"},children:[u.jsxs("div",{className:"px-8 py-8",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:V==="add"?"Añadir Producto":"Editar Producto"}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:V==="add"?"Ingresa los detalles del nuevo producto":"Modifica la información del producto"})]}),u.jsx("div",{className:"mt-2",children:u.jsxs("form",{onSubmit:V==="add"?ls:ho,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Nombre del Producto"}),u.jsx("input",{type:"text",name:"name",value:V==="add"?E.name:N?.name,onChange:V==="add"?Tr:Nr,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Nombre del producto",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Descripción"}),u.jsx("textarea",{name:"description",value:V==="add"?E.description:N?.description,onChange:V==="add"?Tr:Nr,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",rows:"4",placeholder:"Descripción del producto"})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Precio (COP)"}),u.jsx("input",{type:"number",name:"price",step:"0.01",min:"0",value:V==="add"?E.price:N?.price,onChange:V==="add"?Tr:Nr,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"0.00",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Stock"}),u.jsx("input",{type:"number",name:"stock",min:"0",value:V==="add"?E.stock:N?.stock,onChange:V==="add"?Tr:Nr,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Cantidad disponible"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Calificación"}),u.jsx("input",{type:"number",name:"rating",step:"0.1",min:"0",max:"5",value:V==="add"?E.rating:N?.rating,onChange:V==="add"?Tr:Nr,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"0.0 - 5.0"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Material"}),u.jsx("input",{type:"text",name:"material",value:V==="add"?E.material:N?.material,onChange:V==="add"?Tr:Nr,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Material del producto"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Color"}),u.jsx("input",{type:"text",name:"color",value:V==="add"?E.color:N?.color,onChange:V==="add"?Tr:Nr,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Color del producto"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Tamaño"}),u.jsx("input",{type:"text",name:"size",value:V==="add"?E.size:N?.size,onChange:V==="add"?Tr:Nr,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Tamaño del producto"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Estilo"}),u.jsx("input",{type:"text",name:"style",value:V==="add"?E.style:N?.style,onChange:V==="add"?Tr:Nr,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Estilo del producto"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Categoría"}),u.jsxs("select",{name:"category",value:V==="add"?E.category:N?.category,onChange:V==="add"?Tr:Nr,className:"w-full px-4 py-3 text-gray-900 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",children:[u.jsx("option",{value:"",children:"Seleccionar categoría"}),u.jsx("option",{value:"Moños Elegantes",children:"Moños Elegantes"}),u.jsx("option",{value:"Moños Infantiles",children:"Moños Infantiles"}),u.jsx("option",{value:"Moños Deportivos",children:"Moños Deportivos"}),u.jsx("option",{value:"Moños Casuales",children:"Moños Casuales"}),u.jsx("option",{value:"Moños de Novia",children:"Moños de Novia"}),u.jsx("option",{value:"Moños de Gala",children:"Moños de Gala"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Imágenes"}),u.jsxs("div",{className:"mt-3",children:[u.jsx("button",{type:"button",onClick:()=>Zr(V==="edit"),className:"inline-flex items-center px-4 py-2.5 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all",disabled:Qt||(V==="add"?E.imageUrls.length>=4:N?.imageUrls.length>=4),children:Qt?"Subiendo...":`Añadir Imagen${V==="add"?E.imageUrls.length>0?` (${E.imageUrls.length}/4)`:"":N?.imageUrls.length>0?` (${N?.imageUrls.length}/4)`:""}`}),(V==="add"?E.imageUrls.length>=4:N?.imageUrls.length>=4)&&u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Has alcanzado el límite máximo de 4 imágenes."}),Qt&&u.jsx("div",{className:"mt-4",children:u.jsx("div",{className:"w-8 h-8 border-b-2 border-gray-900 rounded-full animate-spin"})}),V==="add"?E.imageUrls.length>0&&u.jsx("div",{className:"grid grid-cols-2 gap-4 mt-5",children:E.imageUrls.map((Y,we)=>u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:typeof Y=="string"?Y:Y.data,alt:`Preview ${we}`,className:"object-cover w-full h-32 rounded-lg",onError:Oe=>{Oe.target.onerror=null,Oe.target.src="https://via.placeholder.com/150x150.png?text=Imagen"}}),u.jsx("button",{type:"button",onClick:()=>jr(we),className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full p-1.5 hover:bg-red-700 transition-colors shadow-md",children:u.jsx(v1,{size:14})}),u.jsx("button",{type:"button",onClick:()=>Ji(we),className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 text-xs px-2.5 py-1 rounded-full shadow-sm ${E.primaryImageIndex===we?"bg-gray-900 text-white":"bg-white text-gray-800 border border-gray-300"}`,children:"Principal"})]},we))}):N?.imageUrls.length>0&&u.jsx("div",{className:"grid grid-cols-2 gap-4 mt-5",children:N.imageUrls.map((Y,we)=>u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:typeof Y=="string"?Y:Y.data,alt:`Preview ${we}`,className:"object-cover w-full h-32 rounded-lg",onError:Oe=>{Oe.target.onerror=null,Oe.target.src="https://via.placeholder.com/150x150.png?text=Imagen"}}),u.jsx("button",{type:"button",onClick:()=>jr(we,!0),className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full p-1.5 hover:bg-red-700 transition-colors shadow-md",children:u.jsx(v1,{size:14})}),u.jsx("button",{type:"button",onClick:()=>Ji(we,!0),className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 text-xs px-2.5 py-1 rounded-full shadow-sm ${N.primaryImageIndex===we?"bg-gray-900 text-white":"bg-white text-gray-800 border border-gray-300"}`,children:"Principal"})]},we))})]})]})]})})]}),u.jsxs("div",{className:"flex justify-between px-8 py-5 bg-white border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:()=>L(!1),className:"inline-flex justify-center px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:V==="add"?ls:ho,className:"inline-flex justify-center px-5 py-2.5 text-sm font-medium text-white bg-gray-900 border border-transparent rounded-lg hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all",children:V==="add"?"Añadir Producto":"Actualizar Producto"})]})]})]})}),K&&le&&u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:u.jsxs("div",{className:"flex items-end justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[u.jsx("div",{className:"fixed transition-opacity bg-gray-500 bg-opacity-75","aria-hidden":"true",onClick:()=>ce(!1)}),u.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),u.jsxs("div",{className:"z-50 inline-block overflow-hidden text-left align-bottom transition-all transform bg-white shadow-xl rounded-2xl sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",style:{boxShadow:"0 10px 30px rgba(0,0,0,0.1)",width:"650px"},children:[u.jsxs("div",{className:"px-8 py-8",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:"Editar Reseña"}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Modifica la calificación y el comentario de la reseña"})]}),u.jsx("div",{className:"mt-2",children:u.jsxs("form",{onSubmit:po,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block mb-4 text-sm font-medium text-gray-700",children:"Calificación"}),u.jsx("div",{className:"flex items-center justify-center space-x-2",children:[1,2,3,4,5].map(Y=>u.jsx("button",{type:"button",onClick:()=>Ca(Y),className:"text-4xl transition-transform focus:outline-none hover:scale-110",children:Y<=le.rating?u.jsx("span",{className:"text-yellow-400",children:"★"}):u.jsx("span",{className:"text-gray-300",children:"☆"})},Y))}),u.jsx("div",{className:"mt-3 text-center",children:u.jsxs("span",{className:"text-sm text-gray-500",children:[le.rating," de 5 estrellas"]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Comentario"}),u.jsx("textarea",{name:"comment",rows:6,value:le.comment,onChange:ja,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Escribe tu reseña aquí..."})]})]})})]}),u.jsxs("div",{className:"flex justify-between px-8 py-5 bg-white border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:()=>ce(!1),className:"inline-flex justify-center px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:po,className:"inline-flex justify-center px-5 py-2.5 text-sm font-medium text-white bg-gray-900 border border-transparent rounded-lg hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all",children:"Guardar Cambios"})]})]})]})}),ye&&Z&&u.jsx(d5,{order:Z,isOpen:ye,onClose:bi,formatDate:Zi,formatCurrency:Aa,getOrderStatusText:zb,getStatusBadgeClass:YP})]}):u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Acceso Denegado"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"No tienes permisos para acceder a esta sección."})]})})},Dge=()=>{const{currentUser:t}=Yi(),e=Wi(),[n,r]=_.useState([]),[i,a]=_.useState(!0),[l,d]=_.useState(null),[f,h]=_.useState(null),[p,g]=_.useState(!1),[x,b]=_.useState(null),A=O=>{switch(O){case"pending":return"Pendiente";case"processing":return"Procesando";case"shipped":return"Enviado";case"delivered":return"Entregado";case"cancelled":return"Cancelado";default:return O}},E=O=>{switch(O){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=O=>O?O instanceof Date?O.toLocaleDateString("es-CO"):O.toDate?O.toDate().toLocaleDateString("es-CO"):"N/A":"N/A",N=O=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(O||0),C=O=>{h(O),g(!0)},j=()=>{g(!1),h(null)},L=O=>{b({productId:O.id,productName:O.name,rating:0,comment:""})},V=O=>{const{name:R,value:F}=O.target;b(B=>({...B,[R]:F}))},D=O=>{b(R=>({...R,rating:O}))},k=async()=>{if(x.rating===0){ke.fire({title:"Error",text:"Por favor selecciona una calificación",icon:"error",confirmButtonText:"Aceptar"});return}if(x.comment.trim()===""){ke.fire({title:"Error",text:"Por favor escribe un comentario",icon:"error",confirmButtonText:"Aceptar"});return}try{const O={productId:x.productId,userId:t.uid,userEmail:t.email,userName:t.displayName||t.email.split("@")[0],rating:x.rating,comment:x.comment.trim()};await i5(O),ke.fire({title:"Reseña enviada",text:"Tu reseña ha sido enviada correctamente",icon:"success",confirmButtonText:"Aceptar"}),b(null)}catch(O){console.error("Error submitting review:",O),ke.fire({title:"Error",text:"Hubo un error al enviar tu reseña. Por favor intenta nuevamente.",icon:"error",confirmButtonText:"Aceptar"})}};return _.useEffect(()=>{(async()=>{if(!t){e("/login");return}try{const R=await eZ(t.uid);r(R)}catch(R){console.error("Error fetching user orders:",R),d("No se pudieron cargar tus órdenes. Por favor, intenta nuevamente.")}finally{a(!1)}})()},[t,e]),i?u.jsx("div",{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})})}):u.jsxs("div",{children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Pedidos"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Consulta el estado de tus pedidos recientes"})]}),l&&u.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-6",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("h3",{className:"text-sm font-medium text-red-800",children:l})})]})}),n.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002-2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),u.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No tienes pedidos"}),u.jsx("p",{className:"mt-1 text-gray-500",children:"Aún no has realizado ningún pedido."}),u.jsx("div",{className:"mt-6",children:u.jsx(De,{to:"/shop",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Comprar ahora"})})]}):u.jsx("div",{className:"space-y-6",children:n.map(O=>u.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[u.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Pedido #",O.id.substring(0,8)]}),u.jsxs("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:["Realizado el ",S(O.createdAt)]})]}),u.jsxs("div",{className:"mt-4 md:mt-0 flex items-center space-x-2",children:[u.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${E(O.orderStatus)}`,children:A(O.orderStatus)}),u.jsx("button",{onClick:()=>C(O),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ver detalles"})]})]})}),u.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),u.jsx("p",{className:"text-lg font-medium text-gray-900",children:N(O.totalAmount)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Productos"}),u.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[O.items?.length||0," ",O.items?.length===1?"producto":"productos"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Método de Pago"}),u.jsx("p",{className:"text-lg font-medium text-gray-900",children:O.paymentMethod||"N/A"})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Productos en este pedido"}),u.jsx("div",{className:"space-y-4",children:O.items?.map((R,F)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 w-16 h-16 border border-gray-200 rounded-md overflow-hidden",children:u.jsx("img",{src:R.imageUrl||"https://via.placeholder.com/64x64.png?text=Moño",alt:R.name,className:"w-full h-full object-center object-cover",onError:B=>{B.target.onerror=null,B.target.src="https://via.placeholder.com/64x64.png?text=Moño"}})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("h5",{className:"text-sm font-medium text-gray-900",children:R.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Cantidad: ",R.quantity]})]})]}),u.jsx("button",{onClick:()=>L(R),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Dejar reseña"})]},F))})]})]})]},O.id))})]}),x&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto bg-black bg-opacity-50",children:u.jsx("div",{className:"relative w-full max-w-md mx-auto my-8 bg-white rounded-lg shadow-xl",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Dejar una reseña"}),u.jsx("button",{onClick:()=>b(null),className:"text-2xl font-bold text-gray-400 hover:text-gray-500",children:"×"})]}),u.jsxs("div",{className:"mt-2",children:[u.jsx("h4",{className:"font-medium text-gray-900",children:x.productName}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calificación"}),u.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(O=>u.jsx("button",{type:"button",onClick:()=>D(O),className:"text-2xl focus:outline-none",children:O<=x.rating?u.jsx("span",{className:"text-yellow-400",children:"★"}):u.jsx("span",{className:"text-gray-300",children:"☆"})},O)),u.jsx("span",{className:"ml-2 text-sm text-gray-500",children:x.rating>0?`${x.rating} de 5 estrellas`:"Selecciona una calificación"})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{htmlFor:"review-comment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Comentario"}),u.jsx("textarea",{id:"review-comment",name:"comment",rows:4,value:x.comment,onChange:V,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border border-gray-300 rounded-md p-3",placeholder:"Comparte tu experiencia con este producto..."})]}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:()=>b(null),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),u.jsx("button",{onClick:k,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Enviar Reseña"})]})]})]})})}),u.jsx(d5,{order:f,isOpen:p,onClose:j,formatDate:S,formatCurrency:N,getOrderStatusText:A,getStatusBadgeClass:E})]})};function Mge(t){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function Lge(t){return Lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function Vge(t){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Uge(t){return Lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function Bge(t){return Lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function zge(t){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function $ge(t){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function Fge(t){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function qge(t){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Hge(t){return Lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function Kge(t){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Gge(t){return Lt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function rR(t){return Lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const t7=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState(!1),{currentUser:i,isAdmin:a,userProfile:l}=Yi(),{items:d}=Fc(),{items:f}=em(),h=Wi(),p=_.useRef(null);_.useEffect(()=>{console.log("Navbar isAdmin value:",a)},[a]),_.useEffect(()=>{const j=L=>{p.current&&!p.current.contains(L.target)&&r(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]);const g=()=>{e(!t)},x=()=>{console.log("Toggling profile menu, current state:",n),r(!n)},b=()=>{console.log("Closing profile menu"),r(!1)},A=async()=>{try{await r3(ga),b(),h("/home")}catch(j){console.error("Error signing out:",j)}},E="text-slate-600 hover:text-slate-900 transition-colors duration-300",S="relative text-slate-600 hover:text-slate-900 transition-colors duration-300 cursor-pointer",N=d.reduce((j,L)=>j+L.quantity,0),C=f.length;return u.jsxs(u.Fragment,{children:[u.jsx("header",{className:"sticky top-0 z-50 font-sans bg-white shadow-sm",children:u.jsxs("nav",{className:"flex items-center justify-between p-4 mx-auto max-w-7xl",children:[u.jsx("div",{className:"text-2xl font-bold text-slate-800",children:u.jsx(De,{to:"/home",children:"PSGSHOP"})}),u.jsxs("ul",{className:"items-center hidden space-x-8 md:flex",children:[u.jsx("li",{children:u.jsx(De,{to:"/home",className:E,children:"Inicio"})}),u.jsx("li",{children:u.jsx(De,{to:"/shop",className:E,children:"Productos"})}),u.jsx("li",{children:u.jsx(De,{to:"/blog",className:E,children:"Blog"})}),u.jsx("li",{children:u.jsx(De,{to:"/contact",className:E,children:"Contacto"})})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:`hidden md:block ${S} text-xl`,children:u.jsx(qge,{})}),u.jsxs(De,{to:"/wishlist",className:`${S} text-xl flex items-center justify-center relative`,children:[u.jsx($ge,{}),C>0&&u.jsx("span",{className:"absolute flex items-center justify-center w-5 h-5 text-xs font-semibold text-white bg-green-500 rounded-full -top-2 -right-3",children:C})]}),u.jsxs(De,{to:"/cart",className:`${S} text-xl flex items-center justify-center relative`,children:[u.jsx(Hge,{}),N>0&&u.jsx("span",{className:"absolute flex items-center justify-center w-5 h-5 text-xs font-semibold text-white bg-green-500 rounded-full -top-2 -right-3",children:N})]}),u.jsxs("div",{className:"relative",ref:p,children:[i?u.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 border border-gray-300 rounded-full cursor-pointer",onClick:x,children:l?.profileImage?u.jsx("img",{src:l.profileImage,alt:"Profile",className:"object-cover w-full h-full rounded-full"}):u.jsx("span",{className:"text-xs font-bold text-gray-600",children:l?.displayName?.charAt(0).toUpperCase()||i.email?.charAt(0).toUpperCase()||"U"})}):u.jsx(De,{to:"/login",className:"flex items-center justify-center w-8 h-8 bg-gray-200 border border-gray-300 rounded-full cursor-pointer",children:u.jsx(rR,{className:"text-gray-600"})}),i&&n&&u.jsxs("div",{className:"absolute right-0 z-50 w-64 mt-2 bg-gray-800 rounded-lg shadow-lg",children:[u.jsx("div",{className:"p-4 border-b border-gray-700",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-200 border border-gray-300 rounded-full",children:l?.profileImage?u.jsx("img",{src:l.profileImage,alt:"Profile",className:"object-cover w-full h-full rounded-full"}):u.jsx("span",{className:"text-sm font-bold text-gray-600",children:l?.displayName?.charAt(0).toUpperCase()||i.email?.charAt(0).toUpperCase()||"U"})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm font-bold text-white",children:l?.displayName||i.email?.split("@")[0]||"Usuario"}),u.jsx("p",{className:"text-xs text-gray-400",children:i.email})]})]})}),u.jsxs("div",{className:"py-1",children:[console.log("Rendering admin link, isAdmin:",a),a&&u.jsxs(De,{to:"/admin",className:"flex items-center px-4 py-2 text-sm text-white hover:bg-gray-700",onClick:b,children:[u.jsx(zge,{className:"mr-3 text-gray-400"}),u.jsx("span",{children:"Administrar página"})]}),u.jsxs(De,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-white hover:bg-gray-700",onClick:b,children:[u.jsx(rR,{className:"mr-3 text-gray-400"}),u.jsx("span",{children:"Editar perfil"})]}),u.jsx("div",{className:"border-t border-gray-700",children:u.jsxs(De,{to:"/orders",className:"flex items-center px-4 py-2 text-sm text-white hover:bg-gray-700",onClick:b,children:[u.jsx(Fge,{className:"mr-3 text-gray-400"}),u.jsx("span",{children:"Mis Pedidos"})]})}),u.jsxs("button",{onClick:A,className:"flex items-center w-full px-4 py-2 text-sm text-left text-white hover:bg-gray-700",children:[u.jsx(Kge,{className:"mr-3 text-gray-400"}),u.jsx("span",{children:"Cerrar sesión"})]})]})]})]}),u.jsxs("div",{className:"ml-3 text-2xl cursor-pointer md:hidden text-slate-800",onClick:g,children:[u.jsx(Bge,{}),u.jsx("span",{className:"absolute flex items-center justify-center w-5 h-5 text-xs font-semibold text-white bg-green-500 rounded-full -top-1 -right-1",children:"11"})]})]})]})}),u.jsxs(u.Fragment,{children:[t&&u.jsx("div",{className:"fixed inset-0 z-40 bg-black/40",onClick:g}),u.jsxs("aside",{className:`fixed top-0 left-0 h-full w-72 bg-white shadow-xl transform ${t?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 p-5 flex flex-col font-sans`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-10",children:[u.jsx("div",{className:"text-xl font-bold text-slate-800",children:"BOWSHOP"}),u.jsx("button",{onClick:g,className:"text-2xl cursor-pointer text-slate-600 hover:text-slate-900",children:u.jsx(Gge,{})})]}),u.jsxs("ul",{className:"flex-grow space-y-4",children:[u.jsx("li",{children:u.jsx(De,{to:"/home",className:`text-lg ${E}`,onClick:g,children:"Inicio"})}),u.jsx("li",{children:u.jsx(De,{to:"/shop",className:`text-lg ${E}`,onClick:g,children:"Productos"})}),u.jsx("li",{children:u.jsx(De,{to:"/blog",className:`text-lg ${E}`,onClick:g,children:"Blog"})}),u.jsx("li",{children:u.jsx(De,{to:"/contact",className:`text-lg ${E}`,onClick:g,children:"Contacto"})}),u.jsx("li",{children:u.jsx(De,{to:"/cart",className:`text-lg ${E}`,onClick:g,children:"Carrito"})}),u.jsx("li",{children:u.jsx(De,{to:"/wishlist",className:`text-lg ${E}`,onClick:g,children:"Favoritos"})}),i&&a&&u.jsx("li",{children:u.jsx(De,{to:"/admin",className:"text-lg font-medium text-blue-600",onClick:g,children:"Panel administrativo"})})]}),u.jsx("div",{className:"mt-4",children:i?u.jsx("button",{onClick:()=>{A(),g()},className:"w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cerrar Sesión"}):u.jsx(De,{to:"/login",className:"block w-full px-4 py-2 text-sm font-medium text-center text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:g,children:"Iniciar Sesión"})}),u.jsxs("div",{className:"flex justify-center p-5 mt-auto space-x-6",children:[u.jsx("a",{href:"#",className:`text-2xl ${S}`,children:u.jsx(Uge,{})}),u.jsx("a",{href:"#",className:`text-2xl ${S}`,children:u.jsx(Lge,{})}),u.jsx("a",{href:"#",className:`text-2xl ${S}`,children:u.jsx(Mge,{})}),u.jsx("a",{href:"#",className:`text-2xl ${S}`,children:u.jsx(Vge,{})})]})]})]})]})},Wge=()=>{const{applyCoupon:t,removeCoupon:e,coupon:n}=Fc(),r=async()=>{try{const a=await t("DESCUENTO10");console.log("Coupon applied successfully:",a),alert("Coupon applied successfully!")}catch(a){console.error("Error applying coupon:",a),alert("Error applying coupon: "+a.message)}},i=()=>{e(),alert("Coupon removed!")};return u.jsxs("div",{children:[u.jsx(t7,{}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Prueba de Cupones"}),u.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden p-6",children:[u.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-4",children:"Funcionalidad de Cupones"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Estado Actual"}),n?u.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:[u.jsxs("p",{className:"font-medium text-green-800",children:["Cupón Aplicado: ",n.code]}),u.jsxs("p",{className:"text-sm text-green-600",children:["Descuento: ",n.discountType==="percentage"?`${n.discountValue}%`:`$${n.discountValue}`]})]}):u.jsx("p",{className:"text-gray-500",children:"No hay cupón aplicado"})]}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("button",{onClick:r,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Aplicar Cupón de Prueba (DESCUENTO10)"}),u.jsx("button",{onClick:i,disabled:!n,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white ${n?"bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500":"bg-gray-400 cursor-not-allowed"}`,children:"Remover Cupón"})]}),u.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[u.jsx("h3",{className:"text-md font-medium text-blue-800 mb-2",children:"Instrucciones"}),u.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-700 space-y-1",children:[u.jsx("li",{children:"Primero, asegúrate de haber creado un cupón de prueba en Firestore"}),u.jsx("li",{children:'Haz clic en "Aplicar Cupón de Prueba" para probar la funcionalidad'}),u.jsx("li",{children:"Verifica que el cupón se aplique correctamente"}),u.jsx("li",{children:'Haz clic en "Remover Cupón" para eliminarlo'})]})]})]})]})]})]})},Yge=()=>{const{items:t,removeFromWishlist:e,loading:n}=em(),r=i=>{if(i.imageUrls&&i.imageUrls.length>0){const a=i.imageUrls.filter(l=>l&&(typeof l=="string"||l.data&&typeof l.data=="string"));if(a.length>0){const l=i.primaryImageIndex||0,d=Math.min(l,a.length-1),f=a[d];if(typeof f=="string")return f;if(f&&f.data)return f.data}}return i.imageUrl||"https://via.placeholder.com/300x300.png?text=Moño"};return n?u.jsx("div",{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Mi Lista de Deseos"}),u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})]})}):u.jsx("div",{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Mi Lista de Deseos"}),t.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),u.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Tu lista de deseos está vacía"}),u.jsx("p",{className:"mt-1 text-gray-500",children:"Empieza a agregar productos a tu lista de deseos"}),u.jsx("div",{className:"mt-6",children:u.jsx(De,{to:"/shop",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Explorar Productos"})})]}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(i=>u.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[u.jsx(De,{to:`/product/${i.id}`,children:u.jsx("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden",children:u.jsx("img",{src:r(i),alt:i.name,className:"w-full h-64 object-cover",onError:a=>{a.target.onerror=null,a.target.src="https://via.placeholder.com/300x300.png?text=Moño"}})})}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:i.category})}),u.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:i.name}),i.rating>0&&u.jsx("div",{className:"mt-2",children:u.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((a,l)=>u.jsx("svg",{className:`w-4 h-4 ${l<Math.floor(i.rating)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},l)),u.jsx("span",{className:"ml-1 text-sm text-gray-600",children:i.rating})]})}),u.jsx("div",{className:"mt-2",children:u.jsxs("span",{className:"text-lg font-semibold text-indigo-600",children:["$",parseFloat(i.price).toLocaleString("es-CO")]})}),u.jsxs("div",{className:"mt-4 flex gap-2",children:[u.jsx(De,{to:`/product/${i.id}`,className:"flex-1 bg-indigo-600 border border-transparent rounded-md py-2 px-4 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 text-center",children:"Ver Detalles"}),u.jsx("button",{onClick:()=>e(i.id),className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:u.jsx("svg",{className:"h-5 w-5 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},i.id))})]})})},Xge=()=>{const t=[{id:1,title:"Cómo elegir el moño perfecto para tu ocasión especial",excerpt:"Descubre los factores clave para seleccionar el moño ideal que complemente tu estilo y la ocasión.",date:"15 Oct 2025",author:"María González",category:"Guía de Estilo",image:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"},{id:2,title:"Tendencias de moda en moños para esta temporada",excerpt:"Explora las últimas tendencias en moños y cómo incorporarlas a tu guardarropa diario.",date:"10 Oct 2025",author:"Carlos Rodríguez",category:"Tendencias",image:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"},{id:3,title:"Cuidado y mantenimiento de tus moños favoritos",excerpt:"Consejos profesionales para mantener tus moños en perfecto estado durante más tiempo.",date:"5 Oct 2025",author:"Ana Martínez",category:"Cuidado",image:"https://images.unsplash.com/photo-1595173425119-1c5134b706b3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"},{id:4,title:"La historia elegante de los moños en la moda",excerpt:"Un recorrido por la evolución de los moños desde sus orígenes hasta la actualidad.",date:"1 Oct 2025",author:"Sofía López",category:"Historia",image:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"},{id:5,title:"Moños para eventos corporativos: Guía definitiva",excerpt:"Cómo seleccionar el moño adecuado para reuniones de negocios y eventos corporativos formales.",date:"25 Sep 2025",author:"Javier Pérez",category:"Eventos",image:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"},{id:6,title:"Personalización de moños: Hazlo único",excerpt:"Opciones creativas para personalizar tus moños y hacerlos verdaderamente únicos.",date:"20 Sep 2025",author:"Laura Torres",category:"Personalización",image:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"},{id:7,title:"Los secretos de un moño perfecto: Técnicas profesionales",excerpt:"Aprende las técnicas utilizadas por expertos para crear moños impecables.",date:"15 Sep 2025",author:"Miguel Ángel",category:"Técnicas",image:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"},{id:8,title:"Moños sostenibles: Moda responsable",excerpt:"Descubre cómo la industria está adoptando prácticas ecológicas en la fabricación de accesorios.",date:"10 Sep 2025",author:"Valentina Ruiz",category:"Sostenibilidad",image:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"}],e=["Todos","Guía de Estilo","Tendencias","Cuidado","Historia","Eventos","Personalización","Técnicas","Sostenibilidad"],n=t.slice(0,3),r=["Moda","Elegancia","Accesorios","Tendencias","Cuidado","Eventos","Personalización","Historia","Técnicas","Sostenibilidad"];return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsxs("div",{className:"relative bg-gradient-to-r from-indigo-700 to-purple-800 text-white py-20",children:[u.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),u.jsxs("div",{className:"container mx-auto px-4 relative z-10 text-center",children:[u.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Blog de PSG SHOP"}),u.jsx("p",{className:"text-xl max-w-2xl mx-auto mb-8",children:"Descubre consejos, tendencias y guías sobre el mundo de los moños elegantes"}),u.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:r.map((i,a)=>u.jsx("span",{className:"px-3 py-1 bg-white bg-opacity-20 rounded-full text-sm hover:bg-opacity-30 transition-all duration-300 cursor-pointer",children:i},a))})]})]}),u.jsx("div",{className:"bg-white py-8",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-3xl font-bold text-indigo-700",children:"75+"}),u.jsx("div",{className:"text-gray-600",children:"Artículos Publicados"})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-3xl font-bold text-indigo-700",children:"30K+"}),u.jsx("div",{className:"text-gray-600",children:"Lectores Mensuales"})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-3xl font-bold text-indigo-700",children:"18"}),u.jsx("div",{className:"text-gray-600",children:"Categorías"})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"text-3xl font-bold text-indigo-700",children:"100%"}),u.jsx("div",{className:"text-gray-600",children:"Contenido Original"})]})]})})}),u.jsx("div",{className:"container mx-auto px-4 py-12",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[u.jsxs("div",{className:"lg:w-2/3",children:[u.jsxs("div",{className:"mb-12",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-2 border-b border-gray-200",children:"Artículos Destacados"}),u.jsx("div",{className:"grid md:grid-cols-1 gap-8",children:n.map(i=>u.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300",children:u.jsxs("div",{className:"md:flex",children:[u.jsx("div",{className:"md:w-2/5 h-64 md:h-auto",children:u.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover",onError:a=>{a.target.onerror=null,a.target.src="https://via.placeholder.com/600x400.png?text=Imagen+Blog"}})}),u.jsxs("div",{className:"p-8 md:w-3/5",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:i.category}),u.jsx("span",{className:"text-sm text-gray-500",children:i.date})]}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:i.title}),u.jsx("p",{className:"text-gray-600 mb-6",children:i.excerpt}),u.jsxs(De,{to:`/blog/${i.id}`,className:"inline-flex items-center text-indigo-600 font-medium hover:text-indigo-800 transition-colors duration-300",children:["Leer más",u.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]})},i.id))})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-2 border-b border-gray-200",children:"Últimos Artículos"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(i=>u.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[u.jsx("div",{className:"h-48 overflow-hidden",children:u.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105",onError:a=>{a.target.onerror=null,a.target.src="https://via.placeholder.com/300x200.png?text=Imagen+Blog"}})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:i.category}),u.jsx("span",{className:"text-sm text-gray-500",children:i.date})]}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:i.title}),u.jsx("p",{className:"text-gray-600 mb-4",children:i.excerpt}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-sm text-gray-500",children:["Por ",i.author]}),u.jsx(De,{to:`/blog/${i.id}`,className:"text-indigo-600 font-medium hover:text-indigo-800 transition-colors duration-300",children:"Leer más →"})]})]})]},i.id))}),u.jsx("div",{className:"text-center mt-10",children:u.jsx("button",{className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-700 text-white font-medium rounded-lg hover:from-indigo-700 hover:to-purple-800 transition-all duration-300 shadow-lg hover:shadow-xl",children:"Cargar Más Artículos"})})]})]}),u.jsxs("div",{className:"lg:w-1/3",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Categorías"}),u.jsx("ul",{className:"space-y-3",children:e.map((i,a)=>u.jsx("li",{children:u.jsx(De,{to:"#",className:`block py-3 px-4 rounded-lg transition-colors duration-300 ${a===0?"bg-gradient-to-r from-indigo-50 to-purple-50 border-l-4 border-indigo-500 text-indigo-800 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{children:i}),u.jsxs("span",{className:"text-gray-400 text-sm",children:["(",Math.floor(Math.random()*15)+1,")"]})]})})},a))})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Más Populares"}),u.jsx("div",{className:"space-y-6",children:t.slice(0,4).map((i,a)=>u.jsxs("div",{className:"flex group",children:[u.jsx("div",{className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden",children:u.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover",onError:l=>{l.target.onerror=null,l.target.src="https://via.placeholder.com/100x100.png?text=Blog"}})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("h4",{className:"font-bold text-gray-900 group-hover:text-indigo-600 transition-colors duration-300 text-lg",children:u.jsx(De,{to:`/blog/${i.id}`,children:i.title})}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i.date}),u.jsx("div",{className:"flex items-center mt-1",children:[...Array(5)].map((l,d)=>u.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},d))})]})]},i.id))})]}),u.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-700 rounded-xl shadow-md p-6 text-white",children:[u.jsx("h3",{className:"text-xl font-bold mb-2",children:"Boletín Informativo"}),u.jsx("p",{className:"mb-4 opacity-90",children:"Suscríbete para recibir las últimas novedades y artículos del blog"}),u.jsxs("form",{className:"space-y-3",children:[u.jsx("input",{type:"email",placeholder:"Tu correo electrónico",className:"w-full px-4 py-3 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-300"}),u.jsx("button",{type:"submit",className:"w-full bg-white text-indigo-700 font-medium py-3 rounded-lg hover:bg-gray-100 transition-colors duration-300 shadow-md",children:"Suscribirse"})]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mt-8",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Acerca de PSG SHOP"}),u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:"PS"}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"font-bold text-gray-900",children:"PSG SHOP"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Tienda especializada en moños"})]})]}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Tu destino para moños elegantes y accesorios de moda de alta calidad. Descubre nuestra colección cuidadosamente seleccionada."}),u.jsx(De,{to:"/shop",className:"inline-block bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-300",children:"Explorar Colección"})]})]})]})})]})},Qge=()=>{const{id:t}=fR(),e=[{id:1,title:"Cómo elegir el moño perfecto para tu ocasión especial",date:"15 Oct 2025",author:"María González",category:"Guía de Estilo",image:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",content:`
        <p>Seleccionar el moño perfecto para una ocasión especial puede ser un desafío, pero con los consejos adecuados, puedes encontrar el accesorio ideal que complemente tu estilo y la naturaleza del evento.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">Considera la ocasión</h2>
        <p>El tipo de evento es el primer factor a considerar. Un moño para una boda requiere un enfoque diferente que uno para una cena casual. Los eventos formales suelen llamar a diseños más elaborados y materiales de mayor calidad.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">Combina con tu atuendo</h2>
        <p>El color y el estilo de tu ropa deben ser el punto de partida. Un moño debe complementar, no competir con tu outfit. Si llevas un vestido con estampado, opta por un moño en tonos neutros. Para atuendos sólidos, puedes experimentar con colores vibrantes o texturas interesantes.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">Considera la temporada</h2>
        <p>Los materiales y colores apropiados varían según la época del año. En verano, los moños de seda liviana y colores claros son ideales. En invierno, puedes optar por tejidos más gruesos como el terciopelo o el brocado en tonos más oscuros.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">Conoce tu rostro</h2>
        <p>La forma de tu rostro puede influir en el estilo de moño que mejor te queda. Los moños más anchos tienden a favorecer los rostros más estrechos, mientras que los diseños más delgados pueden equilibrar los rostros más anchos.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">Calidad sobre cantidad</h2>
        <p>Invierte en un moño de calidad que se mantenga bien con el tiempo. Los materiales premium no solo se ven mejor, sino que también duran más. En PSG SHOP, nos especializamos en moños hechos con materiales de primera calidad que mantienen su forma y color después de múltiples usos.</p>
        
        <p className="mt-8">Con estos consejos, estarás lista para elegir el moño perfecto para cualquier ocasión especial. Recuerda que el mejor accesorio es aquel que te hace sentir segura y elegante.</p>
      `},{id:2,title:"Tendencias de moda en moños para esta temporada",date:"10 Oct 2025",author:"Carlos Rodríguez",category:"Tendencias",image:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",content:`
        <p>La moda de los moños continúa evolucionando, y esta temporada trae consigo emocionantes novedades que están revolucionando el mundo de los accesorios. Desde colores vibrantes hasta texturas innovadoras, descubre las tendencias que dominarán tu guardarropa.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">1. Colores Bold y Saturados</h2>
        <p>Esta temporada, los colores intensos están en todas partes. Desde el magenta profundo hasta el turquesa eléctrico, los moños en tonos vibrantes son la forma perfecta de agregar un toque de personalidad a cualquier atuendo. Estos colores no solo llaman la atención, sino que también transmiten confianza y estilo.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">2. Texturas Mixtas</h2>
        <p>La combinación de diferentes texturas en un solo moño es una tendencia que está ganando popularidad. Piensa en moños que combinan seda con encaje, o terciopelo con detalles metálicos. Esta mezcla de texturas agrega profundidad visual y crea piezas verdaderamente únicas.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">3. Moños Extra Anchos</h2>
        <p>El tamaño importa, y esta temporada los moños extra anchos son los protagonistas. Estos moños hacen una declaración audaz y pueden convertirse en el punto focal de cualquier outfit. Son especialmente populares para looks de oficina y eventos formales.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">4. Estampados Abstractos</h2>
        <p>Los patrones abstractos están reemplazando a los estampados florales tradicionales. Diseños geométricos, formas orgánicas y patrones artísticos están apareciendo en moños de alta gama. Estos estampados agregan interés visual sin abrumar el resto del atuendo.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">5. Detalles Sostenibles</h2>
        <p>Con el creciente enfoque en la moda sostenible, los moños hechos de materiales ecológicos y mediante procesos éticos están ganando terreno. Desde sedas orgánicas hasta tintes naturales, los consumidores conscientes buscan opciones que reflejen sus valores.</p>
        
        <p className="mt-8">En PSG SHOP, estamos al tanto de estas tendencias y ofrecemos una cuidadosa selección de moños que combinan estilo contemporáneo con calidad excepcional. Nuestra colección de esta temporada incorpora muchos de estos elementos para que puedas lucir a la moda sin sacrificar la elegancia clásica.</p>
      `}],n=e.find(i=>i.id.toString()===t)||e[0],r=e.filter(i=>i.id.toString()!==t).slice(0,3);return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("div",{className:"bg-white py-4",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("nav",{className:"text-sm",children:[u.jsx(De,{to:"/home",className:"text-indigo-600 hover:text-indigo-800",children:"Inicio"}),u.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),u.jsx(De,{to:"/blog",className:"text-indigo-600 hover:text-indigo-800",children:"Blog"}),u.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),u.jsx("span",{className:"text-gray-500",children:n.title})]})})}),u.jsx("div",{className:"container mx-auto px-4 py-12",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[u.jsx("div",{className:"lg:w-2/3",children:u.jsxs("article",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[u.jsx("div",{className:"h-96 overflow-hidden",children:u.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover",onError:i=>{i.target.onerror=null,i.target.src="https://via.placeholder.com/800x600.png?text=Imagen+Blog"}})}),u.jsxs("div",{className:"p-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:n.category}),u.jsx("span",{className:"text-gray-500",children:n.date})]}),u.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:n.title}),u.jsxs("div",{className:"flex items-center mb-8 pb-6 border-b border-gray-200",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-800 font-bold mr-3",children:n.author.charAt(0)}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900",children:n.author}),u.jsx("p",{className:"text-sm text-gray-500",children:"Autor en PSG SHOP"})]})]}),u.jsx("div",{className:"prose max-w-none text-gray-700",dangerouslySetInnerHTML:{__html:n.content}}),u.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(De,{to:"/blog",className:"inline-flex items-center text-indigo-600 hover:text-indigo-800 font-medium",children:"← Volver al blog"}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("a",{href:"#",className:"text-gray-500 hover:text-indigo-600",children:u.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),u.jsx("a",{href:"#",className:"text-gray-500 hover:text-indigo-600",children:u.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})}),u.jsx("a",{href:"#",className:"text-gray-500 hover:text-indigo-600",children:u.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]})})]})]})}),u.jsxs("div",{className:"lg:w-1/3",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Artículos Relacionados"}),u.jsx("div",{className:"space-y-4",children:r.map(i=>u.jsxs("div",{className:"flex group",children:[u.jsx("div",{className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden",children:u.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover",onError:a=>{a.target.onerror=null,a.target.src="https://via.placeholder.com/100x100.png?text=Blog"}})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("span",{className:"text-xs text-indigo-600 font-medium",children:i.category}),u.jsx("h4",{className:"font-medium text-gray-900 group-hover:text-indigo-600 transition-colors duration-300 mt-1",children:u.jsx(De,{to:`/blog/${i.id}`,children:i.title})}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i.date})]})]},i.id))})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Categorías"}),u.jsx("ul",{className:"space-y-2",children:["Guía de Estilo","Tendencias","Cuidado","Historia","Eventos","Personalización"].map((i,a)=>u.jsx("li",{children:u.jsx(De,{to:"#",className:"block py-2 px-4 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors duration-300",children:i})},a))})]}),u.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-700 rounded-xl shadow-md p-6 text-white",children:[u.jsx("h3",{className:"text-xl font-bold mb-2",children:"Boletín Informativo"}),u.jsx("p",{className:"mb-4 opacity-90",children:"Suscríbete para recibir las últimas novedades y artículos del blog"}),u.jsxs("form",{className:"space-y-3",children:[u.jsx("input",{type:"email",placeholder:"Tu correo electrónico",className:"w-full px-4 py-2 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-300"}),u.jsx("button",{type:"submit",className:"w-full bg-white text-indigo-700 font-medium py-2 rounded-lg hover:bg-gray-100 transition-colors duration-300",children:"Suscribirse"})]})]})]})]})})]})},Zge=()=>{const[t,e]=l6("mpwybkly"),[n,r]=_.useState({name:"",email:"",subject:"",message:""}),i=a=>{const{name:l,value:d}=a.target;r(f=>({...f,[l]:d}))};return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsxs("div",{className:"relative py-20 text-white bg-gradient-to-r from-indigo-700 to-purple-800",children:[u.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),u.jsxs("div",{className:"container relative z-10 px-4 mx-auto text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold md:text-5xl",children:"Contáctanos"}),u.jsx("p",{className:"max-w-2xl mx-auto text-xl",children:"¿Tienes preguntas? Estamos aquí para ayudarte. Envíanos un mensaje y nos pondremos en contacto contigo pronto."})]})]}),u.jsxs("div",{className:"container px-4 py-12 mx-auto",children:[t.succeeded?u.jsx("div",{className:"max-w-4xl p-4 mx-auto mb-8 rounded-md bg-green-50",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"w-5 h-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"text-sm font-medium text-green-800",children:"¡Gracias por tu mensaje!"}),u.jsx("div",{className:"mt-2 text-sm text-green-700",children:u.jsx("p",{children:"Hemos recibido tu mensaje y nos pondremos en contacto contigo pronto."})})]})]})}):null,u.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsxs("div",{className:"p-8 bg-white shadow-md rounded-xl",children:[u.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-900",children:"Envíanos un mensaje"}),u.jsxs("form",{onSubmit:e,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-700",children:"Nombre"}),u.jsx("input",{type:"text",name:"name",id:"name",required:!0,value:n.name,onChange:i,className:"w-full px-4 py-3 transition-colors duration-300 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Tu nombre completo"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"Email"}),u.jsx("input",{type:"email",name:"email",id:"email",required:!0,value:n.email,onChange:i,className:"w-full px-4 py-3 transition-colors duration-300 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"tu@email.com"}),u.jsx(ny,{prefix:"Email",field:"email",errors:t.errors})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"subject",className:"block mb-2 text-sm font-medium text-gray-700",children:"Asunto"}),u.jsx("input",{type:"text",name:"subject",id:"subject",required:!0,value:n.subject,onChange:i,className:"w-full px-4 py-3 transition-colors duration-300 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"¿Sobre qué te gustaría hablar?"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"message",className:"block mb-2 text-sm font-medium text-gray-700",children:"Mensaje"}),u.jsx("textarea",{id:"message",name:"message",rows:6,required:!0,value:n.message,onChange:i,className:"w-full px-4 py-3 transition-colors duration-300 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Escribe tu mensaje aquí..."}),u.jsx(ny,{prefix:"Message",field:"message",errors:t.errors})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:t.submitting,className:`w-full flex justify-center py-3 px-6 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300 ${t.submitting?"opacity-75 cursor-not-allowed":""}`,children:t.submitting?"Enviando...":"Enviar Mensaje"})})]})]})}),u.jsxs("div",{children:[u.jsxs("div",{className:"p-8 mb-8 bg-white shadow-md rounded-xl",children:[u.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-900",children:"Información de Contacto"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex-shrink-0 p-3 bg-indigo-100 rounded-lg",children:u.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Teléfono"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"+1 (555) 123-4567"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Lun - Vie, 9:00 AM - 6:00 PM"})]})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex-shrink-0 p-3 bg-indigo-100 rounded-lg",children:u.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"info@psgshop.com"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Respuesta en 24 horas hábiles"})]})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex-shrink-0 p-3 bg-indigo-100 rounded-lg",children:u.jsxs("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Dirección"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Calle Principal 123"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Cajamarca, Tolima, Colombia"})]})]})]})]}),u.jsxs("div",{className:"p-8 mb-8 bg-white shadow-md rounded-xl",children:[u.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-900",children:"Nuestra Ubicación"}),u.jsx("div",{className:"h-64 overflow-hidden rounded-lg",children:u.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15782.9116518304!2d-75.31303365!3d4.48527395!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e38f5a5a5a5a5a5%3A0x5a5a5a5a5a5a5a5a!2sCajamarca%2C%20Tolima%2C%20Colombia!5e0!3m2!1sen!2sco!4v1678901234567!5m2!1sen!2sco",width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Ubicación de PSG SHOP en Cajamarca, Tolima, Colombia"})})]}),u.jsxs("div",{className:"p-8 mb-8 bg-white shadow-md rounded-xl",children:[u.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-900",children:"Horario de Atención"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600",children:"Lunes"}),u.jsx("span",{className:"font-medium text-gray-900",children:"9:00 AM - 6:00 PM"})]}),u.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600",children:"Martes"}),u.jsx("span",{className:"font-medium text-gray-900",children:"9:00 AM - 6:00 PM"})]}),u.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600",children:"Miércoles"}),u.jsx("span",{className:"font-medium text-gray-900",children:"9:00 AM - 6:00 PM"})]}),u.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600",children:"Jueves"}),u.jsx("span",{className:"font-medium text-gray-900",children:"9:00 AM - 6:00 PM"})]}),u.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600",children:"Viernes"}),u.jsx("span",{className:"font-medium text-gray-900",children:"9:00 AM - 6:00 PM"})]}),u.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-100",children:[u.jsx("span",{className:"text-gray-600",children:"Sábado"}),u.jsx("span",{className:"font-medium text-gray-900",children:"10:00 AM - 4:00 PM"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Domingo"}),u.jsx("span",{className:"font-medium text-indigo-600",children:"Cerrado"})]})]})]}),u.jsxs("div",{className:"p-8 text-white shadow-md bg-gradient-to-r from-indigo-600 to-purple-700 rounded-xl",children:[u.jsx("h2",{className:"mb-4 text-2xl font-bold",children:"Síguenos en redes"}),u.jsx("p",{className:"mb-6 opacity-90",children:"Mantente actualizado con nuestras últimas novedades y promociones"}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("a",{href:"#",className:"p-3 transition-all duration-300 bg-white rounded-full bg-opacity-20 hover:bg-opacity-30",children:u.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),u.jsx("a",{href:"#",className:"p-3 transition-all duration-300 bg-white rounded-full bg-opacity-20 hover:bg-opacity-30",children:u.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})}),u.jsx("a",{href:"#",className:"p-3 transition-all duration-300 bg-white rounded-full bg-opacity-20 hover:bg-opacity-30",children:u.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]})]})]}),u.jsxs("div",{className:"p-8 mt-16 bg-white shadow-md rounded-xl",children:[u.jsx("h2",{className:"mb-6 text-2xl font-bold text-center text-gray-900",children:"Preguntas Frecuentes"}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[u.jsxs("div",{className:"p-5 transition-colors duration-300 border border-gray-200 rounded-lg hover:border-indigo-300",children:[u.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:"¿Cuánto tiempo tardan en responder?"}),u.jsx("p",{className:"text-gray-600",children:"Normalmente respondemos todos los correos electrónicos dentro de las 24 horas hábiles."})]}),u.jsxs("div",{className:"p-5 transition-colors duration-300 border border-gray-200 rounded-lg hover:border-indigo-300",children:[u.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:"¿Ofrecen envío internacional?"}),u.jsx("p",{className:"text-gray-600",children:"Sí, enviamos a la mayoría de países. Los costos y tiempos de envío varían según la ubicación."})]}),u.jsxs("div",{className:"p-5 transition-colors duration-300 border border-gray-200 rounded-lg hover:border-indigo-300",children:[u.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:"¿Puedo cambiar o devolver un producto?"}),u.jsx("p",{className:"text-gray-600",children:"Por supuesto. Ofrecemos devoluciones dentro de los 30 días posteriores a la compra."})]}),u.jsxs("div",{className:"p-5 transition-colors duration-300 border border-gray-200 rounded-lg hover:border-indigo-300",children:[u.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:"¿Cómo puedo rastrear mi pedido?"}),u.jsx("p",{className:"text-gray-600",children:"Recibirás un correo electrónico con el número de seguimiento una vez que tu pedido haya sido enviado."})]})]})]})]})]})},Jge=()=>u.jsx("footer",{className:"bg-gray-800 text-white py-8",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold mb-4",children:"Tienda de Moños"}),u.jsx("p",{className:"text-gray-300",children:"La mejor selección de moños para todas las ocasiones."})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Enlaces Rápidos"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx("a",{href:"/home",className:"text-gray-300 hover:text-white",children:"Inicio"})}),u.jsx("li",{children:u.jsx("a",{href:"/cart",className:"text-gray-300 hover:text-white",children:"Carrito"})}),u.jsx("li",{children:u.jsx("a",{href:"/login",className:"text-gray-300 hover:text-white",children:"Iniciar Sesión"})}),u.jsx("li",{children:u.jsx("a",{href:"/register",className:"text-gray-300 hover:text-white",children:"Registrarse"})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contacto"}),u.jsxs("address",{className:"text-gray-300 not-italic",children:[u.jsx("p",{children:"Email: psgmoños@gmail.com"}),u.jsx("p",{children:"Teléfono: (123) 456-7890"})]})]})]}),u.jsx("div",{className:"border-t border-gray-700 mt-8 pt-6 text-center text-gray-400",children:u.jsxs("p",{children:["© ",new Date().getFullYear()," Tienda de Moños. Todos los derechos reservados."]})})]})}),eye=()=>{const{pathname:t}=no();return _.useEffect(()=>{window.scrollTo(0,0)},[t]),null};function tye(){const[t,e]=_.useState(null),[n,r]=_.useState(null),[i,a]=_.useState(!0),[l,d]=_.useState(!1);eye(),_.useEffect(()=>Q$(ga,async x=>{if(e(x),x)try{const b=bt(Re,"users",x.uid),A=await ba(b);if(A.exists()){const E=A.data();r(E),d(E.role==="admin")}else r(null),d(!1)}catch(b){console.error("Error fetching user profile:",b),r(null),d(!1)}else r(null),d(!1);a(!1)}),[]);const f={currentUser:t,userProfile:n,isAdmin:l};if(i)return u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"w-12 h-12 border-b-2 border-indigo-600 rounded-full animate-spin"})});const h=({children:g,adminOnly:x=!1})=>t?x&&!l?u.jsx(vb,{to:"/home"}):g:u.jsx(vb,{to:"/login"}),p=({children:g})=>t?u.jsx(vb,{to:"/home"}):g;return u.jsx(n6.Provider,{value:f,children:u.jsx(ZG,{children:u.jsx(JG,{children:u.jsxs("div",{className:"flex flex-col min-h-screen",children:[u.jsxs(xb,{children:[u.jsx(un,{path:"/admin/*",element:null}),u.jsx(un,{path:"*",element:u.jsx(t7,{})})]}),u.jsx("main",{className:"flex-grow",children:u.jsxs(xb,{children:[u.jsx(un,{path:"/",element:u.jsx(zP,{})}),u.jsx(un,{path:"/home",element:u.jsx(zP,{})}),u.jsx(un,{path:"/shop",element:u.jsx(EQ,{})}),u.jsx(un,{path:"/product/:id",element:u.jsx(TQ,{})}),u.jsx(un,{path:"/cart",element:u.jsx(NQ,{})}),u.jsx(un,{path:"/wishlist",element:u.jsx(Yge,{})}),u.jsx(un,{path:"/blog",element:u.jsx(Xge,{})}),u.jsx(un,{path:"/blog/:id",element:u.jsx(Qge,{})}),u.jsx(un,{path:"/contact",element:u.jsx(Zge,{})}),u.jsx(un,{path:"/checkout",element:u.jsx(h,{children:u.jsx(WQ,{})})}),u.jsx(un,{path:"/profile",element:u.jsx(h,{children:u.jsx(YQ,{})})}),u.jsx(un,{path:"/orders",element:u.jsx(h,{children:u.jsx(Dge,{})})}),u.jsx(un,{path:"/login",element:u.jsx(p,{children:u.jsx(XQ,{})})}),u.jsx(un,{path:"/register",element:u.jsx(p,{children:u.jsx(QQ,{})})}),u.jsx(un,{path:"/reset-password",element:u.jsx(p,{children:u.jsx(ZQ,{})})}),u.jsx(un,{path:"/admin/*",element:u.jsx(h,{adminOnly:!0,children:u.jsx(Rge,{})})}),u.jsx(un,{path:"/coupon-test",element:u.jsx(h,{adminOnly:!0,children:u.jsx(Wge,{})})})]})}),u.jsxs(xb,{children:[u.jsx(un,{path:"/admin/*",element:null}),u.jsx(un,{path:"*",element:u.jsx(Jge,{})})]})]})})})})}const nye={"client-id":"AdgxAW2HZC5B-yzBWZKimJnJH8W5r-PwL5_lppQOw1w43p_mlpg5FzCDl2trocXC23YuwZhhjyiJIOEf",currency:"USD",intent:"capture"};UV.createRoot(document.getElementById("root")).render(u.jsx(_.StrictMode,{children:u.jsx(GQ,{options:nye,children:u.jsx(QU,{children:u.jsx(tye,{})})})}));
