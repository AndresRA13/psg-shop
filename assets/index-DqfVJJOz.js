function CV(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Za(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fb={exports:{}},Kf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sj;function PV(){if(Sj)return Kf;Sj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:l,ref:i!==void 0?i:null,props:a}}return Kf.Fragment=e,Kf.jsx=r,Kf.jsxs=r,Kf}var Tj;function kV(){return Tj||(Tj=1,fb.exports=PV()),fb.exports}var d=kV(),hb={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nj;function OV(){if(Nj)return Xe;Nj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=g&&$[g]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function S($,Y,te){this.props=$,this.context=Y,this.refs=E,this.updater=te||b}S.prototype.isReactComponent={},S.prototype.setState=function($,Y){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Y,"setState")},S.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=S.prototype;function C($,Y,te){this.props=$,this.context=Y,this.refs=E,this.updater=te||b}var j=C.prototype=new N;j.constructor=C,A(j,S.prototype),j.isPureReactComponent=!0;var L=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function I($,Y,te,Q,oe,ye){return te=ye.ref,{$$typeof:t,type:$,key:Y,ref:te!==void 0?te:null,props:ye}}function P($,Y){return I($.type,Y,void 0,void 0,void 0,$.props)}function R($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function U($){var Y={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(te){return Y[te]})}var B=/\/+/g;function q($,Y){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):Y.toString(36)}function V(){}function xe($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(V,V):($.status="pending",$.then(function(Y){$.status==="pending"&&($.status="fulfilled",$.value=Y)},function(Y){$.status==="pending"&&($.status="rejected",$.reason=Y)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function fe($,Y,te,Q,oe){var ye=typeof $;(ye==="undefined"||ye==="boolean")&&($=null);var we=!1;if($===null)we=!0;else switch(ye){case"bigint":case"string":case"number":we=!0;break;case"object":switch($.$$typeof){case t:case e:we=!0;break;case p:return we=$._init,fe(we($._payload),Y,te,Q,oe)}}if(we)return oe=oe($),we=Q===""?"."+q($,0):Q,L(oe)?(te="",we!=null&&(te=we.replace(B,"$&/")+"/"),fe(oe,Y,te,"",function(_e){return _e})):oe!=null&&(R(oe)&&(oe=P(oe,te+(oe.key==null||$&&$.key===oe.key?"":(""+oe.key).replace(B,"$&/")+"/")+we)),Y.push(oe)),1;we=0;var Le=Q===""?".":Q+":";if(L($))for(var Ke=0;Ke<$.length;Ke++)Q=$[Ke],ye=Le+q(Q,Ke),we+=fe(Q,Y,te,ye,oe);else if(Ke=v($),typeof Ke=="function")for($=Ke.call($),Ke=0;!(Q=$.next()).done;)Q=Q.value,ye=Le+q(Q,Ke++),we+=fe(Q,Y,te,ye,oe);else if(ye==="object"){if(typeof $.then=="function")return fe(xe($),Y,te,Q,oe);throw Y=String($),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return we}function W($,Y,te){if($==null)return $;var Q=[],oe=0;return fe($,Q,"","",function(ye){return Y.call(te,ye,oe++)}),Q}function K($){if($._status===-1){var Y=$._result;Y=Y(),Y.then(function(te){($._status===0||$._status===-1)&&($._status=1,$._result=te)},function(te){($._status===0||$._status===-1)&&($._status=2,$._result=te)}),$._status===-1&&($._status=0,$._result=Y)}if($._status===1)return $._result.default;throw $._result}var le=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function pe(){}return Xe.Children={map:W,forEach:function($,Y,te){W($,function(){Y.apply(this,arguments)},te)},count:function($){var Y=0;return W($,function(){Y++}),Y},toArray:function($){return W($,function(Y){return Y})||[]},only:function($){if(!R($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Xe.Component=S,Xe.Fragment=r,Xe.Profiler=i,Xe.PureComponent=C,Xe.StrictMode=n,Xe.Suspense=f,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Xe.__COMPILER_RUNTIME={__proto__:null,c:function($){return z.H.useMemoCache($)}},Xe.cache=function($){return function(){return $.apply(null,arguments)}},Xe.cloneElement=function($,Y,te){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var Q=A({},$.props),oe=$.key,ye=void 0;if(Y!=null)for(we in Y.ref!==void 0&&(ye=void 0),Y.key!==void 0&&(oe=""+Y.key),Y)!M.call(Y,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Y.ref===void 0||(Q[we]=Y[we]);var we=arguments.length-2;if(we===1)Q.children=te;else if(1<we){for(var Le=Array(we),Ke=0;Ke<we;Ke++)Le[Ke]=arguments[Ke+2];Q.children=Le}return I($.type,oe,void 0,void 0,ye,Q)},Xe.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:a,_context:$},$},Xe.createElement=function($,Y,te){var Q,oe={},ye=null;if(Y!=null)for(Q in Y.key!==void 0&&(ye=""+Y.key),Y)M.call(Y,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(oe[Q]=Y[Q]);var we=arguments.length-2;if(we===1)oe.children=te;else if(1<we){for(var Le=Array(we),Ke=0;Ke<we;Ke++)Le[Ke]=arguments[Ke+2];oe.children=Le}if($&&$.defaultProps)for(Q in we=$.defaultProps,we)oe[Q]===void 0&&(oe[Q]=we[Q]);return I($,ye,void 0,void 0,null,oe)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function($){return{$$typeof:c,render:$}},Xe.isValidElement=R,Xe.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:K}},Xe.memo=function($,Y){return{$$typeof:h,type:$,compare:Y===void 0?null:Y}},Xe.startTransition=function($){var Y=z.T,te={};z.T=te;try{var Q=$(),oe=z.S;oe!==null&&oe(te,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(pe,le)}catch(ye){le(ye)}finally{z.T=Y}},Xe.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Xe.use=function($){return z.H.use($)},Xe.useActionState=function($,Y,te){return z.H.useActionState($,Y,te)},Xe.useCallback=function($,Y){return z.H.useCallback($,Y)},Xe.useContext=function($){return z.H.useContext($)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function($,Y){return z.H.useDeferredValue($,Y)},Xe.useEffect=function($,Y,te){var Q=z.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect($,Y)},Xe.useId=function(){return z.H.useId()},Xe.useImperativeHandle=function($,Y,te){return z.H.useImperativeHandle($,Y,te)},Xe.useInsertionEffect=function($,Y){return z.H.useInsertionEffect($,Y)},Xe.useLayoutEffect=function($,Y){return z.H.useLayoutEffect($,Y)},Xe.useMemo=function($,Y){return z.H.useMemo($,Y)},Xe.useOptimistic=function($,Y){return z.H.useOptimistic($,Y)},Xe.useReducer=function($,Y,te){return z.H.useReducer($,Y,te)},Xe.useRef=function($){return z.H.useRef($)},Xe.useState=function($){return z.H.useState($)},Xe.useSyncExternalStore=function($,Y,te){return z.H.useSyncExternalStore($,Y,te)},Xe.useTransition=function(){return z.H.useTransition()},Xe.version="19.1.1",Xe}var jj;function vd(){return jj||(jj=1,hb.exports=OV()),hb.exports}var _=vd();const ct=Za(_),IV=CV({__proto__:null,default:ct},[_]);var mb={exports:{}},Gf={},pb={exports:{}},gb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cj;function RV(){return Cj||(Cj=1,(function(t){function e(W,K){var le=W.length;W.push(K);e:for(;0<le;){var pe=le-1>>>1,$=W[pe];if(0<i($,K))W[pe]=K,W[le]=$,le=pe;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var K=W[0],le=W.pop();if(le!==K){W[0]=le;e:for(var pe=0,$=W.length,Y=$>>>1;pe<Y;){var te=2*(pe+1)-1,Q=W[te],oe=te+1,ye=W[oe];if(0>i(Q,le))oe<$&&0>i(ye,Q)?(W[pe]=ye,W[oe]=le,pe=oe):(W[pe]=Q,W[te]=le,pe=te);else if(oe<$&&0>i(ye,le))W[pe]=ye,W[oe]=le,pe=oe;else break e}}return K}function i(W,K){var le=W.sortIndex-K.sortIndex;return le!==0?le:W.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],p=1,g=null,v=3,b=!1,A=!1,E=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function L(W){for(var K=r(h);K!==null;){if(K.callback===null)n(h);else if(K.startTime<=W)n(h),K.sortIndex=K.expirationTime,e(f,K);else break;K=r(h)}}function z(W){if(E=!1,L(W),!A)if(r(f)!==null)A=!0,M||(M=!0,q());else{var K=r(h);K!==null&&fe(z,K.startTime-W)}}var M=!1,I=-1,P=5,R=-1;function U(){return S?!0:!(t.unstable_now()-R<P)}function B(){if(S=!1,M){var W=t.unstable_now();R=W;var K=!0;try{e:{A=!1,E&&(E=!1,C(I),I=-1),b=!0;var le=v;try{t:{for(L(W),g=r(f);g!==null&&!(g.expirationTime>W&&U());){var pe=g.callback;if(typeof pe=="function"){g.callback=null,v=g.priorityLevel;var $=pe(g.expirationTime<=W);if(W=t.unstable_now(),typeof $=="function"){g.callback=$,L(W),K=!0;break t}g===r(f)&&n(f),L(W)}else n(f);g=r(f)}if(g!==null)K=!0;else{var Y=r(h);Y!==null&&fe(z,Y.startTime-W),K=!1}}break e}finally{g=null,v=le,b=!1}K=void 0}}finally{K?q():M=!1}}}var q;if(typeof j=="function")q=function(){j(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,xe=V.port2;V.port1.onmessage=B,q=function(){xe.postMessage(null)}}else q=function(){N(B,0)};function fe(W,K){I=N(function(){W(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(W){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var le=v;v=K;try{return W()}finally{v=le}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(W,K){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var le=v;v=W;try{return K()}finally{v=le}},t.unstable_scheduleCallback=function(W,K,le){var pe=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?pe+le:pe):le=pe,W){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=le+$,W={id:p++,callback:K,priorityLevel:W,startTime:le,expirationTime:$,sortIndex:-1},le>pe?(W.sortIndex=le,e(h,W),r(f)===null&&W===r(h)&&(E?(C(I),I=-1):E=!0,fe(z,le-pe))):(W.sortIndex=$,e(f,W),A||b||(A=!0,M||(M=!0,q()))),W},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(W){var K=v;return function(){var le=v;v=K;try{return W.apply(this,arguments)}finally{v=le}}}})(gb)),gb}var Pj;function DV(){return Pj||(Pj=1,pb.exports=RV()),pb.exports}var yb={exports:{}},vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kj;function MV(){if(kj)return vn;kj=1;var t=vd();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,vn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,p)},vn.flushSync=function(f){var h=l.T,p=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=h,n.p=p,n.d.f()}},vn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},vn.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},vn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=c(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):p==="script"&&n.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},vn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},vn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=c(p,h.crossOrigin);n.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},vn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=c(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},vn.requestFormReset=function(f){n.d.r(f)},vn.unstable_batchedUpdates=function(f,h){return f(h)},vn.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},vn.useFormStatus=function(){return l.H.useHostTransitionStatus()},vn.version="19.1.1",vn}var Oj;function iI(){if(Oj)return yb.exports;Oj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yb.exports=MV(),yb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ij;function LV(){if(Ij)return Gf;Ij=1;var t=DV(),e=vd(),r=iI();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(n(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,m=o;;){var x=u.return;if(x===null)break;var w=x.alternate;if(w===null){if(m=x.return,m!==null){u=m;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===u)return c(x),s;if(w===m)return c(x),o;w=w.sibling}throw Error(n(188))}if(u.return!==m.return)u=x,m=w;else{for(var O=!1,D=x.child;D;){if(D===u){O=!0,u=x,m=w;break}if(D===m){O=!0,m=x,u=w;break}D=D.sibling}if(!O){for(D=w.child;D;){if(D===u){O=!0,u=w,m=x;break}if(D===m){O=!0,m=w,u=x;break}D=D.sibling}if(!O)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function h(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=h(s),o!==null)return o;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),j=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function xe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case z:return"Suspense";case M:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case j:return(s.displayName||"Context")+".Provider";case C:return(s._context.displayName||"Context")+".Consumer";case L:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return o=s.displayName||null,o!==null?o:xe(s.type)||"Memo";case P:o=s._payload,s=s._init;try{return xe(s(o))}catch{}}return null}var fe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},pe=[],$=-1;function Y(s){return{current:s}}function te(s){0>$||(s.current=pe[$],pe[$]=null,$--)}function Q(s,o){$++,pe[$]=s.current,s.current=o}var oe=Y(null),ye=Y(null),we=Y(null),Le=Y(null);function Ke(s,o){switch(Q(we,o),Q(ye,s),Q(oe,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?JN(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=JN(o),s=ej(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}te(oe),Q(oe,s)}function _e(){te(oe),te(ye),te(we)}function Ve(s){s.memoizedState!==null&&Q(Le,s);var o=oe.current,u=ej(o,s.type);o!==u&&(Q(ye,s),Q(oe,u))}function Se(s){ye.current===s&&(te(oe),te(ye)),Le.current===s&&(te(Le),$f._currentValue=le)}var be=Object.prototype.hasOwnProperty,_t=t.unstable_scheduleCallback,Je=t.unstable_cancelCallback,mr=t.unstable_shouldYield,sr=t.unstable_requestPaint,$e=t.unstable_now,wa=t.unstable_getCurrentPriorityLevel,or=t.unstable_ImmediatePriority,lr=t.unstable_UserBlockingPriority,yi=t.unstable_NormalPriority,$d=t.unstable_LowPriority,Nl=t.unstable_IdlePriority,zd=t.log,is=t.unstable_setDisableYieldValue,rn=null,Jt=null;function nn(s){if(typeof zd=="function"&&is(s),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(rn,s)}catch{}}var an=Math.clz32?Math.clz32:fo,Zc=Math.log,as=Math.LN2;function fo(s){return s>>>=0,s===0?32:31-(Zc(s)/as|0)|0}var vi=256,_a=4194304;function Yn(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function er(s,o,u){var m=s.pendingLanes;if(m===0)return 0;var x=0,w=s.suspendedLanes,O=s.pingedLanes;s=s.warmLanes;var D=m&134217727;return D!==0?(m=D&~w,m!==0?x=Yn(m):(O&=D,O!==0?x=Yn(O):u||(u=D&~s,u!==0&&(x=Yn(u))))):(D=m&~w,D!==0?x=Yn(D):O!==0?x=Yn(O):u||(u=m&~s,u!==0&&(x=Yn(u)))),x===0?0:o!==0&&o!==x&&(o&w)===0&&(w=x&-x,u=o&-o,w>=u||w===32&&(u&4194048)!==0)?o:x}function Dr(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function ho(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jl(){var s=vi;return vi<<=1,(vi&4194048)===0&&(vi=256),s}function Ea(){var s=_a;return _a<<=1,(_a&62914560)===0&&(_a=4194304),s}function ss(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Kt(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Jc(s,o,u,m,x,w){var O=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var D=s.entanglements,H=s.expirationTimes,ee=s.hiddenUpdates;for(u=O&~u;0<u;){var de=31-an(u),ge=1<<de;D[de]=0,H[de]=-1;var ne=ee[de];if(ne!==null)for(ee[de]=null,de=0;de<ne.length;de++){var ie=ne[de];ie!==null&&(ie.lane&=-536870913)}u&=~ge}m!==0&&Aa(s,m,0),w!==0&&x===0&&s.tag!==0&&(s.suspendedLanes|=w&~(O&~o))}function Aa(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var m=31-an(o);s.entangledLanes|=o,s.entanglements[m]=s.entanglements[m]|1073741824|u&4194090}function Sa(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var m=31-an(u),x=1<<m;x&o|s[m]&o&&(s[m]|=o),u&=~x}}function Cl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Pl(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Gi(){var s=K.p;return s!==0?s:(s=window.event,s===void 0?32:xj(s.type))}function Fd(s,o){var u=K.p;try{return K.p=s,o()}finally{K.p=u}}var xi=Math.random().toString(36).slice(2),tr="__reactFiber$"+xi,Mr="__reactProps$"+xi,Wi="__reactContainer$"+xi,os="__reactEvents$"+xi,ls="__reactListeners$"+xi,eu="__reactHandles$"+xi,Xn="__reactResources$"+xi,ce="__reactMarker$"+xi;function se(s){delete s[tr],delete s[Mr],delete s[os],delete s[ls],delete s[eu]}function Te(s){var o=s[tr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Wi]||u[tr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=ij(s);s!==null;){if(u=s[tr])return u;s=ij(s)}return o}s=u,u=s.parentNode}return null}function st(s){if(s=s[tr]||s[Wi]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Tr(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function pn(s){var o=s[Xn];return o||(o=s[Xn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Rt(s){s[ce]=!0}var Ta=new Set,cs={};function Yi(s,o){bi(s,o),bi(s+"Capture",o)}function bi(s,o){for(cs[s]=o,s=0;s<o.length;s++)Ta.add(o[s])}var us=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xi={},mo={};function qd(s){return be.call(mo,s)?!0:be.call(Xi,s)?!1:us.test(s)?mo[s]=!0:(Xi[s]=!0,!1)}function ds(s,o,u){if(qd(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function fs(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function Ln(s,o,u,m){if(m===null)s.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+m)}}var hs,po;function Qi(s){if(hs===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);hs=o&&o[1]||"",po=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hs+s+po}var Zi=!1;function go(s,o){if(!s||Zi)return"";Zi=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ie){var ne=ie}Reflect.construct(s,[],ge)}else{try{ge.call()}catch(ie){ne=ie}s.call(ge.prototype)}}else{try{throw Error()}catch(ie){ne=ie}(ge=s())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ie){if(ie&&ne&&typeof ie.stack=="string")return[ie.stack,ne.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),O=w[0],D=w[1];if(O&&D){var H=O.split(`
`),ee=D.split(`
`);for(x=m=0;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;for(;x<ee.length&&!ee[x].includes("DetermineComponentFrameRoot");)x++;if(m===H.length||x===ee.length)for(m=H.length-1,x=ee.length-1;1<=m&&0<=x&&H[m]!==ee[x];)x--;for(;1<=m&&0<=x;m--,x--)if(H[m]!==ee[x]){if(m!==1||x!==1)do if(m--,x--,0>x||H[m]!==ee[x]){var de=`
`+H[m].replace(" at new "," at ");return s.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",s.displayName)),de}while(1<=m&&0<=x);break}}}finally{Zi=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?Qi(u):""}function bv(s){switch(s.tag){case 26:case 27:case 5:return Qi(s.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return go(s.type,!1);case 11:return go(s.type.render,!1);case 1:return go(s.type,!0);case 31:return Qi("Activity");default:return""}}function Ji(s){try{var o="";do o+=bv(s),s=s.return;while(s);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function rr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function yo(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function kl(s){var o=yo(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),m=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,w=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return x.call(this)},set:function(O){m=""+O,w.call(this,O)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function vo(s){s._valueTracker||(s._valueTracker=kl(s))}function Et(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return s&&(m=yo(s)?s.checked?"true":"false":s.value),s=m,s!==u?(o.setValue(s),!0):!1}function ms(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ol=/[\n"\\]/g;function Kr(s){return s.replace(Ol,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Hd(s,o,u,m,x,w,O,D){s.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.type=O:s.removeAttribute("type"),o!=null?O==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+rr(o)):s.value!==""+rr(o)&&(s.value=""+rr(o)):O!=="submit"&&O!=="reset"||s.removeAttribute("value"),o!=null?Gd(s,O,rr(o)):u!=null?Gd(s,O,rr(u)):m!=null&&s.removeAttribute("value"),x==null&&w!=null&&(s.defaultChecked=!!w),x!=null&&(s.checked=x&&typeof x!="function"&&typeof x!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.name=""+rr(D):s.removeAttribute("name")}function Kd(s,o,u,m,x,w,O,D){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),o!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;u=u!=null?""+rr(u):"",o=o!=null?""+rr(o):u,D||o===s.value||(s.value=o),s.defaultValue=o}m=m??x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=D?s.checked:!!m,s.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.name=O)}function Gd(s,o,u){o==="number"&&ms(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function xo(s,o,u,m){if(s=s.options,o){o={};for(var x=0;x<u.length;x++)o["$"+u[x]]=!0;for(u=0;u<s.length;u++)x=o.hasOwnProperty("$"+s[u].value),s[u].selected!==x&&(s[u].selected=x),x&&m&&(s[u].defaultSelected=!0)}else{for(u=""+rr(u),o=null,x=0;x<s.length;x++){if(s[x].value===u){s[x].selected=!0,m&&(s[x].defaultSelected=!0);return}o!==null||s[x].disabled||(o=s[x])}o!==null&&(o.selected=!0)}}function jm(s,o,u){if(o!=null&&(o=""+rr(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+rr(u):""}function Cm(s,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(n(92));if(fe(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=rr(o),s.defaultValue=u,m=s.textContent,m===u&&m!==""&&m!==null&&(s.value=m)}function wi(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wd(s,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":m?s.setProperty(o,u):typeof u!="number"||u===0||ps.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function Yd(s,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var x in o)m=o[x],o.hasOwnProperty(x)&&u[x]!==m&&Wd(s,x,m)}else for(var w in o)o.hasOwnProperty(w)&&Wd(s,w,o[w])}function tu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),km=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(s){return km.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Xd=null;function Qd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var bo=null,jn=null;function Om(s){var o=st(s);if(o&&(s=o.stateNode)){var u=s[Mr]||null;e:switch(s=o.stateNode,o.type){case"input":if(Hd(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Kr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==s&&m.form===s.form){var x=m[Mr]||null;if(!x)throw Error(n(90));Hd(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===s.form&&Et(m)}break e;case"textarea":jm(s,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&xo(s,!!u.multiple,o,!1)}}}var Il=!1;function Rl(s,o,u){if(Il)return s(o,u);Il=!0;try{var m=s(o);return m}finally{if(Il=!1,(bo!==null||jn!==null)&&(wp(),bo&&(o=bo,s=jn,jn=bo=null,Om(o),s)))for(o=0;o<s.length;o++)Om(s[o])}}function wo(s,o){var u=s.stateNode;if(u===null)return null;var m=u[Mr]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(Cn)try{var _o={};Object.defineProperty(_o,"passive",{get:function(){gs=!0}}),window.addEventListener("test",_o,_o),window.removeEventListener("test",_o,_o)}catch{gs=!1}var _i=null,Dt=null,ru=null;function Im(){if(ru)return ru;var s,o=Dt,u=o.length,m,x="value"in _i?_i.value:_i.textContent,w=x.length;for(s=0;s<u&&o[s]===x[s];s++);var O=u-s;for(m=1;m<=O&&o[u-m]===x[w-m];m++);return ru=x.slice(s,1<m?1-m:void 0)}function Dl(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ml(){return!0}function Zd(){return!1}function Lr(s){function o(u,m,x,w,O){this._reactName=u,this._targetInst=x,this.type=m,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(u=s[D],this[D]=u?u(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ml:Zd,this.isPropagationStopped=Zd,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),o}var gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=Lr(gn),Vl=p({},gn,{view:0,detail:0}),Bl=Lr(Vl),nu,Ul,Na,$l=p({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:su,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Na&&(Na&&s.type==="mousemove"?(nu=s.screenX-Na.screenX,Ul=s.screenY-Na.screenY):Ul=nu=0,Na=s),nu)},movementY:function(s){return"movementY"in s?s.movementY:Ul}}),zl=Lr($l),wv=p({},$l,{dataTransfer:0}),Rm=Lr(wv),Fl=p({},Vl,{relatedTarget:0}),iu=Lr(Fl),Dm=p({},gn,{animationName:0,elapsedTime:0,pseudoElement:0}),Jd=Lr(Dm),ef=p({},gn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Mm=Lr(ef),au=p({},gn,{data:0}),tf=Lr(au),Lm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ys={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bm(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Vm[s])?!!o[s]:!1}function su(){return Bm}var Um=p({},Vl,{key:function(s){if(s.key){var o=Lm[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Dl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ys[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:su,charCode:function(s){return s.type==="keypress"?Dl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Dl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ou=Lr(Um),Pn=p({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rf=Lr(Pn),$m=p({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:su}),Eo=Lr($m),y=p({},gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Lr(y),k=p({},$l,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Lr(k),J=p({},gn,{newState:0,oldState:0}),ae=Lr(J),Ee=[9,13,27,32],We=Cn&&"CompositionEvent"in window,Ut=null;Cn&&"documentMode"in document&&(Ut=document.documentMode);var yt=Cn&&"TextEvent"in window&&!Ut,pr=Cn&&(!We||Ut&&8<Ut&&11>=Ut),Qn=" ",ja=!1;function ta(s,o){switch(s){case"keyup":return Ee.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ra(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var na=!1;function nf(s,o){switch(s){case"compositionend":return ra(o);case"keypress":return o.which!==32?null:(ja=!0,Qn);case"textInput":return s=o.data,s===Qn&&ja?null:s;default:return null}}function r7(s,o){if(na)return s==="compositionend"||!We&&ta(s,o)?(s=Im(),ru=Dt=_i=null,na=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return pr&&o.locale!=="ko"?null:o.data;default:return null}}var n7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hS(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!n7[s.type]:o==="textarea"}function mS(s,o,u,m){bo?jn?jn.push(m):jn=[m]:bo=m,o=Np(o,"onChange"),0<o.length&&(u=new Ll("onChange","change",null,u,m),s.push({event:u,listeners:o}))}var af=null,sf=null;function i7(s){WN(s,0)}function zm(s){var o=Tr(s);if(Et(o))return s}function pS(s,o){if(s==="change")return o}var gS=!1;if(Cn){var _v;if(Cn){var Ev="oninput"in document;if(!Ev){var yS=document.createElement("div");yS.setAttribute("oninput","return;"),Ev=typeof yS.oninput=="function"}_v=Ev}else _v=!1;gS=_v&&(!document.documentMode||9<document.documentMode)}function vS(){af&&(af.detachEvent("onpropertychange",xS),sf=af=null)}function xS(s){if(s.propertyName==="value"&&zm(sf)){var o=[];mS(o,sf,s,Qd(s)),Rl(i7,o)}}function a7(s,o,u){s==="focusin"?(vS(),af=o,sf=u,af.attachEvent("onpropertychange",xS)):s==="focusout"&&vS()}function s7(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return zm(sf)}function o7(s,o){if(s==="click")return zm(o)}function l7(s,o){if(s==="input"||s==="change")return zm(o)}function c7(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Zn=typeof Object.is=="function"?Object.is:c7;function of(s,o){if(Zn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var x=u[m];if(!be.call(o,x)||!Zn(s[x],o[x]))return!1}return!0}function bS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function wS(s,o){var u=bS(s);s=0;for(var m;u;){if(u.nodeType===3){if(m=s+u.textContent.length,s<=o&&m>=o)return{node:u,offset:o-s};s=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=bS(u)}}function _S(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?_S(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function ES(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=ms(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=ms(s.document)}return o}function Av(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var u7=Cn&&"documentMode"in document&&11>=document.documentMode,lu=null,Sv=null,lf=null,Tv=!1;function AS(s,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Tv||lu==null||lu!==ms(m)||(m=lu,"selectionStart"in m&&Av(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),lf&&of(lf,m)||(lf=m,m=Np(Sv,"onSelect"),0<m.length&&(o=new Ll("onSelect","select",null,o,u),s.push({event:o,listeners:m}),o.target=lu)))}function ql(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var cu={animationend:ql("Animation","AnimationEnd"),animationiteration:ql("Animation","AnimationIteration"),animationstart:ql("Animation","AnimationStart"),transitionrun:ql("Transition","TransitionRun"),transitionstart:ql("Transition","TransitionStart"),transitioncancel:ql("Transition","TransitionCancel"),transitionend:ql("Transition","TransitionEnd")},Nv={},SS={};Cn&&(SS=document.createElement("div").style,"AnimationEvent"in window||(delete cu.animationend.animation,delete cu.animationiteration.animation,delete cu.animationstart.animation),"TransitionEvent"in window||delete cu.transitionend.transition);function Hl(s){if(Nv[s])return Nv[s];if(!cu[s])return s;var o=cu[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in SS)return Nv[s]=o[u];return s}var TS=Hl("animationend"),NS=Hl("animationiteration"),jS=Hl("animationstart"),d7=Hl("transitionrun"),f7=Hl("transitionstart"),h7=Hl("transitioncancel"),CS=Hl("transitionend"),PS=new Map,jv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jv.push("scrollEnd");function ia(s,o){PS.set(s,o),Yi(o,[s])}var kS=new WeakMap;function Ei(s,o){if(typeof s=="object"&&s!==null){var u=kS.get(s);return u!==void 0?u:(o={value:s,source:o,stack:Ji(o)},kS.set(s,o),o)}return{value:s,source:o,stack:Ji(o)}}var Ai=[],uu=0,Cv=0;function Fm(){for(var s=uu,o=Cv=uu=0;o<s;){var u=Ai[o];Ai[o++]=null;var m=Ai[o];Ai[o++]=null;var x=Ai[o];Ai[o++]=null;var w=Ai[o];if(Ai[o++]=null,m!==null&&x!==null){var O=m.pending;O===null?x.next=x:(x.next=O.next,O.next=x),m.pending=x}w!==0&&OS(u,x,w)}}function qm(s,o,u,m){Ai[uu++]=s,Ai[uu++]=o,Ai[uu++]=u,Ai[uu++]=m,Cv|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function Pv(s,o,u,m){return qm(s,o,u,m),Hm(s)}function du(s,o){return qm(s,null,null,o),Hm(s)}function OS(s,o,u){s.lanes|=u;var m=s.alternate;m!==null&&(m.lanes|=u);for(var x=!1,w=s.return;w!==null;)w.childLanes|=u,m=w.alternate,m!==null&&(m.childLanes|=u),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(x=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,x&&o!==null&&(x=31-an(u),s=w.hiddenUpdates,m=s[x],m===null?s[x]=[o]:m.push(o),o.lane=u|536870912),w):null}function Hm(s){if(50<If)throw If=0,Mx=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var fu={};function m7(s,o,u,m){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(s,o,u,m){return new m7(s,o,u,m)}function kv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function vs(s,o){var u=s.alternate;return u===null?(u=Jn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function IS(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Km(s,o,u,m,x,w){var O=0;if(m=s,typeof s=="function")kv(s)&&(O=1);else if(typeof s=="string")O=gV(s,u,oe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=Jn(31,u,o,x),s.elementType=R,s.lanes=w,s;case A:return Kl(u.children,x,w,o);case E:O=8,x|=24;break;case S:return s=Jn(12,u,o,x|2),s.elementType=S,s.lanes=w,s;case z:return s=Jn(13,u,o,x),s.elementType=z,s.lanes=w,s;case M:return s=Jn(19,u,o,x),s.elementType=M,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:case j:O=10;break e;case C:O=9;break e;case L:O=11;break e;case I:O=14;break e;case P:O=16,m=null;break e}O=29,u=Error(n(130,s===null?"null":typeof s,"")),m=null}return o=Jn(O,u,o,x),o.elementType=s,o.type=m,o.lanes=w,o}function Kl(s,o,u,m){return s=Jn(7,s,m,o),s.lanes=u,s}function Ov(s,o,u){return s=Jn(6,s,null,o),s.lanes=u,s}function Iv(s,o,u){return o=Jn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var hu=[],mu=0,Gm=null,Wm=0,Si=[],Ti=0,Gl=null,xs=1,bs="";function Wl(s,o){hu[mu++]=Wm,hu[mu++]=Gm,Gm=s,Wm=o}function RS(s,o,u){Si[Ti++]=xs,Si[Ti++]=bs,Si[Ti++]=Gl,Gl=s;var m=xs;s=bs;var x=32-an(m)-1;m&=~(1<<x),u+=1;var w=32-an(o)+x;if(30<w){var O=x-x%5;w=(m&(1<<O)-1).toString(32),m>>=O,x-=O,xs=1<<32-an(o)+x|u<<x|m,bs=w+s}else xs=1<<w|u<<x|m,bs=s}function Rv(s){s.return!==null&&(Wl(s,1),RS(s,1,0))}function Dv(s){for(;s===Gm;)Gm=hu[--mu],hu[mu]=null,Wm=hu[--mu],hu[mu]=null;for(;s===Gl;)Gl=Si[--Ti],Si[Ti]=null,bs=Si[--Ti],Si[Ti]=null,xs=Si[--Ti],Si[Ti]=null}var kn=null,cr=null,mt=!1,Yl=null,Ca=!1,Mv=Error(n(519));function Xl(s){var o=Error(n(418,""));throw df(Ei(o,s)),Mv}function DS(s){var o=s.stateNode,u=s.type,m=s.memoizedProps;switch(o[tr]=s,o[Mr]=m,u){case"dialog":tt("cancel",o),tt("close",o);break;case"iframe":case"object":case"embed":tt("load",o);break;case"video":case"audio":for(u=0;u<Df.length;u++)tt(Df[u],o);break;case"source":tt("error",o);break;case"img":case"image":case"link":tt("error",o),tt("load",o);break;case"details":tt("toggle",o);break;case"input":tt("invalid",o),Kd(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),vo(o);break;case"select":tt("invalid",o);break;case"textarea":tt("invalid",o),Cm(o,m.value,m.defaultValue,m.children),vo(o)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||ZN(o.textContent,u)?(m.popover!=null&&(tt("beforetoggle",o),tt("toggle",o)),m.onScroll!=null&&tt("scroll",o),m.onScrollEnd!=null&&tt("scrollend",o),m.onClick!=null&&(o.onclick=jp),o=!0):o=!1,o||Xl(s)}function MS(s){for(kn=s.return;kn;)switch(kn.tag){case 5:case 13:Ca=!1;return;case 27:case 3:Ca=!0;return;default:kn=kn.return}}function cf(s){if(s!==kn)return!1;if(!mt)return MS(s),mt=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Zx(s.type,s.memoizedProps)),u=!u),u&&cr&&Xl(s),MS(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(o===0){cr=sa(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;s=s.nextSibling}cr=null}}else o===27?(o=cr,Bo(s.type)?(s=rb,rb=null,cr=s):cr=o):cr=kn?sa(s.stateNode.nextSibling):null;return!0}function uf(){cr=kn=null,mt=!1}function LS(){var s=Yl;return s!==null&&(Un===null?Un=s:Un.push.apply(Un,s),Yl=null),s}function df(s){Yl===null?Yl=[s]:Yl.push(s)}var Lv=Y(null),Ql=null,ws=null;function Ao(s,o,u){Q(Lv,o._currentValue),o._currentValue=u}function _s(s){s._currentValue=Lv.current,te(Lv)}function Vv(s,o,u){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===u)break;s=s.return}}function Bv(s,o,u,m){var x=s.child;for(x!==null&&(x.return=s);x!==null;){var w=x.dependencies;if(w!==null){var O=x.child;w=w.firstContext;e:for(;w!==null;){var D=w;w=x;for(var H=0;H<o.length;H++)if(D.context===o[H]){w.lanes|=u,D=w.alternate,D!==null&&(D.lanes|=u),Vv(w.return,u,s),m||(O=null);break e}w=D.next}}else if(x.tag===18){if(O=x.return,O===null)throw Error(n(341));O.lanes|=u,w=O.alternate,w!==null&&(w.lanes|=u),Vv(O,u,s),O=null}else O=x.child;if(O!==null)O.return=x;else for(O=x;O!==null;){if(O===s){O=null;break}if(x=O.sibling,x!==null){x.return=O.return,O=x;break}O=O.return}x=O}}function ff(s,o,u,m){s=null;for(var x=o,w=!1;x!==null;){if(!w){if((x.flags&524288)!==0)w=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var O=x.alternate;if(O===null)throw Error(n(387));if(O=O.memoizedProps,O!==null){var D=x.type;Zn(x.pendingProps.value,O.value)||(s!==null?s.push(D):s=[D])}}else if(x===Le.current){if(O=x.alternate,O===null)throw Error(n(387));O.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(s!==null?s.push($f):s=[$f])}x=x.return}s!==null&&Bv(o,s,u,m),o.flags|=262144}function Ym(s){for(s=s.firstContext;s!==null;){if(!Zn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Zl(s){Ql=s,ws=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function yn(s){return VS(Ql,s)}function Xm(s,o){return Ql===null&&Zl(s),VS(s,o)}function VS(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ws===null){if(s===null)throw Error(n(308));ws=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else ws=ws.next=o;return u}var p7=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,m){s.push(m)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},g7=t.unstable_scheduleCallback,y7=t.unstable_NormalPriority,Vr={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uv(){return{controller:new p7,data:new Map,refCount:0}}function hf(s){s.refCount--,s.refCount===0&&g7(y7,function(){s.controller.abort()})}var mf=null,$v=0,pu=0,gu=null;function v7(s,o){if(mf===null){var u=mf=[];$v=0,pu=Fx(),gu={status:"pending",value:void 0,then:function(m){u.push(m)}}}return $v++,o.then(BS,BS),o}function BS(){if(--$v===0&&mf!==null){gu!==null&&(gu.status="fulfilled");var s=mf;mf=null,pu=0,gu=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function x7(s,o){var u=[],m={status:"pending",value:null,reason:null,then:function(x){u.push(x)}};return s.then(function(){m.status="fulfilled",m.value=o;for(var x=0;x<u.length;x++)(0,u[x])(o)},function(x){for(m.status="rejected",m.reason=x,x=0;x<u.length;x++)(0,u[x])(void 0)}),m}var US=W.S;W.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&v7(s,o),US!==null&&US(s,o)};var Jl=Y(null);function zv(){var s=Jl.current;return s!==null?s:Mt.pooledCache}function Qm(s,o){o===null?Q(Jl,Jl.current):Q(Jl,o.pool)}function $S(){var s=zv();return s===null?null:{parent:Vr._currentValue,pool:s}}var pf=Error(n(460)),zS=Error(n(474)),Zm=Error(n(542)),Fv={then:function(){}};function FS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Jm(){}function qS(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(Jm,Jm),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,KS(s),s;default:if(typeof o.status=="string")o.then(Jm,Jm);else{if(s=Mt,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(m){if(o.status==="pending"){var x=o;x.status="fulfilled",x.value=m}},function(m){if(o.status==="pending"){var x=o;x.status="rejected",x.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,KS(s),s}throw gf=o,pf}}var gf=null;function HS(){if(gf===null)throw Error(n(459));var s=gf;return gf=null,s}function KS(s){if(s===pf||s===Zm)throw Error(n(483))}var So=!1;function qv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function To(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function No(s,o,u){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(vt&2)!==0){var x=m.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),m.pending=o,o=Hm(s),OS(s,null,u),o}return qm(s,m,o,u),Hm(s)}function yf(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=s.pendingLanes,u|=m,o.lanes=u,Sa(s,u)}}function Kv(s,o){var u=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var x=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?x=w=O:w=w.next=O,u=u.next}while(u!==null);w===null?x=w=o:w=w.next=o}else x=w=o;u={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var Gv=!1;function vf(){if(Gv){var s=gu;if(s!==null)throw s}}function xf(s,o,u,m){Gv=!1;var x=s.updateQueue;So=!1;var w=x.firstBaseUpdate,O=x.lastBaseUpdate,D=x.shared.pending;if(D!==null){x.shared.pending=null;var H=D,ee=H.next;H.next=null,O===null?w=ee:O.next=ee,O=H;var de=s.alternate;de!==null&&(de=de.updateQueue,D=de.lastBaseUpdate,D!==O&&(D===null?de.firstBaseUpdate=ee:D.next=ee,de.lastBaseUpdate=H))}if(w!==null){var ge=x.baseState;O=0,de=ee=H=null,D=w;do{var ne=D.lane&-536870913,ie=ne!==D.lane;if(ie?(ot&ne)===ne:(m&ne)===ne){ne!==0&&ne===pu&&(Gv=!0),de!==null&&(de=de.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var He=s,Ue=D;ne=o;var Tt=u;switch(Ue.tag){case 1:if(He=Ue.payload,typeof He=="function"){ge=He.call(Tt,ge,ne);break e}ge=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Ue.payload,ne=typeof He=="function"?He.call(Tt,ge,ne):He,ne==null)break e;ge=p({},ge,ne);break e;case 2:So=!0}}ne=D.callback,ne!==null&&(s.flags|=64,ie&&(s.flags|=8192),ie=x.callbacks,ie===null?x.callbacks=[ne]:ie.push(ne))}else ie={lane:ne,tag:D.tag,payload:D.payload,callback:D.callback,next:null},de===null?(ee=de=ie,H=ge):de=de.next=ie,O|=ne;if(D=D.next,D===null){if(D=x.shared.pending,D===null)break;ie=D,D=ie.next,ie.next=null,x.lastBaseUpdate=ie,x.shared.pending=null}}while(!0);de===null&&(H=ge),x.baseState=H,x.firstBaseUpdate=ee,x.lastBaseUpdate=de,w===null&&(x.shared.lanes=0),Do|=O,s.lanes=O,s.memoizedState=ge}}function GS(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function WS(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)GS(u[s],o)}var yu=Y(null),ep=Y(0);function YS(s,o){s=Cs,Q(ep,s),Q(yu,o),Cs=s|o.baseLanes}function Wv(){Q(ep,Cs),Q(yu,yu.current)}function Yv(){Cs=ep.current,te(yu),te(ep)}var jo=0,Qe=null,At=null,Nr=null,tp=!1,vu=!1,ec=!1,rp=0,bf=0,xu=null,b7=0;function gr(){throw Error(n(321))}function Xv(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Zn(s[u],o[u]))return!1;return!0}function Qv(s,o,u,m,x,w){return jo=w,Qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=s===null||s.memoizedState===null?OT:IT,ec=!1,w=u(m,x),ec=!1,vu&&(w=QS(o,u,m,x)),XS(s),w}function XS(s){W.H=lp;var o=At!==null&&At.next!==null;if(jo=0,Nr=At=Qe=null,tp=!1,bf=0,xu=null,o)throw Error(n(300));s===null||Gr||(s=s.dependencies,s!==null&&Ym(s)&&(Gr=!0))}function QS(s,o,u,m){Qe=s;var x=0;do{if(vu&&(xu=null),bf=0,vu=!1,25<=x)throw Error(n(301));if(x+=1,Nr=At=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}W.H=N7,w=o(u,m)}while(vu);return w}function w7(){var s=W.H,o=s.useState()[0];return o=typeof o.then=="function"?wf(o):o,s=s.useState()[0],(At!==null?At.memoizedState:null)!==s&&(Qe.flags|=1024),o}function Zv(){var s=rp!==0;return rp=0,s}function Jv(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function ex(s){if(tp){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}tp=!1}jo=0,Nr=At=Qe=null,vu=!1,bf=rp=0,xu=null}function Vn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?Qe.memoizedState=Nr=s:Nr=Nr.next=s,Nr}function jr(){if(At===null){var s=Qe.alternate;s=s!==null?s.memoizedState:null}else s=At.next;var o=Nr===null?Qe.memoizedState:Nr.next;if(o!==null)Nr=o,At=s;else{if(s===null)throw Qe.alternate===null?Error(n(467)):Error(n(310));At=s,s={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Nr===null?Qe.memoizedState=Nr=s:Nr=Nr.next=s}return Nr}function tx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wf(s){var o=bf;return bf+=1,xu===null&&(xu=[]),s=qS(xu,s,o),o=Qe,(Nr===null?o.memoizedState:Nr.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?OT:IT),s}function np(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return wf(s);if(s.$$typeof===j)return yn(s)}throw Error(n(438,String(s)))}function rx(s){var o=null,u=Qe.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=Qe.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(x){return x.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=tx(),Qe.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),m=0;m<s;m++)u[m]=U;return o.index++,u}function Es(s,o){return typeof o=="function"?o(s):o}function ip(s){var o=jr();return nx(o,At,s)}function nx(s,o,u){var m=s.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var x=s.baseQueue,w=m.pending;if(w!==null){if(x!==null){var O=x.next;x.next=w.next,w.next=O}o.baseQueue=x=w,m.pending=null}if(w=s.baseState,x===null)s.memoizedState=w;else{o=x.next;var D=O=null,H=null,ee=o,de=!1;do{var ge=ee.lane&-536870913;if(ge!==ee.lane?(ot&ge)===ge:(jo&ge)===ge){var ne=ee.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ge===pu&&(de=!0);else if((jo&ne)===ne){ee=ee.next,ne===pu&&(de=!0);continue}else ge={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(D=H=ge,O=w):H=H.next=ge,Qe.lanes|=ne,Do|=ne;ge=ee.action,ec&&u(w,ge),w=ee.hasEagerState?ee.eagerState:u(w,ge)}else ne={lane:ge,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(D=H=ne,O=w):H=H.next=ne,Qe.lanes|=ge,Do|=ge;ee=ee.next}while(ee!==null&&ee!==o);if(H===null?O=w:H.next=D,!Zn(w,s.memoizedState)&&(Gr=!0,de&&(u=gu,u!==null)))throw u;s.memoizedState=w,s.baseState=O,s.baseQueue=H,m.lastRenderedState=w}return x===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function ix(s){var o=jr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var m=u.dispatch,x=u.pending,w=o.memoizedState;if(x!==null){u.pending=null;var O=x=x.next;do w=s(w,O.action),O=O.next;while(O!==x);Zn(w,o.memoizedState)||(Gr=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,m]}function ZS(s,o,u){var m=Qe,x=jr(),w=mt;if(w){if(u===void 0)throw Error(n(407));u=u()}else u=o();var O=!Zn((At||x).memoizedState,u);O&&(x.memoizedState=u,Gr=!0),x=x.queue;var D=tT.bind(null,m,x,s);if(_f(2048,8,D,[s]),x.getSnapshot!==o||O||Nr!==null&&Nr.memoizedState.tag&1){if(m.flags|=2048,bu(9,ap(),eT.bind(null,m,x,u,o),null),Mt===null)throw Error(n(349));w||(jo&124)!==0||JS(m,o,u)}return u}function JS(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Qe.updateQueue,o===null?(o=tx(),Qe.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function eT(s,o,u,m){o.value=u,o.getSnapshot=m,rT(o)&&nT(s)}function tT(s,o,u){return u(function(){rT(o)&&nT(s)})}function rT(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Zn(s,u)}catch{return!0}}function nT(s){var o=du(s,2);o!==null&&ii(o,s,2)}function ax(s){var o=Vn();if(typeof s=="function"){var u=s;if(s=u(),ec){nn(!0);try{u()}finally{nn(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:s},o}function iT(s,o,u,m){return s.baseState=u,nx(s,At,typeof m=="function"?m:Es)}function _7(s,o,u,m,x){if(op(s))throw Error(n(485));if(s=o.action,s!==null){var w={payload:x,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};W.T!==null?u(!0):w.isTransition=!1,m(w),u=o.pending,u===null?(w.next=o.pending=w,aT(o,w)):(w.next=u.next,o.pending=u.next=w)}}function aT(s,o){var u=o.action,m=o.payload,x=s.state;if(o.isTransition){var w=W.T,O={};W.T=O;try{var D=u(x,m),H=W.S;H!==null&&H(O,D),sT(s,o,D)}catch(ee){sx(s,o,ee)}finally{W.T=w}}else try{w=u(x,m),sT(s,o,w)}catch(ee){sx(s,o,ee)}}function sT(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){oT(s,o,m)},function(m){return sx(s,o,m)}):oT(s,o,u)}function oT(s,o,u){o.status="fulfilled",o.value=u,lT(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,aT(s,u)))}function sx(s,o,u){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,lT(o),o=o.next;while(o!==m)}s.action=null}function lT(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function cT(s,o){return o}function uT(s,o){if(mt){var u=Mt.formState;if(u!==null){e:{var m=Qe;if(mt){if(cr){t:{for(var x=cr,w=Ca;x.nodeType!==8;){if(!w){x=null;break t}if(x=sa(x.nextSibling),x===null){x=null;break t}}w=x.data,x=w==="F!"||w==="F"?x:null}if(x){cr=sa(x.nextSibling),m=x.data==="F!";break e}}Xl(m)}m=!1}m&&(o=u[0])}}return u=Vn(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cT,lastRenderedState:o},u.queue=m,u=CT.bind(null,Qe,m),m.dispatch=u,m=ax(!1),w=dx.bind(null,Qe,!1,m.queue),m=Vn(),x={state:o,dispatch:null,action:s,pending:null},m.queue=x,u=_7.bind(null,Qe,x,w,u),x.dispatch=u,m.memoizedState=s,[o,u,!1]}function dT(s){var o=jr();return fT(o,At,s)}function fT(s,o,u){if(o=nx(s,o,cT)[0],s=ip(Es)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=wf(o)}catch(O){throw O===pf?Zm:O}else m=o;o=jr();var x=o.queue,w=x.dispatch;return u!==o.memoizedState&&(Qe.flags|=2048,bu(9,ap(),E7.bind(null,x,u),null)),[m,w,s]}function E7(s,o){s.action=o}function hT(s){var o=jr(),u=At;if(u!==null)return fT(o,u,s);jr(),o=o.memoizedState,u=jr();var m=u.queue.dispatch;return u.memoizedState=s,[o,m,!1]}function bu(s,o,u,m){return s={tag:s,create:u,deps:m,inst:o,next:null},o=Qe.updateQueue,o===null&&(o=tx(),Qe.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(m=u.next,u.next=s,s.next=m,o.lastEffect=s),s}function ap(){return{destroy:void 0,resource:void 0}}function mT(){return jr().memoizedState}function sp(s,o,u,m){var x=Vn();m=m===void 0?null:m,Qe.flags|=s,x.memoizedState=bu(1|o,ap(),u,m)}function _f(s,o,u,m){var x=jr();m=m===void 0?null:m;var w=x.memoizedState.inst;At!==null&&m!==null&&Xv(m,At.memoizedState.deps)?x.memoizedState=bu(o,w,u,m):(Qe.flags|=s,x.memoizedState=bu(1|o,w,u,m))}function pT(s,o){sp(8390656,8,s,o)}function gT(s,o){_f(2048,8,s,o)}function yT(s,o){return _f(4,2,s,o)}function vT(s,o){return _f(4,4,s,o)}function xT(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function bT(s,o,u){u=u!=null?u.concat([s]):null,_f(4,4,xT.bind(null,o,s),u)}function ox(){}function wT(s,o){var u=jr();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Xv(o,m[1])?m[0]:(u.memoizedState=[s,o],s)}function _T(s,o){var u=jr();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Xv(o,m[1]))return m[0];if(m=s(),ec){nn(!0);try{s()}finally{nn(!1)}}return u.memoizedState=[m,o],m}function lx(s,o,u){return u===void 0||(jo&1073741824)!==0?s.memoizedState=o:(s.memoizedState=u,s=SN(),Qe.lanes|=s,Do|=s,u)}function ET(s,o,u,m){return Zn(u,o)?u:yu.current!==null?(s=lx(s,u,m),Zn(s,o)||(Gr=!0),s):(jo&42)===0?(Gr=!0,s.memoizedState=u):(s=SN(),Qe.lanes|=s,Do|=s,o)}function AT(s,o,u,m,x){var w=K.p;K.p=w!==0&&8>w?w:8;var O=W.T,D={};W.T=D,dx(s,!1,o,u);try{var H=x(),ee=W.S;if(ee!==null&&ee(D,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var de=x7(H,m);Ef(s,o,de,ni(s))}else Ef(s,o,m,ni(s))}catch(ge){Ef(s,o,{then:function(){},status:"rejected",reason:ge},ni())}finally{K.p=w,W.T=O}}function A7(){}function cx(s,o,u,m){if(s.tag!==5)throw Error(n(476));var x=ST(s).queue;AT(s,x,o,le,u===null?A7:function(){return TT(s),u(m)})}function ST(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:le},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function TT(s){var o=ST(s).next.queue;Ef(s,o,{},ni())}function ux(){return yn($f)}function NT(){return jr().memoizedState}function jT(){return jr().memoizedState}function S7(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=ni();s=To(u);var m=No(o,s,u);m!==null&&(ii(m,o,u),yf(m,o,u)),o={cache:Uv()},s.payload=o;return}o=o.return}}function T7(s,o,u){var m=ni();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},op(s)?PT(o,u):(u=Pv(s,o,u,m),u!==null&&(ii(u,s,m),kT(u,o,m)))}function CT(s,o,u){var m=ni();Ef(s,o,u,m)}function Ef(s,o,u,m){var x={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(op(s))PT(o,x);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var O=o.lastRenderedState,D=w(O,u);if(x.hasEagerState=!0,x.eagerState=D,Zn(D,O))return qm(s,o,x,0),Mt===null&&Fm(),!1}catch{}finally{}if(u=Pv(s,o,x,m),u!==null)return ii(u,s,m),kT(u,o,m),!0}return!1}function dx(s,o,u,m){if(m={lane:2,revertLane:Fx(),action:m,hasEagerState:!1,eagerState:null,next:null},op(s)){if(o)throw Error(n(479))}else o=Pv(s,u,m,2),o!==null&&ii(o,s,2)}function op(s){var o=s.alternate;return s===Qe||o!==null&&o===Qe}function PT(s,o){vu=tp=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function kT(s,o,u){if((u&4194048)!==0){var m=o.lanes;m&=s.pendingLanes,u|=m,o.lanes=u,Sa(s,u)}}var lp={readContext:yn,use:np,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useLayoutEffect:gr,useInsertionEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useSyncExternalStore:gr,useId:gr,useHostTransitionStatus:gr,useFormState:gr,useActionState:gr,useOptimistic:gr,useMemoCache:gr,useCacheRefresh:gr},OT={readContext:yn,use:np,useCallback:function(s,o){return Vn().memoizedState=[s,o===void 0?null:o],s},useContext:yn,useEffect:pT,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,sp(4194308,4,xT.bind(null,o,s),u)},useLayoutEffect:function(s,o){return sp(4194308,4,s,o)},useInsertionEffect:function(s,o){sp(4,2,s,o)},useMemo:function(s,o){var u=Vn();o=o===void 0?null:o;var m=s();if(ec){nn(!0);try{s()}finally{nn(!1)}}return u.memoizedState=[m,o],m},useReducer:function(s,o,u){var m=Vn();if(u!==void 0){var x=u(o);if(ec){nn(!0);try{u(o)}finally{nn(!1)}}}else x=o;return m.memoizedState=m.baseState=x,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:x},m.queue=s,s=s.dispatch=T7.bind(null,Qe,s),[m.memoizedState,s]},useRef:function(s){var o=Vn();return s={current:s},o.memoizedState=s},useState:function(s){s=ax(s);var o=s.queue,u=CT.bind(null,Qe,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:ox,useDeferredValue:function(s,o){var u=Vn();return lx(u,s,o)},useTransition:function(){var s=ax(!1);return s=AT.bind(null,Qe,s.queue,!0,!1),Vn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var m=Qe,x=Vn();if(mt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Mt===null)throw Error(n(349));(ot&124)!==0||JS(m,o,u)}x.memoizedState=u;var w={value:u,getSnapshot:o};return x.queue=w,pT(tT.bind(null,m,w,s),[s]),m.flags|=2048,bu(9,ap(),eT.bind(null,m,w,u,o),null),u},useId:function(){var s=Vn(),o=Mt.identifierPrefix;if(mt){var u=bs,m=xs;u=(m&~(1<<32-an(m)-1)).toString(32)+u,o="«"+o+"R"+u,u=rp++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=b7++,o="«"+o+"r"+u.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:ux,useFormState:uT,useActionState:uT,useOptimistic:function(s){var o=Vn();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=dx.bind(null,Qe,!0,u),u.dispatch=o,[s,o]},useMemoCache:rx,useCacheRefresh:function(){return Vn().memoizedState=S7.bind(null,Qe)}},IT={readContext:yn,use:np,useCallback:wT,useContext:yn,useEffect:gT,useImperativeHandle:bT,useInsertionEffect:yT,useLayoutEffect:vT,useMemo:_T,useReducer:ip,useRef:mT,useState:function(){return ip(Es)},useDebugValue:ox,useDeferredValue:function(s,o){var u=jr();return ET(u,At.memoizedState,s,o)},useTransition:function(){var s=ip(Es)[0],o=jr().memoizedState;return[typeof s=="boolean"?s:wf(s),o]},useSyncExternalStore:ZS,useId:NT,useHostTransitionStatus:ux,useFormState:dT,useActionState:dT,useOptimistic:function(s,o){var u=jr();return iT(u,At,s,o)},useMemoCache:rx,useCacheRefresh:jT},N7={readContext:yn,use:np,useCallback:wT,useContext:yn,useEffect:gT,useImperativeHandle:bT,useInsertionEffect:yT,useLayoutEffect:vT,useMemo:_T,useReducer:ix,useRef:mT,useState:function(){return ix(Es)},useDebugValue:ox,useDeferredValue:function(s,o){var u=jr();return At===null?lx(u,s,o):ET(u,At.memoizedState,s,o)},useTransition:function(){var s=ix(Es)[0],o=jr().memoizedState;return[typeof s=="boolean"?s:wf(s),o]},useSyncExternalStore:ZS,useId:NT,useHostTransitionStatus:ux,useFormState:hT,useActionState:hT,useOptimistic:function(s,o){var u=jr();return At!==null?iT(u,At,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:rx,useCacheRefresh:jT},wu=null,Af=0;function cp(s){var o=Af;return Af+=1,wu===null&&(wu=[]),qS(wu,s,o)}function Sf(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function up(s,o){throw o.$$typeof===g?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function RT(s){var o=s._init;return o(s._payload)}function DT(s){function o(X,G){if(s){var Z=X.deletions;Z===null?(X.deletions=[G],X.flags|=16):Z.push(G)}}function u(X,G){if(!s)return null;for(;G!==null;)o(X,G),G=G.sibling;return null}function m(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function x(X,G){return X=vs(X,G),X.index=0,X.sibling=null,X}function w(X,G,Z){return X.index=Z,s?(Z=X.alternate,Z!==null?(Z=Z.index,Z<G?(X.flags|=67108866,G):Z):(X.flags|=67108866,G)):(X.flags|=1048576,G)}function O(X){return s&&X.alternate===null&&(X.flags|=67108866),X}function D(X,G,Z,he){return G===null||G.tag!==6?(G=Ov(Z,X.mode,he),G.return=X,G):(G=x(G,Z),G.return=X,G)}function H(X,G,Z,he){var Ce=Z.type;return Ce===A?de(X,G,Z.props.children,he,Z.key):G!==null&&(G.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===P&&RT(Ce)===G.type)?(G=x(G,Z.props),Sf(G,Z),G.return=X,G):(G=Km(Z.type,Z.key,Z.props,null,X.mode,he),Sf(G,Z),G.return=X,G)}function ee(X,G,Z,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=Iv(Z,X.mode,he),G.return=X,G):(G=x(G,Z.children||[]),G.return=X,G)}function de(X,G,Z,he,Ce){return G===null||G.tag!==7?(G=Kl(Z,X.mode,he,Ce),G.return=X,G):(G=x(G,Z),G.return=X,G)}function ge(X,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Ov(""+G,X.mode,Z),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return Z=Km(G.type,G.key,G.props,null,X.mode,Z),Sf(Z,G),Z.return=X,Z;case b:return G=Iv(G,X.mode,Z),G.return=X,G;case P:var he=G._init;return G=he(G._payload),ge(X,G,Z)}if(fe(G)||q(G))return G=Kl(G,X.mode,Z,null),G.return=X,G;if(typeof G.then=="function")return ge(X,cp(G),Z);if(G.$$typeof===j)return ge(X,Xm(X,G),Z);up(X,G)}return null}function ne(X,G,Z,he){var Ce=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ce!==null?null:D(X,G,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===Ce?H(X,G,Z,he):null;case b:return Z.key===Ce?ee(X,G,Z,he):null;case P:return Ce=Z._init,Z=Ce(Z._payload),ne(X,G,Z,he)}if(fe(Z)||q(Z))return Ce!==null?null:de(X,G,Z,he,null);if(typeof Z.then=="function")return ne(X,G,cp(Z),he);if(Z.$$typeof===j)return ne(X,G,Xm(X,Z),he);up(X,Z)}return null}function ie(X,G,Z,he,Ce){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return X=X.get(Z)||null,D(G,X,""+he,Ce);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case v:return X=X.get(he.key===null?Z:he.key)||null,H(G,X,he,Ce);case b:return X=X.get(he.key===null?Z:he.key)||null,ee(G,X,he,Ce);case P:var Ze=he._init;return he=Ze(he._payload),ie(X,G,Z,he,Ce)}if(fe(he)||q(he))return X=X.get(Z)||null,de(G,X,he,Ce,null);if(typeof he.then=="function")return ie(X,G,Z,cp(he),Ce);if(he.$$typeof===j)return ie(X,G,Z,Xm(G,he),Ce);up(G,he)}return null}function He(X,G,Z,he){for(var Ce=null,Ze=null,Oe=G,ze=G=0,Yr=null;Oe!==null&&ze<Z.length;ze++){Oe.index>ze?(Yr=Oe,Oe=null):Yr=Oe.sibling;var dt=ne(X,Oe,Z[ze],he);if(dt===null){Oe===null&&(Oe=Yr);break}s&&Oe&&dt.alternate===null&&o(X,Oe),G=w(dt,G,ze),Ze===null?Ce=dt:Ze.sibling=dt,Ze=dt,Oe=Yr}if(ze===Z.length)return u(X,Oe),mt&&Wl(X,ze),Ce;if(Oe===null){for(;ze<Z.length;ze++)Oe=ge(X,Z[ze],he),Oe!==null&&(G=w(Oe,G,ze),Ze===null?Ce=Oe:Ze.sibling=Oe,Ze=Oe);return mt&&Wl(X,ze),Ce}for(Oe=m(Oe);ze<Z.length;ze++)Yr=ie(Oe,X,ze,Z[ze],he),Yr!==null&&(s&&Yr.alternate!==null&&Oe.delete(Yr.key===null?ze:Yr.key),G=w(Yr,G,ze),Ze===null?Ce=Yr:Ze.sibling=Yr,Ze=Yr);return s&&Oe.forEach(function(qo){return o(X,qo)}),mt&&Wl(X,ze),Ce}function Ue(X,G,Z,he){if(Z==null)throw Error(n(151));for(var Ce=null,Ze=null,Oe=G,ze=G=0,Yr=null,dt=Z.next();Oe!==null&&!dt.done;ze++,dt=Z.next()){Oe.index>ze?(Yr=Oe,Oe=null):Yr=Oe.sibling;var qo=ne(X,Oe,dt.value,he);if(qo===null){Oe===null&&(Oe=Yr);break}s&&Oe&&qo.alternate===null&&o(X,Oe),G=w(qo,G,ze),Ze===null?Ce=qo:Ze.sibling=qo,Ze=qo,Oe=Yr}if(dt.done)return u(X,Oe),mt&&Wl(X,ze),Ce;if(Oe===null){for(;!dt.done;ze++,dt=Z.next())dt=ge(X,dt.value,he),dt!==null&&(G=w(dt,G,ze),Ze===null?Ce=dt:Ze.sibling=dt,Ze=dt);return mt&&Wl(X,ze),Ce}for(Oe=m(Oe);!dt.done;ze++,dt=Z.next())dt=ie(Oe,X,ze,dt.value,he),dt!==null&&(s&&dt.alternate!==null&&Oe.delete(dt.key===null?ze:dt.key),G=w(dt,G,ze),Ze===null?Ce=dt:Ze.sibling=dt,Ze=dt);return s&&Oe.forEach(function(jV){return o(X,jV)}),mt&&Wl(X,ze),Ce}function Tt(X,G,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===A&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:e:{for(var Ce=Z.key;G!==null;){if(G.key===Ce){if(Ce=Z.type,Ce===A){if(G.tag===7){u(X,G.sibling),he=x(G,Z.props.children),he.return=X,X=he;break e}}else if(G.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===P&&RT(Ce)===G.type){u(X,G.sibling),he=x(G,Z.props),Sf(he,Z),he.return=X,X=he;break e}u(X,G);break}else o(X,G);G=G.sibling}Z.type===A?(he=Kl(Z.props.children,X.mode,he,Z.key),he.return=X,X=he):(he=Km(Z.type,Z.key,Z.props,null,X.mode,he),Sf(he,Z),he.return=X,X=he)}return O(X);case b:e:{for(Ce=Z.key;G!==null;){if(G.key===Ce)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){u(X,G.sibling),he=x(G,Z.children||[]),he.return=X,X=he;break e}else{u(X,G);break}else o(X,G);G=G.sibling}he=Iv(Z,X.mode,he),he.return=X,X=he}return O(X);case P:return Ce=Z._init,Z=Ce(Z._payload),Tt(X,G,Z,he)}if(fe(Z))return He(X,G,Z,he);if(q(Z)){if(Ce=q(Z),typeof Ce!="function")throw Error(n(150));return Z=Ce.call(Z),Ue(X,G,Z,he)}if(typeof Z.then=="function")return Tt(X,G,cp(Z),he);if(Z.$$typeof===j)return Tt(X,G,Xm(X,Z),he);up(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(u(X,G.sibling),he=x(G,Z),he.return=X,X=he):(u(X,G),he=Ov(Z,X.mode,he),he.return=X,X=he),O(X)):u(X,G)}return function(X,G,Z,he){try{Af=0;var Ce=Tt(X,G,Z,he);return wu=null,Ce}catch(Oe){if(Oe===pf||Oe===Zm)throw Oe;var Ze=Jn(29,Oe,null,X.mode);return Ze.lanes=he,Ze.return=X,Ze}finally{}}}var _u=DT(!0),MT=DT(!1),Ni=Y(null),Pa=null;function Co(s){var o=s.alternate;Q(Br,Br.current&1),Q(Ni,s),Pa===null&&(o===null||yu.current!==null||o.memoizedState!==null)&&(Pa=s)}function LT(s){if(s.tag===22){if(Q(Br,Br.current),Q(Ni,s),Pa===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Pa=s)}}else Po()}function Po(){Q(Br,Br.current),Q(Ni,Ni.current)}function As(s){te(Ni),Pa===s&&(Pa=null),te(Br)}var Br=Y(0);function dp(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||tb(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function fx(s,o,u,m){o=s.memoizedState,u=u(m,o),u=u==null?o:p({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var hx={enqueueSetState:function(s,o,u){s=s._reactInternals;var m=ni(),x=To(m);x.payload=o,u!=null&&(x.callback=u),o=No(s,x,m),o!==null&&(ii(o,s,m),yf(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var m=ni(),x=To(m);x.tag=1,x.payload=o,u!=null&&(x.callback=u),o=No(s,x,m),o!==null&&(ii(o,s,m),yf(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=ni(),m=To(u);m.tag=2,o!=null&&(m.callback=o),o=No(s,m,u),o!==null&&(ii(o,s,u),yf(o,s,u))}};function VT(s,o,u,m,x,w,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,w,O):o.prototype&&o.prototype.isPureReactComponent?!of(u,m)||!of(x,w):!0}function BT(s,o,u,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==s&&hx.enqueueReplaceState(o,o.state,null)}function tc(s,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(s=s.defaultProps){u===o&&(u=p({},u));for(var x in s)u[x]===void 0&&(u[x]=s[x])}return u}var fp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function UT(s){fp(s)}function $T(s){console.error(s)}function zT(s){fp(s)}function hp(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function FT(s,o,u){try{var m=s.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function mx(s,o,u){return u=To(u),u.tag=3,u.payload={element:null},u.callback=function(){hp(s,o)},u}function qT(s){return s=To(s),s.tag=3,s}function HT(s,o,u,m){var x=u.type.getDerivedStateFromError;if(typeof x=="function"){var w=m.value;s.payload=function(){return x(w)},s.callback=function(){FT(o,u,m)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(s.callback=function(){FT(o,u,m),typeof x!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var D=m.stack;this.componentDidCatch(m.value,{componentStack:D!==null?D:""})})}function j7(s,o,u,m,x){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&ff(o,u,x,!0),u=Ni.current,u!==null){switch(u.tag){case 13:return Pa===null?Vx():u.alternate===null&&ur===0&&(ur=3),u.flags&=-257,u.flags|=65536,u.lanes=x,m===Fv?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),Ux(s,m,x)),!1;case 22:return u.flags|=65536,m===Fv?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),Ux(s,m,x)),!1}throw Error(n(435,u.tag))}return Ux(s,m,x),Vx(),!1}if(mt)return o=Ni.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=x,m!==Mv&&(s=Error(n(422),{cause:m}),df(Ei(s,u)))):(m!==Mv&&(o=Error(n(423),{cause:m}),df(Ei(o,u))),s=s.current.alternate,s.flags|=65536,x&=-x,s.lanes|=x,m=Ei(m,u),x=mx(s.stateNode,m,x),Kv(s,x),ur!==4&&(ur=2)),!1;var w=Error(n(520),{cause:m});if(w=Ei(w,u),Of===null?Of=[w]:Of.push(w),ur!==4&&(ur=2),o===null)return!0;m=Ei(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=x&-x,u.lanes|=s,s=mx(u.stateNode,m,s),Kv(u,s),!1;case 1:if(o=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Mo===null||!Mo.has(w))))return u.flags|=65536,x&=-x,u.lanes|=x,x=qT(x),HT(x,s,u,m),Kv(u,x),!1}u=u.return}while(u!==null);return!1}var KT=Error(n(461)),Gr=!1;function sn(s,o,u,m){o.child=s===null?MT(o,null,u,m):_u(o,s.child,u,m)}function GT(s,o,u,m,x){u=u.render;var w=o.ref;if("ref"in m){var O={};for(var D in m)D!=="ref"&&(O[D]=m[D])}else O=m;return Zl(o),m=Qv(s,o,u,O,w,x),D=Zv(),s!==null&&!Gr?(Jv(s,o,x),Ss(s,o,x)):(mt&&D&&Rv(o),o.flags|=1,sn(s,o,m,x),o.child)}function WT(s,o,u,m,x){if(s===null){var w=u.type;return typeof w=="function"&&!kv(w)&&w.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=w,YT(s,o,w,m,x)):(s=Km(u.type,null,m,o,o.mode,x),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!_x(s,x)){var O=w.memoizedProps;if(u=u.compare,u=u!==null?u:of,u(O,m)&&s.ref===o.ref)return Ss(s,o,x)}return o.flags|=1,s=vs(w,m),s.ref=o.ref,s.return=o,o.child=s}function YT(s,o,u,m,x){if(s!==null){var w=s.memoizedProps;if(of(w,m)&&s.ref===o.ref)if(Gr=!1,o.pendingProps=m=w,_x(s,x))(s.flags&131072)!==0&&(Gr=!0);else return o.lanes=s.lanes,Ss(s,o,x)}return px(s,o,u,m,x)}function XT(s,o,u){var m=o.pendingProps,x=m.children,w=s!==null?s.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=w!==null?w.baseLanes|u:u,s!==null){for(x=o.child=s.child,w=0;x!==null;)w=w|x.lanes|x.childLanes,x=x.sibling;o.childLanes=w&~m}else o.childLanes=0,o.child=null;return QT(s,o,m,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Qm(o,w!==null?w.cachePool:null),w!==null?YS(o,w):Wv(),LT(o);else return o.lanes=o.childLanes=536870912,QT(s,o,w!==null?w.baseLanes|u:u,u)}else w!==null?(Qm(o,w.cachePool),YS(o,w),Po(),o.memoizedState=null):(s!==null&&Qm(o,null),Wv(),Po());return sn(s,o,x,u),o.child}function QT(s,o,u,m){var x=zv();return x=x===null?null:{parent:Vr._currentValue,pool:x},o.memoizedState={baseLanes:u,cachePool:x},s!==null&&Qm(o,null),Wv(),LT(o),s!==null&&ff(s,o,m,!0),null}function mp(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function px(s,o,u,m,x){return Zl(o),u=Qv(s,o,u,m,void 0,x),m=Zv(),s!==null&&!Gr?(Jv(s,o,x),Ss(s,o,x)):(mt&&m&&Rv(o),o.flags|=1,sn(s,o,u,x),o.child)}function ZT(s,o,u,m,x,w){return Zl(o),o.updateQueue=null,u=QS(o,m,u,x),XS(s),m=Zv(),s!==null&&!Gr?(Jv(s,o,w),Ss(s,o,w)):(mt&&m&&Rv(o),o.flags|=1,sn(s,o,u,w),o.child)}function JT(s,o,u,m,x){if(Zl(o),o.stateNode===null){var w=fu,O=u.contextType;typeof O=="object"&&O!==null&&(w=yn(O)),w=new u(m,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=hx,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=m,w.state=o.memoizedState,w.refs={},qv(o),O=u.contextType,w.context=typeof O=="object"&&O!==null?yn(O):fu,w.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(fx(o,u,O,m),w.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&hx.enqueueReplaceState(w,w.state,null),xf(o,m,w,x),vf(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(s===null){w=o.stateNode;var D=o.memoizedProps,H=tc(u,D);w.props=H;var ee=w.context,de=u.contextType;O=fu,typeof de=="object"&&de!==null&&(O=yn(de));var ge=u.getDerivedStateFromProps;de=typeof ge=="function"||typeof w.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,de||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D||ee!==O)&&BT(o,w,m,O),So=!1;var ne=o.memoizedState;w.state=ne,xf(o,m,w,x),vf(),ee=o.memoizedState,D||ne!==ee||So?(typeof ge=="function"&&(fx(o,u,ge,m),ee=o.memoizedState),(H=So||VT(o,u,H,m,ne,ee,O))?(de||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ee),w.props=m,w.state=ee,w.context=O,m=H):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{w=o.stateNode,Hv(s,o),O=o.memoizedProps,de=tc(u,O),w.props=de,ge=o.pendingProps,ne=w.context,ee=u.contextType,H=fu,typeof ee=="object"&&ee!==null&&(H=yn(ee)),D=u.getDerivedStateFromProps,(ee=typeof D=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==ge||ne!==H)&&BT(o,w,m,H),So=!1,ne=o.memoizedState,w.state=ne,xf(o,m,w,x),vf();var ie=o.memoizedState;O!==ge||ne!==ie||So||s!==null&&s.dependencies!==null&&Ym(s.dependencies)?(typeof D=="function"&&(fx(o,u,D,m),ie=o.memoizedState),(de=So||VT(o,u,de,m,ne,ie,H)||s!==null&&s.dependencies!==null&&Ym(s.dependencies))?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,ie,H),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,ie,H)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ie),w.props=m,w.state=ie,w.context=H,m=de):(typeof w.componentDidUpdate!="function"||O===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),m=!1)}return w=m,mp(s,o),m=(o.flags&128)!==0,w||m?(w=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,s!==null&&m?(o.child=_u(o,s.child,null,x),o.child=_u(o,null,u,x)):sn(s,o,u,x),o.memoizedState=w.state,s=o.child):s=Ss(s,o,x),s}function eN(s,o,u,m){return uf(),o.flags|=256,sn(s,o,u,m),o.child}var gx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yx(s){return{baseLanes:s,cachePool:$S()}}function vx(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=ji),s}function tN(s,o,u){var m=o.pendingProps,x=!1,w=(o.flags&128)!==0,O;if((O=w)||(O=s!==null&&s.memoizedState===null?!1:(Br.current&2)!==0),O&&(x=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,s===null){if(mt){if(x?Co(o):Po(),mt){var D=cr,H;if(H=D){e:{for(H=D,D=Ca;H.nodeType!==8;){if(!D){D=null;break e}if(H=sa(H.nextSibling),H===null){D=null;break e}}D=H}D!==null?(o.memoizedState={dehydrated:D,treeContext:Gl!==null?{id:xs,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},H=Jn(18,null,null,0),H.stateNode=D,H.return=o,o.child=H,kn=o,cr=null,H=!0):H=!1}H||Xl(o)}if(D=o.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return tb(D)?o.lanes=32:o.lanes=536870912,null;As(o)}return D=m.children,m=m.fallback,x?(Po(),x=o.mode,D=pp({mode:"hidden",children:D},x),m=Kl(m,x,u,null),D.return=o,m.return=o,D.sibling=m,o.child=D,x=o.child,x.memoizedState=yx(u),x.childLanes=vx(s,O,u),o.memoizedState=gx,m):(Co(o),xx(o,D))}if(H=s.memoizedState,H!==null&&(D=H.dehydrated,D!==null)){if(w)o.flags&256?(Co(o),o.flags&=-257,o=bx(s,o,u)):o.memoizedState!==null?(Po(),o.child=s.child,o.flags|=128,o=null):(Po(),x=m.fallback,D=o.mode,m=pp({mode:"visible",children:m.children},D),x=Kl(x,D,u,null),x.flags|=2,m.return=o,x.return=o,m.sibling=x,o.child=m,_u(o,s.child,null,u),m=o.child,m.memoizedState=yx(u),m.childLanes=vx(s,O,u),o.memoizedState=gx,o=x);else if(Co(o),tb(D)){if(O=D.nextSibling&&D.nextSibling.dataset,O)var ee=O.dgst;O=ee,m=Error(n(419)),m.stack="",m.digest=O,df({value:m,source:null,stack:null}),o=bx(s,o,u)}else if(Gr||ff(s,o,u,!1),O=(u&s.childLanes)!==0,Gr||O){if(O=Mt,O!==null&&(m=u&-u,m=(m&42)!==0?1:Cl(m),m=(m&(O.suspendedLanes|u))!==0?0:m,m!==0&&m!==H.retryLane))throw H.retryLane=m,du(s,m),ii(O,s,m),KT;D.data==="$?"||Vx(),o=bx(s,o,u)}else D.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=H.treeContext,cr=sa(D.nextSibling),kn=o,mt=!0,Yl=null,Ca=!1,s!==null&&(Si[Ti++]=xs,Si[Ti++]=bs,Si[Ti++]=Gl,xs=s.id,bs=s.overflow,Gl=o),o=xx(o,m.children),o.flags|=4096);return o}return x?(Po(),x=m.fallback,D=o.mode,H=s.child,ee=H.sibling,m=vs(H,{mode:"hidden",children:m.children}),m.subtreeFlags=H.subtreeFlags&65011712,ee!==null?x=vs(ee,x):(x=Kl(x,D,u,null),x.flags|=2),x.return=o,m.return=o,m.sibling=x,o.child=m,m=x,x=o.child,D=s.child.memoizedState,D===null?D=yx(u):(H=D.cachePool,H!==null?(ee=Vr._currentValue,H=H.parent!==ee?{parent:ee,pool:ee}:H):H=$S(),D={baseLanes:D.baseLanes|u,cachePool:H}),x.memoizedState=D,x.childLanes=vx(s,O,u),o.memoizedState=gx,m):(Co(o),u=s.child,s=u.sibling,u=vs(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,s!==null&&(O=o.deletions,O===null?(o.deletions=[s],o.flags|=16):O.push(s)),o.child=u,o.memoizedState=null,u)}function xx(s,o){return o=pp({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function pp(s,o){return s=Jn(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function bx(s,o,u){return _u(o,s.child,null,u),s=xx(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function rN(s,o,u){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),Vv(s.return,o,u)}function wx(s,o,u,m,x){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:x}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=u,w.tailMode=x)}function nN(s,o,u){var m=o.pendingProps,x=m.revealOrder,w=m.tail;if(sn(s,o,m.children,u),m=Br.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&rN(s,u,o);else if(s.tag===19)rN(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}switch(Q(Br,m),x){case"forwards":for(u=o.child,x=null;u!==null;)s=u.alternate,s!==null&&dp(s)===null&&(x=u),u=u.sibling;u=x,u===null?(x=o.child,o.child=null):(x=u.sibling,u.sibling=null),wx(o,!1,x,u,w);break;case"backwards":for(u=null,x=o.child,o.child=null;x!==null;){if(s=x.alternate,s!==null&&dp(s)===null){o.child=x;break}s=x.sibling,x.sibling=u,u=x,x=s}wx(o,!0,u,null,w);break;case"together":wx(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ss(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Do|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(ff(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=vs(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=vs(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function _x(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Ym(s)))}function C7(s,o,u){switch(o.tag){case 3:Ke(o,o.stateNode.containerInfo),Ao(o,Vr,s.memoizedState.cache),uf();break;case 27:case 5:Ve(o);break;case 4:Ke(o,o.stateNode.containerInfo);break;case 10:Ao(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Co(o),o.flags|=128,null):(u&o.child.childLanes)!==0?tN(s,o,u):(Co(o),s=Ss(s,o,u),s!==null?s.sibling:null);Co(o);break;case 19:var x=(s.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(ff(s,o,u,!1),m=(u&o.childLanes)!==0),x){if(m)return nN(s,o,u);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Q(Br,Br.current),m)break;return null;case 22:case 23:return o.lanes=0,XT(s,o,u);case 24:Ao(o,Vr,s.memoizedState.cache)}return Ss(s,o,u)}function iN(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)Gr=!0;else{if(!_x(s,u)&&(o.flags&128)===0)return Gr=!1,C7(s,o,u);Gr=(s.flags&131072)!==0}else Gr=!1,mt&&(o.flags&1048576)!==0&&RS(o,Wm,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var m=o.elementType,x=m._init;if(m=x(m._payload),o.type=m,typeof m=="function")kv(m)?(s=tc(m,s),o.tag=1,o=JT(null,o,m,s,u)):(o.tag=0,o=px(null,o,m,s,u));else{if(m!=null){if(x=m.$$typeof,x===L){o.tag=11,o=GT(null,o,m,s,u);break e}else if(x===I){o.tag=14,o=WT(null,o,m,s,u);break e}}throw o=xe(m)||m,Error(n(306,o,""))}}return o;case 0:return px(s,o,o.type,o.pendingProps,u);case 1:return m=o.type,x=tc(m,o.pendingProps),JT(s,o,m,x,u);case 3:e:{if(Ke(o,o.stateNode.containerInfo),s===null)throw Error(n(387));m=o.pendingProps;var w=o.memoizedState;x=w.element,Hv(s,o),xf(o,m,null,u);var O=o.memoizedState;if(m=O.cache,Ao(o,Vr,m),m!==w.cache&&Bv(o,[Vr],u,!0),vf(),m=O.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=eN(s,o,m,u);break e}else if(m!==x){x=Ei(Error(n(424)),o),df(x),o=eN(s,o,m,u);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(cr=sa(s.firstChild),kn=o,mt=!0,Yl=null,Ca=!0,u=MT(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(uf(),m===x){o=Ss(s,o,u);break e}sn(s,o,m,u)}o=o.child}return o;case 26:return mp(s,o),s===null?(u=lj(o.type,null,o.pendingProps,null))?o.memoizedState=u:mt||(u=o.type,s=o.pendingProps,m=Cp(we.current).createElement(u),m[tr]=o,m[Mr]=s,ln(m,u,s),Rt(m),o.stateNode=m):o.memoizedState=lj(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Ve(o),s===null&&mt&&(m=o.stateNode=aj(o.type,o.pendingProps,we.current),kn=o,Ca=!0,x=cr,Bo(o.type)?(rb=x,cr=sa(m.firstChild)):cr=x),sn(s,o,o.pendingProps.children,u),mp(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&mt&&((x=m=cr)&&(m=nV(m,o.type,o.pendingProps,Ca),m!==null?(o.stateNode=m,kn=o,cr=sa(m.firstChild),Ca=!1,x=!0):x=!1),x||Xl(o)),Ve(o),x=o.type,w=o.pendingProps,O=s!==null?s.memoizedProps:null,m=w.children,Zx(x,w)?m=null:O!==null&&Zx(x,O)&&(o.flags|=32),o.memoizedState!==null&&(x=Qv(s,o,w7,null,null,u),$f._currentValue=x),mp(s,o),sn(s,o,m,u),o.child;case 6:return s===null&&mt&&((s=u=cr)&&(u=iV(u,o.pendingProps,Ca),u!==null?(o.stateNode=u,kn=o,cr=null,s=!0):s=!1),s||Xl(o)),null;case 13:return tN(s,o,u);case 4:return Ke(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=_u(o,null,m,u):sn(s,o,m,u),o.child;case 11:return GT(s,o,o.type,o.pendingProps,u);case 7:return sn(s,o,o.pendingProps,u),o.child;case 8:return sn(s,o,o.pendingProps.children,u),o.child;case 12:return sn(s,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,Ao(o,o.type,m.value),sn(s,o,m.children,u),o.child;case 9:return x=o.type._context,m=o.pendingProps.children,Zl(o),x=yn(x),m=m(x),o.flags|=1,sn(s,o,m,u),o.child;case 14:return WT(s,o,o.type,o.pendingProps,u);case 15:return YT(s,o,o.type,o.pendingProps,u);case 19:return nN(s,o,u);case 31:return m=o.pendingProps,u=o.mode,m={mode:m.mode,children:m.children},s===null?(u=pp(m,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=vs(s.child,m),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return XT(s,o,u);case 24:return Zl(o),m=yn(Vr),s===null?(x=zv(),x===null&&(x=Mt,w=Uv(),x.pooledCache=w,w.refCount++,w!==null&&(x.pooledCacheLanes|=u),x=w),o.memoizedState={parent:m,cache:x},qv(o),Ao(o,Vr,x)):((s.lanes&u)!==0&&(Hv(s,o),xf(o,null,null,u),vf()),x=s.memoizedState,w=o.memoizedState,x.parent!==m?(x={parent:m,cache:m},o.memoizedState=x,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=x),Ao(o,Vr,m)):(m=w.cache,Ao(o,Vr,m),m!==x.cache&&Bv(o,[Vr],u,!0))),sn(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ts(s){s.flags|=4}function aN(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!hj(o)){if(o=Ni.current,o!==null&&((ot&4194048)===ot?Pa!==null:(ot&62914560)!==ot&&(ot&536870912)===0||o!==Pa))throw gf=Fv,zS;s.flags|=8192}}function gp(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Ea():536870912,s.lanes|=o,Tu|=o)}function Tf(s,o){if(!mt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function nr(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,m=0;if(o)for(var x=s.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=m,s.childLanes=u,o}function P7(s,o,u){var m=o.pendingProps;switch(Dv(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(o),null;case 1:return nr(o),null;case 3:return u=o.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),_s(Vr),_e(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(cf(o)?Ts(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,LS())),nr(o),null;case 26:return u=o.memoizedState,s===null?(Ts(o),u!==null?(nr(o),aN(o,u)):(nr(o),o.flags&=-16777217)):u?u!==s.memoizedState?(Ts(o),nr(o),aN(o,u)):(nr(o),o.flags&=-16777217):(s.memoizedProps!==m&&Ts(o),nr(o),o.flags&=-16777217),null;case 27:Se(o),u=we.current;var x=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==m&&Ts(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return nr(o),null}s=oe.current,cf(o)?DS(o):(s=aj(x,m,u),o.stateNode=s,Ts(o))}return nr(o),null;case 5:if(Se(o),u=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==m&&Ts(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return nr(o),null}if(s=oe.current,cf(o))DS(o);else{switch(x=Cp(we.current),s){case 1:s=x.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=x.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=x.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof m.is=="string"?x.createElement("select",{is:m.is}):x.createElement("select"),m.multiple?s.multiple=!0:m.size&&(s.size=m.size);break;default:s=typeof m.is=="string"?x.createElement(u,{is:m.is}):x.createElement(u)}}s[tr]=o,s[Mr]=m;e:for(x=o.child;x!==null;){if(x.tag===5||x.tag===6)s.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===o)break e;for(;x.sibling===null;){if(x.return===null||x.return===o)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}o.stateNode=s;e:switch(ln(s,u,m),u){case"button":case"input":case"select":case"textarea":s=!!m.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ts(o)}}return nr(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==m&&Ts(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(s=we.current,cf(o)){if(s=o.stateNode,u=o.memoizedProps,m=null,x=kn,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}s[tr]=o,s=!!(s.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||ZN(s.nodeValue,u)),s||Xl(o)}else s=Cp(s).createTextNode(m),s[tr]=o,o.stateNode=s}return nr(o),null;case 13:if(m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(x=cf(o),m!==null&&m.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[tr]=o}else uf(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;nr(o),x=!1}else x=LS(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=x),x=!0;if(!x)return o.flags&256?(As(o),o):(As(o),null)}if(As(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=m!==null,s=s!==null&&s.memoizedState!==null,u){m=o.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool);var w=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==x&&(m.flags|=2048)}return u!==s&&u&&(o.child.flags|=8192),gp(o,o.updateQueue),nr(o),null;case 4:return _e(),s===null&&Gx(o.stateNode.containerInfo),nr(o),null;case 10:return _s(o.type),nr(o),null;case 19:if(te(Br),x=o.memoizedState,x===null)return nr(o),null;if(m=(o.flags&128)!==0,w=x.rendering,w===null)if(m)Tf(x,!1);else{if(ur!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(w=dp(s),w!==null){for(o.flags|=128,Tf(x,!1),s=w.updateQueue,o.updateQueue=s,gp(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)IS(u,s),u=u.sibling;return Q(Br,Br.current&1|2),o.child}s=s.sibling}x.tail!==null&&$e()>xp&&(o.flags|=128,m=!0,Tf(x,!1),o.lanes=4194304)}else{if(!m)if(s=dp(w),s!==null){if(o.flags|=128,m=!0,s=s.updateQueue,o.updateQueue=s,gp(o,s),Tf(x,!0),x.tail===null&&x.tailMode==="hidden"&&!w.alternate&&!mt)return nr(o),null}else 2*$e()-x.renderingStartTime>xp&&u!==536870912&&(o.flags|=128,m=!0,Tf(x,!1),o.lanes=4194304);x.isBackwards?(w.sibling=o.child,o.child=w):(s=x.last,s!==null?s.sibling=w:o.child=w,x.last=w)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=$e(),o.sibling=null,s=Br.current,Q(Br,m?s&1|2:s&1),o):(nr(o),null);case 22:case 23:return As(o),Yv(),m=o.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(nr(o),o.subtreeFlags&6&&(o.flags|=8192)):nr(o),u=o.updateQueue,u!==null&&gp(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),s!==null&&te(Jl),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),_s(Vr),nr(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function k7(s,o){switch(Dv(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return _s(Vr),_e(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Se(o),null;case 13:if(As(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));uf()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return te(Br),null;case 4:return _e(),null;case 10:return _s(o.type),null;case 22:case 23:return As(o),Yv(),s!==null&&te(Jl),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return _s(Vr),null;case 25:return null;default:return null}}function sN(s,o){switch(Dv(o),o.tag){case 3:_s(Vr),_e();break;case 26:case 27:case 5:Se(o);break;case 4:_e();break;case 13:As(o);break;case 19:te(Br);break;case 10:_s(o.type);break;case 22:case 23:As(o),Yv(),s!==null&&te(Jl);break;case 24:_s(Vr)}}function Nf(s,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var x=m.next;u=x;do{if((u.tag&s)===s){m=void 0;var w=u.create,O=u.inst;m=w(),O.destroy=m}u=u.next}while(u!==x)}}catch(D){Pt(o,o.return,D)}}function ko(s,o,u){try{var m=o.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var w=x.next;m=w;do{if((m.tag&s)===s){var O=m.inst,D=O.destroy;if(D!==void 0){O.destroy=void 0,x=o;var H=u,ee=D;try{ee()}catch(de){Pt(x,H,de)}}}m=m.next}while(m!==w)}}catch(de){Pt(o,o.return,de)}}function oN(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{WS(o,u)}catch(m){Pt(s,s.return,m)}}}function lN(s,o,u){u.props=tc(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(m){Pt(s,o,m)}}function jf(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof u=="function"?s.refCleanup=u(m):u.current=m}}catch(x){Pt(s,o,x)}}function ka(s,o){var u=s.ref,m=s.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(x){Pt(s,o,x)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(x){Pt(s,o,x)}else u.current=null}function cN(s){var o=s.type,u=s.memoizedProps,m=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(x){Pt(s,s.return,x)}}function Ex(s,o,u){try{var m=s.stateNode;Z7(m,s.type,u,o),m[Mr]=o}catch(x){Pt(s,s.return,x)}}function uN(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Bo(s.type)||s.tag===4}function Ax(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||uN(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Bo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Sx(s,o,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=jp));else if(m!==4&&(m===27&&Bo(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(Sx(s,o,u),s=s.sibling;s!==null;)Sx(s,o,u),s=s.sibling}function yp(s,o,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(m!==4&&(m===27&&Bo(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(yp(s,o,u),s=s.sibling;s!==null;)yp(s,o,u),s=s.sibling}function dN(s){var o=s.stateNode,u=s.memoizedProps;try{for(var m=s.type,x=o.attributes;x.length;)o.removeAttributeNode(x[0]);ln(o,m,u),o[tr]=s,o[Mr]=u}catch(w){Pt(s,s.return,w)}}var Ns=!1,yr=!1,Tx=!1,fN=typeof WeakSet=="function"?WeakSet:Set,Wr=null;function O7(s,o){if(s=s.containerInfo,Xx=Dp,s=ES(s),Av(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var x=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var O=0,D=-1,H=-1,ee=0,de=0,ge=s,ne=null;t:for(;;){for(var ie;ge!==u||x!==0&&ge.nodeType!==3||(D=O+x),ge!==w||m!==0&&ge.nodeType!==3||(H=O+m),ge.nodeType===3&&(O+=ge.nodeValue.length),(ie=ge.firstChild)!==null;)ne=ge,ge=ie;for(;;){if(ge===s)break t;if(ne===u&&++ee===x&&(D=O),ne===w&&++de===m&&(H=O),(ie=ge.nextSibling)!==null)break;ge=ne,ne=ge.parentNode}ge=ie}u=D===-1||H===-1?null:{start:D,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Qx={focusedElem:s,selectionRange:u},Dp=!1,Wr=o;Wr!==null;)if(o=Wr,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Wr=s;else for(;Wr!==null;){switch(o=Wr,w=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,u=o,x=w.memoizedProps,w=w.memoizedState,m=u.stateNode;try{var He=tc(u.type,x,u.elementType===u.type);s=m.getSnapshotBeforeUpdate(He,w),m.__reactInternalSnapshotBeforeUpdate=s}catch(Ue){Pt(u,u.return,Ue)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)eb(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":eb(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,Wr=s;break}Wr=o.return}}function hN(s,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Oo(s,u),m&4&&Nf(5,u);break;case 1:if(Oo(s,u),m&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(O){Pt(u,u.return,O)}else{var x=tc(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(x,o,s.__reactInternalSnapshotBeforeUpdate)}catch(O){Pt(u,u.return,O)}}m&64&&oN(u),m&512&&jf(u,u.return);break;case 3:if(Oo(s,u),m&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{WS(s,o)}catch(O){Pt(u,u.return,O)}}break;case 27:o===null&&m&4&&dN(u);case 26:case 5:Oo(s,u),o===null&&m&4&&cN(u),m&512&&jf(u,u.return);break;case 12:Oo(s,u);break;case 13:Oo(s,u),m&4&&gN(s,u),m&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=$7.bind(null,u),aV(s,u))));break;case 22:if(m=u.memoizedState!==null||Ns,!m){o=o!==null&&o.memoizedState!==null||yr,x=Ns;var w=yr;Ns=m,(yr=o)&&!w?Io(s,u,(u.subtreeFlags&8772)!==0):Oo(s,u),Ns=x,yr=w}break;case 30:break;default:Oo(s,u)}}function mN(s){var o=s.alternate;o!==null&&(s.alternate=null,mN(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&se(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Gt=null,Bn=!1;function js(s,o,u){for(u=u.child;u!==null;)pN(s,o,u),u=u.sibling}function pN(s,o,u){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(rn,u)}catch{}switch(u.tag){case 26:yr||ka(u,o),js(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:yr||ka(u,o);var m=Gt,x=Bn;Bo(u.type)&&(Gt=u.stateNode,Bn=!1),js(s,o,u),Lf(u.stateNode),Gt=m,Bn=x;break;case 5:yr||ka(u,o);case 6:if(m=Gt,x=Bn,Gt=null,js(s,o,u),Gt=m,Bn=x,Gt!==null)if(Bn)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(u.stateNode)}catch(w){Pt(u,o,w)}else try{Gt.removeChild(u.stateNode)}catch(w){Pt(u,o,w)}break;case 18:Gt!==null&&(Bn?(s=Gt,nj(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),Hf(s)):nj(Gt,u.stateNode));break;case 4:m=Gt,x=Bn,Gt=u.stateNode.containerInfo,Bn=!0,js(s,o,u),Gt=m,Bn=x;break;case 0:case 11:case 14:case 15:yr||ko(2,u,o),yr||ko(4,u,o),js(s,o,u);break;case 1:yr||(ka(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&lN(u,o,m)),js(s,o,u);break;case 21:js(s,o,u);break;case 22:yr=(m=yr)||u.memoizedState!==null,js(s,o,u),yr=m;break;default:js(s,o,u)}}function gN(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Hf(s)}catch(u){Pt(o,o.return,u)}}function I7(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new fN),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new fN),o;default:throw Error(n(435,s.tag))}}function Nx(s,o){var u=I7(s);o.forEach(function(m){var x=z7.bind(null,s,m);u.has(m)||(u.add(m),m.then(x,x))})}function ei(s,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var x=u[m],w=s,O=o,D=O;e:for(;D!==null;){switch(D.tag){case 27:if(Bo(D.type)){Gt=D.stateNode,Bn=!1;break e}break;case 5:Gt=D.stateNode,Bn=!1;break e;case 3:case 4:Gt=D.stateNode.containerInfo,Bn=!0;break e}D=D.return}if(Gt===null)throw Error(n(160));pN(w,O,x),Gt=null,Bn=!1,w=x.alternate,w!==null&&(w.return=null),x.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)yN(o,s),o=o.sibling}var aa=null;function yN(s,o){var u=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ei(o,s),ti(s),m&4&&(ko(3,s,s.return),Nf(3,s),ko(5,s,s.return));break;case 1:ei(o,s),ti(s),m&512&&(yr||u===null||ka(u,u.return)),m&64&&Ns&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var x=aa;if(ei(o,s),ti(s),m&512&&(yr||u===null||ka(u,u.return)),m&4){var w=u!==null?u.memoizedState:null;if(m=s.memoizedState,u===null)if(m===null)if(s.stateNode===null){e:{m=s.type,u=s.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":w=x.getElementsByTagName("title")[0],(!w||w[ce]||w[tr]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=x.createElement(m),x.head.insertBefore(w,x.querySelector("head > title"))),ln(w,m,u),w[tr]=s,Rt(w),m=w;break e;case"link":var O=dj("link","href",x).get(m+(u.href||""));if(O){for(var D=0;D<O.length;D++)if(w=O[D],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(D,1);break t}}w=x.createElement(m),ln(w,m,u),x.head.appendChild(w);break;case"meta":if(O=dj("meta","content",x).get(m+(u.content||""))){for(D=0;D<O.length;D++)if(w=O[D],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(D,1);break t}}w=x.createElement(m),ln(w,m,u),x.head.appendChild(w);break;default:throw Error(n(468,m))}w[tr]=s,Rt(w),m=w}s.stateNode=m}else fj(x,s.type,s.stateNode);else s.stateNode=uj(x,m,s.memoizedProps);else w!==m?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,m===null?fj(x,s.type,s.stateNode):uj(x,m,s.memoizedProps)):m===null&&s.stateNode!==null&&Ex(s,s.memoizedProps,u.memoizedProps)}break;case 27:ei(o,s),ti(s),m&512&&(yr||u===null||ka(u,u.return)),u!==null&&m&4&&Ex(s,s.memoizedProps,u.memoizedProps);break;case 5:if(ei(o,s),ti(s),m&512&&(yr||u===null||ka(u,u.return)),s.flags&32){x=s.stateNode;try{wi(x,"")}catch(ie){Pt(s,s.return,ie)}}m&4&&s.stateNode!=null&&(x=s.memoizedProps,Ex(s,x,u!==null?u.memoizedProps:x)),m&1024&&(Tx=!0);break;case 6:if(ei(o,s),ti(s),m&4){if(s.stateNode===null)throw Error(n(162));m=s.memoizedProps,u=s.stateNode;try{u.nodeValue=m}catch(ie){Pt(s,s.return,ie)}}break;case 3:if(Op=null,x=aa,aa=Pp(o.containerInfo),ei(o,s),aa=x,ti(s),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Hf(o.containerInfo)}catch(ie){Pt(s,s.return,ie)}Tx&&(Tx=!1,vN(s));break;case 4:m=aa,aa=Pp(s.stateNode.containerInfo),ei(o,s),ti(s),aa=m;break;case 12:ei(o,s),ti(s);break;case 13:ei(o,s),ti(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ix=$e()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Nx(s,m)));break;case 22:x=s.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,ee=Ns,de=yr;if(Ns=ee||x,yr=de||H,ei(o,s),yr=de,Ns=ee,ti(s),m&8192)e:for(o=s.stateNode,o._visibility=x?o._visibility&-2:o._visibility|1,x&&(u===null||H||Ns||yr||rc(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){H=u=o;try{if(w=H.stateNode,x)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{D=H.stateNode;var ge=H.memoizedProps.style,ne=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;D.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(ie){Pt(H,H.return,ie)}}}else if(o.tag===6){if(u===null){H=o;try{H.stateNode.nodeValue=x?"":H.memoizedProps}catch(ie){Pt(H,H.return,ie)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=s.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Nx(s,u))));break;case 19:ei(o,s),ti(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Nx(s,m)));break;case 30:break;case 21:break;default:ei(o,s),ti(s)}}function ti(s){var o=s.flags;if(o&2){try{for(var u,m=s.return;m!==null;){if(uN(m)){u=m;break}m=m.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var x=u.stateNode,w=Ax(s);yp(s,w,x);break;case 5:var O=u.stateNode;u.flags&32&&(wi(O,""),u.flags&=-33);var D=Ax(s);yp(s,D,O);break;case 3:case 4:var H=u.stateNode.containerInfo,ee=Ax(s);Sx(s,ee,H);break;default:throw Error(n(161))}}catch(de){Pt(s,s.return,de)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function vN(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;vN(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Oo(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)hN(s,o.alternate,o),o=o.sibling}function rc(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:ko(4,o,o.return),rc(o);break;case 1:ka(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&lN(o,o.return,u),rc(o);break;case 27:Lf(o.stateNode);case 26:case 5:ka(o,o.return),rc(o);break;case 22:o.memoizedState===null&&rc(o);break;case 30:rc(o);break;default:rc(o)}s=s.sibling}}function Io(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,x=s,w=o,O=w.flags;switch(w.tag){case 0:case 11:case 15:Io(x,w,u),Nf(4,w);break;case 1:if(Io(x,w,u),m=w,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ee){Pt(m,m.return,ee)}if(m=w,x=m.updateQueue,x!==null){var D=m.stateNode;try{var H=x.shared.hiddenCallbacks;if(H!==null)for(x.shared.hiddenCallbacks=null,x=0;x<H.length;x++)GS(H[x],D)}catch(ee){Pt(m,m.return,ee)}}u&&O&64&&oN(w),jf(w,w.return);break;case 27:dN(w);case 26:case 5:Io(x,w,u),u&&m===null&&O&4&&cN(w),jf(w,w.return);break;case 12:Io(x,w,u);break;case 13:Io(x,w,u),u&&O&4&&gN(x,w);break;case 22:w.memoizedState===null&&Io(x,w,u),jf(w,w.return);break;case 30:break;default:Io(x,w,u)}o=o.sibling}}function jx(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&hf(u))}function Cx(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&hf(s))}function Oa(s,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)xN(s,o,u,m),o=o.sibling}function xN(s,o,u,m){var x=o.flags;switch(o.tag){case 0:case 11:case 15:Oa(s,o,u,m),x&2048&&Nf(9,o);break;case 1:Oa(s,o,u,m);break;case 3:Oa(s,o,u,m),x&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&hf(s)));break;case 12:if(x&2048){Oa(s,o,u,m),s=o.stateNode;try{var w=o.memoizedProps,O=w.id,D=w.onPostCommit;typeof D=="function"&&D(O,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(H){Pt(o,o.return,H)}}else Oa(s,o,u,m);break;case 13:Oa(s,o,u,m);break;case 23:break;case 22:w=o.stateNode,O=o.alternate,o.memoizedState!==null?w._visibility&2?Oa(s,o,u,m):Cf(s,o):w._visibility&2?Oa(s,o,u,m):(w._visibility|=2,Eu(s,o,u,m,(o.subtreeFlags&10256)!==0)),x&2048&&jx(O,o);break;case 24:Oa(s,o,u,m),x&2048&&Cx(o.alternate,o);break;default:Oa(s,o,u,m)}}function Eu(s,o,u,m,x){for(x=x&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=s,O=o,D=u,H=m,ee=O.flags;switch(O.tag){case 0:case 11:case 15:Eu(w,O,D,H,x),Nf(8,O);break;case 23:break;case 22:var de=O.stateNode;O.memoizedState!==null?de._visibility&2?Eu(w,O,D,H,x):Cf(w,O):(de._visibility|=2,Eu(w,O,D,H,x)),x&&ee&2048&&jx(O.alternate,O);break;case 24:Eu(w,O,D,H,x),x&&ee&2048&&Cx(O.alternate,O);break;default:Eu(w,O,D,H,x)}o=o.sibling}}function Cf(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,m=o,x=m.flags;switch(m.tag){case 22:Cf(u,m),x&2048&&jx(m.alternate,m);break;case 24:Cf(u,m),x&2048&&Cx(m.alternate,m);break;default:Cf(u,m)}o=o.sibling}}var Pf=8192;function Au(s){if(s.subtreeFlags&Pf)for(s=s.child;s!==null;)bN(s),s=s.sibling}function bN(s){switch(s.tag){case 26:Au(s),s.flags&Pf&&s.memoizedState!==null&&vV(aa,s.memoizedState,s.memoizedProps);break;case 5:Au(s);break;case 3:case 4:var o=aa;aa=Pp(s.stateNode.containerInfo),Au(s),aa=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Pf,Pf=16777216,Au(s),Pf=o):Au(s));break;default:Au(s)}}function wN(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function kf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Wr=m,EN(m,s)}wN(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_N(s),s=s.sibling}function _N(s){switch(s.tag){case 0:case 11:case 15:kf(s),s.flags&2048&&ko(9,s,s.return);break;case 3:kf(s);break;case 12:kf(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,vp(s)):kf(s);break;default:kf(s)}}function vp(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Wr=m,EN(m,s)}wN(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:ko(8,o,o.return),vp(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,vp(o));break;default:vp(o)}s=s.sibling}}function EN(s,o){for(;Wr!==null;){var u=Wr;switch(u.tag){case 0:case 11:case 15:ko(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:hf(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Wr=m;else e:for(u=s;Wr!==null;){m=Wr;var x=m.sibling,w=m.return;if(mN(m),m===u){Wr=null;break e}if(x!==null){x.return=w,Wr=x;break e}Wr=w}}}var R7={getCacheForType:function(s){var o=yn(Vr),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u}},D7=typeof WeakMap=="function"?WeakMap:Map,vt=0,Mt=null,et=null,ot=0,xt=0,ri=null,Ro=!1,Su=!1,Px=!1,Cs=0,ur=0,Do=0,nc=0,kx=0,ji=0,Tu=0,Of=null,Un=null,Ox=!1,Ix=0,xp=1/0,bp=null,Mo=null,on=0,Lo=null,Nu=null,ju=0,Rx=0,Dx=null,AN=null,If=0,Mx=null;function ni(){if((vt&2)!==0&&ot!==0)return ot&-ot;if(W.T!==null){var s=pu;return s!==0?s:Fx()}return Gi()}function SN(){ji===0&&(ji=(ot&536870912)===0||mt?jl():536870912);var s=Ni.current;return s!==null&&(s.flags|=32),ji}function ii(s,o,u){(s===Mt&&(xt===2||xt===9)||s.cancelPendingCommit!==null)&&(Cu(s,0),Vo(s,ot,ji,!1)),Kt(s,u),((vt&2)===0||s!==Mt)&&(s===Mt&&((vt&2)===0&&(nc|=u),ur===4&&Vo(s,ot,ji,!1)),Ia(s))}function TN(s,o,u){if((vt&6)!==0)throw Error(n(327));var m=!u&&(o&124)===0&&(o&s.expiredLanes)===0||Dr(s,o),x=m?V7(s,o):Bx(s,o,!0),w=m;do{if(x===0){Su&&!m&&Vo(s,o,0,!1);break}else{if(u=s.current.alternate,w&&!M7(u)){x=Bx(s,o,!1),w=!1;continue}if(x===2){if(w=o,s.errorRecoveryDisabledLanes&w)var O=0;else O=s.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var D=s;x=Of;var H=D.current.memoizedState.isDehydrated;if(H&&(Cu(D,O).flags|=256),O=Bx(D,O,!1),O!==2){if(Px&&!H){D.errorRecoveryDisabledLanes|=w,nc|=w,x=4;break e}w=Un,Un=x,w!==null&&(Un===null?Un=w:Un.push.apply(Un,w))}x=O}if(w=!1,x!==2)continue}}if(x===1){Cu(s,0),Vo(s,o,0,!0);break}e:{switch(m=s,w=x,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Vo(m,o,ji,!Ro);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(x=Ix+300-$e(),10<x)){if(Vo(m,o,ji,!Ro),er(m,0,!0)!==0)break e;m.timeoutHandle=tj(NN.bind(null,m,u,Un,bp,Ox,o,ji,nc,Tu,Ro,w,2,-0,0),x);break e}NN(m,u,Un,bp,Ox,o,ji,nc,Tu,Ro,w,0,-0,0)}}break}while(!0);Ia(s)}function NN(s,o,u,m,x,w,O,D,H,ee,de,ge,ne,ie){if(s.timeoutHandle=-1,ge=o.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(Uf={stylesheets:null,count:0,unsuspend:yV},bN(o),ge=xV(),ge!==null)){s.cancelPendingCommit=ge(RN.bind(null,s,o,w,u,m,x,O,D,H,de,1,ne,ie)),Vo(s,w,O,!ee);return}RN(s,o,w,u,m,x,O,D,H)}function M7(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var x=u[m],w=x.getSnapshot;x=x.value;try{if(!Zn(w(),x))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vo(s,o,u,m){o&=~kx,o&=~nc,s.suspendedLanes|=o,s.pingedLanes&=~o,m&&(s.warmLanes|=o),m=s.expirationTimes;for(var x=o;0<x;){var w=31-an(x),O=1<<w;m[w]=-1,x&=~O}u!==0&&Aa(s,u,o)}function wp(){return(vt&6)===0?(Rf(0),!1):!0}function Lx(){if(et!==null){if(xt===0)var s=et.return;else s=et,ws=Ql=null,ex(s),wu=null,Af=0,s=et;for(;s!==null;)sN(s.alternate,s),s=s.return;et=null}}function Cu(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,eV(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Lx(),Mt=s,et=u=vs(s.current,null),ot=o,xt=0,ri=null,Ro=!1,Su=Dr(s,o),Px=!1,Tu=ji=kx=nc=Do=ur=0,Un=Of=null,Ox=!1,(o&8)!==0&&(o|=o&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=o;0<m;){var x=31-an(m),w=1<<x;o|=s[x],m&=~w}return Cs=o,Fm(),u}function jN(s,o){Qe=null,W.H=lp,o===pf||o===Zm?(o=HS(),xt=3):o===zS?(o=HS(),xt=4):xt=o===KT?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ri=o,et===null&&(ur=1,hp(s,Ei(o,s.current)))}function CN(){var s=W.H;return W.H=lp,s===null?lp:s}function PN(){var s=W.A;return W.A=R7,s}function Vx(){ur=4,Ro||(ot&4194048)!==ot&&Ni.current!==null||(Su=!0),(Do&134217727)===0&&(nc&134217727)===0||Mt===null||Vo(Mt,ot,ji,!1)}function Bx(s,o,u){var m=vt;vt|=2;var x=CN(),w=PN();(Mt!==s||ot!==o)&&(bp=null,Cu(s,o)),o=!1;var O=ur;e:do try{if(xt!==0&&et!==null){var D=et,H=ri;switch(xt){case 8:Lx(),O=6;break e;case 3:case 2:case 9:case 6:Ni.current===null&&(o=!0);var ee=xt;if(xt=0,ri=null,Pu(s,D,H,ee),u&&Su){O=0;break e}break;default:ee=xt,xt=0,ri=null,Pu(s,D,H,ee)}}L7(),O=ur;break}catch(de){jN(s,de)}while(!0);return o&&s.shellSuspendCounter++,ws=Ql=null,vt=m,W.H=x,W.A=w,et===null&&(Mt=null,ot=0,Fm()),O}function L7(){for(;et!==null;)kN(et)}function V7(s,o){var u=vt;vt|=2;var m=CN(),x=PN();Mt!==s||ot!==o?(bp=null,xp=$e()+500,Cu(s,o)):Su=Dr(s,o);e:do try{if(xt!==0&&et!==null){o=et;var w=ri;t:switch(xt){case 1:xt=0,ri=null,Pu(s,o,w,1);break;case 2:case 9:if(FS(w)){xt=0,ri=null,ON(o);break}o=function(){xt!==2&&xt!==9||Mt!==s||(xt=7),Ia(s)},w.then(o,o);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:FS(w)?(xt=0,ri=null,ON(o)):(xt=0,ri=null,Pu(s,o,w,7));break;case 5:var O=null;switch(et.tag){case 26:O=et.memoizedState;case 5:case 27:var D=et;if(!O||hj(O)){xt=0,ri=null;var H=D.sibling;if(H!==null)et=H;else{var ee=D.return;ee!==null?(et=ee,_p(ee)):et=null}break t}}xt=0,ri=null,Pu(s,o,w,5);break;case 6:xt=0,ri=null,Pu(s,o,w,6);break;case 8:Lx(),ur=6;break e;default:throw Error(n(462))}}B7();break}catch(de){jN(s,de)}while(!0);return ws=Ql=null,W.H=m,W.A=x,vt=u,et!==null?0:(Mt=null,ot=0,Fm(),ur)}function B7(){for(;et!==null&&!mr();)kN(et)}function kN(s){var o=iN(s.alternate,s,Cs);s.memoizedProps=s.pendingProps,o===null?_p(s):et=o}function ON(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=ZT(u,o,o.pendingProps,o.type,void 0,ot);break;case 11:o=ZT(u,o,o.pendingProps,o.type.render,o.ref,ot);break;case 5:ex(o);default:sN(u,o),o=et=IS(o,Cs),o=iN(u,o,Cs)}s.memoizedProps=s.pendingProps,o===null?_p(s):et=o}function Pu(s,o,u,m){ws=Ql=null,ex(o),wu=null,Af=0;var x=o.return;try{if(j7(s,x,o,u,ot)){ur=1,hp(s,Ei(u,s.current)),et=null;return}}catch(w){if(x!==null)throw et=x,w;ur=1,hp(s,Ei(u,s.current)),et=null;return}o.flags&32768?(mt||m===1?s=!0:Su||(ot&536870912)!==0?s=!1:(Ro=s=!0,(m===2||m===9||m===3||m===6)&&(m=Ni.current,m!==null&&m.tag===13&&(m.flags|=16384))),IN(o,s)):_p(o)}function _p(s){var o=s;do{if((o.flags&32768)!==0){IN(o,Ro);return}s=o.return;var u=P7(o.alternate,o,Cs);if(u!==null){et=u;return}if(o=o.sibling,o!==null){et=o;return}et=o=s}while(o!==null);ur===0&&(ur=5)}function IN(s,o){do{var u=k7(s.alternate,s);if(u!==null){u.flags&=32767,et=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){et=s;return}et=s=u}while(s!==null);ur=6,et=null}function RN(s,o,u,m,x,w,O,D,H){s.cancelPendingCommit=null;do Ep();while(on!==0);if((vt&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=Cv,Jc(s,u,w,O,D,H),s===Mt&&(et=Mt=null,ot=0),Nu=o,Lo=s,ju=u,Rx=w,Dx=x,AN=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,F7(yi,function(){return BN(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=W.T,W.T=null,x=K.p,K.p=2,O=vt,vt|=4;try{O7(s,o,u)}finally{vt=O,K.p=x,W.T=m}}on=1,DN(),MN(),LN()}}function DN(){if(on===1){on=0;var s=Lo,o=Nu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=W.T,W.T=null;var m=K.p;K.p=2;var x=vt;vt|=4;try{yN(o,s);var w=Qx,O=ES(s.containerInfo),D=w.focusedElem,H=w.selectionRange;if(O!==D&&D&&D.ownerDocument&&_S(D.ownerDocument.documentElement,D)){if(H!==null&&Av(D)){var ee=H.start,de=H.end;if(de===void 0&&(de=ee),"selectionStart"in D)D.selectionStart=ee,D.selectionEnd=Math.min(de,D.value.length);else{var ge=D.ownerDocument||document,ne=ge&&ge.defaultView||window;if(ne.getSelection){var ie=ne.getSelection(),He=D.textContent.length,Ue=Math.min(H.start,He),Tt=H.end===void 0?Ue:Math.min(H.end,He);!ie.extend&&Ue>Tt&&(O=Tt,Tt=Ue,Ue=O);var X=wS(D,Ue),G=wS(D,Tt);if(X&&G&&(ie.rangeCount!==1||ie.anchorNode!==X.node||ie.anchorOffset!==X.offset||ie.focusNode!==G.node||ie.focusOffset!==G.offset)){var Z=ge.createRange();Z.setStart(X.node,X.offset),ie.removeAllRanges(),Ue>Tt?(ie.addRange(Z),ie.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),ie.addRange(Z))}}}}for(ge=[],ie=D;ie=ie.parentNode;)ie.nodeType===1&&ge.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ge.length;D++){var he=ge[D];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Dp=!!Xx,Qx=Xx=null}finally{vt=x,K.p=m,W.T=u}}s.current=o,on=2}}function MN(){if(on===2){on=0;var s=Lo,o=Nu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=W.T,W.T=null;var m=K.p;K.p=2;var x=vt;vt|=4;try{hN(s,o.alternate,o)}finally{vt=x,K.p=m,W.T=u}}on=3}}function LN(){if(on===4||on===3){on=0,sr();var s=Lo,o=Nu,u=ju,m=AN;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?on=5:(on=0,Nu=Lo=null,VN(s,s.pendingLanes));var x=s.pendingLanes;if(x===0&&(Mo=null),Pl(u),o=o.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(rn,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=W.T,x=K.p,K.p=2,W.T=null;try{for(var w=s.onRecoverableError,O=0;O<m.length;O++){var D=m[O];w(D.value,{componentStack:D.stack})}}finally{W.T=o,K.p=x}}(ju&3)!==0&&Ep(),Ia(s),x=s.pendingLanes,(u&4194090)!==0&&(x&42)!==0?s===Mx?If++:(If=0,Mx=s):If=0,Rf(0)}}function VN(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,hf(o)))}function Ep(s){return DN(),MN(),LN(),BN()}function BN(){if(on!==5)return!1;var s=Lo,o=Rx;Rx=0;var u=Pl(ju),m=W.T,x=K.p;try{K.p=32>u?32:u,W.T=null,u=Dx,Dx=null;var w=Lo,O=ju;if(on=0,Nu=Lo=null,ju=0,(vt&6)!==0)throw Error(n(331));var D=vt;if(vt|=4,_N(w.current),xN(w,w.current,O,u),vt=D,Rf(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(rn,w)}catch{}return!0}finally{K.p=x,W.T=m,VN(s,o)}}function UN(s,o,u){o=Ei(u,o),o=mx(s.stateNode,o,2),s=No(s,o,2),s!==null&&(Kt(s,2),Ia(s))}function Pt(s,o,u){if(s.tag===3)UN(s,s,u);else for(;o!==null;){if(o.tag===3){UN(o,s,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Mo===null||!Mo.has(m))){s=Ei(u,s),u=qT(2),m=No(o,u,2),m!==null&&(HT(u,m,o,s),Kt(m,2),Ia(m));break}}o=o.return}}function Ux(s,o,u){var m=s.pingCache;if(m===null){m=s.pingCache=new D7;var x=new Set;m.set(o,x)}else x=m.get(o),x===void 0&&(x=new Set,m.set(o,x));x.has(u)||(Px=!0,x.add(u),s=U7.bind(null,s,o,u),o.then(s,s))}function U7(s,o,u){var m=s.pingCache;m!==null&&m.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Mt===s&&(ot&u)===u&&(ur===4||ur===3&&(ot&62914560)===ot&&300>$e()-Ix?(vt&2)===0&&Cu(s,0):kx|=u,Tu===ot&&(Tu=0)),Ia(s)}function $N(s,o){o===0&&(o=Ea()),s=du(s,o),s!==null&&(Kt(s,o),Ia(s))}function $7(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),$N(s,u)}function z7(s,o){var u=0;switch(s.tag){case 13:var m=s.stateNode,x=s.memoizedState;x!==null&&(u=x.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),$N(s,u)}function F7(s,o){return _t(s,o)}var Ap=null,ku=null,$x=!1,Sp=!1,zx=!1,ic=0;function Ia(s){s!==ku&&s.next===null&&(ku===null?Ap=ku=s:ku=ku.next=s),Sp=!0,$x||($x=!0,H7())}function Rf(s,o){if(!zx&&Sp){zx=!0;do for(var u=!1,m=Ap;m!==null;){if(s!==0){var x=m.pendingLanes;if(x===0)var w=0;else{var O=m.suspendedLanes,D=m.pingedLanes;w=(1<<31-an(42|s)+1)-1,w&=x&~(O&~D),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,HN(m,w))}else w=ot,w=er(m,m===Mt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Dr(m,w)||(u=!0,HN(m,w));m=m.next}while(u);zx=!1}}function q7(){zN()}function zN(){Sp=$x=!1;var s=0;ic!==0&&(J7()&&(s=ic),ic=0);for(var o=$e(),u=null,m=Ap;m!==null;){var x=m.next,w=FN(m,o);w===0?(m.next=null,u===null?Ap=x:u.next=x,x===null&&(ku=u)):(u=m,(s!==0||(w&3)!==0)&&(Sp=!0)),m=x}Rf(s)}function FN(s,o){for(var u=s.suspendedLanes,m=s.pingedLanes,x=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var O=31-an(w),D=1<<O,H=x[O];H===-1?((D&u)===0||(D&m)!==0)&&(x[O]=ho(D,o)):H<=o&&(s.expiredLanes|=D),w&=~D}if(o=Mt,u=ot,u=er(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,u===0||s===o&&(xt===2||xt===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&Je(m),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Dr(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(m!==null&&Je(m),Pl(u)){case 2:case 8:u=lr;break;case 32:u=yi;break;case 268435456:u=Nl;break;default:u=yi}return m=qN.bind(null,s),u=_t(u,m),s.callbackPriority=o,s.callbackNode=u,o}return m!==null&&m!==null&&Je(m),s.callbackPriority=2,s.callbackNode=null,2}function qN(s,o){if(on!==0&&on!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Ep()&&s.callbackNode!==u)return null;var m=ot;return m=er(s,s===Mt?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(TN(s,m,o),FN(s,$e()),s.callbackNode!=null&&s.callbackNode===u?qN.bind(null,s):null)}function HN(s,o){if(Ep())return null;TN(s,o,!0)}function H7(){tV(function(){(vt&6)!==0?_t(or,q7):zN()})}function Fx(){return ic===0&&(ic=jl()),ic}function KN(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ea(""+s)}function GN(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function K7(s,o,u,m,x){if(o==="submit"&&u&&u.stateNode===x){var w=KN((x[Mr]||null).action),O=m.submitter;O&&(o=(o=O[Mr]||null)?KN(o.formAction):O.getAttribute("formAction"),o!==null&&(w=o,O=null));var D=new Ll("action","action",null,m,x);s.push({event:D,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ic!==0){var H=O?GN(x,O):new FormData(x);cx(u,{pending:!0,data:H,method:x.method,action:w},null,H)}}else typeof w=="function"&&(D.preventDefault(),H=O?GN(x,O):new FormData(x),cx(u,{pending:!0,data:H,method:x.method,action:w},w,H))},currentTarget:x}]})}}for(var qx=0;qx<jv.length;qx++){var Hx=jv[qx],G7=Hx.toLowerCase(),W7=Hx[0].toUpperCase()+Hx.slice(1);ia(G7,"on"+W7)}ia(TS,"onAnimationEnd"),ia(NS,"onAnimationIteration"),ia(jS,"onAnimationStart"),ia("dblclick","onDoubleClick"),ia("focusin","onFocus"),ia("focusout","onBlur"),ia(d7,"onTransitionRun"),ia(f7,"onTransitionStart"),ia(h7,"onTransitionCancel"),ia(CS,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Df="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Df));function WN(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var m=s[u],x=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var O=m.length-1;0<=O;O--){var D=m[O],H=D.instance,ee=D.currentTarget;if(D=D.listener,H!==w&&x.isPropagationStopped())break e;w=D,x.currentTarget=ee;try{w(x)}catch(de){fp(de)}x.currentTarget=null,w=H}else for(O=0;O<m.length;O++){if(D=m[O],H=D.instance,ee=D.currentTarget,D=D.listener,H!==w&&x.isPropagationStopped())break e;w=D,x.currentTarget=ee;try{w(x)}catch(de){fp(de)}x.currentTarget=null,w=H}}}}function tt(s,o){var u=o[os];u===void 0&&(u=o[os]=new Set);var m=s+"__bubble";u.has(m)||(YN(o,s,2,!1),u.add(m))}function Kx(s,o,u){var m=0;o&&(m|=4),YN(u,s,m,o)}var Tp="_reactListening"+Math.random().toString(36).slice(2);function Gx(s){if(!s[Tp]){s[Tp]=!0,Ta.forEach(function(u){u!=="selectionchange"&&(Y7.has(u)||Kx(u,!1,s),Kx(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Tp]||(o[Tp]=!0,Kx("selectionchange",!1,o))}}function YN(s,o,u,m){switch(xj(o)){case 2:var x=_V;break;case 8:x=EV;break;default:x=ob}u=x.bind(null,o,u,s),x=void 0,!gs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),m?x!==void 0?s.addEventListener(o,u,{capture:!0,passive:x}):s.addEventListener(o,u,!0):x!==void 0?s.addEventListener(o,u,{passive:x}):s.addEventListener(o,u,!1)}function Wx(s,o,u,m,x){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var D=m.stateNode.containerInfo;if(D===x)break;if(O===4)for(O=m.return;O!==null;){var H=O.tag;if((H===3||H===4)&&O.stateNode.containerInfo===x)return;O=O.return}for(;D!==null;){if(O=Te(D),O===null)return;if(H=O.tag,H===5||H===6||H===26||H===27){m=w=O;continue e}D=D.parentNode}}m=m.return}Rl(function(){var ee=w,de=Qd(u),ge=[];e:{var ne=PS.get(s);if(ne!==void 0){var ie=Ll,He=s;switch(s){case"keypress":if(Dl(u)===0)break e;case"keydown":case"keyup":ie=ou;break;case"focusin":He="focus",ie=iu;break;case"focusout":He="blur",ie=iu;break;case"beforeblur":case"afterblur":ie=iu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Rm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Eo;break;case TS:case NS:case jS:ie=Jd;break;case CS:ie=T;break;case"scroll":case"scrollend":ie=Bl;break;case"wheel":ie=F;break;case"copy":case"cut":case"paste":ie=Mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=rf;break;case"toggle":case"beforetoggle":ie=ae}var Ue=(o&4)!==0,Tt=!Ue&&(s==="scroll"||s==="scrollend"),X=Ue?ne!==null?ne+"Capture":null:ne;Ue=[];for(var G=ee,Z;G!==null;){var he=G;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||X===null||(he=wo(G,X),he!=null&&Ue.push(Mf(G,he,Z))),Tt)break;G=G.return}0<Ue.length&&(ne=new ie(ne,He,null,u,de),ge.push({event:ne,listeners:Ue}))}}if((o&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",ne&&u!==Xd&&(He=u.relatedTarget||u.fromElement)&&(Te(He)||He[Wi]))break e;if((ie||ne)&&(ne=de.window===de?de:(ne=de.ownerDocument)?ne.defaultView||ne.parentWindow:window,ie?(He=u.relatedTarget||u.toElement,ie=ee,He=He?Te(He):null,He!==null&&(Tt=a(He),Ue=He.tag,He!==Tt||Ue!==5&&Ue!==27&&Ue!==6)&&(He=null)):(ie=null,He=ee),ie!==He)){if(Ue=zl,he="onMouseLeave",X="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Ue=rf,he="onPointerLeave",X="onPointerEnter",G="pointer"),Tt=ie==null?ne:Tr(ie),Z=He==null?ne:Tr(He),ne=new Ue(he,G+"leave",ie,u,de),ne.target=Tt,ne.relatedTarget=Z,he=null,Te(de)===ee&&(Ue=new Ue(X,G+"enter",He,u,de),Ue.target=Z,Ue.relatedTarget=Tt,he=Ue),Tt=he,ie&&He)t:{for(Ue=ie,X=He,G=0,Z=Ue;Z;Z=Ou(Z))G++;for(Z=0,he=X;he;he=Ou(he))Z++;for(;0<G-Z;)Ue=Ou(Ue),G--;for(;0<Z-G;)X=Ou(X),Z--;for(;G--;){if(Ue===X||X!==null&&Ue===X.alternate)break t;Ue=Ou(Ue),X=Ou(X)}Ue=null}else Ue=null;ie!==null&&XN(ge,ne,ie,Ue,!1),He!==null&&Tt!==null&&XN(ge,Tt,He,Ue,!0)}}e:{if(ne=ee?Tr(ee):window,ie=ne.nodeName&&ne.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ne.type==="file")var Ce=pS;else if(hS(ne))if(gS)Ce=l7;else{Ce=s7;var Ze=a7}else ie=ne.nodeName,!ie||ie.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&tu(ee.elementType)&&(Ce=pS):Ce=o7;if(Ce&&(Ce=Ce(s,ee))){mS(ge,Ce,u,de);break e}Ze&&Ze(s,ne,ee),s==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&Gd(ne,"number",ne.value)}switch(Ze=ee?Tr(ee):window,s){case"focusin":(hS(Ze)||Ze.contentEditable==="true")&&(lu=Ze,Sv=ee,lf=null);break;case"focusout":lf=Sv=lu=null;break;case"mousedown":Tv=!0;break;case"contextmenu":case"mouseup":case"dragend":Tv=!1,AS(ge,u,de);break;case"selectionchange":if(u7)break;case"keydown":case"keyup":AS(ge,u,de)}var Oe;if(We)e:{switch(s){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else na?ta(s,u)&&(ze="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(ze="onCompositionStart");ze&&(pr&&u.locale!=="ko"&&(na||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&na&&(Oe=Im()):(_i=de,Dt="value"in _i?_i.value:_i.textContent,na=!0)),Ze=Np(ee,ze),0<Ze.length&&(ze=new tf(ze,s,null,u,de),ge.push({event:ze,listeners:Ze}),Oe?ze.data=Oe:(Oe=ra(u),Oe!==null&&(ze.data=Oe)))),(Oe=yt?nf(s,u):r7(s,u))&&(ze=Np(ee,"onBeforeInput"),0<ze.length&&(Ze=new tf("onBeforeInput","beforeinput",null,u,de),ge.push({event:Ze,listeners:ze}),Ze.data=Oe)),K7(ge,s,ee,u,de)}WN(ge,o)})}function Mf(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Np(s,o){for(var u=o+"Capture",m=[];s!==null;){var x=s,w=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||w===null||(x=wo(s,u),x!=null&&m.unshift(Mf(s,x,w)),x=wo(s,o),x!=null&&m.push(Mf(s,x,w))),s.tag===3)return m;s=s.return}return[]}function Ou(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function XN(s,o,u,m,x){for(var w=o._reactName,O=[];u!==null&&u!==m;){var D=u,H=D.alternate,ee=D.stateNode;if(D=D.tag,H!==null&&H===m)break;D!==5&&D!==26&&D!==27||ee===null||(H=ee,x?(ee=wo(u,w),ee!=null&&O.unshift(Mf(u,ee,H))):x||(ee=wo(u,w),ee!=null&&O.push(Mf(u,ee,H)))),u=u.return}O.length!==0&&s.push({event:o,listeners:O})}var X7=/\r\n?/g,Q7=/\u0000|\uFFFD/g;function QN(s){return(typeof s=="string"?s:""+s).replace(X7,`
`).replace(Q7,"")}function ZN(s,o){return o=QN(o),QN(s)===o}function jp(){}function St(s,o,u,m,x,w){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||wi(s,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&wi(s,""+m);break;case"className":fs(s,"class",m);break;case"tabIndex":fs(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":fs(s,u,m);break;case"style":Yd(s,m,w);break;case"data":if(o!=="object"){fs(s,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(u);break}m=ea(""+m),s.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(o!=="input"&&St(s,o,"name",x.name,x,null),St(s,o,"formEncType",x.formEncType,x,null),St(s,o,"formMethod",x.formMethod,x,null),St(s,o,"formTarget",x.formTarget,x,null)):(St(s,o,"encType",x.encType,x,null),St(s,o,"method",x.method,x,null),St(s,o,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(u);break}m=ea(""+m),s.setAttribute(u,m);break;case"onClick":m!=null&&(s.onclick=jp);break;case"onScroll":m!=null&&tt("scroll",s);break;case"onScrollEnd":m!=null&&tt("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}u=ea(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(u,""+m):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":m===!0?s.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(u,m):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(u,m):s.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(u):s.setAttribute(u,m);break;case"popover":tt("beforetoggle",s),tt("toggle",s),ds(s,"popover",m);break;case"xlinkActuate":Ln(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ln(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ln(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ln(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ln(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ln(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ln(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ln(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ln(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ds(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Pm.get(u)||u,ds(s,u,m))}}function Yx(s,o,u,m,x,w){switch(u){case"style":Yd(s,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(n(60));s.innerHTML=u}}break;case"children":typeof m=="string"?wi(s,m):(typeof m=="number"||typeof m=="bigint")&&wi(s,""+m);break;case"onScroll":m!=null&&tt("scroll",s);break;case"onScrollEnd":m!=null&&tt("scrollend",s);break;case"onClick":m!=null&&(s.onclick=jp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cs.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(x=u.endsWith("Capture"),o=u.slice(2,x?u.length-7:void 0),w=s[Mr]||null,w=w!=null?w[u]:null,typeof w=="function"&&s.removeEventListener(o,w,x),typeof m=="function")){typeof w!="function"&&w!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,m,x);break e}u in s?s[u]=m:m===!0?s.setAttribute(u,""):ds(s,u,m)}}}function ln(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",s),tt("load",s);var m=!1,x=!1,w;for(w in u)if(u.hasOwnProperty(w)){var O=u[w];if(O!=null)switch(w){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:St(s,o,w,O,u,null)}}x&&St(s,o,"srcSet",u.srcSet,u,null),m&&St(s,o,"src",u.src,u,null);return;case"input":tt("invalid",s);var D=w=O=x=null,H=null,ee=null;for(m in u)if(u.hasOwnProperty(m)){var de=u[m];if(de!=null)switch(m){case"name":x=de;break;case"type":O=de;break;case"checked":H=de;break;case"defaultChecked":ee=de;break;case"value":w=de;break;case"defaultValue":D=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,o));break;default:St(s,o,m,de,u,null)}}Kd(s,w,D,H,ee,O,x,!1),vo(s);return;case"select":tt("invalid",s),m=O=w=null;for(x in u)if(u.hasOwnProperty(x)&&(D=u[x],D!=null))switch(x){case"value":w=D;break;case"defaultValue":O=D;break;case"multiple":m=D;default:St(s,o,x,D,u,null)}o=w,u=O,s.multiple=!!m,o!=null?xo(s,!!m,o,!1):u!=null&&xo(s,!!m,u,!0);return;case"textarea":tt("invalid",s),w=x=m=null;for(O in u)if(u.hasOwnProperty(O)&&(D=u[O],D!=null))switch(O){case"value":m=D;break;case"defaultValue":x=D;break;case"children":w=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:St(s,o,O,D,u,null)}Cm(s,m,x,w),vo(s);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(m=u[H],m!=null))switch(H){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:St(s,o,H,m,u,null)}return;case"dialog":tt("beforetoggle",s),tt("toggle",s),tt("cancel",s),tt("close",s);break;case"iframe":case"object":tt("load",s);break;case"video":case"audio":for(m=0;m<Df.length;m++)tt(Df[m],s);break;case"image":tt("error",s),tt("load",s);break;case"details":tt("toggle",s);break;case"embed":case"source":case"link":tt("error",s),tt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in u)if(u.hasOwnProperty(ee)&&(m=u[ee],m!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:St(s,o,ee,m,u,null)}return;default:if(tu(o)){for(de in u)u.hasOwnProperty(de)&&(m=u[de],m!==void 0&&Yx(s,o,de,m,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(m=u[D],m!=null&&St(s,o,D,m,u,null))}function Z7(s,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,w=null,O=null,D=null,H=null,ee=null,de=null;for(ie in u){var ge=u[ie];if(u.hasOwnProperty(ie)&&ge!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":H=ge;default:m.hasOwnProperty(ie)||St(s,o,ie,null,m,ge)}}for(var ne in m){var ie=m[ne];if(ge=u[ne],m.hasOwnProperty(ne)&&(ie!=null||ge!=null))switch(ne){case"type":w=ie;break;case"name":x=ie;break;case"checked":ee=ie;break;case"defaultChecked":de=ie;break;case"value":O=ie;break;case"defaultValue":D=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,o));break;default:ie!==ge&&St(s,o,ne,ie,m,ge)}}Hd(s,O,D,H,ee,de,w,x);return;case"select":ie=O=D=ne=null;for(w in u)if(H=u[w],u.hasOwnProperty(w)&&H!=null)switch(w){case"value":break;case"multiple":ie=H;default:m.hasOwnProperty(w)||St(s,o,w,null,m,H)}for(x in m)if(w=m[x],H=u[x],m.hasOwnProperty(x)&&(w!=null||H!=null))switch(x){case"value":ne=w;break;case"defaultValue":D=w;break;case"multiple":O=w;default:w!==H&&St(s,o,x,w,m,H)}o=D,u=O,m=ie,ne!=null?xo(s,!!u,ne,!1):!!m!=!!u&&(o!=null?xo(s,!!u,o,!0):xo(s,!!u,u?[]:"",!1));return;case"textarea":ie=ne=null;for(D in u)if(x=u[D],u.hasOwnProperty(D)&&x!=null&&!m.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:St(s,o,D,null,m,x)}for(O in m)if(x=m[O],w=u[O],m.hasOwnProperty(O)&&(x!=null||w!=null))switch(O){case"value":ne=x;break;case"defaultValue":ie=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:x!==w&&St(s,o,O,x,m,w)}jm(s,ne,ie);return;case"option":for(var He in u)if(ne=u[He],u.hasOwnProperty(He)&&ne!=null&&!m.hasOwnProperty(He))switch(He){case"selected":s.selected=!1;break;default:St(s,o,He,null,m,ne)}for(H in m)if(ne=m[H],ie=u[H],m.hasOwnProperty(H)&&ne!==ie&&(ne!=null||ie!=null))switch(H){case"selected":s.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:St(s,o,H,ne,m,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in u)ne=u[Ue],u.hasOwnProperty(Ue)&&ne!=null&&!m.hasOwnProperty(Ue)&&St(s,o,Ue,null,m,ne);for(ee in m)if(ne=m[ee],ie=u[ee],m.hasOwnProperty(ee)&&ne!==ie&&(ne!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,o));break;default:St(s,o,ee,ne,m,ie)}return;default:if(tu(o)){for(var Tt in u)ne=u[Tt],u.hasOwnProperty(Tt)&&ne!==void 0&&!m.hasOwnProperty(Tt)&&Yx(s,o,Tt,void 0,m,ne);for(de in m)ne=m[de],ie=u[de],!m.hasOwnProperty(de)||ne===ie||ne===void 0&&ie===void 0||Yx(s,o,de,ne,m,ie);return}}for(var X in u)ne=u[X],u.hasOwnProperty(X)&&ne!=null&&!m.hasOwnProperty(X)&&St(s,o,X,null,m,ne);for(ge in m)ne=m[ge],ie=u[ge],!m.hasOwnProperty(ge)||ne===ie||ne==null&&ie==null||St(s,o,ge,ne,m,ie)}var Xx=null,Qx=null;function Cp(s){return s.nodeType===9?s:s.ownerDocument}function JN(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ej(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Zx(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Jx=null;function J7(){var s=window.event;return s&&s.type==="popstate"?s===Jx?!1:(Jx=s,!0):(Jx=null,!1)}var tj=typeof setTimeout=="function"?setTimeout:void 0,eV=typeof clearTimeout=="function"?clearTimeout:void 0,rj=typeof Promise=="function"?Promise:void 0,tV=typeof queueMicrotask=="function"?queueMicrotask:typeof rj<"u"?function(s){return rj.resolve(null).then(s).catch(rV)}:tj;function rV(s){setTimeout(function(){throw s})}function Bo(s){return s==="head"}function nj(s,o){var u=o,m=0,x=0;do{var w=u.nextSibling;if(s.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(0<m&&8>m){u=m;var O=s.ownerDocument;if(u&1&&Lf(O.documentElement),u&2&&Lf(O.body),u&4)for(u=O.head,Lf(u),O=u.firstChild;O;){var D=O.nextSibling,H=O.nodeName;O[ce]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&O.rel.toLowerCase()==="stylesheet"||u.removeChild(O),O=D}}if(x===0){s.removeChild(w),Hf(o);return}x--}else u==="$"||u==="$?"||u==="$!"?x++:m=u.charCodeAt(0)-48;else m=0;u=w}while(u);Hf(o)}function eb(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":eb(u),se(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function nV(s,o,u,m){for(;s.nodeType===1;){var x=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[ce])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==x.rel||s.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||s.getAttribute("title")!==(x.title==null?null:x.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(x.src==null?null:x.src)||s.getAttribute("type")!==(x.type==null?null:x.type)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var w=x.name==null?null:""+x.name;if(x.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=sa(s.nextSibling),s===null)break}return null}function iV(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=sa(s.nextSibling),s===null))return null;return s}function tb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function aV(s,o){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function sa(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var rb=null;function ij(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}function aj(s,o,u){switch(o=Cp(u),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Lf(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);se(s)}var Ci=new Map,sj=new Set;function Pp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ps=K.d;K.d={f:sV,r:oV,D:lV,C:cV,L:uV,m:dV,X:hV,S:fV,M:mV};function sV(){var s=Ps.f(),o=wp();return s||o}function oV(s){var o=st(s);o!==null&&o.tag===5&&o.type==="form"?TT(o):Ps.r(s)}var Iu=typeof document>"u"?null:document;function oj(s,o,u){var m=Iu;if(m&&typeof o=="string"&&o){var x=Kr(o);x='link[rel="'+s+'"][href="'+x+'"]',typeof u=="string"&&(x+='[crossorigin="'+u+'"]'),sj.has(x)||(sj.add(x),s={rel:s,crossOrigin:u,href:o},m.querySelector(x)===null&&(o=m.createElement("link"),ln(o,"link",s),Rt(o),m.head.appendChild(o)))}}function lV(s){Ps.D(s),oj("dns-prefetch",s,null)}function cV(s,o){Ps.C(s,o),oj("preconnect",s,o)}function uV(s,o,u){Ps.L(s,o,u);var m=Iu;if(m&&s&&o){var x='link[rel="preload"][as="'+Kr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(x+='[imagesrcset="'+Kr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(x+='[imagesizes="'+Kr(u.imageSizes)+'"]')):x+='[href="'+Kr(s)+'"]';var w=x;switch(o){case"style":w=Ru(s);break;case"script":w=Du(s)}Ci.has(w)||(s=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),Ci.set(w,s),m.querySelector(x)!==null||o==="style"&&m.querySelector(Vf(w))||o==="script"&&m.querySelector(Bf(w))||(o=m.createElement("link"),ln(o,"link",s),Rt(o),m.head.appendChild(o)))}}function dV(s,o){Ps.m(s,o);var u=Iu;if(u&&s){var m=o&&typeof o.as=="string"?o.as:"script",x='link[rel="modulepreload"][as="'+Kr(m)+'"][href="'+Kr(s)+'"]',w=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Du(s)}if(!Ci.has(w)&&(s=p({rel:"modulepreload",href:s},o),Ci.set(w,s),u.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Bf(w)))return}m=u.createElement("link"),ln(m,"link",s),Rt(m),u.head.appendChild(m)}}}function fV(s,o,u){Ps.S(s,o,u);var m=Iu;if(m&&s){var x=pn(m).hoistableStyles,w=Ru(s);o=o||"default";var O=x.get(w);if(!O){var D={loading:0,preload:null};if(O=m.querySelector(Vf(w)))D.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":o},u),(u=Ci.get(w))&&nb(s,u);var H=O=m.createElement("link");Rt(H),ln(H,"link",s),H._p=new Promise(function(ee,de){H.onload=ee,H.onerror=de}),H.addEventListener("load",function(){D.loading|=1}),H.addEventListener("error",function(){D.loading|=2}),D.loading|=4,kp(O,o,m)}O={type:"stylesheet",instance:O,count:1,state:D},x.set(w,O)}}}function hV(s,o){Ps.X(s,o);var u=Iu;if(u&&s){var m=pn(u).hoistableScripts,x=Du(s),w=m.get(x);w||(w=u.querySelector(Bf(x)),w||(s=p({src:s,async:!0},o),(o=Ci.get(x))&&ib(s,o),w=u.createElement("script"),Rt(w),ln(w,"link",s),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(x,w))}}function mV(s,o){Ps.M(s,o);var u=Iu;if(u&&s){var m=pn(u).hoistableScripts,x=Du(s),w=m.get(x);w||(w=u.querySelector(Bf(x)),w||(s=p({src:s,async:!0,type:"module"},o),(o=Ci.get(x))&&ib(s,o),w=u.createElement("script"),Rt(w),ln(w,"link",s),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(x,w))}}function lj(s,o,u,m){var x=(x=we.current)?Pp(x):null;if(!x)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Ru(u.href),u=pn(x).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Ru(u.href);var w=pn(x).hoistableStyles,O=w.get(s);if(O||(x=x.ownerDocument||x,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,O),(w=x.querySelector(Vf(s)))&&!w._p&&(O.instance=w,O.state.loading=5),Ci.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ci.set(s,u),w||pV(x,s,u,O.state))),o&&m===null)throw Error(n(528,""));return O}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Du(u),u=pn(x).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Ru(s){return'href="'+Kr(s)+'"'}function Vf(s){return'link[rel="stylesheet"]['+s+"]"}function cj(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function pV(s,o,u,m){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=s.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),ln(o,"link",u),Rt(o),s.head.appendChild(o))}function Du(s){return'[src="'+Kr(s)+'"]'}function Bf(s){return"script[async]"+s}function uj(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=s.querySelector('style[data-href~="'+Kr(u.href)+'"]');if(m)return o.instance=m,Rt(m),m;var x=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),Rt(m),ln(m,"style",x),kp(m,u.precedence,s),o.instance=m;case"stylesheet":x=Ru(u.href);var w=s.querySelector(Vf(x));if(w)return o.state.loading|=4,o.instance=w,Rt(w),w;m=cj(u),(x=Ci.get(x))&&nb(m,x),w=(s.ownerDocument||s).createElement("link"),Rt(w);var O=w;return O._p=new Promise(function(D,H){O.onload=D,O.onerror=H}),ln(w,"link",m),o.state.loading|=4,kp(w,u.precedence,s),o.instance=w;case"script":return w=Du(u.src),(x=s.querySelector(Bf(w)))?(o.instance=x,Rt(x),x):(m=u,(x=Ci.get(w))&&(m=p({},u),ib(m,x)),s=s.ownerDocument||s,x=s.createElement("script"),Rt(x),ln(x,"link",m),s.head.appendChild(x),o.instance=x);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,kp(m,u.precedence,s));return o.instance}function kp(s,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,w=x,O=0;O<m.length;O++){var D=m[O];if(D.dataset.precedence===o)w=D;else if(w!==x)break}w?w.parentNode.insertBefore(s,w.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function nb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function ib(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Op=null;function dj(s,o,u){if(Op===null){var m=new Map,x=Op=new Map;x.set(u,m)}else x=Op,m=x.get(u),m||(m=new Map,x.set(u,m));if(m.has(s))return m;for(m.set(s,null),u=u.getElementsByTagName(s),x=0;x<u.length;x++){var w=u[x];if(!(w[ce]||w[tr]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(o)||"";O=s+O;var D=m.get(O);D?D.push(w):m.set(O,[w])}}return m}function fj(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function gV(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function hj(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Uf=null;function yV(){}function vV(s,o,u){if(Uf===null)throw Error(n(475));var m=Uf;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var x=Ru(u.href),w=s.querySelector(Vf(x));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(m.count++,m=Ip.bind(m),s.then(m,m)),o.state.loading|=4,o.instance=w,Rt(w);return}w=s.ownerDocument||s,u=cj(u),(x=Ci.get(x))&&nb(u,x),w=w.createElement("link"),Rt(w);var O=w;O._p=new Promise(function(D,H){O.onload=D,O.onerror=H}),ln(w,"link",u),o.instance=w}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=Ip.bind(m),s.addEventListener("load",o),s.addEventListener("error",o))}}function xV(){if(Uf===null)throw Error(n(475));var s=Uf;return s.stylesheets&&s.count===0&&ab(s,s.stylesheets),0<s.count?function(o){var u=setTimeout(function(){if(s.stylesheets&&ab(s,s.stylesheets),s.unsuspend){var m=s.unsuspend;s.unsuspend=null,m()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Ip(){if(this.count--,this.count===0){if(this.stylesheets)ab(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Rp=null;function ab(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Rp=new Map,o.forEach(bV,s),Rp=null,Ip.call(s))}function bV(s,o){if(!(o.state.loading&4)){var u=Rp.get(s);if(u)var m=u.get(null);else{u=new Map,Rp.set(s,u);for(var x=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<x.length;w++){var O=x[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),m=O)}m&&u.set(null,m)}x=o.instance,O=x.getAttribute("data-precedence"),w=u.get(O)||m,w===m&&u.set(null,x),u.set(O,x),this.count++,m=Ip.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),w?w.parentNode.insertBefore(x,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(x,s.firstChild)),o.state.loading|=4}}var $f={$$typeof:j,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function wV(s,o,u,m,x,w,O,D){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.hiddenUpdates=ss(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function mj(s,o,u,m,x,w,O,D,H,ee,de,ge){return s=new wV(s,o,u,O,D,H,ee,ge),o=1,w===!0&&(o|=24),w=Jn(3,null,null,o),s.current=w,w.stateNode=s,o=Uv(),o.refCount++,s.pooledCache=o,o.refCount++,w.memoizedState={element:m,isDehydrated:u,cache:o},qv(w),s}function pj(s){return s?(s=fu,s):fu}function gj(s,o,u,m,x,w){x=pj(x),m.context===null?m.context=x:m.pendingContext=x,m=To(o),m.payload={element:u},w=w===void 0?null:w,w!==null&&(m.callback=w),u=No(s,m,o),u!==null&&(ii(u,s,o),yf(u,s,o))}function yj(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function sb(s,o){yj(s,o),(s=s.alternate)&&yj(s,o)}function vj(s){if(s.tag===13){var o=du(s,67108864);o!==null&&ii(o,s,67108864),sb(s,67108864)}}var Dp=!0;function _V(s,o,u,m){var x=W.T;W.T=null;var w=K.p;try{K.p=2,ob(s,o,u,m)}finally{K.p=w,W.T=x}}function EV(s,o,u,m){var x=W.T;W.T=null;var w=K.p;try{K.p=8,ob(s,o,u,m)}finally{K.p=w,W.T=x}}function ob(s,o,u,m){if(Dp){var x=lb(m);if(x===null)Wx(s,o,m,Mp,u),bj(s,m);else if(SV(x,s,o,u,m))m.stopPropagation();else if(bj(s,m),o&4&&-1<AV.indexOf(s)){for(;x!==null;){var w=st(x);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=Yn(w.pendingLanes);if(O!==0){var D=w;for(D.pendingLanes|=2,D.entangledLanes|=2;O;){var H=1<<31-an(O);D.entanglements[1]|=H,O&=~H}Ia(w),(vt&6)===0&&(xp=$e()+500,Rf(0))}}break;case 13:D=du(w,2),D!==null&&ii(D,w,2),wp(),sb(w,2)}if(w=lb(m),w===null&&Wx(s,o,m,Mp,u),w===x)break;x=w}x!==null&&m.stopPropagation()}else Wx(s,o,m,null,u)}}function lb(s){return s=Qd(s),cb(s)}var Mp=null;function cb(s){if(Mp=null,s=Te(s),s!==null){var o=a(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=l(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Mp=s,null}function xj(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wa()){case or:return 2;case lr:return 8;case yi:case $d:return 32;case Nl:return 268435456;default:return 32}default:return 32}}var ub=!1,Uo=null,$o=null,zo=null,zf=new Map,Ff=new Map,Fo=[],AV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bj(s,o){switch(s){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":zf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ff.delete(o.pointerId)}}function qf(s,o,u,m,x,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:w,targetContainers:[x]},o!==null&&(o=st(o),o!==null&&vj(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),s)}function SV(s,o,u,m,x){switch(o){case"focusin":return Uo=qf(Uo,s,o,u,m,x),!0;case"dragenter":return $o=qf($o,s,o,u,m,x),!0;case"mouseover":return zo=qf(zo,s,o,u,m,x),!0;case"pointerover":var w=x.pointerId;return zf.set(w,qf(zf.get(w)||null,s,o,u,m,x)),!0;case"gotpointercapture":return w=x.pointerId,Ff.set(w,qf(Ff.get(w)||null,s,o,u,m,x)),!0}return!1}function wj(s){var o=Te(s.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){s.blockedOn=o,Fd(s.priority,function(){if(u.tag===13){var m=ni();m=Cl(m);var x=du(u,m);x!==null&&ii(x,u,m),sb(u,m)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Lp(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=lb(s.nativeEvent);if(u===null){u=s.nativeEvent;var m=new u.constructor(u.type,u);Xd=m,u.target.dispatchEvent(m),Xd=null}else return o=st(u),o!==null&&vj(o),s.blockedOn=u,!1;o.shift()}return!0}function _j(s,o,u){Lp(s)&&u.delete(o)}function TV(){ub=!1,Uo!==null&&Lp(Uo)&&(Uo=null),$o!==null&&Lp($o)&&($o=null),zo!==null&&Lp(zo)&&(zo=null),zf.forEach(_j),Ff.forEach(_j)}function Vp(s,o){s.blockedOn===o&&(s.blockedOn=null,ub||(ub=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,TV)))}var Bp=null;function Ej(s){Bp!==s&&(Bp=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Bp===s&&(Bp=null);for(var o=0;o<s.length;o+=3){var u=s[o],m=s[o+1],x=s[o+2];if(typeof m!="function"){if(cb(m||u)===null)continue;break}var w=st(u);w!==null&&(s.splice(o,3),o-=3,cx(w,{pending:!0,data:x,method:u.method,action:m},m,x))}}))}function Hf(s){function o(H){return Vp(H,s)}Uo!==null&&Vp(Uo,s),$o!==null&&Vp($o,s),zo!==null&&Vp(zo,s),zf.forEach(o),Ff.forEach(o);for(var u=0;u<Fo.length;u++){var m=Fo[u];m.blockedOn===s&&(m.blockedOn=null)}for(;0<Fo.length&&(u=Fo[0],u.blockedOn===null);)wj(u),u.blockedOn===null&&Fo.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var x=u[m],w=u[m+1],O=x[Mr]||null;if(typeof w=="function")O||Ej(u);else if(O){var D=null;if(w&&w.hasAttribute("formAction")){if(x=w,O=w[Mr]||null)D=O.formAction;else if(cb(x)!==null)continue}else D=O.action;typeof D=="function"?u[m+1]=D:(u.splice(m,3),m-=3),Ej(u)}}}function db(s){this._internalRoot=s}Up.prototype.render=db.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,m=ni();gj(u,m,s,o,null,null)},Up.prototype.unmount=db.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;gj(s.current,2,null,s,null,null),wp(),o[Wi]=null}};function Up(s){this._internalRoot=s}Up.prototype.unstable_scheduleHydration=function(s){if(s){var o=Gi();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Fo.length&&o!==0&&o<Fo[u].priority;u++);Fo.splice(u,0,s),u===0&&wj(s)}};var Aj=e.version;if(Aj!=="19.1.1")throw Error(n(527,Aj,"19.1.1"));K.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=f(o),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var NV={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$p.isDisabled&&$p.supportsFiber)try{rn=$p.inject(NV),Jt=$p}catch{}}return Gf.createRoot=function(s,o){if(!i(s))throw Error(n(299));var u=!1,m="",x=UT,w=$T,O=zT,D=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks)),o=mj(s,1,!1,null,null,u,m,x,w,O,D,null),s[Wi]=o.current,Gx(s),new db(o)},Gf.hydrateRoot=function(s,o,u){if(!i(s))throw Error(n(299));var m=!1,x="",w=UT,O=$T,D=zT,H=null,ee=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(H=u.unstable_transitionCallbacks),u.formState!==void 0&&(ee=u.formState)),o=mj(s,1,!0,o,u??null,m,x,w,O,D,H,ee),o.context=pj(null),u=o.current,m=ni(),m=Cl(m),x=To(m),x.callback=null,No(u,x,m),u=m,o.current.lanes=u,Kt(o,u),Ia(o),s[Wi]=o.current,Gx(s),new Up(o)},Gf.version="19.1.1",Gf}var Rj;function VV(){if(Rj)return mb.exports;Rj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mb.exports=LV(),mb.exports}var BV=VV();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dj="popstate";function UV(t={}){function e(i,a){let{pathname:l="/",search:c="",hash:f=""}=Lc(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),b1("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=i.location.href,h=f.indexOf("#");c=h===-1?f:f.slice(0,h)}return c+"#"+(typeof a=="string"?a:xh(a))}function n(i,a){Vi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return zV(e,r,n,t)}function Qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $V(){return Math.random().toString(36).substring(2,10)}function Mj(t,e){return{usr:t.state,key:t.key,idx:e}}function b1(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Lc(e):e,state:r,key:e&&e.key||n||$V()}}function xh({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Lc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function zV(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,c="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){c="POP";let S=p(),N=S==null?null:S-h;h=S,f&&f({action:c,location:E.location,delta:N})}function v(S,N){c="PUSH";let C=b1(E.location,S,N);r&&r(C,S),h=p()+1;let j=Mj(C,h),L=E.createHref(C);try{l.pushState(j,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(L)}a&&f&&f({action:c,location:E.location,delta:1})}function b(S,N){c="REPLACE";let C=b1(E.location,S,N);r&&r(C,S),h=p();let j=Mj(C,h),L=E.createHref(C);l.replaceState(j,"",L),a&&f&&f({action:c,location:E.location,delta:0})}function A(S){return FV(S)}let E={get action(){return c},get location(){return t(i,l)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Dj,g),f=S,()=>{i.removeEventListener(Dj,g),f=null}},createHref(S){return e(i,S)},createURL:A,encodeLocation(S){let N=A(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:b,go(S){return l.go(S)}};return E}function FV(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Qt(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:xh(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function aI(t,e,r="/"){return qV(t,e,r,!1)}function qV(t,e,r,n){let i=typeof e=="string"?Lc(e):e,a=Hs(i.pathname||"/",r);if(a==null)return null;let l=sI(t);HV(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=rB(a);c=eB(l[f],h,n)}return c}function sI(t,e=[],r=[],n="",i=!1){let a=(l,c,f=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&f)return;Qt(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=Vs([n,p.relativePath]),v=r.concat(p);l.children&&l.children.length>0&&(Qt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),sI(l.children,e,v,g,f)),!(l.path==null&&!l.index)&&e.push({path:g,score:ZV(g,l.index),routesMeta:v})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let f of oI(l.path))a(l,c,!0,f)}),e}function oI(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=oI(n.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function HV(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:JV(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var KV=/^:[\w-]+$/,GV=3,WV=2,YV=1,XV=10,QV=-2,Lj=t=>t==="*";function ZV(t,e){let r=t.split("/"),n=r.length;return r.some(Lj)&&(n+=QV),e&&(n+=WV),r.filter(i=>!Lj(i)).reduce((i,a)=>i+(KV.test(a)?GV:a===""?YV:XV),n)}function JV(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function eB(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",l=[];for(let c=0;c<n.length;++c){let f=n[c],h=c===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=kg({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),v=f.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=kg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Vs([a,g.pathname]),pathnameBase:sB(Vs([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=Vs([a,g.pathnameBase]))}return l}function kg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=tB(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:g},v)=>{if(p==="*"){let A=c[v]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const b=c[v];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function tB(t,e=!1,r=!0){Vi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(n.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function rB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function nB(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Lc(t):t;return{pathname:r?r.startsWith("/")?r:iB(r,e):e,search:oB(n),hash:lB(i)}}function iB(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function vb(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aB(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function H2(t){let e=aB(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function K2(t,e,r,n=!1){let i;typeof t=="string"?i=Lc(t):(i={...t},Qt(!i.pathname||!i.pathname.includes("?"),vb("?","pathname","search",i)),Qt(!i.pathname||!i.pathname.includes("#"),vb("#","pathname","hash",i)),Qt(!i.search||!i.search.includes("#"),vb("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=r;else{let g=e.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}c=g>=0?e[g]:"/"}let f=nB(i,c),h=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var Vs=t=>t.join("/").replace(/\/\/+/g,"/"),sB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var lI=["POST","PUT","PATCH","DELETE"];new Set(lI);var uB=["GET",...lI];new Set(uB);var xd=_.createContext(null);xd.displayName="DataRouter";var ty=_.createContext(null);ty.displayName="DataRouterState";_.createContext(!1);var cI=_.createContext({isTransitioning:!1});cI.displayName="ViewTransition";var dB=_.createContext(new Map);dB.displayName="Fetchers";var fB=_.createContext(null);fB.displayName="Await";var va=_.createContext(null);va.displayName="Navigation";var Bh=_.createContext(null);Bh.displayName="Location";var xa=_.createContext({outlet:null,matches:[],isDataRoute:!1});xa.displayName="Route";var G2=_.createContext(null);G2.displayName="RouteError";function hB(t,{relative:e}={}){Qt(bd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=_.useContext(va),{hash:i,pathname:a,search:l}=Uh(t,{relative:e}),c=a;return r!=="/"&&(c=a==="/"?r:Vs([r,a])),n.createHref({pathname:c,search:l,hash:i})}function bd(){return _.useContext(Bh)!=null}function Ja(){return Qt(bd(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Bh).location}var uI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dI(t){_.useContext(va).static||_.useLayoutEffect(t)}function Fi(){let{isDataRoute:t}=_.useContext(xa);return t?TB():mB()}function mB(){Qt(bd(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(xd),{basename:e,navigator:r}=_.useContext(va),{matches:n}=_.useContext(xa),{pathname:i}=Ja(),a=JSON.stringify(H2(n)),l=_.useRef(!1);return dI(()=>{l.current=!0}),_.useCallback((f,h={})=>{if(Vi(l.current,uI),!l.current)return;if(typeof f=="number"){r.go(f);return}let p=K2(f,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Vs([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,a,i,t])}_.createContext(null);function fI(){let{matches:t}=_.useContext(xa),e=t[t.length-1];return e?e.params:{}}function Uh(t,{relative:e}={}){let{matches:r}=_.useContext(xa),{pathname:n}=Ja(),i=JSON.stringify(H2(r));return _.useMemo(()=>K2(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function pB(t,e){return hI(t,e)}function hI(t,e,r,n,i){Qt(bd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(va),{matches:l}=_.useContext(xa),c=l[l.length-1],f=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let C=g&&g.path||"";mI(h,!g||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=Ja(),b;if(e){let C=typeof e=="string"?Lc(e):e;Qt(p==="/"||C.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=v;let A=b.pathname||"/",E=A;if(p!=="/"){let C=p.replace(/^\//,"").split("/");E="/"+A.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=aI(t,{pathname:E});Vi(g||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Vi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=bB(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},f,C.params),pathname:Vs([p,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:Vs([p,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,r,n,i);return e&&N?_.createElement(Bh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function gB(){let t=SB(),e=cB(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:i},r):null,l)}var yB=_.createElement(gB,null),vB=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?_.createElement(xa.Provider,{value:this.props.routeContext},_.createElement(G2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xB({routeContext:t,match:e,children:r}){let n=_.useContext(xd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(xa.Provider,{value:t},r)}function bB(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=r?.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Qt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,f=-1;if(r)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:g,errors:v}=r,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let v,b=!1,A=null,E=null;r&&(v=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||yB,c&&(f<0&&g===0?(mI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):f===g&&(b=!0,E=p.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,g+1)),N=()=>{let C;return v?C=A:b?C=E:p.route.Component?C=_.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,_.createElement(xB,{match:p,routeContext:{outlet:h,matches:S,isDataRoute:r!=null},children:C})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?_.createElement(vB,{location:r.location,revalidation:r.revalidation,component:A,error:v,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:n}):N()},null)}function W2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wB(t){let e=_.useContext(xd);return Qt(e,W2(t)),e}function _B(t){let e=_.useContext(ty);return Qt(e,W2(t)),e}function EB(t){let e=_.useContext(xa);return Qt(e,W2(t)),e}function Y2(t){let e=EB(t),r=e.matches[e.matches.length-1];return Qt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function AB(){return Y2("useRouteId")}function SB(){let t=_.useContext(G2),e=_B("useRouteError"),r=Y2("useRouteError");return t!==void 0?t:e.errors?.[r]}function TB(){let{router:t}=wB("useNavigate"),e=Y2("useNavigate"),r=_.useRef(!1);return dI(()=>{r.current=!0}),_.useCallback(async(i,a={})=>{Vi(r.current,uI),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Vj={};function mI(t,e,r){!e&&!Vj[t]&&(Vj[t]=!0,Vi(!1,r))}_.memo(NB);function NB({routes:t,future:e,state:r,unstable_onError:n}){return hI(t,void 0,r,n,e)}function xb({to:t,replace:e,state:r,relative:n}){Qt(bd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(va);Vi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(xa),{pathname:l}=Ja(),c=Fi(),f=K2(t,H2(a),l,n==="path"),h=JSON.stringify(f);return _.useEffect(()=>{c(JSON.parse(h),{replace:e,state:r,relative:n})},[c,h,n,e,r]),null}function dr(t){Qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jB({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){Qt(!bd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof r=="string"&&(r=Lc(r));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:v="default"}=r,b=_.useMemo(()=>{let A=Hs(f,l);return A==null?null:{location:{pathname:A,search:h,hash:p,state:g,key:v},navigationType:n}},[l,f,h,p,g,v,n]);return Vi(b!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:_.createElement(va.Provider,{value:c},_.createElement(Bh.Provider,{children:e,value:b}))}function bb({children:t,location:e}){return pB(w1(t),e)}function w1(t,e=[]){let r=[];return _.Children.forEach(t,(n,i)=>{if(!_.isValidElement(n))return;let a=[...e,i];if(n.type===_.Fragment){r.push.apply(r,w1(n.props.children,a));return}Qt(n.type===dr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=w1(n.props.children,a)),r.push(l)}),r}var gg="get",yg="application/x-www-form-urlencoded";function ry(t){return t!=null&&typeof t.tagName=="string"}function CB(t){return ry(t)&&t.tagName.toLowerCase()==="button"}function PB(t){return ry(t)&&t.tagName.toLowerCase()==="form"}function kB(t){return ry(t)&&t.tagName.toLowerCase()==="input"}function OB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IB(t,e){return t.button===0&&(!e||e==="_self")&&!OB(t)}var zp=null;function RB(){if(zp===null)try{new FormData(document.createElement("form"),0),zp=!1}catch{zp=!0}return zp}var DB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wb(t){return t!=null&&!DB.has(t)?(Vi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yg}"`),null):t}function MB(t,e){let r,n,i,a,l;if(PB(t)){let c=t.getAttribute("action");n=c?Hs(c,e):null,r=t.getAttribute("method")||gg,i=wb(t.getAttribute("enctype"))||yg,a=new FormData(t)}else if(CB(t)||kB(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(n=f?Hs(f,e):null,r=t.getAttribute("formmethod")||c.getAttribute("method")||gg,i=wb(t.getAttribute("formenctype"))||wb(c.getAttribute("enctype"))||yg,a=new FormData(c,t),!RB()){let{name:h,type:p,value:g}=t;if(p==="image"){let v=h?`${h}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else h&&a.append(h,g)}}else{if(ry(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=gg,n=null,i=yg,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function X2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function LB(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Hs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function VB(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BB(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function UB(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await VB(a,r);return l.links?l.links():[]}return[]}));return qB(n.flat(1).filter(BB).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Bj(t,e,r,n,i,a){let l=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,c=(f,h)=>r[h].pathname!==f.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,h)=>l(f,h)||c(f,h)):a==="data"?e.filter((f,h)=>{let p=n.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function $B(t,e,{includeHydrateFallback:r}={}){return zB(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function zB(t){return[...new Set(t)]}function FB(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function qB(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(FB(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function pI(){let t=_.useContext(xd);return X2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function HB(){let t=_.useContext(ty);return X2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Q2=_.createContext(void 0);Q2.displayName="FrameworkContext";function gI(){let t=_.useContext(Q2);return X2(t,"You must render this element inside a <HydratedRouter> element"),t}function KB(t,e){let r=_.useContext(Q2),[n,i]=_.useState(!1),[a,l]=_.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,v=_.useRef(null);_.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=N=>{N.forEach(C=>{l(C.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[t]),_.useEffect(()=>{if(n){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[n]);let b=()=>{i(!0)},A=()=>{i(!1),l(!1)};return r?t!=="intent"?[a,v,{}]:[a,v,{onFocus:Wf(c,b),onBlur:Wf(f,A),onMouseEnter:Wf(h,b),onMouseLeave:Wf(p,A),onTouchStart:Wf(g,b)}]:[!1,v,{}]}function Wf(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function GB({page:t,...e}){let{router:r}=pI(),n=_.useMemo(()=>aI(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?_.createElement(YB,{page:t,matches:n,...e}):null}function WB(t){let{manifest:e,routeModules:r}=gI(),[n,i]=_.useState([]);return _.useEffect(()=>{let a=!1;return UB(t,e,r).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,r]),n}function YB({page:t,matches:e,...r}){let n=Ja(),{manifest:i,routeModules:a}=gI(),{basename:l}=pI(),{loaderData:c,matches:f}=HB(),h=_.useMemo(()=>Bj(t,e,f,i,n,"data"),[t,e,f,i,n]),p=_.useMemo(()=>Bj(t,e,f,i,n,"assets"),[t,e,f,i,n]),g=_.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let A=new Set,E=!1;if(e.forEach(N=>{let C=i.routes[N.route.id];!C||!C.hasLoader||(!h.some(j=>j.route.id===N.route.id)&&N.route.id in c&&a[N.route.id]?.shouldRevalidate||C.hasClientLoader?E=!0:A.add(N.route.id))}),A.size===0)return[];let S=LB(t,l,"data");return E&&A.size>0&&S.searchParams.set("_routes",e.filter(N=>A.has(N.route.id)).map(N=>N.route.id).join(",")),[S.pathname+S.search]},[l,c,n,i,h,e,t,a]),v=_.useMemo(()=>$B(p,i),[p,i]),b=WB(p);return _.createElement(_.Fragment,null,g.map(A=>_.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...r})),v.map(A=>_.createElement("link",{key:A,rel:"modulepreload",href:A,...r})),b.map(({key:A,link:E})=>_.createElement("link",{key:A,nonce:r.nonce,...E})))}function XB(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var yI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yI&&(window.__reactRouterVersion="7.9.1")}catch{}function QB({basename:t,children:e,window:r}){let n=_.useRef();n.current==null&&(n.current=UV({window:r,v5Compat:!0}));let i=n.current,[a,l]=_.useState({action:i.action,location:i.location}),c=_.useCallback(f=>{_.startTransition(()=>l(f))},[l]);return _.useLayoutEffect(()=>i.listen(c),[i,c]),_.createElement(jB,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var vI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=_.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:l,state:c,target:f,to:h,preventScrollReset:p,viewTransition:g,...v},b){let{basename:A}=_.useContext(va),E=typeof h=="string"&&vI.test(h),S,N=!1;if(typeof h=="string"&&E&&(S=h,yI))try{let R=new URL(window.location.href),U=h.startsWith("//")?new URL(R.protocol+h):new URL(h),B=Hs(U.pathname,A);U.origin===R.origin&&B!=null?h=B+U.search+U.hash:N=!0}catch{Vi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=hB(h,{relative:i}),[j,L,z]=KB(n,v),M=tU(h,{replace:l,state:c,target:f,preventScrollReset:p,relative:i,viewTransition:g});function I(R){e&&e(R),R.defaultPrevented||M(R)}let P=_.createElement("a",{...v,...z,href:S||C,onClick:N||a?e:I,ref:XB(b,L),target:f,"data-discover":!E&&r==="render"?"true":void 0});return j&&!E?_.createElement(_.Fragment,null,P,_.createElement(GB,{page:C})):P});De.displayName="Link";var ZB=_.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:l,viewTransition:c,children:f,...h},p){let g=Uh(l,{relative:h.relative}),v=Ja(),b=_.useContext(ty),{navigator:A,basename:E}=_.useContext(va),S=b!=null&&sU(g)&&c===!0,N=A.encodeLocation?A.encodeLocation(g).pathname:g.pathname,C=v.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(C=C.toLowerCase(),j=j?j.toLowerCase():null,N=N.toLowerCase()),j&&E&&(j=Hs(j,E)||j);const L=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let z=C===N||!i&&C.startsWith(N)&&C.charAt(L)==="/",M=j!=null&&(j===N||!i&&j.startsWith(N)&&j.charAt(N.length)==="/"),I={isActive:z,isPending:M,isTransitioning:S},P=z?e:void 0,R;typeof n=="function"?R=n(I):R=[n,z?"active":null,M?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(I):a;return _.createElement(De,{...h,"aria-current":P,className:R,ref:p,style:U,to:l,viewTransition:c},typeof f=="function"?f(I):f)});ZB.displayName="NavLink";var JB=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:l=gg,action:c,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...v},b)=>{let A=iU(),E=aU(c,{relative:h}),S=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&vI.test(c),C=j=>{if(f&&f(j),j.defaultPrevented)return;j.preventDefault();let L=j.nativeEvent.submitter,z=L?.getAttribute("formmethod")||l;A(L||j.currentTarget,{fetcherKey:e,method:z,navigate:r,replace:i,state:a,relative:h,preventScrollReset:p,viewTransition:g})};return _.createElement("form",{ref:b,method:S,action:E,onSubmit:n?f:C,...v,"data-discover":!N&&t==="render"?"true":void 0})});JB.displayName="Form";function eU(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xI(t){let e=_.useContext(xd);return Qt(e,eU(t)),e}function tU(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=Fi(),f=Ja(),h=Uh(t,{relative:a});return _.useCallback(p=>{if(IB(p,e)){p.preventDefault();let g=r!==void 0?r:xh(f)===xh(h);c(t,{replace:g,state:n,preventScrollReset:i,relative:a,viewTransition:l})}},[f,c,h,r,n,e,t,i,a,l])}var rU=0,nU=()=>`__${String(++rU)}__`;function iU(){let{router:t}=xI("useSubmit"),{basename:e}=_.useContext(va),r=AB();return _.useCallback(async(n,i={})=>{let{action:a,method:l,encType:c,formData:f,body:h}=MB(n,e);if(i.navigate===!1){let p=i.fetcherKey||nU();await t.fetch(p,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function aU(t,{relative:e}={}){let{basename:r}=_.useContext(va),n=_.useContext(xa);Qt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Uh(t||".",{relative:e})},l=Ja();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(p=>p==="")){c.delete("index"),f.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Vs([r,a.pathname])),xh(a)}function sU(t,{relative:e}={}){let r=_.useContext(cI);Qt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=xI("useViewTransitionState"),i=Uh(t,{relative:e});if(!r.isTransitioning)return!1;let a=Hs(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Hs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return kg(i.pathname,l)!=null||kg(i.pathname,a)!=null}var bI=iI();const oU=()=>{};var Uj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},lU=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],l=t[r++],c=t[r++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(f>>10)),e[n++]=String.fromCharCode(56320+(f&1023))}else{const a=t[r++],l=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},_I={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=a>>2,g=(a&3)<<4|c>>4;let v=(c&15)<<2|h>>6,b=h&63;f||(b=64,l||(v=64)),n.push(r[p],r[g],r[v],r[b])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],c=i<t.length?r[t.charAt(i)]:0;++i;const h=i<t.length?r[t.charAt(i)]:64;++i;const g=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||c==null||h==null||g==null)throw new cU;const v=a<<2|c>>4;if(n.push(v),h!==64){const b=c<<4&240|h>>2;if(n.push(b),g!==64){const A=h<<6&192|g;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uU=function(t){const e=wI(t);return _I.encodeByteArray(e,!0)},Og=function(t){return uU(t).replace(/\./g,"")},EI=function(t){try{return _I.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=()=>dU().__FIREBASE_DEFAULTS__,hU=()=>{if(typeof process>"u"||typeof Uj>"u")return;const t=Uj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&EI(t[1]);return e&&JSON.parse(e)},ny=()=>{try{return oU()||fU()||hU()||mU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AI=t=>ny()?.emulatorHosts?.[t],SI=t=>{const e=AI(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},TI=()=>ny()?.config,NI=t=>ny()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Z2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Og(JSON.stringify(r)),Og(JSON.stringify(l)),""].join(".")}const dh={};function gU(){const t={prod:[],emulator:[]};for(const e of Object.keys(dh))dh[e]?t.emulator.push(e):t.prod.push(e);return t}function yU(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let $j=!1;function J2(t,e){if(typeof window>"u"||typeof document>"u"||!Vc(window.location.host)||dh[t]===e||dh[t]||$j)return;dh[t]=e;function r(v){return`__firebase__banner__${v}`}const n="__firebase__banner",a=gU().prod.length>0;function l(){const v=document.getElementById(n);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{$j=!0,l()},v}function p(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=yU(n),b=r("text"),A=document.getElementById(b)||document.createElement("span"),E=r("learnmore"),S=document.getElementById(E)||document.createElement("a"),N=r("preprendIcon"),C=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const j=v.element;c(j),p(S,E);const L=h();f(C,N),j.append(C,A,S,L),document.body.appendChild(j)}a?(A.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function xU(){const t=ny()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _U(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EU(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AU(){return!xU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SU(){try{return typeof indexedDB=="object"}catch{return!1}}function TU(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="FirebaseError";class es extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=NU,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$h.prototype.create)}}class $h{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?jU(a,n):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new es(i,c,n)}}function jU(t,e){return t.replace(CU,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const CU=/\{\$([^}]+)}/g;function PU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ks(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],l=e[i];if(zj(a)&&zj(l)){if(!Ks(a,l))return!1}else if(a!==l)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function zj(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function nh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function ih(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function kU(t,e){const r=new OU(t,e);return r.subscribe.bind(r)}class OU{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");IU(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=_b),i.error===void 0&&(i.error=_b),i.complete===void 0&&(i.complete=_b);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IU(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function _b(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t){return t&&t._delegate?t._delegate:t}class ol{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RU=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new pU;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MU(e))try{this.getOrInitializeService({instanceIdentifier:oc})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=oc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oc){return this.instances.has(e)}getOptions(e=oc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&l.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:DU(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=oc){return this.component?this.component.multipleInstances?e:oc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DU(t){return t===oc?void 0:t}function MU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new RU(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const VU={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},BU=nt.INFO,UU={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},$U=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=UU[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e_{constructor(e){this.name=e,this._logLevel=BU,this._logHandler=$U,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const zU=(t,e)=>e.some(r=>t instanceof r);let Fj,qj;function FU(){return Fj||(Fj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qU(){return qj||(qj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CI=new WeakMap,_1=new WeakMap,PI=new WeakMap,Eb=new WeakMap,t_=new WeakMap;function HU(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{r(tl(t.result)),i()},l=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(r=>{r instanceof IDBCursor&&CI.set(r,t)}).catch(()=>{}),t_.set(e,t),e}function KU(t){if(_1.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{r(),i()},l=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});_1.set(t,e)}let E1={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return _1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PI.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return tl(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GU(t){E1=t(E1)}function WU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Ab(this),e,...r);return PI.set(n,e.sort?e.sort():[e]),tl(n)}:qU().includes(t)?function(...e){return t.apply(Ab(this),e),tl(CI.get(this))}:function(...e){return tl(t.apply(Ab(this),e))}}function YU(t){return typeof t=="function"?WU(t):(t instanceof IDBTransaction&&KU(t),zU(t,FU())?new Proxy(t,E1):t)}function tl(t){if(t instanceof IDBRequest)return HU(t);if(Eb.has(t))return Eb.get(t);const e=YU(t);return e!==t&&(Eb.set(t,e),t_.set(e,t)),e}const Ab=t=>t_.get(t);function XU(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=tl(l);return n&&l.addEventListener("upgradeneeded",f=>{n(tl(l.result),f.oldVersion,f.newVersion,tl(l.transaction),f)}),r&&l.addEventListener("blocked",f=>r(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const QU=["get","getKey","getAll","getAllKeys","count"],ZU=["put","add","delete","clear"],Sb=new Map;function Hj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sb.get(e))return Sb.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=ZU.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||QU.includes(r)))return;const a=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[r](...c),i&&f.done]))[0]};return Sb.set(e,a),a}GU(t=>({...t,get:(e,r,n)=>Hj(e,r)||t.get(e,r,n),has:(e,r)=>!!Hj(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(e$(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function e$(t){return t.getComponent()?.type==="VERSION"}const A1="@firebase/app",Kj="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new e_("@firebase/app"),t$="@firebase/app-compat",r$="@firebase/analytics-compat",n$="@firebase/analytics",i$="@firebase/app-check-compat",a$="@firebase/app-check",s$="@firebase/auth",o$="@firebase/auth-compat",l$="@firebase/database",c$="@firebase/data-connect",u$="@firebase/database-compat",d$="@firebase/functions",f$="@firebase/functions-compat",h$="@firebase/installations",m$="@firebase/installations-compat",p$="@firebase/messaging",g$="@firebase/messaging-compat",y$="@firebase/performance",v$="@firebase/performance-compat",x$="@firebase/remote-config",b$="@firebase/remote-config-compat",w$="@firebase/storage",_$="@firebase/storage-compat",E$="@firebase/firestore",A$="@firebase/ai",S$="@firebase/firestore-compat",T$="firebase",N$="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="[DEFAULT]",j$={[A1]:"fire-core",[t$]:"fire-core-compat",[n$]:"fire-analytics",[r$]:"fire-analytics-compat",[a$]:"fire-app-check",[i$]:"fire-app-check-compat",[s$]:"fire-auth",[o$]:"fire-auth-compat",[l$]:"fire-rtdb",[c$]:"fire-data-connect",[u$]:"fire-rtdb-compat",[d$]:"fire-fn",[f$]:"fire-fn-compat",[h$]:"fire-iid",[m$]:"fire-iid-compat",[p$]:"fire-fcm",[g$]:"fire-fcm-compat",[y$]:"fire-perf",[v$]:"fire-perf-compat",[x$]:"fire-rc",[b$]:"fire-rc-compat",[w$]:"fire-gcs",[_$]:"fire-gcs-compat",[E$]:"fire-fst",[S$]:"fire-fst-compat",[A$]:"fire-vertex","fire-js":"fire-js",[T$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=new Map,C$=new Map,T1=new Map;function Gj(t,e){try{t.container.addComponent(e)}catch(r){Gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ac(t){const e=t.name;if(T1.has(e))return Gs.debug(`There were multiple attempts to register component ${e}.`),!1;T1.set(e,t);for(const r of Ig.values())Gj(r,t);for(const r of C$.values())Gj(r,t);return!0}function iy(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function qn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rl=new $h("app","Firebase",P$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=N$;function kI(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:S1,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw rl.create("bad-app-name",{appName:String(i)});if(r||(r=TI()),!r)throw rl.create("no-options");const a=Ig.get(i);if(a){if(Ks(r,a.options)&&Ks(n,a.config))return a;throw rl.create("duplicate-app",{appName:i})}const l=new LU(i);for(const f of T1.values())l.addComponent(f);const c=new k$(r,n,l);return Ig.set(i,c),c}function r_(t=S1){const e=Ig.get(t);if(!e&&t===S1&&TI())return kI();if(!e)throw rl.create("no-app",{appName:t});return e}function Va(t,e,r){let n=j$[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${n}" with version "${e}":`];i&&l.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gs.warn(l.join(" "));return}Ac(new ol(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$="firebase-heartbeat-database",I$=1,bh="firebase-heartbeat-store";let Tb=null;function OI(){return Tb||(Tb=XU(O$,I$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bh)}catch(r){console.warn(r)}}}}).catch(t=>{throw rl.create("idb-open",{originalErrorMessage:t.message})})),Tb}async function R$(t){try{const r=(await OI()).transaction(bh),n=await r.objectStore(bh).get(II(t));return await r.done,n}catch(e){if(e instanceof es)Gs.warn(e.message);else{const r=rl.create("idb-get",{originalErrorMessage:e?.message});Gs.warn(r.message)}}}async function Wj(t,e){try{const n=(await OI()).transaction(bh,"readwrite");await n.objectStore(bh).put(e,II(t)),await n.done}catch(r){if(r instanceof es)Gs.warn(r.message);else{const n=rl.create("idb-set",{originalErrorMessage:r?.message});Gs.warn(n.message)}}}function II(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=1024,M$=30;class L${constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new B$(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Yj();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>M$){const i=U$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Yj(),{heartbeatsToSend:r,unsentEntries:n}=V$(this._heartbeatsCache.heartbeats),i=Og(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Gs.warn(e),""}}}function Yj(){return new Date().toISOString().substring(0,10)}function V$(t,e=D$){const r=[];let n=t.slice();for(const i of t){const a=r.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Xj(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Xj(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class B${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SU()?TU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await R$(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Wj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Wj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Xj(t){return Og(JSON.stringify({version:2,heartbeats:t})).length}function U$(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t){Ac(new ol("platform-logger",e=>new JU(e),"PRIVATE")),Ac(new ol("heartbeat",e=>new L$(e),"PRIVATE")),Va(A1,Kj,t),Va(A1,Kj,"esm2020"),Va("fire-js","")}$$("");function RI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z$=RI,DI=new $h("auth","Firebase",RI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=new e_("@firebase/auth");function F$(t,...e){Rg.logLevel<=nt.WARN&&Rg.warn(`Auth (${Bc}): ${t}`,...e)}function vg(t,...e){Rg.logLevel<=nt.ERROR&&Rg.error(`Auth (${Bc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,...e){throw i_(t,...e)}function fa(t,...e){return i_(t,...e)}function n_(t,e,r){const n={...z$(),[e]:r};return new $h("auth","Firebase",n).create(e,{appName:t.name})}function Bs(t){return n_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q$(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Bi(t,"argument-error"),n_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function i_(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return DI.create(t,...e)}function Fe(t,e,...r){if(!t)throw i_(e,...r)}function Is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vg(e),new Error(e)}function Ws(t,e){t||Is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){return typeof self<"u"&&self.location?.href||""}function H$(){return Qj()==="http:"||Qj()==="https:"}function Qj(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H$()||wU()||"connection"in navigator)?navigator.onLine:!0}function G$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ws(r>e,"Short delay should be less than long delay!"),this.isMobile=vU()||_U()}get(){return K$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t,e){Ws(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],X$=new Fh(3e4,6e4);function ro(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ts(t,e,r,n,i={}){return LI(t,i,async()=>{let a={},l={};n&&(e==="GET"?l=n:a={body:JSON.stringify(n)});const c=zh({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...a};return bU()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Vc(t.emulatorConfig.host)&&(h.credentials="include"),MI.fetch()(await VI(t,t.config.apiHost,r,c),h)})}async function LI(t,e,r){t._canInitEmulator=!1;const n={...W$,...e};try{const i=new Z$(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Fp(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,h]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fp(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Fp(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Fp(t,"user-disabled",l);const p=n[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw n_(t,p,h);Bi(t,p)}}catch(i){if(i instanceof es)throw i;Bi(t,"network-request-failed",{message:String(i)})}}async function qh(t,e,r,n,i={}){const a=await ts(t,e,r,n,i);return"mfaPendingCredential"in a&&Bi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function VI(t,e,r,n){const i=`${e}${r}?${n}`,a=t,l=a.config.emulator?a_(t.config,i):`${t.config.apiScheme}://${i}`;return Y$.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function Q$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Z${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(fa(this.auth,"network-request-failed")),X$.get())})}}function Fp(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=fa(t,e,n);return i.customData._tokenResponse=r,i}function Zj(t){return t!==void 0&&t.enterprise!==void 0}class J${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Q$(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ez(t,e){return ts(t,"GET","/v2/recaptchaConfig",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(t,e){return ts(t,"POST","/v1/accounts:delete",e)}async function Dg(t,e){return ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rz(t,e=!1){const r=fr(t),n=await r.getIdToken(e),i=s_(n);Fe(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:n,authTime:fh(Nb(i.auth_time)),issuedAtTime:fh(Nb(i.iat)),expirationTime:fh(Nb(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Nb(t){return Number(t)*1e3}function s_(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return vg("JWT malformed, contained fewer than 3 sections"),null;try{const i=EI(r);return i?JSON.parse(i):(vg("Failed to decode base64 JWT payload"),null)}catch(i){return vg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Jj(t){const e=s_(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof es&&nz(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function nz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=fh(this.lastLoginAt),this.creationTime=fh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mg(t){const e=t.auth,r=await t.getIdToken(),n=await Zu(t,Dg(e,{idToken:r}));Fe(n?.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?BI(i.providerUserInfo):[],l=sz(t.providerData,a),c=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,h=c?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new j1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function az(t){const e=fr(t);await Mg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sz(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function BI(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oz(t,e){const r=await LI(t,{},async()=>{const n=zh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await VI(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:n};return t.emulatorConfig&&Vc(t.emulatorConfig.host)&&(f.credentials="include"),MI.fetch()(l,f)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function lz(t,e){return ts(t,"POST","/v2/accounts:revokeToken",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const r=Jj(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await oz(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,l=new zu;return n&&(Fe(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(Fe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Fe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zu,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ua{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new iz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new j1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return Fe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return rz(this,e)}reload(){return az(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ua({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Mg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(Bs(this.auth));const e=await this.getIdToken();return await Zu(this,tz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,l=r.photoURL??void 0,c=r.tenantId??void 0,f=r._redirectEventId??void 0,h=r.createdAt??void 0,p=r.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:b,providerData:A,stsTokenManager:E}=r;Fe(g&&E,e,"internal-error");const S=zu.fromJSON(this.name,E);Fe(typeof g=="string",e,"internal-error"),Ho(n,e.name),Ho(i,e.name),Fe(typeof v=="boolean",e,"internal-error"),Fe(typeof b=="boolean",e,"internal-error"),Ho(a,e.name),Ho(l,e.name),Ho(c,e.name),Ho(f,e.name),Ho(h,e.name),Ho(p,e.name);const N=new ua({uid:g,auth:e,email:i,emailVerified:v,displayName:n,isAnonymous:b,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:S,createdAt:h,lastLoginAt:p});return A&&Array.isArray(A)&&(N.providerData=A.map(C=>({...C}))),f&&(N._redirectEventId=f),N}static async _fromIdTokenResponse(e,r,n=!1){const i=new zu;i.updateFromServerResponse(r);const a=new ua({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Mg(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Fe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?BI(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,c=new zu;c.updateFromIdToken(n);const f=new ua({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new j1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new Map;function Rs(t){Ws(t instanceof Function,"Expected a class definition");let e=eC.get(t);return e?(Ws(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}UI.type="NONE";const tC=UI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t,e,r){return`firebase:${t}:${e}:${r}`}class Fu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=xg(this.userKey,i.apiKey,a),this.fullPersistenceKey=xg("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Dg(this.auth,{idToken:e}).catch(()=>{});return r?ua._fromGetAccountInfoResponse(this.auth,r,e):null}return ua._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Fu(Rs(tC),e,n);const i=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Rs(tC);const l=xg(n,e.config.apiKey,e.name);let c=null;for(const h of r)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const v=await Dg(e,{idToken:p}).catch(()=>{});if(!v)break;g=await ua._fromGetAccountInfoResponse(e,v,p)}else g=ua._fromJSON(e,p);h!==a&&(c=g),a=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Fu(a,e,n):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(r.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new Fu(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($I(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KI(e))return"Blackberry";if(GI(e))return"Webos";if(zI(e))return"Safari";if((e.includes("chrome/")||FI(e))&&!e.includes("edge/"))return"Chrome";if(HI(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function $I(t=Sn()){return/firefox\//i.test(t)}function zI(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FI(t=Sn()){return/crios\//i.test(t)}function qI(t=Sn()){return/iemobile/i.test(t)}function HI(t=Sn()){return/android/i.test(t)}function KI(t=Sn()){return/blackberry/i.test(t)}function GI(t=Sn()){return/webos/i.test(t)}function o_(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cz(t=Sn()){return o_(t)&&!!window.navigator?.standalone}function uz(){return EU()&&document.documentMode===10}function WI(t=Sn()){return o_(t)||HI(t)||GI(t)||KI(t)||/windows phone/i.test(t)||qI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t,e=[]){let r;switch(t){case"Browser":r=rC(Sn());break;case"Worker":r=`${rC(Sn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Bc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t,e={}){return ts(t,"GET","/v2/passwordPolicy",ro(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=6;class mz{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??hz,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nC(this),this.idTokenSubscription=new nC(this),this.beforeStateQueue=new dz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Rs(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Dg(this,{idToken:e}),n=await ua._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=n?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Mg(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(Bs(this));const r=e?fr(e):null;return r&&Fe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(Bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(Bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fz(this),r=new mz(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $h("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await lz(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Rs(e)||this._popupRedirectResolver;Fe(r,this,"argument-error"),this.redirectPersistenceManager=await Fu.create(this,[Rs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof r=="function"){const f=e.addObserver(r,n,i);return()=>{l=!0,f()}}else{const f=e.addObserver(r);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&F$(`Error while retrieving App Check token: ${e.error}`),e?.token}}function no(t){return fr(t)}class nC{constructor(e){this.auth=e,this.observer=null,this.addObserver=kU(r=>this.observer=r)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ay={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gz(t){ay=t}function XI(t){return ay.loadJS(t)}function yz(){return ay.recaptchaEnterpriseScript}function vz(){return ay.gapiScript}function xz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class bz{constructor(){this.enterprise=new wz}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class wz{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const _z="recaptcha-enterprise",QI="NO_RECAPTCHA";class Ez{constructor(e){this.type=_z,this.auth=no(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{ez(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new J$(f);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}}).catch(f=>{c(f)})})}function i(a,l,c){const f=window.grecaptcha;Zj(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(h=>{l(h)}).catch(()=>{l(QI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bz().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{n(this.auth).then(c=>{if(!r&&Zj(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=yz();f.length!==0&&(f+=c),XI(f).then(()=>{i(c,a,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function iC(t,e,r,n=!1,i=!1){const a=new Ez(t);let l;if(i)l=QI;else try{l=await a.verify(r)}catch{l=await a.verify(r,!0)}const c={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Lg(t,e,r,n,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await iC(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await iC(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(t,e){const r=iy(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Ks(a,e??{}))return i;Bi(i,"already-initialized")}return r.initialize({options:e})}function Sz(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Rs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function Tz(t,e,r){const n=no(t);Fe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=ZI(e),{host:l,port:c}=Nz(e),f=c===null?"":`:${c}`,h={url:`${a}//${l}${f}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Fe(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Fe(Ks(h,n.config.emulator)&&Ks(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,Vc(l)?(Z2(`${a}//${l}${f}`),J2("Auth",!0)):jz()}function ZI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Nz(t){const e=ZI(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:aC(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:aC(l)}}}function aC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jz(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,r){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function Cz(t,e){return ts(t,"POST","/v1/accounts:update",e)}async function Pz(t,e){return ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kz(t,e){return qh(t,"POST","/v1/accounts:signInWithPassword",ro(t,e))}async function Oz(t,e){return ts(t,"POST","/v1/accounts:sendOobCode",ro(t,e))}async function Iz(t,e){return Oz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rz(t,e){return qh(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}async function Dz(t,e){return qh(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends l_{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new wh(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new wh(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lg(e,r,"signInWithPassword",kz);case"emailLink":return Rz(e,{email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lg(e,n,"signUpPassword",Pz);case"emailLink":return Dz(e,{idToken:r,email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t,e){return qh(t,"POST","/v1/accounts:signInWithIdp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz="http://localhost";class Sc extends l_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Sc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Bi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const l=new Sc(n,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const r=this.buildRequest();return qu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,qu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,qu(e,r)}buildRequest(){const e={requestUri:Mz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=zh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Vz(t){const e=nh(ih(t)).link,r=e?nh(ih(e)).deep_link_id:null,n=nh(ih(t)).deep_link_id;return(n?nh(ih(n)).link:null)||n||r||e||t}class c_{constructor(e){const r=nh(ih(e)),n=r.apiKey??null,i=r.oobCode??null,a=Lz(r.mode??null);Fe(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=Vz(e);try{return new c_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(){this.providerId=Uc.PROVIDER_ID}static credential(e,r){return wh._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=c_.parseLink(r);return Fe(n,"argument-error"),wh._fromEmailAndCode(e,n.code,n.tenantId)}}Uc.PROVIDER_ID="password";Uc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends u_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Hh{constructor(){super("facebook.com")}static credential(e){return Sc._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wo.credential(e.oauthAccessToken)}catch{return null}}}Wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Hh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Sc._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ma.credential(r,n)}catch{return null}}}Ma.GOOGLE_SIGN_IN_METHOD="google.com";Ma.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Hh{constructor(){super("github.com")}static credential(e){return Sc._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yo.credential(e.oauthAccessToken)}catch{return null}}}Yo.GITHUB_SIGN_IN_METHOD="github.com";Yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends Hh{constructor(){super("twitter.com")}static credential(e,r){return Sc._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Xo.credential(r,n)}catch{return null}}}Xo.TWITTER_SIGN_IN_METHOD="twitter.com";Xo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bz(t,e){return qh(t,"POST","/v1/accounts:signUp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await ua._fromIdTokenResponse(e,n,i),l=sC(n);return new Tc({user:a,providerId:l,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=sC(n);return new Tc({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function sC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends es{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Vg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Vg(e,r,n,i)}}function JI(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Vg._fromErrorAndOperation(t,a,e,n):a})}async function Uz(t,e,r=!1){const n=await Zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Tc._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(t,e,r=!1){const{auth:n}=t;if(qn(n.app))return Promise.reject(Bs(n));const i="reauthenticate";try{const a=await Zu(t,JI(n,i,e,t),r);Fe(a.idToken,n,"internal-error");const l=s_(a.idToken);Fe(l,n,"internal-error");const{sub:c}=l;return Fe(t.uid===c,n,"user-mismatch"),Tc._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Bi(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(t,e,r=!1){if(qn(t.app))return Promise.reject(Bs(t));const n="signIn",i=await JI(t,n,e),a=await Tc._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function $z(t,e){return tR(no(t),e)}async function zz(t,e){return eR(fr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(t){const e=no(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Fz(t,e,r){const n=no(t);await Lg(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Iz)}async function qz(t,e,r){if(qn(t.app))return Promise.reject(Bs(t));const n=no(t),l=await Lg(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bz).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&rR(t),f}),c=await Tc._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(c.user),c}function Hz(t,e,r){return qn(t.app)?Promise.reject(Bs(t)):$z(fr(t),Uc.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&rR(t),n})}function Kz(t,e){return Gz(fr(t),null,e)}async function Gz(t,e,r){const{auth:n}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(a.password=r);const l=await Zu(t,Cz(n,a));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wz(t,e){return fr(t).setPersistence(e)}function Yz(t,e,r,n){return fr(t).onIdTokenChanged(e,r,n)}function Xz(t,e,r){return fr(t).beforeAuthStateChanged(e,r)}function Qz(t,e,r,n){return fr(t).onAuthStateChanged(e,r,n)}function nR(t){return fr(t).signOut()}const Bg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Bg,"1"),this.storage.removeItem(Bg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=1e3,Jz=10;class aR extends iR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!r&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);uz()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Jz):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Zz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}aR.type="LOCAL";const sR=aR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR extends iR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}oR.type="SESSION";const lR=oR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new sy(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,l=this.handlersMap[i];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(l).map(async h=>h(r.origin,a)),f=await eF(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:f})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const h=d_("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(v.data.response);break;default:clearTimeout(p),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(){return window}function rF(t){Ba().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){return typeof Ba().WorkerGlobalScope<"u"&&typeof Ba().importScripts=="function"}async function nF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iF(){return navigator?.serviceWorker?.controller||null}function aF(){return cR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="firebaseLocalStorageDb",sF=1,Ug="firebaseLocalStorage",dR="fbase_key";class Kh{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function oy(t,e){return t.transaction([Ug],e?"readwrite":"readonly").objectStore(Ug)}function oF(){const t=indexedDB.deleteDatabase(uR);return new Kh(t).toPromise()}function C1(){const t=indexedDB.open(uR,sF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Ug,{keyPath:dR})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Ug)?e(n):(n.close(),await oF(),e(await C1()))})})}async function oC(t,e,r){const n=oy(t,!0).put({[dR]:e,value:r});return new Kh(n).toPromise()}async function lF(t,e){const r=oy(t,!1).get(e),n=await new Kh(r).toPromise();return n===void 0?null:n.value}function lC(t,e){const r=oy(t,!0).delete(e);return new Kh(r).toPromise()}const cF=800,uF=3;class fR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await C1(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>uF)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sy._getInstance(aF()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nF(),!this.activeServiceWorker)return;this.sender=new tF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await C1();return await oC(e,Bg,"1"),await lC(e,Bg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>oC(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>lF(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>lC(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=oy(i,!1).getAll();return new Kh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fR.type="LOCAL";const dF=fR;new Fh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(t,e){return e?Rs(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_ extends l_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return qu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return qu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function fF(t){return tR(t.auth,new f_(t),t.bypassAuthState)}function hF(t){const{auth:e,user:r}=t;return Fe(r,e,"internal-error"),eR(r,new f_(t),t.bypassAuthState)}async function mF(t){const{auth:e,user:r}=t;return Fe(r,e,"internal-error"),Uz(r,new f_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fF;case"linkViaPopup":case"linkViaRedirect":return mF;case"reauthViaPopup":case"reauthViaRedirect":return hF;default:Bi(this.auth,"internal-error")}}resolve(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=new Fh(2e3,1e4);async function pR(t,e,r){if(qn(t.app))return Promise.reject(fa(t,"operation-not-supported-in-this-environment"));const n=no(t);q$(t,e,u_);const i=hR(n,r);return new dc(n,"signInViaPopup",e,i).executeNotNull()}class dc extends mR{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,dc.currentPopupAction&&dc.currentPopupAction.cancel(),dc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Ws(this.filter.length===1,"Popup operations only handle one event");const e=d_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(fa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pF.get())};e()}}dc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="pendingRedirect",bg=new Map;class yF extends mR{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=bg.get(this.auth._key());if(!e){try{const n=await vF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}bg.set(this.auth._key(),e)}return this.bypassAuthState||bg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vF(t,e){const r=wF(e),n=bF(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function xF(t,e){bg.set(t._key(),e)}function bF(t){return Rs(t._redirectPersistence)}function wF(t){return xg(gF,t.config.apiKey,t.name)}async function _F(t,e,r=!1){if(qn(t.app))return Promise.reject(Bs(t));const n=no(t),i=hR(n,e),l=await new yF(n,i,r).execute();return l&&!r&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=600*1e3;class AF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!gR(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";r.onError(fa(this.auth,n))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EF&&this.cachedEventUids.clear(),this.cachedEventUids.has(cC(e))}saveEventToCache(e){this.cachedEventUids.add(cC(e)),this.lastProcessedEventTime=Date.now()}}function cC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function SF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TF(t,e={}){return ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jF=/^https?/;async function CF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TF(t);for(const r of e)try{if(PF(r))return}catch{}Bi(t,"unauthorized-domain")}function PF(t){const e=N1(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===n}if(!jF.test(r))return!1;if(NF.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=new Fh(3e4,6e4);function uC(){const t=Ba().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function OF(t){return new Promise((e,r)=>{function n(){uC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uC(),r(fa(t,"network-request-failed"))},timeout:kF.get()})}if(Ba().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ba().gapi?.load)n();else{const i=xz("iframefcb");return Ba()[i]=()=>{gapi.load?n():r(fa(t,"network-request-failed"))},XI(`${vz()}?onload=${i}`).catch(a=>r(a))}}).catch(e=>{throw wg=null,e})}let wg=null;function IF(t){return wg=wg||OF(t),wg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=new Fh(5e3,15e3),DF="__/auth/iframe",MF="emulator/auth/iframe",LF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BF(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?a_(e,MF):`https://${t.config.authDomain}/${DF}`,n={apiKey:e.apiKey,appName:t.name,v:Bc},i=VF.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${zh(n).slice(1)}`}async function UF(t){const e=await IF(t),r=Ba().gapi;return Fe(r,t,"internal-error"),e.open({where:document.body,url:BF(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LF,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const l=fa(t,"network-request-failed"),c=Ba().setTimeout(()=>{a(l)},RF.get());function f(){Ba().clearTimeout(c),i(n)}n.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zF=500,FF=600,qF="_blank",HF="http://localhost";class dC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KF(t,e,r,n=zF,i=FF){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const f={...$F,width:n.toString(),height:i.toString(),top:a,left:l},h=Sn().toLowerCase();r&&(c=FI(h)?qF:r),$I(h)&&(e=e||HF,f.scrollbars="yes");const p=Object.entries(f).reduce((v,[b,A])=>`${v}${b}=${A},`,"");if(cz(h)&&c!=="_self")return GF(e||"",c),new dC(null);const g=window.open(e||"",c,p);Fe(g,t,"popup-blocked");try{g.focus()}catch{}return new dC(g)}function GF(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF="__/auth/handler",YF="emulator/auth/handler",XF=encodeURIComponent("fac");async function fC(t,e,r,n,i,a){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Bc,eventId:i};if(e instanceof u_){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",PU(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof Hh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const f=await t._getAppCheckToken(),h=f?`#${XF}=${encodeURIComponent(f)}`:"";return`${QF(t)}?${zh(c).slice(1)}${h}`}function QF({config:t}){return t.emulator?a_(t,YF):`https://${t.authDomain}/${WF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="webStorageSupport";class ZF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lR,this._completeRedirectFn=_F,this._overrideRedirectResult=xF}async _openPopup(e,r,n,i){Ws(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await fC(e,r,n,N1(),i);return KF(e,a,d_())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await fC(e,r,n,N1(),i);return rF(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ws(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await UF(e),n=new AF(e);return r.register("authEvent",i=>(Fe(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(jb,{type:jb},i=>{const a=i?.[0]?.[jb];a!==void 0&&r(!!a),Bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=CF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return WI()||zI()||o_()}}const JF=ZF;var hC="@firebase/auth",mC="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rq(t){Ac(new ol("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;Fe(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YI(t)},h=new pz(n,i,a,f);return Sz(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ac(new ol("auth-internal",e=>{const r=no(e.getProvider("auth").getImmediate());return(n=>new eq(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Va(hC,mC,tq(t)),Va(hC,mC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=300,iq=NI("authIdTokenMaxAge")||nq;let pC=null;const aq=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>iq)return;const i=r?.token;pC!==i&&(pC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sq(t=r_()){const e=iy(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Az(t,{popupRedirectResolver:JF,persistence:[dF,sR,lR]}),n=NI("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=aq(a.toString());Xz(r,l,()=>l(r.currentUser)),Yz(r,c=>l(c))}}const i=AI("auth");return i&&Tz(r,`http://${i}`),r}function oq(){return document.getElementsByTagName("head")?.[0]??document}gz({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=fa("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",oq().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rq("Browser");var lq="firebase",cq="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Va(lq,cq,"app");var gC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nl,yR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,P){function R(){}R.prototype=P.prototype,I.F=P.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(U,B,q){for(var V=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)V[xe-2]=arguments[xe];return P.prototype[B].apply(U,V)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,P,R){R||(R=0);const U=Array(16);if(typeof P=="string")for(var B=0;B<16;++B)U[B]=P.charCodeAt(R++)|P.charCodeAt(R++)<<8|P.charCodeAt(R++)<<16|P.charCodeAt(R++)<<24;else for(B=0;B<16;++B)U[B]=P[R++]|P[R++]<<8|P[R++]<<16|P[R++]<<24;P=I.g[0],R=I.g[1],B=I.g[2];let q=I.g[3],V;V=P+(q^R&(B^q))+U[0]+3614090360&4294967295,P=R+(V<<7&4294967295|V>>>25),V=q+(B^P&(R^B))+U[1]+3905402710&4294967295,q=P+(V<<12&4294967295|V>>>20),V=B+(R^q&(P^R))+U[2]+606105819&4294967295,B=q+(V<<17&4294967295|V>>>15),V=R+(P^B&(q^P))+U[3]+3250441966&4294967295,R=B+(V<<22&4294967295|V>>>10),V=P+(q^R&(B^q))+U[4]+4118548399&4294967295,P=R+(V<<7&4294967295|V>>>25),V=q+(B^P&(R^B))+U[5]+1200080426&4294967295,q=P+(V<<12&4294967295|V>>>20),V=B+(R^q&(P^R))+U[6]+2821735955&4294967295,B=q+(V<<17&4294967295|V>>>15),V=R+(P^B&(q^P))+U[7]+4249261313&4294967295,R=B+(V<<22&4294967295|V>>>10),V=P+(q^R&(B^q))+U[8]+1770035416&4294967295,P=R+(V<<7&4294967295|V>>>25),V=q+(B^P&(R^B))+U[9]+2336552879&4294967295,q=P+(V<<12&4294967295|V>>>20),V=B+(R^q&(P^R))+U[10]+4294925233&4294967295,B=q+(V<<17&4294967295|V>>>15),V=R+(P^B&(q^P))+U[11]+2304563134&4294967295,R=B+(V<<22&4294967295|V>>>10),V=P+(q^R&(B^q))+U[12]+1804603682&4294967295,P=R+(V<<7&4294967295|V>>>25),V=q+(B^P&(R^B))+U[13]+4254626195&4294967295,q=P+(V<<12&4294967295|V>>>20),V=B+(R^q&(P^R))+U[14]+2792965006&4294967295,B=q+(V<<17&4294967295|V>>>15),V=R+(P^B&(q^P))+U[15]+1236535329&4294967295,R=B+(V<<22&4294967295|V>>>10),V=P+(B^q&(R^B))+U[1]+4129170786&4294967295,P=R+(V<<5&4294967295|V>>>27),V=q+(R^B&(P^R))+U[6]+3225465664&4294967295,q=P+(V<<9&4294967295|V>>>23),V=B+(P^R&(q^P))+U[11]+643717713&4294967295,B=q+(V<<14&4294967295|V>>>18),V=R+(q^P&(B^q))+U[0]+3921069994&4294967295,R=B+(V<<20&4294967295|V>>>12),V=P+(B^q&(R^B))+U[5]+3593408605&4294967295,P=R+(V<<5&4294967295|V>>>27),V=q+(R^B&(P^R))+U[10]+38016083&4294967295,q=P+(V<<9&4294967295|V>>>23),V=B+(P^R&(q^P))+U[15]+3634488961&4294967295,B=q+(V<<14&4294967295|V>>>18),V=R+(q^P&(B^q))+U[4]+3889429448&4294967295,R=B+(V<<20&4294967295|V>>>12),V=P+(B^q&(R^B))+U[9]+568446438&4294967295,P=R+(V<<5&4294967295|V>>>27),V=q+(R^B&(P^R))+U[14]+3275163606&4294967295,q=P+(V<<9&4294967295|V>>>23),V=B+(P^R&(q^P))+U[3]+4107603335&4294967295,B=q+(V<<14&4294967295|V>>>18),V=R+(q^P&(B^q))+U[8]+1163531501&4294967295,R=B+(V<<20&4294967295|V>>>12),V=P+(B^q&(R^B))+U[13]+2850285829&4294967295,P=R+(V<<5&4294967295|V>>>27),V=q+(R^B&(P^R))+U[2]+4243563512&4294967295,q=P+(V<<9&4294967295|V>>>23),V=B+(P^R&(q^P))+U[7]+1735328473&4294967295,B=q+(V<<14&4294967295|V>>>18),V=R+(q^P&(B^q))+U[12]+2368359562&4294967295,R=B+(V<<20&4294967295|V>>>12),V=P+(R^B^q)+U[5]+4294588738&4294967295,P=R+(V<<4&4294967295|V>>>28),V=q+(P^R^B)+U[8]+2272392833&4294967295,q=P+(V<<11&4294967295|V>>>21),V=B+(q^P^R)+U[11]+1839030562&4294967295,B=q+(V<<16&4294967295|V>>>16),V=R+(B^q^P)+U[14]+4259657740&4294967295,R=B+(V<<23&4294967295|V>>>9),V=P+(R^B^q)+U[1]+2763975236&4294967295,P=R+(V<<4&4294967295|V>>>28),V=q+(P^R^B)+U[4]+1272893353&4294967295,q=P+(V<<11&4294967295|V>>>21),V=B+(q^P^R)+U[7]+4139469664&4294967295,B=q+(V<<16&4294967295|V>>>16),V=R+(B^q^P)+U[10]+3200236656&4294967295,R=B+(V<<23&4294967295|V>>>9),V=P+(R^B^q)+U[13]+681279174&4294967295,P=R+(V<<4&4294967295|V>>>28),V=q+(P^R^B)+U[0]+3936430074&4294967295,q=P+(V<<11&4294967295|V>>>21),V=B+(q^P^R)+U[3]+3572445317&4294967295,B=q+(V<<16&4294967295|V>>>16),V=R+(B^q^P)+U[6]+76029189&4294967295,R=B+(V<<23&4294967295|V>>>9),V=P+(R^B^q)+U[9]+3654602809&4294967295,P=R+(V<<4&4294967295|V>>>28),V=q+(P^R^B)+U[12]+3873151461&4294967295,q=P+(V<<11&4294967295|V>>>21),V=B+(q^P^R)+U[15]+530742520&4294967295,B=q+(V<<16&4294967295|V>>>16),V=R+(B^q^P)+U[2]+3299628645&4294967295,R=B+(V<<23&4294967295|V>>>9),V=P+(B^(R|~q))+U[0]+4096336452&4294967295,P=R+(V<<6&4294967295|V>>>26),V=q+(R^(P|~B))+U[7]+1126891415&4294967295,q=P+(V<<10&4294967295|V>>>22),V=B+(P^(q|~R))+U[14]+2878612391&4294967295,B=q+(V<<15&4294967295|V>>>17),V=R+(q^(B|~P))+U[5]+4237533241&4294967295,R=B+(V<<21&4294967295|V>>>11),V=P+(B^(R|~q))+U[12]+1700485571&4294967295,P=R+(V<<6&4294967295|V>>>26),V=q+(R^(P|~B))+U[3]+2399980690&4294967295,q=P+(V<<10&4294967295|V>>>22),V=B+(P^(q|~R))+U[10]+4293915773&4294967295,B=q+(V<<15&4294967295|V>>>17),V=R+(q^(B|~P))+U[1]+2240044497&4294967295,R=B+(V<<21&4294967295|V>>>11),V=P+(B^(R|~q))+U[8]+1873313359&4294967295,P=R+(V<<6&4294967295|V>>>26),V=q+(R^(P|~B))+U[15]+4264355552&4294967295,q=P+(V<<10&4294967295|V>>>22),V=B+(P^(q|~R))+U[6]+2734768916&4294967295,B=q+(V<<15&4294967295|V>>>17),V=R+(q^(B|~P))+U[13]+1309151649&4294967295,R=B+(V<<21&4294967295|V>>>11),V=P+(B^(R|~q))+U[4]+4149444226&4294967295,P=R+(V<<6&4294967295|V>>>26),V=q+(R^(P|~B))+U[11]+3174756917&4294967295,q=P+(V<<10&4294967295|V>>>22),V=B+(P^(q|~R))+U[2]+718787259&4294967295,B=q+(V<<15&4294967295|V>>>17),V=R+(q^(B|~P))+U[9]+3951481745&4294967295,I.g[0]=I.g[0]+P&4294967295,I.g[1]=I.g[1]+(B+(V<<21&4294967295|V>>>11))&4294967295,I.g[2]=I.g[2]+B&4294967295,I.g[3]=I.g[3]+q&4294967295}n.prototype.v=function(I,P){P===void 0&&(P=I.length);const R=P-this.blockSize,U=this.C;let B=this.h,q=0;for(;q<P;){if(B==0)for(;q<=R;)i(this,I,q),q+=this.blockSize;if(typeof I=="string"){for(;q<P;)if(U[B++]=I.charCodeAt(q++),B==this.blockSize){i(this,U),B=0;break}}else for(;q<P;)if(U[B++]=I[q++],B==this.blockSize){i(this,U),B=0;break}}this.h=B,this.o+=P},n.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var P=1;P<I.length-8;++P)I[P]=0;P=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=P&255,P/=256;for(this.v(I),I=Array(16),P=0,R=0;R<4;++R)for(let U=0;U<32;U+=8)I[P++]=this.g[R]>>>U&255;return I};function a(I,P){var R=c;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=P(I)}function l(I,P){this.h=P;const R=[];let U=!0;for(let B=I.length-1;B>=0;B--){const q=I[B]|0;U&&q==P||(R[B]=q,U=!1)}this.g=R}var c={};function f(I){return-128<=I&&I<128?a(I,function(P){return new l([P|0],P<0?-1:0)}):new l([I|0],I<0?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return g;if(I<0)return S(h(-I));const P=[];let R=1;for(let U=0;I>=R;U++)P[U]=I/R|0,R*=4294967296;return new l(P,0)}function p(I,P){if(I.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(I.charAt(0)=="-")return S(p(I.substring(1),P));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=h(Math.pow(P,8));let U=g;for(let q=0;q<I.length;q+=8){var B=Math.min(8,I.length-q);const V=parseInt(I.substring(q,q+B),P);B<8?(B=h(Math.pow(P,B)),U=U.j(B).add(h(V))):(U=U.j(R),U=U.add(h(V)))}return U}var g=f(0),v=f(1),b=f(16777216);t=l.prototype,t.m=function(){if(E(this))return-S(this).m();let I=0,P=1;for(let R=0;R<this.g.length;R++){const U=this.i(R);I+=(U>=0?U:4294967296+U)*P,P*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(E(this))return"-"+S(this).toString(I);const P=h(Math.pow(I,6));var R=this;let U="";for(;;){const B=L(R,P).g;R=N(R,B.j(P));let q=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=B,A(R))return q+U;for(;q.length<6;)q="0"+q;U=q+U}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(let P=0;P<I.g.length;P++)if(I.g[P]!=0)return!1;return!0}function E(I){return I.h==-1}t.l=function(I){return I=N(this,I),E(I)?-1:A(I)?0:1};function S(I){const P=I.g.length,R=[];for(let U=0;U<P;U++)R[U]=~I.g[U];return new l(R,~I.h).add(v)}t.abs=function(){return E(this)?S(this):this},t.add=function(I){const P=Math.max(this.g.length,I.g.length),R=[];let U=0;for(let B=0;B<=P;B++){let q=U+(this.i(B)&65535)+(I.i(B)&65535),V=(q>>>16)+(this.i(B)>>>16)+(I.i(B)>>>16);U=V>>>16,q&=65535,V&=65535,R[B]=V<<16|q}return new l(R,R[R.length-1]&-2147483648?-1:0)};function N(I,P){return I.add(S(P))}t.j=function(I){if(A(this)||A(I))return g;if(E(this))return E(I)?S(this).j(S(I)):S(S(this).j(I));if(E(I))return S(this.j(S(I)));if(this.l(b)<0&&I.l(b)<0)return h(this.m()*I.m());const P=this.g.length+I.g.length,R=[];for(var U=0;U<2*P;U++)R[U]=0;for(U=0;U<this.g.length;U++)for(let B=0;B<I.g.length;B++){const q=this.i(U)>>>16,V=this.i(U)&65535,xe=I.i(B)>>>16,fe=I.i(B)&65535;R[2*U+2*B]+=V*fe,C(R,2*U+2*B),R[2*U+2*B+1]+=q*fe,C(R,2*U+2*B+1),R[2*U+2*B+1]+=V*xe,C(R,2*U+2*B+1),R[2*U+2*B+2]+=q*xe,C(R,2*U+2*B+2)}for(I=0;I<P;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=P;I<2*P;I++)R[I]=0;return new l(R,0)};function C(I,P){for(;(I[P]&65535)!=I[P];)I[P+1]+=I[P]>>>16,I[P]&=65535,P++}function j(I,P){this.g=I,this.h=P}function L(I,P){if(A(P))throw Error("division by zero");if(A(I))return new j(g,g);if(E(I))return P=L(S(I),P),new j(S(P.g),S(P.h));if(E(P))return P=L(I,S(P)),new j(S(P.g),P.h);if(I.g.length>30){if(E(I)||E(P))throw Error("slowDivide_ only works with positive integers.");for(var R=v,U=P;U.l(I)<=0;)R=z(R),U=z(U);var B=M(R,1),q=M(U,1);for(U=M(U,2),R=M(R,2);!A(U);){var V=q.add(U);V.l(I)<=0&&(B=B.add(R),q=V),U=M(U,1),R=M(R,1)}return P=N(I,B.j(P)),new j(B,P)}for(B=g;I.l(P)>=0;){for(R=Math.max(1,Math.floor(I.m()/P.m())),U=Math.ceil(Math.log(R)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),q=h(R),V=q.j(P);E(V)||V.l(I)>0;)R-=U,q=h(R),V=q.j(P);A(q)&&(q=v),B=B.add(q),I=N(I,V)}return new j(B,I)}t.B=function(I){return L(this,I).h},t.and=function(I){const P=Math.max(this.g.length,I.g.length),R=[];for(let U=0;U<P;U++)R[U]=this.i(U)&I.i(U);return new l(R,this.h&I.h)},t.or=function(I){const P=Math.max(this.g.length,I.g.length),R=[];for(let U=0;U<P;U++)R[U]=this.i(U)|I.i(U);return new l(R,this.h|I.h)},t.xor=function(I){const P=Math.max(this.g.length,I.g.length),R=[];for(let U=0;U<P;U++)R[U]=this.i(U)^I.i(U);return new l(R,this.h^I.h)};function z(I){const P=I.g.length+1,R=[];for(let U=0;U<P;U++)R[U]=I.i(U)<<1|I.i(U-1)>>>31;return new l(R,I.h)}function M(I,P){const R=P>>5;P%=32;const U=I.g.length-R,B=[];for(let q=0;q<U;q++)B[q]=P>0?I.i(q+R)>>>P|I.i(q+R+1)<<32-P:I.i(q+R);return new l(B,I.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,yR=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,nl=l}).apply(typeof gC<"u"?gC:typeof self<"u"?self:typeof window<"u"?window:{});var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vR,ah,xR,_g,P1,bR,wR,_R;(function(){var t,e=Object.defineProperty;function r(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof qp=="object"&&qp];for(var T=0;T<y.length;++T){var k=y[T];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var n=r(this);function i(y,T){if(T)e:{var k=n;y=y.split(".");for(var F=0;F<y.length-1;F++){var J=y[F];if(!(J in k))break e;k=k[J]}y=y[y.length-1],F=k[y],T=T(F),T!=F&&T!=null&&e(k,y,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(T){var k=[],F;for(F in T)Object.prototype.hasOwnProperty.call(T,F)&&k.push([F,T[F]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(y){var T=typeof y;return T=="object"&&y!=null||T=="function"}function f(y,T,k){return y.call.apply(y.bind,arguments)}function h(y,T,k){return h=f,h.apply(null,arguments)}function p(y,T){var k=Array.prototype.slice.call(arguments,1);return function(){var F=k.slice();return F.push.apply(F,arguments),y.apply(this,F)}}function g(y,T){function k(){}k.prototype=T.prototype,y.Z=T.prototype,y.prototype=new k,y.prototype.constructor=y,y.Ob=function(F,J,ae){for(var Ee=Array(arguments.length-2),We=2;We<arguments.length;We++)Ee[We-2]=arguments[We];return T.prototype[J].apply(F,Ee)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function b(y){const T=y.length;if(T>0){const k=Array(T);for(let F=0;F<T;F++)k[F]=y[F];return k}return[]}function A(y,T){for(let F=1;F<arguments.length;F++){const J=arguments[F];var k=typeof J;if(k=k!="object"?k:J?Array.isArray(J)?"array":k:"null",k=="array"||k=="object"&&typeof J.length=="number"){k=y.length||0;const ae=J.length||0;y.length=k+ae;for(let Ee=0;Ee<ae;Ee++)y[k+Ee]=J[Ee]}else y.push(J)}}class E{constructor(T,k){this.i=T,this.j=k,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function S(y){l.setTimeout(()=>{throw y},0)}function N(){var y=I;let T=null;return y.g&&(T=y.g,y.g=y.g.next,y.g||(y.h=null),T.next=null),T}class C{constructor(){this.h=this.g=null}add(T,k){const F=j.get();F.set(T,k),this.h?this.h.next=F:this.g=F,this.h=F}}var j=new E(()=>new L,y=>y.reset());class L{constructor(){this.next=this.g=this.h=null}set(T,k){this.h=T,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let z,M=!1,I=new C,P=()=>{const y=Promise.resolve(void 0);z=()=>{y.then(R)}};function R(){for(var y;y=N();){try{y.h.call(y.g)}catch(k){S(k)}var T=j;T.j(y),T.h<100&&(T.h++,y.next=T.g,T.g=y)}M=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(y,T){this.type=y,this.g=this.target=T,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,T=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const k=()=>{};l.addEventListener("test",k,T),l.removeEventListener("test",k,T)}catch{}return y})();function V(y){return/^[\s\xa0]*$/.test(y)}function xe(y,T){B.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,T)}g(xe,B),xe.prototype.init=function(y,T){const k=this.type=y.type,F=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=T,T=y.relatedTarget,T||(k=="mouseover"?T=y.fromElement:k=="mouseout"&&(T=y.toElement)),this.relatedTarget=T,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),W=0;function K(y,T,k,F,J){this.listener=y,this.proxy=null,this.src=T,this.type=k,this.capture=!!F,this.ha=J,this.key=++W,this.da=this.fa=!1}function le(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function pe(y,T,k){for(const F in y)T.call(k,y[F],F,y)}function $(y,T){for(const k in y)T.call(void 0,y[k],k,y)}function Y(y){const T={};for(const k in y)T[k]=y[k];return T}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(y,T){let k,F;for(let J=1;J<arguments.length;J++){F=arguments[J];for(k in F)y[k]=F[k];for(let ae=0;ae<te.length;ae++)k=te[ae],Object.prototype.hasOwnProperty.call(F,k)&&(y[k]=F[k])}}function oe(y){this.src=y,this.g={},this.h=0}oe.prototype.add=function(y,T,k,F,J){const ae=y.toString();y=this.g[ae],y||(y=this.g[ae]=[],this.h++);const Ee=we(y,T,F,J);return Ee>-1?(T=y[Ee],k||(T.fa=!1)):(T=new K(T,this.src,ae,!!F,J),T.fa=k,y.push(T)),T};function ye(y,T){const k=T.type;if(k in y.g){var F=y.g[k],J=Array.prototype.indexOf.call(F,T,void 0),ae;(ae=J>=0)&&Array.prototype.splice.call(F,J,1),ae&&(le(T),y.g[k].length==0&&(delete y.g[k],y.h--))}}function we(y,T,k,F){for(let J=0;J<y.length;++J){const ae=y[J];if(!ae.da&&ae.listener==T&&ae.capture==!!k&&ae.ha==F)return J}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Ke={};function _e(y,T,k,F,J){if(Array.isArray(T)){for(let ae=0;ae<T.length;ae++)_e(y,T[ae],k,F,J);return null}return k=wa(k),y&&y[fe]?y.J(T,k,c(F)?!!F.capture:!1,J):Ve(y,T,k,!1,F,J)}function Ve(y,T,k,F,J,ae){if(!T)throw Error("Invalid event type");const Ee=c(J)?!!J.capture:!!J;let We=sr(y);if(We||(y[Le]=We=new oe(y)),k=We.add(T,k,F,Ee,ae),k.proxy)return k;if(F=Se(),k.proxy=F,F.src=y,F.listener=k,y.addEventListener)q||(J=Ee),J===void 0&&(J=!1),y.addEventListener(T.toString(),F,J);else if(y.attachEvent)y.attachEvent(Je(T.toString()),F);else if(y.addListener&&y.removeListener)y.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Se(){function y(k){return T.call(y.src,y.listener,k)}const T=mr;return y}function be(y,T,k,F,J){if(Array.isArray(T))for(var ae=0;ae<T.length;ae++)be(y,T[ae],k,F,J);else F=c(F)?!!F.capture:!!F,k=wa(k),y&&y[fe]?(y=y.i,ae=String(T).toString(),ae in y.g&&(T=y.g[ae],k=we(T,k,F,J),k>-1&&(le(T[k]),Array.prototype.splice.call(T,k,1),T.length==0&&(delete y.g[ae],y.h--)))):y&&(y=sr(y))&&(T=y.g[T.toString()],y=-1,T&&(y=we(T,k,F,J)),(k=y>-1?T[y]:null)&&_t(k))}function _t(y){if(typeof y!="number"&&y&&!y.da){var T=y.src;if(T&&T[fe])ye(T.i,y);else{var k=y.type,F=y.proxy;T.removeEventListener?T.removeEventListener(k,F,y.capture):T.detachEvent?T.detachEvent(Je(k),F):T.addListener&&T.removeListener&&T.removeListener(F),(k=sr(T))?(ye(k,y),k.h==0&&(k.src=null,T[Le]=null)):le(y)}}}function Je(y){return y in Ke?Ke[y]:Ke[y]="on"+y}function mr(y,T){if(y.da)y=!0;else{T=new xe(T,this);const k=y.listener,F=y.ha||y.src;y.fa&&_t(y),y=k.call(F,T)}return y}function sr(y){return y=y[Le],y instanceof oe?y:null}var $e="__closure_events_fn_"+(Math.random()*1e9>>>0);function wa(y){return typeof y=="function"?y:(y[$e]||(y[$e]=function(T){return y.handleEvent(T)}),y[$e])}function or(){U.call(this),this.i=new oe(this),this.M=this,this.G=null}g(or,U),or.prototype[fe]=!0,or.prototype.removeEventListener=function(y,T,k,F){be(this,y,T,k,F)};function lr(y,T){var k,F=y.G;if(F)for(k=[];F;F=F.G)k.push(F);if(y=y.M,F=T.type||T,typeof T=="string")T=new B(T,y);else if(T instanceof B)T.target=T.target||y;else{var J=T;T=new B(F,y),Q(T,J)}J=!0;let ae,Ee;if(k)for(Ee=k.length-1;Ee>=0;Ee--)ae=T.g=k[Ee],J=yi(ae,F,!0,T)&&J;if(ae=T.g=y,J=yi(ae,F,!0,T)&&J,J=yi(ae,F,!1,T)&&J,k)for(Ee=0;Ee<k.length;Ee++)ae=T.g=k[Ee],J=yi(ae,F,!1,T)&&J}or.prototype.N=function(){if(or.Z.N.call(this),this.i){var y=this.i;for(const T in y.g){const k=y.g[T];for(let F=0;F<k.length;F++)le(k[F]);delete y.g[T],y.h--}}this.G=null},or.prototype.J=function(y,T,k,F){return this.i.add(String(y),T,!1,k,F)},or.prototype.K=function(y,T,k,F){return this.i.add(String(y),T,!0,k,F)};function yi(y,T,k,F){if(T=y.i.g[String(T)],!T)return!0;T=T.concat();let J=!0;for(let ae=0;ae<T.length;++ae){const Ee=T[ae];if(Ee&&!Ee.da&&Ee.capture==k){const We=Ee.listener,Ut=Ee.ha||Ee.src;Ee.fa&&ye(y.i,Ee),J=We.call(Ut,F)!==!1&&J}}return J&&!F.defaultPrevented}function $d(y,T){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(y,T||0)}function Nl(y){y.g=$d(()=>{y.g=null,y.i&&(y.i=!1,Nl(y))},y.l);const T=y.h;y.h=null,y.m.apply(null,T)}class zd extends U{constructor(T,k){super(),this.m=T,this.l=k,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Nl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(y){U.call(this),this.h=y,this.g={}}g(is,U);var rn=[];function Jt(y){pe(y.g,function(T,k){this.g.hasOwnProperty(k)&&_t(T)},y),y.g={}}is.prototype.N=function(){is.Z.N.call(this),Jt(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nn=l.JSON.stringify,an=l.JSON.parse,Zc=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function as(){}function fo(){}var vi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _a(){B.call(this,"d")}g(_a,B);function Yn(){B.call(this,"c")}g(Yn,B);var er={},Dr=null;function ho(){return Dr=Dr||new or}er.Ia="serverreachability";function jl(y){B.call(this,er.Ia,y)}g(jl,B);function Ea(y){const T=ho();lr(T,new jl(T))}er.STAT_EVENT="statevent";function ss(y,T){B.call(this,er.STAT_EVENT,y),this.stat=T}g(ss,B);function Kt(y){const T=ho();lr(T,new ss(T,y))}er.Ja="timingevent";function Jc(y,T){B.call(this,er.Ja,y),this.size=T}g(Jc,B);function Aa(y,T){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},T)}function Sa(){this.g=!0}Sa.prototype.ua=function(){this.g=!1};function Cl(y,T,k,F,J,ae){y.info(function(){if(y.g)if(ae){var Ee="",We=ae.split("&");for(let yt=0;yt<We.length;yt++){var Ut=We[yt].split("=");if(Ut.length>1){const pr=Ut[0];Ut=Ut[1];const Qn=pr.split("_");Ee=Qn.length>=2&&Qn[1]=="type"?Ee+(pr+"="+Ut+"&"):Ee+(pr+"=redacted&")}}}else Ee=null;else Ee=ae;return"XMLHTTP REQ ("+F+") [attempt "+J+"]: "+T+`
`+k+`
`+Ee})}function Pl(y,T,k,F,J,ae,Ee){y.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+J+"]: "+T+`
`+k+`
`+ae+" "+Ee})}function Gi(y,T,k,F){y.info(function(){return"XMLHTTP TEXT ("+T+"): "+xi(y,k)+(F?" "+F:"")})}function Fd(y,T){y.info(function(){return"TIMEOUT: "+T})}Sa.prototype.info=function(){};function xi(y,T){if(!y.g)return T;if(!T)return null;try{const ae=JSON.parse(T);if(ae){for(y=0;y<ae.length;y++)if(Array.isArray(ae[y])){var k=ae[y];if(!(k.length<2)){var F=k[1];if(Array.isArray(F)&&!(F.length<1)){var J=F[0];if(J!="noop"&&J!="stop"&&J!="close")for(let Ee=1;Ee<F.length;Ee++)F[Ee]=""}}}}return nn(ae)}catch{return T}}var tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wi;function os(){}g(os,as),os.prototype.g=function(){return new XMLHttpRequest},Wi=new os;function ls(y){return encodeURIComponent(String(y))}function eu(y){var T=1;y=y.split(":");const k=[];for(;T>0&&y.length;)k.push(y.shift()),T--;return y.length&&k.push(y.join(":")),k}function Xn(y,T,k,F){this.j=y,this.i=T,this.l=k,this.S=F||1,this.V=new is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var se={},Te={};function st(y,T,k){y.M=1,y.A=ms(rr(T)),y.u=k,y.R=!0,Tr(y,null)}function Tr(y,T){y.F=Date.now(),cs(y),y.B=rr(y.A);var k=y.B,F=y.S;Array.isArray(F)||(F=[String(F)]),Pm(k.i,"t",F),y.C=0,k=y.j.L,y.h=new ce,y.g=su(y.j,k?T:null,!y.u),y.P>0&&(y.O=new zd(h(y.Y,y,y.g),y.P)),T=y.V,k=y.g,F=y.ba;var J="readystatechange";Array.isArray(J)||(J&&(rn[0]=J.toString()),J=rn);for(let ae=0;ae<J.length;ae++){const Ee=_e(k,J[ae],F||T.handleEvent,!1,T.h||T);if(!Ee)break;T.g[Ee.key]=Ee}T=y.J?Y(y.J):{},y.u?(y.v||(y.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,T)):(y.v="GET",y.g.ea(y.B,y.v,null,T)),Ea(),Cl(y.i,y.v,y.B,y.l,y.S,y.u)}Xn.prototype.ba=function(y){y=y.target;const T=this.O;T&&gn(y)==3?T.j():this.Y(y)},Xn.prototype.Y=function(y){try{if(y==this.g)e:{const We=gn(this.g),Ut=this.g.ya(),yt=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||Ll(this.g)))){this.K||We!=4||Ut==7||(Ut==8||yt<=0?Ea(3):Ea(2)),bi(this);var T=this.g.ca();this.X=T;var k=pn(this);if(this.o=T==200,Pl(this.i,this.v,this.B,this.l,this.S,We,T),this.o){if(this.U&&!this.L){t:{if(this.g){var F,J=this.g;if((F=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(F)){var ae=F;break t}}ae=null}if(y=ae)Gi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mo(this,y);else{this.o=!1,this.m=3,Kt(12),Xi(this),us(this);break e}}if(this.R){y=!0;let pr;for(;!this.K&&this.C<k.length;)if(pr=Ta(this,k),pr==Te){We==4&&(this.m=4,Kt(14),y=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(pr==se){this.m=4,Kt(15),Gi(this.i,this.l,k,"[Invalid Chunk]"),y=!1;break}else Gi(this.i,this.l,pr,null),mo(this,pr);if(Rt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||k.length!=0||this.h.h||(this.m=1,Kt(16),y=!1),this.o=this.o&&y,!y)Gi(this.i,this.l,k,"[Invalid Chunked Response]"),Xi(this),us(this);else if(k.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),ef(Ee),Ee.P=!0,Kt(11))}}else Gi(this.i,this.l,k,null),mo(this,k);We==4&&Xi(this),this.o&&!this.K&&(We==4?tf(this.j,this):(this.o=!1,cs(this)))}else Vl(this.g),T==400&&k.indexOf("Unknown SID")>0?(this.m=3,Kt(12)):(this.m=0,Kt(13)),Xi(this),us(this)}}}catch{}finally{}};function pn(y){if(!Rt(y))return y.g.la();const T=Ll(y.g);if(T==="")return"";let k="";const F=T.length,J=gn(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Xi(y),us(y),"";y.h.i=new l.TextDecoder}for(let ae=0;ae<F;ae++)y.h.h=!0,k+=y.h.i.decode(T[ae],{stream:!(J&&ae==F-1)});return T.length=0,y.h.g+=k,y.C=0,y.h.g}function Rt(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Ta(y,T){var k=y.C,F=T.indexOf(`
`,k);return F==-1?Te:(k=Number(T.substring(k,F)),isNaN(k)?se:(F+=1,F+k>T.length?Te:(T=T.slice(F,F+k),y.C=F+k,T)))}Xn.prototype.cancel=function(){this.K=!0,Xi(this)};function cs(y){y.T=Date.now()+y.H,Yi(y,y.H)}function Yi(y,T){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Aa(h(y.aa,y),T)}function bi(y){y.D&&(l.clearTimeout(y.D),y.D=null)}Xn.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Fd(this.i,this.B),this.M!=2&&(Ea(),Kt(17)),Xi(this),this.m=2,us(this)):Yi(this,this.T-y)};function us(y){y.j.I==0||y.K||tf(y.j,y)}function Xi(y){bi(y);var T=y.O;T&&typeof T.dispose=="function"&&T.dispose(),y.O=null,Jt(y.V),y.g&&(T=y.g,y.g=null,T.abort(),T.dispose())}function mo(y,T){try{var k=y.j;if(k.I!=0&&(k.g==y||hs(k.h,y))){if(!y.L&&hs(k.h,y)&&k.I==3){try{var F=k.Ba.g.parse(T)}catch{F=null}if(Array.isArray(F)&&F.length==3){var J=F;if(J[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<y.F)au(k),Na(k);else break e;Jd(k),Kt(18)}}else k.xa=J[1],0<k.xa-k.K&&J[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=Aa(h(k.Va,k),6e3));Ln(k.h)<=1&&k.ta&&(k.ta=void 0)}else ys(k,11)}else if((y.L||k.g==y)&&au(k),!V(T))for(J=k.Ba.g.parse(T),T=0;T<J.length;T++){let yt=J[T];const pr=yt[0];if(!(pr<=k.K))if(k.K=pr,yt=yt[1],k.I==2)if(yt[0]=="c"){k.M=yt[1],k.ba=yt[2];const Qn=yt[3];Qn!=null&&(k.ka=Qn,k.j.info("VER="+k.ka));const ja=yt[4];ja!=null&&(k.za=ja,k.j.info("SVER="+k.za));const ta=yt[5];ta!=null&&typeof ta=="number"&&ta>0&&(F=1.5*ta,k.O=F,k.j.info("backChannelRequestTimeoutMs_="+F)),F=k;const ra=y.g;if(ra){const na=ra.g?ra.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var ae=F.h;ae.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(po(ae,ae.h),ae.h=null))}if(F.G){const nf=ra.g?ra.g.getResponseHeader("X-HTTP-Session-Id"):null;nf&&(F.wa=nf,Et(F.J,F.G,nf))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-y.F,k.j.info("Handshake RTT: "+k.T+"ms")),F=k;var Ee=y;if(F.na=Bm(F,F.L?F.ba:null,F.W),Ee.L){Qi(F.h,Ee);var We=Ee,Ut=F.O;Ut&&(We.H=Ut),We.D&&(bi(We),cs(We)),F.g=Ee}else Dm(F);k.i.length>0&&zl(k)}else yt[0]!="stop"&&yt[0]!="close"||ys(k,7);else k.I==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?ys(k,7):Ul(k):yt[0]!="noop"&&k.l&&k.l.qa(yt),k.A=0)}}Ea(4)}catch{}}var qd=class{constructor(y,T){this.g=y,this.map=T}};function ds(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fs(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ln(y){return y.h?1:y.g?y.g.size:0}function hs(y,T){return y.h?y.h==T:y.g?y.g.has(T):!1}function po(y,T){y.g?y.g.add(T):y.h=T}function Qi(y,T){y.h&&y.h==T?y.h=null:y.g&&y.g.has(T)&&y.g.delete(T)}ds.prototype.cancel=function(){if(this.i=Zi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Zi(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let T=y.i;for(const k of y.g.values())T=T.concat(k.G);return T}return b(y.i)}var go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bv(y,T){if(y){y=y.split("&");for(let k=0;k<y.length;k++){const F=y[k].indexOf("=");let J,ae=null;F>=0?(J=y[k].substring(0,F),ae=y[k].substring(F+1)):J=y[k],T(J,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Ji(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;y instanceof Ji?(this.l=y.l,yo(this,y.j),this.o=y.o,this.g=y.g,kl(this,y.u),this.h=y.h,vo(this,km(y.i)),this.m=y.m):y&&(T=String(y).match(go))?(this.l=!1,yo(this,T[1]||"",!0),this.o=Ol(T[2]||""),this.g=Ol(T[3]||"",!0),kl(this,T[4]),this.h=Ol(T[5]||"",!0),vo(this,T[6]||"",!0),this.m=Ol(T[7]||"")):(this.l=!1,this.i=new wi(null,this.l))}Ji.prototype.toString=function(){const y=[];var T=this.j;T&&y.push(Kr(T,Kd,!0),":");var k=this.g;return(k||T=="file")&&(y.push("//"),(T=this.o)&&y.push(Kr(T,Kd,!0),"@"),y.push(ls(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&y.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&y.push("/"),y.push(Kr(k,k.charAt(0)=="/"?xo:Gd,!0))),(k=this.i.toString())&&y.push("?",k),(k=this.m)&&y.push("#",Kr(k,Cm)),y.join("")},Ji.prototype.resolve=function(y){const T=rr(this);let k=!!y.j;k?yo(T,y.j):k=!!y.o,k?T.o=y.o:k=!!y.g,k?T.g=y.g:k=y.u!=null;var F=y.h;if(k)kl(T,y.u);else if(k=!!y.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var J=T.h.lastIndexOf("/");J!=-1&&(F=T.h.slice(0,J+1)+F)}if(J=F,J==".."||J==".")F="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){F=J.lastIndexOf("/",0)==0,J=J.split("/");const ae=[];for(let Ee=0;Ee<J.length;){const We=J[Ee++];We=="."?F&&Ee==J.length&&ae.push(""):We==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),F&&Ee==J.length&&ae.push("")):(ae.push(We),F=!0)}F=ae.join("/")}else F=J}return k?T.h=F:k=y.i.toString()!=="",k?vo(T,km(y.i)):k=!!y.m,k&&(T.m=y.m),T};function rr(y){return new Ji(y)}function yo(y,T,k){y.j=k?Ol(T,!0):T,y.j&&(y.j=y.j.replace(/:$/,""))}function kl(y,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);y.u=T}else y.u=null}function vo(y,T,k){T instanceof wi?(y.i=T,Xd(y.i,y.l)):(k||(T=Kr(T,jm)),y.i=new wi(T,y.l))}function Et(y,T,k){y.i.set(T,k)}function ms(y){return Et(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Ol(y,T){return y?T?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Kr(y,T,k){return typeof y=="string"?(y=encodeURI(y).replace(T,Hd),k&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Hd(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Kd=/[#\/\?@]/g,Gd=/[#\?:]/g,xo=/[#\?]/g,jm=/[#\?@]/g,Cm=/#/g;function wi(y,T){this.h=this.g=null,this.i=y||null,this.j=!!T}function ps(y){y.g||(y.g=new Map,y.h=0,y.i&&bv(y.i,function(T,k){y.add(decodeURIComponent(T.replace(/\+/g," ")),k)}))}t=wi.prototype,t.add=function(y,T){ps(this),this.i=null,y=ea(this,y);let k=this.g.get(y);return k||this.g.set(y,k=[]),k.push(T),this.h+=1,this};function Wd(y,T){ps(y),T=ea(y,T),y.g.has(T)&&(y.i=null,y.h-=y.g.get(T).length,y.g.delete(T))}function Yd(y,T){return ps(y),T=ea(y,T),y.g.has(T)}t.forEach=function(y,T){ps(this),this.g.forEach(function(k,F){k.forEach(function(J){y.call(T,J,F,this)},this)},this)};function tu(y,T){ps(y);let k=[];if(typeof T=="string")Yd(y,T)&&(k=k.concat(y.g.get(ea(y,T))));else for(y=Array.from(y.g.values()),T=0;T<y.length;T++)k=k.concat(y[T]);return k}t.set=function(y,T){return ps(this),this.i=null,y=ea(this,y),Yd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[T]),this.h+=1,this},t.get=function(y,T){return y?(y=tu(this,y),y.length>0?String(y[0]):T):T};function Pm(y,T,k){Wd(y,T),k.length>0&&(y.i=null,y.g.set(ea(y,T),b(k)),y.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],T=Array.from(this.g.keys());for(let F=0;F<T.length;F++){var k=T[F];const J=ls(k);k=tu(this,k);for(let ae=0;ae<k.length;ae++){let Ee=J;k[ae]!==""&&(Ee+="="+ls(k[ae])),y.push(Ee)}}return this.i=y.join("&")};function km(y){const T=new wi;return T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),T}function ea(y,T){return T=String(T),y.j&&(T=T.toLowerCase()),T}function Xd(y,T){T&&!y.j&&(ps(y),y.i=null,y.g.forEach(function(k,F){const J=F.toLowerCase();F!=J&&(Wd(this,F),Pm(this,J,k))},y)),y.j=T}function Qd(y,T){const k=new Sa;if(l.Image){const F=new Image;F.onload=p(jn,k,"TestLoadImage: loaded",!0,T,F),F.onerror=p(jn,k,"TestLoadImage: error",!1,T,F),F.onabort=p(jn,k,"TestLoadImage: abort",!1,T,F),F.ontimeout=p(jn,k,"TestLoadImage: timeout",!1,T,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=y}else T(!1)}function bo(y,T){const k=new Sa,F=new AbortController,J=setTimeout(()=>{F.abort(),jn(k,"TestPingServer: timeout",!1,T)},1e4);fetch(y,{signal:F.signal}).then(ae=>{clearTimeout(J),ae.ok?jn(k,"TestPingServer: ok",!0,T):jn(k,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(J),jn(k,"TestPingServer: error",!1,T)})}function jn(y,T,k,F,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),F(k)}catch{}}function Om(){this.g=new Zc}function Il(y){this.i=y.Sb||null,this.h=y.ab||!1}g(Il,as),Il.prototype.g=function(){return new Rl(this.i,this.h)};function Rl(y,T){or.call(this),this.H=y,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Rl,or),t=Rl.prototype,t.open=function(y,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=T,this.readyState=1,gs(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(T.body=y),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cn(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wo(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function wo(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var T=y.value?y.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!y.done}))&&(this.response=this.responseText+=T)}y.done?Cn(this):gs(this),this.readyState==3&&wo(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,Cn(this))},t.Na=function(y){this.g&&(this.response=y,Cn(this))},t.ga=function(){this.g&&Cn(this)};function Cn(y){y.readyState=4,y.l=null,y.j=null,y.B=null,gs(y)}t.setRequestHeader=function(y,T){this.A.append(y,T)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],T=this.h.entries();for(var k=T.next();!k.done;)k=k.value,y.push(k[0]+": "+k[1]),k=T.next();return y.join(`\r
`)};function gs(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function _o(y){let T="";return pe(y,function(k,F){T+=F,T+=":",T+=k,T+=`\r
`}),T}function _i(y,T,k){e:{for(F in k){var F=!1;break e}F=!0}F||(k=_o(k),typeof y=="string"?k!=null&&ls(k):Et(y,T,k))}function Dt(y){or.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Dt,or);var ru=/^https?$/i,Im=["POST","PUT"];t=Dt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,T,k,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);T=T?T.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wi.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(T,String(y),!0),this.B=!1}catch(ae){Dl(this,ae);return}if(y=k||"",k=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var J in F)k.set(J,F[J]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ae of F.keys())k.set(ae,F.get(ae));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(k.keys()).find(ae=>ae.toLowerCase()=="content-type"),J=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(Im,T,void 0)>=0)||F||J||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Ee]of k)this.g.setRequestHeader(ae,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ae){Dl(this,ae)}};function Dl(y,T){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=T,y.o=5,Ml(y),Lr(y)}function Ml(y){y.A||(y.A=!0,lr(y,"complete"),lr(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,lr(this,"complete"),lr(this,"abort"),Lr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lr(this,!0)),Dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Zd(this):this.Xa())},t.Xa=function(){Zd(this)};function Zd(y){if(y.h&&typeof a<"u"){if(y.v&&gn(y)==4)setTimeout(y.Ca.bind(y),0);else if(lr(y,"readystatechange"),gn(y)==4){y.h=!1;try{const ae=y.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var k;if(!(k=T)){var F;if(F=ae===0){let Ee=String(y.D).match(go)[1]||null;!Ee&&l.self&&l.self.location&&(Ee=l.self.location.protocol.slice(0,-1)),F=!ru.test(Ee?Ee.toLowerCase():"")}k=F}if(k)lr(y,"complete"),lr(y,"success");else{y.o=6;try{var J=gn(y)>2?y.g.statusText:""}catch{J=""}y.l=J+" ["+y.ca()+"]",Ml(y)}}finally{Lr(y)}}}}function Lr(y,T){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const k=y.g;y.g=null,T||lr(y,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function gn(y){return y.g?y.g.readyState:0}t.ca=function(){try{return gn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var T=this.g.responseText;return y&&T.indexOf(y)==0&&(T=T.substring(y.length)),an(T)}};function Ll(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Vl(y){const T={};y=(y.g&&gn(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<y.length;F++){if(V(y[F]))continue;var k=eu(y[F]);const J=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ae=T[J]||[];T[J]=ae,ae.push(k)}$(T,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bl(y,T,k){return k&&k.internalChannelParams&&k.internalChannelParams[y]||T}function nu(y){this.za=0,this.i=[],this.j=new Sa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bl("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bl("baseRetryDelayMs",5e3,y),this.Za=Bl("retryDelaySeedMs",1e4,y),this.Ta=Bl("forwardChannelMaxRetries",2,y),this.va=Bl("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new ds(y&&y.concurrentRequestLimit),this.Ba=new Om,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=nu.prototype,t.ka=8,t.I=1,t.connect=function(y,T,k,F){Kt(0),this.W=y,this.H=T||{},k&&F!==void 0&&(this.H.OSID=k,this.H.OAID=F),this.F=this.X,this.J=Bm(this,null,this.W),zl(this)};function Ul(y){if($l(y),y.I==3){var T=y.V++,k=rr(y.J);if(Et(k,"SID",y.M),Et(k,"RID",T),Et(k,"TYPE","terminate"),Fl(y,k),T=new Xn(y,y.j,T),T.M=2,T.A=ms(rr(k)),k=!1,l.navigator&&l.navigator.sendBeacon)try{k=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!k&&l.Image&&(new Image().src=T.A,k=!0),k||(T.g=su(T.j,null),T.g.ea(T.A)),T.F=Date.now(),cs(T)}Vm(y)}function Na(y){y.g&&(ef(y),y.g.cancel(),y.g=null)}function $l(y){Na(y),y.v&&(l.clearTimeout(y.v),y.v=null),au(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function zl(y){if(!fs(y.h)&&!y.m){y.m=!0;var T=y.Ea;z||P(),M||(z(),M=!0),I.add(T,y),y.D=0}}function wv(y,T){return Ln(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=T.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Aa(h(y.Ea,y,T),Lm(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const J=new Xn(this,this.j,y);let ae=this.o;if(this.U&&(ae?(ae=Y(ae),Q(ae,this.U)):ae=this.U),this.u!==null||this.R||(J.J=ae,ae=null),this.S)e:{for(var T=0,k=0;k<this.i.length;k++){t:{var F=this.i[k];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(T+=F,T>4096){T=k;break e}if(T===4096||k===this.i.length-1){T=k+1;break e}}T=1e3}else T=1e3;T=iu(this,J,T),k=rr(this.J),Et(k,"RID",y),Et(k,"CVER",22),this.G&&Et(k,"X-HTTP-Session-Id",this.G),Fl(this,k),ae&&(this.R?T="headers="+ls(_o(ae))+"&"+T:this.u&&_i(k,this.u,ae)),po(this.h,J),this.Ra&&Et(k,"TYPE","init"),this.S?(Et(k,"$req",T),Et(k,"SID","null"),J.U=!0,st(J,k,null)):st(J,k,T),this.I=2}}else this.I==3&&(y?Rm(this,y):this.i.length==0||fs(this.h)||Rm(this))};function Rm(y,T){var k;T?k=T.l:k=y.V++;const F=rr(y.J);Et(F,"SID",y.M),Et(F,"RID",k),Et(F,"AID",y.K),Fl(y,F),y.u&&y.o&&_i(F,y.u,y.o),k=new Xn(y,y.j,k,y.D+1),y.u===null&&(k.J=y.o),T&&(y.i=T.G.concat(y.i)),T=iu(y,k,1e3),k.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),po(y.h,k),st(k,F,T)}function Fl(y,T){y.H&&pe(y.H,function(k,F){Et(T,F,k)}),y.l&&pe({},function(k,F){Et(T,F,k)})}function iu(y,T,k){k=Math.min(y.i.length,k);const F=y.l?h(y.l.Ka,y.l,y):null;e:{var J=y.i;let We=-1;for(;;){const Ut=["count="+k];We==-1?k>0?(We=J[0].g,Ut.push("ofs="+We)):We=0:Ut.push("ofs="+We);let yt=!0;for(let pr=0;pr<k;pr++){var ae=J[pr].g;const Qn=J[pr].map;if(ae-=We,ae<0)We=Math.max(0,J[pr].g-100),yt=!1;else try{ae="req"+ae+"_"||"";try{var Ee=Qn instanceof Map?Qn:Object.entries(Qn);for(const[ja,ta]of Ee){let ra=ta;c(ta)&&(ra=nn(ta)),Ut.push(ae+ja+"="+encodeURIComponent(ra))}}catch(ja){throw Ut.push(ae+"type="+encodeURIComponent("_badmap")),ja}}catch{F&&F(Qn)}}if(yt){Ee=Ut.join("&");break e}}Ee=void 0}return y=y.i.splice(0,k),T.G=y,Ee}function Dm(y){if(!y.g&&!y.v){y.Y=1;var T=y.Da;z||P(),M||(z(),M=!0),I.add(T,y),y.A=0}}function Jd(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Aa(h(y.Da,y),Lm(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,Mm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Aa(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Kt(10),Na(this),Mm(this))};function ef(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function Mm(y){y.g=new Xn(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var T=rr(y.na);Et(T,"RID","rpc"),Et(T,"SID",y.M),Et(T,"AID",y.K),Et(T,"CI",y.F?"0":"1"),!y.F&&y.ia&&Et(T,"TO",y.ia),Et(T,"TYPE","xmlhttp"),Fl(y,T),y.u&&y.o&&_i(T,y.u,y.o),y.O&&(y.g.H=y.O);var k=y.g;y=y.ba,k.M=1,k.A=ms(rr(T)),k.u=null,k.R=!0,Tr(k,y)}t.Va=function(){this.C!=null&&(this.C=null,Na(this),Jd(this),Kt(19))};function au(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function tf(y,T){var k=null;if(y.g==T){au(y),ef(y),y.g=null;var F=2}else if(hs(y.h,T))k=T.G,Qi(y.h,T),F=1;else return;if(y.I!=0){if(T.o)if(F==1){k=T.u?T.u.length:0,T=Date.now()-T.F;var J=y.D;F=ho(),lr(F,new Jc(F,k)),zl(y)}else Dm(y);else if(J=T.m,J==3||J==0&&T.X>0||!(F==1&&wv(y,T)||F==2&&Jd(y)))switch(k&&k.length>0&&(T=y.h,T.i=T.i.concat(k)),J){case 1:ys(y,5);break;case 4:ys(y,10);break;case 3:ys(y,6);break;default:ys(y,2)}}}function Lm(y,T){let k=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(k*=2),k*T}function ys(y,T){if(y.j.info("Error code "+T),T==2){var k=h(y.bb,y),F=y.Ua;const J=!F;F=new Ji(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||yo(F,"https"),ms(F),J?Qd(F.toString(),k):bo(F.toString(),k)}else Kt(2);y.I=0,y.l&&y.l.pa(T),Vm(y),$l(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Vm(y){if(y.I=0,y.ja=[],y.l){const T=Zi(y.h);(T.length!=0||y.i.length!=0)&&(A(y.ja,T),A(y.ja,y.i),y.h.i.length=0,b(y.i),y.i.length=0),y.l.oa()}}function Bm(y,T,k){var F=k instanceof Ji?rr(k):new Ji(k);if(F.g!="")T&&(F.g=T+"."+F.g),kl(F,F.u);else{var J=l.location;F=J.protocol,T=T?T+"."+J.hostname:J.hostname,J=+J.port;const ae=new Ji(null);F&&yo(ae,F),T&&(ae.g=T),J&&kl(ae,J),k&&(ae.h=k),F=ae}return k=y.G,T=y.wa,k&&T&&Et(F,k,T),Et(F,"VER",y.ka),Fl(y,F),F}function su(y,T,k){if(T&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=y.Aa&&!y.ma?new Dt(new Il({ab:k})):new Dt(y.ma),T.Fa(y.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Um(){}t=Um.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ou(){}ou.prototype.g=function(y,T){return new Pn(y,T)};function Pn(y,T){or.call(this),this.g=new nu(T),this.l=y,this.h=T&&T.messageUrlParams||null,y=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(y?y["X-WebChannel-Content-Type"]=T.messageContentType:y={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(y?y["X-WebChannel-Client-Profile"]=T.sa:y={"X-WebChannel-Client-Profile":T.sa}),this.g.U=y,(y=T&&T.Qb)&&!V(y)&&(this.g.u=y),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!V(T)&&(this.g.G=T,y=this.h,y!==null&&T in y&&(y=this.h,T in y&&delete y[T])),this.j=new Eo(this)}g(Pn,or),Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Ul(this.g)},Pn.prototype.o=function(y){var T=this.g;if(typeof y=="string"){var k={};k.__data__=y,y=k}else this.v&&(k={},k.__data__=nn(y),y=k);T.i.push(new qd(T.Ya++,y)),T.I==3&&zl(T)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,Pn.Z.N.call(this)};function rf(y){_a.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var T=y.__sm__;if(T){e:{for(const k in T){y=k;break e}y=void 0}(this.i=y)&&(y=this.i,T=T!==null&&y in T?T[y]:void 0),this.data=T}else this.data=y}g(rf,_a);function $m(){Yn.call(this),this.status=1}g($m,Yn);function Eo(y){this.g=y}g(Eo,Um),Eo.prototype.ra=function(){lr(this.g,"a")},Eo.prototype.qa=function(y){lr(this.g,new rf(y))},Eo.prototype.pa=function(y){lr(this.g,new $m)},Eo.prototype.oa=function(){lr(this.g,"b")},ou.prototype.createWebChannel=ou.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,_R=function(){return new ou},wR=function(){return ho()},bR=er,P1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,_g=tr,Mr.COMPLETE="complete",xR=Mr,fo.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",or.prototype.listen=or.prototype.J,ah=fo,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,vR=Dt}).apply(typeof qp<"u"?qp:typeof self<"u"?self:typeof window<"u"?window:{});const yC="@firebase/firestore",vC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new e_("@firebase/firestore");function Lu(){return Nc.logLevel}function Ne(t,...e){if(Nc.logLevel<=nt.DEBUG){const r=e.map(h_);Nc.debug(`Firestore (${wd}): ${t}`,...r)}}function Ys(t,...e){if(Nc.logLevel<=nt.ERROR){const r=e.map(h_);Nc.error(`Firestore (${wd}): ${t}`,...r)}}function Ju(t,...e){if(Nc.logLevel<=nt.WARN){const r=e.map(h_);Nc.warn(`Firestore (${wd}): ${t}`,...r)}}function h_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,ER(t,n,r)}function ER(t,e,r){let n=`FIRESTORE (${wd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Ys(n),new Error(n)}function gt(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||ER(e,i,n)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends es{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(wn.UNAUTHENTICATED)))}shutdown(){}}class dq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class fq{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){gt(this.o===void 0,42304);let n=this.i;const i=f=>this.i!==n?(n=this.i,r(f)):Promise.resolve();let a=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Us,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Us)}}),0),l()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(gt(typeof n.accessToken=="string",31837,{l:n}),new AR(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class hq{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mq{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new hq(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pq{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){gt(this.o===void 0,3512);const n=a=>{a.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Ne("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(gt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new xC(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=gq(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function it(t,e){return t<e?-1:t>e?1:0}function k1(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return Cb(i)===Cb(a)?it(i,a):Cb(i)?1:-1}return it(t.length,e.length)}const yq=55296,vq=57343;function Cb(t){const e=t.charCodeAt(0);return e>=yq&&e<=vq}function ed(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="__name__";class Ra{constructor(e,r,n){r===void 0?r=0:r>e.length&&qe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&qe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ra.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ra?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Ra.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return it(e.length,r.length)}static compareSegments(e,r){const n=Ra.isNumericId(e),i=Ra.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Ra.extractNumericId(e).compare(Ra.extractNumericId(r)):k1(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nl.fromString(e.substring(4,e.length-2))}}class Vt extends Ra{construct(e,r,n){return new Vt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ae(me.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Vt(r)}static emptyPath(){return new Vt([])}}const xq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Ra{construct(e,r,n){return new fn(e,r,n)}static isValidIdentifier(e){return xq.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bC}static keyField(){return new fn([bC])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Ae(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ae(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ae(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(n+=c,i++):(a(),i++)}if(a(),l)throw new Ae(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(r)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Vt.fromString(e))}static fromName(e){return new Me(Vt.fromString(e).popFirst(5))}static empty(){return new Me(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Vt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t,e,r){if(!r)throw new Ae(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bq(t,e,r,n){if(e===!0&&n===!0)throw new Ae(me.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function wC(t){if(!Me.isDocumentKey(t))throw new Ae(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _C(t){if(Me.isDocumentKey(t))throw new Ae(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function TR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ly(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function ma(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=ly(t);throw new Ae(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,e){const r={typeString:t};return e&&(r.value=e),r}function Gh(t,e){if(!TR(t))throw new Ae(me.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const l=t[n];if(i&&typeof l!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Ae(me.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=-62135596800,AC=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*AC);return new Ft(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ae(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ae(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<EC)throw new Ae(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AC}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gh(e,Ft._jsonSchema))return new Ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-EC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ft._jsonSchemaVersion="firestore/timestamp/1.0",Ft._jsonSchema={type:Or("string",Ft._jsonSchemaVersion),seconds:Or("number"),nanoseconds:Or("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Ft(0,0))}static max(){return new Ge(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=-1;function wq(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(n===1e9?new Ft(r+1,0):new Ft(r,n));return new ll(i,Me.empty(),e)}function _q(t){return new ll(t.readTime,t.key,_h)}class ll{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ll(Ge.min(),Me.empty(),_h)}static max(){return new ll(Ge.max(),Me.empty(),_h)}}function Eq(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Me.comparator(t.documentKey,e.documentKey),r!==0?r:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==Aq)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ve(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof ve?r:ve.resolve(r)}catch(r){return ve.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):ve.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):ve.reject(r)}static resolve(e){return new ve(((r,n)=>{r(e)}))}static reject(e){return new ve(((r,n)=>{n(e)}))}static waitFor(e){return new ve(((r,n)=>{let i=0,a=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++a,l&&a===i&&r()}),(f=>n(f)))})),l=!0,a===i&&r()}))}static or(e){let r=ve.resolve(!1);for(const n of e)r=r.next((i=>i?ve.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new ve(((n,i)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const h=f;r(e[h]).next((p=>{l[h]=p,++c,c===a&&n(l)}),(p=>i(p)))}}))}static doWhile(e,r){return new ve(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}function Tq(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ed(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=-1;function uy(t){return t==null}function $g(t){return t===0&&1/t==-1/0}function Nq(t){return typeof t=="number"&&Number.isInteger(t)&&!$g(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="";function jq(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=SC(e)),e=Cq(t.get(r),e);return SC(e)}function Cq(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case NR:r+="";break;default:r+=a}}return r}function SC(t){return t+NR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function vl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function jR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,r){this.comparator=e,this.root=r||un.EMPTY}insert(e,r){return new ir(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new ir(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hp(this.root,e,this.comparator,!0)}}class Hp{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??un.RED,this.left=i??un.EMPTY,this.right=a??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new un(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return un.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new un(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.comparator=e,this.data=new ir(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new NC(this.data.getIterator())}getIteratorFrom(e){return new NC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof $r)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new $r(this.comparator);return r.data=e,r}}class NC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new ui([])}unionWith(e){let r=new $r(fn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ui(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ed(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new CR("Invalid base64 string: "+a):a}})(e);return new hn(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new hn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const Pq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cl(t){if(gt(!!t,39018),typeof t=="string"){let e=0;const r=Pq.exec(t);if(gt(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:br(t.seconds),nanos:br(t.nanos)}}function br(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ul(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="server_timestamp",kR="__type__",OR="__previous_value__",IR="__local_write_time__";function g_(t){return(t?.mapValue?.fields||{})[kR]?.stringValue===PR}function dy(t){const e=t.mapValue.fields[OR];return g_(e)?dy(e):e}function Eh(t){const e=cl(t.mapValue.fields[IR].timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e,r,n,i,a,l,c,f,h,p){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const zg="(default)";class Ah{constructor(e,r){this.projectId=e,this.database=r||zg}static empty(){return new Ah("","")}get isDefaultDatabase(){return this.database===zg}isEqual(e){return e instanceof Ah&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="__type__",Oq="__max__",Kp={mapValue:{}},DR="__vector__",Fg="value";function dl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?g_(t)?4:Rq(t)?9007199254740991:Iq(t)?10:11:qe(28295,{value:t})}function Ha(t,e){if(t===e)return!0;const r=dl(t);if(r!==dl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Eh(t).isEqual(Eh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=cl(i.timestampValue),c=cl(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ul(i.bytesValue).isEqual(ul(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return br(i.geoPointValue.latitude)===br(a.geoPointValue.latitude)&&br(i.geoPointValue.longitude)===br(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return br(i.integerValue)===br(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=br(i.doubleValue),c=br(a.doubleValue);return l===c?$g(l)===$g(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return ed(t.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(TC(l)!==TC(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Ha(l[f],c[f])))return!1;return!0})(t,e);default:return qe(52216,{left:t})}}function Sh(t,e){return(t.values||[]).find((r=>Ha(r,e)))!==void 0}function td(t,e){if(t===e)return 0;const r=dl(t),n=dl(e);if(r!==n)return it(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=br(a.integerValue||a.doubleValue),f=br(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return jC(t.timestampValue,e.timestampValue);case 4:return jC(Eh(t),Eh(e));case 5:return k1(t.stringValue,e.stringValue);case 6:return(function(a,l){const c=ul(a),f=ul(l);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),f=l.split("/");for(let h=0;h<c.length&&h<f.length;h++){const p=it(c[h],f[h]);if(p!==0)return p}return it(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=it(br(a.latitude),br(l.latitude));return c!==0?c:it(br(a.longitude),br(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return CC(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const c=a.fields||{},f=l.fields||{},h=c[Fg]?.arrayValue,p=f[Fg]?.arrayValue,g=it(h?.values?.length||0,p?.values?.length||0);return g!==0?g:CC(h,p)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Kp.mapValue&&l===Kp.mapValue)return 0;if(a===Kp.mapValue)return 1;if(l===Kp.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const v=k1(f[g],p[g]);if(v!==0)return v;const b=td(c[f[g]],h[p[g]]);if(b!==0)return b}return it(f.length,p.length)})(t.mapValue,e.mapValue);default:throw qe(23264,{he:r})}}function jC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const r=cl(t),n=cl(e),i=it(r.seconds,n.seconds);return i!==0?i:it(r.nanos,n.nanos)}function CC(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=td(r[i],n[i]);if(a)return a}return it(r.length,n.length)}function rd(t){return O1(t)}function O1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=cl(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return ul(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return Me.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=O1(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const l of n)a?a=!1:i+=",",i+=`${l}:${O1(r.fields[l])}`;return i+"}"})(t.mapValue):qe(61005,{value:t})}function Eg(t){switch(dl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dy(t);return e?16+Eg(e):16;case 5:return 2*t.stringValue.length;case 6:return ul(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+Eg(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return vl(n.fields,((a,l)=>{i+=a.length+Eg(l)})),i})(t.mapValue);default:throw qe(13486,{value:t})}}function PC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function I1(t){return!!t&&"integerValue"in t}function y_(t){return!!t&&"arrayValue"in t}function kC(t){return!!t&&"nullValue"in t}function OC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ag(t){return!!t&&"mapValue"in t}function Iq(t){return(t?.mapValue?.fields||{})[RR]?.stringValue===DR}function hh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vl(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=hh(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=hh(t.arrayValue.values[r]);return e}return{...t}}function Rq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Oq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Ag(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=hh(r)}setAll(e){let r=fn.emptyPath(),n={},i=[];e.forEach(((l,c)=>{if(!r.isImmediateParentOf(c)){const f=this.getFieldsMap(r);this.applyChanges(f,n,i),n={},i=[],r=c.popLast()}l?n[c.lastSegment()]=hh(l):i.push(c.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Ag(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Ag(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){vl(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new Hn(hh(this.value))}}function MR(t){const e=[];return vl(t.fields,((r,n)=>{const i=new fn([r]);if(Ag(n)){const a=MR(n.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,r,n,i,a,l,c){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new _n(e,0,Ge.min(),Ge.min(),Ge.min(),Hn.empty(),0)}static newFoundDocument(e,r,n,i){return new _n(e,1,r,Ge.min(),n,i,0)}static newNoDocument(e,r){return new _n(e,2,r,Ge.min(),Ge.min(),Hn.empty(),0)}static newUnknownDocument(e,r){return new _n(e,3,r,Ge.min(),Ge.min(),Hn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,r){this.position=e,this.inclusive=r}}function IC(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?n=Me.comparator(Me.fromName(l.referenceValue),r.key):n=td(l,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function RC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ha(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,r="asc"){this.field=e,this.dir=r}}function Dq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{}class kr extends LR{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Lq(e,r,n):r==="array-contains"?new Uq(e,n):r==="in"?new $q(e,n):r==="not-in"?new zq(e,n):r==="array-contains-any"?new Fq(e,n):new kr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Vq(e,n):new Bq(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(td(r,this.value)):r!==null&&dl(this.value)===dl(r)&&this.matchesComparison(td(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pa extends LR{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new pa(e,r)}matches(e){return VR(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VR(t){return t.op==="and"}function BR(t){return Mq(t)&&VR(t)}function Mq(t){for(const e of t.filters)if(e instanceof pa)return!1;return!0}function R1(t){if(t instanceof kr)return t.field.canonicalString()+t.op.toString()+rd(t.value);if(BR(t))return t.filters.map((e=>R1(e))).join(",");{const e=t.filters.map((r=>R1(r))).join(",");return`${t.op}(${e})`}}function UR(t,e){return t instanceof kr?(function(n,i){return i instanceof kr&&n.op===i.op&&n.field.isEqual(i.field)&&Ha(n.value,i.value)})(t,e):t instanceof pa?(function(n,i){return i instanceof pa&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,l,c)=>a&&UR(l,i.filters[c])),!0):!1})(t,e):void qe(19439)}function $R(t){return t instanceof kr?(function(r){return`${r.field.canonicalString()} ${r.op} ${rd(r.value)}`})(t):t instanceof pa?(function(r){return r.op.toString()+" {"+r.getFilters().map($R).join(" ,")+"}"})(t):"Filter"}class Lq extends kr{constructor(e,r,n){super(e,r,n),this.key=Me.fromName(n.referenceValue)}matches(e){const r=Me.comparator(e.key,this.key);return this.matchesComparison(r)}}class Vq extends kr{constructor(e,r){super(e,"in",r),this.keys=zR("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class Bq extends kr{constructor(e,r){super(e,"not-in",r),this.keys=zR("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function zR(t,e){return(e.arrayValue?.values||[]).map((r=>Me.fromName(r.referenceValue)))}class Uq extends kr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return y_(r)&&Sh(r.arrayValue,this.value)}}class $q extends kr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Sh(this.value.arrayValue,r)}}class zq extends kr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Sh(this.value.arrayValue,r)}}class Fq extends kr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!y_(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Sh(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e,r=null,n=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function DC(t,e=null,r=[],n=[],i=null,a=null,l=null){return new qq(t,e,r,n,i,a,l)}function v_(t){const e=Ye(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>R1(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),uy(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>rd(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>rd(n))).join(",")),e.Te=r}return e.Te}function x_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Dq(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!UR(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RC(t.startAt,e.startAt)&&RC(t.endAt,e.endAt)}function D1(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,r=null,n=[],i=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Hq(t,e,r,n,i,a,l,c){return new Ad(t,e,r,n,i,a,l,c)}function b_(t){return new Ad(t)}function MC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FR(t){return t.collectionGroup!==null}function mh(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new $r(fn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Th(a,n))})),r.has(fn.keyField().canonicalString())||e.Ie.push(new Th(fn.keyField(),n))}return e.Ie}function Ua(t){const e=Ye(t);return e.Ee||(e.Ee=Kq(e,mh(t))),e.Ee}function Kq(t,e){if(t.limitType==="F")return DC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Th(i.field,a)}));const r=t.endAt?new qg(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new qg(t.startAt.position,t.startAt.inclusive):null;return DC(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function M1(t,e){const r=t.filters.concat([e]);return new Ad(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Hg(t,e,r){return new Ad(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function fy(t,e){return x_(Ua(t),Ua(e))&&t.limitType===e.limitType}function qR(t){return`${v_(Ua(t))}|lt:${t.limitType}`}function Vu(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>$R(i))).join(", ")}]`),uy(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>rd(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>rd(i))).join(",")),`Target(${n})`})(Ua(t))}; limitType=${t.limitType})`}function hy(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Me.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of mh(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(l,c,f){const h=IC(l,c,f);return l.inclusive?h<=0:h<0})(n.startAt,mh(n),i)||n.endAt&&!(function(l,c,f){const h=IC(l,c,f);return l.inclusive?h>=0:h>0})(n.endAt,mh(n),i))})(t,e)}function Gq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HR(t){return(e,r)=>{let n=!1;for(const i of mh(t)){const a=Wq(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function Wq(t,e,r){const n=t.field.isKeyField()?Me.comparator(e.key,r.key):(function(a,l,c){const f=l.data.field(a),h=c.data.field(a);return f!==null&&h!==null?td(f,h):qe(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vl(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return jR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=new ir(Me.comparator);function Xs(){return Yq}const KR=new ir(Me.comparator);function sh(...t){let e=KR;for(const r of t)e=e.insert(r.key,r);return e}function GR(t){let e=KR;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function fc(){return ph()}function WR(){return ph()}function ph(){return new $c((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Xq=new ir(Me.comparator),Qq=new $r(Me.comparator);function at(...t){let e=Qq;for(const r of t)e=e.add(r);return e}const Zq=new $r(it);function Jq(){return Zq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$g(e)?"-0":e}}function YR(t){return{integerValue:""+t}}function eH(t,e){return Nq(e)?YR(e):w_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this._=void 0}}function tH(t,e,r){return t instanceof Kg?(function(i,a){const l={fields:{[kR]:{stringValue:PR},[IR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&g_(a)&&(a=dy(a)),a&&(l.fields[OR]=a),{mapValue:l}})(r,e):t instanceof nd?QR(t,e):t instanceof id?ZR(t,e):(function(i,a){const l=XR(i,a),c=LC(l)+LC(i.Ae);return I1(l)&&I1(i.Ae)?YR(c):w_(i.serializer,c)})(t,e)}function rH(t,e,r){return t instanceof nd?QR(t,e):t instanceof id?ZR(t,e):r}function XR(t,e){return t instanceof Gg?(function(n){return I1(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class Kg extends my{}class nd extends my{constructor(e){super(),this.elements=e}}function QR(t,e){const r=JR(e);for(const n of t.elements)r.some((i=>Ha(i,n)))||r.push(n);return{arrayValue:{values:r}}}class id extends my{constructor(e){super(),this.elements=e}}function ZR(t,e){let r=JR(e);for(const n of t.elements)r=r.filter((i=>!Ha(i,n)));return{arrayValue:{values:r}}}class Gg extends my{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function LC(t){return br(t.integerValue||t.doubleValue)}function JR(t){return y_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,r){this.field=e,this.transform=r}}function nH(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof nd&&i instanceof nd||n instanceof id&&i instanceof id?ed(n.elements,i.elements,Ha):n instanceof Gg&&i instanceof Gg?Ha(n.Ae,i.Ae):n instanceof Kg&&i instanceof Kg})(t.transform,e.transform)}class iH{constructor(e,r){this.version=e,this.transformResults=r}}class Li{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class py{}function t6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new __(t.key,Li.none()):new Wh(t.key,t.data,Li.none());{const r=t.data,n=Hn.empty();let i=new $r(fn.comparator);for(let a of e.fields)if(!i.has(a)){let l=r.field(a);l===null&&a.length>1&&(a=a.popLast(),l=r.field(a)),l===null?n.delete(a):n.set(a,l),i=i.add(a)}return new xl(t.key,n,new ui(i.toArray()),Li.none())}}function aH(t,e,r){t instanceof Wh?(function(i,a,l){const c=i.value.clone(),f=BC(i.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,r):t instanceof xl?(function(i,a,l){if(!Sg(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=BC(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(r6(i)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,r):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,r)}function gh(t,e,r,n){return t instanceof Wh?(function(a,l,c,f){if(!Sg(a.precondition,l))return c;const h=a.value.clone(),p=UC(a.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,r,n):t instanceof xl?(function(a,l,c,f){if(!Sg(a.precondition,l))return c;const h=UC(a.fieldTransforms,f,l),p=l.data;return p.setAll(r6(a)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,r,n):(function(a,l,c){return Sg(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,r)}function sH(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=XR(n.transform,i||null);a!=null&&(r===null&&(r=Hn.empty()),r.set(n.field,a))}return r||null}function VC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ed(n,i,((a,l)=>nH(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wh extends py{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xl extends py{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function r6(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function BC(t,e,r){const n=new Map;gt(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);n.set(a.field,rH(l,c,r[i]))}return n}function UC(t,e,r){const n=new Map;for(const i of t){const a=i.transform,l=r.data.field(i.field);n.set(i.field,tH(a,l,e))}return n}class __ extends py{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oH extends py{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&aH(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=gh(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=gh(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=WR();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=r.has(i.key)?null:c;const f=t6(l,c);f!==null&&n.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Ge.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),at())}isEqual(e){return this.batchId===e.batchId&&ed(this.mutations,e.mutations,((r,n)=>VC(r,n)))&&ed(this.baseMutations,e.baseMutations,((r,n)=>VC(r,n)))}}class E_{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){gt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return Xq})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,n[l].version);return new E_(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr,lt;function dH(t){switch(t){case me.OK:return qe(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function n6(t){if(t===void 0)return Ys("GRPC error has no .code"),me.UNKNOWN;switch(t){case Cr.OK:return me.OK;case Cr.CANCELLED:return me.CANCELLED;case Cr.UNKNOWN:return me.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return me.INTERNAL;case Cr.UNAVAILABLE:return me.UNAVAILABLE;case Cr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Cr.NOT_FOUND:return me.NOT_FOUND;case Cr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Cr.ABORTED:return me.ABORTED;case Cr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Cr.DATA_LOSS:return me.DATA_LOSS;default:return qe(39323,{code:t})}}(lt=Cr||(Cr={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=new nl([4294967295,4294967295],0);function $C(t){const e=fH().encode(t),r=new yR;return r.update(e),new Uint8Array(r.digest())}function zC(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new nl([r,n],0),new nl([i,a],0)]}class A_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new oh(`Invalid padding: ${r}`);if(n<0)throw new oh(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new oh(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new oh(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=nl.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(nl.fromNumber(n)));return i.compare(hH)===1&&(i=new nl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=$C(e),[n,i]=zC(r);for(let a=0;a<this.hashCount;a++){const l=this.ye(n,i,a);if(!this.we(l))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new A_(a,i,r);return n.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const r=$C(e),[n,i]=zC(r);for(let a=0;a<this.hashCount;a++){const l=this.ye(n,i,a);this.Se(l)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Yh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new gy(Ge.min(),i,new ir(it),Xs(),at())}}class Yh{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Yh(n,r,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class i6{constructor(e,r){this.targetId=e,this.Ce=r}}class a6{constructor(e,r,n=hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class FC{constructor(){this.ve=0,this.Fe=qC(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),r=at(),n=at();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:qe(38017,{changeType:a})}})),new Yh(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=qC()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xs(),this.Je=Gp(),this.He=Gp(),this.Ye=new ir(it)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(D1(a))if(n===0){const l=new Me(a.path);this.et(r,l,_n.newNoDocument(l,Ge.min()))}else gt(n===1,20013,{expectedCount:n});else{const l=this._t(r);if(l!==n){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(r);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,h)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let l,c;try{l=ul(n).toUint8Array()}catch(f){if(f instanceof CR)return Ju("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new A_(l,i,a)}catch(f){return Ju(f instanceof oh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(r,a,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&D1(c.target)){const f=new Me(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,_n.newNoDocument(f,e))}a.Be&&(r.set(l,a.ke()),a.qe())}}));let n=at();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new gy(e,r,this.Ye,this.je,n);return this.je=Xs(),this.Je=Gp(),this.He=Gp(),this.Ye=new ir(it),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new FC,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new $r(it),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new $r(it),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Ne("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FC),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Gp(){return new ir(Me.comparator)}function qC(){return new ir(Me.comparator)}const pH={asc:"ASCENDING",desc:"DESCENDING"},gH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yH={and:"AND",or:"OR"};class vH{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function L1(t,e){return t.useProto3Json||uy(e)?e:{value:e}}function Wg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xH(t,e){return Wg(t,e.toTimestamp())}function $a(t){return gt(!!t,49232),Ge.fromTimestamp((function(r){const n=cl(r);return new Ft(n.seconds,n.nanos)})(t))}function S_(t,e){return V1(t,e).canonicalString()}function V1(t,e){const r=(function(i){return new Vt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function o6(t){const e=Vt.fromString(t);return gt(f6(e),10190,{key:e.toString()}),e}function B1(t,e){return S_(t.databaseId,e.path)}function Pb(t,e){const r=o6(e);if(r.get(1)!==t.databaseId.projectId)throw new Ae(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ae(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Me(c6(r))}function l6(t,e){return S_(t.databaseId,e)}function bH(t){const e=o6(t);return e.length===4?Vt.emptyPath():c6(e)}function U1(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function c6(t){return gt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function HC(t,e,r){return{name:B1(t,e),fields:r.value.mapValue.fields}}function wH(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:qe(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,p){return h.useProto3Json?(gt(p===void 0||typeof p=="string",58123),hn.fromBase64String(p||"")):(gt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),hn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const p=h.code===void 0?me.UNKNOWN:n6(h.code);return new Ae(p,h.message||"")})(l);r=new a6(n,i,a,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Pb(t,n.document.name),a=$a(n.document.updateTime),l=n.document.createTime?$a(n.document.createTime):Ge.min(),c=new Hn({mapValue:{fields:n.document.fields}}),f=_n.newFoundDocument(i,a,l,c),h=n.targetIds||[],p=n.removedTargetIds||[];r=new Tg(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Pb(t,n.document),a=n.readTime?$a(n.readTime):Ge.min(),l=_n.newNoDocument(i,a),c=n.removedTargetIds||[];r=new Tg([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Pb(t,n.document),a=n.removedTargetIds||[];r=new Tg([],a,i,null)}else{if(!("filter"in e))return qe(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,l=new uH(i,a),c=n.targetId;r=new i6(c,l)}}return r}function _H(t,e){let r;if(e instanceof Wh)r={update:HC(t,e.key,e.value)};else if(e instanceof __)r={delete:B1(t,e.key)};else if(e instanceof xl)r={update:HC(t,e.key,e.data),updateMask:kH(e.fieldMask)};else{if(!(e instanceof oH))return qe(16599,{Vt:e.type});r={verify:B1(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,l){const c=l.transform;if(c instanceof Kg)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof nd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof id)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Gg)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw qe(20930,{transform:l.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:xH(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:qe(27497)})(t,e.precondition)),r}function EH(t,e){return t&&t.length>0?(gt(e!==void 0,14353),t.map((r=>(function(i,a){let l=i.updateTime?$a(i.updateTime):$a(a);return l.isEqual(Ge.min())&&(l=$a(a)),new iH(l,i.transformResults||[])})(r,e)))):[]}function AH(t,e){return{documents:[l6(t,e.path)]}}function SH(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=l6(t,i);const a=(function(h){if(h.length!==0)return d6(pa.create(h,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const l=(function(h){if(h.length!==0)return h.map((p=>(function(v){return{field:Bu(v.field),direction:jH(v.dir)}})(p)))})(e.orderBy);l&&(r.structuredQuery.orderBy=l);const c=L1(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:r,parent:i}}function TH(t){let e=bH(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){gt(n===1,65062);const p=r.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];r.where&&(a=(function(g){const v=u6(g);return v instanceof pa&&BR(v)?v.getFilters():[v]})(r.where));let l=[];r.orderBy&&(l=(function(g){return g.map((v=>(function(A){return new Th(Uu(A.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(v)))})(r.orderBy));let c=null;r.limit&&(c=(function(g){let v;return v=typeof g=="object"?g.value:g,uy(v)?null:v})(r.limit));let f=null;r.startAt&&(f=(function(g){const v=!!g.before,b=g.values||[];return new qg(b,v)})(r.startAt));let h=null;return r.endAt&&(h=(function(g){const v=!g.before,b=g.values||[];return new qg(b,v)})(r.endAt)),Hq(e,i,l,a,c,"F",f,h)}function NH(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function u6(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Uu(r.unaryFilter.field);return kr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Uu(r.unaryFilter.field);return kr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Uu(r.unaryFilter.field);return kr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Uu(r.unaryFilter.field);return kr.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(t):t.fieldFilter!==void 0?(function(r){return kr.create(Uu(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return pa.create(r.compositeFilter.filters.map((n=>u6(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(r.compositeFilter.op))})(t):qe(30097,{filter:t})}function jH(t){return pH[t]}function CH(t){return gH[t]}function PH(t){return yH[t]}function Bu(t){return{fieldPath:t.canonicalString()}}function Uu(t){return fn.fromServerFormat(t.fieldPath)}function d6(t){return t instanceof kr?(function(r){if(r.op==="=="){if(OC(r.value))return{unaryFilter:{field:Bu(r.field),op:"IS_NAN"}};if(kC(r.value))return{unaryFilter:{field:Bu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(OC(r.value))return{unaryFilter:{field:Bu(r.field),op:"IS_NOT_NAN"}};if(kC(r.value))return{unaryFilter:{field:Bu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bu(r.field),op:CH(r.op),value:r.value}}})(t):t instanceof pa?(function(r){const n=r.getFilters().map((i=>d6(i)));return n.length===1?n[0]:{compositeFilter:{op:PH(r.op),filters:n}}})(t):qe(54877,{filter:t})}function kH(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function f6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,r,n,i,a=Ge.min(),l=Ge.min(),c=hn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Zo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e){this.yt=e}}function IH(t){const e=TH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(){this.Cn=new DH}addToCollectionParentIndex(e,r){return this.Cn.add(r),ve.resolve()}getCollectionParents(e,r){return ve.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return ve.resolve()}deleteFieldIndex(e,r){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,r){return ve.resolve()}getDocumentsMatchingTarget(e,r){return ve.resolve(null)}getIndexType(e,r){return ve.resolve(0)}getFieldIndexes(e,r){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,r){return ve.resolve(ll.min())}getMinOffsetFromCollectionGroup(e,r){return ve.resolve(ll.min())}updateCollectionGroup(e,r,n){return ve.resolve()}updateIndexEntries(e,r){return ve.resolve()}}class DH{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new $r(Vt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new $r(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},h6=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(h6,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ad(0)}static cr(){return new ad(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="LruGarbageCollector",MH=1048576;function WC([t,e],[r,n]){const i=it(t,r);return i===0?it(e,n):i}class LH{constructor(e){this.Ir=e,this.buffer=new $r(WC),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();WC(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class VH{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ne(GC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ed(r)?Ne(GC,"Ignoring IndexedDB error during garbage collection: ",r):await _d(r)}await this.Vr(3e5)}))}}class BH{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return ve.resolve(cy.ce);const n=new LH(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(KC)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KC):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,l,c,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(n=g,c=Date.now(),this.removeTargets(e,n,r)))).next((g=>(a=g,f=Date.now(),this.removeOrphanedDocuments(e,n)))).next((g=>(h=Date.now(),Lu()<=nt.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g}))))}}function UH(t,e){return new BH(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(){this.changes=new $c((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ve.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&gh(n.mutation,i,ui.empty(),Ft.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,at()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=at()){const i=fc();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let l=sh();return a.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,r){const n=fc();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,at())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,c)=>{r.set(l,c)}))}))}computeViews(e,r,n,i){let a=Xs();const l=ph(),c=(function(){return ph()})();return r.forEach(((f,h)=>{const p=n.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof xl)?a=a.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),gh(p.mutation,h,p.mutation.getFieldMask(),Ft.now())):l.set(h.key,ui.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((h,p)=>l.set(h,p))),r.forEach(((h,p)=>c.set(h,new zH(p,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,r){const n=ph();let i=new ir(((l,c)=>l-c)),a=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((l=>{for(const c of l)c.keys().forEach((f=>{const h=r.get(f);if(h===null)return;let p=n.get(f)||ui.empty();p=c.applyToLocalView(h,p),n.set(f,p);const g=(i.get(c.batchId)||at()).add(f);i=i.insert(c.batchId,g)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),h=f.key,p=f.value,g=WR();p.forEach((v=>{if(!a.has(v)){const b=t6(r.get(v),n.get(v));b!==null&&g.set(v,b),a=a.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ve.waitFor(l)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(l){return Me.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):FR(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):ve.resolve(fc());let c=_h,f=a;return l.next((h=>ve.forEach(h,((p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(p)?ve.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{f=f.insert(p,v)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,f,h,at()))).next((p=>({batchId:c,changes:GR(p)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Me(r)).next((n=>{let i=sh();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let l=sh();return this.indexManager.getCollectionParents(e,a).next((c=>ve.forEach(c,(f=>{const h=(function(g,v){return new Ad(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(r,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next((p=>{p.forEach(((g,v)=>{l=l.insert(g,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((l=>{a.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,_n.newInvalidDocument(p)))}));let c=sh();return l.forEach(((f,h)=>{const p=a.get(f);p!==void 0&&gh(p.mutation,h,ui.empty(),Ft.now()),hy(r,h)&&(c=c.insert(f,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return ve.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:$a(i.createTime)}})(r)),ve.resolve()}getNamedQuery(e,r){return ve.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:IH(i.bundledQuery),readTime:$a(i.readTime)}})(r)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(){this.overlays=new ir(Me.comparator),this.qr=new Map}getOverlay(e,r){return ve.resolve(this.overlays.get(r))}getOverlays(e,r){const n=fc();return ve.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.St(e,r,a)})),ve.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(n)),ve.resolve()}getOverlaysForCollection(e,r,n){const i=fc(),a=r.length+1,l=new Me(r.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,h=f.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>n&&i.set(f.getKey(),f)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new ir(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let p=a.get(h.largestBatchId);p===null&&(p=fc(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=fc(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>c.set(h,p))),!(c.size()>=i)););return ve.resolve(c)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new cH(r,n));let a=this.qr.get(r);a===void 0&&(a=at(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.Qr=new $r(Xr.$r),this.Ur=new $r(Xr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Xr(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new Xr(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new Me(new Vt([])),n=new Xr(r,e),i=new Xr(r,e+1),a=[];return this.Ur.forEachInRange([n,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Me(new Vt([])),n=new Xr(r,e),i=new Xr(r,e+1);let a=at();return this.Ur.forEachInRange([n,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const r=new Xr(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Xr{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Me.comparator(e.key,r.key)||it(e.Yr,r.Yr)}static Kr(e,r){return it(e.Yr,r.Yr)||Me.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new $r(Xr.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new lH(a,r,n,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Xr(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ve.resolve(l)}lookupMutationBatch(e,r){return ve.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return ve.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?p_:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Xr(r,0),i=new Xr(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],(l=>{const c=this.Xr(l.Yr);a.push(c)})),ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new $r(it);return r.forEach((i=>{const a=new Xr(i,0),l=new Xr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{n=n.add(c.Yr)}))})),ve.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Me.isDocumentKey(a)||(a=a.child(""));const l=new Xr(new Me(a),0);let c=new $r(it);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(c=c.add(f.Yr)),!0)}),l),ve.resolve(this.ti(c))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){gt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return ve.forEach(r.mutations,(i=>{const a=new Xr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new Xr(r,0),i=this.Zr.firstAfterOrEqual(n);return ve.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e){this.ri=e,this.docs=(function(){return new ir(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,l=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ve.resolve(n?n.document.mutableCopy():_n.newInvalidDocument(r))}getEntries(e,r){let n=Xs();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():_n.newInvalidDocument(i))})),ve.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Xs();const l=r.path,c=new Me(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||Eq(_q(p),n)<=0||(i.has(p.key)||hy(r,p))&&(a=a.insert(p.key,p.mutableCopy()))}return ve.resolve(a)}getAllFromCollectionGroup(e,r,n,i){qe(9500)}ii(e,r){return ve.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new YH(this)}getSize(e){return ve.resolve(this.size)}}class YH extends $H{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),ve.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(e){this.persistence=e,this.si=new $c((r=>v_(r)),x_),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.oi=0,this._i=new T_,this.targetCount=0,this.ai=ad.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),ve.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new ad(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,ve.resolve()}updateTargetData(e,r){return this.Pr(r),ve.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),ve.waitFor(a).next((()=>i))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return ve.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),ve.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),ve.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),ve.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return ve.resolve(n)}containsKey(e,r){return ve.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,r){this.ui={},this.overlays={},this.ci=new cy(0),this.li=!1,this.li=!0,this.hi=new KH,this.referenceDelegate=e(this),this.Pi=new XH(this),this.indexManager=new RH,this.remoteDocumentCache=(function(i){return new WH(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new OH(r),this.Ii=new qH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new HH,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new GH(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){Ne("MemoryPersistence","Starting transaction:",e);const i=new QH(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,r){return ve.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class QH extends Sq{constructor(e){super(),this.currentSequenceNumber=e}}class N_{constructor(e){this.persistence=e,this.Ri=new T_,this.Vi=null}static mi(e){return new N_(e)}get fi(){if(this.Vi)return this.Vi;throw qe(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),ve.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),ve.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),ve.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,(n=>{const i=Me.fromPath(n);return this.gi(e,i).next((a=>{a||r.removeEntry(i,Ge.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return ve.or([()=>ve.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Yg{constructor(e,r){this.persistence=e,this.pi=new $c((n=>jq(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=UH(this,r)}static mi(e,r){return new Yg(e,r)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return ve.forEach(this.pi,((n,i)=>this.br(e,n,i).next((a=>a?ve.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,r).next((c=>{c||(n++,a.removeEntry(l,Ge.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Eg(e.data.value)),r}br(e,r,n){return ve.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return ve.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=at(),i=at();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new j_(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AU()?8:Tq(Sn())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,r,i,n).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new ZH;return this.Ss(e,r,l).next((c=>{if(a.result=c,this.Vs)return this.bs(e,r,l,c.size)}))})).next((()=>a.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(Lu()<=nt.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Vu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(Lu()<=nt.DEBUG&&Ne("QueryEngine","Query:",Vu(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Lu()<=nt.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Vu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ua(r))):ve.resolve())}ys(e,r){if(MC(r))return ve.resolve(null);let n=Ua(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=Hg(r,null,"F"),n=Ua(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const l=at(...a);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,n).next((f=>{const h=this.Ds(r,c);return this.Cs(r,h,l,f.readTime)?this.ys(e,Hg(r,null,"F")):this.vs(e,h,r,f)}))))})))))}ws(e,r,n,i){return MC(r)||i.isEqual(Ge.min())?ve.resolve(null):this.ps.getDocuments(e,n).next((a=>{const l=this.Ds(r,a);return this.Cs(r,l,n,i)?ve.resolve(null):(Lu()<=nt.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vu(r)),this.vs(e,l,r,wq(i,_h)).next((c=>c)))}))}Ds(e,r){let n=new $r(HR(e));return r.forEach(((i,a)=>{hy(e,a)&&(n=n.add(a))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return Lu()<=nt.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Vu(r)),this.ps.getDocumentsMatchingQuery(e,r,ll.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="LocalStore",eK=3e8;class tK{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new ir(it),this.xs=new $c((a=>v_(a)),x_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FH(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function rK(t,e,r,n){return new tK(t,e,r,n)}async function p6(t,e){const r=Ye(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const l=[],c=[];let f=at();for(const h of i){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of a){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return r.localDocuments.getDocuments(n,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function nK(t,e){const r=Ye(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,h,p){const g=h.batch,v=g.keys();let b=ve.resolve();return v.forEach((A=>{b=b.next((()=>p.getEntry(f,A))).next((E=>{const S=h.docVersions.get(A);gt(S!==null,48541),E.version.compareTo(S)<0&&(g.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),p.addEntry(E)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(f,g)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let f=at();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(f=f.add(c.batch.mutations[h].key));return f})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function g6(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function iK(t,e){const r=Ye(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const c=[];e.targetChanges.forEach(((p,g)=>{const v=i.get(g);if(!v)return;c.push(r.Pi.removeMatchingKeys(a,p.removedDocuments,g).next((()=>r.Pi.addMatchingKeys(a,p.addedDocuments,g))));let b=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(hn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,n)),i=i.insert(g,b),(function(E,S,N){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=eK?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(v,b,p)&&c.push(r.Pi.updateTargetData(a,b))}));let f=Xs(),h=at();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(a,p))})),c.push(aK(a,l,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!n.isEqual(Ge.min())){const p=r.Pi.getLastRemoteSnapshotVersion(a).next((g=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n)));c.push(p)}return ve.waitFor(c).next((()=>l.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,f,h))).next((()=>f))})).then((a=>(r.Ms=i,a)))}function aK(t,e,r){let n=at(),i=at();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let l=Xs();return r.forEach(((c,f)=>{const h=a.get(c);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(Ge.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):Ne(C_,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function sK(t,e){const r=Ye(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=p_),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function oK(t,e){const r=Ye(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((a=>a?(i=a,ve.resolve(i)):r.Pi.allocateTargetId(n).next((l=>(i=new Zo(e,l,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function $1(t,e,r){const n=Ye(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(l=>n.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Ed(l))throw l;Ne(C_,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function YC(t,e,r){const n=Ye(t);let i=Ge.min(),a=at();return n.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const g=Ye(f),v=g.xs.get(p);return v!==void 0?ve.resolve(g.Ms.get(v)):g.Pi.getTargetData(h,p)})(n,l,Ua(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(l,c.targetId).next((f=>{a=f}))})).next((()=>n.Fs.getDocumentsMatchingQuery(l,e,r?i:Ge.min(),r?a:at()))).next((c=>(lK(n,Gq(e),c),{documents:c,Qs:a})))))}function lK(t,e,r){let n=t.Os.get(e)||Ge.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.Os.set(e,n)}class XC{constructor(){this.activeTargetIds=Jq()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cK{constructor(){this.Mo=new XC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new XC,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="ConnectivityMonitor";class ZC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ne(QC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ne(QC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wp=null;function z1(){return Wp===null?Wp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wp++,"0x"+Wp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="RestConnection",dK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fK{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===zg?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const l=z1(),c=this.zo(e,r.toUriEncodedString());Ne(kb,`Sending RPC '${e}' ${l}:`,c,n);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:h}=new URL(c),p=Vc(h);return this.Jo(e,c,f,n,p).then((g=>(Ne(kb,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw Ju(kb,`RPC '${e}' ${l} failed with error: `,g,"url: ",c,"request:",n),g}))}Ho(e,r,n,i,a,l){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}zo(e,r){const n=dK[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class mK extends fK{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const l=z1();return new Promise(((c,f)=>{const h=new vR;h.setWithCredentials(!0),h.listenOnce(xR.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case _g.NO_ERROR:const g=h.getResponseJson();Ne(xn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case _g.TIMEOUT:Ne(xn,`RPC '${e}' ${l} timed out`),f(new Ae(me.DEADLINE_EXCEEDED,"Request time out"));break;case _g.HTTP_ERROR:const v=h.getStatus();if(Ne(xn,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const A=b?.error;if(A&&A.status&&A.message){const E=(function(N){const C=N.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(C)>=0?C:me.UNKNOWN})(A.status);f(new Ae(E,A.message))}else f(new Ae(me.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ae(me.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Ne(xn,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);Ne(xn,`RPC '${e}' ${l} sending request:`,i),h.send(r,"POST",p,n,15)}))}T_(e,r,n){const i=z1(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=_R(),c=wR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,r,n),f.encodeInitMessageHeaders=!0;const p=a.join("");Ne(xn,`Creating RPC '${e}' stream ${i}: ${p}`,f);const g=l.createWebChannel(p,f);this.I_(g);let v=!1,b=!1;const A=new hK({Yo:S=>{b?Ne(xn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(v||(Ne(xn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),Ne(xn,`RPC '${e}' stream ${i} sending:`,S),g.send(S))},Zo:()=>g.close()}),E=(S,N,C)=>{S.listen(N,(j=>{try{C(j)}catch(L){setTimeout((()=>{throw L}),0)}}))};return E(g,ah.EventType.OPEN,(()=>{b||(Ne(xn,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),E(g,ah.EventType.CLOSE,(()=>{b||(b=!0,Ne(xn,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(g))})),E(g,ah.EventType.ERROR,(S=>{b||(b=!0,Ju(xn,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),A.a_(new Ae(me.UNAVAILABLE,"The operation could not be completed")))})),E(g,ah.EventType.MESSAGE,(S=>{if(!b){const N=S.data[0];gt(!!N,16349);const C=N,j=C?.error||C[0]?.error;if(j){Ne(xn,`RPC '${e}' stream ${i} received error:`,j);const L=j.status;let z=(function(P){const R=Cr[P];if(R!==void 0)return n6(R)})(L),M=j.message;z===void 0&&(z=me.INTERNAL,M="Unknown error status: "+L+" with message "+j.message),b=!0,A.a_(new Ae(z,M)),g.close()}else Ne(xn,`RPC '${e}' stream ${i} received:`,N),A.u_(N)}})),E(c,bR.STAT_EVENT,(S=>{S.stat===P1.PROXY?Ne(xn,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===P1.NOPROXY&&Ne(xn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function Ob(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t){return new vH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="PersistentStream";class v6{constructor(e,r,n,i,a,l,c,f){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new y6(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===me.RESOURCE_EXHAUSTED?(Ys(r.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new Ae(me.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ne(JC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(Ne(JC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pK extends v6{constructor(e,r,n,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,l),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=wH(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Ge.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ge.min():l.readTime?$a(l.readTime):Ge.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=U1(this.serializer),r.addTarget=(function(a,l){let c;const f=l.target;if(c=D1(f)?{documents:AH(a,f)}:{query:SH(a,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=s6(a,l.resumeToken);const h=L1(a,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ge.min())>0){c.readTime=Wg(a,l.snapshotVersion.toTimestamp());const h=L1(a,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const n=NH(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=U1(this.serializer),r.removeTarget=e,this.q_(r)}}class gK extends v6{constructor(e,r,n,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=EH(e.writeResults,e.commitTime),n=$a(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=U1(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>_H(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{}class vK extends yK{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ae(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,V1(r,n),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ae(me.UNKNOWN,a.toString())}))}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,V1(r,n),i,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(me.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xK{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ys(r),this.aa=!1):Ne("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc="RemoteStore";class bK{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{n.enqueueAndForget((async()=>{zc(this)&&(Ne(jc,"Restarting streams for network reachability change."),await(async function(f){const h=Ye(f);h.Ea.add(4),await Xh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await vy(h)})(this))}))})),this.Ra=new xK(n,i)}}async function vy(t){if(zc(t))for(const e of t.da)await e(!0)}async function Xh(t){for(const e of t.da)await e(!1)}function x6(t,e){const r=Ye(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),I_(r)?O_(r):Sd(r).O_()&&k_(r,e))}function P_(t,e){const r=Ye(t),n=Sd(r);r.Ia.delete(e),n.O_()&&b6(r,e),r.Ia.size===0&&(n.O_()?n.L_():zc(r)&&r.Ra.set("Unknown"))}function k_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Sd(t).Y_(e)}function b6(t,e){t.Va.Ue(e),Sd(t).Z_(e)}function O_(t){t.Va=new mH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Sd(t).start(),t.Ra.ua()}function I_(t){return zc(t)&&!Sd(t).x_()&&t.Ia.size>0}function zc(t){return Ye(t).Ea.size===0}function w6(t){t.Va=void 0}async function wK(t){t.Ra.set("Online")}async function _K(t){t.Ia.forEach(((e,r)=>{k_(t,e)}))}async function EK(t,e){w6(t),I_(t)?(t.Ra.ha(e),O_(t)):t.Ra.set("Unknown")}async function AK(t,e,r){if(t.Ra.set("Online"),e instanceof a6&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(n){Ne(jc,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Xg(t,n)}else if(e instanceof Tg?t.Va.Ze(e):e instanceof i6?t.Va.st(e):t.Va.tt(e),!r.isEqual(Ge.min()))try{const n=await g6(t.localStore);r.compareTo(n)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=a.Ia.get(h);p&&a.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,h)=>{const p=a.Ia.get(f);if(!p)return;a.Ia.set(f,p.withResumeToken(hn.EMPTY_BYTE_STRING,p.snapshotVersion)),b6(a,f);const g=new Zo(p.target,f,h,p.sequenceNumber);k_(a,g)})),a.remoteSyncer.applyRemoteEvent(c)})(t,r)}catch(n){Ne(jc,"Failed to raise snapshot:",n),await Xg(t,n)}}async function Xg(t,e,r){if(!Ed(e))throw e;t.Ea.add(1),await Xh(t),t.Ra.set("Offline"),r||(r=()=>g6(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ne(jc,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await vy(t)}))}function _6(t,e){return e().catch((r=>Xg(t,r,e)))}async function xy(t){const e=Ye(t),r=fl(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:p_;for(;SK(e);)try{const i=await sK(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,TK(e,i)}catch(i){await Xg(e,i)}E6(e)&&A6(e)}function SK(t){return zc(t)&&t.Ta.length<10}function TK(t,e){t.Ta.push(e);const r=fl(t);r.O_()&&r.X_&&r.ea(e.mutations)}function E6(t){return zc(t)&&!fl(t).x_()&&t.Ta.length>0}function A6(t){fl(t).start()}async function NK(t){fl(t).ra()}async function jK(t){const e=fl(t);for(const r of t.Ta)e.ea(r.mutations)}async function CK(t,e,r){const n=t.Ta.shift(),i=E_.from(n,e,r);await _6(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await xy(t)}async function PK(t,e){e&&fl(t).X_&&await(async function(n,i){if((function(l){return dH(l)&&l!==me.ABORTED})(i.code)){const a=n.Ta.shift();fl(n).B_(),await _6(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await xy(n)}})(t,e),E6(t)&&A6(t)}async function eP(t,e){const r=Ye(t);r.asyncQueue.verifyOperationInProgress(),Ne(jc,"RemoteStore received new credentials");const n=zc(r);r.Ea.add(3),await Xh(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await vy(r)}async function kK(t,e){const r=Ye(t);e?(r.Ea.delete(2),await vy(r)):e||(r.Ea.add(2),await Xh(r),r.Ra.set("Unknown"))}function Sd(t){return t.ma||(t.ma=(function(r,n,i){const a=Ye(r);return a.sa(),new pK(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:wK.bind(null,t),t_:_K.bind(null,t),r_:EK.bind(null,t),H_:AK.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),I_(t)?O_(t):t.Ra.set("Unknown")):(await t.ma.stop(),w6(t))}))),t.ma}function fl(t){return t.fa||(t.fa=(function(r,n,i){const a=Ye(r);return a.sa(),new gK(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:NK.bind(null,t),r_:PK.bind(null,t),ta:jK.bind(null,t),na:CK.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await xy(t)):(await t.fa.stop(),t.Ta.length>0&&(Ne(jc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const l=Date.now()+n,c=new R_(e,r,l,i,a);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D_(t,e){if(Ys("AsyncQueue",`${e}: ${t}`),Ed(t))return new Ae(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{static emptySet(e){return new Hu(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Me.comparator(r.key,n.key):(r,n)=>Me.comparator(r.key,n.key),this.keyedMap=sh(),this.sortedSet=new ir(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Hu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Hu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.ga=new ir(Me.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):qe(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class sd{constructor(e,r,n,i,a,l,c,f,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,i,a){const l=[];return r.forEach((c=>{l.push({type:0,doc:c})})),new sd(e,r,Hu.emptySet(r),l,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class IK{constructor(){this.queries=rP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Ye(r),a=i.queries;i.queries=rP(),a.forEach(((l,c)=>{for(const f of c.Sa)f.onError(n)}))})(this,new Ae(me.ABORTED,"Firestore shutting down"))}}function rP(){return new $c((t=>qR(t)),fy)}async function S6(t,e){const r=Ye(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new OK,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(l){const c=D_(l,`Initialization of query '${Vu(e.query)}' failed`);return void e.onError(c)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&M_(r)}async function T6(t,e){const r=Ye(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function RK(t,e){const r=Ye(t);let n=!1;for(const i of e){const a=i.query,l=r.queries.get(a);if(l){for(const c of l.Sa)c.Fa(i)&&(n=!0);l.wa=i}}n&&M_(r)}function DK(t,e,r){const n=Ye(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function M_(t){t.Ca.forEach((e=>{e.next()}))}var F1,nP;(nP=F1||(F1={})).Ma="default",nP.Cache="cache";class N6{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new sd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=sd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==F1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.key=e}}class C6{constructor(e){this.key=e}}class MK{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=HR(e),this.tu=new Hu(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new tP,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const v=i.get(p),b=hy(this.query,g)?g:null,A=!!v&&this.mutatedKeys.has(v.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;v&&b?v.data.isEqual(b.data)?A!==E&&(n.track({type:3,doc:b}),S=!0):this.su(v,b)||(n.track({type:2,doc:b}),S=!0,(f&&this.eu(b,f)>0||h&&this.eu(b,h)<0)&&(c=!0)):!v&&b?(n.track({type:0,doc:b}),S=!0):v&&!b&&(n.track({type:1,doc:v}),S=!0,(f||h)&&(c=!0)),S&&(b?(l=l.add(b),a=E?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{tu:l,iu:n,Cs:c,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(b,A){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Rt:S})}};return E(b)-E(A)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(n),i=i??!1;const c=r&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new sd(this.query,e.tu,a,l,e.mutatedKeys,f===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new C6(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new j6(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=at();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return sd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const L_="SyncEngine";class LK{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class VK{constructor(e){this.key=e,this.hu=!1}}class BK{constructor(e,r,n,i,a,l){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new $c((c=>qR(c)),fy),this.Iu=new Map,this.Eu=new Set,this.du=new ir(Me.comparator),this.Au=new Map,this.Ru=new T_,this.Vu={},this.mu=new Map,this.fu=ad.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UK(t,e,r=!0){const n=D6(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await P6(n,e,r,!0),i}async function $K(t,e){const r=D6(t);await P6(r,e,!0,!1)}async function P6(t,e,r,n){const i=await oK(t.localStore,Ua(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,r);let c;return n&&(c=await zK(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&r&&x6(t.remoteStore,i),c}async function zK(t,e,r,n,i){t.pu=(g,v,b)=>(async function(E,S,N,C){let j=S.view.ru(N);j.Cs&&(j=await YC(E.localStore,S.query,!1).then((({documents:I})=>S.view.ru(I,j))));const L=C&&C.targetChanges.get(S.targetId),z=C&&C.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(j,E.isPrimaryClient,L,z);return aP(E,S.targetId,M.au),M.snapshot})(t,g,v,b);const a=await YC(t.localStore,e,!0),l=new MK(e,a.Qs),c=l.ru(a.documents),f=Yh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),h=l.applyChanges(c,t.isPrimaryClient,f);aP(t,r,h.au);const p=new LK(e,r,l);return t.Tu.set(e,p),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),h.snapshot}async function FK(t,e,r){const n=Ye(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((l=>!fy(l,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await $1(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&P_(n.remoteStore,i.targetId),q1(n,i.targetId)})).catch(_d)):(q1(n,i.targetId),await $1(n.localStore,i.targetId,!0))}async function qK(t,e){const r=Ye(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),P_(r.remoteStore,n.targetId))}async function HK(t,e,r){const n=ZK(t);try{const i=await(function(l,c){const f=Ye(l),h=Ft.now(),p=c.reduce(((b,A)=>b.add(A.key)),at());let g,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let A=Xs(),E=at();return f.Ns.getEntries(b,p).next((S=>{A=S,A.forEach(((N,C)=>{C.isValidDocument()||(E=E.add(N))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,A))).next((S=>{g=S;const N=[];for(const C of c){const j=sH(C,g.get(C.key).overlayedDocument);j!=null&&N.push(new xl(C.key,j,MR(j.value.mapValue),Li.exists(!0)))}return f.mutationQueue.addMutationBatch(b,h,N,c)})).next((S=>{v=S;const N=S.applyToLocalDocumentSet(g,E);return f.documentOverlayCache.saveOverlays(b,S.batchId,N)}))})).then((()=>({batchId:v.batchId,changes:GR(g)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(l,c,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new ir(it)),h=h.insert(c,f),l.Vu[l.currentUser.toKey()]=h})(n,i.batchId,r),await Qh(n,i.changes),await xy(n.remoteStore)}catch(i){const a=D_(i,"Failed to persist write");r.reject(a)}}async function k6(t,e){const r=Ye(t);try{const n=await iK(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=r.Au.get(a);l&&(gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?gt(l.hu,14607):i.removedDocuments.size>0&&(gt(l.hu,42227),l.hu=!1))})),await Qh(r,n,e)}catch(n){await _d(n)}}function iP(t,e,r){const n=Ye(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const f=Ye(l);f.onlineState=c;let h=!1;f.queries.forEach(((p,g)=>{for(const v of g.Sa)v.va(c)&&(h=!0)})),h&&M_(f)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function KK(t,e,r){const n=Ye(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let l=new ir(Me.comparator);l=l.insert(a,_n.newNoDocument(a,Ge.min()));const c=at().add(a),f=new gy(Ge.min(),new Map,new ir(it),l,c);await k6(n,f),n.du=n.du.remove(a),n.Au.delete(e),V_(n)}else await $1(n.localStore,e,!1).then((()=>q1(n,e,r))).catch(_d)}async function GK(t,e){const r=Ye(t),n=e.batch.batchId;try{const i=await nK(r.localStore,e);I6(r,n,null),O6(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Qh(r,i)}catch(i){await _d(i)}}async function WK(t,e,r){const n=Ye(t);try{const i=await(function(l,c){const f=Ye(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,c).next((g=>(gt(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(n.localStore,e);I6(n,e,r),O6(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Qh(n,i)}catch(i){await _d(i)}}function O6(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function I6(t,e,r){const n=Ye(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function q1(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||R6(t,n)}))}function R6(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(P_(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),V_(t))}function aP(t,e,r){for(const n of r)n instanceof j6?(t.Ru.addReference(n.key,e),YK(t,n)):n instanceof C6?(Ne(L_,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||R6(t,n.key)):qe(19791,{wu:n})}function YK(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(Ne(L_,"New document in limbo: "+r),t.Eu.add(n),V_(t))}function V_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Me(Vt.fromString(e)),n=t.fu.next();t.Au.set(n,new VK(r)),t.du=t.du.insert(r,n),x6(t.remoteStore,new Zo(Ua(b_(r.path)),n,"TargetPurposeLimboResolution",cy.ce))}}async function Qh(t,e,r){const n=Ye(t),i=[],a=[],l=[];n.Tu.isEmpty()||(n.Tu.forEach(((c,f)=>{l.push(n.pu(f,e,r).then((h=>{if((h||r)&&n.isPrimaryClient){const p=h?!h.fromCache:r?.targetChanges.get(f.targetId)?.current;n.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=j_.As(f.targetId,h);a.push(p)}})))})),await Promise.all(l),n.Pu.H_(i),await(async function(f,h){const p=Ye(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ve.forEach(h,(v=>ve.forEach(v.Es,(b=>p.persistence.referenceDelegate.addReference(g,v.targetId,b))).next((()=>ve.forEach(v.ds,(b=>p.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))))))}catch(g){if(!Ed(g))throw g;Ne(C_,"Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const b=p.Ms.get(v),A=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(A);p.Ms=p.Ms.insert(v,E)}}})(n.localStore,a))}async function XK(t,e){const r=Ye(t);if(!r.currentUser.isEqual(e)){Ne(L_,"User change. New user:",e.toKey());const n=await p6(r.localStore,e);r.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((f=>{f.reject(new Ae(me.CANCELLED,l))}))})),a.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Qh(r,n.Ls)}}function QK(t,e){const r=Ye(t),n=r.Au.get(e);if(n&&n.hu)return at().add(n.key);{let i=at();const a=r.Iu.get(e);if(!a)return i;for(const l of a){const c=r.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function D6(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=k6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KK.bind(null,e),e.Pu.H_=RK.bind(null,e.eventManager),e.Pu.yu=DK.bind(null,e.eventManager),e}function ZK(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WK.bind(null,e),e}class Qg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return rK(this.persistence,new JH,e.initialUser,this.serializer)}Cu(e){return new m6(N_.mi,this.serializer)}Du(e){return new cK}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qg.provider={build:()=>new Qg};class JK extends Qg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){gt(this.persistence.referenceDelegate instanceof Yg,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new VH(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new m6((n=>Yg.mi(n,r)),this.serializer)}}class H1{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>iP(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=XK.bind(null,this.syncEngine),await kK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new IK})()}createDatastore(e){const r=yy(e.databaseInfo.databaseId),n=(function(a){return new mK(a)})(e.databaseInfo);return(function(a,l,c,f){return new vK(a,l,c,f)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,l,c){return new bK(n,i,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(r=>iP(this.syncEngine,r,0)),(function(){return ZC.v()?new ZC:new uK})())}createSyncEngine(e,r){return(function(i,a,l,c,f,h,p){const g=new BK(i,a,l,c,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=Ye(r);Ne(jc,"RemoteStore shutting down."),n.Ea.add(5),await Xh(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}H1.provider={build:()=>new H1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="FirestoreClient";class eG{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=wn.UNAUTHENTICATED,this.clientId=m_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async l=>{Ne(hl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(n,(l=>(Ne(hl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=D_(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Ib(t,e){t.asyncQueue.verifyOperationInProgress(),Ne(hl,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await p6(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function sP(t,e){t.asyncQueue.verifyOperationInProgress();const r=await tG(t);Ne(hl,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>eP(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>eP(e.remoteStore,i))),t._onlineComponents=e}async function tG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne(hl,"Using user provided OfflineComponentProvider");try{await Ib(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;Ju("Error using user provided cache. Falling back to memory cache: "+r),await Ib(t,new Qg)}}else Ne(hl,"Using default OfflineComponentProvider"),await Ib(t,new JK(void 0));return t._offlineComponents}async function L6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne(hl,"Using user provided OnlineComponentProvider"),await sP(t,t._uninitializedComponentsProvider._online)):(Ne(hl,"Using default OnlineComponentProvider"),await sP(t,new H1))),t._onlineComponents}function rG(t){return L6(t).then((e=>e.syncEngine))}async function V6(t){const e=await L6(t),r=e.eventManager;return r.onListen=UK.bind(null,e.syncEngine),r.onUnlisten=FK.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=$K.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=qK.bind(null,e.syncEngine),r}function nG(t,e,r={}){const n=new Us;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,f,h){const p=new M6({next:v=>{p.Nu(),l.enqueueAndForget((()=>T6(a,g)));const b=v.docs.has(c);!b&&v.fromCache?h.reject(new Ae(me.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&f&&f.source==="server"?h.reject(new Ae(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new N6(b_(c.path),p,{includeMetadataChanges:!0,qa:!0});return S6(a,g)})(await V6(t),t.asyncQueue,e,r,n))),n.promise}function iG(t,e,r={}){const n=new Us;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,f,h){const p=new M6({next:v=>{p.Nu(),l.enqueueAndForget((()=>T6(a,g))),v.fromCache&&f.source==="server"?h.reject(new Ae(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new N6(c,p,{includeMetadataChanges:!0,qa:!0});return S6(a,g)})(await V6(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="firestore.googleapis.com",lP=!0;class cP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U6,this.ssl=lP}else this.host=e.host,this.ssl=e.ssl??lP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=h6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MH)throw new Ae(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B6(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Ae(me.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Ae(me.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Ae(me.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class by{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new uq;switch(n.type){case"firstParty":return new mq(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ae(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=oP.get(r);n&&(Ne("ComponentProvider","Removing Datastore"),oP.delete(r),n.terminate())})(this),Promise.resolve()}}function aG(t,e,r,n={}){t=ma(t,by);const i=Vc(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${r}`;i&&(Z2(`https://${c}`),J2("Firestore",!0)),a.host!==U6&&a.host!==c&&Ju("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:c,ssl:i,emulatorOptions:n};if(!Ks(f,l)&&(t._setSettings(f),n.mockUserToken)){let h,p;if(typeof n.mockUserToken=="string")h=n.mockUserToken,p=wn.MOCK_USER;else{h=jI(n.mockUserToken,t._app?.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new Ae(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new wn(g)}t._authCredentials=new dq(new AR(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new bl(this.firestore,e,this._query)}}class wr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wr(this.firestore,e,this._key)}toJSON(){return{type:wr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Gh(r,wr._jsonSchema))return new wr(e,n||null,new Me(Vt.fromString(r.referencePath)))}}wr._jsonSchemaVersion="firestore/documentReference/1.0",wr._jsonSchema={type:Or("string",wr._jsonSchemaVersion),referencePath:Or("string")};class il extends bl{constructor(e,r,n){super(e,r,b_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wr(this.firestore,null,new Me(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function kt(t,e,...r){if(t=fr(t),SR("collection","path",e),t instanceof by){const n=Vt.fromString(e,...r);return _C(n),new il(t,null,n)}{if(!(t instanceof wr||t instanceof il))throw new Ae(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Vt.fromString(e,...r));return _C(n),new il(t.firestore,null,n)}}function wt(t,e,...r){if(t=fr(t),arguments.length===1&&(e=m_.newId()),SR("doc","path",e),t instanceof by){const n=Vt.fromString(e,...r);return wC(n),new wr(t,null,new Me(n))}{if(!(t instanceof wr||t instanceof il))throw new Ae(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Vt.fromString(e,...r));return wC(n),new wr(t.firestore,t instanceof il?t.converter:null,new Me(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="AsyncQueue";class dP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new y6(this,"async_queue_retry"),this._c=()=>{const n=Ob();n&&Ne(uP,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=Ob();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Ob();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ed(e))throw e;Ne(uP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,Ys("INTERNAL UNHANDLED ERROR: ",fP(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=R_.createAndSchedule(this,e,r,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&qe(47125,{Pc:fP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function fP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Fc extends by{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new dP,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dP(e),this._firestoreClient=void 0,await e}}}function sG(t,e){const r=typeof t=="object"?t:r_(),n=typeof t=="string"?t:zg,i=iy(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=SI("firestore");a&&aG(i,...a)}return i}function B_(t){if(t._terminated)throw new Ae(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oG(t),t._firestoreClient}function oG(t){const e=t._freezeSettings(),r=(function(i,a,l,c){return new kq(i,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,B6(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new eG(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Di(hn.fromBase64String(e))}catch(r){throw new Ae(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Di(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gh(e,Di._jsonSchema))return Di.fromBase64String(e.bytes)}}Di._jsonSchemaVersion="firestore/bytes/1.0",Di._jsonSchema={type:Or("string",Di._jsonSchemaVersion),bytes:Or("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ae(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ae(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ae(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:za._jsonSchemaVersion}}static fromJSON(e){if(Gh(e,za._jsonSchema))return new za(e.latitude,e.longitude)}}za._jsonSchemaVersion="firestore/geoPoint/1.0",za._jsonSchema={type:Or("string",za._jsonSchemaVersion),latitude:Or("number"),longitude:Or("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gh(e,Fa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Fa(e.vectorValues);throw new Ae(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fa._jsonSchemaVersion="firestore/vectorValue/1.0",Fa._jsonSchema={type:Or("string",Fa._jsonSchemaVersion),vectorValues:Or("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=/^__.*__$/;class cG{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new xl(e,this.data,this.fieldMask,r,this.fieldTransforms):new Wh(e,this.data,r,this.fieldTransforms)}}class $6{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new xl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function z6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ac:t})}}class _y{constructor(e,r,n,i,a,l){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _y({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(z6(this.Ac)&&lG.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uG{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||yy(e)}Cc(e,r,n,i=!1){return new _y({Ac:e,methodName:r,Dc:n,path:fn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ey(t){const e=t._freezeSettings(),r=yy(t._databaseId);return new uG(t._databaseId,!!e.ignoreUndefinedProperties,r)}function F6(t,e,r,n,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);z_("Data must be an object, but it was:",l,n);const c=H6(n,l);let f,h;if(a.merge)f=new ui(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const v=K1(e,g,r);if(!l.contains(v))throw new Ae(me.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);G6(p,v)||p.push(v)}f=new ui(p),h=l.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=l.fieldTransforms;return new cG(new Hn(c),f,h)}class Ay extends Zh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ay}}function q6(t,e,r){return new _y({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class U_ extends Zh{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=q6(this,e,!0),n=this.vc.map((a=>qc(a,r))),i=new nd(n);return new e6(e.path,i)}isEqual(e){return e instanceof U_&&Ks(this.vc,e.vc)}}class $_ extends Zh{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=q6(this,e,!0),n=this.vc.map((a=>qc(a,r))),i=new id(n);return new e6(e.path,i)}isEqual(e){return e instanceof $_&&Ks(this.vc,e.vc)}}function dG(t,e,r,n){const i=t.Cc(1,e,r);z_("Data must be an object, but it was:",i,n);const a=[],l=Hn.empty();vl(n,((f,h)=>{const p=F_(e,f,r);h=fr(h);const g=i.yc(p);if(h instanceof Ay)a.push(p);else{const v=qc(h,g);v!=null&&(a.push(p),l.set(p,v))}}));const c=new ui(a);return new $6(l,c,i.fieldTransforms)}function fG(t,e,r,n,i,a){const l=t.Cc(1,e,r),c=[K1(e,n,r)],f=[i];if(a.length%2!=0)throw new Ae(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)c.push(K1(e,a[v])),f.push(a[v+1]);const h=[],p=Hn.empty();for(let v=c.length-1;v>=0;--v)if(!G6(h,c[v])){const b=c[v];let A=f[v];A=fr(A);const E=l.yc(b);if(A instanceof Ay)h.push(b);else{const S=qc(A,E);S!=null&&(h.push(b),p.set(b,S))}}const g=new ui(h);return new $6(p,g,l.fieldTransforms)}function hG(t,e,r,n=!1){return qc(r,t.Cc(n?4:3,e))}function qc(t,e){if(K6(t=fr(t)))return z_("Unsupported field value:",e,t),H6(t,e);if(t instanceof Zh)return(function(n,i){if(!z6(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const a=[];let l=0;for(const c of n){let f=qc(c,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=fr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return eH(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Ft.fromDate(n);return{timestampValue:Wg(i.serializer,a)}}if(n instanceof Ft){const a=new Ft(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Wg(i.serializer,a)}}if(n instanceof za)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Di)return{bytesValue:s6(i.serializer,n._byteString)};if(n instanceof wr){const a=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:S_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Fa)return(function(l,c){return{mapValue:{fields:{[RR]:{stringValue:DR},[Fg]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return w_(c.serializer,h)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${ly(n)}`)})(t,e)}function H6(t,e){const r={};return jR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vl(t,((n,i)=>{const a=qc(i,e.mc(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function K6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof za||t instanceof Di||t instanceof wr||t instanceof Zh||t instanceof Fa)}function z_(t,e,r){if(!K6(r)||!TR(r)){const n=ly(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function K1(t,e,r){if((e=fr(e))instanceof wy)return e._internalPath;if(typeof e=="string")return F_(t,e);throw Zg("Field path arguments must be of type string or ",t,!1,void 0,r)}const mG=new RegExp("[~\\*/\\[\\]]");function F_(t,e,r){if(e.search(mG)>=0)throw Zg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new wy(...e.split("."))._internalPath}catch{throw Zg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Zg(t,e,r,n,i){const a=n&&!n.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${n}`),l&&(f+=` in document ${i}`),f+=")"),new Ae(me.INVALID_ARGUMENT,c+t+f)}function G6(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Sy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class pG extends W6{data(){return super.data()}}function Sy(t,e){return typeof e=="string"?F_(t,e):e instanceof wy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q_{}class H_ extends q_{}function ga(t,e,...r){let n=[];e instanceof q_&&n.push(e),n=n.concat(r),(function(a){const l=a.filter((f=>f instanceof K_)).length,c=a.filter((f=>f instanceof Ty)).length;if(l>1||l>0&&c>0)throw new Ae(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class Ty extends H_{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Ty(e,r,n)}_apply(e){const r=this._parse(e);return Y6(e._query,r),new bl(e.firestore,e.converter,M1(e._query,r))}_parse(e){const r=Ey(e.firestore);return(function(a,l,c,f,h,p,g){let v;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ae(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){mP(g,p);const A=[];for(const E of g)A.push(hP(f,a,E));v={arrayValue:{values:A}}}else v=hP(f,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||mP(g,p),v=hG(c,l,g,p==="in"||p==="not-in");return kr.create(h,p,v)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Qs(t,e,r){const n=e,i=Sy("where",t);return Ty._create(i,n,r)}class K_ extends q_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new K_(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:pa.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let l=i;const c=a.getFlattenedFilters();for(const f of c)Y6(l,f),l=M1(l,f)})(e._query,r),new bl(e.firestore,e.converter,M1(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class G_ extends H_{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new G_(e,r)}_apply(e){const r=(function(i,a,l){if(i.startAt!==null)throw new Ae(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ae(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Th(a,l)})(e._query,this._field,this._direction);return new bl(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new Ad(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function wl(t,e="asc"){const r=e,n=Sy("orderBy",t);return G_._create(n,r)}class W_ extends H_{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new W_(e,r,n)}_apply(e){return new bl(e.firestore,e.converter,Hg(e._query,this._limit,this._limitType))}}function yG(t){return W_._create("limit",t,"F")}function hP(t,e,r){if(typeof(r=fr(r))=="string"){if(r==="")throw new Ae(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FR(e)&&r.indexOf("/")!==-1)throw new Ae(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Vt.fromString(r));if(!Me.isDocumentKey(n))throw new Ae(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return PC(t,new Me(n))}if(r instanceof wr)return PC(t,r._key);throw new Ae(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ly(r)}.`)}function mP(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y6(t,e){const r=(function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Ae(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class vG{convertValue(e,r="none"){switch(dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return vl(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){const r=e.fields?.[Fg].arrayValue?.values?.map((n=>br(n.doubleValue)));return new Fa(r)}convertGeoPoint(e){return new za(br(e.latitude),br(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=dy(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Eh(e));default:return null}}convertTimestamp(e){const r=cl(e);return new Ft(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Vt.fromString(e);gt(f6(n),9688,{name:e});const i=new Ah(n.get(1),n.get(3)),a=new Me(n.popFirst(5));return i.isEqual(r)||Ys(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class lh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vc extends W6{constructor(e,r,n,i,a,l){super(e,r,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ng(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Sy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=vc._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}vc._jsonSchemaVersion="firestore/documentSnapshot/1.0",vc._jsonSchema={type:Or("string",vc._jsonSchemaVersion),bundleSource:Or("string","DocumentSnapshot"),bundleName:Or("string"),bundle:Or("string")};class Ng extends vc{data(e={}){return super.data(e)}}class Ku{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new lh(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new Ng(this._firestore,this._userDataWriter,n.key,n,new lh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ae(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const f=new Ng(i._firestore,i._userDataWriter,c.doc.key,c.doc,new lh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const f=new Ng(i._firestore,i._userDataWriter,c.doc.key,c.doc,new lh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:xG(c.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ku._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=m_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){t=ma(t,wr);const e=ma(t.firestore,Fc);return nG(B_(e),t._key).then((r=>bG(e,t,r)))}Ku._jsonSchemaVersion="firestore/querySnapshot/1.0",Ku._jsonSchema={type:Or("string",Ku._jsonSchemaVersion),bundleSource:Or("string","QuerySnapshot"),bundleName:Or("string"),bundle:Or("string")};class Q6 extends vG{constructor(e){super(),this.firestore=e}convertBytes(e){return new Di(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,r)}}function Yt(t){t=ma(t,bl);const e=ma(t.firestore,Fc),r=B_(e),n=new Q6(e);return gG(t._query),iG(r,t._query).then((i=>new Ku(e,n,t,i)))}function ml(t,e,r){t=ma(t,wr);const n=ma(t.firestore,Fc),i=X6(t.converter,e,r);return jy(n,[F6(Ey(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Li.none())])}function oa(t,e,r,...n){t=ma(t,wr);const i=ma(t.firestore,Fc),a=Ey(i);let l;return l=typeof(e=fr(e))=="string"||e instanceof wy?fG(a,"updateDoc",t._key,e,r,n):dG(a,"updateDoc",t._key,e),jy(i,[l.toMutation(t._key,Li.exists(!0))])}function Y_(t){return jy(ma(t.firestore,Fc),[new __(t._key,Li.none())])}function Ny(t,e){const r=ma(t.firestore,Fc),n=wt(t),i=X6(t.converter,e);return jy(r,[F6(Ey(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Li.exists(!1))]).then((()=>n))}function jy(t,e){return(function(n,i){const a=new Us;return n.asyncQueue.enqueueAndForget((async()=>HK(await rG(n),i,a))),a.promise})(B_(t),e)}function bG(t,e,r){const n=r.docs.get(e._key),i=new Q6(t);return new vc(t,i,e._key,n,new lh(r.hasPendingWrites,r.fromCache),e.converter)}function pP(...t){return new U_("arrayUnion",t)}function gP(...t){return new $_("arrayRemove",t)}(function(e,r=!0){(function(i){wd=i})(Bc),Ac(new ol("firestore",((n,{instanceIdentifier:i,options:a})=>{const l=n.getProvider("app").getImmediate(),c=new Fc(new fq(n.getProvider("auth-internal")),new pq(l,n.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ae(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ah(h.options.projectId,p)})(l,i),l);return a={useFetchStreams:r,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Va(yC,vC,e),Va(yC,vC,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="firebasestorage.googleapis.com",wG="storageBucket",_G=120*1e3,EG=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends es{constructor(e,r,n=0){super(Rb(e),`Firebase Storage: ${r} (${Rb(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ka;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ka||(Ka={}));function Rb(t){return"storage/"+t}function AG(){const t="An unknown error occurred, please check the error payload for server response.";return new rs(Ka.UNKNOWN,t)}function SG(){return new rs(Ka.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TG(){return new rs(Ka.CANCELED,"User canceled the upload/download.")}function NG(t){return new rs(Ka.INVALID_URL,"Invalid URL '"+t+"'.")}function jG(t){return new rs(Ka.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function yP(t){return new rs(Ka.INVALID_ARGUMENT,t)}function J6(){return new rs(Ka.APP_DELETED,"The Firebase app was deleted.")}function CG(t){return new rs(Ka.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=da.makeFromUrl(e,r)}catch{return new da(e,"")}if(n.path==="")return n;throw jG(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),f={bucket:1,path:3};function h(L){L.path_=decodeURIComponent(L.path)}const p="v[A-Za-z0-9_]+",g=r.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp(`^https?://${g}/${p}/b/${i}/o${v}`,"i"),A={bucket:1,path:3},E=r===Z6?"(?:storage.googleapis.com|storage.cloud.google.com)":r,S="([^?#]*)",N=new RegExp(`^https?://${E}/${i}/${S}`,"i"),j=[{regex:c,indices:f,postModify:a},{regex:b,indices:A,postModify:h},{regex:N,indices:{bucket:1,path:2},postModify:h}];for(let L=0;L<j.length;L++){const z=j[L],M=z.regex.exec(e);if(M){const I=M[z.indices.bucket];let P=M[z.indices.path];P||(P=""),n=new da(I,P),z.postModify(n);break}}if(n==null)throw NG(e);return n}}class PG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG(t,e,r){let n=1,i=null,a=null,l=!1,c=0;function f(){return c===2}let h=!1;function p(...S){h||(h=!0,e.apply(null,S))}function g(S){i=setTimeout(()=>{i=null,t(b,f())},S)}function v(){a&&clearTimeout(a)}function b(S,...N){if(h){v();return}if(S){v(),p.call(null,S,...N);return}if(f()||l){v(),p.call(null,S,...N);return}n<64&&(n*=2);let j;c===1?(c=2,j=0):j=(n+Math.random())*1e3,g(j)}let A=!1;function E(S){A||(A=!0,v(),!h&&(i!==null?(S||(c=2),clearTimeout(i),g(0)):S||(c=1)))}return g(0),a=setTimeout(()=>{l=!0,E(!0)},r),E}function OG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IG(t){return t!==void 0}function vP(t,e,r,n){if(n<e)throw yP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw yP(`Invalid value for '${t}'. Expected ${r} or less.`)}function RG(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Jg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Jg||(Jg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DG(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e,r,n,i,a,l,c,f,h,p,g,v=!0,b=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,E)=>{this.resolve_=A,this.reject_=E,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Yp(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const f=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===Jg.NO_ERROR,f=a.getStatus();if(!c||DG(f,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===Jg.ABORT;n(!1,new Yp(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;n(!0,new Yp(h,a))})},r=(n,i)=>{const a=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(c,c.getResponse());IG(f)?a(f):a()}catch(f){l(f)}else if(c!==null){const f=AG();f.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,f)):l(f)}else if(i.canceled){const f=this.appDelete_?J6():TG();l(f)}else{const f=SG();l(f)}};this.canceled_?r(!1,new Yp(!1,null,!0)):this.backoffId_=kG(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&OG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yp{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function LG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function VG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function BG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function UG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $G(t,e,r,n,i,a,l=!0,c=!1){const f=RG(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return BG(p,e),LG(p,r),VG(p,a),UG(p,n),new MG(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function FG(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,r){this._service=e,r instanceof da?this._location=r:this._location=da.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new e0(e,r)}get root(){const e=new da(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FG(this._location.path)}get storage(){return this._service}get parent(){const e=zG(this._location.path);if(e===null)return null;const r=new da(this._location.bucket,e);return new e0(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw CG(e)}}function xP(t,e){const r=e?.[wG];return r==null?null:da.makeFromBucketSpec(r,t)}function qG(t,e,r,n={}){t.host=`${e}:${r}`;const i=Vc(e);i&&(Z2(`https://${t.host}/b`),J2("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:jI(a,t.app.options.projectId))}class HG{constructor(e,r,n,i,a,l=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=Z6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_G,this._maxUploadRetryTime=EG,this._requests=new Set,i!=null?this._bucket=da.makeFromBucketSpec(i,this._host):this._bucket=xP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=da.makeFromBucketSpec(this._url,e):this._bucket=xP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new e0(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new PG(J6());{const l=$G(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const bP="@firebase/storage",wP="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="storage";function KG(t=r_(),e){t=fr(t);const n=iy(t,eD).getImmediate({identifier:e}),i=SI("storage");return i&&GG(n,...i),n}function GG(t,e,r,n={}){qG(t,e,r,n)}function WG(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new HG(r,n,i,e,Bc)}function YG(){Ac(new ol(eD,WG,"PUBLIC").setMultipleInstances(!0)),Va(bP,wP,""),Va(bP,wP,"esm2020")}YG();const G1={apiKey:"AIzaSyDzEL20_gjVbq1gmskOJ2H2mFUocpamJzU",authDomain:"psgshop-62518.firebaseapp.com",projectId:"psgshop-62518",storageBucket:"psgshop-62518.firebasestorage.app",messagingSenderId:"951270215395",appId:"1:951270215395:web:d6c1ec0787e43351c17fd6"};console.log("Firebase config values:",{apiKey:"***",authDomain:"psgshop-62518.firebaseapp.com",projectId:"psgshop-62518",storageBucket:"psgshop-62518.firebasestorage.app",messagingSenderId:"951270215395",appId:"1:951270215395:web:d6c1ec0787e43351c17fd6"});const tD=Object.values(G1).every(t=>t&&t!=="");console.log("Is Firebase config valid:",tD);let Xp,Re,ha,XG;if(tD)try{console.log("Initializing Firebase app..."),Xp=kI(G1),console.log("Firebase app initialized successfully"),console.log("Initializing Firestore..."),Re=sG(Xp),console.log("Firestore initialized successfully"),console.log("Initializing Auth..."),ha=sq(Xp),Wz(ha,sR).then(()=>{console.log("Auth persistence set to browser local storage")}).catch(t=>{console.error("Error setting auth persistence:",t)}),console.log("Auth initialized successfully"),console.log("Initializing Storage..."),XG=KG(Xp),console.log("Storage initialized successfully")}catch(t){console.error("Firebase initialization error:",t),console.error("Error code:",t.code),console.error("Error message:",t.message)}else{const t=Object.entries(G1).filter(([e,r])=>!r||r==="").map(([e])=>e);console.warn("Firebase configuration is missing or incomplete. Missing keys:",t),console.warn("Please check your .env file and ensure all Firebase config variables are set.")}const rD=_.createContext(),qi=()=>_.useContext(rD),nD=_.createContext(),QG=(t,e)=>{switch(e.type){case"SET_CART":return{...t,items:e.payload.items||[],coupon:e.payload.coupon||null};case"ADD_TO_CART":const r=t.items.find(f=>f.id===e.payload.id);if(r){const f=r.quantity+(e.payload.quantity||1),h=e.payload.stock!==void 0?e.payload.stock:1/0;return f>h?t:{...t,items:t.items.map(p=>p.id===e.payload.id?{...p,quantity:f}:p)}}const n=e.payload.quantity||1,i=e.payload.stock!==void 0?e.payload.stock:1/0;return n>i?t:{...t,items:[...t.items,{...e.payload,quantity:n}]};case"REMOVE_FROM_CART":return{...t,items:t.items.filter(f=>f.id!==e.payload)};case"UPDATE_QUANTITY":const a=t.items.find(f=>f.id===e.payload.id);if(!a)return t;const l=a.stock!==void 0?a.stock:1/0,c=Math.min(e.payload.quantity,l);return c<=0?{...t,items:t.items.filter(f=>f.id!==e.payload.id)}:{...t,items:t.items.map(f=>f.id===e.payload.id?{...f,quantity:c}:f)};case"CLEAR_CART":return{...t,items:[],coupon:null};case"APPLY_COUPON":return{...t,coupon:e.payload};case"REMOVE_COUPON":return{...t,coupon:null};default:return t}},ZG=({children:t})=>{const[e,r]=_.useReducer(QG,{items:[],coupon:null}),[n,i]=_.useState(!0),{currentUser:a}=qi(),l=_.useRef(!0),c=N=>{if(N.imageUrls&&N.imageUrls.length>0){const C=N.imageUrls.filter(j=>j&&(typeof j=="string"||j.data&&typeof j.data=="string"));if(C.length>0){const j=N.primaryImageIndex||0,L=Math.min(j,C.length-1),z=C[L];if(typeof z=="string")return z;if(z&&z.data)return z.data}}return N.imageUrl||"https://via.placeholder.com/600x600.png?text=Moño"},f=_.useCallback(async()=>{if(i(!0),!a){console.log("No user logged in, clearing cart"),r({type:"SET_CART",payload:{items:[],coupon:null}}),i(!1);return}try{console.log("Attempting to load cart from Firestore for user:",a.uid);const N=wt(Re,"carts",a.uid),C=await ya(N);if(C.exists()){const j=C.data();console.log("Cart data loaded from Firestore:",j),r({type:"SET_CART",payload:{items:j.items||[],coupon:j.coupon||null}})}else console.log("No cart found for user, initializing empty cart"),r({type:"SET_CART",payload:{items:[],coupon:null}})}catch(N){console.error("Error loading cart from Firestore:",N),console.error("Error details:",N.code,N.message),r({type:"SET_CART",payload:{items:[],coupon:null}})}finally{i(!1)}},[a]);_.useEffect(()=>{console.log("CartProvider useEffect triggered with currentUser:",a),f()},[a,f]),_.useEffect(()=>{if(!a||n||l.current){l.current&&(console.log("Skipping save during initial cart load"),l.current=!1);return}const N=async()=>{console.log("Saving cart to Firestore:",{userId:a.uid,itemsCount:e.items.length,items:e.items,coupon:e.coupon});try{const j=wt(Re,"carts",a.uid),L={userId:a.uid,items:e.items.map(M=>({...M,lastUpdated:Date.now()})),coupon:e.coupon,updatedAt:new Date().toISOString(),timestamp:Date.now()};await ml(j,L,{merge:!0}),console.log("Successfully saved cart to Firestore with data:",L),(await ya(j)).exists()?console.log("Verification: Cart successfully saved and can be read back"):console.error("Verification: Failed to verify cart save")}catch(j){console.error("Error saving cart to Firestore:",j),console.error("Error details:",j.code,j.message)}},C=setTimeout(()=>{N()},500);return()=>clearTimeout(C)},[e.items,e.coupon,a,n]);const h=N=>{console.log("Adding to cart:",N);const C={...N,imageUrl:c(N)};r({type:"ADD_TO_CART",payload:C})},p=async N=>{if(console.log("Removing from cart:",N),r({type:"REMOVE_FROM_CART",payload:N}),a)try{const C=wt(Re,"carts",a.uid)}catch(C){console.error("Error removing item from Firestore cart:",C)}},g=(N,C)=>{if(console.log("Updating quantity:",N,C),C<=0){p(N);return}r({type:"UPDATE_QUANTITY",payload:{id:N,quantity:C}})},v=async()=>{if(r({type:"CLEAR_CART"}),a)try{const N=wt(Re,"carts",a.uid);await ml(N,{userId:a.uid,items:[],coupon:null,updatedAt:new Date})}catch(N){console.error("Error clearing cart in Firestore:",N)}},b=()=>e.items.reduce((N,C)=>N+C.quantity,0),A=()=>{const N=e.items.reduce((C,j)=>C+j.price*j.quantity,0);if(e.coupon){if(e.coupon.discountType==="percentage")return N*(1-e.coupon.discountValue/100);if(e.coupon.discountType==="fixed")return Math.max(0,N-e.coupon.discountValue)}return N},E=async N=>{try{const C=kt(Re,"coupons"),j=ga(C,Qs("code","==",N)),L=await Yt(j);if(L.empty)throw new Error("Cupón no válido");const z=L.docs[0],M={id:z.id,...z.data()};if(!M.isActive)throw new Error("Este cupón no está activo");const I=new Date;if(M.expiryDate&&I>M.expiryDate.toDate())throw new Error("Este cupón ha expirado");return r({type:"APPLY_COUPON",payload:M}),M}catch(C){throw console.error("Error applying coupon:",C),C}},S=()=>{r({type:"REMOVE_COUPON"})};return d.jsx(nD.Provider,{value:{items:e.items,coupon:e.coupon,loading:n,addToCart:h,removeFromCart:p,updateQuantity:g,clearCart:v,getTotalItems:b,getTotalPrice:A,applyCoupon:E,removeCoupon:S},children:t})},Hc=()=>{const t=_.useContext(nD);if(!t)throw new Error("useCart must be used within a CartProvider");return t},iD=_.createContext(),Jh=()=>_.useContext(iD),JG=({children:t})=>{const[e,r]=_.useState([]),[n,i]=_.useState(!0),{currentUser:a}=qi(),l=_.useRef(!0),c=E=>{if(E.imageUrls&&E.imageUrls.length>0){const S=E.imageUrls.filter(N=>N&&(typeof N=="string"||N.data&&typeof N.data=="string"));if(S.length>0){const N=E.primaryImageIndex||0,C=Math.min(N,S.length-1),j=S[C];if(typeof j=="string")return j;if(j&&j.data)return j.data}}return E.imageUrl||"https://via.placeholder.com/600x600.png?text=Moño"},f=_.useCallback(async()=>{if(i(!0),!a){r([]),i(!1),l.current=!1;return}try{const E=wt(Re,"wishlists",a.uid),S=await ya(E);if(S.exists()){const N=S.data();r(N.items||[])}else r([])}catch(E){console.error("Error loading wishlist from Firestore:",E),r([])}finally{i(!1),l.current=!1}},[a]);_.useEffect(()=>{f()},[a,f]),_.useEffect(()=>{if(!a||n||l.current)return;const E=async()=>{try{const N=wt(Re,"wishlists",a.uid),C={userId:a.uid,items:e.map(L=>({...L,lastUpdated:Date.now()})),updatedAt:new Date().toISOString(),timestamp:Date.now()};await ml(N,C,{merge:!0}),(await ya(N)).exists()||console.error("Verification: Failed to verify wishlist save")}catch(N){console.error("Error saving wishlist to Firestore:",N)}},S=setTimeout(()=>{E()},500);return()=>clearTimeout(S)},[e,a,n]);const h=E=>{r(S=>{if(S.find(j=>j.id===E.id))return S;const C={...E,imageUrl:c(E)};return[...S,C]})},p=E=>{r(S=>S.filter(N=>N.id!==E))},g=E=>e.some(S=>S.id===E),v=async()=>{if(r([]),a)try{const E=wt(Re,"wishlists",a.uid);await ml(E,{userId:a.uid,items:[],updatedAt:new Date})}catch(E){console.error("Error clearing wishlist in Firestore:",E)}},b=()=>e.length,A=()=>{f()};return d.jsx(iD.Provider,{value:{items:e,loading:n,addToWishlist:h,removeFromWishlist:p,isInWishlist:g,clearWishlist:v,getTotalItems:b,refreshWishlist:A},children:t})};var Db={exports:{}},Mb,_P;function eW(){if(_P)return Mb;_P=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Mb=t,Mb}var Lb,EP;function tW(){if(EP)return Lb;EP=1;var t=eW();function e(){}function r(){}return r.resetWarningCache=e,Lb=function(){function n(l,c,f,h,p,g){if(g!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},Lb}var AP;function rW(){return AP||(AP=1,Db.exports=tW()()),Db.exports}var nW=rW();const $t=Za(nW);function SP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(r),!0).forEach(function(n){aD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jg(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jg=function(e){return typeof e}:jg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function aD(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iW(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function aW(t,e){if(t==null)return{};var r=iW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sW(t,e){return oW(t)||lW(t,e)||cW(t,e)||uW()}function oW(t){if(Array.isArray(t))return t}function lW(t,e){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var n=[],i=!0,a=!1,l,c;try{for(r=r.call(t);!(i=(l=r.next()).done)&&(n.push(l.value),!(e&&n.length===e));i=!0);}catch(f){a=!0,c=f}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw c}}return n}}function cW(t,e){if(t){if(typeof t=="string")return NP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NP(t,e)}}function NP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var On=function(e,r,n){var i=!!n,a=ct.useRef(n);ct.useEffect(function(){a.current=n},[n]),ct.useEffect(function(){if(!i||!e)return function(){};var l=function(){a.current&&a.current.apply(a,arguments)};return e.on(r,l),function(){e.off(r,l)}},[i,r,e,a])},dW=function(e){var r=ct.useRef(e);return ct.useEffect(function(){r.current=e},[e]),r.current},t0=function(e){return e!==null&&jg(e)==="object"},jP="[object Object]",fW=function t(e,r){if(!t0(e)||!t0(r))return e===r;var n=Array.isArray(e),i=Array.isArray(r);if(n!==i)return!1;var a=Object.prototype.toString.call(e)===jP,l=Object.prototype.toString.call(r)===jP;if(a!==l)return!1;if(!a&&!n)return e===r;var c=Object.keys(e),f=Object.keys(r);if(c.length!==f.length)return!1;for(var h={},p=0;p<c.length;p+=1)h[c[p]]=!0;for(var g=0;g<f.length;g+=1)h[f[g]]=!0;var v=Object.keys(h);if(v.length!==c.length)return!1;var b=e,A=r,E=function(N){return t(b[N],A[N])};return v.every(E)},hW=function(e,r,n){return t0(e)?Object.keys(e).reduce(function(i,a){var l=!t0(r)||!fW(e[a],r[a]);return n.includes(a)?(l&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):l?TP(TP({},i||{}),{},aD({},a,e[a])):i},null):null},sD=ct.createContext(null);sD.displayName="ElementsContext";var mW=function(e,r){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return e};$t.any,$t.object;$t.func.isRequired;var oD=ct.createContext(null);oD.displayName="CheckoutSdkContext";var pW=function(e,r){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CheckoutProvider> provider."));return e},gW=ct.createContext(null);gW.displayName="CheckoutContext";$t.any,$t.shape({fetchClientSecret:$t.func.isRequired,elementsOptions:$t.object}).isRequired;var CP=function(e){var r=ct.useContext(oD),n=ct.useContext(sD);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return r?pW(r,e):mW(n,e)},yW=["mode"],vW=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},_r=function(e,r){var n="".concat(vW(e),"Element"),i=function(f){var h=f.id,p=f.className,g=f.options,v=g===void 0?{}:g,b=f.onBlur,A=f.onFocus,E=f.onReady,S=f.onChange,N=f.onEscape,C=f.onClick,j=f.onLoadError,L=f.onLoaderStart,z=f.onNetworksChange,M=f.onConfirm,I=f.onCancel,P=f.onShippingAddressChange,R=f.onShippingRateChange,U=f.onSavedPaymentMethodRemove,B=f.onSavedPaymentMethodUpdate,q=CP("mounts <".concat(n,">")),V="elements"in q?q.elements:null,xe="checkoutSdk"in q?q.checkoutSdk:null,fe=ct.useState(null),W=sW(fe,2),K=W[0],le=W[1],pe=ct.useRef(null),$=ct.useRef(null);On(K,"blur",b),On(K,"focus",A),On(K,"escape",N),On(K,"click",C),On(K,"loaderror",j),On(K,"loaderstart",L),On(K,"networkschange",z),On(K,"confirm",M),On(K,"cancel",I),On(K,"shippingaddresschange",P),On(K,"shippingratechange",R),On(K,"savedpaymentmethodremove",U),On(K,"savedpaymentmethodupdate",B),On(K,"change",S);var Y;E&&(e==="expressCheckout"?Y=E:Y=function(){E(K)}),On(K,"ready",Y),ct.useLayoutEffect(function(){if(pe.current===null&&$.current!==null&&(V||xe)){var Q=null;if(xe)switch(e){case"payment":Q=xe.createPaymentElement(v);break;case"address":if("mode"in v){var oe=v.mode,ye=aW(v,yW);if(oe==="shipping")Q=xe.createShippingAddressElement(ye);else if(oe==="billing")Q=xe.createBillingAddressElement(ye);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":Q=xe.createExpressCheckoutElement(v);break;case"currencySelector":Q=xe.createCurrencySelectorElement();break;case"taxId":Q=xe.createTaxIdElement(v);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else V&&(Q=V.create(e,v));pe.current=Q,le(Q),Q&&Q.mount($.current)}},[V,xe,v]);var te=dW(v);return ct.useEffect(function(){if(pe.current){var Q=hW(v,te,["paymentRequest"]);Q&&"update"in pe.current&&pe.current.update(Q)}},[v,te]),ct.useLayoutEffect(function(){return function(){if(pe.current&&typeof pe.current.destroy=="function")try{pe.current.destroy(),pe.current=null}catch{}}},[]),ct.createElement("div",{id:h,className:p,ref:$})},a=function(f){CP("mounts <".concat(n,">"));var h=f.id,p=f.className;return ct.createElement("div",{id:h,className:p})},l=r?a:i;return l.propTypes={id:$t.string,className:$t.string,onChange:$t.func,onBlur:$t.func,onFocus:$t.func,onReady:$t.func,onEscape:$t.func,onClick:$t.func,onLoadError:$t.func,onLoaderStart:$t.func,onNetworksChange:$t.func,onConfirm:$t.func,onCancel:$t.func,onShippingAddressChange:$t.func,onShippingRateChange:$t.func,onSavedPaymentMethodRemove:$t.func,onSavedPaymentMethodUpdate:$t.func,options:$t.object},l.displayName=n,l.__elementType=e,l},Er=typeof window>"u",xW=ct.createContext(null);xW.displayName="EmbeddedCheckoutProviderContext";_r("auBankAccount",Er);var bW=_r("card",Er);_r("cardNumber",Er);_r("cardExpiry",Er);_r("cardCvc",Er);_r("fpxBank",Er);_r("iban",Er);_r("idealBank",Er);_r("p24Bank",Er);_r("epsBank",Er);_r("payment",Er);_r("expressCheckout",Er);_r("currencySelector",Er);_r("paymentRequestButton",Er);_r("linkAuthentication",Er);_r("address",Er);_r("shippingAddress",Er);_r("paymentMethodMessaging",Er);_r("affirmMessage",Er);_r("afterpayClearpayMessage",Er);_r("taxId",Er);var Vb,PP;function wW(){if(PP)return Vb;PP=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=($,Y)=>{for(var te in Y)t($,te,{get:Y[te],enumerable:!0})},a=($,Y,te,Q)=>{if(Y&&typeof Y=="object"||typeof Y=="function")for(let oe of r(Y))!n.call($,oe)&&oe!==te&&t($,oe,{get:()=>Y[oe],enumerable:!(Q=e(Y,oe))||Q.enumerable});return $},l=$=>a(t({},"__esModule",{value:!0}),$),c=($,Y,te)=>new Promise((Q,oe)=>{var ye=Ke=>{try{Le(te.next(Ke))}catch(_e){oe(_e)}},we=Ke=>{try{Le(te.throw(Ke))}catch(_e){oe(_e)}},Le=Ke=>Ke.done?Q(Ke.value):Promise.resolve(Ke.value).then(ye,we);Le((te=te.apply($,Y)).next())}),f={};i(f,{SubmissionError:()=>L,appendExtraData:()=>V,createClient:()=>K,getDefaultClient:()=>le,isSubmissionError:()=>j}),Vb=l(f);var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;function g($){$=String($);for(var Y,te,Q,oe,ye="",we=0,Le=$.length%3;we<$.length;){if((te=$.charCodeAt(we++))>255||(Q=$.charCodeAt(we++))>255||(oe=$.charCodeAt(we++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");Y=te<<16|Q<<8|oe,ye+=h.charAt(Y>>18&63)+h.charAt(Y>>12&63)+h.charAt(Y>>6&63)+h.charAt(Y&63)}return Le?ye.slice(0,Le-3)+"===".substring(Le):ye}function v($){if($=String($).replace(/[\t\n\f\r ]+/g,""),!p.test($))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");$+="==".slice(2-($.length&3));for(var Y,te="",Q,oe,ye=0;ye<$.length;)Y=h.indexOf($.charAt(ye++))<<18|h.indexOf($.charAt(ye++))<<12|(Q=h.indexOf($.charAt(ye++)))<<6|(oe=h.indexOf($.charAt(ye++))),te+=Q===64?String.fromCharCode(Y>>16&255):oe===64?String.fromCharCode(Y>>16&255,Y>>8&255):String.fromCharCode(Y>>16&255,Y>>8&255,Y&255);return te}var b=()=>navigator.webdriver||!!document.documentElement.getAttribute(v("d2ViZHJpdmVy"))||!!window.callPhantom||!!window._phantom,A=class{constructor(){this.loadedAt=Date.now(),this.webdriver=b()}data(){return{loadedAt:this.loadedAt,webdriver:this.webdriver}}},E=class{constructor($){this.kind="success",this.next=$.next}};function S($){return"next"in $&&typeof $.next=="string"}var N=class{constructor($,Y){this.paymentIntentClientSecret=$,this.resubmitKey=Y,this.kind="stripePluginPending"}};function C($){if("stripe"in $&&"resubmitKey"in $&&typeof $.resubmitKey=="string"){let{stripe:Y}=$;return typeof Y=="object"&&Y!=null&&"paymentIntentClientSecret"in Y&&typeof Y.paymentIntentClientSecret=="string"}return!1}function j($){return $.kind==="error"}var L=class{constructor(...$){this.kind="error",this.formErrors=[],this.fieldErrors=new Map;var Y;for(let te of $){if(!te.field){this.formErrors.push({code:te.code&&z(te.code)?te.code:"UNSPECIFIED",message:te.message});continue}let Q=(Y=this.fieldErrors.get(te.field))!=null?Y:[];Q.push({code:te.code&&I(te.code)?te.code:"UNSPECIFIED",message:te.message}),this.fieldErrors.set(te.field,Q)}}getFormErrors(){return[...this.formErrors]}getFieldErrors($){var Y;return(Y=this.fieldErrors.get($))!=null?Y:[]}getAllFieldErrors(){return Array.from(this.fieldErrors)}};function z($){return $ in M}var M={BLOCKED:"BLOCKED",EMPTY:"EMPTY",FILES_TOO_BIG:"FILES_TOO_BIG",FORM_NOT_FOUND:"FORM_NOT_FOUND",INACTIVE:"INACTIVE",NO_FILE_UPLOADS:"NO_FILE_UPLOADS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",TOO_MANY_FILES:"TOO_MANY_FILES"};function I($){return $ in P}var P={REQUIRED_FIELD_EMPTY:"REQUIRED_FIELD_EMPTY",REQUIRED_FIELD_MISSING:"REQUIRED_FIELD_MISSING",STRIPE_CLIENT_ERROR:"STRIPE_CLIENT_ERROR",STRIPE_SCA_ERROR:"STRIPE_SCA_ERROR",TYPE_EMAIL:"TYPE_EMAIL",TYPE_NUMERIC:"TYPE_NUMERIC",TYPE_TEXT:"TYPE_TEXT"};function R($){return"errors"in $&&Array.isArray($.errors)&&$.errors.every(Y=>typeof Y.message=="string")||"error"in $&&typeof $.error=="string"}var U="4.0.0",B=$=>g(JSON.stringify($)),q=$=>{let Y=`@formspree/core@${U}`;return $?`${$} ${Y}`:Y};function V($,Y,te){$ instanceof FormData?$.append(Y,te):$[Y]=te}function xe($){return $!==null&&typeof $=="object"}var fe=class{constructor($={}){this.project=$.project,this.stripe=$.stripe,typeof window<"u"&&(this.session=new A)}submitForm($,Y){return c(this,arguments,function*(te,Q,oe={}){let ye=oe.endpoint||"https://formspree.io",we=this.project?`${ye}/p/${this.project}/f/${te}`:`${ye}/f/${te}`,Le={Accept:"application/json","Formspree-Client":q(oe.clientName)};this.session&&(Le["Formspree-Session-Data"]=B(this.session.data())),Q instanceof FormData||(Le["Content-Type"]="application/json");function Ke(Ve){return c(this,null,function*(){try{let Se=yield(yield fetch(we,{method:"POST",mode:"cors",body:Ve instanceof FormData?Ve:JSON.stringify(Ve),headers:Le})).json();if(xe(Se)){if(R(Se))return Array.isArray(Se.errors)?new L(...Se.errors):new L({message:Se.error});if(C(Se))return new N(Se.stripe.paymentIntentClientSecret,Se.resubmitKey);if(S(Se))return new E({next:Se.next})}return new L({message:"Unexpected response format"})}catch(Se){let be=Se instanceof Error?Se.message:`Unknown error while posting to Formspree: ${JSON.stringify(Se)}`;return new L({message:be})}})}if(this.stripe&&oe.createPaymentMethod){let Ve=yield oe.createPaymentMethod();if(Ve.error)return new L({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Error creating payment method"});V(Q,"paymentMethod",Ve.paymentMethod.id);let Se=yield Ke(Q);if(Se.kind==="error")return Se;if(Se.kind==="stripePluginPending"){let be=yield this.stripe.handleCardAction(Se.paymentIntentClientSecret);if(be.error)return new L({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Stripe SCA error"});Q instanceof FormData?Q.delete("paymentMethod"):delete Q.paymentMethod,V(Q,"paymentIntent",be.paymentIntent.id),V(Q,"resubmitKey",Se.resubmitKey);let _t=yield Ke(Q);return W(_t),_t}return Se}let _e=yield Ke(Q);return W(_e),_e})}};function W($){let{kind:Y}=$;if(Y!=="success"&&Y!=="error")throw new Error(`Unexpected submission result (kind: ${Y})`)}var K=$=>new fe($),le=()=>(pe||(pe=K()),pe),pe;return Vb}var X_=wW();function r0(t){let{prefix:e,field:r,errors:n,...i}=t;if(n==null)return null;let a=r?n.getFieldErrors(r):n.getFormErrors();return a.length===0?null:ct.createElement("div",{...i},e?`${e} `:null,a.map(l=>l.message).join(", "))}var _W=_.createContext({elements:null});function EW(){return _.useContext(_W)}var AW=ct.createContext(null);function SW(){return _.useContext(AW)??{client:X_.getDefaultClient()}}var TW="3.0.0",NW=`@formspree/react@${TW}`;function jW(t,e={}){let r=SW(),{client:n=r.client,extraData:i,origin:a}=e,{elements:l}=EW(),{stripe:c}=n;return async function(f){let h=CW(f)?PW(f):f;if(typeof i=="object")for(let[v,b]of Object.entries(i)){let A;typeof b=="function"?A=await b():A=b,A!==void 0&&X_.appendExtraData(h,v,A)}let p=l?.getElement(bW),g=c&&p?()=>c.createPaymentMethod({type:"card",card:p,billing_details:kW(h)}):void 0;return n.submitForm(t,h,{endpoint:a,clientName:NW,createPaymentMethod:g})}}function CW(t){return"preventDefault"in t&&typeof t.preventDefault=="function"}function PW(t){t.preventDefault();let e=t.currentTarget;if(e.tagName!="FORM")throw new Error("submit was triggered for a non-form element");return new FormData(e)}function kW(t){let e={address:OW(t)};for(let r of["name","email","phone"]){let n=t instanceof FormData?t.get(r):t[r];n&&typeof n=="string"&&(e[r]=n)}return e}function OW(t){let e={};for(let[r,n]of[["address_line1","line1"],["address_line2","line2"],["address_city","city"],["address_country","country"],["address_state","state"],["address_postal_code","postal_code"]]){let i=t instanceof FormData?t.get(r):t[r];i&&typeof i=="string"&&(e[n]=i)}return e}function lD(t,e={}){let[r,n]=_.useState(null),[i,a]=_.useState(null),[l,c]=_.useState(!1),[f,h]=_.useState(!1),p=jW(t,{client:e.client,extraData:e.data,origin:e.endpoint});return[{errors:r,result:i,submitting:l,succeeded:f},async function(g){c(!0);let v=await p(g);c(!1),X_.isSubmissionError(v)?(n(v),h(!1)):(n(null),a(v),h(!0))},function(){n(null),a(null),c(!1),h(!1)}]}const cD=async()=>{try{const t=kt(Re,"products");return(await Yt(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error fetching products:",t),t}},IW=async t=>{try{const e=wt(Re,"products",t),r=await ya(e);if(r.exists())return{id:r.id,...r.data()};throw new Error("Product not found")}catch(e){throw console.error("Error fetching product:",e),e}},n0=({rating:t,size:e="md"})=>{const r=Math.max(0,Math.min(5,t||0)),n=Math.floor(r),i=r-n,a={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=a[e]||a.md,c=[];for(let h=0;h<n;h++)c.push(d.jsx("svg",{className:`${l} text-yellow-400`,fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`full-${h}`));if(i>0){const h=i*100;c.push(d.jsxs("div",{className:"relative",children:[d.jsx("svg",{className:`${l} text-gray-300`,fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),d.jsx("div",{className:"absolute top-0 left-0 overflow-hidden",style:{width:`${h}%`},children:d.jsx("svg",{className:`${l} text-yellow-400`,fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]},"fractional"))}const f=c.length;for(let h=f;h<5;h++)c.push(d.jsx("svg",{className:`${l} text-gray-300`,fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`empty-${h}`));return d.jsxs("div",{className:"flex items-center",children:[c,d.jsx("span",{className:"ml-1 text-gray-600 text-sm",children:r.toFixed(1)})]})};/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function uD(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function RW(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kP(t,e){return t.get(uD(t,e))}function DW(t,e,r){RW(t,e),e.set(t,r)}function MW(t,e,r){return t.set(uD(t,e),r),r}const LW=100,Be={},VW=()=>{Be.previousActiveElement instanceof HTMLElement?(Be.previousActiveElement.focus(),Be.previousActiveElement=null):document.body&&document.body.focus()},BW=t=>new Promise(e=>{if(!t)return e();const r=window.scrollX,n=window.scrollY;Be.restoreFocusTimeout=setTimeout(()=>{VW(),e()},LW),window.scrollTo(r,n)}),dD="swal2-",UW=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],ue=UW.reduce((t,e)=>(t[e]=dD+e,t),{}),$W=["success","warning","info","question","error"],i0=$W.reduce((t,e)=>(t[e]=dD+e,t),{}),fD="SweetAlert2:",Q_=t=>t.charAt(0).toUpperCase()+t.slice(1),Dn=t=>{console.warn(`${fD} ${typeof t=="object"?t.join(" "):t}`)},Kc=t=>{console.error(`${fD} ${t}`)},OP=[],zW=t=>{OP.includes(t)||(OP.push(t),Dn(t))},hD=(t,e=null)=>{zW(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Cy=t=>typeof t=="function"?t():t,Z_=t=>t&&typeof t.toPromise=="function",em=t=>Z_(t)?t.toPromise():Promise.resolve(t),J_=t=>t&&Promise.resolve(t)===t,Mn=()=>document.body.querySelector(`.${ue.container}`),tm=t=>{const e=Mn();return e?e.querySelector(t):null},mi=t=>tm(`.${t}`),ft=()=>mi(ue.popup),Td=()=>mi(ue.icon),FW=()=>mi(ue["icon-content"]),mD=()=>mi(ue.title),eE=()=>mi(ue["html-container"]),pD=()=>mi(ue.image),tE=()=>mi(ue["progress-steps"]),Py=()=>mi(ue["validation-message"]),Ga=()=>tm(`.${ue.actions} .${ue.confirm}`),Nd=()=>tm(`.${ue.actions} .${ue.cancel}`),Gc=()=>tm(`.${ue.actions} .${ue.deny}`),qW=()=>mi(ue["input-label"]),jd=()=>tm(`.${ue.loader}`),rm=()=>mi(ue.actions),gD=()=>mi(ue.footer),ky=()=>mi(ue["timer-progress-bar"]),rE=()=>mi(ue.close),HW=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,nE=()=>{const t=ft();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(e).sort((a,l)=>{const c=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(l.getAttribute("tabindex")||"0");return c>f?1:c<f?-1:0}),n=t.querySelectorAll(HW),i=Array.from(n).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(i))].filter(a=>Gn(a))},iE=()=>$s(document.body,ue.shown)&&!$s(document.body,ue["toast-shown"])&&!$s(document.body,ue["no-backdrop"]),Oy=()=>{const t=ft();return t?$s(t,ue.toast):!1},KW=()=>{const t=ft();return t?t.hasAttribute("data-loading"):!1},pi=(t,e)=>{if(t.textContent="",e){const n=new DOMParser().parseFromString(e,"text/html"),i=n.querySelector("head");i&&Array.from(i.childNodes).forEach(l=>{t.appendChild(l)});const a=n.querySelector("body");a&&Array.from(a.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?t.appendChild(l.cloneNode(!0)):t.appendChild(l)})}},$s=(t,e)=>{if(!e)return!1;const r=e.split(/\s+/);for(let n=0;n<r.length;n++)if(!t.classList.contains(r[n]))return!1;return!0},GW=(t,e)=>{Array.from(t.classList).forEach(r=>{!Object.values(ue).includes(r)&&!Object.values(i0).includes(r)&&!Object.values(e.showClass||{}).includes(r)&&t.classList.remove(r)})},fi=(t,e,r)=>{if(GW(t,e),!e.customClass)return;const n=e.customClass[r];if(n){if(typeof n!="string"&&!n.forEach){Dn(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof n}"`);return}pt(t,n)}},Iy=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${ue.popup} > .${ue[e]}`);case"checkbox":return t.querySelector(`.${ue.popup} > .${ue.checkbox} input`);case"radio":return t.querySelector(`.${ue.popup} > .${ue.radio} input:checked`)||t.querySelector(`.${ue.popup} > .${ue.radio} input:first-child`);case"range":return t.querySelector(`.${ue.popup} > .${ue.range} input`);default:return t.querySelector(`.${ue.popup} > .${ue.input}`)}},yD=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},vD=(t,e,r)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(n=>{Array.isArray(t)?t.forEach(i=>{r?i.classList.add(n):i.classList.remove(n)}):r?t.classList.add(n):t.classList.remove(n)}))},pt=(t,e)=>{vD(t,e,!0)},Ui=(t,e)=>{vD(t,e,!1)},Jo=(t,e)=>{const r=Array.from(t.children);for(let n=0;n<r.length;n++){const i=r[n];if(i instanceof HTMLElement&&$s(i,e))return i}},xc=(t,e,r)=>{r===`${parseInt(r)}`&&(r=parseInt(r)),r||parseInt(r)===0?t.style.setProperty(e,typeof r=="number"?`${r}px`:r):t.style.removeProperty(e)},Jr=(t,e="flex")=>{t&&(t.style.display=e)},Tn=t=>{t&&(t.style.display="none")},aE=(t,e="block")=>{t&&new MutationObserver(()=>{nm(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},IP=(t,e,r,n)=>{const i=t.querySelector(e);i&&i.style.setProperty(r,n)},nm=(t,e,r="flex")=>{e?Jr(t,r):Tn(t)},Gn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),WW=()=>!Gn(Ga())&&!Gn(Gc())&&!Gn(Nd()),W1=t=>t.scrollHeight>t.clientHeight,YW=(t,e)=>{let r=t;for(;r&&r!==e;){if(W1(r))return!0;r=r.parentElement}return!1},xD=t=>{const e=window.getComputedStyle(t),r=parseFloat(e.getPropertyValue("animation-duration")||"0"),n=parseFloat(e.getPropertyValue("transition-duration")||"0");return r>0||n>0},sE=(t,e=!1)=>{const r=ky();r&&Gn(r)&&(e&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${t/1e3}s linear`,r.style.width="0%"},10))},XW=()=>{const t=ky();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const r=parseInt(window.getComputedStyle(t).width),n=e/r*100;t.style.width=`${n}%`},QW=()=>typeof window>"u"||typeof document>"u",ZW=`
 <div aria-labelledby="${ue.title}" aria-describedby="${ue["html-container"]}" class="${ue.popup}" tabindex="-1">
   <button type="button" class="${ue.close}"></button>
   <ul class="${ue["progress-steps"]}"></ul>
   <div class="${ue.icon}"></div>
   <img class="${ue.image}" />
   <h2 class="${ue.title}" id="${ue.title}"></h2>
   <div class="${ue["html-container"]}" id="${ue["html-container"]}"></div>
   <input class="${ue.input}" id="${ue.input}" />
   <input type="file" class="${ue.file}" />
   <div class="${ue.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${ue.select}" id="${ue.select}"></select>
   <div class="${ue.radio}"></div>
   <label class="${ue.checkbox}">
     <input type="checkbox" id="${ue.checkbox}" />
     <span class="${ue.label}"></span>
   </label>
   <textarea class="${ue.textarea}" id="${ue.textarea}"></textarea>
   <div class="${ue["validation-message"]}" id="${ue["validation-message"]}"></div>
   <div class="${ue.actions}">
     <div class="${ue.loader}"></div>
     <button type="button" class="${ue.confirm}"></button>
     <button type="button" class="${ue.deny}"></button>
     <button type="button" class="${ue.cancel}"></button>
   </div>
   <div class="${ue.footer}"></div>
   <div class="${ue["timer-progress-bar-container"]}">
     <div class="${ue["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),JW=()=>{const t=Mn();return t?(t.remove(),Ui([document.documentElement,document.body],[ue["no-backdrop"],ue["toast-shown"],ue["has-column"]]),!0):!1},ac=()=>{Be.currentInstance.resetValidationMessage()},eY=()=>{const t=ft(),e=Jo(t,ue.input),r=Jo(t,ue.file),n=t.querySelector(`.${ue.range} input`),i=t.querySelector(`.${ue.range} output`),a=Jo(t,ue.select),l=t.querySelector(`.${ue.checkbox} input`),c=Jo(t,ue.textarea);e.oninput=ac,r.onchange=ac,a.onchange=ac,l.onchange=ac,c.oninput=ac,n.oninput=()=>{ac(),i.value=n.value},n.onchange=()=>{ac(),i.value=n.value}},tY=t=>typeof t=="string"?document.querySelector(t):t,rY=t=>{const e=ft();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},nY=t=>{window.getComputedStyle(t).direction==="rtl"&&pt(Mn(),ue.rtl)},iY=t=>{const e=JW();if(QW()){Kc("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=ue.container,e&&pt(r,ue["no-transition"]),pi(r,ZW),r.dataset.swal2Theme=t.theme;const n=tY(t.target);n.appendChild(r),t.topLayer&&(r.setAttribute("popover",""),r.showPopover()),rY(t),nY(n),eY()},oE=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?aY(t,e):t&&pi(e,t)},aY=(t,e)=>{t.jquery?sY(e,t):pi(e,t.toString())},sY=(t,e)=>{if(t.textContent="",0 in e)for(let r=0;r in e;r++)t.appendChild(e[r].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},oY=(t,e)=>{const r=rm(),n=jd();!r||!n||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Tn(r):Jr(r),fi(r,e,"actions"),lY(r,n,e),pi(n,e.loaderHtml||""),fi(n,e,"loader"))};function lY(t,e,r){const n=Ga(),i=Gc(),a=Nd();!n||!i||!a||(Ub(n,"confirm",r),Ub(i,"deny",r),Ub(a,"cancel",r),cY(n,i,a,r),r.reverseButtons&&(r.toast?(t.insertBefore(a,n),t.insertBefore(i,n)):(t.insertBefore(a,e),t.insertBefore(i,e),t.insertBefore(n,e))))}function cY(t,e,r,n){if(!n.buttonsStyling){Ui([t,e,r],ue.styled);return}pt([t,e,r],ue.styled),n.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),Bb(t),Bb(e),Bb(r)}function Bb(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function Ub(t,e,r){const n=Q_(e);nm(t,r[`show${n}Button`],"inline-block"),pi(t,r[`${e}ButtonText`]||""),t.setAttribute("aria-label",r[`${e}ButtonAriaLabel`]||""),t.className=ue[e],fi(t,r,`${e}Button`)}const uY=(t,e)=>{const r=rE();r&&(pi(r,e.closeButtonHtml||""),fi(r,e,"closeButton"),nm(r,e.showCloseButton),r.setAttribute("aria-label",e.closeButtonAriaLabel||""))},dY=(t,e)=>{const r=Mn();r&&(fY(r,e.backdrop),hY(r,e.position),mY(r,e.grow),fi(r,e,"container"))};function fY(t,e){typeof e=="string"?t.style.background=e:e||pt([document.documentElement,document.body],ue["no-backdrop"])}function hY(t,e){e&&(e in ue?pt(t,ue[e]):(Dn('The "position" parameter is not valid, defaulting to "center"'),pt(t,ue.center)))}function mY(t,e){e&&pt(t,ue[`grow-${e}`])}var Bt={innerParams:new WeakMap,domCache:new WeakMap};const pY=["input","file","range","select","radio","checkbox","textarea"],gY=(t,e)=>{const r=ft();if(!r)return;const n=Bt.innerParams.get(t),i=!n||e.input!==n.input;pY.forEach(a=>{const l=Jo(r,ue[a]);l&&(xY(a,e.inputAttributes),l.className=ue[a],i&&Tn(l))}),e.input&&(i&&yY(e),bY(e))},yY=t=>{if(!t.input)return;if(!xr[t.input]){Kc(`Unexpected type of input! Expected ${Object.keys(xr).join(" | ")}, got "${t.input}"`);return}const e=bD(t.input);if(!e)return;const r=xr[t.input](e,t);Jr(e),t.inputAutoFocus&&setTimeout(()=>{yD(r)})},vY=t=>{for(let e=0;e<t.attributes.length;e++){const r=t.attributes[e].name;["id","type","value","style"].includes(r)||t.removeAttribute(r)}},xY=(t,e)=>{const r=ft();if(!r)return;const n=Iy(r,t);if(n){vY(n);for(const i in e)n.setAttribute(i,e[i])}},bY=t=>{if(!t.input)return;const e=bD(t.input);e&&fi(e,t,"input")},lE=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},im=(t,e,r)=>{if(r.inputLabel){const n=document.createElement("label"),i=ue["input-label"];n.setAttribute("for",t.id),n.className=i,typeof r.customClass=="object"&&pt(n,r.customClass.inputLabel),n.innerText=r.inputLabel,e.insertAdjacentElement("beforebegin",n)}},bD=t=>{const e=ft();if(e)return Jo(e,ue[t]||ue.input)},a0=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:J_(e)||Dn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},xr={};xr.text=xr.email=xr.password=xr.number=xr.tel=xr.url=xr.search=xr.date=xr["datetime-local"]=xr.time=xr.week=xr.month=(t,e)=>(a0(t,e.inputValue),im(t,t,e),lE(t,e),t.type=e.input,t);xr.file=(t,e)=>(im(t,t,e),lE(t,e),t);xr.range=(t,e)=>{const r=t.querySelector("input"),n=t.querySelector("output");return a0(r,e.inputValue),r.type=e.input,a0(n,e.inputValue),im(r,t,e),t};xr.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const r=document.createElement("option");pi(r,e.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,t.appendChild(r)}return im(t,t,e),t};xr.radio=t=>(t.textContent="",t);xr.checkbox=(t,e)=>{const r=Iy(ft(),"checkbox");r.value="1",r.checked=!!e.inputValue;const n=t.querySelector("span");return pi(n,e.inputPlaceholder||e.inputLabel),r};xr.textarea=(t,e)=>{a0(t,e.inputValue),lE(t,e),im(t,t,e);const r=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(ft()).width),i=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+r(t);a>n?ft().style.width=`${a}px`:xc(ft(),"width",e.width)};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const wY=(t,e)=>{const r=eE();r&&(aE(r),fi(r,e,"htmlContainer"),e.html?(oE(e.html,r),Jr(r,"block")):e.text?(r.textContent=e.text,Jr(r,"block")):Tn(r),gY(t,e))},_Y=(t,e)=>{const r=gD();r&&(aE(r),nm(r,e.footer,"block"),e.footer&&oE(e.footer,r),fi(r,e,"footer"))},EY=(t,e)=>{const r=Bt.innerParams.get(t),n=Td();if(!n)return;if(r&&e.icon===r.icon){DP(n,e),RP(n,e);return}if(!e.icon&&!e.iconHtml){Tn(n);return}if(e.icon&&Object.keys(i0).indexOf(e.icon)===-1){Kc(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Tn(n);return}Jr(n),DP(n,e),RP(n,e),pt(n,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",wD)},RP=(t,e)=>{for(const[r,n]of Object.entries(i0))e.icon!==r&&Ui(t,n);pt(t,e.icon&&i0[e.icon]),TY(t,e),wD(),fi(t,e,"icon")},wD=()=>{const t=ft();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),r=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<r.length;n++)r[n].style.backgroundColor=e},AY=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,SY=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,DP=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let r=t.innerHTML,n="";e.iconHtml?n=MP(e.iconHtml):e.icon==="success"?(n=AY(e),r=r.replace(/ style=".*?"/g,"")):e.icon==="error"?n=SY:e.icon&&(n=MP({question:"?",warning:"!",info:"i"}[e.icon])),r.trim()!==n.trim()&&pi(t,n)},TY=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])IP(t,r,"background-color",e.iconColor);IP(t,".swal2-success-ring","border-color",e.iconColor)}},MP=t=>`<div class="${ue["icon-content"]}">${t}</div>`,NY=(t,e)=>{const r=pD();if(r){if(!e.imageUrl){Tn(r);return}Jr(r,""),r.setAttribute("src",e.imageUrl),r.setAttribute("alt",e.imageAlt||""),xc(r,"width",e.imageWidth),xc(r,"height",e.imageHeight),r.className=ue.image,fi(r,e,"image")}};let cE=!1,_D=0,ED=0,AD=0,SD=0;const jY=t=>{t.addEventListener("mousedown",s0),document.body.addEventListener("mousemove",o0),t.addEventListener("mouseup",l0),t.addEventListener("touchstart",s0),document.body.addEventListener("touchmove",o0),t.addEventListener("touchend",l0)},CY=t=>{t.removeEventListener("mousedown",s0),document.body.removeEventListener("mousemove",o0),t.removeEventListener("mouseup",l0),t.removeEventListener("touchstart",s0),document.body.removeEventListener("touchmove",o0),t.removeEventListener("touchend",l0)},s0=t=>{const e=ft();if(t.target===e||Td().contains(t.target)){cE=!0;const r=TD(t);_D=r.clientX,ED=r.clientY,AD=parseInt(e.style.insetInlineStart)||0,SD=parseInt(e.style.insetBlockStart)||0,pt(e,"swal2-dragging")}},o0=t=>{const e=ft();if(cE){let{clientX:r,clientY:n}=TD(t);e.style.insetInlineStart=`${AD+(r-_D)}px`,e.style.insetBlockStart=`${SD+(n-ED)}px`}},l0=()=>{const t=ft();cE=!1,Ui(t,"swal2-dragging")},TD=t=>{let e=0,r=0;return t.type.startsWith("mouse")?(e=t.clientX,r=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,r=t.touches[0].clientY),{clientX:e,clientY:r}},PY=(t,e)=>{const r=Mn(),n=ft();if(!(!r||!n)){if(e.toast){xc(r,"width",e.width),n.style.width="100%";const i=jd();i&&n.insertBefore(i,Td())}else xc(n,"width",e.width);xc(n,"padding",e.padding),e.color&&(n.style.color=e.color),e.background&&(n.style.background=e.background),Tn(Py()),kY(n,e),e.draggable&&!e.toast?(pt(n,ue.draggable),jY(n)):(Ui(n,ue.draggable),CY(n))}},kY=(t,e)=>{const r=e.showClass||{};t.className=`${ue.popup} ${Gn(t)?r.popup:""}`,e.toast?(pt([document.documentElement,document.body],ue["toast-shown"]),pt(t,ue.toast)):pt(t,ue.modal),fi(t,e,"popup"),typeof e.customClass=="string"&&pt(t,e.customClass),e.icon&&pt(t,ue[`icon-${e.icon}`])},OY=(t,e)=>{const r=tE();if(!r)return;const{progressSteps:n,currentProgressStep:i}=e;if(!n||n.length===0||i===void 0){Tn(r);return}Jr(r),r.textContent="",i>=n.length&&Dn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((a,l)=>{const c=IY(a);if(r.appendChild(c),l===i&&pt(c,ue["active-progress-step"]),l!==n.length-1){const f=RY(e);r.appendChild(f)}})},IY=t=>{const e=document.createElement("li");return pt(e,ue["progress-step"]),pi(e,t),e},RY=t=>{const e=document.createElement("li");return pt(e,ue["progress-step-line"]),t.progressStepsDistance&&xc(e,"width",t.progressStepsDistance),e},DY=(t,e)=>{const r=mD();r&&(aE(r),nm(r,e.title||e.titleText,"block"),e.title&&oE(e.title,r),e.titleText&&(r.innerText=e.titleText),fi(r,e,"title"))},ND=(t,e)=>{PY(t,e),dY(t,e),OY(t,e),EY(t,e),NY(t,e),DY(t,e),uY(t,e),wY(t,e),oY(t,e),_Y(t,e);const r=ft();typeof e.didRender=="function"&&r&&e.didRender(r),Be.eventEmitter.emit("didRender",r)},MY=()=>Gn(ft()),jD=()=>{var t;return(t=Ga())===null||t===void 0?void 0:t.click()},LY=()=>{var t;return(t=Gc())===null||t===void 0?void 0:t.click()},VY=()=>{var t;return(t=Nd())===null||t===void 0?void 0:t.click()},Cd=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),CD=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},BY=(t,e,r)=>{CD(t),e.toast||(t.keydownHandler=n=>$Y(e,n,r),t.keydownTarget=e.keydownListenerCapture?window:ft(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Y1=(t,e)=>{var r;const n=nE();if(n.length){t=t+e,t===-2&&(t=n.length-1),t===n.length?t=0:t===-1&&(t=n.length-1),n[t].focus();return}(r=ft())===null||r===void 0||r.focus()},PD=["ArrowRight","ArrowDown"],UY=["ArrowLeft","ArrowUp"],$Y=(t,e,r)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?zY(e,t):e.key==="Tab"?FY(e):[...PD,...UY].includes(e.key)?qY(e.key):e.key==="Escape"&&HY(e,t,r)))},zY=(t,e)=>{if(!Cy(e.allowEnterKey))return;const r=Iy(ft(),e.input);if(t.target&&r&&t.target instanceof HTMLElement&&t.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(e.input))return;jD(),t.preventDefault()}},FY=t=>{const e=t.target,r=nE();let n=-1;for(let i=0;i<r.length;i++)if(e===r[i]){n=i;break}t.shiftKey?Y1(n,-1):Y1(n,1),t.stopPropagation(),t.preventDefault()},qY=t=>{const e=rm(),r=Ga(),n=Gc(),i=Nd();if(!e||!r||!n||!i)return;const a=[r,n,i];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const l=PD.includes(t)?"nextElementSibling":"previousElementSibling";let c=document.activeElement;if(c){for(let f=0;f<e.children.length;f++){if(c=c[l],!c)return;if(c instanceof HTMLButtonElement&&Gn(c))break}c instanceof HTMLButtonElement&&c.focus()}},HY=(t,e,r)=>{t.preventDefault(),Cy(e.allowEscapeKey)&&r(Cd.esc)};var od={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const KY=()=>{const t=Mn();Array.from(document.body.children).forEach(r=>{r.contains(t)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},kD=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},OD=typeof window<"u"&&!!window.GestureEvent,GY=()=>{if(OD&&!$s(document.body,ue.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,pt(document.body,ue.iosfix),WY()}},WY=()=>{const t=Mn();if(!t)return;let e;t.ontouchstart=r=>{e=YY(r)},t.ontouchmove=r=>{e&&(r.preventDefault(),r.stopPropagation())}},YY=t=>{const e=t.target,r=Mn(),n=eE();return!r||!n||XY(t)||QY(t)?!1:e===r||!W1(r)&&e instanceof HTMLElement&&!YW(e,n)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(W1(n)&&n.contains(e))},XY=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",QY=t=>t.touches&&t.touches.length>1,ZY=()=>{if($s(document.body,ue.iosfix)){const t=parseInt(document.body.style.top,10);Ui(document.body,ue.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},JY=()=>{const t=document.createElement("div");t.className=ue["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Gu=null;const eX=t=>{Gu===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Gu=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Gu+JY()}px`)},tX=()=>{Gu!==null&&(document.body.style.paddingRight=`${Gu}px`,Gu=null)};function ID(t,e,r,n){Oy()?LP(t,n):(BW(r).then(()=>LP(t,n)),CD(Be)),OD?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),iE()&&(tX(),ZY(),kD()),rX()}function rX(){Ui([document.documentElement,document.body],[ue.shown,ue["height-auto"],ue["no-backdrop"],ue["toast-shown"]])}function el(t){t=iX(t);const e=od.swalPromiseResolve.get(this),r=nX(this);this.isAwaitingPromise?t.isDismissed||(am(this),e(t)):r&&e(t)}const nX=t=>{const e=ft();if(!e)return!1;const r=Bt.innerParams.get(t);if(!r||$s(e,r.hideClass.popup))return!1;Ui(e,r.showClass.popup),pt(e,r.hideClass.popup);const n=Mn();return Ui(n,r.showClass.backdrop),pt(n,r.hideClass.backdrop),aX(t,e,r),!0};function RD(t){const e=od.swalPromiseReject.get(this);am(this),e&&e(t)}const am=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Bt.innerParams.get(t)||t._destroy())},iX=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),aX=(t,e,r)=>{var n;const i=Mn(),a=xD(e);typeof r.willClose=="function"&&r.willClose(e),(n=Be.eventEmitter)===null||n===void 0||n.emit("willClose",e),a?sX(t,e,i,r.returnFocus,r.didClose):ID(t,i,r.returnFocus,r.didClose)},sX=(t,e,r,n,i)=>{Be.swalCloseEventFinishedCallback=ID.bind(null,t,r,n,i);const a=function(l){if(l.target===e){var c;(c=Be.swalCloseEventFinishedCallback)===null||c===void 0||c.call(Be),delete Be.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},LP=(t,e)=>{setTimeout(()=>{var r;typeof e=="function"&&e.bind(t.params)(),(r=Be.eventEmitter)===null||r===void 0||r.emit("didClose"),t._destroy&&t._destroy()})},ld=t=>{let e=ft();if(e||new Ie,e=ft(),!e)return;const r=jd();Oy()?Tn(Td()):oX(e,t),Jr(r),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},oX=(t,e)=>{const r=rm(),n=jd();!r||!n||(!e&&Gn(Ga())&&(e=Ga()),Jr(r),e&&(Tn(e),n.setAttribute("data-button-to-replace",e.className),r.insertBefore(n,e)),pt([t,r],ue.loading))},lX=(t,e)=>{e.input==="select"||e.input==="radio"?hX(t,e):["text","email","number","tel","textarea"].some(r=>r===e.input)&&(Z_(e.inputValue)||J_(e.inputValue))&&(ld(Ga()),mX(t,e))},cX=(t,e)=>{const r=t.getInput();if(!r)return null;switch(e.input){case"checkbox":return uX(r);case"radio":return dX(r);case"file":return fX(r);default:return e.inputAutoTrim?r.value.trim():r.value}},uX=t=>t.checked?1:0,dX=t=>t.checked?t.value:null,fX=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,hX=(t,e)=>{const r=ft();if(!r)return;const n=i=>{e.input==="select"?pX(r,c0(i),e):e.input==="radio"&&gX(r,c0(i),e)};Z_(e.inputOptions)||J_(e.inputOptions)?(ld(Ga()),em(e.inputOptions).then(i=>{t.hideLoading(),n(i)})):typeof e.inputOptions=="object"?n(e.inputOptions):Kc(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},mX=(t,e)=>{const r=t.getInput();r&&(Tn(r),em(e.inputValue).then(n=>{r.value=e.input==="number"?`${parseFloat(n)||0}`:`${n}`,Jr(r),r.focus(),t.hideLoading()}).catch(n=>{Kc(`Error in inputValue promise: ${n}`),r.value="",Jr(r),r.focus(),t.hideLoading()}))};function pX(t,e,r){const n=Jo(t,ue.select);if(!n)return;const i=(a,l,c)=>{const f=document.createElement("option");f.value=c,pi(f,l),f.selected=DD(c,r.inputValue),a.appendChild(f)};e.forEach(a=>{const l=a[0],c=a[1];if(Array.isArray(c)){const f=document.createElement("optgroup");f.label=l,f.disabled=!1,n.appendChild(f),c.forEach(h=>i(f,h[1],h[0]))}else i(n,c,l)}),n.focus()}function gX(t,e,r){const n=Jo(t,ue.radio);if(!n)return;e.forEach(a=>{const l=a[0],c=a[1],f=document.createElement("input"),h=document.createElement("label");f.type="radio",f.name=ue.radio,f.value=l,DD(l,r.inputValue)&&(f.checked=!0);const p=document.createElement("span");pi(p,c),p.className=ue.label,h.appendChild(f),h.appendChild(p),n.appendChild(h)});const i=n.querySelectorAll("input");i.length&&i[0].focus()}const c0=t=>{const e=[];return t instanceof Map?t.forEach((r,n)=>{let i=r;typeof i=="object"&&(i=c0(i)),e.push([n,i])}):Object.keys(t).forEach(r=>{let n=t[r];typeof n=="object"&&(n=c0(n)),e.push([r,n])}),e},DD=(t,e)=>!!e&&e.toString()===t.toString(),yX=t=>{const e=Bt.innerParams.get(t);t.disableButtons(),e.input?MD(t,"confirm"):dE(t,!0)},vX=t=>{const e=Bt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?MD(t,"deny"):uE(t,!1)},xX=(t,e)=>{t.disableButtons(),e(Cd.cancel)},MD=(t,e)=>{const r=Bt.innerParams.get(t);if(!r.input){Kc(`The "input" parameter is needed to be set when using returnInputValueOn${Q_(e)}`);return}const n=t.getInput(),i=cX(t,r);r.inputValidator?bX(t,i,e):n&&!n.checkValidity()?(t.enableButtons(),t.showValidationMessage(r.validationMessage||n.validationMessage)):e==="deny"?uE(t,i):dE(t,i)},bX=(t,e,r)=>{const n=Bt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>em(n.inputValidator(e,n.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):r==="deny"?uE(t,e):dE(t,e)})},uE=(t,e)=>{const r=Bt.innerParams.get(t||void 0);r.showLoaderOnDeny&&ld(Gc()),r.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>em(r.preDeny(e,r.validationMessage))).then(i=>{i===!1?(t.hideLoading(),am(t)):t.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>LD(t||void 0,i))):t.close({isDenied:!0,value:e})},VP=(t,e)=>{t.close({isConfirmed:!0,value:e})},LD=(t,e)=>{t.rejectPromise(e)},dE=(t,e)=>{const r=Bt.innerParams.get(t||void 0);r.showLoaderOnConfirm&&ld(),r.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>em(r.preConfirm(e,r.validationMessage))).then(i=>{Gn(Py())||i===!1?(t.hideLoading(),am(t)):VP(t,typeof i>"u"?e:i)}).catch(i=>LD(t||void 0,i))):VP(t,e)};function u0(){const t=Bt.innerParams.get(this);if(!t)return;const e=Bt.domCache.get(this);Tn(e.loader),Oy()?t.icon&&Jr(Td()):wX(e),Ui([e.popup,e.actions],ue.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const wX=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Jr(e[0],"inline-block"):WW()&&Tn(t.actions)};function VD(){const t=Bt.innerParams.get(this),e=Bt.domCache.get(this);return e?Iy(e.popup,t.input):null}function BD(t,e,r){const n=Bt.domCache.get(t);e.forEach(i=>{n[i].disabled=r})}function UD(t,e){const r=ft();if(!(!r||!t))if(t.type==="radio"){const n=r.querySelectorAll(`[name="${ue.radio}"]`);for(let i=0;i<n.length;i++)n[i].disabled=e}else t.disabled=e}function $D(){BD(this,["confirmButton","denyButton","cancelButton"],!1)}function zD(){BD(this,["confirmButton","denyButton","cancelButton"],!0)}function FD(){UD(this.getInput(),!1)}function qD(){UD(this.getInput(),!0)}function HD(t){const e=Bt.domCache.get(this),r=Bt.innerParams.get(this);pi(e.validationMessage,t),e.validationMessage.className=ue["validation-message"],r.customClass&&r.customClass.validationMessage&&pt(e.validationMessage,r.customClass.validationMessage),Jr(e.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",ue["validation-message"]),yD(n),pt(n,ue.inputerror))}function KD(){const t=Bt.domCache.get(this);t.validationMessage&&Tn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Ui(e,ue.inputerror))}const Wu={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},_X=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],EX={allowEnterKey:void 0},AX=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],GD=t=>Object.prototype.hasOwnProperty.call(Wu,t),WD=t=>_X.indexOf(t)!==-1,YD=t=>EX[t],SX=t=>{GD(t)||Dn(`Unknown parameter "${t}"`)},TX=t=>{AX.includes(t)&&Dn(`The parameter "${t}" is incompatible with toasts`)},NX=t=>{const e=YD(t);e&&hD(t,e)},XD=t=>{t.backdrop===!1&&t.allowOutsideClick&&Dn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Dn(`Invalid theme "${t.theme}"`);for(const e in t)SX(e),t.toast&&TX(e),NX(e)};function QD(t){const e=Mn(),r=ft(),n=Bt.innerParams.get(this);if(!r||$s(r,n.hideClass.popup)){Dn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=jX(t),a=Object.assign({},n,i);XD(a),e.dataset.swal2Theme=a.theme,ND(this,a),Bt.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const jX=t=>{const e={};return Object.keys(t).forEach(r=>{WD(r)?e[r]=t[r]:Dn(`Invalid parameter to update: ${r}`)}),e};function ZD(){const t=Bt.domCache.get(this),e=Bt.innerParams.get(this);if(!e){JD(this);return}t.popup&&Be.swalCloseEventFinishedCallback&&(Be.swalCloseEventFinishedCallback(),delete Be.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Be.eventEmitter.emit("didDestroy"),CX(this)}const CX=t=>{JD(t),delete t.params,delete Be.keydownHandler,delete Be.keydownTarget,delete Be.currentInstance},JD=t=>{t.isAwaitingPromise?($b(Bt,t),t.isAwaitingPromise=!0):($b(od,t),$b(Bt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},$b=(t,e)=>{for(const r in t)t[r].delete(e)};var PX=Object.freeze({__proto__:null,_destroy:ZD,close:el,closeModal:el,closePopup:el,closeToast:el,disableButtons:zD,disableInput:qD,disableLoading:u0,enableButtons:$D,enableInput:FD,getInput:VD,handleAwaitingPromise:am,hideLoading:u0,rejectPromise:RD,resetValidationMessage:KD,showValidationMessage:HD,update:QD});const kX=(t,e,r)=>{t.toast?OX(t,e,r):(RX(e),DX(e),MX(t,e,r))},OX=(t,e,r)=>{e.popup.onclick=()=>{t&&(IX(t)||t.timer||t.input)||r(Cd.close)}},IX=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let d0=!1;const RX=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(d0=!0)}}},DX=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(r){t.popup.onmouseup=()=>{},(r.target===t.popup||r.target instanceof HTMLElement&&t.popup.contains(r.target))&&(d0=!0)}}},MX=(t,e,r)=>{e.container.onclick=n=>{if(d0){d0=!1;return}n.target===e.container&&Cy(t.allowOutsideClick)&&r(Cd.backdrop)}},LX=t=>typeof t=="object"&&t.jquery,BP=t=>t instanceof Element||LX(t),VX=t=>{const e={};return typeof t[0]=="object"&&!BP(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((r,n)=>{const i=t[n];typeof i=="string"||BP(i)?e[r]=i:i!==void 0&&Kc(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof i}`)}),e};function BX(...t){return new this(...t)}function UX(t){class e extends this{_main(n,i){return super._main(n,Object.assign({},t,i))}}return e}const $X=()=>Be.timeout&&Be.timeout.getTimerLeft(),e5=()=>{if(Be.timeout)return XW(),Be.timeout.stop()},t5=()=>{if(Be.timeout){const t=Be.timeout.start();return sE(t),t}},zX=()=>{const t=Be.timeout;return t&&(t.running?e5():t5())},FX=t=>{if(Be.timeout){const e=Be.timeout.increase(t);return sE(e,!0),e}},qX=()=>!!(Be.timeout&&Be.timeout.isRunning());let UP=!1;const X1={};function HX(t="data-swal-template"){X1[t]=this,UP||(document.body.addEventListener("click",KX),UP=!0)}const KX=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const r in X1){const n=e.getAttribute(r);if(n){X1[r].fire({template:n});return}}};let GX=class{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,r){const n=this._getHandlersByEventName(e);n.includes(r)||n.push(r)}once(e,r){const n=(...i)=>{this.removeListener(e,n),r.apply(this,i)};this.on(e,n)}emit(e,...r){this._getHandlersByEventName(e).forEach(n=>{try{n.apply(this,r)}catch(i){console.error(i)}})}removeListener(e,r){const n=this._getHandlersByEventName(e),i=n.indexOf(r);i>-1&&n.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}};Be.eventEmitter=new GX;const WX=(t,e)=>{Be.eventEmitter.on(t,e)},YX=(t,e)=>{Be.eventEmitter.once(t,e)},XX=(t,e)=>{if(!t){Be.eventEmitter.reset();return}e?Be.eventEmitter.removeListener(t,e):Be.eventEmitter.removeAllListeners(t)};var QX=Object.freeze({__proto__:null,argsToParams:VX,bindClickHandler:HX,clickCancel:VY,clickConfirm:jD,clickDeny:LY,enableLoading:ld,fire:BX,getActions:rm,getCancelButton:Nd,getCloseButton:rE,getConfirmButton:Ga,getContainer:Mn,getDenyButton:Gc,getFocusableElements:nE,getFooter:gD,getHtmlContainer:eE,getIcon:Td,getIconContent:FW,getImage:pD,getInputLabel:qW,getLoader:jd,getPopup:ft,getProgressSteps:tE,getTimerLeft:$X,getTimerProgressBar:ky,getTitle:mD,getValidationMessage:Py,increaseTimer:FX,isDeprecatedParameter:YD,isLoading:KW,isTimerRunning:qX,isUpdatableParameter:WD,isValidParameter:GD,isVisible:MY,mixin:UX,off:XX,on:WX,once:YX,resumeTimer:t5,showLoading:ld,stopTimer:e5,toggleTimer:zX});class ZX{constructor(e,r){this.callback=e,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const r=this.running;return r&&this.stop(),this.remaining+=e,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const r5=["swal-title","swal-html","swal-footer"],JX=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const r=e.content;return oQ(r),Object.assign(eQ(r),tQ(r),rQ(r),nQ(r),iQ(r),aQ(r),sQ(r,r5))},eQ=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(n=>{Cc(n,["name","value"]);const i=n.getAttribute("name"),a=n.getAttribute("value");!i||!a||(typeof Wu[i]=="boolean"?e[i]=a!=="false":typeof Wu[i]=="object"?e[i]=JSON.parse(a):e[i]=a)}),e},tQ=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(n=>{const i=n.getAttribute("name"),a=n.getAttribute("value");!i||!a||(e[i]=new Function(`return ${a}`)())}),e},rQ=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(n=>{Cc(n,["type","color","aria-label"]);const i=n.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=n.innerHTML,e[`show${Q_(i)}Button`]=!0,n.hasAttribute("color")&&(e[`${i}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),e},nQ=t=>{const e={},r=t.querySelector("swal-image");return r&&(Cc(r,["src","width","height","alt"]),r.hasAttribute("src")&&(e.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(e.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(e.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(e.imageAlt=r.getAttribute("alt")||void 0)),e},iQ=t=>{const e={},r=t.querySelector("swal-icon");return r&&(Cc(r,["type","color"]),r.hasAttribute("type")&&(e.icon=r.getAttribute("type")),r.hasAttribute("color")&&(e.iconColor=r.getAttribute("color")),e.iconHtml=r.innerHTML),e},aQ=t=>{const e={},r=t.querySelector("swal-input");r&&(Cc(r,["type","label","placeholder","value"]),e.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(e.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(e.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(e.inputValue=r.getAttribute("value")));const n=Array.from(t.querySelectorAll("swal-input-option"));return n.length&&(e.inputOptions={},n.forEach(i=>{Cc(i,["value"]);const a=i.getAttribute("value");if(!a)return;const l=i.innerHTML;e.inputOptions[a]=l})),e},sQ=(t,e)=>{const r={};for(const n in e){const i=e[n],a=t.querySelector(i);a&&(Cc(a,[]),r[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return r},oQ=t=>{const e=r5.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(r=>{const n=r.tagName.toLowerCase();e.includes(n)||Dn(`Unrecognized element <${n}>`)})},Cc=(t,e)=>{Array.from(t.attributes).forEach(r=>{e.indexOf(r.name)===-1&&Dn([`Unrecognized attribute "${r.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},n5=10,lQ=t=>{const e=Mn(),r=ft();typeof t.willOpen=="function"&&t.willOpen(r),Be.eventEmitter.emit("willOpen",r);const i=window.getComputedStyle(document.body).overflowY;dQ(e,r,t),setTimeout(()=>{cQ(e,r)},n5),iE()&&(uQ(e,t.scrollbarPadding,i),KY()),!Oy()&&!Be.previousActiveElement&&(Be.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(r)),Be.eventEmitter.emit("didOpen",r),Ui(e,ue["no-transition"])},f0=t=>{const e=ft();if(t.target!==e)return;const r=Mn();e.removeEventListener("animationend",f0),e.removeEventListener("transitionend",f0),r.style.overflowY="auto"},cQ=(t,e)=>{xD(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",f0),e.addEventListener("transitionend",f0)):t.style.overflowY="auto"},uQ=(t,e,r)=>{GY(),e&&r!=="hidden"&&eX(r),setTimeout(()=>{t.scrollTop=0})},dQ=(t,e,r)=>{pt(t,r.showClass.backdrop),r.animation?(e.style.setProperty("opacity","0","important"),Jr(e,"grid"),setTimeout(()=>{pt(e,r.showClass.popup),e.style.removeProperty("opacity")},n5)):Jr(e,"grid"),pt([document.documentElement,document.body],ue.shown),r.heightAuto&&r.backdrop&&!r.toast&&pt([document.documentElement,document.body],ue["height-auto"])};var $P={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function fQ(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=$P.email),t.input==="url"&&(t.inputValidator=$P.url))}function hQ(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Dn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function mQ(t){fQ(t),t.showLoaderOnConfirm&&!t.preConfirm&&Dn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),hQ(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),iY(t)}let Da;var Qp=new WeakMap;class Ar{constructor(...e){if(DW(this,Qp,void 0),typeof window>"u")return;Da=this;const r=Object.freeze(this.constructor.argsToParams(e));this.params=r,this.isAwaitingPromise=!1,MW(Qp,this,this._main(Da.params))}_main(e,r={}){if(XD(Object.assign({},r,e)),Be.currentInstance){const a=od.swalPromiseResolve.get(Be.currentInstance),{isAwaitingPromise:l}=Be.currentInstance;Be.currentInstance._destroy(),l||a({isDismissed:!0}),iE()&&kD()}Be.currentInstance=Da;const n=gQ(e,r);mQ(n),Object.freeze(n),Be.timeout&&(Be.timeout.stop(),delete Be.timeout),clearTimeout(Be.restoreFocusTimeout);const i=yQ(Da);return ND(Da,n),Bt.innerParams.set(Da,n),pQ(Da,i,n)}then(e){return kP(Qp,this).then(e)}finally(e){return kP(Qp,this).finally(e)}}const pQ=(t,e,r)=>new Promise((n,i)=>{const a=l=>{t.close({isDismissed:!0,dismiss:l})};od.swalPromiseResolve.set(t,n),od.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{yX(t)},e.denyButton.onclick=()=>{vX(t)},e.cancelButton.onclick=()=>{xX(t,a)},e.closeButton.onclick=()=>{a(Cd.close)},kX(r,e,a),BY(Be,r,a),lX(t,r),lQ(r),vQ(Be,r,a),xQ(e,r),setTimeout(()=>{e.container.scrollTop=0})}),gQ=(t,e)=>{const r=JX(t),n=Object.assign({},Wu,e,r,t);return n.showClass=Object.assign({},Wu.showClass,n.showClass),n.hideClass=Object.assign({},Wu.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},yQ=t=>{const e={popup:ft(),container:Mn(),actions:rm(),confirmButton:Ga(),denyButton:Gc(),cancelButton:Nd(),loader:jd(),closeButton:rE(),validationMessage:Py(),progressSteps:tE()};return Bt.domCache.set(t,e),e},vQ=(t,e,r)=>{const n=ky();Tn(n),e.timer&&(t.timeout=new ZX(()=>{r("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Jr(n),fi(n,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&sE(e.timer)})))},xQ=(t,e)=>{if(!e.toast){if(!Cy(e.allowEnterKey)){hD("allowEnterKey"),_Q();return}bQ(t)||wQ(t,e)||Y1(-1,1)}},bQ=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const r of e)if(r instanceof HTMLElement&&Gn(r))return r.focus(),!0;return!1},wQ=(t,e)=>e.focusDeny&&Gn(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Gn(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Gn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,_Q=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Ar.prototype.disableButtons=zD;Ar.prototype.enableButtons=$D;Ar.prototype.getInput=VD;Ar.prototype.disableInput=qD;Ar.prototype.enableInput=FD;Ar.prototype.hideLoading=u0;Ar.prototype.disableLoading=u0;Ar.prototype.showValidationMessage=HD;Ar.prototype.resetValidationMessage=KD;Ar.prototype.close=el;Ar.prototype.closePopup=el;Ar.prototype.closeModal=el;Ar.prototype.closeToast=el;Ar.prototype.rejectPromise=RD;Ar.prototype.update=QD;Ar.prototype._destroy=ZD;Object.assign(Ar,QX);Object.keys(PX).forEach(t=>{Ar[t]=function(...e){return Da&&Da[t]?Da[t](...e):null}});Ar.DismissReason=Cd;Ar.version="11.23.0";const Ie=Ar;Ie.default=Ie;typeof document<"u"&&(function(t,e){var r=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=e);else try{r.innerHTML=e}catch{r.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const zP=()=>{const[t,e]=_.useState([]),[r,n]=_.useState(!0),[i,a]=_.useState(null),{addToCart:l}=Hc(),{addToWishlist:c}=Jh(),{currentUser:f}=qi(),[h,p]=_.useState(0),[g,v]=lD("mpwybkly"),[b,A]=_.useState({name:"",email:"",subject:"",message:""});_.useEffect(()=>{(async()=>{try{n(!0);const P=[...await cD()].sort((R,U)=>(U.rating||0)-(R.rating||0)).slice(0,8);e(P)}catch(I){a("Failed to load products"),console.error("Error fetching products:",I)}finally{n(!1)}})()},[]);const E=[{id:1,name:"María González",text:"Los moños son de excelente calidad y el envío fue rápido. ¡Definitivamente volveré a comprar!",rating:5},{id:2,name:"Carlos Rodríguez",text:"Excelente atención al cliente y productos de alta calidad. Muy recomendado para eventos especiales.",rating:5},{id:3,name:"Ana Martínez",text:"Compré varios moños para una boda y todos quedaron hermosos. La calidad superó mis expectativas.",rating:5}];_.useEffect(()=>{const M=setInterval(()=>{p(I=>(I+1)%E.length)},5e3);return()=>clearInterval(M)},[E.length]);const S=M=>{const{name:I,value:P}=M.target;A(R=>({...R,[I]:P}))},N=M=>{if(M.imageUrls&&M.imageUrls.length>0){const I=M.imageUrls.filter(P=>P&&(typeof P=="string"||P.data&&typeof P.data=="string"));if(I.length>0){const P=M.primaryImageIndex||0,R=Math.min(P,I.length-1),U=I[R];if(typeof U=="string")return U;if(U&&U.data)return U.data}}return M.imageUrl||"https://via.placeholder.com/300x300.png?text=Moño"},C=M=>{if(!f){Ie.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos al carrito",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(R=>{R.isConfirmed&&(window.location.href="/psg-shop/#/login")});return}if((M.stock!==void 0?M.stock:1/0)===0){Ie.fire({title:"Producto agotado",text:"Este producto no está disponible actualmente.",icon:"error",confirmButtonText:"Aceptar"});return}const P=N(M);l({...M,imageUrl:P,quantity:1}),Ie.fire({title:"Producto agregado",text:"Producto agregado correctamente al carrito",icon:"success",confirmButtonText:"Aceptar"})},j=M=>{if(!f){Ie.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos a tu lista de deseos",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(P=>{P.isConfirmed&&(window.location.href="/psg-shop/#/login")});return}const I=N(M);c({...M,imageUrl:I}),Ie.fire({title:"Producto agregado",text:"Producto agregado correctamente a tu lista de deseos",icon:"success",confirmButtonText:"Aceptar"})},L=[{id:1,title:"Envío Gratis",description:"En pedidos superiores a $100.000 COP",icon:d.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{id:2,title:"Devolución Gratuita",description:"30 días para devoluciones sin complicaciones",icon:d.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},{id:3,title:"Soporte 24/7",description:"Asistencia dedicada en cualquier momento",icon:d.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})},{id:4,title:"Pago Seguro",description:"Protegemos tus datos de pago",icon:d.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 01-8 0v4h8z"})})}],z=[{id:1,name:"Moños Clásicos",image:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"},{id:2,name:"Moños Modernos",image:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"},{id:3,name:"Moños Infantiles",image:"https://images.unsplash.com/photo-1595173425119-1c5134b706b3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"},{id:4,name:"Moños para Damas",image:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"}];return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-indigo-700 to-purple-800",children:[d.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),d.jsx("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:d.jsx("div",{className:"relative z-10 pb-8 sm:pb-16 md:pb-20 lg:max-w-2xl lg:w-full lg:pb-28 xl:pb-32",children:d.jsx("main",{className:"px-4 mx-auto mt-10 max-w-7xl sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28",children:d.jsxs("div",{className:"sm:text-center lg:text-left",children:[d.jsxs("h1",{className:"text-4xl font-extrabold tracking-tight text-white sm:text-5xl md:text-6xl",children:[d.jsx("span",{className:"block",children:"Elegancia en cada"}),d.jsx("span",{className:"block text-indigo-200",children:"detalle perfecto"})]}),d.jsx("p",{className:"mt-3 text-base text-indigo-100 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0",children:"Colección exclusiva de moños artesanales para todas las ocasiones. Calidad premium, diseño único y entrega rápida."}),d.jsxs("div",{className:"flex flex-col gap-4 mt-8 sm:mt-10 sm:flex-row sm:justify-center lg:justify-start",children:[d.jsx(De,{to:"/shop",className:"px-8 py-4 text-base font-medium text-center text-indigo-700 transition-all duration-300 bg-white border border-transparent rounded-lg shadow-md hover:bg-indigo-50 md:py-4 md:text-lg md:px-10 hover:shadow-lg",children:"Comprar Ahora"}),d.jsx(De,{to:"/shop",className:"px-8 py-4 text-base font-medium text-center text-white transition-all duration-300 bg-transparent border-2 border-white rounded-lg hover:bg-white hover:bg-opacity-10 md:py-4 md:text-lg md:px-10",children:"Ver Catálogo"})]})]})})})}),d.jsx("div",{className:"lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2",children:d.jsx("div",{className:"w-full h-56 sm:h-72 md:h-96 lg:w-full lg:h-full",children:d.jsx("img",{className:"object-cover w-full h-full",src:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80",alt:"Elegante colección de moños",onError:M=>{M.target.onerror=null,M.target.src="https://via.placeholder.com/1200x600.png?text=Elegante+Colecci%C3%B3n+de+Mo%C3%B1os"}})})})]}),d.jsx("div",{className:"py-12 bg-white",children:d.jsx("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:d.jsxs("div",{className:"grid grid-cols-2 gap-8 text-center md:grid-cols-4",children:[d.jsxs("div",{className:"p-4",children:[d.jsx("div",{className:"text-3xl font-bold text-indigo-700",children:"500+"}),d.jsx("div",{className:"mt-2 text-gray-600",children:"Clientes Satisfechos"})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("div",{className:"text-3xl font-bold text-indigo-700",children:"100+"}),d.jsx("div",{className:"mt-2 text-gray-600",children:"Diseños Únicos"})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("div",{className:"text-3xl font-bold text-indigo-700",children:"24/7"}),d.jsx("div",{className:"mt-2 text-gray-600",children:"Soporte"})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("div",{className:"text-3xl font-bold text-indigo-700",children:"5.0"}),d.jsx("div",{className:"mt-2 text-gray-600",children:"Calificación Promedio"})]})]})})}),d.jsx("div",{className:"py-16 bg-white",children:d.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"mb-16 lg:text-center",children:[d.jsx("h2",{className:"text-base font-semibold tracking-wide text-indigo-600 uppercase",children:"Nuestros Beneficios"}),d.jsx("p",{className:"mt-2 text-3xl font-extrabold leading-8 tracking-tight text-gray-900 sm:text-4xl",children:"Por qué elegirnos"}),d.jsx("p",{className:"max-w-2xl mt-4 text-xl text-gray-500 lg:mx-auto",children:"Comprometidos con la calidad y la satisfacción del cliente"})]}),d.jsx("div",{className:"mt-10",children:d.jsx("div",{className:"grid grid-cols-1 gap-12 sm:grid-cols-2 lg:grid-cols-4",children:L.map(M=>d.jsxs("div",{className:"text-center group",children:[d.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto transition-all duration-300 rounded-full bg-indigo-50 group-hover:bg-indigo-100",children:M.icon}),d.jsx("h3",{className:"mt-6 text-lg font-medium text-gray-900",children:M.title}),d.jsx("p",{className:"mt-2 text-base text-gray-500",children:M.description})]},M.id))})})]})}),d.jsx("div",{className:"py-16 bg-gradient-to-r from-indigo-50 to-purple-50",children:d.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"mb-16 lg:text-center",children:[d.jsx("h2",{className:"text-base font-semibold tracking-wide text-indigo-600 uppercase",children:"Categorías"}),d.jsx("p",{className:"mt-2 text-3xl font-extrabold leading-8 tracking-tight text-gray-900 sm:text-4xl",children:"Nuestra colección"})]}),d.jsx("div",{className:"grid grid-cols-1 gap-8 mt-10 sm:grid-cols-2 lg:grid-cols-4",children:z.map(M=>d.jsxs("div",{className:"relative overflow-hidden transition-all duration-300 transform shadow-lg group rounded-2xl hover:shadow-xl hover:-translate-y-1",children:[d.jsxs("div",{className:"relative w-full h-80",children:[d.jsx("img",{src:M.image,alt:M.name,className:"object-cover w-full h-full transition-transform duration-500 group-hover:scale-110",onError:I=>{I.target.onerror=null,I.target.src="https://via.placeholder.com/500x500.png?text="+encodeURIComponent(M.name)}}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-70"})]}),d.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-6",children:[d.jsx("h3",{className:"mb-2 text-xl font-bold text-white",children:M.name}),d.jsxs(De,{to:"/shop",className:"inline-flex items-center font-medium text-indigo-200 transition-colors duration-300 hover:text-white",children:["Explorar",d.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]},M.id))})]})}),d.jsx("div",{className:"py-16 bg-white",children:d.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"mb-16 lg:text-center",children:[d.jsx("h2",{className:"text-base font-semibold tracking-wide text-indigo-600 uppercase",children:"Productos Destacados"}),d.jsx("p",{className:"mt-2 text-3xl font-extrabold leading-8 tracking-tight text-gray-900 sm:text-4xl",children:"Lo más vendido"})]}),r?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"w-12 h-12 border-b-2 border-indigo-600 rounded-full animate-spin"})}):i?d.jsxs("div",{className:"relative px-4 py-3 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:[d.jsx("strong",{className:"font-bold",children:"Error! "}),d.jsx("span",{className:"block sm:inline",children:i})]}):d.jsx("div",{className:"grid grid-cols-1 mt-10 gap-y-10 gap-x-6 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8",children:t.map(M=>d.jsxs("div",{className:"overflow-hidden transition-all duration-300 transform bg-white border border-gray-100 rounded-lg shadow-md hover:shadow-lg hover:-translate-y-2",children:[d.jsxs("div",{className:"relative",children:[d.jsx(De,{to:`/product/${M.id}`,children:d.jsx("div",{className:"w-full overflow-hidden aspect-w-1 aspect-h-1",children:d.jsx("img",{src:N(M),alt:M.name,className:"object-cover w-full h-64",onError:I=>{I.target.onerror=null,I.target.src="https://via.placeholder.com/300x300.png?text=Moño"}})})}),M.stock!==void 0&&M.stock<=5&&d.jsx("div",{className:"absolute z-20 top-4 right-4",children:d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.stock>0?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-sm":"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-sm"}`,children:M.stock>0?`Solo ${M.stock} disponibles`:"Agotado"})})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-800",children:M.category})}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900 transition-colors duration-300 group-hover:text-indigo-700",children:d.jsx(De,{to:`/product/${M.id}`,className:"block",children:M.name})}),M.rating>0&&d.jsx("div",{className:"mt-2",children:d.jsx(n0,{rating:M.rating,size:"sm"})}),d.jsx("div",{className:"mt-2",children:d.jsxs("span",{className:"text-lg font-semibold text-indigo-700",children:["$",parseFloat(M.price).toLocaleString("es-CO")]})}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx("button",{className:"flex-1 px-4 py-2 text-sm font-medium text-white transition-all duration-300 border border-transparent rounded-md shadow-sm bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:I=>{I.preventDefault(),C(M)},children:"Agregar al Carrito"}),d.jsx("button",{className:"flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-700 transition-all duration-300 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:I=>{I.preventDefault(),I.stopPropagation(),j(M)},children:d.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-colors duration-300 hover:text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4 4 0 000 6.364L12 20.364l7.682-7.682a4 4 0 00-6.364-6.364L12 7.636l-1.318-1.318a4 4 0 00-6.364 0z"})})})]})]})]},M.id))}),d.jsx("div",{className:"mt-16 text-center",children:d.jsx(De,{to:"/shop",className:"inline-flex items-center px-8 py-4 text-base font-medium text-white transition-all duration-300 border border-transparent rounded-lg shadow-lg bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 hover:shadow-xl",children:"Ver todos los productos"})})]})}),d.jsx("div",{className:"py-16 bg-white",children:d.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"mb-16 lg:text-center",children:[d.jsx("h2",{className:"text-base font-semibold tracking-wide text-indigo-600 uppercase",children:"Testimonios"}),d.jsx("p",{className:"mt-2 text-3xl font-extrabold leading-8 tracking-tight text-gray-900 sm:text-4xl",children:"Lo que dicen nuestros clientes"})]}),d.jsxs("div",{className:"max-w-4xl mx-auto mt-10",children:[d.jsx("div",{className:"relative p-8 shadow-sm bg-gray-50 rounded-2xl",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-4",children:[...Array(E[h].rating)].map((M,I)=>d.jsx("svg",{className:"w-6 h-6 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},I))}),d.jsxs("blockquote",{className:"text-xl italic text-gray-600",children:['"',E[h].text,'"']}),d.jsx("figcaption",{className:"mt-6",children:d.jsx("div",{className:"font-bold text-gray-900",children:E[h].name})})]})}),d.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:E.map((M,I)=>d.jsx("button",{onClick:()=>p(I),className:`w-3 h-3 rounded-full ${I===h?"bg-indigo-600":"bg-gray-300"}`,"aria-label":`Ver testimonio ${I+1}`},I))})]})]})}),d.jsx("div",{className:"py-16 bg-gradient-to-r from-indigo-50 to-purple-50",children:d.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"mb-16 lg:text-center",children:[d.jsx("h2",{className:"text-base font-semibold tracking-wide text-indigo-600 uppercase",children:"Últimas Entradas"}),d.jsx("p",{className:"mt-2 text-3xl font-extrabold leading-8 tracking-tight text-gray-900 sm:text-4xl",children:"Descubre consejos y tendencias"}),d.jsx("p",{className:"max-w-2xl mt-4 text-xl text-gray-500 lg:mx-auto",children:"Explora nuestros artículos sobre estilo, cuidado y novedades en el mundo de los moños"})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-8 mt-10 sm:grid-cols-2 lg:grid-cols-3",children:[d.jsxs("div",{className:"overflow-hidden transition-all duration-300 bg-white shadow-md rounded-2xl hover:shadow-xl",children:[d.jsx("div",{className:"h-48 overflow-hidden",children:d.jsx("img",{src:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",alt:"Cómo elegir el moño perfecto",className:"object-cover w-full h-full transition-transform duration-500 hover:scale-105"})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium text-indigo-800 bg-indigo-100 rounded-full",children:"Guía de Estilo"}),d.jsx("span",{className:"text-sm text-gray-500",children:"15 Oct 2025"})]}),d.jsx("h3",{className:"mb-3 text-xl font-bold text-gray-900",children:"Cómo elegir el moño perfecto para tu ocasión especial"}),d.jsx("p",{className:"mb-4 text-gray-600",children:"Descubre los factores clave para seleccionar el moño ideal que complemente tu estilo y la ocasión."}),d.jsxs(De,{to:"/blog",className:"inline-flex items-center font-medium text-indigo-600 transition-colors duration-300 hover:text-indigo-800",children:["Leer más",d.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]}),d.jsxs("div",{className:"overflow-hidden transition-all duration-300 bg-white shadow-md rounded-2xl hover:shadow-xl",children:[d.jsx("div",{className:"h-48 overflow-hidden",children:d.jsx("img",{src:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",alt:"Tendencias de moda en moños",className:"object-cover w-full h-full transition-transform duration-500 hover:scale-105"})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium text-indigo-800 bg-indigo-100 rounded-full",children:"Tendencias"}),d.jsx("span",{className:"text-sm text-gray-500",children:"10 Oct 2025"})]}),d.jsx("h3",{className:"mb-3 text-xl font-bold text-gray-900",children:"Tendencias de moda en moños para esta temporada"}),d.jsx("p",{className:"mb-4 text-gray-600",children:"Explora las últimas tendencias en moños y cómo incorporarlas a tu guardarropa diario."}),d.jsxs(De,{to:"/blog",className:"inline-flex items-center font-medium text-indigo-600 transition-colors duration-300 hover:text-indigo-800",children:["Leer más",d.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]}),d.jsxs("div",{className:"overflow-hidden transition-all duration-300 bg-white shadow-md rounded-2xl hover:shadow-xl",children:[d.jsx("div",{className:"h-48 overflow-hidden",children:d.jsx("img",{src:"https://images.unsplash.com/photo-1595173425119-1c5134b706b3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",alt:"Cuidado y mantenimiento",className:"object-cover w-full h-full transition-transform duration-500 hover:scale-105"})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium text-indigo-800 bg-indigo-100 rounded-full",children:"Cuidado"}),d.jsx("span",{className:"text-sm text-gray-500",children:"5 Oct 2025"})]}),d.jsx("h3",{className:"mb-3 text-xl font-bold text-gray-900",children:"Cuidado y mantenimiento de tus moños favoritos"}),d.jsx("p",{className:"mb-4 text-gray-600",children:"Consejos profesionales para mantener tus moños en perfecto estado durante más tiempo."}),d.jsxs(De,{to:"/blog",className:"inline-flex items-center font-medium text-indigo-600 transition-colors duration-300 hover:text-indigo-800",children:["Leer más",d.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]})]}),d.jsx("div",{className:"mt-12 text-center",children:d.jsx(De,{to:"/blog",className:"inline-flex items-center px-6 py-3 text-base font-medium text-white transition-all duration-300 border border-transparent rounded-lg shadow-md bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800",children:"Ver todos los artículos"})})]})}),d.jsx("div",{className:"py-16 bg-white",children:d.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"mb-16 lg:text-center",children:[d.jsx("h2",{className:"text-base font-semibold tracking-wide text-indigo-600 uppercase",children:"Contáctanos"}),d.jsx("p",{className:"mt-2 text-3xl font-extrabold leading-8 tracking-tight text-gray-900 sm:text-4xl",children:"¿Tienes preguntas?"}),d.jsx("p",{className:"max-w-2xl mt-4 text-xl text-gray-500 lg:mx-auto",children:"Envíanos un mensaje y nos pondremos en contacto contigo pronto"})]}),d.jsx("div",{className:"max-w-4xl mx-auto mt-10",children:d.jsx("div",{className:"p-8 shadow-sm bg-gray-50 rounded-2xl",children:g.succeeded?d.jsx("div",{className:"p-4 mb-8 rounded-md bg-green-50",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"w-5 h-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-green-800",children:"¡Gracias por tu mensaje!"}),d.jsx("div",{className:"mt-2 text-sm text-green-700",children:d.jsx("p",{children:"Hemos recibido tu mensaje y nos pondremos en contacto contigo pronto."})})]})]})}):d.jsxs("form",{onSubmit:v,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-700",children:"Nombre"}),d.jsx("input",{type:"text",name:"name",id:"name",required:!0,value:b.name,onChange:S,className:"w-full px-4 py-3 transition-colors duration-300 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Tu nombre completo"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"Email"}),d.jsx("input",{type:"email",name:"email",id:"email",required:!0,value:b.email,onChange:S,className:"w-full px-4 py-3 transition-colors duration-300 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"tu@email.com"}),d.jsx(r0,{prefix:"Email",field:"email",errors:g.errors})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"subject",className:"block mb-2 text-sm font-medium text-gray-700",children:"Asunto"}),d.jsx("input",{type:"text",name:"subject",id:"subject",required:!0,value:b.subject,onChange:S,className:"w-full px-4 py-3 transition-colors duration-300 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"¿Sobre qué te gustaría hablar?"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"message",className:"block mb-2 text-sm font-medium text-gray-700",children:"Mensaje"}),d.jsx("textarea",{id:"message",name:"message",rows:6,required:!0,value:b.message,onChange:S,className:"w-full px-4 py-3 transition-colors duration-300 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Escribe tu mensaje aquí..."}),d.jsx(r0,{prefix:"Message",field:"message",errors:g.errors})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:g.submitting,className:`w-full flex justify-center py-3 px-6 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300 ${g.submitting?"opacity-75 cursor-not-allowed":""}`,children:g.submitting?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enviando..."]}):"Enviar Mensaje"})})]})})})]})})]})},EQ=()=>{const[t,e]=_.useState([]),[r,n]=_.useState(!0),[i,a]=_.useState(null),[l,c]=_.useState("all"),[f,h]=_.useState(""),{addToCart:p}=Hc(),{addToWishlist:g}=Jh(),{currentUser:v}=qi();_.useEffect(()=>{(async()=>{try{n(!0);const j=await cD();e(j)}catch(j){a("Failed to load products"),console.error("Error fetching products:",j)}finally{n(!1)}})()},[]);const b=_.useMemo(()=>{let C=l==="all"?t:t.filter(j=>j.category===l);if(f){const j=f.toLowerCase();C=C.filter(L=>L.name.toLowerCase().includes(j)||L.description&&L.description.toLowerCase().includes(j)||L.category&&L.category.toLowerCase().includes(j)||L.material&&L.material.toLowerCase().includes(j)||L.color&&L.color.toLowerCase().includes(j))}return C},[t,l,f]),A=["all",...new Set(t.map(C=>C.category))],E=C=>{if(C.imageUrls&&C.imageUrls.length>0){const j=C.imageUrls.filter(L=>L&&(typeof L=="string"||L.data&&typeof L.data=="string"));if(j.length>0){const L=C.primaryImageIndex||0,z=Math.min(L,j.length-1),M=j[z];if(typeof M=="string")return M;if(M&&M.data)return M.data}}return C.imageUrl||"https://via.placeholder.com/300x300.png?text=Moño"},S=C=>{if(!v){Ie.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos al carrito",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(z=>{z.isConfirmed&&(window.location.href="/psg-shop/#/login")});return}if((C.stock!==void 0?C.stock:1/0)===0){Ie.fire({title:"Producto agotado",text:"Este producto no está disponible actualmente.",icon:"error",confirmButtonText:"Aceptar"});return}const L=E(C);p({...C,imageUrl:L,quantity:1}),Ie.fire({title:"Producto agregado",text:"Producto agregado correctamente al carrito",icon:"success",confirmButtonText:"Aceptar"})},N=C=>{if(!v){Ie.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos a tu lista de deseos",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(L=>{L.isConfirmed&&(window.location.href="/psg-shop/#/login")});return}const j=E(C);g({...C,imageUrl:j}),Ie.fire({title:"Producto agregado",text:"Producto agregado correctamente a tu lista de deseos",icon:"success",confirmButtonText:"Aceptar"})};return d.jsx("div",{children:d.jsxs("div",{className:"px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"flex flex-col mb-8 md:flex-row md:items-center md:justify-between",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Nuestra Colección"}),d.jsxs("div",{className:"flex flex-col gap-4 mt-4 md:mt-0 sm:flex-row",children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Buscar productos...",className:"w-full py-2 pl-10 pr-4 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:w-64",value:f,onChange:C=>h(C.target.value)}),d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"category-filter",className:"mr-2 text-sm font-medium text-gray-700",children:"Filtrar por:"}),d.jsx("select",{id:"category-filter",className:"border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:l,onChange:C=>c(C.target.value),children:A.map(C=>d.jsx("option",{value:C,children:C==="all"?"Todos":C},C))})]})]})]}),r?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"w-12 h-12 border-b-2 border-indigo-600 rounded-full animate-spin"})}):i?d.jsxs("div",{className:"relative px-4 py-3 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:[d.jsx("strong",{className:"font-bold",children:"Error! "}),d.jsx("span",{className:"block sm:inline",children:i})]}):d.jsxs(d.Fragment,{children:[f&&d.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[b.length,' producto(s) encontrado(s) para "',f,'"']}),d.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:b.map(C=>d.jsxs("div",{className:"overflow-hidden transition-all duration-300 bg-white border border-gray-100 rounded-lg shadow-md hover:shadow-lg",children:[d.jsx(De,{to:`/product/${C.id}`,children:d.jsx("div",{className:"w-full overflow-hidden aspect-w-1 aspect-h-1",children:d.jsx("img",{src:E(C),alt:C.name,className:"object-cover w-full h-64",onError:j=>{j.target.onerror=null,j.target.src="https://via.placeholder.com/300x300.png?text=Moño"}})})}),d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-800",children:C.category}),C.stock!==void 0&&C.stock<=5&&d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium shadow-sm ${C.stock>0?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-red-500 to-red-600 text-white"}`,children:C.stock>0?`Solo ${C.stock} disponibles`:"Agotado"})]}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:C.name}),C.rating>0&&d.jsx("div",{className:"mt-2",children:d.jsx(n0,{rating:C.rating,size:"sm"})}),d.jsx("div",{className:"mt-2",children:d.jsxs("span",{className:"text-lg font-semibold text-indigo-700",children:["$",parseFloat(C.price).toLocaleString("es-CO")]})}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx("button",{className:"flex-1 px-4 py-2 text-sm font-medium text-white transition-all duration-300 border border-transparent rounded-md shadow-sm bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:j=>{j.preventDefault(),S(C)},children:"Agregar al Carrito"}),d.jsx("button",{className:"flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-700 transition-all duration-300 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:j=>{j.preventDefault(),j.stopPropagation(),N(C)},children:d.jsx("svg",{className:"w-5 h-5 text-gray-500 transition-colors duration-200 hover:text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4 4 0 000 6.364L12 20.364l7.682-7.682a4 4 0 00-6.364-6.364L12 7.636l-1.318-1.318a4 4 0 00-6.364 0z"})})})]})]})]},C.id))})]}),!r&&!i&&b.length===0&&d.jsxs("div",{className:"py-12 text-center",children:[d.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No se encontraron productos"}),d.jsx("p",{className:"mt-1 text-gray-500",children:f?`No se encontraron productos que coincidan con "${f}".`:"No hay productos disponibles en esta categoría."}),f&&d.jsx("div",{className:"mt-6",children:d.jsx("button",{onClick:()=>{h(""),c("all")},className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white transition-all duration-300 border border-transparent rounded-md shadow-sm bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ver todos los productos"})})]})]})})},i5=async t=>{try{const e=kt(Re,"reviews");return{id:(await Ny(e,{...t,createdAt:new Date,updatedAt:new Date})).id,...t,createdAt:new Date,updatedAt:new Date}}catch(e){throw console.error("Error creating review:",e),e}},FP=async t=>{try{const e=kt(Re,"reviews"),r=ga(e,Qs("productId","==",t),wl("createdAt","desc"));return(await Yt(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){if(console.error("Error fetching reviews:",e),e.code==="failed-precondition"||e.message&&e.message.includes("index"))try{const r=kt(Re,"reviews"),n=ga(r,Qs("productId","==",t));return(await Yt(n)).docs.map(c=>({id:c.id,...c.data()})).sort((c,f)=>{const h=c.createdAt?.toDate?c.createdAt.toDate():new Date(c.createdAt);return(f.createdAt?.toDate?f.createdAt.toDate():new Date(f.createdAt))-h})}catch(r){throw console.error("Error fetching reviews without index:",r),r}else throw e}},qP=async()=>{try{const t=kt(Re,"reviews"),e=ga(t,wl("createdAt","desc"));return(await Yt(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){if(console.error("Error fetching all reviews:",t),t.code==="failed-precondition"||t.message&&t.message.includes("index"))try{const e=kt(Re,"reviews");return(await Yt(e)).docs.map(a=>({id:a.id,...a.data()})).sort((a,l)=>{const c=a.createdAt?.toDate?a.createdAt.toDate():new Date(a.createdAt);return(l.createdAt?.toDate?l.createdAt.toDate():new Date(l.createdAt))-c})}catch(e){throw console.error("Error fetching all reviews without index:",e),e}else throw t}},AQ=async(t,e)=>{try{const r=wt(Re,"reviews",t);return await oa(r,{...e,updatedAt:new Date}),{id:t,...e,updatedAt:new Date}}catch(r){throw console.error("Error updating review:",r),r}},SQ=async t=>{try{const e=wt(Re,"reviews",t);return await Y_(e),t}catch(e){throw console.error("Error deleting review:",e),e}},TQ=()=>{const{id:t}=fI(),[e,r]=_.useState(null),[n,i]=_.useState(!0),[a,l]=_.useState(null),[c,f]=_.useState(1),[h,p]=_.useState(0),{addToCart:g}=Hc(),{addToWishlist:v}=Jh(),{currentUser:b}=qi(),A=Fi(),[E,S]=_.useState([]),[N,C]=_.useState(!0),[j,L]=_.useState({rating:0,comment:""}),[z,M]=_.useState(!1);_.useEffect(()=>{t&&(async()=>{try{i(!0);const le=await IW(t);r(le),p(0)}catch(le){l("Failed to load product"),console.error("Error fetching product:",le)}finally{i(!1)}})()},[t]),_.useEffect(()=>{(async()=>{if(t)try{C(!0);const le=await FP(t);S(le)}catch(le){console.error("Error fetching reviews:",le)}finally{C(!1)}})()},[t]);const I=K=>{if(K.imageUrls&&K.imageUrls.length>0){const le=K.imageUrls.filter(pe=>pe&&(typeof pe=="string"||pe.data&&typeof pe.data=="string"));if(le.length>0){const pe=K.primaryImageIndex||0,$=Math.min(pe,le.length-1),Y=le[$];if(typeof Y=="string")return Y;if(Y&&Y.data)return Y.data}}return K.imageUrl||"https://via.placeholder.com/600x600.png?text=Moño"},P=()=>{if(!b){Ie.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos al carrito",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(K=>{K.isConfirmed&&A("/login")});return}if(e){if((e.stock!==void 0?e.stock:1/0)===0){Ie.fire({title:"Producto agotado",text:"Este producto no está disponible actualmente.",icon:"error",confirmButtonText:"Aceptar"});return}const le=I(e);g({...e,imageUrl:le,quantity:1}),Ie.fire({title:"Producto agregado",text:"Producto agregado correctamente al carrito",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})}},R=()=>{if(!b){Ie.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos a tu lista de deseos",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(K=>{K.isConfirmed&&A("/login")});return}if(e){const K=I(e);v({...e,imageUrl:K}),Ie.fire({title:"Producto agregado",text:"Producto agregado correctamente a tu lista de deseos",icon:"success",confirmButtonText:"Aceptar"})}},U=()=>{if(e?.imageUrls&&Array.isArray(e.imageUrls)){const K=e.imageUrls.filter(le=>le&&(typeof le=="string"||le.data&&typeof le.data=="string"));return K.length>0?K.map(pe=>typeof pe=="string"?pe:pe&&pe.data?pe.data:"https://via.placeholder.com/600x600.png?text=Moño"):["https://via.placeholder.com/600x600.png?text=Moño"]}return e?.imageUrl?[e.imageUrl]:["https://via.placeholder.com/600x600.png?text=Moño"]},B=()=>{const K=U();return K[h]||K[0]},q=K=>{const{name:le,value:pe}=K.target;L($=>({...$,[le]:pe}))},V=K=>{L(le=>({...le,rating:K}))},xe=async K=>{if(K.preventDefault(),!b){Ie.fire({title:"Inicia sesión",text:"Debes iniciar sesión para dejar una reseña",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(le=>{le.isConfirmed&&A("/login")});return}if(j.rating===0){Ie.fire({title:"Error",text:"Por favor selecciona una calificación",icon:"error",confirmButtonText:"Aceptar"});return}if(j.comment.trim()===""){Ie.fire({title:"Error",text:"Por favor escribe un comentario",icon:"error",confirmButtonText:"Aceptar"});return}M(!0);try{const le={productId:t,userId:b.uid,userEmail:b.email,userName:b.displayName||b.email.split("@")[0],rating:j.rating,comment:j.comment.trim()};await i5(le),L({rating:0,comment:""});const pe=await FP(t);S(pe),Ie.fire({title:"Reseña enviada",text:"Tu reseña ha sido enviada correctamente",icon:"success",confirmButtonText:"Aceptar"})}catch(le){console.error("Error submitting review:",le),Ie.fire({title:"Error",text:"Hubo un error al enviar tu reseña. Por favor intenta nuevamente.",icon:"error",confirmButtonText:"Aceptar"})}finally{M(!1)}},fe=K=>K?K instanceof Date?K.toLocaleDateString("es-CO"):K.toDate?K.toDate().toLocaleDateString("es-CO"):"N/A":"N/A";if(n)return d.jsx("div",{children:d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"w-12 h-12 border-b-2 border-gray-900 rounded-full animate-spin"})})});if(a||!e)return d.jsx("div",{children:d.jsx("div",{className:"px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8",children:d.jsxs("div",{className:"relative px-4 py-3 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:[d.jsx("strong",{className:"font-bold",children:"Error! "}),d.jsx("span",{className:"block sm:inline",children:a||"Product not found"})]})})});const W=U();return d.jsx("div",{className:"bg-gray-50 min-h-screen",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[d.jsx("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:d.jsxs("ol",{className:"flex items-center space-x-2",children:[d.jsx("li",{children:d.jsx(De,{to:"/home",className:"text-gray-500 hover:text-indigo-600 transition-colors duration-200",children:"Home"})}),d.jsx("li",{children:d.jsx("span",{className:"text-gray-500",children:"/"})}),d.jsx("li",{children:d.jsx(De,{to:"/shop",className:"text-gray-500 hover:text-indigo-600 transition-colors duration-200",children:"Shop"})}),d.jsx("li",{children:d.jsx("span",{className:"text-gray-500",children:"/"})}),d.jsx("li",{children:d.jsx("span",{className:"text-gray-900 font-medium",children:e.name})})]})}),d.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-x-12 lg:items-start",children:[d.jsxs("div",{className:"flex flex-col-reverse",children:[W.length>1&&d.jsx("div",{className:"w-full max-w-2xl mx-auto mt-6 lg:max-w-none",children:d.jsx("div",{className:"grid grid-cols-4 gap-4","aria-orientation":"horizontal",children:W.map((K,le)=>d.jsxs("button",{className:`relative h-20 bg-gray-100 rounded-lg flex items-center justify-center text-sm font-medium uppercase text-gray-900 cursor-pointer hover:bg-gray-200 focus:outline-none transition-all duration-200 ${h===le?"ring-2 ring-indigo-500":"border border-gray-200"}`,onClick:()=>p(le),children:[d.jsxs("span",{className:"sr-only",children:["Imagen ",le+1]}),d.jsx("span",{className:"absolute inset-0 overflow-hidden rounded-md",children:d.jsx("img",{src:K,alt:`Imagen ${le+1}`,className:"object-cover w-full h-full",onError:pe=>{pe.target.onerror=null,pe.target.src="https://via.placeholder.com/100x100.png?text=Moño"}})}),h===le&&d.jsx("span",{className:"absolute inset-0 rounded-md pointer-events-none ring-2 ring-offset-2 ring-indigo-500","aria-hidden":"true"})]},le))})}),d.jsx("div",{className:"w-full aspect-w-1 aspect-h-1",children:d.jsx("img",{src:B(),alt:e.name,className:"object-contain object-center w-full h-full",onError:K=>{K.target.onerror=null,K.target.src="https://via.placeholder.com/600x600.png?text=Moño"}})})]}),d.jsxs("div",{className:"px-4 mt-10 sm:px-0 sm:mt-16 lg:mt-0",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:e.name}),d.jsxs("div",{className:"mt-4 flex items-center",children:[e.rating>0&&d.jsxs("div",{className:"flex items-center",children:[d.jsx(n0,{rating:e.rating,size:"lg"}),d.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",e.rating,")"]})]}),d.jsxs("span",{className:"ml-4 text-sm text-gray-500",children:["SKU: ",e.id?.substring(0,8)]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h2",{className:"sr-only",children:"Product information"}),d.jsxs("p",{className:"text-3xl font-bold text-indigo-700",children:["$",parseFloat(e.price).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"sr-only",children:"Description"}),d.jsx("div",{className:"prose prose-indigo text-gray-700",children:d.jsx("p",{className:"text-base leading-relaxed",children:e.description})})]}),d.jsx("div",{className:"mt-8 border-t border-b border-gray-200 py-6",children:d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Categoría:"}),d.jsx("span",{className:"ml-2 inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-800",children:e.category})]}),e.stock!==void 0&&d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Disponibilidad:"}),d.jsx("span",{className:`ml-2 font-medium ${e.stock>5?"text-green-600":e.stock>0?"text-yellow-600":"text-red-600"}`,children:e.stock>0?`${e.stock} en stock`:"Agotado"})]}),e.material&&d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Material:"}),d.jsx("span",{className:"ml-2 text-gray-900",children:e.material})]}),e.color&&d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Color:"}),d.jsx("span",{className:"ml-2 text-gray-900",children:e.color})]}),e.size&&d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Tamaño:"}),d.jsx("span",{className:"ml-2 text-gray-900",children:e.size})]}),e.style&&d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Estilo:"}),d.jsx("span",{className:"ml-2 text-gray-900",children:e.style})]})]})}),d.jsx("form",{className:"mt-8",children:d.jsxs("div",{className:"flex flex-wrap gap-4",children:[d.jsx("button",{type:"button",onClick:P,className:"flex-1 min-w-[200px] px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-0.5",disabled:e.stock===0,children:e.stock===0?"Agotado":"Agregar al Carrito"}),d.jsxs("button",{type:"button",onClick:R,className:"flex items-center justify-center px-5 py-3 border border-gray-300 rounded-lg shadow-sm text-base font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300",children:[d.jsx("svg",{className:"flex-shrink-0 w-5 h-5 text-gray-500 hover:text-red-500 transition-colors duration-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),d.jsx("span",{className:"sr-only",children:"Agregar a favoritos"})]})]})})]})]}),d.jsx("div",{className:"mt-20",children:d.jsxs("div",{className:"border-t border-gray-200 pt-12",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Reseñas de Clientes"}),b&&d.jsxs("div",{className:"mb-12 bg-white rounded-2xl shadow-sm p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Deja tu reseña"}),d.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calificación"}),d.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(K=>d.jsx("button",{type:"button",onClick:()=>V(K),className:"text-2xl focus:outline-none transition-colors duration-200",children:K<=j.rating?d.jsx("span",{className:"text-yellow-400",children:"★"}):d.jsx("span",{className:"text-gray-300",children:"☆"})},K)),d.jsx("span",{className:"ml-2 text-sm text-gray-500",children:j.rating>0?`${j.rating} de 5 estrellas`:"Selecciona una calificación"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Comentario"}),d.jsx("textarea",{id:"comment",name:"comment",rows:4,value:j.comment,onChange:q,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border border-gray-300 rounded-lg p-3 transition-colors duration-200",placeholder:"Comparte tu experiencia con este producto..."})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:z,className:`inline-flex justify-center py-2.5 px-6 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300 ${z?"bg-indigo-400 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 shadow-md hover:shadow-lg"}`,children:z?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enviando..."]}):"Enviar Reseña"})})]})]}),d.jsx("div",{children:N?d.jsx("div",{className:"flex justify-center py-12",children:d.jsx("div",{className:"w-10 h-10 border-b-2 border-indigo-600 rounded-full animate-spin"})}):E.length===0?d.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl shadow-sm p-8",children:[d.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No hay reseñas aún"}),d.jsx("p",{className:"mt-1 text-gray-500",children:"Sé el primero en dejar una reseña para este producto."}),!b&&d.jsx("div",{className:"mt-6",children:d.jsx(De,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800",children:"Inicia sesión para dejar una reseña"})})]}):d.jsx("div",{className:"space-y-6",children:E.map(K=>d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow duration-300",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:K.userName}),d.jsxs("div",{className:"mt-1 flex items-center",children:[d.jsx(n0,{rating:K.rating,size:"sm"}),d.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:[K.rating,"/5"]})]})]}),d.jsx("p",{className:"text-sm text-gray-500",children:fe(K.createdAt)})]}),d.jsx("div",{className:"mt-4",children:d.jsx("p",{className:"text-gray-700 leading-relaxed",children:K.comment})})]},K.id))})})]})})]})})},NQ=()=>{const{items:t,updateQuantity:e,removeFromCart:r,getTotalPrice:n,loading:i,coupon:a,applyCoupon:l,removeCoupon:c}=Hc(),f=Fi(),[h,p]=_.useState(""),[g,v]=_.useState(""),[b,A]=_.useState(!1);if(i)return d.jsx("div",{children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})})});const E=()=>{f("/checkout")},S=async j=>{if(j.preventDefault(),!!h.trim()){A(!0),v("");try{await l(h.trim()),p("")}catch(L){v(L.message||"Error al aplicar el cupón")}finally{A(!1)}}},N=()=>{c(),p(""),v("")},C=t.reduce((j,L)=>j+L.price*L.quantity,0);return d.jsx("div",{className:"bg-gray-50 min-h-screen",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Tu Carrito de Compras"}),t.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Tu carrito está vacío"}),d.jsx("p",{className:"mt-1 text-gray-500",children:"Empieza a agregar productos a tu carrito de compras."}),d.jsx("div",{className:"mt-6",children:d.jsx(De,{to:"/shop",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Continuar Comprando"})})]}):d.jsx("div",{className:"mt-8",children:d.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-12",children:[d.jsx("div",{className:"lg:col-span-8",children:d.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(j=>d.jsxs("li",{className:"py-6 flex",children:[d.jsx("div",{className:"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden",children:d.jsx("img",{src:j.imageUrl,alt:j.name,className:"w-full h-full object-contain",onError:L=>{L.target.onerror=null,L.target.src="https://via.placeholder.com/100x100.png?text=Moño"}})}),d.jsxs("div",{className:"ml-4 flex-1 flex flex-col",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[d.jsx("h3",{children:d.jsx(De,{to:`/product/${j.id}`,children:j.name})}),d.jsxs("p",{className:"ml-4",children:["$",parseFloat(j.price*j.quantity).toLocaleString("es-CO")]})]}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:j.category})]}),d.jsxs("div",{className:"flex-1 flex items-end justify-between text-sm",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("button",{onClick:()=>e(j.id,j.quantity-1),disabled:j.quantity<=1,className:"p-1 rounded-md border border-gray-300 text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})})}),d.jsx("span",{className:"mx-2 text-gray-700",children:j.quantity}),d.jsx("button",{onClick:()=>e(j.id,j.quantity+1),disabled:j.stock!==void 0&&j.quantity>=j.stock,className:"p-1 rounded-md border border-gray-300 text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),d.jsx("div",{className:"flex",children:d.jsx("button",{type:"button",onClick:()=>r(j.id),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Eliminar"})})]})]})]},j.id))})}),d.jsx("div",{className:"mt-8 lg:mt-0 lg:col-span-4",children:d.jsxs("div",{className:"bg-white rounded-lg px-4 py-6 sm:p-6 lg:p-8 shadow-sm border border-gray-100",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Resumen del Pedido"}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Cupón de Descuento"}),a?d.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-md",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-green-800",children:a.code}),d.jsx("span",{className:"ml-2 text-sm text-green-600",children:a.discountType==="percentage"?`-${a.discountValue}%`:`-$${a.discountValue.toLocaleString("es-CO")}`})]}),d.jsx("button",{onClick:N,className:"text-sm text-red-600 hover:text-red-800",children:"Eliminar"})]}):d.jsxs("form",{onSubmit:S,className:"flex space-x-2",children:[d.jsx("input",{type:"text",value:h,onChange:j=>p(j.target.value),placeholder:"Ingresa tu código",className:"flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",disabled:b}),d.jsx("button",{type:"submit",disabled:b||!h.trim(),className:`inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${b||!h.trim()?"bg-indigo-400 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800"}`,children:b?"Aplicando...":"Aplicar"})]}),g&&d.jsx("p",{className:"mt-2 text-sm text-red-600",children:g})]}),d.jsxs("dl",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("dt",{className:"text-sm text-gray-600",children:"Subtotal"}),d.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:["$",parseFloat(C).toLocaleString("es-CO")]})]}),a&&d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("dt",{className:"text-sm text-gray-600",children:["Descuento (",a.code,")"]}),d.jsxs("dd",{className:"text-sm font-medium text-green-600",children:["-$",parseFloat(C-n()).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6",children:[d.jsx("dt",{className:"text-base font-medium text-gray-900",children:"Total del Pedido"}),d.jsxs("dd",{className:"text-base font-medium text-gray-900",children:["$",parseFloat(n()).toLocaleString("es-CO")]})]})]}),t.some(j=>j.stock!==void 0&&j.stock<j.quantity)&&d.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Algunos productos tienen stock limitado"}),d.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:d.jsx("p",{children:"La cantidad en tu carrito excede el stock disponible para algunos productos. Por favor, ajusta las cantidades."})})]})]})}),d.jsx("div",{className:"mt-6",children:d.jsx("button",{type:"button",onClick:E,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-700 border border-transparent rounded-md shadow-sm py-3 px-4 text-base font-medium text-white hover:from-indigo-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500",disabled:t.some(j=>j.stock!==void 0&&j.stock<j.quantity),children:"Proceder al Pago"})}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx(De,{to:"/shop",className:"text-indigo-600 hover:text-indigo-500",children:"← Continuar Comprando"})})]})})]})})]})})};/*!
 * react-paypal-js v8.9.2 (2025-10-02T20:17:55.069Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn;(function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"})(Fn||(Fn={}));var al;(function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"})(al||(al={}));var HP;(function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"})(HP||(HP={}));var Pr=function(){return Pr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pr.apply(this,arguments)};function a5(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function KP(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Nh="data-react-paypal-script-id",hc={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},jQ="Failed to load the PayPal JS SDK script.",s5="paypal",CQ="usePayPalScriptReducer must be used within a PayPalScriptProvider";function PQ(t){return t===void 0&&(t=s5),window[t]}function kQ(t){for(var e="",r=0;r<t.length;r++){var n=t[r].charCodeAt(0)*r;t[r+1]&&(n+=t[r+1].charCodeAt(0)*(r-1)),e+=String.fromCharCode(97+Math.abs(n)%26)}return e}function OQ(t){var e=t.reactComponentName,r=t.sdkComponentKey,n=t.sdkRequestedComponents,i=n===void 0?"":n,a=t.sdkDataNamespace,l=a===void 0?s5:a,c=r.charAt(0).toUpperCase().concat(r.substring(1)),f="Unable to render <".concat(e," /> because window.").concat(l,".").concat(c," is undefined."),h=typeof i=="string"?i:i.join(",");if(!h.includes(r)){var p=[h,r].filter(Boolean).join();f+=`
To fix the issue, add '`.concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(p,"'}}>`.")}return f}function o5(t){var e=t,r=Nh;e[r];var n=a5(e,[r+""]);return"react-paypal-js-".concat(kQ(JSON.stringify(n)))}function IQ(t){var e=self.document.querySelector("script[".concat(Nh,'="').concat(t,'"]'));e?.parentNode&&e.parentNode.removeChild(e)}function RQ(t,e){var r,n;switch(e.type){case al.LOADING_STATUS:return typeof e.value=="object"?Pr(Pr({},t),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):Pr(Pr({},t),{loadingStatus:e.value});case al.RESET_OPTIONS:return IQ(t.options[Nh]),Pr(Pr({},t),{loadingStatus:Fn.PENDING,options:Pr(Pr((r={},r[hc.DATA_SDK_INTEGRATION_SOURCE]=hc.DATA_LIBRARY_VALUE,r),e.value),(n={},n[Nh]="".concat(o5(e.value)),n))});case al.SET_BRAINTREE_INSTANCE:return Pr(Pr({},t),{braintreePayPalCheckoutInstance:e.value});default:return t}}var l5=_.createContext(null);function DQ(t){if(typeof t?.dispatch=="function"&&t.dispatch.length!==0)return t;throw new Error(CQ)}function MQ(){var t=DQ(_.useContext(l5)),e=Pr(Pr({},t),{isInitial:t.loadingStatus===Fn.INITIAL,isPending:t.loadingStatus===Fn.PENDING,isResolved:t.loadingStatus===Fn.RESOLVED,isRejected:t.loadingStatus===Fn.REJECTED});return[e,t.dispatch]}_.createContext({});function LQ(t){var e=_.useRef(new Proxy({},{get:function(r,n,i){return typeof r[n]=="function"?function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return r[n].apply(r,a)}:Reflect.get(r,n,i)}}));return e.current=Object.assign(e.current,t),e.current}var fE=function(t){var e,r=t.className,n=r===void 0?"":r,i=t.disabled,a=i===void 0?!1:i,l=t.children,c=t.forceReRender,f=c===void 0?[]:c,h=a5(t,["className","disabled","children","forceReRender"]),p=a?{opacity:.38}:{},g="".concat(n," ").concat(a?"paypal-buttons-disabled":"").trim(),v=_.useRef(null),b=_.useRef(null),A=LQ(h),E=MQ()[0],S=E.isResolved,N=E.options,C=_.useState(null),j=C[0],L=C[1],z=_.useState(!0),M=z[0],I=z[1],P=_.useState(null),R=P[1];function U(){b.current!==null&&b.current.close().catch(function(){})}return!((e=b.current)===null||e===void 0)&&e.updateProps&&b.current.updateProps({message:h.message}),_.useEffect(function(){if(S===!1)return U;var B=PQ(N.dataNamespace);if(B===void 0||B.Buttons===void 0)return R(function(){throw new Error(OQ({reactComponentName:fE.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:N.components,sdkDataNamespace:N[hc.DATA_NAMESPACE]}))}),U;var q=function(V,xe){L(xe),typeof h.onInit=="function"&&h.onInit(V,xe)};try{b.current=B.Buttons(Pr(Pr({},A),{onInit:q}))}catch(V){return R(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(V))})}return b.current.isEligible()===!1?(I(!1),U):(v.current&&b.current.render(v.current).catch(function(V){v.current===null||v.current.children.length===0||R(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(V))})}),U)},KP(KP([S],f,!0),[h.fundingSource],!1)),_.useEffect(function(){j!==null&&(a===!0?j.disable().catch(function(){}):j.enable().catch(function(){}))},[a,j]),ct.createElement(ct.Fragment,null,M?ct.createElement("div",{ref:v,style:p,className:g}):l)};fE.displayName="PayPalButtons";function VQ(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function BQ(t,e){var r=document.querySelector('script[src="'.concat(t,'"]'));if(r===null)return null;var n=c5(t,e),i=r.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(n.dataset).length)return null;var a=!0;return Object.keys(i.dataset).forEach(function(l){i.dataset[l]!==n.dataset[l]&&(a=!1)}),a?r:null}function UQ(t){var e=t.url,r=t.attributes,n=t.onSuccess,i=t.onError,a=c5(e,r);a.onerror=i,a.onload=n,document.head.insertBefore(a,document.head.firstElementChild)}function $Q(t){var e=t.sdkBaseUrl,r=t.environment,n=VQ(t,["sdkBaseUrl","environment"]),i=e||qQ(r),a=n,l=Object.keys(a).filter(function(h){return typeof a[h]<"u"&&a[h]!==null&&a[h]!==""}).reduce(function(h,p){var g=a[p].toString();return p=zQ(p),p.substring(0,4)==="data"||p==="crossorigin"?h.attributes[p]=g:h.queryParams[p]=g,h},{queryParams:{},attributes:{}}),c=l.queryParams,f=l.attributes;return c["merchant-id"]&&c["merchant-id"].indexOf(",")!==-1&&(f["data-merchant-id"]=c["merchant-id"],c["merchant-id"]="*"),{url:"".concat(i,"?").concat(FQ(c)),attributes:f}}function zQ(t){var e=function(r,n){return(n?"-":"")+r.toLowerCase()};return t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function FQ(t){var e="";return Object.keys(t).forEach(function(r){e.length!==0&&(e+="&"),e+=r+"="+t[r]}),e}function qQ(t){return t==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function c5(t,e){e===void 0&&(e={});var r=document.createElement("script");return r.src=t,Object.keys(e).forEach(function(n){r.setAttribute(n,e[n]),n==="data-csp-nonce"&&r.setAttribute("nonce",e["data-csp-nonce"])}),r}function HQ(t,e){if(e===void 0&&(e=Promise),u5(t,e),typeof document>"u")return e.resolve(null);var r=$Q(t),n=r.url,i=r.attributes,a=i["data-namespace"]||"paypal",l=GP(a);return i["data-js-sdk-library"]||(i["data-js-sdk-library"]="paypal-js"),BQ(n,i)&&l?e.resolve(l):KQ({url:n,attributes:i},e).then(function(){var c=GP(a);if(c)return c;throw new Error("The window.".concat(a," global variable is not available."))})}function KQ(t,e){e===void 0&&(e=Promise),u5(t,e);var r=t.url,n=t.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof n<"u"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new e(function(i,a){if(typeof document>"u")return i();UQ({url:r,attributes:n,onSuccess:function(){return i()},onError:function(){var l=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return a(l)}})})}function GP(t){return window[t]}function u5(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");var r=t.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var GQ=function(t){var e,r=t.options,n=r===void 0?{clientId:"test"}:r,i=t.children,a=t.deferLoading,l=a===void 0?!1:a,c=_.useReducer(RQ,{options:Pr(Pr({},n),(e={},e[hc.DATA_JS_SDK_LIBRARY]=hc.DATA_LIBRARY_VALUE,e[hc.DATA_SDK_INTEGRATION_SOURCE]=hc.DATA_LIBRARY_VALUE,e[Nh]="".concat(o5(n)),e)),loadingStatus:l?Fn.INITIAL:Fn.PENDING}),f=c[0],h=c[1];return _.useEffect(function(){if(l===!1&&f.loadingStatus===Fn.INITIAL)return h({type:al.LOADING_STATUS,value:Fn.PENDING});if(f.loadingStatus===Fn.PENDING){var p=!0;return HQ(f.options).then(function(){p&&h({type:al.LOADING_STATUS,value:Fn.RESOLVED})}).catch(function(g){console.error("".concat(jQ," ").concat(g)),p&&h({type:al.LOADING_STATUS,value:{state:Fn.REJECTED,message:String(g)}})}),function(){p=!1}}},[f.options,l,f.loadingStatus]),ct.createElement(l5.Provider,{value:Pr(Pr({},f),{dispatch:h})},i)};function WP(){}_.createContext({cardFieldsForm:null,fields:{},registerField:WP,unregisterField:WP});const WQ=()=>{const{items:t,getTotalPrice:e,loading:r,clearCart:n,coupon:i}=Hc(),{currentUser:a}=qi(),l=Fi(),c=28e-5,f=fe=>fe*c,h=fe=>{if(fe.imageUrls&&fe.imageUrls.length>0){const W=fe.imageUrls.filter(K=>K&&(typeof K=="string"||K.data&&typeof K.data=="string"));if(W.length>0){const K=fe.primaryImageIndex||0,le=Math.min(K,W.length-1),pe=W[le];if(typeof pe=="string")return pe;if(pe&&pe.data)return pe.data}}return fe.imageUrl||"https://via.placeholder.com/100x100.png?text=Moño"},[p,g]=_.useState([]),[v,b]=_.useState(null),[A,E]=_.useState({name:"",street:"",city:"",state:"",zipCode:"",country:"Colombia"}),[S,N]=_.useState(!1),[C,j]=_.useState(!0),[L,z]=_.useState(!1),M=t.reduce((fe,W)=>fe+W.price*W.quantity,0),I=i?M-e():0,P=e();_.useEffect(()=>{(async()=>{if(!a){l("/login");return}try{const W=wt(Re,"users",a.uid),K=await ya(W);if(K.exists()){const pe=K.data().addresses||[];g(pe);const $=pe.find(Y=>Y.isDefault);$?b($):pe.length>0&&b(pe[0])}}catch(W){console.error("Error loading addresses:",W),Ie.fire({title:"Error",text:"Error al cargar las direcciones",icon:"error",confirmButtonText:"Aceptar"})}finally{j(!1)}})()},[a,l]);const R=fe=>{const{name:W,value:K}=fe.target;E(le=>({...le,[W]:K}))},U=async fe=>{if(fe.preventDefault(),!A.name||!A.street||!A.city||!A.state||!A.zipCode){Ie.fire({title:"Error",text:"Por favor completa todos los campos de la dirección",icon:"error",confirmButtonText:"Aceptar"});return}try{const W=wt(Re,"users",a.uid),K={...A,id:Date.now(),isDefault:p.length===0};await oa(W,{addresses:[...p,K]});const le=[...p,K];g(le),b(K),N(!1),E({name:"",street:"",city:"",state:"",zipCode:"",country:"Colombia"}),Ie.fire({title:"Dirección agregada",text:"La dirección se ha agregado correctamente",icon:"success",confirmButtonText:"Aceptar"})}catch(W){console.error("Error adding address:",W),Ie.fire({title:"Error",text:"Error al agregar la dirección: "+W.message,icon:"error",confirmButtonText:"Aceptar"})}},B=async(fe,W)=>{try{const K=f(P),le={userId:a.uid,userEmail:a.email,items:t,subtotal:parseFloat(M),discount:parseFloat(I),totalAmount:parseFloat(P),totalAmountUSD:parseFloat(K.toFixed(2)),address:v,paymentMethod:fe,paymentStatus:W,orderStatus:"pending",coupon:i||null,createdAt:new Date,updatedAt:new Date},pe=kt(Re,"orders"),$=await Ny(pe,le);return console.log("Order created with ID:",$.id),$.id}catch(K){throw console.error("Error creating order:",K),K}},q=(fe,W)=>W.order.capture().then(async K=>{z(!0);try{await B("PayPal","completed"),n(),Ie.fire({title:"¡Pago exitoso!",text:`Gracias por tu compra, ${K.payer.name.given_name}!`,icon:"success",confirmButtonText:"Aceptar"}).then(()=>{l("/home")})}catch(le){console.error("Error processing order:",le),Ie.fire({title:"Error",text:"Hubo un error al procesar tu pedido. Por favor contacta al soporte.",icon:"error",confirmButtonText:"Aceptar"})}finally{z(!1)}}),V=fe=>{console.error("PayPal payment error:",fe),Ie.fire({title:"Error",text:"Hubo un error al procesar el pago con PayPal. Por favor intenta nuevamente.",icon:"error",confirmButtonText:"Aceptar"})},xe=async()=>{if(!v){Ie.fire({title:"Error",text:"Por favor selecciona una dirección de envío",icon:"error",confirmButtonText:"Aceptar"});return}z(!0);try{await B("Cash on Delivery","pending"),n(),Ie.fire({title:"Pedido confirmado",text:"Tu pedido ha sido confirmado. Pagarás contra entrega.",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{l("/home")})}catch(fe){console.error("Error processing order:",fe),Ie.fire({title:"Error",text:"Error al procesar el pedido: "+fe.message,icon:"error",confirmButtonText:"Aceptar"})}finally{z(!1)}};return r||C?d.jsx("div",{children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})})}):t.length===0?(l("/cart"),null):d.jsx("div",{children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Checkout"}),d.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-12",children:[d.jsxs("div",{className:"lg:col-span-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-8",children:d.jsxs("div",{className:"px-4 py-6 sm:px-6",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Dirección de Envío"}),p.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsxs("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay direcciones guardadas"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Agrega una nueva dirección para continuar."})]}):d.jsx("div",{className:"space-y-4",children:p.map(fe=>d.jsx("div",{className:`border rounded-lg p-4 cursor-pointer ${v&&v.id===fe.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>b(fe),children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5",children:d.jsx("input",{type:"radio",name:"address",checked:v&&v.id===fe.id,onChange:()=>b(fe),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"})}),d.jsxs("div",{className:"ml-3",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[fe.name,fe.isDefault&&d.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Predeterminada"})]}),d.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:[d.jsx("p",{children:fe.street}),d.jsxs("p",{children:[fe.city,", ",fe.state," ",fe.zipCode]}),d.jsx("p",{children:fe.country})]})]})]})},fe.id))}),d.jsx("div",{className:"mt-6",children:d.jsxs("button",{type:"button",onClick:()=>N(!S),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[d.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),p.length===0?"Agregar Dirección":"Agregar Nueva Dirección"]})}),S&&d.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[d.jsx("h3",{className:"text-md font-medium text-gray-900 mb-4",children:p.length===0?"Agregar Dirección":"Nueva Dirección"}),d.jsxs("form",{onSubmit:U,children:[d.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre de la Dirección"}),d.jsx("input",{type:"text",name:"name",id:"name",value:A.name,onChange:R,placeholder:"Ej: Casa, Trabajo",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700",children:"Calle y Número"}),d.jsx("input",{type:"text",name:"street",id:"street",value:A.street,onChange:R,placeholder:"Ej: Av. Principal 123",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"Ciudad"}),d.jsx("input",{type:"text",name:"city",id:"city",value:A.city,onChange:R,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"Estado/Provincia"}),d.jsx("input",{type:"text",name:"state",id:"state",value:A.state,onChange:R,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700",children:"Código Postal"}),d.jsx("input",{type:"text",name:"zipCode",id:"zipCode",value:A.zipCode,onChange:R,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"País"}),d.jsx("input",{type:"text",name:"country",id:"country",value:A.country,onChange:R,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),d.jsxs("div",{className:"mt-6 flex space-x-3",children:[d.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Guardar Dirección"}),d.jsx("button",{type:"button",onClick:()=>N(!1),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"})]})]})]})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("div",{className:"px-4 py-6 sm:px-6",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Resumen del Pedido"}),d.jsx("div",{className:"flow-root",children:d.jsx("ul",{className:"-my-6 divide-y divide-gray-200",children:t.map(fe=>d.jsxs("li",{className:"py-6 flex",children:[d.jsx("div",{className:"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden",children:d.jsx("img",{src:h(fe),alt:fe.name,className:"w-full h-full object-center object-cover",onError:W=>{W.target.onerror=null,W.target.src="https://via.placeholder.com/100x100.png?text=Moño"}})}),d.jsxs("div",{className:"ml-4 flex-1 flex flex-col",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[d.jsx("h3",{children:fe.name}),d.jsxs("p",{className:"ml-4",children:["$",parseFloat(fe.price*fe.quantity).toLocaleString("es-CO")]})]}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:fe.category})]}),d.jsx("div",{className:"flex-1 flex items-end justify-between text-sm",children:d.jsxs("p",{className:"text-gray-500",children:["Cantidad: ",fe.quantity]})})]})]},fe.id))})})]})})]}),d.jsx("div",{className:"mt-8 lg:mt-0 lg:col-span-4",children:d.jsxs("div",{className:"bg-gray-50 rounded-lg px-4 py-6 sm:p-6 lg:p-8",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Resumen del Pedido"}),d.jsxs("dl",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("dt",{className:"text-sm text-gray-600",children:"Subtotal"}),d.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:["$",parseFloat(M).toLocaleString("es-CO")]})]}),i&&d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("dt",{className:"text-sm text-gray-600",children:["Descuento (",i.code,")"]}),d.jsxs("dd",{className:"text-sm font-medium text-green-600",children:["-$",parseFloat(I).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("dt",{className:"text-sm text-gray-600",children:"Envío"}),d.jsx("dd",{className:"text-sm font-medium text-gray-900",children:"$0"})]}),d.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6",children:[d.jsx("dt",{className:"text-base font-medium text-gray-900",children:"Total"}),d.jsxs("dd",{className:"text-base font-medium text-gray-900",children:["$",parseFloat(P).toLocaleString("es-CO")]})]})]}),v&&d.jsxs("div",{className:"mt-8 p-4 bg-white rounded-lg border border-gray-200",children:[d.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Dirección de Envío"}),d.jsxs("div",{className:"text-sm text-gray-500",children:[d.jsx("p",{className:"font-medium",children:v.name}),d.jsx("p",{children:v.street}),d.jsxs("p",{children:[v.city,", ",v.state," ",v.zipCode]}),d.jsx("p",{children:v.country})]})]}),d.jsxs("div",{className:"mt-8",children:[d.jsx("h3",{className:"text-md font-medium text-gray-900 mb-4",children:"Método de Pago"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"w-full",children:v?d.jsx(fE,{style:{layout:"vertical"},createOrder:(fe,W)=>{const K=f(P);return W.order.create({purchase_units:[{amount:{value:K.toFixed(2),currency_code:"USD"}}]})},onApprove:q,onError:V}):d.jsxs("button",{disabled:!0,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white opacity-50 cursor-not-allowed",children:[d.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 38 24",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{fill:"#253b80",d:"M35.71 15.39c.27-.4.4-.87.36-1.35-.04-.48-.24-.93-.57-1.28-.33-.35-.76-.55-1.22-.56-.46 0-.89.19-1.22.53-.33.34-.52.8-.54 1.28-.02.48.12.94.4 1.33.28.39.68.67 1.14.8.46.13.95.1 1.4-.08.45-.18.84-.49 1.12-.89z"}),d.jsx("path",{fill:"#179bd7",d:"M13.34 15.96c.34-.46.52-1.02.51-1.59-.01-.57-.22-1.12-.59-1.54-.28-.42-.72-.81-1.23-.96-.51-.15-1-.08-1.46.09-.46.17-.85.49-1.11.89-.27.4-.37.93-.32 1.44.03.51.21.99.51 1.4.3.41.74.72 1.23.88.49.16 1.01.17 1.51.06.5-.12.94-.4 1.26-.78z"}),d.jsx("path",{fill:"#253b80",d:"M22.72 16.11c.41-.36.67-.87.72-1.41.05-.54-.03-1.08-.31-1.55-.28-.42-.72-.81-1.23-.96-.51-.15-1-.08-1.46.09-.46.17-.85.49-1.11.89-.26.4-.37.88-.32 1.37.05.49.27.95.61 1.31.34.36.79.6 1.28.68.49.08 1-.01 1.44-.24z"}),d.jsx("path",{fill:"#179bd7",d:"M30.21 16.26c.45-.31.75-.8.83-1.34.08-.54-.03-1.09-.31-1.55-.28-.42-.72-.81-1.23-.96-.51-.15-1-.08-1.46.09-.46.17-.85.49-1.11.89-.26.4-.37.88-.32 1.37.05.49.27.95.61 1.31.34.36.79.6 1.28.68.49.08 1-.01 1.44-.24z"}),d.jsx("path",{fill:"#253b80",d:"M5.39 16.39c.47-.23.81-.66.93-1.16.12-.5.03-1.03-.25-1.45-.28-.42-.71-.71-1.2-.82-.49-.11-1-.08-1.46.09-.46.17-.85.49-1.11.89-.26.4-.37.88-.32 1.37.05.49.27.95.61 1.31.34.36.79.6 1.28.68.49.08 1-.01 1.44-.24z"})]}),"Pagar con PayPal"]})}),d.jsxs("button",{onClick:xe,disabled:L||!v,className:`w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${L||!v?"opacity-50 cursor-not-allowed":""}`,children:[L?d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d.jsx("svg",{className:"mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pagar Contra Entrega"]})]})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsx("button",{onClick:()=>l("/cart"),className:"text-indigo-600 hover:text-indigo-500",children:"← Volver al Carrito"})})]})})]})]})})},YQ=()=>{const{currentUser:t,userRole:e,refreshUserData:r}=qi(),n=Fi(),[i,a]=_.useState({displayName:"",email:"",phone:"",profileImage:""}),[l,c]=_.useState({currentPassword:"",newPassword:"",confirmNewPassword:""}),[f,h]=_.useState([]),[p,g]=_.useState({id:Date.now(),name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1}),[v,b]=_.useState(null),[A,E]=_.useState({id:null,name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1}),[S,N]=_.useState("profile"),[C,j]=_.useState(!0),[L,z]=_.useState(!1),[M,I]=_.useState(!1),[P,R]=_.useState(!1);_.useEffect(()=>{(async()=>{if(!t){n("/login");return}try{const oe=wt(Re,"users",t.uid),ye=await ya(oe);if(ye.exists()){const we=ye.data();a({displayName:we.displayName||t.displayName||"",email:t.email,phone:we.phone||"",profileImage:we.profileImage||t.photoURL||""}),h(we.addresses||[])}else a({displayName:t.displayName||"",email:t.email,phone:"",profileImage:t.photoURL||""}),h([])}catch(oe){console.error("Error loading profile:",oe),Ie.fire({title:"Error",text:"Error al cargar el perfil",icon:"error",confirmButtonText:"Aceptar"})}finally{j(!1)}})()},[t,n]);const U=Q=>{const{name:oe,value:ye}=Q.target;a(we=>({...we,[oe]:ye}))},B=Q=>{const{name:oe,value:ye}=Q.target;c(we=>({...we,[oe]:ye}))},q=Q=>{const{name:oe,value:ye}=Q.target;g(we=>({...we,[oe]:ye}))},V=Q=>{const{name:oe,value:ye}=Q.target;E(we=>({...we,[oe]:ye}))},xe=Q=>{const oe=Q.target.files[0];if(oe){if(oe.size>2*1024*1024){Ie.fire({title:"Archivo muy grande",text:"La imagen debe ser menor a 2MB",icon:"warning",confirmButtonText:"Aceptar"});return}if(!oe.type.match("image.*")){Ie.fire({title:"Tipo de archivo inválido",text:"Por favor selecciona una imagen",icon:"warning",confirmButtonText:"Aceptar"});return}const ye=new FileReader;ye.onload=we=>{a(Le=>({...Le,profileImage:we.target.result}))},ye.readAsDataURL(oe)}},fe=async Q=>{Q.preventDefault(),z(!0);try{const oe=wt(Re,"users",t.uid),ye=await ya(oe);let we={...i,updatedAt:new Date};if(ye.exists()){const Le=ye.data();Le.hasOwnProperty("role")&&(we.role=Le.role),Le.hasOwnProperty("createdAt")&&(we.createdAt=Le.createdAt),Le.hasOwnProperty("addresses")&&(we.addresses=Le.addresses)}else we.role="customer",we.createdAt=new Date,we.addresses=[];await ml(oe,we),console.log("Profile saved, refreshing user data"),r(),Ie.fire({title:"Perfil actualizado",text:"Tu perfil se ha actualizado correctamente",icon:"success",confirmButtonText:"Aceptar"})}catch(oe){console.error("Error saving profile:",oe),Ie.fire({title:"Error",text:"Error al guardar el perfil: "+oe.message,icon:"error",confirmButtonText:"Aceptar"})}finally{z(!1)}},W=async Q=>{if(Q.preventDefault(),I(!0),l.newPassword!==l.confirmNewPassword){Ie.fire({title:"Error",text:"Las contraseñas nuevas no coinciden",icon:"error",confirmButtonText:"Aceptar"}),I(!1);return}if(l.newPassword.length<6){Ie.fire({title:"Error",text:"La nueva contraseña debe tener al menos 6 caracteres",icon:"error",confirmButtonText:"Aceptar"}),I(!1);return}try{const oe=Uc.credential(t.email,l.currentPassword);await zz(t,oe),await Kz(t,l.newPassword),Ie.fire({title:"Contraseña actualizada",text:"Tu contraseña se ha actualizado correctamente",icon:"success",confirmButtonText:"Aceptar"}),c({currentPassword:"",newPassword:"",confirmNewPassword:""})}catch(oe){console.error("Error changing password:",oe);let ye="Error al cambiar la contraseña";switch(oe.code){case"auth/wrong-password":ye="La contraseña actual es incorrecta";break;case"auth/too-many-requests":ye="Demasiados intentos. Por favor, inténtalo más tarde";break;default:ye="Error al cambiar la contraseña: "+oe.message}Ie.fire({title:"Error",text:ye,icon:"error",confirmButtonText:"Aceptar"})}finally{I(!1)}},K=async Q=>{if(Q.preventDefault(),R(!0),!p.name||!p.street||!p.city||!p.state||!p.zipCode||!p.country){Ie.fire({title:"Error",text:"Por favor completa todos los campos de la dirección",icon:"error",confirmButtonText:"Aceptar"}),R(!1);return}try{const oe=wt(Re,"users",t.uid),ye={...p,id:Date.now()};if(f.length===0||p.isDefault){ye.isDefault=!0;const we=f.map(Le=>({...Le,isDefault:!1}));h([...we,ye])}else h([...f,ye]);await oa(oe,{addresses:pP(ye)}),Ie.fire({title:"Dirección agregada",text:"La dirección se ha agregado correctamente",icon:"success",confirmButtonText:"Aceptar"}),g({id:Date.now(),name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1})}catch(oe){console.error("Error adding address:",oe),Ie.fire({title:"Error",text:"Error al agregar la dirección: "+oe.message,icon:"error",confirmButtonText:"Aceptar"})}finally{R(!1)}},le=Q=>{b(Q.id),E({...Q})},pe=()=>{b(null),E({id:null,name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1})},$=async Q=>{if(Q.preventDefault(),R(!0),!A.name||!A.street||!A.city||!A.state||!A.zipCode||!A.country){Ie.fire({title:"Error",text:"Por favor completa todos los campos de la dirección",icon:"error",confirmButtonText:"Aceptar"}),R(!1);return}try{const oe=wt(Re,"users",t.uid),ye=f.find(Le=>Le.id===A.id);ye&&await oa(oe,{addresses:gP(ye)});const we={...A};await oa(oe,{addresses:pP(we)}),h(f.map(Le=>Le.id===A.id?we:Le)),Ie.fire({title:"Dirección actualizada",text:"La dirección se ha actualizado correctamente",icon:"success",confirmButtonText:"Aceptar"}),b(null),E({id:null,name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1})}catch(oe){console.error("Error updating address:",oe),Ie.fire({title:"Error",text:"Error al actualizar la dirección: "+oe.message,icon:"error",confirmButtonText:"Aceptar"})}finally{R(!1)}},Y=async Q=>{Ie.fire({title:"¿Estás seguro?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async oe=>{if(oe.isConfirmed)try{const ye=wt(Re,"users",t.uid),we=f.find(Le=>Le.id===Q);we&&(await oa(ye,{addresses:gP(we)}),h(f.filter(Le=>Le.id!==Q)),Ie.fire({title:"Dirección eliminada",text:"La dirección se ha eliminado correctamente",icon:"success",confirmButtonText:"Aceptar"}))}catch(ye){console.error("Error deleting address:",ye),Ie.fire({title:"Error",text:"Error al eliminar la dirección: "+ye.message,icon:"error",confirmButtonText:"Aceptar"})}})},te=async Q=>{try{const oe=wt(Re,"users",t.uid),ye=f.map(we=>({...we,isDefault:we.id===Q}));h(ye),await oa(oe,{addresses:ye}),Ie.fire({title:"Dirección predeterminada",text:"La dirección se ha establecido como predeterminada",icon:"success",confirmButtonText:"Aceptar"})}catch(oe){console.error("Error setting default address:",oe),Ie.fire({title:"Error",text:"Error al establecer la dirección predeterminada: "+oe.message,icon:"error",confirmButtonText:"Aceptar"})}};return C?d.jsx("div",{children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})})}):d.jsx("div",{children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsxs("div",{className:"max-w-5xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Mi Perfil"}),d.jsx("div",{className:"border-b border-gray-200 mb-8",children:d.jsxs("nav",{className:"-mb-px flex space-x-8",children:[d.jsx("button",{onClick:()=>N("profile"),className:`py-4 px-1 border-b-2 font-medium text-sm ${S==="profile"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Perfil"}),d.jsx("button",{onClick:()=>N("security"),className:`py-4 px-1 border-b-2 font-medium text-sm ${S==="security"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Seguridad"}),d.jsx("button",{onClick:()=>N("addresses"),className:`py-4 px-1 border-b-2 font-medium text-sm ${S==="addresses"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Direcciones"})]})}),S==="profile"&&d.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:d.jsx("div",{className:"px-6 py-8",children:d.jsxs("form",{onSubmit:fe,children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Foto de Perfil"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0",children:i.profileImage?d.jsx("img",{src:i.profileImage,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-gray-300"}):d.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 border-2 border-gray-300 flex items-center justify-center",children:d.jsx("span",{className:"text-gray-500 text-3xl font-bold",children:i.displayName?.charAt(0)||i.email?.charAt(0)||"U"})})}),d.jsxs("div",{className:"ml-6",children:[d.jsxs("label",{className:"block",children:[d.jsx("span",{className:"px-4 py-2 bg-white border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 cursor-pointer",children:"Cambiar foto"}),d.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:xe})]}),d.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"JPG, GIF o PNG. Tamaño máximo 2MB"})]})]})]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información Personal"}),d.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Nombre Completo"}),d.jsx("input",{type:"text",name:"displayName",id:"displayName",value:i.displayName,onChange:U,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo Electrónico"}),d.jsx("input",{type:"email",name:"email",id:"email",value:i.email,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 bg-gray-100"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"El correo no puede ser modificado"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Teléfono"}),d.jsx("input",{type:"tel",name:"phone",id:"phone",value:i.phone,onChange:U,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Rol"}),d.jsx("input",{type:"text",name:"role",id:"role",value:e||"customer",disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 bg-gray-100"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"El rol no puede ser modificado"})]})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{type:"submit",disabled:L,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:L?"Guardando...":"Guardar Cambios"})})]})})}),S==="security"&&d.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:d.jsxs("div",{className:"px-6 py-8",children:[d.jsxs("form",{onSubmit:W,children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cambiar Contraseña"}),d.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:d.jsxs("div",{children:[d.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Contraseña Actual"}),d.jsx("input",{type:"password",name:"currentPassword",id:"currentPassword",value:l.currentPassword,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})}),d.jsxs("div",{className:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"Nueva Contraseña"}),d.jsx("input",{type:"password",name:"newPassword",id:"newPassword",value:l.newPassword,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirmNewPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmar Nueva Contraseña"}),d.jsx("input",{type:"password",name:"confirmNewPassword",id:"confirmNewPassword",value:l.confirmNewPassword,onChange:B,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{type:"submit",disabled:M,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:M?"Guardando...":"Cambiar Contraseña"})})]}),d.jsxs("div",{className:"mt-12",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Dispositivos Activos"}),d.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:d.jsx("svg",{className:"h-6 w-6 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Este dispositivo"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Última actividad: Ahora mismo"})]}),d.jsx("div",{className:"ml-auto",children:d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Activo"})})]})}),d.jsx("div",{className:"mt-4 text-sm text-gray-500",children:d.jsx("p",{children:"Para seguridad adicional, si ves un dispositivo que no reconoces, cierra la sesión en todos los dispositivos y cambia tu contraseña."})})]})]})}),S==="addresses"&&d.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:d.jsxs("div",{className:"px-6 py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:v?"Editar Dirección":"Agregar Nueva Dirección"}),d.jsxs("form",{onSubmit:v?$:K,children:[d.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"addressName",className:"block text-sm font-medium text-gray-700",children:"Nombre de la Dirección"}),d.jsx("input",{type:"text",name:"name",id:"addressName",value:v?A.name:p.name,onChange:v?V:q,placeholder:"Ej: Casa, Trabajo",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"addressStreet",className:"block text-sm font-medium text-gray-700",children:"Calle y Número"}),d.jsx("input",{type:"text",name:"street",id:"addressStreet",value:v?A.street:p.street,onChange:v?V:q,placeholder:"Ej: Av. Principal 123",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"addressCity",className:"block text-sm font-medium text-gray-700",children:"Ciudad"}),d.jsx("input",{type:"text",name:"city",id:"addressCity",value:v?A.city:p.city,onChange:v?V:q,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"addressState",className:"block text-sm font-medium text-gray-700",children:"Estado/Provincia"}),d.jsx("input",{type:"text",name:"state",id:"addressState",value:v?A.state:p.state,onChange:v?V:q,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"addressZipCode",className:"block text-sm font-medium text-gray-700",children:"Código Postal"}),d.jsx("input",{type:"text",name:"zipCode",id:"addressZipCode",value:v?A.zipCode:p.zipCode,onChange:v?V:q,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"addressCountry",className:"block text-sm font-medium text-gray-700",children:"País"}),d.jsx("input",{type:"text",name:"country",id:"addressCountry",value:v?A.country:p.country,onChange:v?V:q,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"addressIsDefault",name:"isDefault",type:"checkbox",checked:v?A.isDefault:p.isDefault,onChange:Q=>v?E(oe=>({...oe,isDefault:Q.target.checked})):g(oe=>({...oe,isDefault:Q.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"addressIsDefault",className:"ml-2 block text-sm text-gray-900",children:"Establecer como dirección predeterminada"})]})]}),d.jsxs("div",{className:"mt-6 flex space-x-3",children:[d.jsx("button",{type:"submit",disabled:P,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:P?"Guardando...":v?"Guardar Cambios":"Agregar Dirección"}),v&&d.jsx("button",{type:"button",onClick:pe,className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"})]})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Direcciones Guardadas"}),f.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsxs("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay direcciones"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Agrega tu primera dirección usando el formulario de arriba."})]}):d.jsx("div",{className:"space-y-4",children:f.map(Q=>d.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-900",children:Q.name}),d.jsx("p",{className:"text-sm text-gray-500",children:Q.street}),d.jsxs("p",{className:"text-sm text-gray-500",children:[Q.city,", ",Q.state," ",Q.zipCode]}),d.jsx("p",{className:"text-sm text-gray-500",children:Q.country}),Q.isDefault&&d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 mt-2",children:"Predeterminada"})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>le(Q),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200",children:"Editar"}),d.jsx("button",{onClick:()=>te(Q.id),disabled:Q.isDefault,className:`inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 ${Q.isDefault?"bg-gray-100":"bg-gradient-to-r from-indigo-100 to-purple-100 hover:from-indigo-200 hover:to-purple-200"}`,children:Q.isDefault?"Predeterminada":"Hacer Predeterminada"}),d.jsx("button",{onClick:()=>Y(Q.id),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200",children:"Eliminar"})]})]})},Q.id))})]})]})})]})})})},XQ=()=>{const[t,e]=_.useState(""),[r,n]=_.useState(""),[i,a]=_.useState(""),[l,c]=_.useState(!1),f=Fi(),{currentUser:h}=qi();ct.useEffect(()=>{h&&f("/home")},[h,f]);const p=async()=>{a(""),c(!0);try{const v=new Ma,A=(await pR(ha,v)).user,E=wt(Re,"users",A.uid);(await ya(E)).exists()||(await ml(E,{email:A.email,displayName:A.displayName||"",profileImage:A.photoURL||"",createdAt:new Date,role:"customer"}),console.log("User info stored successfully for Google user")),f("/home")}catch(v){console.error("Google sign-in error:",v),a("Error al iniciar sesión con Google. Por favor, inténtalo de nuevo.")}finally{c(!1)}},g=async v=>{v.preventDefault(),a(""),c(!0);try{await Hz(ha,t,r),f("/home")}catch(b){switch(b.code){case"auth/user-not-found":a("No se encontró una cuenta con ese correo electrónico.");break;case"auth/wrong-password":a("Contraseña incorrecta.");break;case"auth/invalid-email":a("El correo electrónico no es válido.");break;case"auth/user-disabled":a("Esta cuenta ha sido deshabilitada.");break;default:a("Error al iniciar sesión. Por favor, verifica tus credenciales.")}}finally{c(!1)}};return d.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 py-12 bg-white sm:px-6 lg:px-8",children:d.jsxs("div",{className:"w-full max-w-md space-y-8",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-full",children:d.jsx("svg",{className:"w-6 h-6 text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Login"}),d.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"See your growth and get consulting support!"})]}),i&&d.jsx("div",{className:"relative px-4 py-3 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:i})}),d.jsx("div",{children:d.jsxs("button",{onClick:p,disabled:l,className:"flex items-center justify-center w-full gap-3 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50",children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),d.jsx("span",{children:"Sign in with Google"})]})}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 text-gray-500 bg-white",children:"or Sign in with Email"})})]}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email*"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"mail@website.com",value:t,onChange:v=>e(v.target.value),disabled:l})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password*"}),d.jsx("div",{className:"text-sm",children:d.jsx(De,{to:"/reset-password",className:"font-medium text-purple-600 hover:text-purple-500",children:"Forgot password?"})})]}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Min. 8 character",value:r,onChange:v=>n(v.target.value),disabled:l})})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),d.jsx("label",{htmlFor:"remember-me",className:"block ml-2 text-sm text-gray-700",children:"Remember me"})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:l,className:"relative flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-purple-600 border border-transparent rounded-full group hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:l?"Logging in...":"Login"})})]}),d.jsx("div",{className:"text-center",children:d.jsxs("p",{className:"text-sm text-gray-500",children:["Not registered yet?"," ",d.jsx(De,{to:"/register",className:"font-medium text-purple-600 hover:text-purple-500",children:"Create an Account"})]})}),d.jsx("div",{className:"mt-8 text-center",children:d.jsx("p",{className:"text-xs text-gray-500",children:"©2020 Felix All rights reserved."})})]})})},QQ=()=>{const[t,e]=_.useState(""),[r,n]=_.useState(""),[i,a]=_.useState(""),[l,c]=_.useState(""),[f,h]=_.useState(""),[p,g]=_.useState(!1),v=Fi(),{firebaseError:b}=qi(),A=async()=>{c(""),h(""),g(!0);try{const S=new Ma,C=(await pR(ha,S)).user,j=wt(Re,"users",C.uid);(await ya(j)).exists()||(await ml(j,{email:C.email,displayName:C.displayName||"",profileImage:C.photoURL||"",createdAt:new Date,role:"customer"}),console.log("User info stored successfully for Google user")),v("/home")}catch(S){console.error("Google sign-up error:",S),c("Error al registrarse con Google. Por favor, inténtalo de nuevo.")}finally{g(!1)}},E=async S=>{if(S.preventDefault(),c(""),h(""),b){c(b);return}if(!ha||!Re){c("Firebase no está configurado correctamente. Por favor, verifica tu archivo .env");return}if(r!==i){c("Las contraseñas no coinciden");return}if(r.length<6){c("La contraseña debe tener al menos 6 caracteres");return}g(!0);try{console.log("Attempting to create user with email:",t);const C=(await qz(ha,t,r)).user;console.log("User created successfully:",C),console.log("Storing user info in Firestore..."),await ml(wt(Re,"users",C.uid),{email:C.email,displayName:"",profileImage:"",createdAt:new Date,role:"customer"}),console.log("User info stored successfully"),h("Cuenta creada exitosamente. Redirigiendo..."),setTimeout(()=>{v("/home")},2e3)}catch(N){switch(console.error("Registration error:",N),console.error("Error code:",N.code),console.error("Error message:",N.message),N.code){case"auth/email-already-in-use":c("Este correo electrónico ya está registrado.");break;case"auth/invalid-email":c("El correo electrónico no es válido.");break;case"auth/operation-not-allowed":c("El registro de usuarios está deshabilitado. Por favor, habilita la autenticación en la consola de Firebase.");break;case"auth/weak-password":c("La contraseña es muy débil.");break;default:c(`Error al crear la cuenta: ${N.message}`)}}finally{g(!1)}};return d.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 py-12 bg-white sm:px-6 lg:px-8",children:d.jsxs("div",{className:"w-full max-w-md space-y-8",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-full",children:d.jsx("svg",{className:"w-6 h-6 text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Register"}),d.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Create an account to get started!"})]}),b&&d.jsxs("div",{className:"relative px-4 py-3 text-yellow-700 bg-yellow-100 border border-yellow-400 rounded",role:"alert",children:[d.jsx("strong",{className:"font-bold",children:"Configuración incompleta! "}),d.jsx("span",{className:"block sm:inline",children:b})]}),l&&d.jsx("div",{className:"relative px-4 py-3 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:l})}),f&&d.jsx("div",{className:"relative px-4 py-3 text-green-700 bg-green-100 border border-green-400 rounded",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:f})}),d.jsx("div",{children:d.jsxs("button",{onClick:A,disabled:p||b,className:"flex items-center justify-center w-full gap-3 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50",children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),d.jsx("span",{children:"Sign up with Google"})]})}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 text-gray-500 bg-white",children:"or Sign up with Email"})})]}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:E,children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email*"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"mail@website.com",value:t,onChange:S=>e(S.target.value),disabled:b||p})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password*"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Min. 8 character",value:r,onChange:S=>n(S.target.value),disabled:b||p})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm Password*"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Confirm your password",value:i,onChange:S=>a(S.target.value),disabled:b||p})})]})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:p||b,className:"relative flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-purple-600 border border-transparent rounded-full group hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:p?"Creating Account...":"Create Account"})})]}),d.jsx("div",{className:"text-center",children:d.jsxs("p",{className:"text-sm text-gray-500",children:["Already have an account?"," ",d.jsx(De,{to:"/login",className:"font-medium text-purple-600 hover:text-purple-500",children:"Sign in"})]})}),d.jsx("div",{className:"mt-8 text-center",children:d.jsx("p",{className:"text-xs text-gray-500",children:"©2020 Felix All rights reserved."})})]})})},ZQ=()=>{const[t,e]=_.useState(""),[r,n]=_.useState(""),[i,a]=_.useState(""),[l,c]=_.useState(!1);Fi();const f=async h=>{h.preventDefault(),a(""),n(""),c(!0);try{await Fz(ha,t),n("Se ha enviado un correo para restablecer tu contraseña. Revisa tu bandeja de entrada.")}catch(p){switch(p.code){case"auth/user-not-found":a("No se encontró una cuenta con ese correo electrónico.");break;case"auth/invalid-email":a("El correo electrónico no es válido.");break;default:a("Error al enviar el correo de restablecimiento. Por favor, inténtalo de nuevo.")}}finally{c(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white py-12 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full space-y-8",children:[d.jsxs("div",{children:[d.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center",children:d.jsx("svg",{className:"h-6 w-6 text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),d.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Restablecer Contraseña"}),d.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Ingresa tu correo electrónico y te enviaremos un enlace para restablecer tu contraseña."})]}),r&&d.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:r})}),i&&d.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:i})}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700",children:"Correo Electrónico"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"mail@website.com",value:t,onChange:h=>e(h.target.value),disabled:l})})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-full text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:l?"Enviando...":"Enviar Enlace de Restablecimiento"})})]}),d.jsx("div",{className:"text-center",children:d.jsx(De,{to:"/login",className:"font-medium text-purple-600 hover:text-purple-500",children:"← Volver al inicio de sesión"})}),d.jsx("div",{className:"mt-8 text-center",children:d.jsx("p",{className:"text-xs text-gray-500",children:"©2020 Felix All rights reserved."})})]})})},YP=async()=>{try{const t=kt(Re,"users");return(await Yt(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error fetching users:",t),t}},JQ=async(t,e)=>{try{const r=wt(Re,"users",t);return await oa(r,{role:e}),{id:t,role:e}}catch(r){throw console.error("Error updating user role:",r),r}},Zp=t=>{switch(t){case"pending":return"Pendiente";case"processing":return"Procesando";case"shipped":return"Enviado";case"delivered":return"Entregado";case"cancelled":return"Cancelado";default:return t}},zb=(t,e="light")=>{if(e==="dark")switch(t){case"pending":return"bg-yellow-900 text-yellow-200";case"processing":return"bg-blue-900 text-blue-200";case"shipped":return"bg-indigo-900 text-indigo-200";case"delivered":return"bg-green-900 text-green-200";case"cancelled":return"bg-red-900 text-red-200";default:return"bg-gray-700 text-gray-200"}else switch(t){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},eZ=async t=>{try{const e=kt(Re,"orders"),r=ga(e,Qs("userId","==",t),wl("createdAt","desc"));return(await Yt(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){if(console.error("Error fetching orders:",e),e.code==="failed-precondition"||e.message&&e.message.includes("index"))try{const r=kt(Re,"orders"),n=ga(r,Qs("userId","==",t));return(await Yt(n)).docs.map(c=>({id:c.id,...c.data()})).sort((c,f)=>{const h=c.createdAt?.toDate?c.createdAt.toDate():new Date(c.createdAt);return(f.createdAt?.toDate?f.createdAt.toDate():new Date(f.createdAt))-h})}catch(r){throw console.error("Error fetching orders without index:",r),r}else throw e}},tZ=async(t,e)=>{try{const r=wt(Re,"orders",t);return await oa(r,{orderStatus:e,updatedAt:new Date}),{id:t,status:e}}catch(r){throw console.error("Error updating order status:",r),r}},rZ=async()=>{try{const t=kt(Re,"orders"),e=ga(t,wl("createdAt","desc"));return(await Yt(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){if(console.error("Error fetching all orders:",t),t.code==="failed-precondition"||t.message&&t.message.includes("index"))try{const e=kt(Re,"orders");return(await Yt(e)).docs.map(a=>({id:a.id,...a.data()})).sort((a,l)=>{const c=a.createdAt?.toDate?a.createdAt.toDate():new Date(a.createdAt);return(l.createdAt?.toDate?l.createdAt.toDate():new Date(l.createdAt))-c})}catch(e){throw console.error("Error fetching all orders without index:",e),e}else throw t}},nZ=async(t,e)=>{try{const r=kt(Re,"orders"),n=ga(r,Qs("createdAt",">=",t),Qs("createdAt","<=",e),wl("createdAt","desc")),a=(await Yt(n)).docs.map(p=>({id:p.id,...p.data()})),l={};let c=0,f=0;return a.forEach(p=>{const g=p.createdAt.toDate().toISOString().split("T")[0];l[g]||(l[g]={date:g,totalSales:0,orderCount:0,revenue:0});const v=p.totalAmount||0;l[g].totalSales+=v,l[g].orderCount+=1,l[g].revenue+=v,c+=v,f+=1}),{salesData:Object.values(l).sort((p,g)=>new Date(p.date)-new Date(g.date)),totalRevenue:c,totalOrders:f,averageOrderValue:f>0?c/f:0}}catch(r){throw console.error("Error fetching sales data:",r),r}},iZ=async()=>{try{const t=kt(Re,"products"),r=(await Yt(t)).docs.map(h=>({id:h.id,...h.data()})),n=kt(Re,"orders"),a=(await Yt(n)).docs.map(h=>({id:h.id,...h.data()})),l={};r.forEach(h=>{l[h.id]=h.category||"Sin categoría"});const c={};return a.forEach(h=>{h.items&&Array.isArray(h.items)&&h.items.forEach(p=>{const g=l[p.productId]||"Sin categoría";c[g]||(c[g]={category:g,sales:0,quantity:0,revenue:0});const v=(p.price||0)*(p.quantity||0);c[g].sales+=v,c[g].quantity+=p.quantity||0,c[g].revenue+=v})}),Object.values(c).sort((h,p)=>p.revenue-h.revenue)}catch(t){throw console.error("Error fetching sales by category:",t),t}},aZ=async()=>{try{const t=kt(Re,"orders"),r=(await Yt(t)).docs.map(a=>({id:a.id,...a.data()})),n={pending:0,processing:0,shipped:0,delivered:0,cancelled:0};return r.forEach(a=>{const l=a.orderStatus||"pending";l in n&&n[l]++}),Object.entries(n).map(([a,l])=>({status:a,count:l}))}catch(t){throw console.error("Error fetching order status distribution:",t),t}},sZ=async(t=10)=>{try{const e=kt(Re,"products"),n=(await Yt(e)).docs.map(p=>({id:p.id,...p.data()})),i=kt(Re,"orders"),l=(await Yt(i)).docs.map(p=>({id:p.id,...p.data()})),c={};n.forEach(p=>{c[p.id]=p.name||"Producto sin nombre"});const f={};return l.forEach(p=>{p.items&&Array.isArray(p.items)&&p.items.forEach(g=>{const v=g.productId;f[v]||(f[v]={productId:v,productName:c[v]||"Producto desconocido",sales:0,quantity:0,revenue:0});const b=(g.price||0)*(g.quantity||0);f[v].sales+=b,f[v].quantity+=g.quantity||0,f[v].revenue+=b})}),Object.values(f).sort((p,g)=>g.revenue-p.revenue).slice(0,t)}catch(e){throw console.error("Error fetching top selling products:",e),e}},oZ=async(t,e)=>{try{const r=kt(Re,"users"),n=ga(r,Qs("createdAt",">=",t),Qs("createdAt","<=",e),wl("createdAt","desc")),a=(await Yt(n)).docs.map(h=>({id:h.id,...h.data()})),l={};let c=0;return a.forEach(h=>{const p=h.createdAt.toDate().toISOString().split("T")[0];l[p]||(l[p]={date:p,registrations:0}),l[p].registrations+=1,c+=1}),{registrationData:Object.values(l).sort((h,p)=>new Date(h.date)-new Date(p.date)),totalUsers:c}}catch(r){throw console.error("Error fetching user registration data:",r),r}},lZ=async()=>{try{const t=kt(Re,"orders"),r=(await Yt(t)).docs.map(a=>({id:a.id,...a.data()})),n={};return r.forEach(a=>{const l=a.paymentMethod||"Desconocido",c=a.totalAmount||0;n[l]||(n[l]={method:l,revenue:0,count:0}),n[l].revenue+=c,n[l].count+=1}),Object.values(n)}catch(t){throw console.error("Error fetching revenue by payment method:",t),t}},cZ=({theme:t="light"})=>{const[e,r]=_.useState([]),[n,i]=_.useState(!0),[a,l]=_.useState(null),[c,f]=_.useState(""),[h,p]=_.useState({code:"",discountType:"percentage",discountValue:"",isActive:!0,expiryDate:""}),[g,v]=_.useState(null),b=kt(Re,"coupons"),A=async()=>{try{const R=ga(b,wl("createdAt","desc")),U=await Yt(R);r(U.docs.map(B=>({...B.data(),id:B.id})))}catch(R){console.error("Firebase error fetching coupons: ",R),l("No se pudieron cargar los cupones. Revisa las reglas de seguridad de Firebase y la consola del navegador.")}i(!1)};_.useEffect(()=>{A()},[]);const E=R=>{f(R),setTimeout(()=>f(""),3e3)},S=R=>{const{name:U,value:B,type:q,checked:V}=R.target;p({...h,[U]:q==="checkbox"?V:B})},N=R=>{const{name:U,value:B,type:q,checked:V}=R.target;v({...g,[U]:q==="checkbox"?V:B})},C=async R=>{if(R.preventDefault(),!h.code||!h.discountValue){l("Por favor, completa todos los campos obligatorios.");return}if(h.discountType==="percentage"&&(h.discountValue<1||h.discountValue>100)){l("El porcentaje de descuento debe estar entre 1 y 100.");return}try{const U={code:h.code.toUpperCase(),discountType:h.discountType,discountValue:parseFloat(h.discountValue),isActive:h.isActive,createdAt:new Date,...h.expiryDate&&{expiryDate:new Date(h.expiryDate)}};await Ny(b,U),p({code:"",discountType:"percentage",discountValue:"",isActive:!0,expiryDate:""}),l(null),E("Cupón creado exitosamente!"),A()}catch(U){console.error("Firebase error creating coupon: ",U),l("Error al crear el cupón. ¿Tienes permisos de escritura?")}},j=async(R,U)=>{if(window.confirm(`¿Estás seguro de que quieres eliminar el cupón "${U}"?`))try{const q=wt(Re,"coupons",R);await Y_(q),r(e.filter(V=>V.id!==R)),E("Cupón eliminado exitosamente!")}catch(q){console.error("Firebase error deleting coupon: ",q),l("Error al eliminar el cupón. ¿Tienes permisos de escritura?")}},L=async R=>{if(R.preventDefault(),!g.code||!g.discountValue){l("Por favor, completa todos los campos obligatorios.");return}if(g.discountType==="percentage"&&(g.discountValue<1||g.discountValue>100)){l("El porcentaje de descuento debe estar entre 1 y 100.");return}try{const U=wt(Re,"coupons",g.id),B={code:g.code.toUpperCase(),discountType:g.discountType,discountValue:parseFloat(g.discountValue),isActive:g.isActive,updatedAt:new Date,...g.expiryDate&&{expiryDate:new Date(g.expiryDate)}};await oa(U,B),v(null),l(null),E("Cupón actualizado exitosamente!"),A()}catch(U){console.error("Firebase error updating coupon: ",U),l("Error al actualizar el cupón. ¿Tienes permisos de escritura?")}},z=R=>R?R instanceof Date?R.toLocaleDateString("es-CO"):R.toDate?R.toDate().toLocaleDateString("es-CO"):"N/A":"N/A",M=R=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(R||0),P={container:t==="dark"?"bg-gray-800 text-white":"bg-white text-gray-900",header:t==="dark"?"border-gray-700 text-white":"border-gray-200 text-gray-900",input:t==="dark"?"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-indigo-500 focus:border-indigo-500",buttonPrimary:t==="dark"?"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 text-white":"bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500 text-white",buttonSecondary:t==="dark"?"bg-gray-700 border-gray-600 text-gray-200 hover:bg-gray-600 focus:ring-blue-500":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-indigo-500",tableHeader:t==="dark"?"bg-gray-700 text-gray-300":"bg-gray-50 text-gray-500",tableRow:t==="dark"?"bg-gray-800 hover:bg-gray-700 divide-gray-700":"bg-white hover:bg-gray-50 divide-gray-200",badge:{percentage:t==="dark"?"bg-blue-900 text-blue-200":"bg-blue-100 text-blue-800",active:t==="dark"?"bg-green-900 text-green-200":"bg-green-100 text-green-800",inactive:t==="dark"?"bg-red-900 text-red-200":"bg-red-100 text-red-800"},successMessage:t==="dark"?"bg-green-900 border-green-700 text-green-200":"bg-green-100 border-green-400 text-green-700",errorMessage:t==="dark"?"bg-red-900 border-red-700 text-red-200":"bg-red-100 border-red-400 text-red-700"};return d.jsxs("div",{className:"mt-8",children:[c&&d.jsxs("div",{className:`relative px-4 py-3 mb-4 rounded ${P.successMessage}`,role:"alert",children:[d.jsx("strong",{className:"font-bold",children:"Éxito! "}),d.jsx("span",{className:"block sm:inline",children:c})]}),a&&d.jsxs("div",{className:`relative px-4 py-3 mb-4 rounded ${P.errorMessage}`,role:"alert",children:[d.jsx("strong",{className:"font-bold",children:"Error! "}),d.jsx("span",{className:"block sm:inline",children:a})]}),d.jsxs("div",{className:`rounded-lg shadow overflow-hidden mb-8 ${P.container}`,children:[d.jsx("div",{className:`px-4 py-5 border-b sm:px-6 ${P.header}`,children:d.jsx("h3",{className:"text-lg font-medium leading-6",children:g?"Editar Cupón":"Agregar Nuevo Cupón"})}),d.jsx("div",{className:"px-4 py-5 sm:p-6",children:d.jsxs("form",{onSubmit:g?L:C,children:[d.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"code",className:`block text-sm font-medium ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"Código del Cupón *"}),d.jsx("input",{type:"text",name:"code",id:"code",required:!0,value:g?g.code:h.code,onChange:g?N:S,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none sm:text-sm ${P.input}`,placeholder:"Ej: DESCUENTO10"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"discountType",className:`block text-sm font-medium ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"Tipo de Descuento *"}),d.jsxs("select",{name:"discountType",id:"discountType",required:!0,value:g?g.discountType:h.discountType,onChange:g?N:S,className:`mt-1 block w-full rounded-md shadow-sm py-2 px-3 focus:outline-none sm:text-sm ${P.input}`,children:[d.jsx("option",{value:"percentage",className:t==="dark"?"bg-gray-700":"bg-white",children:"Porcentaje"}),d.jsx("option",{value:"fixed",className:t==="dark"?"bg-gray-700":"bg-white",children:"Monto Fijo"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"discountValue",className:`block text-sm font-medium ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"Valor del Descuento *"}),d.jsx("input",{type:"number",name:"discountValue",id:"discountValue",required:!0,min:"0",step:"0.01",value:g?g.discountValue:h.discountValue,onChange:g?N:S,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none sm:text-sm ${P.input}`,placeholder:g?g.discountType==="percentage"?"Ej: 15":"Ej: 5000":h.discountType==="percentage"?"Ej: 15":"Ej: 5000"}),d.jsx("p",{className:`mt-1 text-sm ${t==="dark"?"text-gray-400":"text-gray-500"}`,children:g?g.discountType==="percentage"?"Porcentaje de descuento (1-100%)":"Monto fijo en COP":h.discountType==="percentage"?"Porcentaje de descuento (1-100%)":"Monto fijo en COP"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"expiryDate",className:`block text-sm font-medium ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"Fecha de Expiración"}),d.jsx("input",{type:"date",name:"expiryDate",id:"expiryDate",value:g?g.expiryDate:h.expiryDate,onChange:g?N:S,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none sm:text-sm ${P.input}`})]}),d.jsx("div",{className:"sm:col-span-2",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"isActive",name:"isActive",type:"checkbox",checked:g?g.isActive:h.isActive,onChange:g?N:S,className:`h-4 w-4 focus:ring-2 focus:ring-offset-2 ${t==="dark"?"text-blue-500 bg-gray-700 border-gray-600 focus:ring-blue-500 focus:ring-offset-gray-800":"text-indigo-600 border-gray-300 focus:ring-indigo-500 focus:ring-offset-white"} rounded`}),d.jsx("label",{htmlFor:"isActive",className:`ml-2 block text-sm ${t==="dark"?"text-gray-300":"text-gray-900"}`,children:"Cupón Activo"})]})})]}),d.jsx("div",{className:"mt-6 flex space-x-3",children:g?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"submit",className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 ${P.buttonPrimary}`,children:"Guardar Cambios"}),d.jsx("button",{type:"button",onClick:()=>v(null),className:`inline-flex justify-center py-2 px-4 border shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 ${P.buttonSecondary}`,children:"Cancelar"})]}):d.jsx("button",{type:"submit",className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 ${P.buttonPrimary}`,children:"Crear Cupón"})})]})})]}),d.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${P.container}`,children:[d.jsx("div",{className:`px-4 py-5 border-b sm:px-6 ${P.header}`,children:d.jsx("h3",{className:"text-lg font-medium leading-6",children:"Cupones Existentes"})}),d.jsx("div",{className:"px-4 py-5 sm:px-6",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y",children:[d.jsx("thead",{className:P.tableHeader,children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left uppercase",children:"Código"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left uppercase",children:"Tipo"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left uppercase",children:"Valor"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left uppercase",children:"Estado"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left uppercase",children:"Expiración"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-right uppercase",children:"Acciones"})]})}),d.jsx("tbody",{className:`divide-y ${P.tableRow}`,children:n?d.jsx("tr",{children:d.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center",children:d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:`w-6 h-6 border-b-2 rounded-full animate-spin ${t==="dark"?"border-gray-400":"border-gray-900"}`})})})}):a?d.jsx("tr",{children:d.jsx("td",{colSpan:"6",className:`px-6 py-4 text-center ${t==="dark"?"text-red-400":"text-red-500"}`,children:a})}):e.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"6",className:`px-6 py-4 text-center ${t==="dark"?"text-gray-400":"text-gray-500"}`,children:"No hay cupones disponibles"})}):e.map(R=>d.jsxs("tr",{className:t==="dark"?"hover:bg-gray-700":"hover:bg-gray-50",children:[d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${t==="dark"?"text-white":"text-gray-900"}`,children:R.code}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.badge.percentage}`,children:R.discountType==="percentage"?"Porcentaje":"Monto Fijo"})}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${t==="dark"?"text-gray-300":"text-gray-500"}`,children:R.discountType==="percentage"?`${R.discountValue}%`:M(R.discountValue)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R.isActive?d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.badge.active}`,children:"Activo"}):d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.badge.inactive}`,children:"Inactivo"})}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${t==="dark"?"text-gray-300":"text-gray-500"}`,children:R.expiryDate?z(R.expiryDate):"Nunca"}),d.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-right whitespace-nowrap",children:[d.jsx("button",{onClick:()=>v(R),className:`mr-3 ${t==="dark"?"text-blue-400 hover:text-blue-300":"text-indigo-600 hover:text-indigo-900"}`,children:"Editar"}),d.jsx("button",{onClick:()=>j(R.id,R.code),className:t==="dark"?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-900",children:"Eliminar"})]})]},R.id))})]})})})]})]})},d5=({order:t,isOpen:e,onClose:r,formatDate:n,formatCurrency:i,getOrderStatusText:a,getStatusBadgeClass:l,theme:c})=>!e||!t?null:d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto bg-black bg-opacity-50",children:d.jsx("div",{className:`relative w-full max-w-2xl mx-auto my-8 rounded-lg shadow-xl ${c==="dark"?"bg-gray-800":"bg-white"}`,children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:`text-2xl font-bold ${c==="dark"?"text-white":"text-gray-900"}`,children:"Detalles de la Orden"}),d.jsx("button",{onClick:r,className:`text-2xl font-bold ${c==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-400 hover:text-gray-500"}`,children:"×"})]}),d.jsxs("div",{className:"mt-2 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:`text-lg font-medium mb-2 ${c==="dark"?"text-white":"text-gray-900"}`,children:"Información de la Orden"}),d.jsx("div",{className:`rounded-lg p-4 ${c==="dark"?"bg-gray-700":"bg-gray-50"}`,children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:"ID de Orden"}),d.jsx("p",{className:`font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:t.id})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:"Fecha"}),d.jsx("p",{className:`font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:n(t.createdAt)})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:"Estado"}),d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c==="dark"?l(t.orderStatus||"pending","dark"):l(t.orderStatus||"pending","light")}`,children:a(t.orderStatus||"pending")})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:"Método de Pago"}),d.jsx("p",{className:`font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:t.paymentMethod||"N/A"}),d.jsx("p",{className:`text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:t.paymentStatus==="completed"?"Pagado":"Pendiente"})]})]})})]}),d.jsxs("div",{children:[d.jsx("h4",{className:`text-lg font-medium mb-2 ${c==="dark"?"text-white":"text-gray-900"}`,children:"Información del Cliente"}),d.jsx("div",{className:`rounded-lg p-4 ${c==="dark"?"bg-gray-700":"bg-gray-50"}`,children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:"Nombre"}),d.jsx("p",{className:`font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:t.userEmail||"N/A"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:"ID de Usuario"}),d.jsx("p",{className:`font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:t.userId?.substring(0,8)||"N/A"})]})]})})]}),t.address&&d.jsxs("div",{children:[d.jsx("h4",{className:`text-lg font-medium mb-2 ${c==="dark"?"text-white":"text-gray-900"}`,children:"Dirección de Envío"}),d.jsxs("div",{className:`rounded-lg p-4 ${c==="dark"?"bg-gray-700":"bg-gray-50"}`,children:[d.jsx("p",{className:`font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:t.address.name}),d.jsx("p",{className:c==="dark"?"text-gray-300":"text-gray-500",children:t.address.street}),d.jsxs("p",{className:c==="dark"?"text-gray-300":"text-gray-500",children:[t.address.city,", ",t.address.state," ",t.address.zipCode]}),d.jsx("p",{className:c==="dark"?"text-gray-300":"text-gray-500",children:t.address.country})]})]}),t.coupon&&d.jsxs("div",{children:[d.jsx("h4",{className:`text-lg font-medium mb-2 ${c==="dark"?"text-white":"text-gray-900"}`,children:"Cupón de Descuento"}),d.jsx("div",{className:`rounded-lg p-4 border ${c==="dark"?"bg-green-900 border-green-700":"bg-green-50 border-green-200"}`,children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${c==="dark"?"text-green-300":"text-gray-500"}`,children:"Código"}),d.jsx("p",{className:`font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:t.coupon.code})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${c==="dark"?"text-green-300":"text-gray-500"}`,children:"Descuento"}),d.jsx("p",{className:`font-medium ${c==="dark"?"text-green-200":"text-green-600"}`,children:t.coupon.discountType==="percentage"?`${t.coupon.discountValue}%`:i(t.coupon.discountValue)})]})]})})]}),d.jsxs("div",{children:[d.jsx("h4",{className:`text-lg font-medium mb-2 ${c==="dark"?"text-white":"text-gray-900"}`,children:"Productos"}),d.jsx("div",{className:`rounded-lg ${c==="dark"?"bg-gray-700 divide-gray-600":"bg-gray-50 divide-gray-200"} divide-y`,children:t.items?.map((f,h)=>d.jsx("div",{className:"p-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`flex-shrink-0 w-16 h-16 rounded-md overflow-hidden ${c==="dark"?"border border-gray-600":"border border-gray-200"}`,children:d.jsx("img",{src:f.imageUrl||"https://via.placeholder.com/64x64.png?text=Moño",alt:f.name,className:"w-full h-full object-center object-cover",onError:p=>{p.target.onerror=null,p.target.src="https://via.placeholder.com/64x64.png?text=Moño"}})}),d.jsxs("div",{className:"ml-4 flex-1",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("h5",{className:`font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:f.name}),d.jsx("p",{className:`font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:i(f.price*f.quantity)})]}),d.jsx("p",{className:`text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:f.category}),d.jsxs("div",{className:"flex justify-between mt-1",children:[d.jsxs("p",{className:`text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:["Cantidad: ",f.quantity]}),d.jsxs("p",{className:`text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:["Precio unitario: ",i(f.price)]})]})]})]})},h))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:`text-lg font-medium mb-2 ${c==="dark"?"text-white":"text-gray-900"}`,children:"Resumen del Pedido"}),d.jsxs("div",{className:`rounded-lg p-4 space-y-2 ${c==="dark"?"bg-gray-700":"bg-gray-50"}`,children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("p",{className:c==="dark"?"text-gray-300":"text-gray-600",children:"Subtotal"}),d.jsx("p",{className:`font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:i(t.subtotal||0)})]}),t.coupon&&d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("p",{className:c==="dark"?"text-gray-300":"text-gray-600",children:["Descuento (",t.coupon.code,")"]}),d.jsxs("p",{className:`font-medium ${c==="dark"?"text-green-200":"text-green-600"}`,children:["-",i(t.discount||0)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("p",{className:c==="dark"?"text-gray-300":"text-gray-600",children:"Envío"}),d.jsx("p",{className:`font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:"$0"})]}),d.jsxs("div",{className:`flex justify-between pt-2 border-t ${c==="dark"?"border-gray-600":"border-gray-200"}`,children:[d.jsx("p",{className:`text-lg font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:"Total"}),d.jsx("p",{className:`text-lg font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:i(t.totalAmount||0)})]})]})]})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 text-sm font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${c==="dark"?"text-gray-300 bg-gray-700 border border-gray-600 hover:bg-gray-600":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:"Cerrar"})})]})})});function f5(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=f5(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ut(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=f5(t))&&(n&&(n+=" "),n+=e);return n}var Fb={},qb={},XP;function uZ(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(qb)),qb}var Hb={},QP;function h5(){return QP||(QP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(Hb)),Hb}var Kb={},ZP;function m5(){return ZP||(ZP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}t.toKey=e})(Kb)),Kb}var Gb={},JP;function hE(){return JP||(JP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){const n=[],i=r.length;if(i===0)return n;let a=0,l="",c="",f=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const h=r[a];c?h==="\\"&&a+1<i?(a++,l+=r[a]):h===c?c="":l+=h:f?h==='"'||h==="'"?c=h:h==="]"?(f=!1,n.push(l),l=""):l+=h:h==="["?(f=!0,l&&(n.push(l),l="")):h==="."?l&&(n.push(l),l=""):l+=h,a++}return l&&n.push(l),n}t.toPath=e})(Gb)),Gb}var e4;function mE(){return e4||(e4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uZ(),r=h5(),n=m5(),i=hE();function a(c,f,h){if(c==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=c[f];return p===void 0?r.isDeepKey(f)?a(c,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const p=c[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(c,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=c[f];return p===void 0?h:p}}}function l(c,f,h){if(f.length===0)return h;let p=c;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=a})(Fb)),Fb}var Wb,t4;function dZ(){return t4||(t4=1,Wb=mE().get),Wb}var fZ=dZ();const Pc=Za(fZ);var Yb={exports:{}},Nt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r4;function hZ(){if(r4)return Nt;r4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function A(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case r:case i:case n:case f:case h:case v:return E;default:switch(E=E&&E.$$typeof,E){case l:case c:case g:case p:return E;case a:return E;default:return S}}case e:return S}}}return Nt.ContextConsumer=a,Nt.ContextProvider=l,Nt.Element=t,Nt.ForwardRef=c,Nt.Fragment=r,Nt.Lazy=g,Nt.Memo=p,Nt.Portal=e,Nt.Profiler=i,Nt.StrictMode=n,Nt.Suspense=f,Nt.SuspenseList=h,Nt.isContextConsumer=function(E){return A(E)===a},Nt.isContextProvider=function(E){return A(E)===l},Nt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Nt.isForwardRef=function(E){return A(E)===c},Nt.isFragment=function(E){return A(E)===r},Nt.isLazy=function(E){return A(E)===g},Nt.isMemo=function(E){return A(E)===p},Nt.isPortal=function(E){return A(E)===e},Nt.isProfiler=function(E){return A(E)===i},Nt.isStrictMode=function(E){return A(E)===n},Nt.isSuspense=function(E){return A(E)===f},Nt.isSuspenseList=function(E){return A(E)===h},Nt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===i||E===n||E===f||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===l||E.$$typeof===a||E.$$typeof===c||E.$$typeof===b||E.getModuleId!==void 0)},Nt.typeOf=A,Nt}var n4;function mZ(){return n4||(n4=1,Yb.exports=hZ()),Yb.exports}var pZ=mZ(),Zr=t=>t===0?0:t>0?1:-1,Wn=t=>typeof t=="number"&&t!=+t,mc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ke=t=>(typeof t=="number"||t instanceof Number)&&!Wn(t),Wa=t=>ke(t)||typeof t=="string",gZ=0,jh=t=>{var e=++gZ;return"".concat(t||"").concat(e)},An=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&typeof e!="string")return n;var a;if(mc(e)){if(r==null)return n;var l=e.indexOf("%");a=r*parseFloat(e.slice(0,l))/100}else a=+e;return Wn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},p5=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1};function jt(t,e,r){return ke(t)&&ke(e)?t+r*(e-t):e}function g5(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):Pc(n,e))===r)}var qt=t=>t===null||typeof t>"u",sm=t=>qt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),yZ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function pE(t){if(typeof t!="string")return!1;var e=yZ;return e.includes(t)}var vZ=["viewBox","children"],i4=["points","pathLength"],Xb={svg:vZ,polygon:i4,polyline:i4},gE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(_.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{pE(i)&&(n[i]=(a=>r[i](r,a)))}),n},xZ=(t,e,r)=>n=>(t(e,r,n),null),om=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];pE(i)&&typeof a=="function"&&(n||(n={}),n[i]=xZ(a,e,r))}),n},bZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function y5(t){if(typeof t!="string")return!1;var e=bZ;return e.includes(t)}function Hi(t){var e=Object.entries(t).filter(r=>{var[n]=r;return y5(n)});return Object.fromEntries(e)}var a4=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",s4=null,Qb=null,v5=t=>{if(t===s4&&Array.isArray(Qb))return Qb;var e=[];return _.Children.forEach(t,r=>{qt(r)||(pZ.isFragment(r)?e=e.concat(v5(r.props.children)):e.push(r))}),Qb=e,s4=t,e};function yE(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>a4(i)):n=[a4(e)],v5(t).forEach(i=>{var a=Pc(i,"type.displayName")||Pc(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var Ry=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,wZ=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=n&&Xb?.[n])!==null&&i!==void 0?i:[],l=e.startsWith("data-"),c=typeof t!="function"&&(!!n&&a.includes(e)||y5(e)),f=!!r&&pE(e);return l||c||f},Ht=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var l;wZ((l=n)===null||l===void 0?void 0:l[a],a,e,r)&&(i[a]=n[a])}),i},_Z=["children","width","height","viewBox","className","style","title","desc"];function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q1.apply(null,arguments)}function EZ(t,e){if(t==null)return{};var r,n,i=AZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function AZ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var vE=_.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:l,style:c,title:f,desc:h}=t,p=EZ(t,_Z),g=a||{width:n,height:i,x:0,y:0},v=ut("recharts-surface",l);return _.createElement("svg",Q1({},Ht(p,!0,"svg"),{className:v,width:n,height:i,style:c,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),_.createElement("title",null,f),_.createElement("desc",null,h),r)}),SZ=["children","className"];function Z1(){return Z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z1.apply(null,arguments)}function TZ(t,e){if(t==null)return{};var r,n,i=NZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function NZ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var hr=_.forwardRef((t,e)=>{var{children:r,className:n}=t,i=TZ(t,SZ),a=ut("recharts-layer",n);return _.createElement("g",Z1({className:a},Ht(i,!0),{ref:e}),r)}),x5=_.createContext(null),jZ=()=>_.useContext(x5);function Lt(t){return function(){return t}}const b5=Math.cos,h0=Math.sin,ba=Math.sqrt,m0=Math.PI,Dy=2*m0,J1=Math.PI,e2=2*J1,lc=1e-6,CZ=e2-lc;function w5(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function PZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return w5;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class kZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?w5:PZ(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,l){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,c=this._y1,f=n-e,h=i-r,p=l-e,g=c-r,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>lc)if(!(Math.abs(g*f-h*p)>lc)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let b=n-l,A=i-c,E=f*f+h*h,S=b*b+A*A,N=Math.sqrt(E),C=Math.sqrt(v),j=a*Math.tan((J1-Math.acos((E+v-S)/(2*N*C)))/2),L=j/C,z=j/N;Math.abs(L-1)>lc&&this._append`L${e+L*p},${r+L*g}`,this._append`A${a},${a},0,0,${+(g*b>p*A)},${this._x1=e+z*f},${this._y1=r+z*h}`}}arc(e,r,n,i,a,l){if(e=+e,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),f=n*Math.sin(i),h=e+c,p=r+f,g=1^l,v=l?i-a:a-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>lc||Math.abs(this._y1-p)>lc)&&this._append`L${h},${p}`,n&&(v<0&&(v=v%e2+e2),v>CZ?this._append`A${n},${n},0,1,${g},${e-c},${r-f}A${n},${n},0,1,${g},${this._x1=h},${this._y1=p}`:v>lc&&this._append`A${n},${n},0,${+(v>=J1)},${g},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function xE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new kZ(e)}function bE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _5(t){this._context=t}_5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function My(t){return new _5(t)}function E5(t){return t[0]}function A5(t){return t[1]}function S5(t,e){var r=Lt(!0),n=null,i=My,a=null,l=xE(c);t=typeof t=="function"?t:t===void 0?E5:Lt(t),e=typeof e=="function"?e:e===void 0?A5:Lt(e);function c(f){var h,p=(f=bE(f)).length,g,v=!1,b;for(n==null&&(a=i(b=l())),h=0;h<=p;++h)!(h<p&&r(g=f[h],h,f))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(g,h,f),+e(g,h,f));if(b)return a=null,b+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Lt(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Lt(+f),c):e},c.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Lt(!!f),c):r},c.curve=function(f){return arguments.length?(i=f,n!=null&&(a=i(n)),c):i},c.context=function(f){return arguments.length?(f==null?n=a=null:a=i(n=f),c):n},c}function Jp(t,e,r){var n=null,i=Lt(!0),a=null,l=My,c=null,f=xE(h);t=typeof t=="function"?t:t===void 0?E5:Lt(+t),e=typeof e=="function"?e:Lt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?A5:Lt(+r);function h(g){var v,b,A,E=(g=bE(g)).length,S,N=!1,C,j=new Array(E),L=new Array(E);for(a==null&&(c=l(C=f())),v=0;v<=E;++v){if(!(v<E&&i(S=g[v],v,g))===N)if(N=!N)b=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),A=v-1;A>=b;--A)c.point(j[A],L[A]);c.lineEnd(),c.areaEnd()}N&&(j[v]=+t(S,v,g),L[v]=+e(S,v,g),c.point(n?+n(S,v,g):j[v],r?+r(S,v,g):L[v]))}if(C)return c=null,C+""||null}function p(){return S5().defined(i).curve(l).context(a)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Lt(+g),n=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Lt(+g),h):t},h.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Lt(+g),h):n},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Lt(+g),r=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Lt(+g),h):e},h.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Lt(+g),h):r},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(r)},h.lineX1=function(){return p().x(n).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Lt(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,a!=null&&(c=l(a)),h):l},h.context=function(g){return arguments.length?(g==null?a=c=null:c=l(a=g),h):a},h}class T5{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function OZ(t){return new T5(t,!0)}function IZ(t){return new T5(t,!1)}const wE={draw(t,e){const r=ba(e/m0);t.moveTo(r,0),t.arc(0,0,r,0,Dy)}},RZ={draw(t,e){const r=ba(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},N5=ba(1/3),DZ=N5*2,MZ={draw(t,e){const r=ba(e/DZ),n=r*N5;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},LZ={draw(t,e){const r=ba(e),n=-r/2;t.rect(n,n,r,r)}},VZ=.8908130915292852,j5=h0(m0/10)/h0(7*m0/10),BZ=h0(Dy/10)*j5,UZ=-b5(Dy/10)*j5,$Z={draw(t,e){const r=ba(e*VZ),n=BZ*r,i=UZ*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const l=Dy*a/5,c=b5(l),f=h0(l);t.lineTo(f*r,-c*r),t.lineTo(c*n-f*i,f*n+c*i)}t.closePath()}},Zb=ba(3),zZ={draw(t,e){const r=-ba(e/(Zb*3));t.moveTo(0,r*2),t.lineTo(-Zb*r,-r),t.lineTo(Zb*r,-r),t.closePath()}},Pi=-.5,ki=ba(3)/2,t2=1/ba(12),FZ=(t2/2+1)*3,qZ={draw(t,e){const r=ba(e/FZ),n=r/2,i=r*t2,a=n,l=r*t2+r,c=-a,f=l;t.moveTo(n,i),t.lineTo(a,l),t.lineTo(c,f),t.lineTo(Pi*n-ki*i,ki*n+Pi*i),t.lineTo(Pi*a-ki*l,ki*a+Pi*l),t.lineTo(Pi*c-ki*f,ki*c+Pi*f),t.lineTo(Pi*n+ki*i,Pi*i-ki*n),t.lineTo(Pi*a+ki*l,Pi*l-ki*a),t.lineTo(Pi*c+ki*f,Pi*f-ki*c),t.closePath()}};function HZ(t,e){let r=null,n=xE(i);t=typeof t=="function"?t:Lt(t||wE),e=typeof e=="function"?e:Lt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Lt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Lt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function p0(){}function g0(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function C5(t){this._context=t}C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:g0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:g0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KZ(t){return new C5(t)}function P5(t){this._context=t}P5.prototype={areaStart:p0,areaEnd:p0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:g0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GZ(t){return new P5(t)}function k5(t){this._context=t}k5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:g0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WZ(t){return new k5(t)}function O5(t){this._context=t}O5.prototype={areaStart:p0,areaEnd:p0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function YZ(t){return new O5(t)}function o4(t){return t<0?-1:1}function l4(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),l=(r-t._y1)/(i||n<0&&-0),c=(a*i+l*n)/(n+i);return(o4(a)+o4(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(c))||0}function c4(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Jb(t,e,r){var n=t._x0,i=t._y0,a=t._x1,l=t._y1,c=(a-n)/3;t._context.bezierCurveTo(n+c,i+c*e,a-c,l-c*r,a,l)}function y0(t){this._context=t}y0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jb(this,this._t0,c4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Jb(this,c4(this,r=l4(this,t,e)),r);break;default:Jb(this,this._t0,r=l4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function I5(t){this._context=new R5(t)}(I5.prototype=Object.create(y0.prototype)).point=function(t,e){y0.prototype.point.call(this,e,t)};function R5(t){this._context=t}R5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function XZ(t){return new y0(t)}function QZ(t){return new I5(t)}function D5(t){this._context=t}D5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=u4(t),i=u4(e),a=0,l=1;l<r;++a,++l)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function u4(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),l=new Array(r);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,l[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,l[e]-=n*l[e-1];for(i[r-1]=l[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function ZZ(t){return new D5(t)}function Ly(t,e){this._context=t,this._t=e}Ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function JZ(t){return new Ly(t,.5)}function eJ(t){return new Ly(t,0)}function tJ(t){return new Ly(t,1)}function cd(t,e){if((l=t.length)>1)for(var r=1,n,i,a=t[e[0]],l,c=a.length;r<l;++r)for(i=a,a=t[e[r]],n=0;n<c;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function r2(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function rJ(t,e){return t[e]}function nJ(t){const e=[];return e.key=t,e}function iJ(){var t=Lt([]),e=r2,r=cd,n=rJ;function i(a){var l=Array.from(t.apply(this,arguments),nJ),c,f=l.length,h=-1,p;for(const g of a)for(c=0,++h;c<f;++c)(l[c][h]=[0,+n(g,l[c].key,h,a)]).data=g;for(c=0,p=bE(e(l));c<f;++c)l[p[c]].index=c;return r(l,p),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Lt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Lt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?r2:typeof a=="function"?a:Lt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??cd,i):r},i}function aJ(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,l;i<a;++i){for(l=r=0;r<n;++r)l+=t[r][i][1]||0;if(l)for(r=0;r<n;++r)t[r][i][1]/=l}cd(t,e)}}function sJ(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var l=0,c=0;l<i;++l)c+=t[l][r][1]||0;n[r][1]+=n[r][0]=-c/2}cd(t,e)}}function oJ(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,l;n<a;++n){for(var c=0,f=0,h=0;c<l;++c){for(var p=t[e[c]],g=p[n][1]||0,v=p[n-1][1]||0,b=(g-v)/2,A=0;A<c;++A){var E=t[e[A]],S=E[n][1]||0,N=E[n-1][1]||0;b+=S-N}f+=g,h+=b*g}i[n-1][1]+=i[n-1][0]=r,f&&(r-=h/f)}i[n-1][1]+=i[n-1][0]=r,cd(t,e)}}var lJ=["type","size","sizeType"];function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n2.apply(null,arguments)}function d4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(r),!0).forEach(function(n){cJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cJ(t,e,r){return(e=uJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uJ(t){var e=dJ(t,"string");return typeof e=="symbol"?e:e+""}function dJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fJ(t,e){if(t==null)return{};var r,n,i=hJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function hJ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var M5={symbolCircle:wE,symbolCross:RZ,symbolDiamond:MZ,symbolSquare:LZ,symbolStar:$Z,symbolTriangle:zZ,symbolWye:qZ},mJ=Math.PI/180,pJ=t=>{var e="symbol".concat(sm(t));return M5[e]||wE},gJ=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*mJ;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},yJ=(t,e)=>{M5["symbol".concat(sm(t))]=e},_E=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=fJ(t,lJ),a=f4(f4({},i),{},{type:e,size:r,sizeType:n}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var v=pJ(l),b=HZ().type(v).size(gJ(r,n,l));return b()},{className:f,cx:h,cy:p}=a,g=Ht(a,!0);return h===+h&&p===+p&&r===+r?_.createElement("path",n2({},g,{className:ut("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};_E.registerSymbol=yJ;function i2(){return i2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i2.apply(null,arguments)}function h4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(r),!0).forEach(function(n){EE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EE(t,e,r){return(e=xJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xJ(t){var e=bJ(t,"string");return typeof e=="symbol"?e:e+""}function bJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oi=32;class AE extends _.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=Oi/2,a=Oi/6,l=Oi/3,c=e.inactive?n:e.color,f=r??e.type;if(f==="none")return null;if(f==="plainline")return _.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Oi,y2:i,className:"recharts-legend-icon"});if(f==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Oi,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return _.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Oi/8,"h").concat(Oi,"v").concat(Oi*3/4,"h").concat(-Oi,"z"),className:"recharts-legend-icon"});if(_.isValidElement(e.legendIcon)){var h=vJ({},e);return delete h.legendIcon,_.cloneElement(e.legendIcon,h)}return _.createElement(_E,{fill:c,cx:i,cy:i,size:Oi,sizeType:"diameter",type:f})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:l}=this.props,c={x:0,y:0,width:Oi,height:Oi},f={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,g)=>{var v=p.formatter||i,b=ut({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var A=p.inactive?a:p.color,E=v?v(p.value,p,g):p.value;return _.createElement("li",i2({className:b,style:f,key:"legend-item-".concat(g)},om(this.props,p,g)),_.createElement(vE,{width:r,height:r,viewBox:c,style:h,"aria-label":"".concat(E," legend icon")},this.renderIcon(p,l)),_.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},E))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}EE(AE,"displayName","Legend");EE(AE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var ew={},tw={},m4;function wJ(){return m4||(m4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const l=r[a],c=n(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(tw)),tw}var rw={},p4;function L5(){return p4||(p4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(rw)),rw}var nw={},iw={},aw={},g4;function _J(){return g4||(g4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(aw)),aw}var y4;function SE(){return y4||(y4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_J();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(iw)),iw}var sw={},v4;function EJ(){return v4||(v4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(sw)),sw}var x4;function AJ(){return x4||(x4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SE(),r=EJ();function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(nw)),nw}var ow={},lw={},b4;function SJ(){return b4||(b4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mE();function r(n){return function(i){return e.get(i,n)}}t.property=r})(lw)),lw}var cw={},uw={},dw={},fw={},w4;function V5(){return w4||(w4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(fw)),fw}var hw={},_4;function B5(){return _4||(_4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(hw)),hw}var mw={},E4;function U5(){return E4||(E4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(mw)),mw}var A4;function TJ(){return A4||(A4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TE(),r=V5(),n=B5(),i=U5();function a(g,v,b){return typeof b!="function"?e.isMatch(g,v):l(g,v,function A(E,S,N,C,j,L){const z=b(E,S,N,C,j,L);return z!==void 0?!!z:l(E,S,A,L)},new Map)}function l(g,v,b,A){if(v===g)return!0;switch(typeof v){case"object":return c(g,v,b,A);case"function":return Object.keys(v).length>0?l(g,{...v},b,A):i.eq(g,v);default:return r.isObject(g)?typeof v=="string"?v==="":!0:i.eq(g,v)}}function c(g,v,b,A){if(v==null)return!0;if(Array.isArray(v))return h(g,v,b,A);if(v instanceof Map)return f(g,v,b,A);if(v instanceof Set)return p(g,v,b,A);const E=Object.keys(v);if(g==null)return E.length===0;if(E.length===0)return!0;if(A&&A.has(v))return A.get(v)===g;A&&A.set(v,g);try{for(let S=0;S<E.length;S++){const N=E[S];if(!n.isPrimitive(g)&&!(N in g)||v[N]===void 0&&g[N]!==void 0||v[N]===null&&g[N]!==null||!b(g[N],v[N],N,g,v,A))return!1}return!0}finally{A&&A.delete(v)}}function f(g,v,b,A){if(v.size===0)return!0;if(!(g instanceof Map))return!1;for(const[E,S]of v.entries()){const N=g.get(E);if(b(N,S,E,g,v,A)===!1)return!1}return!0}function h(g,v,b,A){if(v.length===0)return!0;if(!Array.isArray(g))return!1;const E=new Set;for(let S=0;S<v.length;S++){const N=v[S];let C=!1;for(let j=0;j<g.length;j++){if(E.has(j))continue;const L=g[j];let z=!1;if(b(L,N,S,g,v,A)&&(z=!0),z){E.add(j),C=!0;break}}if(!C)return!1}return!0}function p(g,v,b,A){return v.size===0?!0:g instanceof Set?h([...g],[...v],b,A):!1}t.isMatchWith=a,t.isSetMatch=p})(dw)),dw}var S4;function TE(){return S4||(S4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TJ();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(uw)),uw}var pw={},gw={},yw={},T4;function NJ(){return T4||(T4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(yw)),yw}var vw={},N4;function $5(){return N4||(N4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(vw)),vw}var xw={},j4;function z5(){return j4||(j4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",c="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",v="[object ArrayBuffer]",b="[object Object]",A="[object Error]",E="[object DataView]",S="[object Uint8Array]",N="[object Uint8ClampedArray]",C="[object Uint16Array]",j="[object Uint32Array]",L="[object BigUint64Array]",z="[object Int8Array]",M="[object Int16Array]",I="[object Int32Array]",P="[object BigInt64Array]",R="[object Float32Array]",U="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=p,t.bigInt64ArrayTag=P,t.bigUint64ArrayTag=L,t.booleanTag=i,t.dataViewTag=E,t.dateTag=c,t.errorTag=A,t.float32ArrayTag=R,t.float64ArrayTag=U,t.functionTag=g,t.int16ArrayTag=M,t.int32ArrayTag=I,t.int8ArrayTag=z,t.mapTag=f,t.numberTag=n,t.objectTag=b,t.regexpTag=e,t.setTag=h,t.stringTag=r,t.symbolTag=l,t.uint16ArrayTag=C,t.uint32ArrayTag=j,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=N})(xw)),xw}var bw={},C4;function jJ(){return C4||(C4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(bw)),bw}var P4;function F5(){return P4||(P4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NJ(),r=$5(),n=z5(),i=B5(),a=jJ();function l(p,g){return c(p,void 0,p,new Map,g)}function c(p,g,v,b=new Map,A=void 0){const E=A?.(p,g,v,b);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const S=new Array(p.length);b.set(p,S);for(let N=0;N<p.length;N++)S[N]=c(p[N],N,v,b,A);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;b.set(p,S);for(const[N,C]of p)S.set(N,c(C,N,v,b,A));return S}if(p instanceof Set){const S=new Set;b.set(p,S);for(const N of p)S.add(c(N,void 0,v,b,A));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(a.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,S);for(let N=0;N<p.length;N++)S[N]=c(p[N],N,v,b,A);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,S),f(S,p,v,b,A),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return b.set(p,S),f(S,p,v,b,A),S}if(p instanceof Blob){const S=new Blob([p],{type:p.type});return b.set(p,S),f(S,p,v,b,A),S}if(p instanceof Error){const S=new p.constructor;return b.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,f(S,p,v,b,A),S}if(typeof p=="object"&&h(p)){const S=Object.create(Object.getPrototypeOf(p));return b.set(p,S),f(S,p,v,b,A),S}return p}function f(p,g,v=p,b,A){const E=[...Object.keys(g),...e.getSymbols(g)];for(let S=0;S<E.length;S++){const N=E[S],C=Object.getOwnPropertyDescriptor(p,N);(C==null||C.writable)&&(p[N]=c(g[N],N,v,b,A))}}function h(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=f})(gw)),gw}var k4;function CJ(){return k4||(k4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F5();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(pw)),pw}var O4;function PJ(){return O4||(O4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TE(),r=CJ();function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})(cw)),cw}var ww={},_w={},Ew={},I4;function kJ(){return I4||(I4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F5(),r=z5();function n(i,a){return e.cloneDeepWith(i,(l,c,f,h)=>{const p=a?.(l,c,f,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case r.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=n})(Ew)),Ew}var R4;function OJ(){return R4||(R4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kJ();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(_w)),_w}var Aw={},Sw={},D4;function q5(){return D4||(D4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(Sw)),Sw}var Tw={},M4;function IJ(){return M4||(M4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$5();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(Tw)),Tw}var L4;function RJ(){return L4||(L4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h5(),r=q5(),n=IJ(),i=hE();function a(l,c){let f;if(Array.isArray(c)?f=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?f=i.toPath(c):f=[c],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=a})(Aw)),Aw}var V4;function DJ(){return V4||(V4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TE(),r=m5(),n=OJ(),i=mE(),a=RJ();function l(c,f){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return f=n.cloneDeep(f),function(h){const p=i.get(h,c);return p===void 0?a.has(h,c):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=l})(ww)),ww}var B4;function MJ(){return B4||(B4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L5(),r=SJ(),n=PJ(),i=DJ();function a(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}t.iteratee=a})(ow)),ow}var U4;function LJ(){return U4||(U4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wJ(),r=L5(),n=AJ(),i=MJ();function a(l,c=r.identity){return n.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=a})(ew)),ew}var Nw,$4;function VJ(){return $4||($4=1,Nw=LJ().uniqBy),Nw}var BJ=VJ();const z4=Za(BJ);function H5(t,e,r){return e===!0?z4(t,r):typeof e=="function"?z4(t,e):t}var jw={exports:{}},Cw={},Pw={exports:{}},kw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F4;function UJ(){if(F4)return kw;F4=1;var t=vd();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function c(g,v){var b=v(),A=n({inst:{value:b,getSnapshot:v}}),E=A[0].inst,S=A[1];return a(function(){E.value=b,E.getSnapshot=v,f(E)&&S({inst:E})},[g,b,v]),i(function(){return f(E)&&S({inst:E}),g(function(){f(E)&&S({inst:E})})},[g]),l(b),b}function f(g){var v=g.getSnapshot;g=g.value;try{var b=v();return!r(g,b)}catch{return!0}}function h(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return kw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,kw}var q4;function $J(){return q4||(q4=1,Pw.exports=UJ()),Pw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H4;function zJ(){if(H4)return Cw;H4=1;var t=vd(),e=$J();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return Cw.useSyncExternalStoreWithSelector=function(h,p,g,v,b){var A=a(null);if(A.current===null){var E={hasValue:!1,value:null};A.current=E}else E=A.current;A=c(function(){function N(M){if(!C){if(C=!0,j=M,M=v(M),b!==void 0&&E.hasValue){var I=E.value;if(b(I,M))return L=I}return L=M}if(I=L,n(j,M))return I;var P=v(M);return b!==void 0&&b(I,P)?(j=M,I):(j=M,L=P)}var C=!1,j,L,z=g===void 0?null:g;return[function(){return N(p())},z===null?void 0:function(){return N(z())}]},[p,g,v,b]);var S=i(h,A[0],A[1]);return l(function(){E.hasValue=!0,E.value=S},[S]),f(S),S},Cw}var K4;function FJ(){return K4||(K4=1,jw.exports=zJ()),jw.exports}var qJ=FJ(),NE=_.createContext(null),HJ=t=>t,ar=()=>{var t=_.useContext(NE);return t?t.store.dispatch:HJ},Cg=()=>{},KJ=()=>Cg,GJ=(t,e)=>t===e;function Pe(t){var e=_.useContext(NE);return qJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:KJ,e?e.store.getState:Cg,e?e.store.getState:Cg,e?t:Cg,GJ)}function WJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function YJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function XJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var G4=t=>Array.isArray(t)?t:[t];function QJ(t){const e=Array.isArray(t[0])?t[0]:t;return XJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function ZJ(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var JJ=class{constructor(t){this.value=t}deref(){return this.value}},eee=typeof WeakRef<"u"?WeakRef:JJ,tee=0,W4=1;function eg(){return{s:tee,v:void 0,o:null,p:null}}function K5(t,e={}){let r=eg();const{resultEqualityCheck:n}=e;let i,a=0;function l(){let c=r;const{length:f}=arguments;for(let g=0,v=f;g<v;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let A=c.o;A===null&&(c.o=A=new WeakMap);const E=A.get(b);E===void 0?(c=eg(),A.set(b,c)):c=E}else{let A=c.p;A===null&&(c.p=A=new Map);const E=A.get(b);E===void 0?(c=eg(),A.set(b,c)):c=E}}const h=c;let p;if(c.s===W4)p=c.v;else if(p=t.apply(null,arguments),a++,n){const g=i?.deref?.()??i;g!=null&&n(g,p)&&(p=g,a!==0&&a--),i=typeof p=="object"&&p!==null||typeof p=="function"?new eee(p):p}return h.s=W4,h.v=p,p}return l.clearCache=()=>{r=eg(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function ree(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,l=0,c,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),WJ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...r,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:b=K5,argsMemoizeOptions:A=[]}=p,E=G4(v),S=G4(A),N=QJ(i),C=g(function(){return a++,h.apply(null,arguments)},...E),j=b(function(){l++;const z=ZJ(N,arguments);return c=C.apply(null,z),c},...S);return Object.assign(j,{resultFunc:h,memoizedResultFunc:C,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var re=ree(K5),nee=Object.assign((t,e=re)=>{YJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((l,c,f)=>(l[r[f]]=c,l),{}))},{withTypes:()=>nee}),Ow={},Iw={},Rw={},Y4;function iee(){return Y4||(Y4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const l=e(n),c=e(i);if(l===c&&l===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?c-l:l-c}return 0};t.compareValues=r})(Rw)),Rw}var Dw={},Mw={},X4;function G5(){return X4||(X4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(Mw)),Mw}var Q4;function aee(){return Q4||(Q4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G5(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||l!=null&&Object.hasOwn(l,a)}t.isKey=i})(Dw)),Dw}var Z4;function see(){return Z4||(Z4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iee(),r=aee(),n=hE();function i(a,l,c,f){if(a==null)return[];c=f?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(b=>String(b));const h=(b,A)=>{let E=b;for(let S=0;S<A.length&&E!=null;++S)E=E[A[S]];return E},p=(b,A)=>A==null||b==null?A:typeof b=="object"&&"key"in b?Object.hasOwn(A,b.key)?A[b.key]:h(A,b.path):typeof b=="function"?b(A):Array.isArray(b)?h(A,b):typeof A=="object"?A[b]:A,g=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:n.toPath(b)}));return a.map(b=>({original:b,criteria:g.map(A=>p(A,b))})).slice().sort((b,A)=>{for(let E=0;E<g.length;E++){const S=e.compareValues(b.criteria[E],A.criteria[E],c[E]);if(S!==0)return S}return 0}).map(b=>b.original)}t.orderBy=i})(Iw)),Iw}var Lw={},J4;function oee(){return J4||(J4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),l=(c,f)=>{for(let h=0;h<c.length;h++){const p=c[h];Array.isArray(p)&&f<a?l(p,f+1):i.push(p)}};return l(r,0),i}t.flatten=e})(Lw)),Lw}var Vw={},ek;function W5(){return ek||(ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q5(),r=SE(),n=V5(),i=U5();function a(l,c,f){return n.isObject(f)&&(typeof c=="number"&&r.isArrayLike(f)&&e.isIndex(c)&&c<f.length||typeof c=="string"&&c in f)?i.eq(f[c],l):!1}t.isIterateeCall=a})(Vw)),Vw}var tk;function lee(){return tk||(tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=see(),r=oee(),n=W5();function i(a,...l){const c=l.length;return c>1&&n.isIterateeCall(a,l[0],l[1])?l=[]:c>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(a,r.flatten(l),["asc"])}t.sortBy=i})(Ow)),Ow}var Bw,rk;function cee(){return rk||(rk=1,Bw=lee().sortBy),Bw}var uee=cee();const Vy=Za(uee);var Y5=t=>t.legend.settings,dee=t=>t.legend.size,fee=t=>t.legend.payload,hee=re([fee,Y5],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?Vy(n,r):n});function mee(){return Pe(hee)}var tg=1;function X5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=_.useState({height:0,left:0,top:0,width:0}),n=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-e.height)>tg||Math.abs(l.left-e.left)>tg||Math.abs(l.top-e.top)>tg||Math.abs(l.width-e.width)>tg)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function cn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pee=typeof Symbol=="function"&&Symbol.observable||"@@observable",nk=pee,Uw=()=>Math.random().toString(36).substring(7).split("").join("."),gee={INIT:`@@redux/INIT${Uw()}`,REPLACE:`@@redux/REPLACE${Uw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Uw()}`},v0=gee;function jE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Q5(t,e,r){if(typeof t!="function")throw new Error(cn(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(cn(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(cn(1));return r(Q5)(t,e)}let n=t,i=e,a=new Map,l=a,c=0,f=!1;function h(){l===a&&(l=new Map,a.forEach((S,N)=>{l.set(N,S)}))}function p(){if(f)throw new Error(cn(3));return i}function g(S){if(typeof S!="function")throw new Error(cn(4));if(f)throw new Error(cn(5));let N=!0;h();const C=c++;return l.set(C,S),function(){if(N){if(f)throw new Error(cn(6));N=!1,h(),l.delete(C),a=null}}}function v(S){if(!jE(S))throw new Error(cn(7));if(typeof S.type>"u")throw new Error(cn(8));if(typeof S.type!="string")throw new Error(cn(17));if(f)throw new Error(cn(9));try{f=!0,i=n(i,S)}finally{f=!1}return(a=l).forEach(C=>{C()}),S}function b(S){if(typeof S!="function")throw new Error(cn(10));n=S,v({type:v0.REPLACE})}function A(){const S=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(cn(11));function C(){const L=N;L.next&&L.next(p())}return C(),{unsubscribe:S(C)}},[nk](){return this}}}return v({type:v0.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:b,[nk]:A}}function yee(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:v0.INIT})>"u")throw new Error(cn(12));if(typeof r(void 0,{type:v0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cn(13))})}function Z5(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(r[l]=t[l])}const n=Object.keys(r);let i;try{yee(r)}catch(a){i=a}return function(l={},c){if(i)throw i;let f=!1;const h={};for(let p=0;p<n.length;p++){const g=n[p],v=r[g],b=l[g],A=v(b,c);if(typeof A>"u")throw c&&c.type,new Error(cn(14));h[g]=A,f=f||A!==b}return f=f||n.length!==Object.keys(l).length,f?h:l}}function x0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function vee(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(cn(15))};const l={getState:i.getState,dispatch:(f,...h)=>a(f,...h)},c=t.map(f=>f(l));return a=x0(...c)(i.dispatch),{...i,dispatch:a}}}function J5(t){return jE(t)&&"type"in t&&typeof t.type=="string"}var eM=Symbol.for("immer-nothing"),ik=Symbol.for("immer-draftable"),hi=Symbol.for("immer-state");function la(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ud=Object.getPrototypeOf;function kc(t){return!!t&&!!t[hi]}function Zs(t){return t?tM(t)||Array.isArray(t)||!!t[ik]||!!t.constructor?.[ik]||lm(t)||Uy(t):!1}var xee=Object.prototype.constructor.toString();function tM(t){if(!t||typeof t!="object")return!1;const e=ud(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===xee}function b0(t,e){By(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function By(t){const e=t[hi];return e?e.type_:Array.isArray(t)?1:lm(t)?2:Uy(t)?3:0}function a2(t,e){return By(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function rM(t,e,r){const n=By(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function bee(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function lm(t){return t instanceof Map}function Uy(t){return t instanceof Set}function cc(t){return t.copy_||t.base_}function s2(t,e){if(lm(t))return new Map(t);if(Uy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=tM(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[hi];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const l=i[a],c=n[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(ud(t),n)}else{const n=ud(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function CE(t,e=!1){return $y(t)||kc(t)||!Zs(t)||(By(t)>1&&Object.defineProperties(t,{set:{value:rg},add:{value:rg},clear:{value:rg},delete:{value:rg}}),Object.freeze(t),e&&Object.values(t).forEach(r=>CE(r,!0))),t}function rg(){la(2)}function $y(t){return Object.isFrozen(t)}var wee={};function Oc(t){const e=wee[t];return e||la(0,t),e}var Ch;function nM(){return Ch}function _ee(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ak(t,e){e&&(Oc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function o2(t){l2(t),t.drafts_.forEach(Eee),t.drafts_=null}function l2(t){t===Ch&&(Ch=t.parent_)}function sk(t){return Ch=_ee(Ch,t)}function Eee(t){const e=t[hi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ok(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[hi].modified_&&(o2(e),la(4)),Zs(t)&&(t=w0(e,t),e.parent_||_0(e,t)),e.patches_&&Oc("Patches").generateReplacementPatches_(r[hi].base_,t,e.patches_,e.inversePatches_)):t=w0(e,r,[]),o2(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==eM?t:void 0}function w0(t,e,r){if($y(e))return e;const n=e[hi];if(!n)return b0(e,(i,a)=>lk(t,n,e,i,a,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return _0(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,l=!1;n.type_===3&&(a=new Set(i),i.clear(),l=!0),b0(a,(c,f)=>lk(t,n,i,c,f,r,l)),_0(t,i,!1),r&&t.patches_&&Oc("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function lk(t,e,r,n,i,a,l){if(kc(i)){const c=a&&e&&e.type_!==3&&!a2(e.assigned_,n)?a.concat(n):void 0,f=w0(t,i,c);if(rM(r,n,f),kc(f))t.canAutoFreeze_=!1;else return}else l&&r.add(i);if(Zs(i)&&!$y(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;w0(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(lm(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&_0(t,i)}}function _0(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&CE(e,r)}function Aee(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:nM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=PE;r&&(i=[n],a=Ph);const{revoke:l,proxy:c}=Proxy.revocable(i,a);return n.draft_=c,n.revoke_=l,c}var PE={get(t,e){if(e===hi)return t;const r=cc(t);if(!a2(r,e))return See(t,r,e);const n=r[e];return t.finalized_||!Zs(n)?n:n===$w(t.base_,e)?(zw(t),t.copy_[e]=u2(n,t)):n},has(t,e){return e in cc(t)},ownKeys(t){return Reflect.ownKeys(cc(t))},set(t,e,r){const n=iM(cc(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=$w(cc(t),e),a=i?.[hi];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(bee(r,i)&&(r!==void 0||a2(t.base_,e)))return!0;zw(t),c2(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return $w(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,zw(t),c2(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=cc(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){la(11)},getPrototypeOf(t){return ud(t.base_)},setPrototypeOf(){la(12)}},Ph={};b0(PE,(t,e)=>{Ph[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ph.deleteProperty=function(t,e){return Ph.set.call(this,t,e,void 0)};Ph.set=function(t,e,r){return PE.set.call(this,t[0],e,r,t[0])};function $w(t,e){const r=t[hi];return(r?cc(r):t)[e]}function See(t,e,r){const n=iM(e,r);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}function iM(t,e){if(!(e in t))return;let r=ud(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=ud(r)}}function c2(t){t.modified_||(t.modified_=!0,t.parent_&&c2(t.parent_))}function zw(t){t.copy_||(t.copy_=s2(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Tee=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const l=this;return function(f=a,...h){return l.produce(f,p=>r.call(this,p,...h))}}typeof r!="function"&&la(6),n!==void 0&&typeof n!="function"&&la(7);let i;if(Zs(e)){const a=sk(this),l=u2(e,void 0);let c=!0;try{i=r(l),c=!1}finally{c?o2(a):l2(a)}return ak(a,n),ok(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===eM&&(i=void 0),this.autoFreeze_&&CE(i,!0),n){const a=[],l=[];Oc("Patches").generateReplacementPatches_(e,i,a,l),n(a,l)}return i}else la(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,f=>e(f,...c));let n,i;return[this.produce(e,r,(l,c)=>{n=l,i=c}),n,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Zs(t)||la(8),kc(t)&&(t=zs(t));const e=sk(this),r=u2(t,void 0);return r[hi].isManual_=!0,l2(e),r}finishDraft(t,e){const r=t&&t[hi];(!r||!r.isManual_)&&la(9);const{scope_:n}=r;return ak(n,e),ok(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Oc("Patches").applyPatches_;return kc(t)?n(t,e):this.produce(t,i=>n(i,e))}};function u2(t,e){const r=lm(t)?Oc("MapSet").proxyMap_(t,e):Uy(t)?Oc("MapSet").proxySet_(t,e):Aee(t,e);return(e?e.scope_:nM()).drafts_.push(r),r}function zs(t){return kc(t)||la(10,t),aM(t)}function aM(t){if(!Zs(t)||$y(t))return t;const e=t[hi];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=s2(t,e.scope_.immer_.useStrictShallowCopy_)}else r=s2(t,!0);return b0(r,(n,i)=>{rM(r,n,aM(i))}),e&&(e.finalized_=!1),r}var Nee=new Tee,sM=Nee.produce;function oM(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var jee=oM(),Cee=oM,Pee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?x0:x0.apply(null,arguments)};function $i(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(di(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>J5(n)&&n.type===t,r}var lM=class ch extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ch.prototype)}static get[Symbol.species](){return ch}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ch(...e[0].concat(this)):new ch(...e.concat(this))}};function ck(t){return Zs(t)?sM(t,()=>{}):t}function ng(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function kee(t){return typeof t=="boolean"}var Oee=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new lM;return r&&(kee(r)?l.push(jee):l.push(Cee(r.extraArgument))),l},Iee="RTK_autoBatch",uk=t=>e=>{setTimeout(e,t)},Ree=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,l=!1;const c=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:uk(10):t.type==="callback"?t.queueNotification:uk(t.timeout),h=()=>{l=!1,a&&(a=!1,c.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>i&&p(),v=n.subscribe(g);return c.add(p),()=>{v(),c.delete(p)}},dispatch(p){try{return i=!p?.meta?.[Iee],a=!i,a&&(l||(l=!0,f(h))),n.dispatch(p)}finally{i=!0}}})},Dee=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new lM(t);return n&&i.push(Ree(typeof n=="object"?n:void 0)),i};function Mee(t){const e=Oee(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let c;if(typeof r=="function")c=r;else if(jE(r))c=Z5(r);else throw new Error(di(1));let f;typeof n=="function"?f=n(e):f=e();let h=x0;i&&(h=Pee({trace:!1,...typeof i=="object"&&i}));const p=vee(...f),g=Dee(p);let v=typeof l=="function"?l(g):g();const b=h(...v);return Q5(c,a,b)}function cM(t){const e={},r=[];let n;const i={addCase(a,l){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(di(28));if(c in e)throw new Error(di(29));return e[c]=l,i},addAsyncThunk(a,l){return l.pending&&(e[a.pending.type]=l.pending),l.rejected&&(e[a.rejected.type]=l.rejected),l.fulfilled&&(e[a.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return r.push({matcher:a,reducer:l}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function Lee(t){return typeof t=="function"}function Vee(t,e){let[r,n,i]=cM(e),a;if(Lee(t))a=()=>ck(t());else{const c=ck(t);a=()=>c}function l(c=a(),f){let h=[r[f.type],...n.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(kc(p)){const b=g(p,f);return b===void 0?p:b}else{if(Zs(p))return sM(p,v=>g(v,f));{const v=g(p,f);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},c)}return l.getInitialState=a,l}var Bee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Uee=(t=21)=>{let e="",r=t;for(;r--;)e+=Bee[Math.random()*64|0];return e},$ee=Symbol.for("rtk-slice-createasyncthunk");function zee(t,e){return`${t}/${e}`}function Fee({creators:t}={}){const e=t?.asyncThunk?.[$ee];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(di(11));const l=(typeof n.reducers=="function"?n.reducers(Hee()):n.reducers)||{},c=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(j,L){const z=typeof j=="string"?j:j.type;if(!z)throw new Error(di(12));if(z in f.sliceCaseReducersByType)throw new Error(di(13));return f.sliceCaseReducersByType[z]=L,h},addMatcher(j,L){return f.sliceMatchers.push({matcher:j,reducer:L}),h},exposeAction(j,L){return f.actionCreators[j]=L,h},exposeCaseReducer(j,L){return f.sliceCaseReducersByName[j]=L,h}};c.forEach(j=>{const L=l[j],z={reducerName:j,type:zee(i,j),createNotation:typeof n.reducers=="function"};Gee(L)?Yee(z,L,h,e):Kee(z,L,h)});function p(){const[j={},L=[],z=void 0]=typeof n.extraReducers=="function"?cM(n.extraReducers):[n.extraReducers],M={...j,...f.sliceCaseReducersByType};return Vee(n.initialState,I=>{for(let P in M)I.addCase(P,M[P]);for(let P of f.sliceMatchers)I.addMatcher(P.matcher,P.reducer);for(let P of L)I.addMatcher(P.matcher,P.reducer);z&&I.addDefaultCase(z)})}const g=j=>j,v=new Map,b=new WeakMap;let A;function E(j,L){return A||(A=p()),A(j,L)}function S(){return A||(A=p()),A.getInitialState()}function N(j,L=!1){function z(I){let P=I[j];return typeof P>"u"&&L&&(P=ng(b,z,S)),P}function M(I=g){const P=ng(v,L,()=>new WeakMap);return ng(P,I,()=>{const R={};for(const[U,B]of Object.entries(n.selectors??{}))R[U]=qee(B,I,()=>ng(b,I,S),L);return R})}return{reducerPath:j,getSelectors:M,get selectors(){return M(z)},selectSlice:z}}const C={name:i,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:S,...N(a),injectInto(j,{reducerPath:L,...z}={}){const M=L??a;return j.inject({reducerPath:M,reducer:E},z),{...C,...N(M,!0)}}};return C}}function qee(t,e,r,n){function i(a,...l){let c=e(a);return typeof c>"u"&&n&&(c=r()),t(c,...l)}return i.unwrapped=t,i}var gi=Fee();function Hee(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Kee({type:t,reducerName:e,createNotation:r},n,i){let a,l;if("reducer"in n){if(r&&!Wee(n))throw new Error(di(17));a=n.reducer,l=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?$i(t,l):$i(t))}function Gee(t){return t._reducerDefinitionType==="asyncThunk"}function Wee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Yee({type:t,reducerName:e},r,n,i){if(!i)throw new Error(di(18));const{payloadCreator:a,fulfilled:l,pending:c,rejected:f,settled:h,options:p}=r,g=i(t,a,p);n.exposeAction(e,g),l&&n.addCase(g.fulfilled,l),c&&n.addCase(g.pending,c),f&&n.addCase(g.rejected,f),h&&n.addMatcher(g.settled,h),n.exposeCaseReducer(e,{fulfilled:l||ig,pending:c||ig,rejected:f||ig,settled:h||ig})}function ig(){}var Xee="task",uM="listener",dM="completed",kE="cancelled",Qee=`task-${kE}`,Zee=`task-${dM}`,d2=`${uM}-${kE}`,Jee=`${uM}-${dM}`,zy=class{constructor(t){this.code=t,this.message=`${Xee} ${kE} (reason: ${t})`}name="TaskAbortError";message},OE=(t,e)=>{if(typeof t!="function")throw new TypeError(di(32))},E0=()=>{},fM=(t,e=E0)=>(t.catch(e),t),hM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),bc=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},wc=t=>{if(t.aborted){const{reason:e}=t;throw new zy(e)}};function mM(t,e){let r=E0;return new Promise((n,i)=>{const a=()=>i(new zy(t.reason));if(t.aborted){a();return}r=hM(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=E0})}var ete=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof zy?"cancelled":"rejected",error:r}}finally{e?.()}},A0=t=>e=>fM(mM(t,e).then(r=>(wc(t),r))),pM=t=>{const e=A0(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Yu}=Object,dk={},Fy="listenerMiddleware",tte=(t,e)=>{const r=n=>hM(t,()=>bc(n,t.reason));return(n,i)=>{OE(n);const a=new AbortController;r(a);const l=ete(async()=>{wc(t),wc(a.signal);const c=await n({pause:A0(a.signal),delay:pM(a.signal),signal:a.signal});return wc(a.signal),c},()=>bc(a,Zee));return i?.autoJoin&&e.push(l.catch(E0)),{result:A0(t)(l),cancel(){bc(a,Qee)}}}},rte=(t,e)=>{const r=async(n,i)=>{wc(e);let a=()=>{};const c=[new Promise((f,h)=>{let p=t({predicate:n,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});a=()=>{p(),h()}})];i!=null&&c.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await mM(e,Promise.race(c));return wc(e),f}finally{a()}};return(n,i)=>fM(r(n,i))},gM=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=$i(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(di(21));return OE(a),{predicate:i,type:e,effect:a}},yM=Yu(t=>{const{type:e,predicate:r,effect:n}=gM(t);return{id:Uee(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(di(22))}}},{withTypes:()=>yM}),fk=(t,e)=>{const{type:r,effect:n,predicate:i}=gM(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},f2=t=>{t.pending.forEach(e=>{bc(e,d2)})},nte=t=>()=>{t.forEach(f2),t.clear()},hk=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},vM=Yu($i(`${Fy}/add`),{withTypes:()=>vM}),ite=$i(`${Fy}/removeAll`),xM=Yu($i(`${Fy}/remove`),{withTypes:()=>xM}),ate=(...t)=>{console.error(`${Fy}/error`,...t)},cm=(t={})=>{const e=new Map,{extra:r,onError:n=ate}=t;OE(n);const i=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),g=>{p.unsubscribe(),g?.cancelActive&&f2(p)}),a=p=>{const g=fk(e,p)??yM(p);return i(g)};Yu(a,{withTypes:()=>a});const l=p=>{const g=fk(e,p);return g&&(g.unsubscribe(),p.cancelActive&&f2(g)),!!g};Yu(l,{withTypes:()=>l});const c=async(p,g,v,b)=>{const A=new AbortController,E=rte(a,A.signal),S=[];try{p.pending.add(A),await Promise.resolve(p.effect(g,Yu({},v,{getOriginalState:b,condition:(N,C)=>E(N,C).then(Boolean),take:E,delay:pM(A.signal),pause:A0(A.signal),extra:r,signal:A.signal,fork:tte(A.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((N,C,j)=>{N!==A&&(bc(N,d2),j.delete(N))})},cancel:()=>{bc(A,d2),p.pending.delete(A)},throwIfCancelled:()=>{wc(A.signal)}})))}catch(N){N instanceof zy||hk(n,N,{raisedBy:"effect"})}finally{await Promise.all(S),bc(A,Jee),p.pending.delete(A)}},f=nte(e);return{middleware:p=>g=>v=>{if(!J5(v))return g(v);if(vM.match(v))return a(v.payload);if(ite.match(v)){f();return}if(xM.match(v))return l(v.payload);let b=p.getState();const A=()=>{if(b===dk)throw new Error(di(23));return b};let E;try{if(E=g(v),e.size>0){const S=p.getState(),N=Array.from(e.values());for(const C of N){let j=!1;try{j=C.predicate(v,S,b)}catch(L){j=!1,hk(n,L,{raisedBy:"predicate"})}j&&c(C,v,p,A)}}}finally{b=dk}return E},startListening:a,stopListening:l,clearListeners:f}};function di(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ste={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},bM=gi({name:"chartLayout",initialState:ste,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,a;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:ote,setLayout:lte,setChartSize:cte,setScale:ute}=bM.actions,dte=bM.reducer;function mk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(r),!0).forEach(function(n){fte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fte(t,e,r){return(e=hte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hte(t){var e=mte(t,"string");return typeof e=="symbol"?e:e+""}function mte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S0=Math.PI/180,pte=t=>t*180/Math.PI,Ir=(t,e,r,n)=>({x:t+Math.cos(-S0*n)*r,y:e+Math.sin(-S0*n)*r}),wM=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},gte=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},yte=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,l=gte({x:r,y:n},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var c=(r-i)/l,f=Math.acos(c);return n>a&&(f=2*Math.PI-f),{radius:l,angle:pte(f),angleInRadian:f}},vte=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},xte=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),l=Math.min(i,a);return t+l*360},bte=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:a}=yte({x:r,y:n},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:f,endAngle:h}=vte(e),p=a,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?pk(pk({},e),{},{radius:i,angle:xte(p,e)}):null};function _M(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(r),!0).forEach(function(n){wte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wte(t,e,r){return(e=_te(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _te(t){var e=Ete(t,"string");return typeof e=="symbol"?e:e+""}function Ete(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ct(t,e,r){return qt(t)||qt(e)?r:Wa(e)?Pc(t,e,r):typeof e=="function"?e(t):r}var Ate=(t,e,r,n,i)=>{var a,l=-1,c=(a=e?.length)!==null&&a!==void 0?a:0;if(c<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<c;f++){var h=f>0?r[f-1].coordinate:r[c-1].coordinate,p=r[f].coordinate,g=f>=c-1?r[0].coordinate:r[f+1].coordinate,v=void 0;if(Zr(p-h)!==Zr(g-p)){var b=[];if(Zr(g-p)===Zr(i[1]-i[0])){v=g;var A=p+i[1]-i[0];b[0]=Math.min(A,(A+h)/2),b[1]=Math.max(A,(A+h)/2)}else{v=h;var E=g+i[1]-i[0];b[0]=Math.min(p,(E+p)/2),b[1]=Math.max(p,(E+p)/2)}var S=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(t>S[0]&&t<=S[1]||t>=b[0]&&t<=b[1]){({index:l}=r[f]);break}}else{var N=Math.min(h,g),C=Math.max(h,g);if(t>(N+p)/2&&t<=(C+p)/2){({index:l}=r[f]);break}}}else if(e){for(var j=0;j<c;j++)if(j===0&&t<=(e[j].coordinate+e[j+1].coordinate)/2||j>0&&j<c-1&&t>(e[j].coordinate+e[j-1].coordinate)/2&&t<=(e[j].coordinate+e[j+1].coordinate)/2||j===c-1&&t>(e[j].coordinate+e[j-1].coordinate)/2){({index:l}=e[j]);break}}return l},Ste=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&a!=="center"&&ke(t[a]))return Ri(Ri({},t),{},{[a]:t[a]+(n||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&l!=="middle"&&ke(t[l]))return Ri(Ri({},t),{},{[l]:t[l]+(i||0)})}return t},ns=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",EM=(t,e,r,n)=>{if(n)return t.map(c=>c.coordinate);var i,a,l=t.map(c=>(c.coordinate===e&&(i=!0),c.coordinate===r&&(a=!0),c.coordinate));return i||l.push(e),a||l.push(r),l},AM=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:l,realScaleType:c,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:v,axisType:b}=t;if(!l)return null;var A=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/A:0;if(E=b==="angleAxis"&&a&&a.length>=2?Zr(a[0]-a[1])*2*E:E,g||v){var S=(g||v||[]).map((N,C)=>{var j=n?n.indexOf(N):N;return{coordinate:l(j)+E,value:N,offset:E,index:C}});return S.filter(N=>!Wn(N.coordinate))}return f&&h?h.map((N,C)=>({coordinate:l(N)+E,value:N,index:C,offset:E})):l.ticks&&p!=null?l.ticks(p).map((N,C)=>({coordinate:l(N)+E,value:N,offset:E,index:C})):l.domain().map((N,C)=>({coordinate:l(N)+E,value:n?n[N]:N,index:C,offset:E}))},yk=1e-4,Tte=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-yk,a=Math.max(n[0],n[1])+yk,l=t(e[0]),c=t(e[r-1]);(l<i||l>a||c<i||c>a)&&t.domain([e[0],e[r-1]])}},Nte=(t,e)=>{if(!e||e.length!==2||!ke(e[0])||!ke(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ke(t[0])||t[0]<r)&&(i[0]=r),(!ke(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},jte=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0,l=0;l<e;++l){var c=Wn(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=i,t[l][r][1]=i+c,i=t[l][r][1]):(t[l][r][0]=a,t[l][r][1]=a+c,a=t[l][r][1])}},Cte=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0;a<e;++a){var l=Wn(t[a][r][1])?t[a][r][0]:t[a][r][1];l>=0?(t[a][r][0]=i,t[a][r][1]=i+l,i=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},Pte={sign:jte,expand:aJ,none:cd,silhouette:sJ,wiggle:oJ,positive:Cte},kte=(t,e,r)=>{var n=Pte[r],i=iJ().keys(e).value((a,l)=>+Ct(a,l,0)).order(r2).offset(n);return i(t)};function SM(t){return t==null?void 0:String(t)}function T0(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:a,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!qt(i[e.dataKey])){var c=g5(r,"value",i[e.dataKey]);if(c)return c.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var f=Ct(i,qt(l)?e.dataKey:l);return qt(f)?null:e.scale(f)}var vk=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:a,index:l}=t;if(e.type==="category")return r[l]?r[l].coordinate+n:null;var c=Ct(a,e.dataKey,e.scale.domain()[l]);return qt(c)?null:e.scale(c)-i/2+n},Ote=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},Ite=t=>{var e=t.flat(2).filter(ke);return[Math.min(...e),Math.max(...e)]},Rte=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Dte=(t,e,r)=>{if(t!=null)return Rte(Object.keys(t).reduce((n,i)=>{var a=t[i],{stackedData:l}=a,c=l.reduce((f,h)=>{var p=_M(h,e,r),g=Ite(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},xk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ic=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=Vy(e,p=>p.coordinate),a=1/0,l=1,c=i.length;l<c;l++){var f=i[l],h=i[l-1];a=Math.min((f.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function wk(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return Ri(Ri({},e),{},{dataKey:r,payload:n,value:i,name:a})}function _l(t,e){if(t)return String(t);if(typeof e=="string")return e}function Mte(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return n?bte({x:t,y:e},n):null}var Lte=(t,e,r,n)=>{var i=e.find(h=>h&&h.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:l}=n;return Ri(Ri(Ri({},n),Ir(n.cx,n.cy,l,a)),{},{angle:a,radius:l})}var c=i.coordinate,{angle:f}=n;return Ri(Ri(Ri({},n),Ir(n.cx,n.cy,c,f)),{},{angle:f,radius:c})}return{x:0,y:0}},Vte=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,io=t=>t.layout.width,ao=t=>t.layout.height,Bte=t=>t.layout.scale,TM=t=>t.layout.margin,qy=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Hy=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),NM="data-recharts-item-index",jM="data-recharts-item-data-key",um=60;function _k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ag(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(r),!0).forEach(function(n){Ute(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ute(t,e,r){return(e=$te(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $te(t){var e=zte(t,"string");return typeof e=="symbol"?e:e+""}function zte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fte=t=>t.brush.height;function qte(t){var e=Hy(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:um;return r+i}return r},0)}function Hte(t){var e=Hy(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:um;return r+i}return r},0)}function Kte(t){var e=qy(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Gte(t){var e=qy(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var zr=re([io,ao,TM,Fte,qte,Hte,Kte,Gte,Y5,dee],(t,e,r,n,i,a,l,c,f,h)=>{var p={left:(r.left||0)+i,right:(r.right||0)+a},g={top:(r.top||0)+l,bottom:(r.bottom||0)+c},v=ag(ag({},g),p),b=v.bottom;v.bottom+=n,v=Ste(v,f,h);var A=t-v.left-v.right,E=e-v.top-v.bottom;return ag(ag({brushBottom:b},v),{},{width:Math.max(A,0),height:Math.max(E,0)})}),Wte=re(zr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),IE=re(io,ao,(t,e)=>({x:0,y:0,width:t,height:e})),Yte=_.createContext(null),Nn=()=>_.useContext(Yte)!=null,Ky=t=>t.brush,Gy=re([Ky,zr,TM],(t,e,r)=>({height:t.height,x:ke(t.x)?t.x:e.left,y:ke(t.y)?t.y:e.top+e.height+e.brushBottom-(r?.bottom||0),width:ke(t.width)?t.width:e.width})),RE=()=>{var t,e=Nn(),r=Pe(Wte),n=Pe(Gy),i=(t=Pe(Ky))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},Xte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},CM=()=>{var t;return(t=Pe(zr))!==null&&t!==void 0?t:Xte},DE=()=>Pe(io),ME=()=>Pe(ao),Qte=()=>Pe(t=>t.layout.margin),rt=t=>t.layout.layoutType,dm=()=>Pe(rt),Zte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},PM=gi({name:"legend",initialState:Zte,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=zs(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:Ek,setLegendSettings:Jte,addLegendPayload:kM,removeLegendPayload:OM}=PM.actions,ere=PM.reducer,tre=["contextPayload"];function h2(){return h2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h2.apply(null,arguments)}function Ak(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(r),!0).forEach(function(n){LE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LE(t,e,r){return(e=rre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rre(t){var e=nre(t,"string");return typeof e=="symbol"?e:e+""}function nre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ire(t,e){if(t==null)return{};var r,n,i=are(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function are(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function sre(t){return t.value}function ore(t){var{contextPayload:e}=t,r=ire(t,tre),n=H5(e,t.payloadUniqBy,sre),i=dd(dd({},r),{},{payload:n});return _.isValidElement(t.content)?_.cloneElement(t.content,i):typeof t.content=="function"?_.createElement(t.content,i):_.createElement(AE,i)}function lre(t,e,r,n,i,a){var{layout:l,align:c,verticalAlign:f}=e,h,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(c==="center"&&l==="vertical"?h={left:((n||0)-a.width)/2}:h=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?p={top:((i||0)-a.height)/2}:p=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),dd(dd({},h),p)}function cre(t){var e=ar();return _.useEffect(()=>{e(Jte(t))},[e,t]),null}function ure(t){var e=ar();return _.useEffect(()=>(e(Ek(t)),()=>{e(Ek({width:0,height:0}))}),[e,t]),null}function dre(t){var e=mee(),r=jZ(),n=Qte(),{width:i,height:a,wrapperStyle:l,portal:c}=t,[f,h]=X5([e]),p=DE(),g=ME();if(p==null||g==null)return null;var v=p-(n.left||0)-(n.right||0),b=El.getWidthOrHeight(t.layout,a,i,v),A=c?l:dd(dd({position:"absolute",width:b?.width||i||"auto",height:b?.height||a||"auto"},lre(l,t,n,p,g,f)),l),E=c??r;if(E==null)return null;var S=_.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:h},_.createElement(cre,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),_.createElement(ure,{width:f.width,height:f.height}),_.createElement(ore,h2({},t,b,{margin:n,chartWidth:p,chartHeight:g,contextPayload:e})));return bI.createPortal(S,E)}class El extends _.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&ke(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return _.createElement(dre,this.props)}}LE(El,"displayName","Legend");LE(El,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function m2(){return m2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m2.apply(null,arguments)}function Sk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(r),!0).forEach(function(n){fre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fre(t,e,r){return(e=hre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hre(t){var e=mre(t,"string");return typeof e=="symbol"?e:e+""}function mre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pre(t){return Array.isArray(t)&&Wa(t[0])&&Wa(t[1])?t.join(" ~ "):t}var gre=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:l,itemSorter:c,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:v=!1}=t,b=()=>{if(a&&a.length){var z={padding:0,margin:0},M=(c?Vy(a,c):a).map((I,P)=>{if(I.type==="none")return null;var R=I.formatter||l||pre,{value:U,name:B}=I,q=U,V=B;if(R){var xe=R(U,B,I,P,a);if(Array.isArray(xe))[q,V]=xe;else if(xe!=null)q=xe;else return null}var fe=Fw({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},n);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:fe},Wa(V)?_.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Wa(V)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},q),_.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:z},M)}return null},A=Fw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),E=Fw({margin:0},i),S=!qt(p),N=S?p:"",C=ut("recharts-default-tooltip",f),j=ut("recharts-tooltip-label",h);S&&g&&a!==void 0&&a!==null&&(N=g(p,a));var L=v?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",m2({className:C,style:A},L),_.createElement("p",{className:j,style:E},_.isValidElement(N)?N:"".concat(N)),b())},Yf="recharts-tooltip-wrapper",yre={visibility:"hidden"};function vre(t){var{coordinate:e,translateX:r,translateY:n}=t;return ut(Yf,{["".concat(Yf,"-right")]:ke(r)&&e&&ke(e.x)&&r>=e.x,["".concat(Yf,"-left")]:ke(r)&&e&&ke(e.x)&&r<e.x,["".concat(Yf,"-bottom")]:ke(n)&&e&&ke(e.y)&&n>=e.y,["".concat(Yf,"-top")]:ke(n)&&e&&ke(e.y)&&n<e.y})}function Tk(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:c,viewBox:f,viewBoxDimension:h}=t;if(a&&ke(a[n]))return a[n];var p=r[n]-c-(i>0?i:0),g=r[n]+i;if(e[n])return l[n]?p:g;var v=f[n];if(v==null)return 0;if(l[n]){var b=p,A=v;return b<A?Math.max(g,v):Math.max(p,v)}if(h==null)return 0;var E=g+c,S=v+h;return E>S?Math.max(p,v):Math.max(g,v)}function xre(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function bre(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:c,viewBox:f}=t,h,p,g;return l.height>0&&l.width>0&&r?(p=Tk({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=Tk({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=xre({translateX:p,translateY:g,useTranslate3d:c})):h=yre,{cssProperties:h,cssClasses:vre({translateX:p,translateY:g,coordinate:r})}}function Nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(r),!0).forEach(function(n){p2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p2(t,e,r){return(e=wre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wre(t){var e=_re(t,"string");return typeof e=="symbol"?e:e+""}function _re(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ere extends _.PureComponent{constructor(){super(...arguments),p2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),p2(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:l,hasPayload:c,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:v,viewBox:b,wrapperStyle:A,lastBoundingBox:E,innerRef:S,hasPortalFromProps:N}=this.props,{cssClasses:C,cssProperties:j}=bre({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:v,viewBox:b}),L=N?{}:sg(sg({transition:f&&e?"transform ".concat(n,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),z=sg(sg({},L),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},A);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:z,ref:S},a)}}var Are=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),so={devToolsEnabled:!1,isSsr:Are()},IM=()=>Pe(t=>t.rootProps.accessibilityLayer);function mn(t){return Number.isFinite(t)}function fd(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function g2(){return g2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g2.apply(null,arguments)}function jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ck(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(r),!0).forEach(function(n){Sre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sre(t,e,r){return(e=Tre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tre(t){var e=Nre(t,"string");return typeof e=="symbol"?e:e+""}function Nre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pk={curveBasisClosed:GZ,curveBasisOpen:WZ,curveBasis:KZ,curveBumpX:OZ,curveBumpY:IZ,curveLinearClosed:YZ,curveLinear:My,curveMonotoneX:XZ,curveMonotoneY:QZ,curveNatural:ZZ,curveStep:JZ,curveStepAfter:tJ,curveStepBefore:eJ},og=t=>mn(t.x)&&mn(t.y),Xf=t=>t.x,Qf=t=>t.y,jre=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(sm(t));return(r==="curveMonotone"||r==="curveBump")&&e?Pk["".concat(r).concat(e==="vertical"?"Y":"X")]:Pk[r]||My},Cre=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=t,l=jre(e,i),c=a?r.filter(og):r,f;if(Array.isArray(n)){var h=a?n.filter(g=>og(g)):n,p=c.map((g,v)=>Ck(Ck({},g),{},{base:h[v]}));return i==="vertical"?f=Jp().y(Qf).x1(Xf).x0(g=>g.base.x):f=Jp().x(Xf).y1(Qf).y0(g=>g.base.y),f.defined(og).curve(l),f(p)}return i==="vertical"&&ke(n)?f=Jp().y(Qf).x1(Xf).x0(n):ke(n)?f=Jp().x(Xf).y1(Qf).y0(n):f=S5().x(Xf).y(Qf),f.defined(og).curve(l),f(c)},Xu=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var a=r&&r.length?Cre(t):n;return _.createElement("path",g2({},Hi(t),gE(t),{className:ut("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Pre=["x","y","top","left","width","height","className"];function y2(){return y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y2.apply(null,arguments)}function kk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kre(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(r),!0).forEach(function(n){Ore(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ore(t,e,r){return(e=Ire(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ire(t){var e=Rre(t,"string");return typeof e=="symbol"?e:e+""}function Rre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dre(t,e){if(t==null)return{};var r,n,i=Mre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Mre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Lre=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),Vre=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:l=0,className:c}=t,f=Dre(t,Pre),h=kre({x:e,y:r,top:n,left:i,width:a,height:l},f);return!ke(e)||!ke(r)||!ke(a)||!ke(l)||!ke(n)||!ke(i)?null:_.createElement("path",y2({},Ht(h,!0),{className:ut("recharts-cross",c),d:Lre(e,r,a,l,n,i)}))};function Bre(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Ok(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ure(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(r),!0).forEach(function(n){$re(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $re(t,e,r){return(e=zre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zre(t){var e=Fre(t,"string");return typeof e=="symbol"?e:e+""}function Fre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fr(t,e){var r=Ure({},t),n=e,i=Object.keys(e),a=i.reduce((l,c)=>(l[c]===void 0&&n[c]!==void 0&&(l[c]=n[c]),l),r);return a}function qre(){}function Ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(r),!0).forEach(function(n){Hre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hre(t,e,r){return(e=Kre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kre(t){var e=Gre(t,"string");return typeof e=="symbol"?e:e+""}function Gre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wre=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),RM=(t,e,r)=>t.map(n=>"".concat(Wre(n)," ").concat(e,"ms ").concat(r)).join(","),Yre=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),kh=(t,e)=>Object.keys(e).reduce((r,n)=>Rk(Rk({},r),{},{[n]:t(n,e[n])}),{});function Dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(r),!0).forEach(function(n){Xre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xre(t,e,r){return(e=Qre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qre(t){var e=Zre(t,"string");return typeof e=="symbol"?e:e+""}function Zre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N0=(t,e,r)=>t+(e-t)*r,v2=t=>{var{from:e,to:r}=t;return e!==r},DM=(t,e,r)=>{var n=kh((i,a)=>{if(v2(a)){var[l,c]=t(a.from,a.to,a.velocity);return dn(dn({},a),{},{from:l,velocity:c})}return a},e);return r<1?kh((i,a)=>v2(a)?dn(dn({},a),{},{velocity:N0(a.velocity,n[i].velocity,r),from:N0(a.from,n[i].from,r)}):a,e):DM(t,n,r-1)};function Jre(t,e,r,n,i,a){var l,c=n.reduce((v,b)=>dn(dn({},v),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>kh((v,b)=>b.from,c),h=()=>!Object.values(c).filter(v2).length,p=null,g=v=>{l||(l=v);var b=v-l,A=b/r.dt;c=DM(r,c,A),i(dn(dn(dn({},t),e),f())),l=v,h()||(p=a.setTimeout(g))};return()=>(p=a.setTimeout(g),()=>{p()})}function ene(t,e,r,n,i,a,l){var c=null,f=i.reduce((g,v)=>dn(dn({},g),{},{[v]:[t[v],e[v]]}),{}),h,p=g=>{h||(h=g);var v=(g-h)/n,b=kh((E,S)=>N0(...S,r(v)),f);if(a(dn(dn(dn({},t),e),b)),v<1)c=l.setTimeout(p);else{var A=kh((E,S)=>N0(...S,r(1)),f);a(dn(dn(dn({},t),e),A))}};return()=>(c=l.setTimeout(p),()=>{c()})}const tne=(t,e,r,n,i,a)=>{var l=Yre(t,e);return r.isStepper===!0?Jre(t,e,r,l,i,a):ene(t,e,r,n,l,i,a)};var j0=1e-4,MM=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],LM=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),Mk=(t,e)=>r=>{var n=MM(t,e);return LM(n,r)},rne=(t,e)=>r=>{var n=MM(t,e),i=[...n.map((a,l)=>a*l).slice(1),0];return LM(i,r)},Lk=function(){for(var e,r,n,i,a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var f=l[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,n,r,i]=f[1].split(")")[0].split(",").map(A=>parseFloat(A)))}}else l.length===4&&([e,n,r,i]=l);var h=Mk(e,r),p=Mk(n,i),g=rne(e,r),v=A=>A>1?1:A<0?0:A,b=A=>{for(var E=A>1?1:A,S=E,N=0;N<8;++N){var C=h(S)-E,j=g(S);if(Math.abs(C-E)<j0||j<j0)return p(S);S=v(S-C/j)}return p(S)};return b.isStepper=!1,b},nne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(l,c,f)=>{var h=-(l-c)*r,p=f*n,g=f+(h-p)*i/1e3,v=f*i/1e3+l;return Math.abs(v-c)<j0&&Math.abs(g)<j0?[c,0]:[v,g]};return a.isStepper=!0,a.dt=i,a},ine=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Lk(t);case"spring":return nne();default:if(t.split("(")[0]==="cubic-bezier")return Lk(t)}return typeof t=="function"?t:null};function ane(t){var e,r=()=>null,n=!1,i=null,a=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var c=l,[f,...h]=c;if(typeof f=="number"){i=t.setTimeout(a.bind(null,h),f);return}a(f),i=t.setTimeout(a.bind(null,h));return}typeof l=="string"&&(e=l,r(e)),typeof l=="object"&&(e=l,r(e)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,i&&(i(),i=null),a(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>t}}class sne{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=l=>{l-n>=r?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function one(){return ane(new sne)}var lne=_.createContext(one);function cne(t,e){var r=_.useContext(lne);return _.useMemo(()=>e??r(t),[t,e,r])}var une={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Vk={t:0},qw={t:1};function Pd(t){var e=Fr(t,une),{isActive:r,canBegin:n,duration:i,easing:a,begin:l,onAnimationEnd:c,onAnimationStart:f,children:h}=e,p=cne(e.animationId,e.animationManager),[g,v]=_.useState(r?Vk:qw),b=_.useRef(null);return _.useEffect(()=>{r||v(qw)},[r]),_.useEffect(()=>{if(!r||!n)return qre;var A=tne(Vk,qw,ine(a),i,v,p.getTimeoutController()),E=()=>{b.current=A()};return p.start([f,l,E,i,c]),()=>{p.stop(),b.current&&b.current(),c()}},[r,n,i,a,l,f,c,p]),h(g.t)}function kd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=_.useRef(jh(e)),n=_.useRef(t);return n.current!==t&&(r.current=jh(e),n.current=t),r.current}function Bk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(r),!0).forEach(function(n){dne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dne(t,e,r){return(e=fne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fne(t){var e=hne(t,"string");return typeof e=="symbol"?e:e+""}function hne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C0.apply(null,arguments)}var $k=(t,e,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,c=r>=0?1:-1,f=n>=0&&r>=0||n<0&&r<0?1:0,h;if(a>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=i[g]>a?a:i[g];h="M".concat(t,",").concat(e+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(t+c*p[0],",").concat(e)),h+="L ".concat(t+r-c*p[1],",").concat(e),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(t+r,",").concat(e+l*p[1])),h+="L ".concat(t+r,",").concat(e+n-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(t+r-c*p[2],",").concat(e+n)),h+="L ".concat(t+c*p[3],",").concat(e+n),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+n-l*p[3])),h+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);h="M ".concat(t,",").concat(e+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+c*b,",").concat(e,`
            L `).concat(t+r-c*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+r,",").concat(e+l*b,`
            L `).concat(t+r,",").concat(e+n-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+r-c*b,",").concat(e+n,`
            L `).concat(t+c*b,",").concat(e+n,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(e+n-l*b," Z")}else h="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return h},mne={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VM=t=>{var e=Fr(t,mne),r=_.useRef(null),[n,i]=_.useState(-1);_.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var xe=r.current.getTotalLength();xe&&i(xe)}catch{}},[]);var{x:a,y:l,width:c,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:v,animationBegin:b,isAnimationActive:A,isUpdateAnimationActive:E}=e,S=_.useRef(c),N=_.useRef(f),C=_.useRef(a),j=_.useRef(l),L=_.useMemo(()=>({x:a,y:l,width:c,height:f,radius:h}),[a,l,c,f,h]),z=kd(L,"rectangle-");if(a!==+a||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var M=ut("recharts-rectangle",p);if(!E)return _.createElement("path",C0({},Ht(e,!0),{className:M,d:$k(a,l,c,f,h)}));var I=S.current,P=N.current,R=C.current,U=j.current,B="0px ".concat(n===-1?1:n,"px"),q="".concat(n,"px 0px"),V=RM(["strokeDasharray"],v,typeof g=="string"?g:void 0);return _.createElement(Pd,{animationId:z,key:z,canBegin:n>0,duration:v,easing:g,isActive:E,begin:b},xe=>{var fe=jt(I,c,xe),W=jt(P,f,xe),K=jt(R,a,xe),le=jt(U,l,xe);r.current&&(S.current=fe,N.current=W,C.current=K,j.current=le);var pe;return A?xe>0?pe={transition:V,strokeDasharray:q}:pe={strokeDasharray:B}:pe={strokeDasharray:q},_.createElement("path",C0({},Ht(e,!0),{className:M,d:$k(K,le,fe,W,h),ref:r,style:Uk(Uk({},pe),e.style)}))})};function BM(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,l=Ir(e,r,n,i),c=Ir(e,r,n,a);return{points:[l,c],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function x2(){return x2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x2.apply(null,arguments)}var pne=(t,e)=>{var r=Zr(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},lg=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:l,cornerRadius:c,cornerIsExternal:f}=t,h=c*(l?1:-1)+n,p=Math.asin(c/h)/S0,g=f?i:i+a*p,v=Ir(e,r,h,g),b=Ir(e,r,n,g),A=f?i-a*p:i,E=Ir(e,r,h*Math.cos(p*S0),A);return{center:v,circleTangency:b,lineTangency:E,theta:p}},UM=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:l}=t,c=pne(a,l),f=a+c,h=Ir(e,r,i,a),p=Ir(e,r,i,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(n>0){var v=Ir(e,r,n,a),b=Ir(e,r,n,f);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(e,",").concat(r," Z");return g},gne=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:h}=t,p=Zr(h-f),{circleTangency:g,lineTangency:v,theta:b}=lg({cx:e,cy:r,radius:i,angle:f,sign:p,cornerRadius:a,cornerIsExternal:c}),{circleTangency:A,lineTangency:E,theta:S}=lg({cx:e,cy:r,radius:i,angle:h,sign:-p,cornerRadius:a,cornerIsExternal:c}),N=c?Math.abs(f-h):Math.abs(f-h)-b-S;if(N<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):UM({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:f,endAngle:h});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:L,theta:z}=lg({cx:e,cy:r,radius:n,angle:f,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:M,lineTangency:I,theta:P}=lg({cx:e,cy:r,radius:n,angle:h,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),R=c?Math.abs(f-h):Math.abs(f-h)-z-P;if(R<0&&a===0)return"".concat(C,"L").concat(e,",").concat(r,"Z");C+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(R>180),",").concat(+(p>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,"Z")}else C+="L".concat(e,",").concat(r,"Z");return C},yne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$M=t=>{var e=Fr(t,yne),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(a<i||h===p)return null;var v=ut("recharts-sector",g),b=a-i,A=An(l,b,0,!0),E;return A>0&&Math.abs(h-p)<360?E=gne({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(A,b/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}):E=UM({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:h,endAngle:p}),_.createElement("path",x2({},Ht(e,!0),{className:v,d:E}))};function vne(t,e,r){var n,i,a,l;if(t==="horizontal")n=e.x,a=n,i=r.top,l=r.top+r.height;else if(t==="vertical")i=e.y,l=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:f,innerRadius:h,outerRadius:p,angle:g}=e,v=Ir(c,f,h,g),b=Ir(c,f,p,g);n=v.x,i=v.y,a=b.x,l=b.y}else return BM(e);return[{x:n,y:i},{x:a,y:l}]}var Hw={},Kw={},Gw={},zk;function xne(){return zk||(zk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G5();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(Gw)),Gw}var Fk;function bne(){return Fk||(Fk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xne();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(Kw)),Kw}var qk;function wne(){return qk||(qk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W5(),r=bne();function n(i,a,l){l&&typeof l!="number"&&e.isIterateeCall(i,a,l)&&(a=l=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),l=l===void 0?i<a?1:-1:r.toFinite(l);const c=Math.max(Math.ceil((a-i)/(l||1)),0),f=new Array(c);for(let h=0;h<c;h++)f[h]=i,i+=l;return f}t.range=n})(Hw)),Hw}var Ww,Hk;function _ne(){return Hk||(Hk=1,Ww=wne().range),Ww}var Ene=_ne();const zM=Za(Ene);function sl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ane(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VE(t){let e,r,n;t.length!==2?(e=sl,r=(c,f)=>sl(t(c),f),n=(c,f)=>t(c)-f):(e=t===sl||t===Ane?t:Sne,r=t,n=t);function i(c,f,h=0,p=c.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;r(c[g],f)<0?h=g+1:p=g}while(h<p)}return h}function a(c,f,h=0,p=c.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;r(c[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(c,f,h=0,p=c.length){const g=i(c,f,h,p-1);return g>h&&n(c[g-1],f)>-n(c[g],f)?g-1:g}return{left:i,center:l,right:a}}function Sne(){return 0}function FM(t){return t===null?NaN:+t}function*Tne(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Nne=VE(sl),fm=Nne.right;VE(FM).center;class Kk extends Map{constructor(e,r=Pne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Gk(this,e))}has(e){return super.has(Gk(this,e))}set(e,r){return super.set(jne(this,e),r)}delete(e){return super.delete(Cne(this,e))}}function Gk({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function jne({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Cne({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Pne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function kne(t=sl){if(t===sl)return qM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function qM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const One=Math.sqrt(50),Ine=Math.sqrt(10),Rne=Math.sqrt(2);function P0(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),l=a>=One?10:a>=Ine?5:a>=Rne?2:1;let c,f,h;return i<0?(h=Math.pow(10,-i)/l,c=Math.round(t*h),f=Math.round(e*h),c/h<t&&++c,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,c=Math.round(t/h),f=Math.round(e/h),c*h<t&&++c,f*h>e&&--f),f<c&&.5<=r&&r<2?P0(t,e,r*2):[c,f,h]}function b2(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,l]=n?P0(e,t,r):P0(t,e,r);if(!(a>=i))return[];const c=a-i+1,f=new Array(c);if(n)if(l<0)for(let h=0;h<c;++h)f[h]=(a-h)/-l;else for(let h=0;h<c;++h)f[h]=(a-h)*l;else if(l<0)for(let h=0;h<c;++h)f[h]=(i+h)/-l;else for(let h=0;h<c;++h)f[h]=(i+h)*l;return f}function w2(t,e,r){return e=+e,t=+t,r=+r,P0(t,e,r)[2]}function _2(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?w2(e,t,r):w2(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function Wk(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Yk(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function HM(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?qM:kne(i);n>r;){if(n-r>600){const f=n-r+1,h=e-r+1,p=Math.log(f),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),b=Math.max(r,Math.floor(e-h*g/f+v)),A=Math.min(n,Math.floor(e+(f-h)*g/f+v));HM(t,e,b,A,i)}const a=t[e];let l=r,c=n;for(Zf(t,r,e),i(t[n],a)>0&&Zf(t,r,n);l<c;){for(Zf(t,l,c),++l,--c;i(t[l],a)<0;)++l;for(;i(t[c],a)>0;)--c}i(t[r],a)===0?Zf(t,r,c):(++c,Zf(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function Zf(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Dne(t,e,r){if(t=Float64Array.from(Tne(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Yk(t);if(e>=1)return Wk(t);var n,i=(n-1)*e,a=Math.floor(i),l=Wk(HM(t,a).subarray(0,a+1)),c=Yk(t.subarray(a+1));return l+(c-l)*(i-a)}}function Mne(t,e,r=FM){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),l=+r(t[a],a,t),c=+r(t[a+1],a+1,t);return l+(c-l)*(i-a)}}function Lne(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Ki(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function oo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const E2=Symbol("implicit");function BE(){var t=new Kk,e=[],r=[],n=E2;function i(a){let l=t.get(a);if(l===void 0){if(n!==E2)return n;t.set(a,l=e.push(a)-1)}return r[l%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Kk;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return BE(e,r).unknown(n)},Ki.apply(i,arguments),i}function UE(){var t=BE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,l,c=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var v=e().length,b=i<n,A=b?i:n,E=b?n:i;a=(E-A)/Math.max(1,v-f+h*2),c&&(a=Math.floor(a)),A+=(E-A-a*(v-f))*p,l=a*(1-f),c&&(A=Math.round(A),l=Math.round(l));var S=Lne(v).map(function(N){return A+a*N});return r(b?S.reverse():S)}return t.domain=function(v){return arguments.length?(e(v),g()):e()},t.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,g()):[n,i]},t.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,c=!0,g()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(v){return arguments.length?(c=!!v,g()):c},t.padding=function(v){return arguments.length?(f=Math.min(1,h=+v),g()):f},t.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},t.paddingOuter=function(v){return arguments.length?(h=+v,g()):h},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},t.copy=function(){return UE(e(),[n,i]).round(c).paddingInner(f).paddingOuter(h).align(p)},Ki.apply(g(),arguments)}function KM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return KM(e())},t}function Vne(){return KM(UE.apply(null,arguments).paddingInner(1))}function $E(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function GM(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function hm(){}var Oh=.7,k0=1/Oh,Qu="\\s*([+-]?\\d+)\\s*",Ih="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bne=/^#([0-9a-f]{3,8})$/,Une=new RegExp(`^rgb\\(${Qu},${Qu},${Qu}\\)$`),$ne=new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`),zne=new RegExp(`^rgba\\(${Qu},${Qu},${Qu},${Ih}\\)$`),Fne=new RegExp(`^rgba\\(${qa},${qa},${qa},${Ih}\\)$`),qne=new RegExp(`^hsl\\(${Ih},${qa},${qa}\\)$`),Hne=new RegExp(`^hsla\\(${Ih},${qa},${qa},${Ih}\\)$`),Xk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$E(hm,Rh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Qk,formatHex:Qk,formatHex8:Kne,formatHsl:Gne,formatRgb:Zk,toString:Zk});function Qk(){return this.rgb().formatHex()}function Kne(){return this.rgb().formatHex8()}function Gne(){return WM(this).formatHsl()}function Zk(){return this.rgb().formatRgb()}function Rh(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Bne.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Jk(e):r===3?new Kn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?cg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?cg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Une.exec(t))?new Kn(e[1],e[2],e[3],1):(e=$ne.exec(t))?new Kn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=zne.exec(t))?cg(e[1],e[2],e[3],e[4]):(e=Fne.exec(t))?cg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qne.exec(t))?rO(e[1],e[2]/100,e[3]/100,1):(e=Hne.exec(t))?rO(e[1],e[2]/100,e[3]/100,e[4]):Xk.hasOwnProperty(t)?Jk(Xk[t]):t==="transparent"?new Kn(NaN,NaN,NaN,0):null}function Jk(t){return new Kn(t>>16&255,t>>8&255,t&255,1)}function cg(t,e,r,n){return n<=0&&(t=e=r=NaN),new Kn(t,e,r,n)}function Wne(t){return t instanceof hm||(t=Rh(t)),t?(t=t.rgb(),new Kn(t.r,t.g,t.b,t.opacity)):new Kn}function A2(t,e,r,n){return arguments.length===1?Wne(t):new Kn(t,e,r,n??1)}function Kn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}$E(Kn,A2,GM(hm,{brighter(t){return t=t==null?k0:Math.pow(k0,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Oh:Math.pow(Oh,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kn(_c(this.r),_c(this.g),_c(this.b),O0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eO,formatHex:eO,formatHex8:Yne,formatRgb:tO,toString:tO}));function eO(){return`#${pc(this.r)}${pc(this.g)}${pc(this.b)}`}function Yne(){return`#${pc(this.r)}${pc(this.g)}${pc(this.b)}${pc((isNaN(this.opacity)?1:this.opacity)*255)}`}function tO(){const t=O0(this.opacity);return`${t===1?"rgb(":"rgba("}${_c(this.r)}, ${_c(this.g)}, ${_c(this.b)}${t===1?")":`, ${t})`}`}function O0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _c(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function pc(t){return t=_c(t),(t<16?"0":"")+t.toString(16)}function rO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ca(t,e,r,n)}function WM(t){if(t instanceof ca)return new ca(t.h,t.s,t.l,t.opacity);if(t instanceof hm||(t=Rh(t)),!t)return new ca;if(t instanceof ca)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),l=NaN,c=a-i,f=(a+i)/2;return c?(e===a?l=(r-n)/c+(r<n)*6:r===a?l=(n-e)/c+2:l=(e-r)/c+4,c/=f<.5?a+i:2-a-i,l*=60):c=f>0&&f<1?0:l,new ca(l,c,f,t.opacity)}function Xne(t,e,r,n){return arguments.length===1?WM(t):new ca(t,e,r,n??1)}function ca(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}$E(ca,Xne,GM(hm,{brighter(t){return t=t==null?k0:Math.pow(k0,t),new ca(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Oh:Math.pow(Oh,t),new ca(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Kn(Yw(t>=240?t-240:t+120,i,n),Yw(t,i,n),Yw(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ca(nO(this.h),ug(this.s),ug(this.l),O0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=O0(this.opacity);return`${t===1?"hsl(":"hsla("}${nO(this.h)}, ${ug(this.s)*100}%, ${ug(this.l)*100}%${t===1?")":`, ${t})`}`}}));function nO(t){return t=(t||0)%360,t<0?t+360:t}function ug(t){return Math.max(0,Math.min(1,t||0))}function Yw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const zE=t=>()=>t;function Qne(t,e){return function(r){return t+r*e}}function Zne(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Jne(t){return(t=+t)==1?YM:function(e,r){return r-e?Zne(e,r,t):zE(isNaN(e)?r:e)}}function YM(t,e){var r=e-t;return r?Qne(t,r):zE(isNaN(t)?e:t)}const iO=(function t(e){var r=Jne(e);function n(i,a){var l=r((i=A2(i)).r,(a=A2(a)).r),c=r(i.g,a.g),f=r(i.b,a.b),h=YM(i.opacity,a.opacity);return function(p){return i.r=l(p),i.g=c(p),i.b=f(p),i.opacity=h(p),i+""}}return n.gamma=t,n})(1);function eie(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function tie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rie(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),l;for(l=0;l<n;++l)i[l]=Od(t[l],e[l]);for(;l<r;++l)a[l]=e[l];return function(c){for(l=0;l<n;++l)a[l]=i[l](c);return a}}function nie(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function I0(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function iie(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Od(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var S2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xw=new RegExp(S2.source,"g");function aie(t){return function(){return t}}function sie(t){return function(e){return t(e)+""}}function oie(t,e){var r=S2.lastIndex=Xw.lastIndex=0,n,i,a,l=-1,c=[],f=[];for(t=t+"",e=e+"";(n=S2.exec(t))&&(i=Xw.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),c[l]?c[l]+=a:c[++l]=a),(n=n[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:I0(n,i)})),r=Xw.lastIndex;return r<e.length&&(a=e.slice(r),c[l]?c[l]+=a:c[++l]=a),c.length<2?f[0]?sie(f[0].x):aie(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)c[(g=f[p]).i]=g.x(h);return c.join("")})}function Od(t,e){var r=typeof e,n;return e==null||r==="boolean"?zE(e):(r==="number"?I0:r==="string"?(n=Rh(e))?(e=n,iO):oie:e instanceof Rh?iO:e instanceof Date?nie:tie(e)?eie:Array.isArray(e)?rie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iie:I0)(t,e)}function FE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function lie(t,e){e===void 0&&(e=t,t=Od);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(l){var c=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return a[c](l-c)}}function cie(t){return function(){return t}}function R0(t){return+t}var aO=[0,1];function Rn(t){return t}function T2(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:cie(isNaN(e)?NaN:.5)}function uie(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function die(t,e,r){var n=t[0],i=t[1],a=e[0],l=e[1];return i<n?(n=T2(i,n),a=r(l,a)):(n=T2(n,i),a=r(a,l)),function(c){return a(n(c))}}function fie(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)i[l]=T2(t[l],t[l+1]),a[l]=r(e[l],e[l+1]);return function(c){var f=fm(t,c,1,n)-1;return a[f](i[f](c))}}function mm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Wy(){var t=aO,e=aO,r=Od,n,i,a,l=Rn,c,f,h;function p(){var v=Math.min(t.length,e.length);return l!==Rn&&(l=uie(t[0],t[v-1])),c=v>2?fie:die,f=h=null,g}function g(v){return v==null||isNaN(v=+v)?a:(f||(f=c(t.map(n),e,r)))(n(l(v)))}return g.invert=function(v){return l(i((h||(h=c(e,t.map(n),I0)))(v)))},g.domain=function(v){return arguments.length?(t=Array.from(v,R0),p()):t.slice()},g.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},g.rangeRound=function(v){return e=Array.from(v),r=FE,p()},g.clamp=function(v){return arguments.length?(l=v?!0:Rn,p()):l!==Rn},g.interpolate=function(v){return arguments.length?(r=v,p()):r},g.unknown=function(v){return arguments.length?(a=v,g):a},function(v,b){return n=v,i=b,p()}}function qE(){return Wy()(Rn,Rn)}function hie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function D0(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function hd(t){return t=D0(Math.abs(t)),t?t[1]:NaN}function mie(t,e){return function(r,n){for(var i=r.length,a=[],l=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>n&&(c=Math.max(1,n-f)),a.push(r.substring(i-=c,i+c)),!((f+=c+1)>n));)c=t[l=(l+1)%t.length];return a.reverse().join(e)}}function pie(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var gie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dh(t){if(!(e=gie.exec(t)))throw new Error("invalid format: "+t);var e;return new HE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Dh.prototype=HE.prototype;function HE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}HE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yie(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var XM;function vie(t,e){var r=D0(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(XM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return a===l?n:a>l?n+new Array(a-l+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+D0(t,Math.max(0,e+a-1))[0]}function sO(t,e){var r=D0(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const oO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:hie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sO(t*100,e),r:sO,s:vie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function lO(t){return t}var cO=Array.prototype.map,uO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xie(t){var e=t.grouping===void 0||t.thousands===void 0?lO:mie(cO.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?lO:pie(cO.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=Dh(g);var v=g.fill,b=g.align,A=g.sign,E=g.symbol,S=g.zero,N=g.width,C=g.comma,j=g.precision,L=g.trim,z=g.type;z==="n"?(C=!0,z="g"):oO[z]||(j===void 0&&(j=12),L=!0,z="g"),(S||v==="0"&&b==="=")&&(S=!0,v="0",b="=");var M=E==="$"?r:E==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",I=E==="$"?n:/[%p]/.test(z)?l:"",P=oO[z],R=/[defgprs%]/.test(z);j=j===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function U(B){var q=M,V=I,xe,fe,W;if(z==="c")V=P(B)+V,B="";else{B=+B;var K=B<0||1/B<0;if(B=isNaN(B)?f:P(Math.abs(B),j),L&&(B=yie(B)),K&&+B==0&&A!=="+"&&(K=!1),q=(K?A==="("?A:c:A==="-"||A==="("?"":A)+q,V=(z==="s"?uO[8+XM/3]:"")+V+(K&&A==="("?")":""),R){for(xe=-1,fe=B.length;++xe<fe;)if(W=B.charCodeAt(xe),48>W||W>57){V=(W===46?i+B.slice(xe+1):B.slice(xe))+V,B=B.slice(0,xe);break}}}C&&!S&&(B=e(B,1/0));var le=q.length+B.length+V.length,pe=le<N?new Array(N-le+1).join(v):"";switch(C&&S&&(B=e(pe+B,pe.length?N-V.length:1/0),pe=""),b){case"<":B=q+B+V+pe;break;case"=":B=q+pe+B+V;break;case"^":B=pe.slice(0,le=pe.length>>1)+q+B+V+pe.slice(le);break;default:B=pe+q+B+V;break}return a(B)}return U.toString=function(){return g+""},U}function p(g,v){var b=h((g=Dh(g),g.type="f",g)),A=Math.max(-8,Math.min(8,Math.floor(hd(v)/3)))*3,E=Math.pow(10,-A),S=uO[8+A/3];return function(N){return b(E*N)+S}}return{format:h,formatPrefix:p}}var dg,KE,QM;bie({thousands:",",grouping:[3],currency:["$",""]});function bie(t){return dg=xie(t),KE=dg.format,QM=dg.formatPrefix,dg}function wie(t){return Math.max(0,-hd(Math.abs(t)))}function _ie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hd(e)/3)))*3-hd(Math.abs(t)))}function Eie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hd(e)-hd(t))+1}function ZM(t,e,r,n){var i=_2(t,e,r),a;switch(n=Dh(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=_ie(i,l))&&(n.precision=a),QM(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Eie(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=wie(i))&&(n.precision=a-(n.type==="%")*2);break}}return KE(n)}function Al(t){var e=t.domain;return t.ticks=function(r){var n=e();return b2(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return ZM(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,l=n[i],c=n[a],f,h,p=10;for(c<l&&(h=l,l=c,c=h,h=i,i=a,a=h);p-- >0;){if(h=w2(l,c,r),h===f)return n[i]=l,n[a]=c,e(n);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;f=h}return t},t}function JM(){var t=qE();return t.copy=function(){return mm(t,JM())},Ki.apply(t,arguments),Al(t)}function e8(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,R0),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return e8(t).unknown(e)},t=arguments.length?Array.from(t,R0):[0,1],Al(r)}function t8(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],l;return a<i&&(l=r,r=n,n=l,l=i,i=a,a=l),t[r]=e.floor(i),t[n]=e.ceil(a),t}function dO(t){return Math.log(t)}function fO(t){return Math.exp(t)}function Aie(t){return-Math.log(-t)}function Sie(t){return-Math.exp(-t)}function Tie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Nie(t){return t===10?Tie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function hO(t){return(e,r)=>-t(-e,r)}function GE(t){const e=t(dO,fO),r=e.domain;let n=10,i,a;function l(){return i=jie(n),a=Nie(n),r()[0]<0?(i=hO(i),a=hO(a),t(Aie,Sie)):t(dO,fO),e}return e.base=function(c){return arguments.length?(n=+c,l()):n},e.domain=function(c){return arguments.length?(r(c),l()):r()},e.ticks=c=>{const f=r();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let v=i(h),b=i(p),A,E;const S=c==null?10:+c;let N=[];if(!(n%1)&&b-v<S){if(v=Math.floor(v),b=Math.ceil(b),h>0){for(;v<=b;++v)for(A=1;A<n;++A)if(E=v<0?A/a(-v):A*a(v),!(E<h)){if(E>p)break;N.push(E)}}else for(;v<=b;++v)for(A=n-1;A>=1;--A)if(E=v>0?A/a(-v):A*a(v),!(E<h)){if(E>p)break;N.push(E)}N.length*2<S&&(N=b2(h,p,S))}else N=b2(v,b,Math.min(b-v,S)).map(a);return g?N.reverse():N},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Dh(f)).precision==null&&(f.trim=!0),f=KE(f)),c===1/0)return f;const h=Math.max(1,n*c/e.ticks().length);return p=>{let g=p/a(Math.round(i(p)));return g*n<n-.5&&(g*=n),g<=h?f(p):""}},e.nice=()=>r(t8(r(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function r8(){const t=GE(Wy()).domain([1,10]);return t.copy=()=>mm(t,r8()).base(t.base()),Ki.apply(t,arguments),t}function mO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function pO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function WE(t){var e=1,r=t(mO(e),pO(e));return r.constant=function(n){return arguments.length?t(mO(e=+n),pO(e)):e},Al(r)}function n8(){var t=WE(Wy());return t.copy=function(){return mm(t,n8()).constant(t.constant())},Ki.apply(t,arguments)}function gO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Cie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Pie(t){return t<0?-t*t:t*t}function YE(t){var e=t(Rn,Rn),r=1;function n(){return r===1?t(Rn,Rn):r===.5?t(Cie,Pie):t(gO(r),gO(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Al(e)}function XE(){var t=YE(Wy());return t.copy=function(){return mm(t,XE()).exponent(t.exponent())},Ki.apply(t,arguments),t}function kie(){return XE.apply(null,arguments).exponent(.5)}function yO(t){return Math.sign(t)*t*t}function Oie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function i8(){var t=qE(),e=[0,1],r=!1,n;function i(a){var l=Oie(t(a));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(a){return t.invert(yO(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,R0)).map(yO)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return i8(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ki.apply(i,arguments),Al(i)}function a8(){var t=[],e=[],r=[],n;function i(){var l=0,c=Math.max(1,e.length);for(r=new Array(c-1);++l<c;)r[l-1]=Mne(t,l/c);return a}function a(l){return l==null||isNaN(l=+l)?n:e[fm(r,l)]}return a.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(sl),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(n=l,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return a8().domain(t).range(e).unknown(n)},Ki.apply(a,arguments)}function s8(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function l(f){return f!=null&&f<=f?i[fm(n,f,0,r)]:a}function c(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*e-(f-r)*t)/(r+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},l.range=function(f){return arguments.length?(r=(i=Array.from(f)).length-1,c()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},l.unknown=function(f){return arguments.length&&(a=f),l},l.thresholds=function(){return n.slice()},l.copy=function(){return s8().domain([t,e]).range(i).unknown(a)},Ki.apply(Al(l),arguments)}function o8(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[fm(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return o8().domain(t).range(e).unknown(r)},Ki.apply(i,arguments)}const Qw=new Date,Zw=new Date;function qr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),c=i.ceil(a);return a-l<c-a?l:c},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,c)=>{const f=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<l)||!(c>0))return f;let h;do f.push(h=new Date(+a)),e(a,c),t(a);while(h<a&&a<l);return f},i.filter=a=>qr(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!a(l););else for(;--c>=0;)for(;e(l,1),!a(l););}),r&&(i.count=(a,l)=>(Qw.setTime(+a),Zw.setTime(+l),t(Qw),t(Zw),Math.floor(r(Qw,Zw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?l=>n(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const M0=qr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);M0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?qr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):M0);M0.range;const Ds=1e3,Mi=Ds*60,Ms=Mi*60,Js=Ms*24,QE=Js*7,vO=Js*30,Jw=Js*365,gc=qr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getUTCSeconds());gc.range;const ZE=qr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ds)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getMinutes());ZE.range;const JE=qr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getUTCMinutes());JE.range;const eA=qr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ds-t.getMinutes()*Mi)},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getHours());eA.range;const tA=qr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getUTCHours());tA.range;const pm=qr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mi)/Js,t=>t.getDate()-1);pm.range;const Yy=qr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Js,t=>t.getUTCDate()-1);Yy.range;const l8=qr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Js,t=>Math.floor(t/Js));l8.range;function Wc(t){return qr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Mi)/QE)}const Xy=Wc(0),L0=Wc(1),Iie=Wc(2),Rie=Wc(3),md=Wc(4),Die=Wc(5),Mie=Wc(6);Xy.range;L0.range;Iie.range;Rie.range;md.range;Die.range;Mie.range;function Yc(t){return qr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/QE)}const Qy=Yc(0),V0=Yc(1),Lie=Yc(2),Vie=Yc(3),pd=Yc(4),Bie=Yc(5),Uie=Yc(6);Qy.range;V0.range;Lie.range;Vie.range;pd.range;Bie.range;Uie.range;const rA=qr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rA.range;const nA=qr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nA.range;const eo=qr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());eo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});eo.range;const to=qr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());to.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});to.range;function c8(t,e,r,n,i,a){const l=[[gc,1,Ds],[gc,5,5*Ds],[gc,15,15*Ds],[gc,30,30*Ds],[a,1,Mi],[a,5,5*Mi],[a,15,15*Mi],[a,30,30*Mi],[i,1,Ms],[i,3,3*Ms],[i,6,6*Ms],[i,12,12*Ms],[n,1,Js],[n,2,2*Js],[r,1,QE],[e,1,vO],[e,3,3*vO],[t,1,Jw]];function c(h,p,g){const v=p<h;v&&([h,p]=[p,h]);const b=g&&typeof g.range=="function"?g:f(h,p,g),A=b?b.range(h,+p+1):[];return v?A.reverse():A}function f(h,p,g){const v=Math.abs(p-h)/g,b=VE(([,,S])=>S).right(l,v);if(b===l.length)return t.every(_2(h/Jw,p/Jw,g));if(b===0)return M0.every(Math.max(_2(h,p,g),1));const[A,E]=l[v/l[b-1][2]<l[b][2]/v?b-1:b];return A.every(E)}return[c,f]}const[$ie,zie]=c8(to,nA,Qy,l8,tA,JE),[Fie,qie]=c8(eo,rA,Xy,pm,eA,ZE);function e1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function t1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Jf(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Hie(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,h=eh(i),p=th(i),g=eh(a),v=th(a),b=eh(l),A=th(l),E=eh(c),S=th(c),N=eh(f),C=th(f),j={a:K,A:le,b:pe,B:$,c:null,d:AO,e:AO,f:mae,g:Aae,G:Tae,H:dae,I:fae,j:hae,L:u8,m:pae,M:gae,p:Y,q:te,Q:NO,s:jO,S:yae,u:vae,U:xae,V:bae,w:wae,W:_ae,x:null,X:null,y:Eae,Y:Sae,Z:Nae,"%":TO},L={a:Q,A:oe,b:ye,B:we,c:null,d:SO,e:SO,f:kae,g:$ae,G:Fae,H:jae,I:Cae,j:Pae,L:f8,m:Oae,M:Iae,p:Le,q:Ke,Q:NO,s:jO,S:Rae,u:Dae,U:Mae,V:Lae,w:Vae,W:Bae,x:null,X:null,y:Uae,Y:zae,Z:qae,"%":TO},z={a:U,A:B,b:q,B:V,c:xe,d:_O,e:_O,f:oae,g:wO,G:bO,H:EO,I:EO,j:nae,L:sae,m:rae,M:iae,p:R,q:tae,Q:cae,s:uae,S:aae,u:Xie,U:Qie,V:Zie,w:Yie,W:Jie,x:fe,X:W,y:wO,Y:bO,Z:eae,"%":lae};j.x=M(r,j),j.X=M(n,j),j.c=M(e,j),L.x=M(r,L),L.X=M(n,L),L.c=M(e,L);function M(_e,Ve){return function(Se){var be=[],_t=-1,Je=0,mr=_e.length,sr,$e,wa;for(Se instanceof Date||(Se=new Date(+Se));++_t<mr;)_e.charCodeAt(_t)===37&&(be.push(_e.slice(Je,_t)),($e=xO[sr=_e.charAt(++_t)])!=null?sr=_e.charAt(++_t):$e=sr==="e"?" ":"0",(wa=Ve[sr])&&(sr=wa(Se,$e)),be.push(sr),Je=_t+1);return be.push(_e.slice(Je,_t)),be.join("")}}function I(_e,Ve){return function(Se){var be=Jf(1900,void 0,1),_t=P(be,_e,Se+="",0),Je,mr;if(_t!=Se.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(be.s*1e3+("L"in be?be.L:0));if(Ve&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+be.p*12),be.m===void 0&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(Je=t1(Jf(be.y,0,1)),mr=Je.getUTCDay(),Je=mr>4||mr===0?V0.ceil(Je):V0(Je),Je=Yy.offset(Je,(be.V-1)*7),be.y=Je.getUTCFullYear(),be.m=Je.getUTCMonth(),be.d=Je.getUTCDate()+(be.w+6)%7):(Je=e1(Jf(be.y,0,1)),mr=Je.getDay(),Je=mr>4||mr===0?L0.ceil(Je):L0(Je),Je=pm.offset(Je,(be.V-1)*7),be.y=Je.getFullYear(),be.m=Je.getMonth(),be.d=Je.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),mr="Z"in be?t1(Jf(be.y,0,1)).getUTCDay():e1(Jf(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+be.W*7-(mr+5)%7:be.w+be.U*7-(mr+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,t1(be)):e1(be)}}function P(_e,Ve,Se,be){for(var _t=0,Je=Ve.length,mr=Se.length,sr,$e;_t<Je;){if(be>=mr)return-1;if(sr=Ve.charCodeAt(_t++),sr===37){if(sr=Ve.charAt(_t++),$e=z[sr in xO?Ve.charAt(_t++):sr],!$e||(be=$e(_e,Se,be))<0)return-1}else if(sr!=Se.charCodeAt(be++))return-1}return be}function R(_e,Ve,Se){var be=h.exec(Ve.slice(Se));return be?(_e.p=p.get(be[0].toLowerCase()),Se+be[0].length):-1}function U(_e,Ve,Se){var be=b.exec(Ve.slice(Se));return be?(_e.w=A.get(be[0].toLowerCase()),Se+be[0].length):-1}function B(_e,Ve,Se){var be=g.exec(Ve.slice(Se));return be?(_e.w=v.get(be[0].toLowerCase()),Se+be[0].length):-1}function q(_e,Ve,Se){var be=N.exec(Ve.slice(Se));return be?(_e.m=C.get(be[0].toLowerCase()),Se+be[0].length):-1}function V(_e,Ve,Se){var be=E.exec(Ve.slice(Se));return be?(_e.m=S.get(be[0].toLowerCase()),Se+be[0].length):-1}function xe(_e,Ve,Se){return P(_e,e,Ve,Se)}function fe(_e,Ve,Se){return P(_e,r,Ve,Se)}function W(_e,Ve,Se){return P(_e,n,Ve,Se)}function K(_e){return l[_e.getDay()]}function le(_e){return a[_e.getDay()]}function pe(_e){return f[_e.getMonth()]}function $(_e){return c[_e.getMonth()]}function Y(_e){return i[+(_e.getHours()>=12)]}function te(_e){return 1+~~(_e.getMonth()/3)}function Q(_e){return l[_e.getUTCDay()]}function oe(_e){return a[_e.getUTCDay()]}function ye(_e){return f[_e.getUTCMonth()]}function we(_e){return c[_e.getUTCMonth()]}function Le(_e){return i[+(_e.getUTCHours()>=12)]}function Ke(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var Ve=M(_e+="",j);return Ve.toString=function(){return _e},Ve},parse:function(_e){var Ve=I(_e+="",!1);return Ve.toString=function(){return _e},Ve},utcFormat:function(_e){var Ve=M(_e+="",L);return Ve.toString=function(){return _e},Ve},utcParse:function(_e){var Ve=I(_e+="",!0);return Ve.toString=function(){return _e},Ve}}}var xO={"-":"",_:" ",0:"0"},en=/^\s*\d+/,Kie=/^%/,Gie=/[\\^$*+?|[\]().{}]/g;function ht(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Wie(t){return t.replace(Gie,"\\$&")}function eh(t){return new RegExp("^(?:"+t.map(Wie).join("|")+")","i")}function th(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Yie(t,e,r){var n=en.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Xie(t,e,r){var n=en.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Qie(t,e,r){var n=en.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Zie(t,e,r){var n=en.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Jie(t,e,r){var n=en.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function bO(t,e,r){var n=en.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function wO(t,e,r){var n=en.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function eae(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function tae(t,e,r){var n=en.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function rae(t,e,r){var n=en.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function _O(t,e,r){var n=en.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function nae(t,e,r){var n=en.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function EO(t,e,r){var n=en.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function iae(t,e,r){var n=en.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function aae(t,e,r){var n=en.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function sae(t,e,r){var n=en.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function oae(t,e,r){var n=en.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function lae(t,e,r){var n=Kie.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function cae(t,e,r){var n=en.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function uae(t,e,r){var n=en.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function AO(t,e){return ht(t.getDate(),e,2)}function dae(t,e){return ht(t.getHours(),e,2)}function fae(t,e){return ht(t.getHours()%12||12,e,2)}function hae(t,e){return ht(1+pm.count(eo(t),t),e,3)}function u8(t,e){return ht(t.getMilliseconds(),e,3)}function mae(t,e){return u8(t,e)+"000"}function pae(t,e){return ht(t.getMonth()+1,e,2)}function gae(t,e){return ht(t.getMinutes(),e,2)}function yae(t,e){return ht(t.getSeconds(),e,2)}function vae(t){var e=t.getDay();return e===0?7:e}function xae(t,e){return ht(Xy.count(eo(t)-1,t),e,2)}function d8(t){var e=t.getDay();return e>=4||e===0?md(t):md.ceil(t)}function bae(t,e){return t=d8(t),ht(md.count(eo(t),t)+(eo(t).getDay()===4),e,2)}function wae(t){return t.getDay()}function _ae(t,e){return ht(L0.count(eo(t)-1,t),e,2)}function Eae(t,e){return ht(t.getFullYear()%100,e,2)}function Aae(t,e){return t=d8(t),ht(t.getFullYear()%100,e,2)}function Sae(t,e){return ht(t.getFullYear()%1e4,e,4)}function Tae(t,e){var r=t.getDay();return t=r>=4||r===0?md(t):md.ceil(t),ht(t.getFullYear()%1e4,e,4)}function Nae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ht(e/60|0,"0",2)+ht(e%60,"0",2)}function SO(t,e){return ht(t.getUTCDate(),e,2)}function jae(t,e){return ht(t.getUTCHours(),e,2)}function Cae(t,e){return ht(t.getUTCHours()%12||12,e,2)}function Pae(t,e){return ht(1+Yy.count(to(t),t),e,3)}function f8(t,e){return ht(t.getUTCMilliseconds(),e,3)}function kae(t,e){return f8(t,e)+"000"}function Oae(t,e){return ht(t.getUTCMonth()+1,e,2)}function Iae(t,e){return ht(t.getUTCMinutes(),e,2)}function Rae(t,e){return ht(t.getUTCSeconds(),e,2)}function Dae(t){var e=t.getUTCDay();return e===0?7:e}function Mae(t,e){return ht(Qy.count(to(t)-1,t),e,2)}function h8(t){var e=t.getUTCDay();return e>=4||e===0?pd(t):pd.ceil(t)}function Lae(t,e){return t=h8(t),ht(pd.count(to(t),t)+(to(t).getUTCDay()===4),e,2)}function Vae(t){return t.getUTCDay()}function Bae(t,e){return ht(V0.count(to(t)-1,t),e,2)}function Uae(t,e){return ht(t.getUTCFullYear()%100,e,2)}function $ae(t,e){return t=h8(t),ht(t.getUTCFullYear()%100,e,2)}function zae(t,e){return ht(t.getUTCFullYear()%1e4,e,4)}function Fae(t,e){var r=t.getUTCDay();return t=r>=4||r===0?pd(t):pd.ceil(t),ht(t.getUTCFullYear()%1e4,e,4)}function qae(){return"+0000"}function TO(){return"%"}function NO(t){return+t}function jO(t){return Math.floor(+t/1e3)}var Mu,m8,p8;Hae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Hae(t){return Mu=Hie(t),m8=Mu.format,Mu.parse,p8=Mu.utcFormat,Mu.utcParse,Mu}function Kae(t){return new Date(t)}function Gae(t){return t instanceof Date?+t:+new Date(+t)}function iA(t,e,r,n,i,a,l,c,f,h){var p=qE(),g=p.invert,v=p.domain,b=h(".%L"),A=h(":%S"),E=h("%I:%M"),S=h("%I %p"),N=h("%a %d"),C=h("%b %d"),j=h("%B"),L=h("%Y");function z(M){return(f(M)<M?b:c(M)<M?A:l(M)<M?E:a(M)<M?S:n(M)<M?i(M)<M?N:C:r(M)<M?j:L)(M)}return p.invert=function(M){return new Date(g(M))},p.domain=function(M){return arguments.length?v(Array.from(M,Gae)):v().map(Kae)},p.ticks=function(M){var I=v();return t(I[0],I[I.length-1],M??10)},p.tickFormat=function(M,I){return I==null?z:h(I)},p.nice=function(M){var I=v();return(!M||typeof M.range!="function")&&(M=e(I[0],I[I.length-1],M??10)),M?v(t8(I,M)):p},p.copy=function(){return mm(p,iA(t,e,r,n,i,a,l,c,f,h))},p}function Wae(){return Ki.apply(iA(Fie,qie,eo,rA,Xy,pm,eA,ZE,gc,m8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yae(){return Ki.apply(iA($ie,zie,to,nA,Qy,Yy,tA,JE,gc,p8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zy(){var t=0,e=1,r,n,i,a,l=Rn,c=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(a(g)-r)*i,c?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(g){return arguments.length?(c=!!g,h):c},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(v){var b,A;return arguments.length?([b,A]=v,l=g(b,A),h):[l(0),l(1)]}}return h.range=p(Od),h.rangeRound=p(FE),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return a=g,r=g(t),n=g(e),i=r===n?0:1/(n-r),h}}function Sl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function g8(){var t=Al(Zy()(Rn));return t.copy=function(){return Sl(t,g8())},oo.apply(t,arguments)}function y8(){var t=GE(Zy()).domain([1,10]);return t.copy=function(){return Sl(t,y8()).base(t.base())},oo.apply(t,arguments)}function v8(){var t=WE(Zy());return t.copy=function(){return Sl(t,v8()).constant(t.constant())},oo.apply(t,arguments)}function aA(){var t=YE(Zy());return t.copy=function(){return Sl(t,aA()).exponent(t.exponent())},oo.apply(t,arguments)}function Xae(){return aA.apply(null,arguments).exponent(.5)}function x8(){var t=[],e=Rn;function r(n){if(n!=null&&!isNaN(n=+n))return e((fm(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(sl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Dne(t,a/n))},r.copy=function(){return x8(e).domain(t)},oo.apply(r,arguments)}function Jy(){var t=0,e=.5,r=1,n=1,i,a,l,c,f,h=Rn,p,g=!1,v;function b(E){return isNaN(E=+E)?v:(E=.5+((E=+p(E))-a)*(n*E<n*a?c:f),h(g?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,r]=E,i=p(t=+t),a=p(e=+e),l=p(r=+r),c=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),n=a<i?-1:1,b):[t,e,r]},b.clamp=function(E){return arguments.length?(g=!!E,b):g},b.interpolator=function(E){return arguments.length?(h=E,b):h};function A(E){return function(S){var N,C,j;return arguments.length?([N,C,j]=S,h=lie(E,[N,C,j]),b):[h(0),h(.5),h(1)]}}return b.range=A(Od),b.rangeRound=A(FE),b.unknown=function(E){return arguments.length?(v=E,b):v},function(E){return p=E,i=E(t),a=E(e),l=E(r),c=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),n=a<i?-1:1,b}}function b8(){var t=Al(Jy()(Rn));return t.copy=function(){return Sl(t,b8())},oo.apply(t,arguments)}function w8(){var t=GE(Jy()).domain([.1,1,10]);return t.copy=function(){return Sl(t,w8()).base(t.base())},oo.apply(t,arguments)}function _8(){var t=WE(Jy());return t.copy=function(){return Sl(t,_8()).constant(t.constant())},oo.apply(t,arguments)}function sA(){var t=YE(Jy());return t.copy=function(){return Sl(t,sA()).exponent(t.exponent())},oo.apply(t,arguments)}function Qae(){return sA.apply(null,arguments).exponent(.5)}const uh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:UE,scaleDiverging:b8,scaleDivergingLog:w8,scaleDivergingPow:sA,scaleDivergingSqrt:Qae,scaleDivergingSymlog:_8,scaleIdentity:e8,scaleImplicit:E2,scaleLinear:JM,scaleLog:r8,scaleOrdinal:BE,scalePoint:Vne,scalePow:XE,scaleQuantile:a8,scaleQuantize:s8,scaleRadial:i8,scaleSequential:g8,scaleSequentialLog:y8,scaleSequentialPow:aA,scaleSequentialQuantile:x8,scaleSequentialSqrt:Xae,scaleSequentialSymlog:v8,scaleSqrt:kie,scaleSymlog:n8,scaleThreshold:o8,scaleTime:Wae,scaleUtc:Yae,tickFormat:ZM},Symbol.toStringTag,{value:"Module"}));var Tl=t=>t.chartData,oA=re([Tl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),gm=(t,e,r,n)=>n?oA(t):Tl(t);function gd(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(mn(e)&&mn(r))return!0}return!1}function CO(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Zae(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(mn(r))i=r;else if(typeof r=="function")return;if(mn(n))a=n;else if(typeof n=="function")return;var l=[i,a];if(gd(l))return l}}function Jae(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(gd(n))return CO(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(ke(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&xk.test(i)){var f=xk.exec(i);if(f==null||e==null)l=void 0;else{var h=+f[1];l=e[0]-h}}else l=e?.[0];if(a==="auto")e!=null&&(c=Math.max(...e));else if(ke(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e?.[1]))}catch{}else if(typeof a=="string"&&bk.test(a)){var p=bk.exec(a);if(p==null||e==null)c=void 0;else{var g=+p[1];c=e[1]+g}}else c=e?.[1];var v=[l,c];if(gd(v))return e==null?v:CO(v,e,r)}}}var Id=1e9,ese={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cA,Xt=!0,zi="[DecimalError] ",Ec=zi+"Invalid argument: ",lA=zi+"Exponent out of range: ",Rd=Math.floor,uc=Math.pow,tse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ci,Qr=1e7,zt=7,E8=9007199254740991,B0=Rd(E8/zt),je={};je.absoluteValue=je.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};je.comparedTo=je.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};je.decimalPlaces=je.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*zt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};je.dividedBy=je.div=function(t){return Fs(this,new this.constructor(t))};je.dividedToIntegerBy=je.idiv=function(t){var e=this,r=e.constructor;return Ot(Fs(e,new r(t),0,1),r.precision)};je.equals=je.eq=function(t){return!this.cmp(t)};je.exponent=function(){return Rr(this)};je.greaterThan=je.gt=function(t){return this.cmp(t)>0};je.greaterThanOrEqualTo=je.gte=function(t){return this.cmp(t)>=0};je.isInteger=je.isint=function(){return this.e>this.d.length-2};je.isNegative=je.isneg=function(){return this.s<0};je.isPositive=je.ispos=function(){return this.s>0};je.isZero=function(){return this.s===0};je.lessThan=je.lt=function(t){return this.cmp(t)<0};je.lessThanOrEqualTo=je.lte=function(t){return this.cmp(t)<1};je.logarithm=je.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ci))throw Error(zi+"NaN");if(r.s<1)throw Error(zi+(r.s?"NaN":"-Infinity"));return r.eq(ci)?new n(0):(Xt=!1,e=Fs(Mh(r,a),Mh(t,a),a),Xt=!0,Ot(e,i))};je.minus=je.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?T8(e,t):A8(e,(t.s=-t.s,t))};je.modulo=je.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(zi+"NaN");return r.s?(Xt=!1,e=Fs(r,t,0,1).times(t),Xt=!0,r.minus(e)):Ot(new n(r),i)};je.naturalExponential=je.exp=function(){return S8(this)};je.naturalLogarithm=je.ln=function(){return Mh(this)};je.negated=je.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};je.plus=je.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A8(e,t):T8(e,(t.s=-t.s,t))};je.precision=je.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ec+t);if(e=Rr(i)+1,n=i.d.length-1,r=n*zt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};je.squareRoot=je.sqrt=function(){var t,e,r,n,i,a,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(zi+"NaN")}for(t=Rr(c),Xt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=La(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Rd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new f(e)):n=new f(i.toString()),r=f.precision,i=l=r+3;;)if(a=n,n=a.plus(Fs(c,a,l+2)).times(.5),La(a.d).slice(0,l)===(e=La(n.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Ot(a,r+1,0),a.times(a).eq(c)){n=a;break}}else if(e!="9999")break;l+=4}return Xt=!0,Ot(n,r)};je.times=je.mul=function(t){var e,r,n,i,a,l,c,f,h,p=this,g=p.constructor,v=p.d,b=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,r=p.e+t.e,f=v.length,h=b.length,f<h&&(a=v,v=b,b=a,l=f,f=h,h=l),a=[],l=f+h,n=l;n--;)a.push(0);for(n=h;--n>=0;){for(e=0,i=f+n;i>n;)c=a[i]+b[n]*v[i-n-1]+e,a[i--]=c%Qr|0,e=c/Qr|0;a[i]=(a[i]+e)%Qr|0}for(;!a[--l];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Xt?Ot(t,g.precision):t};je.toDecimalPlaces=je.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ya(t,0,Id),e===void 0?e=n.rounding:Ya(e,0,8),Ot(r,t+Rr(r)+1,e))};je.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Rc(n,!0):(Ya(t,0,Id),e===void 0?e=i.rounding:Ya(e,0,8),n=Ot(new i(n),t+1,e),r=Rc(n,!0,t+1)),r};je.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Rc(i):(Ya(t,0,Id),e===void 0?e=a.rounding:Ya(e,0,8),n=Ot(new a(i),t+Rr(i)+1,e),r=Rc(n.abs(),!1,t+Rr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};je.toInteger=je.toint=function(){var t=this,e=t.constructor;return Ot(new e(t),Rr(t)+1,e.rounding)};je.toNumber=function(){return+this};je.toPower=je.pow=function(t){var e,r,n,i,a,l,c=this,f=c.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(ci);if(c=new f(c),!c.s){if(t.s<1)throw Error(zi+"Infinity");return c}if(c.eq(ci))return c;if(n=f.precision,t.eq(ci))return Ot(c,n);if(e=t.e,r=t.d.length-1,l=e>=r,a=c.s,l){if((r=p<0?-p:p)<=E8){for(i=new f(ci),e=Math.ceil(n/zt+4),Xt=!1;r%2&&(i=i.times(c),kO(i.d,e)),r=Rd(r/2),r!==0;)c=c.times(c),kO(c.d,e);return Xt=!0,t.s<0?new f(ci).div(i):Ot(i,n)}}else if(a<0)throw Error(zi+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,Xt=!1,i=t.times(Mh(c,n+h)),Xt=!0,i=S8(i),i.s=a,i};je.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Rr(i),n=Rc(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ya(t,1,Id),e===void 0?e=a.rounding:Ya(e,0,8),i=Ot(new a(i),t,e),r=Rr(i),n=Rc(i,t<=r||r<=a.toExpNeg,t)),n};je.toSignificantDigits=je.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ya(t,1,Id),e===void 0?e=n.rounding:Ya(e,0,8)),Ot(new n(r),t,e)};je.toString=je.valueOf=je.val=je.toJSON=je[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Rr(t),r=t.constructor;return Rc(t,e<=r.toExpNeg||e>=r.toExpPos)};function A8(t,e){var r,n,i,a,l,c,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Xt?Ot(e,g):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),a=l-i,a){for(a<0?(n=f,a=-a,c=h.length):(n=h,i=l,c=f.length),l=Math.ceil(g/zt),c=l>c?l+1:c+1,a>c&&(a=c,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(c=f.length,a=h.length,c-a<0&&(a=c,n=h,h=f,f=n),r=0;a;)r=(f[--a]=f[a]+h[a]+r)/Qr|0,f[a]%=Qr;for(r&&(f.unshift(r),++i),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=i,Xt?Ot(e,g):e}function Ya(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ec+t)}function La(t){var e,r,n,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)n=t[e]+"",r=zt-n.length,r&&(a+=Ko(r)),a+=n;l=t[e],n=l+"",r=zt-n.length,r&&(a+=Ko(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var Fs=(function(){function t(n,i){var a,l=0,c=n.length;for(n=n.slice();c--;)a=n[c]*i+l,n[c]=a%Qr|0,l=a/Qr|0;return l&&n.unshift(l),n}function e(n,i,a,l){var c,f;if(a!=l)f=a>l?1:-1;else for(c=f=0;c<a;c++)if(n[c]!=i[c]){f=n[c]>i[c]?1:-1;break}return f}function r(n,i,a){for(var l=0;a--;)n[a]-=l,l=n[a]<i[a]?1:0,n[a]=l*Qr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,l){var c,f,h,p,g,v,b,A,E,S,N,C,j,L,z,M,I,P,R=n.constructor,U=n.s==i.s?1:-1,B=n.d,q=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(zi+"Division by zero");for(f=n.e-i.e,I=q.length,z=B.length,b=new R(U),A=b.d=[],h=0;q[h]==(B[h]||0);)++h;if(q[h]>(B[h]||0)&&--f,a==null?C=a=R.precision:l?C=a+(Rr(n)-Rr(i))+1:C=a,C<0)return new R(0);if(C=C/zt+2|0,h=0,I==1)for(p=0,q=q[0],C++;(h<z||p)&&C--;h++)j=p*Qr+(B[h]||0),A[h]=j/q|0,p=j%q|0;else{for(p=Qr/(q[0]+1)|0,p>1&&(q=t(q,p),B=t(B,p),I=q.length,z=B.length),L=I,E=B.slice(0,I),S=E.length;S<I;)E[S++]=0;P=q.slice(),P.unshift(0),M=q[0],q[1]>=Qr/2&&++M;do p=0,c=e(q,E,I,S),c<0?(N=E[0],I!=S&&(N=N*Qr+(E[1]||0)),p=N/M|0,p>1?(p>=Qr&&(p=Qr-1),g=t(q,p),v=g.length,S=E.length,c=e(g,E,v,S),c==1&&(p--,r(g,I<v?P:q,v))):(p==0&&(c=p=1),g=q.slice()),v=g.length,v<S&&g.unshift(0),r(E,g,S),c==-1&&(S=E.length,c=e(q,E,I,S),c<1&&(p++,r(E,I<S?P:q,S))),S=E.length):c===0&&(p++,E=[0]),A[h++]=p,c&&E[0]?E[S++]=B[L]||0:(E=[B[L]],S=1);while((L++<z||E[0]!==void 0)&&C--)}return A[0]||A.shift(),b.e=f,Ot(b,l?a+Rr(b)+1:a)}})();function S8(t,e){var r,n,i,a,l,c,f=0,h=0,p=t.constructor,g=p.precision;if(Rr(t)>16)throw Error(lA+Rr(t));if(!t.s)return new p(ci);for(Xt=!1,c=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(n=Math.log(uc(2,h))/Math.LN10*2+5|0,c+=n,r=i=a=new p(ci),p.precision=c;;){if(i=Ot(i.times(t),c),r=r.times(++f),l=a.plus(Fs(i,r,c)),La(l.d).slice(0,c)===La(a.d).slice(0,c)){for(;h--;)a=Ot(a.times(a),c);return p.precision=g,e==null?(Xt=!0,Ot(a,g)):a}a=l}}function Rr(t){for(var e=t.e*zt,r=t.d[0];r>=10;r/=10)e++;return e}function r1(t,e,r){if(e>t.LN10.sd())throw Xt=!0,r&&(t.precision=r),Error(zi+"LN10 precision limit exceeded");return Ot(new t(t.LN10),e)}function Ko(t){for(var e="";t--;)e+="0";return e}function Mh(t,e){var r,n,i,a,l,c,f,h,p,g=1,v=10,b=t,A=b.d,E=b.constructor,S=E.precision;if(b.s<1)throw Error(zi+(b.s?"NaN":"-Infinity"));if(b.eq(ci))return new E(0);if(e==null?(Xt=!1,h=S):h=e,b.eq(10))return e==null&&(Xt=!0),r1(E,h);if(h+=v,E.precision=h,r=La(A),n=r.charAt(0),a=Rr(b),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=La(b.d),n=r.charAt(0),g++;a=Rr(b),n>1?(b=new E("0."+r),a++):b=new E(n+"."+r.slice(1))}else return f=r1(E,h+2,S).times(a+""),b=Mh(new E(n+"."+r.slice(1)),h-v).plus(f),E.precision=S,e==null?(Xt=!0,Ot(b,S)):b;for(c=l=b=Fs(b.minus(ci),b.plus(ci),h),p=Ot(b.times(b),h),i=3;;){if(l=Ot(l.times(p),h),f=c.plus(Fs(l,new E(i),h)),La(f.d).slice(0,h)===La(c.d).slice(0,h))return c=c.times(2),a!==0&&(c=c.plus(r1(E,h+2,S).times(a+""))),c=Fs(c,new E(g),h),E.precision=S,e==null?(Xt=!0,Ot(c,S)):c;c=f,i+=2}}function PO(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Rd(r/zt),t.d=[],n=(r+1)%zt,r<0&&(n+=zt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=zt;n<i;)t.d.push(+e.slice(n,n+=zt));e=e.slice(n),n=zt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Xt&&(t.e>B0||t.e<-B0))throw Error(lA+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ot(t,e,r){var n,i,a,l,c,f,h,p,g=t.d;for(l=1,a=g[0];a>=10;a/=10)l++;if(n=e-l,n<0)n+=zt,i=e,h=g[p=0];else{if(p=Math.ceil((n+1)/zt),a=g.length,p>=a)return t;for(h=a=g[p],l=1;a>=10;a/=10)l++;n%=zt,i=n-zt+l}if(r!==void 0&&(a=uc(10,l-i-1),c=h/a%10|0,f=e<0||g[p+1]!==void 0||h%a,f=r<4?(c||f)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||f||r==6&&(n>0?i>0?h/uc(10,l-i):0:g[p-1])%10&1||r==(t.s<0?8:7))),e<1||!g[0])return f?(a=Rr(t),g.length=1,e=e-a-1,g[0]=uc(10,(zt-e%zt)%zt),t.e=Rd(-e/zt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(n==0?(g.length=p,a=1,p--):(g.length=p+1,a=uc(10,zt-n),g[p]=i>0?(h/uc(10,l-i)%uc(10,i)|0)*a:0),f)for(;;)if(p==0){(g[0]+=a)==Qr&&(g[0]=1,++t.e);break}else{if(g[p]+=a,g[p]!=Qr)break;g[p--]=0,a=1}for(n=g.length;g[--n]===0;)g.pop();if(Xt&&(t.e>B0||t.e<-B0))throw Error(lA+Rr(t));return t}function T8(t,e){var r,n,i,a,l,c,f,h,p,g,v=t.constructor,b=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Xt?Ot(e,b):e;if(f=t.d,g=e.d,n=e.e,h=t.e,f=f.slice(),l=h-n,l){for(p=l<0,p?(r=f,l=-l,c=g.length):(r=g,n=h,c=f.length),i=Math.max(Math.ceil(b/zt),c)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=f.length,c=g.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}l=0}for(p&&(r=f,f=g,g=r,e.s=-e.s),c=f.length,i=g.length-c;i>0;--i)f[c++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(a=i;a&&f[--a]===0;)f[a]=Qr-1;--f[a],f[i]+=Qr}f[i]-=g[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(e.d=f,e.e=n,Xt?Ot(e,b):e):new v(0)}function Rc(t,e,r){var n,i=Rr(t),a=La(t.d),l=a.length;return e?(r&&(n=r-l)>0?a=a.charAt(0)+"."+a.slice(1)+Ko(n):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ko(-i-1)+a,r&&(n=r-l)>0&&(a+=Ko(n))):i>=l?(a+=Ko(i+1-l),r&&(n=r-i-1)>0&&(a=a+"."+Ko(n))):((n=i+1)<l&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(a+="."),a+=Ko(n))),t.s<0?"-"+a:a}function kO(t,e){if(t.length>e)return t.length=e,!0}function N8(t){var e,r,n;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ec+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return PO(l,a.toString())}else if(typeof a!="string")throw Error(Ec+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,tse.test(a))PO(l,a);else throw Error(Ec+a)}if(i.prototype=je,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=N8,i.config=i.set=rse,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function rse(t){if(!t||typeof t!="object")throw Error(zi+"Object expected");var e,r,n,i=["precision",1,Id,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Rd(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ec+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ec+r+": "+n);return this}var cA=N8(ese);ci=new cA(1);const bt=cA;var nse=t=>t,j8={},C8=t=>t===j8,OO=t=>function e(){return arguments.length===0||arguments.length===1&&C8(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},P8=(t,e)=>t===1?e:OO(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(l=>l!==j8).length;return a>=t?e(...n):P8(t-a,OO(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=n.map(p=>C8(p)?c.shift():p);return e(...h,...c)}))}),ev=t=>P8(t.length,t),N2=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},ise=ev((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),ase=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return nse;var i=r.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((c,f)=>f(c),a(...arguments))}},j2=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),k8=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e&&i.every((l,c)=>{var f;return l===((f=e)===null||f===void 0?void 0:f[c])})||(e=i,r=t(...i)),r}};function O8(t){var e;return t===0?e=1:e=Math.floor(new bt(t).abs().log(10).toNumber())+1,e}function I8(t,e,r){for(var n=new bt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}ev((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});ev((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});ev((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var R8=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},D8=(t,e,r)=>{if(t.lte(0))return new bt(0);var n=O8(t.toNumber()),i=new bt(10).pow(n),a=t.div(i),l=n!==1?.05:.1,c=new bt(Math.ceil(a.div(l).toNumber())).add(r).mul(l),f=c.mul(i);return e?new bt(f.toNumber()):new bt(Math.ceil(f.toNumber()))},sse=(t,e,r)=>{var n=new bt(1),i=new bt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new bt(10).pow(O8(t)-1),i=new bt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new bt(Math.floor(t)))}else t===0?i=new bt(Math.floor((e-1)/2)):r||(i=new bt(Math.floor(t)));var l=Math.floor((e-1)/2),c=ase(ise(f=>i.add(new bt(f-l).mul(n)).toNumber()),N2);return c(0,e)},M8=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new bt(0),tickMin:new bt(0),tickMax:new bt(0)};var l=D8(new bt(r).sub(e).div(n-1),i,a),c;e<=0&&r>=0?c=new bt(0):(c=new bt(e).add(r).div(2),c=c.sub(new bt(c).mod(l)));var f=Math.ceil(c.sub(e).div(l).toNumber()),h=Math.ceil(new bt(r).sub(c).div(l).toNumber()),p=f+h+1;return p>n?M8(e,r,n,i,a+1):(p<n&&(h=r>0?h+(n-p):h,f=r>0?f:f+(n-p)),{step:l,tickMin:c.sub(new bt(f).mul(l)),tickMax:c.add(new bt(h).mul(l))})};function ose(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[l,c]=R8([e,r]);if(l===-1/0||c===1/0){var f=c===1/0?[l,...N2(0,n-1).map(()=>1/0)]:[...N2(0,n-1).map(()=>-1/0),c];return e>r?j2(f):f}if(l===c)return sse(l,n,i);var{step:h,tickMin:p,tickMax:g}=M8(l,c,a,i,0),v=I8(p,g.add(new bt(.1).mul(h)),h);return e>r?j2(v):v}function lse(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=R8([r,n]);if(a===-1/0||l===1/0)return[r,n];if(a===l)return[a];var c=Math.max(e,2),f=D8(new bt(l).sub(a).div(c-1),i,0),h=[...I8(new bt(a),new bt(l),f),l];return i===!1&&(h=h.map(p=>Math.round(p))),r>n?j2(h):h}var cse=k8(ose),use=k8(lse),L8=t=>t.rootProps.maxBarSize,dse=t=>t.rootProps.barGap,V8=t=>t.rootProps.barCategoryGap,fse=t=>t.rootProps.barSize,ym=t=>t.rootProps.stackOffset,uA=t=>t.options.chartName,dA=t=>t.rootProps.syncId,B8=t=>t.rootProps.syncMethod,fA=t=>t.options.eventEmitter,ks={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},oi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},tv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},hse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ks.angleAxisId,includeHidden:!1,name:void 0,reversed:ks.reversed,scale:ks.scale,tick:ks.tick,tickCount:void 0,ticks:void 0,type:ks.type,unit:void 0},mse={allowDataOverflow:oi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:oi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:oi.scale,tick:oi.tick,tickCount:oi.tickCount,ticks:void 0,type:oi.type,unit:void 0},pse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ks.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ks.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ks.scale,tick:ks.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},gse={allowDataOverflow:oi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:oi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:oi.scale,tick:oi.tick,tickCount:oi.tickCount,ticks:void 0,type:"category",unit:void 0},hA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?pse:hse,mA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?gse:mse,rv=t=>t.polarOptions,pA=re([io,ao,zr],wM),U8=re([rv,pA],(t,e)=>{if(t!=null)return An(t.innerRadius,e,0)}),$8=re([rv,pA],(t,e)=>{if(t!=null)return An(t.outerRadius,e,e*.8)}),yse=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},z8=re([rv],yse);re([hA,z8],tv);var F8=re([pA,U8,$8],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});re([mA,F8],tv);var q8=re([rt,rv,U8,$8,io,ao],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:l,cy:c,startAngle:f,endAngle:h}=e;return{cx:An(l,i,i/2),cy:An(c,a,a/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:h,clockWise:!1}}}),Zt=(t,e)=>e,vm=(t,e,r)=>r;function nv(t){return t?.id}var Hr=t=>{var e=rt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Dd=t=>t.tooltip.settings.axisId,tn=t=>{var e=Hr(t),r=Dd(t);return xm(t,e,r)},H8=re([tn],t=>t?.dataKey);function K8(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=r,l=new Map;return t.forEach(c=>{var f,h=(f=c.data)!==null&&f!==void 0?f:n;if(!(h==null||h.length===0)){var p=nv(c);h.forEach((g,v)=>{var b=a==null||i?v:String(Ct(g,a,null)),A=Ct(g,c.dataKey,0),E;l.has(b)?E=l.get(b):E={},Object.assign(E,{[p]:A}),l.set(b,E)})}}),Array.from(l.values())}function iv(t){return t.stackId!=null&&t.dataKey!=null}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function U0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){vse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vse(t,e,r){return(e=xse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xse(t){var e=bse(t,"string");return typeof e=="symbol"?e:e+""}function bse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C2=[0,"auto"],ai={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},G8=(t,e)=>t.cartesianAxis.xAxis[e],lo=(t,e)=>{var r=G8(t,e);return r??ai},si={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:C2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:um},W8=(t,e)=>t.cartesianAxis.yAxis[e],co=(t,e)=>{var r=W8(t,e);return r??si},wse={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},gA=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??wse},Sr=(t,e,r)=>{switch(e){case"xAxis":return lo(t,r);case"yAxis":return co(t,r);case"zAxis":return gA(t,r);case"angleAxis":return hA(t,r);case"radiusAxis":return mA(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},_se=(t,e,r)=>{switch(e){case"xAxis":return lo(t,r);case"yAxis":return co(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},xm=(t,e,r)=>{switch(e){case"xAxis":return lo(t,r);case"yAxis":return co(t,r);case"angleAxis":return hA(t,r);case"radiusAxis":return mA(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Y8=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function yA(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var bm=t=>t.graphicalItems.cartesianItems,Ese=re([Zt,vm],yA),vA=(t,e,r)=>t.filter(r).filter(n=>e?.includeHidden===!0?!0:!n.hide),wm=re([bm,Sr,Ese],vA),X8=re([wm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(iv)),Q8=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Z8=re([wm],Q8),xA=t=>t.map(e=>e.data).filter(Boolean).flat(1),Ase=re([wm],xA),bA=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},wA=re([Ase,gm],bA),_A=(t,e,r)=>e?.dataKey!=null?t.map(n=>({value:Ct(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:Ct(i,n)}))):t.map(n=>({value:n})),av=re([wA,Sr,wm],_A);function J8(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Xc(t){return t.filter(e=>Wa(e)||e instanceof Date).map(Number).filter(e=>Wn(e)===!1)}function Sse(t,e,r){return!r||typeof e!="number"||Wn(e)?[]:r.length?Xc(r.flatMap(n=>{var i=Ct(t,n.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!mn(a)||!mn(l)))return[e-a,e+l]})):[]}var Tse=re([X8,gm,tn],K8),e9=(t,e,r)=>{var n={},i=e.reduce((a,l)=>(l.stackId==null||(a[l.stackId]==null&&(a[l.stackId]=[]),a[l.stackId].push(l)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[l,c]=a,f=c.map(nv);return[l,{stackedData:kte(t,f,r),graphicalItems:c}]}))},Lh=re([Tse,X8,ym],e9),t9=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var a=Dte(t,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Nse=re([Lh,Tl,Zt],t9),r9=(t,e,r,n,i)=>r.length>0?t.flatMap(a=>r.flatMap(l=>{var c,f,h=(c=n[l.id])===null||c===void 0?void 0:c.filter(g=>J8(i,g)),p=Ct(a,(f=e.dataKey)!==null&&f!==void 0?f:l.dataKey);return{value:p,errorDomain:Sse(a,p,h)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:Ct(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),sv=t=>t.errorBars,n9=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>J8(r,n));re([Z8,sv,Zt],n9);var jse=re([wA,Sr,Z8,sv,Zt],r9);function Cse(t){var{value:e}=t;if(Wa(e)||e instanceof Date)return e}var RO=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Xc(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Pse=(t,e,r)=>{var n=t.map(Cse).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&p5(n))?zM(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},EA=t=>{var e;if(t==null||!("domain"in t))return C2;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=Xc(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:C2},$0=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),c=Math.max(...a);return[l,c]}},i9=t=>t.referenceElements.dots,Md=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),kse=re([i9,Zt,vm],Md),a9=t=>t.referenceElements.areas,Ose=re([a9,Zt,vm],Md),s9=t=>t.referenceElements.lines,Ise=re([s9,Zt,vm],Md),o9=(t,e)=>{var r=Xc(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Rse=re(kse,Zt,o9),l9=(t,e)=>{var r=Xc(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Dse=re([Ose,Zt],l9),c9=(t,e)=>{var r=Xc(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Mse=re(Ise,Zt,c9),Lse=re(Rse,Mse,Dse,(t,e,r)=>$0(t,r,e)),u9=re([Sr],EA),AA=(t,e,r,n,i,a,l)=>{var c=Zae(e,t.allowDataOverflow);if(c!=null)return c;var f=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",h=f?$0(r,i,RO(n)):$0(i,RO(n));return Jae(e,h,t.allowDataOverflow)},Vse=re([Sr,u9,Nse,jse,Lse,rt,Zt],AA),Bse=[0,1],SA=(t,e,r,n,i,a,l)=>{if(!((t==null||r==null||r.length===0)&&l===void 0)){var{dataKey:c,type:f}=t,h=ns(e,a);return h&&c==null?zM(0,r.length):f==="category"?Pse(n,t,h):i==="expand"?Bse:l}},TA=re([Sr,rt,wA,av,ym,Zt,Vse],SA),d9=(t,e,r,n,i)=>{if(t!=null){var{scale:a,type:l}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(sm(a));return c in uh?c:"point"}}},Ld=re([Sr,rt,Y8,uA,Zt],d9);function Use(t){if(t!=null){if(t in uh)return uh[t]();var e="scale".concat(sm(t));if(e in uh)return uh[e]()}}function NA(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=Use(e);if(i!=null){var a=i.domain(r).range(n);return Tte(a),a}}}var jA=(t,e,r)=>{var n=EA(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&gd(t))return cse(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&gd(t))return use(t,e.tickCount,e.allowDecimals)}},CA=re([TA,xm,Ld],jA),PA=(t,e,r,n)=>{if(n!=="angleAxis"&&t?.type==="number"&&gd(e)&&Array.isArray(r)&&r.length>0){var i=e[0],a=r[0],l=e[1],c=r[r.length-1];return[Math.min(i,a),Math.max(l,c)]}return e},$se=re([Sr,TA,CA,Zt],PA),zse=re(av,Sr,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(Xc(t.map(c=>c.value))).sort((c,f)=>c-f);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var l=n[a+1]-n[a];r=Math.min(r,l)}return r/i}}),f9=re(zse,rt,V8,zr,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!mn(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var l=An(r,t*a),c=t*a/2;return c-l-(c-l)/a*l}return 0}),Fse=(t,e)=>{var r=lo(t,e);return r==null||typeof r.padding!="string"?0:f9(t,"xAxis",e,r.padding)},qse=(t,e)=>{var r=co(t,e);return r==null||typeof r.padding!="string"?0:f9(t,"yAxis",e,r.padding)},Hse=re(lo,Fse,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),Kse=re(co,qse,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),Gse=re([zr,Hse,Gy,Ky,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Wse=re([zr,rt,Kse,Gy,Ky,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:l}=i;return a?[n.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),_m=(t,e,r,n)=>{var i;switch(e){case"xAxis":return Gse(t,r,n);case"yAxis":return Wse(t,r,n);case"zAxis":return(i=gA(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return z8(t);case"radiusAxis":return F8(t,r);default:return}},h9=re([Sr,_m],tv),Vd=re([Sr,Ld,$se,h9],NA);re([wm,sv,Zt],n9);function m9(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var ov=(t,e)=>e,lv=(t,e,r)=>r,Yse=re(qy,ov,lv,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(m9)),Xse=re(Hy,ov,lv,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(m9)),p9=(t,e)=>({width:t.width,height:e.height}),Qse=(t,e)=>{var r=typeof e.width=="number"?e.width:um;return{width:r,height:t.height}},g9=re(zr,lo,p9),Zse=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},Jse=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},eoe=re(ao,zr,Yse,ov,lv,(t,e,r,n,i)=>{var a={},l;return r.forEach(c=>{var f=p9(e,c);l==null&&(l=Zse(e,n,t));var h=n==="top"&&!i||n==="bottom"&&i;a[c.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),a}),toe=re(io,zr,Xse,ov,lv,(t,e,r,n,i)=>{var a={},l;return r.forEach(c=>{var f=Qse(e,c);l==null&&(l=Jse(e,n,t));var h=n==="left"&&!i||n==="right"&&i;a[c.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),a}),roe=(t,e)=>{var r=lo(t,e);if(r!=null)return eoe(t,r.orientation,r.mirror)},noe=re([zr,lo,roe,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),ioe=(t,e)=>{var r=co(t,e);if(r!=null)return toe(t,r.orientation,r.mirror)},aoe=re([zr,co,ioe,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),y9=re(zr,co,(t,e)=>{var r=typeof e.width=="number"?e.width:um;return{width:r,height:t.height}}),DO=(t,e,r)=>{switch(e){case"xAxis":return g9(t,r).width;case"yAxis":return y9(t,r).height;default:return}},v9=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=r,c=ns(t,n),f=e.map(h=>h.value);if(l&&c&&a==="category"&&i&&p5(f))return f}},kA=re([rt,av,Sr,Zt],v9),x9=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,l=ns(t,n);if(l&&(i==="number"||a!=="auto"))return e.map(c=>c.value)}},OA=re([rt,av,xm,Zt],x9),MO=re([rt,_se,Ld,Vd,kA,OA,_m,CA,Zt],(t,e,r,n,i,a,l,c,f)=>{if(e==null)return null;var h=ns(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:c,range:l,realScaleType:r,scale:n}}),soe=(t,e,r,n,i,a,l,c,f)=>{if(!(e==null||n==null)){var h=ns(t,f),{type:p,ticks:g,tickCount:v}=e,b=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,A=p==="category"&&n.bandwidth?n.bandwidth()/b:0;A=f==="angleAxis"&&a!=null&&a.length>=2?Zr(a[0]-a[1])*2*A:A;var E=g||i;if(E){var S=E.map((N,C)=>{var j=l?l.indexOf(N):N;return{index:C,coordinate:n(j)+A,value:N,offset:A}});return S.filter(N=>!Wn(N.coordinate))}return h&&c?c.map((N,C)=>({coordinate:n(N)+A,value:N,index:C,offset:A})):n.ticks?n.ticks(v).map(N=>({coordinate:n(N)+A,value:N,offset:A})):n.domain().map((N,C)=>({coordinate:n(N)+A,value:l?l[N]:N,index:C,offset:A}))}},b9=re([rt,xm,Ld,Vd,CA,_m,kA,OA,Zt],soe),ooe=(t,e,r,n,i,a,l)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var c=ns(t,l),{tickCount:f}=e,h=0;return h=l==="angleAxis"&&n?.length>=2?Zr(n[0]-n[1])*2*h:h,c&&a?a.map((p,g)=>({coordinate:r(p)+h,value:p,index:g,offset:h})):r.ticks?r.ticks(f).map(p=>({coordinate:r(p)+h,value:p,offset:h})):r.domain().map((p,g)=>({coordinate:r(p)+h,value:i?i[p]:p,index:g,offset:h}))}},Xa=re([rt,xm,Vd,_m,kA,OA,Zt],ooe),Qa=re(Sr,Vd,(t,e)=>{if(!(t==null||e==null))return U0(U0({},t),{},{scale:e})}),loe=re([Sr,Ld,TA,h9],NA);re((t,e,r)=>gA(t,r),loe,(t,e)=>{if(!(t==null||e==null))return U0(U0({},t),{},{scale:e})});var coe=re([rt,qy,Hy],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),w9=t=>t.options.defaultTooltipEventType,_9=t=>t.options.validateTooltipEventTypes;function E9(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function IA(t,e){var r=w9(t),n=_9(t);return E9(e,r,n)}function uoe(t){return Pe(e=>IA(e,t))}var A9=(t,e)=>{var r,n=Number(e);if(!(Wn(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},doe=t=>t.tooltip.settings,Qo={active:!1,index:null,dataKey:void 0,coordinate:void 0},foe={itemInteraction:{click:Qo,hover:Qo},axisInteraction:{click:Qo,hover:Qo},keyboardInteraction:Qo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},S9=gi({name:"tooltip",initialState:foe,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=zs(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:hoe,removeTooltipEntrySettings:moe,setTooltipSettingsState:poe,setActiveMouseOverItemIndex:T9,mouseLeaveItem:goe,mouseLeaveChart:N9,setActiveClickItemIndex:yoe,setMouseOverAxisIndex:j9,setMouseClickAxisIndex:voe,setSyncInteraction:P2,setKeyboardInteraction:k2}=S9.actions,xoe=S9.reducer;function LO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(r),!0).forEach(function(n){boe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function boe(t,e,r){return(e=woe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function woe(t){var e=_oe(t,"string");return typeof e=="symbol"?e:e+""}function _oe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eoe(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Aoe(t){return t.index!=null}var C9=(t,e,r,n)=>{if(e==null)return Qo;var i=Eoe(t,e,r);if(i==null)return Qo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Aoe(i)){if(a)return fg(fg({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return fg(fg({},Qo),{},{coordinate:i.coordinate})},RA=(t,e)=>{var r=t?.index;if(r==null)return null;var n=Number(r);if(!mn(n))return r;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(n,a)))},P9=(t,e,r,n,i,a,l,c)=>{if(!(a==null||c==null)){var f=l[0],h=f==null?void 0:c(f.positions,a);if(h!=null)return h;var p=i?.[Number(a)];if(p)switch(r){case"horizontal":return{x:p.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:p.coordinate}}}},k9=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},Em=t=>t.options.tooltipPayloadSearcher,Bd=t=>t.tooltip;function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){Soe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Soe(t,e,r){return(e=Toe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Toe(t){var e=Noe(t,"string");return typeof e=="symbol"?e:e+""}function Noe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function joe(t,e){return t??e}var O9=(t,e,r,n,i,a,l)=>{if(!(e==null||a==null)){var{chartData:c,computedData:f,dataStartIndex:h,dataEndIndex:p}=r,g=[];return t.reduce((v,b)=>{var A,{dataDefinedOnItem:E,settings:S}=b,N=joe(E,c),C=Array.isArray(N)?_M(N,h,p):N,j=(A=S?.dataKey)!==null&&A!==void 0?A:n,L=S?.nameKey,z;if(n&&Array.isArray(C)&&!Array.isArray(C[0])&&l==="axis"?z=g5(C,n,i):z=a(C,e,f,L),Array.isArray(z))z.forEach(I=>{var P=BO(BO({},S),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});v.push(wk({tooltipEntrySettings:P,dataKey:I.dataKey,payload:I.payload,value:Ct(I.payload,I.dataKey),name:I.name}))});else{var M;v.push(wk({tooltipEntrySettings:S,dataKey:j,payload:z,value:Ct(z,j),name:(M=Ct(z,L))!==null&&M!==void 0?M:S?.name}))}return v},g)}},DA=re([tn,rt,Y8,uA,Hr],d9),Coe=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Poe=re([Hr,Dd],yA),Am=re([Coe,tn,Poe],vA),koe=re([Am],t=>t.filter(iv)),Ooe=re([Am],xA),Ud=re([Ooe,Tl],bA),Ioe=re([koe,Tl,tn],K8),MA=re([Ud,tn,Am],_A),Roe=re([tn],EA),Doe=re([Am],t=>t.filter(iv)),Moe=re([Ioe,Doe,ym],e9),Loe=re([Moe,Tl,Hr],t9),Voe=re([Am],Q8),Boe=re([Ud,tn,Voe,sv,Hr],r9),Uoe=re([i9,Hr,Dd],Md),$oe=re([Uoe,Hr],o9),zoe=re([a9,Hr,Dd],Md),Foe=re([zoe,Hr],l9),qoe=re([s9,Hr,Dd],Md),Hoe=re([qoe,Hr],c9),Koe=re([$oe,Hoe,Foe],$0),Goe=re([tn,Roe,Loe,Boe,Koe,rt,Hr],AA),I9=re([tn,rt,Ud,MA,ym,Hr,Goe],SA),Woe=re([I9,tn,DA],jA),Yoe=re([tn,I9,Woe,Hr],PA),R9=t=>{var e=Hr(t),r=Dd(t),n=!1;return _m(t,e,r,n)},D9=re([tn,R9],tv),M9=re([tn,DA,Yoe,D9],NA),Xoe=re([rt,MA,tn,Hr],v9),Qoe=re([rt,MA,tn,Hr],x9),Zoe=(t,e,r,n,i,a,l,c)=>{if(e){var{type:f}=e,h=ns(t,c);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/p:0;return g=c==="angleAxis"&&i!=null&&i?.length>=2?Zr(i[0]-i[1])*2*g:g,h&&l?l.map((v,b)=>({coordinate:n(v)+g,value:v,index:b,offset:g})):n.domain().map((v,b)=>({coordinate:n(v)+g,value:a?a[v]:v,index:b,offset:g}))}}},uo=re([rt,tn,DA,M9,R9,Xoe,Qoe,Hr],Zoe),LA=re([w9,_9,doe],(t,e,r)=>E9(r.shared,t,e)),L9=t=>t.tooltip.settings.trigger,VA=t=>t.tooltip.settings.defaultIndex,cv=re([Bd,LA,L9,VA],C9),pl=re([cv,Ud],RA),V9=re([uo,pl],A9),B9=re([cv],t=>{if(t)return t.dataKey}),U9=re([Bd,LA,L9,VA],k9),Joe=re([io,ao,rt,zr,uo,VA,U9,Em],P9),ele=re([cv,Joe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),tle=re([cv],t=>t.active),rle=re([U9,pl,Tl,H8,V9,Em,LA],O9),nle=re([rle],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function UO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(r),!0).forEach(function(n){ile(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ile(t,e,r){return(e=ale(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ale(t){var e=sle(t,"string");return typeof e=="symbol"?e:e+""}function sle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ole=()=>Pe(tn),lle=()=>{var t=ole(),e=Pe(uo),r=Pe(M9);return Ic($O($O({},t),{},{scale:r}),e)},$9=()=>Pe(uA),BA=(t,e)=>e,z9=(t,e,r)=>r,UA=(t,e,r,n)=>n,cle=re(uo,t=>Vy(t,e=>e.coordinate)),$A=re([Bd,BA,z9,UA],C9),F9=re([$A,Ud],RA),ule=(t,e,r)=>{if(e!=null){var n=Bd(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},q9=re([Bd,BA,z9,UA],k9),z0=re([io,ao,rt,zr,uo,UA,q9,Em],P9),dle=re([$A,z0],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),H9=re(uo,F9,A9),fle=re([q9,F9,Tl,H8,H9,Em,BA],O9),hle=re([$A],t=>({isActive:t.active,activeIndex:t.index})),mle=(t,e,r,n,i,a,l,c)=>{if(!(!t||!e||!n||!i||!a)){var f=Mte(t.chartX,t.chartY,e,r,c);if(f){var h=Vte(f,e),p=Ate(h,l,a,n,i),g=Lte(e,a,p,f);return{activeIndex:String(p),activeCoordinate:g}}}};function O2(){return O2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O2.apply(null,arguments)}function zO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(r),!0).forEach(function(n){ple(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ple(t,e,r){return(e=gle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gle(t){var e=yle(t,"string");return typeof e=="symbol"?e:e+""}function yle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vle(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:l,cursor:c,tooltipEventType:f,chartName:h}=t,p=e,g=r,v=n;if(!c||!p||h!=="ScatterChart"&&f!=="axis")return null;var b,A;if(h==="ScatterChart")b=p,A=Vre;else if(h==="BarChart")b=Bre(l,p,i,a),A=VM;else if(l==="radial"){var{cx:E,cy:S,radius:N,startAngle:C,endAngle:j}=BM(p);b={cx:E,cy:S,startAngle:C,endAngle:j,innerRadius:N,outerRadius:N},A=$M}else b={points:vne(l,p,i)},A=Xu;var L=typeof c=="object"&&"className"in c?c.className:void 0,z=hg(hg(hg(hg({stroke:"#ccc",pointerEvents:"none"},i),b),Ht(c,!1)),{},{payload:g,payloadIndex:v,className:ut("recharts-tooltip-cursor",L)});return _.isValidElement(c)?_.cloneElement(c,z):_.createElement(A,z)}function xle(t){var e=lle(),r=CM(),n=dm(),i=$9();return _.createElement(vle,O2({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var K9=_.createContext(null),ble=()=>_.useContext(K9),n1={exports:{}},FO;function wle(){return FO||(FO=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function a(f,h,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,g||f,v),A=r?r+h:h;return f._events[A]?f._events[A].fn?f._events[A]=[f._events[A],b]:f._events[A].push(b):(f._events[A]=b,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},c.prototype.listeners=function(h){var p=r?r+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,b=g.length,A=new Array(b);v<b;v++)A[v]=g[v].fn;return A},c.prototype.listenerCount=function(h){var p=r?r+h:h,g=this._events[p];return g?g.fn?1:g.length:0},c.prototype.emit=function(h,p,g,v,b,A){var E=r?r+h:h;if(!this._events[E])return!1;var S=this._events[E],N=arguments.length,C,j;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),N){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,v),!0;case 5:return S.fn.call(S.context,p,g,v,b),!0;case 6:return S.fn.call(S.context,p,g,v,b,A),!0}for(j=1,C=new Array(N-1);j<N;j++)C[j-1]=arguments[j];S.fn.apply(S.context,C)}else{var L=S.length,z;for(j=0;j<L;j++)switch(S[j].once&&this.removeListener(h,S[j].fn,void 0,!0),N){case 1:S[j].fn.call(S[j].context);break;case 2:S[j].fn.call(S[j].context,p);break;case 3:S[j].fn.call(S[j].context,p,g);break;case 4:S[j].fn.call(S[j].context,p,g,v);break;default:if(!C)for(z=1,C=new Array(N-1);z<N;z++)C[z-1]=arguments[z];S[j].fn.apply(S[j].context,C)}}return!0},c.prototype.on=function(h,p,g){return a(this,h,p,g,!1)},c.prototype.once=function(h,p,g){return a(this,h,p,g,!0)},c.prototype.removeListener=function(h,p,g,v){var b=r?r+h:h;if(!this._events[b])return this;if(!p)return l(this,b),this;var A=this._events[b];if(A.fn)A.fn===p&&(!v||A.once)&&(!g||A.context===g)&&l(this,b);else{for(var E=0,S=[],N=A.length;E<N;E++)(A[E].fn!==p||v&&!A[E].once||g&&A[E].context!==g)&&S.push(A[E]);S.length?this._events[b]=S.length===1?S[0]:S:l(this,b)}return this},c.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(n1)),n1.exports}var _le=wle();const Ele=Za(_le);var Vh=new Ele,I2="recharts.syncEvent.tooltip",qO="recharts.syncEvent.brush";function uv(t,e){if(e){var r=Number.parseInt(e,10);if(!Wn(r))return t?.[r]}}var Ale={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},G9=gi({name:"options",initialState:Ale,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Sle=G9.reducer,{createEventEmitter:Tle}=G9.actions;function Nle(t){return t.tooltip.syncInteraction}var jle={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},W9=gi({name:"chartData",initialState:jle,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:HO,setDataStartEndIndexes:Cle,setComputedData:o0e}=W9.actions,Ple=W9.reducer,kle=["x","y"];function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){Ole(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ole(t,e,r){return(e=Ile(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ile(t){var e=Rle(t,"string");return typeof e=="symbol"?e:e+""}function Rle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dle(t,e){if(t==null)return{};var r,n,i=Mle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Mle(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Y9=()=>{};function Lle(){var t=Pe(dA),e=Pe(fA),r=ar(),n=Pe(B8),i=Pe(uo),a=dm(),l=RE(),c=Pe(f=>f.rootProps.className);_.useEffect(()=>{if(t==null)return Y9;var f=(h,p,g)=>{if(e!==g&&t===h){if(n==="index"){var v;if(l&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate){var b=p.payload.coordinate,{x:A,y:E}=b,S=Dle(b,kle),N=sc(sc(sc({},S),typeof A=="number"&&{x:Math.max(l.x,Math.min(A,l.x+l.width))}),typeof E=="number"&&{y:Math.max(l.y,Math.min(E,l.y+l.height))}),C=sc(sc({},p),{},{payload:sc(sc({},p.payload),{},{coordinate:N})});r(C)}else r(p);return}if(i!=null){var j;if(typeof n=="function"){var L={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},z=n(i,L);j=i[z]}else n==="value"&&(j=i.find(V=>String(V.value)===p.payload.label));var{coordinate:M}=p.payload;if(j==null||p.payload.active===!1||M==null||l==null){r(P2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:I,y:P}=M,R=Math.min(I,l.x+l.width),U=Math.min(P,l.y+l.height),B={x:a==="horizontal"?j.coordinate:R,y:a==="horizontal"?U:j.coordinate},q=P2({active:p.payload.active,coordinate:B,dataKey:p.payload.dataKey,index:String(j.index),label:p.payload.label});r(q)}}};return Vh.on(I2,f),()=>{Vh.off(I2,f)}},[c,r,e,t,n,i,a,l])}function Vle(){var t=Pe(dA),e=Pe(fA),r=ar();_.useEffect(()=>{if(t==null)return Y9;var n=(i,a,l)=>{e!==l&&t===i&&r(Cle(a))};return Vh.on(qO,n),()=>{Vh.off(qO,n)}},[r,e,t])}function Ble(){var t=ar();_.useEffect(()=>{t(Tle())},[t]),Lle(),Vle()}function Ule(t,e,r,n,i,a){var l=Pe(v=>ule(v,t,e)),c=Pe(fA),f=Pe(dA),h=Pe(B8),p=Pe(Nle),g=p?.active;_.useEffect(()=>{if(!g&&f!=null&&c!=null){var v=P2({active:a,coordinate:r,dataKey:l,index:i,label:typeof n=="number"?String(n):n});Vh.emit(I2,f,v,c)}},[g,r,l,i,n,c,f,h,a])}function GO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(r),!0).forEach(function(n){$le(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $le(t,e,r){return(e=zle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zle(t){var e=Fle(t,"string");return typeof e=="symbol"?e:e+""}function Fle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qle(t){return t.dataKey}function Hle(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(gre,e)}var YO=[],Kle={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!so.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Sm(t){var e=Fr(t,Kle),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:l,filterNull:c,isAnimationActive:f,offset:h,payloadUniqBy:p,position:g,reverseDirection:v,useTranslate3d:b,wrapperStyle:A,cursor:E,shared:S,trigger:N,defaultIndex:C,portal:j,axisId:L}=e,z=ar(),M=typeof C=="number"?String(C):C;_.useEffect(()=>{z(poe({shared:S,trigger:N,axisId:L,active:r,defaultIndex:M}))},[z,S,N,L,r,M]);var I=RE(),P=IM(),R=uoe(S),{activeIndex:U,isActive:B}=Pe(ye=>hle(ye,R,N,M)),q=Pe(ye=>fle(ye,R,N,M)),V=Pe(ye=>H9(ye,R,N,M)),xe=Pe(ye=>dle(ye,R,N,M)),fe=q,W=ble(),K=r??B,[le,pe]=X5([fe,K]),$=R==="axis"?V:void 0;Ule(R,N,xe,$,U,K);var Y=j??W;if(Y==null)return null;var te=fe??YO;K||(te=YO),c&&te.length&&(te=H5(fe.filter(ye=>ye.value!=null&&(ye.hide!==!0||e.includeHidden)),p,qle));var Q=te.length>0,oe=_.createElement(Ere,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:f,active:K,coordinate:xe,hasPayload:Q,offset:h,position:g,reverseDirection:v,useTranslate3d:b,viewBox:I,wrapperStyle:A,lastBoundingBox:le,innerRef:pe,hasPortalFromProps:!!j},Hle(l,WO(WO({},e),{},{payload:te,label:$,active:K,coordinate:xe,accessibilityLayer:P})));return _.createElement(_.Fragment,null,bI.createPortal(oe,Y),K&&_.createElement(xle,{cursor:E,tooltipEventType:R,coordinate:xe,payload:fe,index:U}))}var i1={},a1={},s1={},XO;function Gle(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let l,c=null;const f=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),p=()=>{c!==null&&(r.apply(l,c),l=void 0,c=null)},g=()=>{h&&p(),E()};let v=null;const b=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},n)},A=()=>{v!==null&&(clearTimeout(v),v=null)},E=()=>{A(),l=void 0,c=null},S=()=>{p()},N=function(...C){if(i?.aborted)return;l=this,c=C;const j=v==null;b(),f&&j&&p()};return N.schedule=b,N.cancel=E,N.flush=S,i?.addEventListener("abort",E,{once:!0}),N}t.debounce=e})(s1)),s1}var QO;function Wle(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gle();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:c=!0,maxWait:f}=a,h=Array(2);l&&(h[0]="leading"),c&&(h[1]="trailing");let p,g=null;const v=e.debounce(function(...E){p=n.apply(this,E),g=null},i,{edges:h}),b=function(...E){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=n.apply(this,E),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,E),p)},A=()=>(v.flush(),p);return b.cancel=v.cancel,b.flush=A,b}t.debounce=r})(a1)),a1}var ZO;function Yle(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wle();function r(n,i=0,a={}){const{leading:l=!0,trailing:c=!0}=a;return e.debounce(n,i,{leading:l,maxWait:i,trailing:c})}t.throttle=r})(i1)),i1}var o1,JO;function Xle(){return JO||(JO=1,o1=Yle().throttle),o1}var Qle=Xle();const Zle=Za(Qle);var yh=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function e3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function l1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e3(Object(r),!0).forEach(function(n){Jle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jle(t,e,r){return(e=ece(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ece(t){var e=tce(t,"string");return typeof e=="symbol"?e:e+""}function tce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tm=_.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:l=0,minHeight:c,maxHeight:f,children:h,debounce:p=0,id:g,className:v,onResize:b,style:A={}}=t,E=_.useRef(null),S=_.useRef();S.current=b,_.useImperativeHandle(e,()=>E.current);var[N,C]=_.useState({containerWidth:n.width,containerHeight:n.height}),j=_.useCallback((z,M)=>{C(I=>{var P=Math.round(z),R=Math.round(M);return I.containerWidth===P&&I.containerHeight===R?I:{containerWidth:P,containerHeight:R}})},[]);_.useEffect(()=>{var z=R=>{var U,{width:B,height:q}=R[0].contentRect;j(B,q),(U=S.current)===null||U===void 0||U.call(S,B,q)};p>0&&(z=Zle(z,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(z),{width:I,height:P}=E.current.getBoundingClientRect();return j(I,P),M.observe(E.current),()=>{M.disconnect()}},[j,p]);var L=_.useMemo(()=>{var{containerWidth:z,containerHeight:M}=N;if(z<0||M<0)return null;yh(mc(i)||mc(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),yh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=mc(i)?z:i,P=mc(a)?M:a;return r&&r>0&&(I?P=I/r:P&&(I=P*r),f&&P>f&&(P=f)),yh(I>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,P,i,a,l,c,r),_.Children.map(h,R=>_.cloneElement(R,{width:I,height:P,style:l1({width:I,height:P},R.props.style)}))},[r,h,a,f,c,l,N,i]);return _.createElement("div",{id:g?"".concat(g):void 0,className:ut("recharts-responsive-container",v),style:l1(l1({},A),{},{width:i,height:a,minWidth:l,minHeight:c,maxHeight:f}),ref:E},_.createElement("div",{style:{width:0,height:0,overflow:"visible"}},L))}),Qc=t=>null;Qc.displayName="Cell";function rce(t,e,r){return(e=nce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nce(t){var e=ice(t,"string");return typeof e=="symbol"?e:e+""}function ice(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ace{constructor(e){rce(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function t3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t3(Object(r),!0).forEach(function(n){oce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oce(t,e,r){return(e=lce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lce(t){var e=cce(t,"string");return typeof e=="symbol"?e:e+""}function cce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uce={cacheSize:2e3,enableCache:!0},X9=sce({},uce),r3=new ace(X9.cacheSize),dce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},n3="recharts_measurement_span";function fce(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(c)}var i3=(t,e)=>{try{var r=document.getElementById(n3);r||(r=document.createElement("span"),r.setAttribute("id",n3),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,dce,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},vh=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||so.isSsr)return{width:0,height:0};if(!X9.enableCache)return i3(e,r);var n=fce(e,r),i=r3.get(n);if(i)return i;var a=i3(e,r);return r3.set(n,a),a},a3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,s3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Q9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pce=Object.keys(Q9),$u="NaN";function gce(t,e){return t*Q9[e]}class $n{static parse(e){var r,[,n,i]=(r=mce.exec(e))!==null&&r!==void 0?r:[];return new $n(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Wn(e)&&(this.unit=""),r!==""&&!hce.test(r)&&(this.num=NaN,this.unit=""),pce.includes(r)&&(this.num=gce(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new $n(NaN,""):new $n(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new $n(NaN,""):new $n(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new $n(NaN,""):new $n(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new $n(NaN,""):new $n(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Wn(this.num)}}function Z9(t){if(t.includes($u))return $u;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=a3.exec(e))!==null&&r!==void 0?r:[],l=$n.parse(n??""),c=$n.parse(a??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return $u;e=e.replace(a3,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,v]=(h=s3.exec(e))!==null&&h!==void 0?h:[],b=$n.parse(p??""),A=$n.parse(v??""),E=g==="+"?b.add(A):b.subtract(A);if(E.isNaN())return $u;e=e.replace(s3,E.toString())}return e}var o3=/\(([^()]*)\)/;function yce(t){for(var e=t,r;(r=o3.exec(e))!=null;){var[,n]=r;e=e.replace(o3,Z9(n))}return e}function vce(t){var e=t.replace(/\s+/g,"");return e=yce(e),e=Z9(e),e}function xce(t){try{return vce(t)}catch{return $u}}function c1(t){var e=xce(t.slice(5,-1));return e===$u?"":e}var bce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],wce=["dx","dy","angle","className","breakAll"];function R2(){return R2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R2.apply(null,arguments)}function l3(t,e){if(t==null)return{};var r,n,i=_ce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _ce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var J9=/[ \f\n\r\t\v\u2028\u2029]+/,eL=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];qt(e)||(r?i=e.toString().split(""):i=e.toString().split(J9));var a=i.map(c=>({word:c,width:vh(c,n).width})),l=r?0:vh(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},Ece=(t,e,r,n,i)=>{var{maxLines:a,children:l,style:c,breakAll:f}=t,h=ke(a),p=l,g=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce((q,V)=>{var{word:xe,width:fe}=V,W=q[q.length-1];if(W&&(n==null||i||W.width+fe+r<Number(n)))W.words.push(xe),W.width+=fe+r;else{var K={words:[xe],width:fe};q.push(K)}return q},[])},v=g(e),b=U=>U.reduce((B,q)=>B.width>q.width?B:q);if(!h||i)return v;var A=v.length>a||b(v).width>Number(n);if(!A)return v;for(var E="…",S=U=>{var B=p.slice(0,U),q=eL({breakAll:f,style:c,children:B+E}).wordsWithComputedWidth,V=g(q),xe=V.length>a||b(V).width>Number(n);return[xe,V]},N=0,C=p.length-1,j=0,L;N<=C&&j<=p.length-1;){var z=Math.floor((N+C)/2),M=z-1,[I,P]=S(M),[R]=S(z);if(!I&&!R&&(N=z+1),I&&R&&(C=z-1),!I&&R){L=P;break}j++}return L||v},c3=t=>{var e=qt(t)?[]:t.toString().split(J9);return[{words:e}]},Ace=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:l}=t;if((e||r)&&!so.isSsr){var c,f,h=eL({breakAll:a,children:n,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;c=p,f=g}else return c3(n);return Ece({breakAll:a,children:n,maxLines:l,style:i},c,f,e,r)}return c3(n)},u3="#808080",dv=_.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:f="end",fill:h=u3}=t,p=l3(t,bce),g=_.useMemo(()=>Ace({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:l,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,l,p.style,p.width]),{dx:v,dy:b,angle:A,className:E,breakAll:S}=p,N=l3(p,wce);if(!Wa(r)||!Wa(n)||g.length===0)return null;var C=r+(ke(v)?v:0),j=n+(ke(b)?b:0),L;switch(f){case"start":L=c1("calc(".concat(a,")"));break;case"middle":L=c1("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:L=c1("calc(".concat(g.length-1," * -").concat(i,")"));break}var z=[];if(l){var M=g[0].width,{width:I}=p;z.push("scale(".concat(ke(I)?I/M:1,")"))}return A&&z.push("rotate(".concat(A,", ").concat(C,", ").concat(j,")")),z.length&&(N.transform=z.join(" ")),_.createElement("text",R2({},Ht(N,!0),{ref:e,x:C,y:j,className:ut("recharts-text",E),textAnchor:c,fill:h.includes("url")?u3:h}),g.map((P,R)=>{var U=P.words.join(S?"":" ");return _.createElement("tspan",{x:C,dy:R===0?L:i,key:"".concat(U,"-").concat(R)},U)}))});dv.displayName="Text";var Sce=["labelRef"];function Tce(t,e){if(t==null)return{};var r,n,i=Nce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Nce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function d3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d3(Object(r),!0).forEach(function(n){jce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jce(t,e,r){return(e=Cce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cce(t){var e=Pce(t,"string");return typeof e=="symbol"?e:e+""}function Pce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Os(){return Os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Os.apply(null,arguments)}var tL=_.createContext(null),kce=t=>{var{x:e,y:r,width:n,height:i,children:a}=t,l=_.useMemo(()=>({x:e,y:r,width:n,height:i}),[e,r,n,i]);return _.createElement(tL.Provider,{value:l},a)},rL=()=>{var t=_.useContext(tL),e=RE();return t||e},Oce=_.createContext(null),Ice=()=>{var t=_.useContext(Oce),e=Pe(q8);return t||e},Rce=t=>{var{value:e,formatter:r}=t,n=qt(t.children)?e:t.children;return typeof r=="function"?r(n):n},zA=t=>t!=null&&typeof t=="function",Dce=(t,e)=>{var r=Zr(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Mce=(t,e,r,n,i)=>{var{offset:a,className:l}=t,{cx:c,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:v,clockWise:b}=i,A=(h+p)/2,E=Dce(g,v),S=E>=0?1:-1,N,C;switch(e){case"insideStart":N=g+S*a,C=b;break;case"insideEnd":N=v-S*a,C=!b;break;case"end":N=v+S*a,C=b;break;default:throw new Error("Unsupported position ".concat(e))}C=E<=0?C:!C;var j=Ir(c,f,A,N),L=Ir(c,f,A,N+(C?1:-1)*359),z="M".concat(j.x,",").concat(j.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(C?0:1,`,
    `).concat(L.x,",").concat(L.y),M=qt(t.id)?jh("recharts-radial-line-"):t.id;return _.createElement("text",Os({},n,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",l)}),_.createElement("defs",null,_.createElement("path",{id:M,d:z})),_.createElement("textPath",{xlinkHref:"#".concat(M)},r))},Lce=(t,e,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:l,startAngle:c,endAngle:f}=t,h=(c+f)/2;if(r==="outside"){var{x:p,y:g}=Ir(n,i,l+e,h);return{x:p,y:g,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+l)/2,{x:b,y:A}=Ir(n,i,v,h);return{x:b,y:A,textAnchor:"middle",verticalAnchor:"middle"}},nL=t=>"cx"in t&&ke(t.cx),Vce=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,a;r!=null&&!nL(r)&&(a=r);var{x:l,y:c,width:f,height:h}=e,p=h>=0?1:-1,g=p*n,v=p>0?"end":"start",b=p>0?"start":"end",A=f>=0?1:-1,E=A*n,S=A>0?"end":"start",N=A>0?"start":"end";if(i==="top"){var C={x:l+f/2,y:c-p*n,textAnchor:"middle",verticalAnchor:v};return vr(vr({},C),a?{height:Math.max(c-a.y,0),width:f}:{})}if(i==="bottom"){var j={x:l+f/2,y:c+h+g,textAnchor:"middle",verticalAnchor:b};return vr(vr({},j),a?{height:Math.max(a.y+a.height-(c+h),0),width:f}:{})}if(i==="left"){var L={x:l-E,y:c+h/2,textAnchor:S,verticalAnchor:"middle"};return vr(vr({},L),a?{width:Math.max(L.x-a.x,0),height:h}:{})}if(i==="right"){var z={x:l+f+E,y:c+h/2,textAnchor:N,verticalAnchor:"middle"};return vr(vr({},z),a?{width:Math.max(a.x+a.width-z.x,0),height:h}:{})}var M=a?{width:f,height:h}:{};return i==="insideLeft"?vr({x:l+E,y:c+h/2,textAnchor:N,verticalAnchor:"middle"},M):i==="insideRight"?vr({x:l+f-E,y:c+h/2,textAnchor:S,verticalAnchor:"middle"},M):i==="insideTop"?vr({x:l+f/2,y:c+g,textAnchor:"middle",verticalAnchor:b},M):i==="insideBottom"?vr({x:l+f/2,y:c+h-g,textAnchor:"middle",verticalAnchor:v},M):i==="insideTopLeft"?vr({x:l+E,y:c+g,textAnchor:N,verticalAnchor:b},M):i==="insideTopRight"?vr({x:l+f-E,y:c+g,textAnchor:S,verticalAnchor:b},M):i==="insideBottomLeft"?vr({x:l+E,y:c+h-g,textAnchor:N,verticalAnchor:v},M):i==="insideBottomRight"?vr({x:l+f-E,y:c+h-g,textAnchor:S,verticalAnchor:v},M):i&&typeof i=="object"&&(ke(i.x)||mc(i.x))&&(ke(i.y)||mc(i.y))?vr({x:l+An(i.x,f),y:c+An(i.y,h),textAnchor:"end",verticalAnchor:"end"},M):vr({x:l+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},M)},Bce={offset:5};function Go(t){var e=Fr(t,Bce),{viewBox:r,position:n,value:i,children:a,content:l,className:c="",textBreakAll:f,labelRef:h}=e,p=Ice(),g=rL(),v=n==="center"?g:p??g,b=r||v;if(!b||qt(i)&&qt(a)&&!_.isValidElement(l)&&typeof l!="function")return null;var A=vr(vr({},e),{},{viewBox:b});if(_.isValidElement(l)){var{labelRef:E}=A,S=Tce(A,Sce);return _.cloneElement(l,S)}var N;if(typeof l=="function"){if(N=_.createElement(l,A),_.isValidElement(N))return N}else N=Rce(e);var C=nL(b),j=Ht(e,!0);if(C&&(n==="insideStart"||n==="insideEnd"||n==="end"))return Mce(e,n,N,j,b);var L=C?Lce(b,e.offset,e.position):Vce(e,b);return _.createElement(dv,Os({ref:h,className:ut("recharts-label",c)},j,L,{breakAll:f}),N)}Go.displayName="Label";var Uce=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?_.createElement(Go,Os({key:"label-implicit"},n)):Wa(t)?_.createElement(Go,Os({key:"label-implicit",value:t},n)):_.isValidElement(t)?t.type===Go?_.cloneElement(t,vr({key:"label-implicit"},n)):_.createElement(Go,Os({key:"label-implicit",content:t},n)):zA(t)?_.createElement(Go,Os({key:"label-implicit",content:t},n)):t&&typeof t=="object"?_.createElement(Go,Os({},t,{key:"label-implicit"},n)):null};function $ce(t){var{label:e}=t,r=rL();return Uce(e,r)||null}var u1={},d1={},f3;function zce(){return f3||(f3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(d1)),d1}var f1={},h3;function Fce(){return h3||(h3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(f1)),f1}var m3;function qce(){return m3||(m3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zce(),r=Fce(),n=SE();function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(u1)),u1}var h1,p3;function Hce(){return p3||(p3=1,h1=qce().last),h1}var Kce=Hce();const Gce=Za(Kce);var Wce=["valueAccessor"],Yce=["dataKey","clockWise","id","textBreakAll"];function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F0.apply(null,arguments)}function g3(t,e){if(t==null)return{};var r,n,i=Xce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Xce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Qce=t=>Array.isArray(t.value)?Gce(t.value):t.value,iL=_.createContext(void 0),FA=iL.Provider,aL=_.createContext(void 0),Zce=aL.Provider;function Jce(){return _.useContext(iL)}function eue(){return _.useContext(aL)}function Pg(t){var{valueAccessor:e=Qce}=t,r=g3(t,Wce),{dataKey:n,clockWise:i,id:a,textBreakAll:l}=r,c=g3(r,Yce),f=Jce(),h=eue(),p=f||h;return!p||!p.length?null:_.createElement(hr,{className:"recharts-label-list"},p.map((g,v)=>{var b,A=qt(n)?e(g,v):Ct(g&&g.payload,n),E=qt(a)?{}:{id:"".concat(a,"-").concat(v)};return _.createElement(Go,F0({},Ht(g,!0),c,E,{fill:(b=r.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:A,textBreakAll:l,viewBox:g.viewBox,key:"label-".concat(v),index:v}))}))}Pg.displayName="LabelList";function fv(t){var{label:e}=t;return e?e===!0?_.createElement(Pg,{key:"labelList-implicit"}):_.isValidElement(e)||zA(e)?_.createElement(Pg,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(Pg,F0({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function D2(){return D2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D2.apply(null,arguments)}var qA=t=>{var{cx:e,cy:r,r:n,className:i}=t,a=ut("recharts-dot",i);return e===+e&&r===+r&&n===+n?_.createElement("circle",D2({},Hi(t),gE(t),{className:a,cx:e,cy:r,r:n})):null},sL=t=>t.graphicalItems.polarItems,tue=re([Zt,vm],yA),HA=re([sL,Sr,tue],vA),rue=re([HA],xA),KA=re([rue,oA],bA),nue=re([KA,Sr,HA],_A),iue=re([KA,Sr,HA],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var a,l=Ct(n,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(n=>({value:Ct(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),y3=()=>{},aue=re([Sr,u9,y3,iue,y3,rt,Zt],AA),oL=re([Sr,rt,KA,nue,ym,Zt,aue],SA),sue=re([oL,Sr,Ld],jA);re([Sr,oL,sue,Zt],PA);var oue={radiusAxis:{},angleAxis:{}},lL=gi({name:"polarAxis",initialState:oue,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:l0e,removeRadiusAxis:c0e,addAngleAxis:u0e,removeAngleAxis:d0e}=lL.actions,lue=lL.reducer;function v3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v3(Object(r),!0).forEach(function(n){cue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cue(t,e,r){return(e=uue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uue(t){var e=due(t,"string");return typeof e=="symbol"?e:e+""}function due(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fue=(t,e)=>e,GA=re([sL,fue],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),hue=[],WA=(t,e,r)=>r?.length===0?hue:r,cL=re([oA,GA,WA],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>x3(x3({},e.presentationProps),a.props))),i!=null)return i}}),mue=re([cL,GA,WA],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var a,l=Ct(n,e.nameKey,e.name),c;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?c=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?c=n.fill:c=e.fill,{value:_l(l,e.dataKey),color:c,payload:n,type:e.legendType}})}),pue=re([cL,GA,WA,zr],(t,e,r,n)=>{if(!(e==null||t==null))return fde({offset:n,pieSettings:e,displayedData:t,cells:r})}),m1={},b3;function gue(){return b3||(b3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(m1)),m1}var p1,w3;function yue(){return w3||(w3=1,p1=gue().isPlainObject),p1}var vue=yue();const xue=Za(vue);function _3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_3(Object(r),!0).forEach(function(n){bue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bue(t,e,r){return(e=wue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wue(t){var e=_ue(t,"string");return typeof e=="symbol"?e:e+""}function _ue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q0.apply(null,arguments)}var A3=(t,e,r,n,i)=>{var a=r-n,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+r,",").concat(e),l+="L ".concat(t+r-a/2,",").concat(e+i),l+="L ".concat(t+r-a/2-n,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},Eue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Aue=t=>{var e=Fr(t,Eue),{x:r,y:n,upperWidth:i,lowerWidth:a,height:l,className:c}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,v=_.useRef(),[b,A]=_.useState(-1),E=_.useRef(i),S=_.useRef(a),N=_.useRef(l),C=_.useRef(r),j=_.useRef(n),L=kd(t,"trapezoid-");if(_.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var xe=v.current.getTotalLength();xe&&A(xe)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var z=ut("recharts-trapezoid",c);if(!g)return _.createElement("g",null,_.createElement("path",q0({},Ht(e,!0),{className:z,d:A3(r,n,i,a,l)})));var M=E.current,I=S.current,P=N.current,R=C.current,U=j.current,B="0px ".concat(b===-1?1:b,"px"),q="".concat(b,"px 0px"),V=RM(["strokeDasharray"],h,f);return _.createElement(Pd,{animationId:L,key:L,canBegin:b>0,duration:h,easing:f,isActive:g,begin:p},xe=>{var fe=jt(M,i,xe),W=jt(I,a,xe),K=jt(P,l,xe),le=jt(R,r,xe),pe=jt(U,n,xe);v.current&&(E.current=fe,S.current=W,N.current=K,C.current=le,j.current=pe);var $=xe>0?{transition:V,strokeDasharray:q}:{strokeDasharray:B};return _.createElement("path",q0({},Ht(e,!0),{className:z,d:A3(le,pe,fe,W,K),ref:v,style:E3(E3({},$),e.style)}))})},Sue=["option","shapeType","propTransformer","activeClassName","isActive"];function Tue(t,e){if(t==null)return{};var r,n,i=Nue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Nue(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function S3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S3(Object(r),!0).forEach(function(n){jue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jue(t,e,r){return(e=Cue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cue(t){var e=Pue(t,"string");return typeof e=="symbol"?e:e+""}function Pue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kue(t,e){return H0(H0({},e),t)}function Oue(t,e){return t==="symbols"}function T3(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return _.createElement(VM,r);case"trapezoid":return _.createElement(Aue,r);case"sector":return _.createElement($M,r);case"symbols":if(Oue(e))return _.createElement(_E,r);break;default:return null}}function Iue(t){return _.isValidElement(t)?t.props:t}function uL(t){var{option:e,shapeType:r,propTransformer:n=kue,activeClassName:i="recharts-active-shape",isActive:a}=t,l=Tue(t,Sue),c;if(_.isValidElement(e))c=_.cloneElement(e,H0(H0({},l),Iue(e)));else if(typeof e=="function")c=e(l);else if(xue(e)&&typeof e!="boolean"){var f=n(e,l);c=_.createElement(T3,{shapeType:r,elementProps:f})}else{var h=l;c=_.createElement(T3,{shapeType:r,elementProps:h})}return a?_.createElement(hr,{className:i},c):c}var YA=(t,e)=>{var r=ar();return(n,i)=>a=>{t?.(n,i,a),r(T9({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},XA=t=>{var e=ar();return(r,n)=>i=>{t?.(r,n,i),e(goe())}},QA=(t,e)=>{var r=ar();return(n,i)=>a=>{t?.(n,i,a),r(yoe({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function hv(t){var{fn:e,args:r}=t,n=ar(),i=Nn();return _.useEffect(()=>{if(!i){var a=e(r);return n(hoe(a)),()=>{n(moe(a))}}},[e,r,n,i]),null}var dL=()=>{};function ZA(t){var{legendPayload:e}=t,r=ar(),n=Nn();return _.useEffect(()=>n?dL:(r(kM(e)),()=>{r(OM(e))}),[r,n,e]),null}function Rue(t){var{legendPayload:e}=t,r=ar(),n=Pe(rt);return _.useEffect(()=>n!=="centric"&&n!=="radial"?dL:(r(kM(e)),()=>{r(OM(e))}),[r,n,e]),null}var g1,Due=()=>{var[t]=_.useState(()=>jh("uid-"));return t},Mue=(g1=IV.useId)!==null&&g1!==void 0?g1:Due;function Lue(t,e){var r=Mue();return e||(t?"".concat(t,"-").concat(r):r)}var Vue=_.createContext(void 0),mv=t=>{var{id:e,type:r,children:n}=t,i=Lue("recharts-".concat(r),e);return _.createElement(Vue.Provider,{value:i},n(i))},Bue={cartesianItems:[],polarItems:[]},fL=gi({name:"graphicalItems",initialState:Bue,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=zs(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=zs(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=zs(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Uue,replaceCartesianGraphicalItem:$ue,removeCartesianGraphicalItem:zue,addPolarGraphicalItem:Fue,removePolarGraphicalItem:que}=fL.actions,Hue=fL.reducer;function JA(t){var e=ar(),r=_.useRef(null);return _.useEffect(()=>{r.current===null?e(Uue(t)):r.current!==t&&e($ue({prev:r.current,next:t})),r.current=t},[e,t]),_.useEffect(()=>()=>{r.current&&(e(zue(r.current)),r.current=null)},[e]),null}function Kue(t){var e=ar();return _.useEffect(()=>(e(Fue(t)),()=>{e(que(t))}),[e,t]),null}var Gue=["onMouseEnter","onClick","onMouseLeave"],Wue=["id"],Yue=["id"];function eS(t,e){if(t==null)return{};var r,n,i=Xue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Xue(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function N3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N3(Object(r),!0).forEach(function(n){Que(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Que(t,e,r){return(e=Zue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zue(t){var e=Jue(t,"string");return typeof e=="symbol"?e:e+""}function Jue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gl.apply(null,arguments)}function ede(t){var e=_.useMemo(()=>yE(t.children,Qc),[t.children]),r=Pe(n=>mue(n,t.id,e));return r==null?null:_.createElement(Rue,{legendPayload:r})}function tde(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:l,name:c,hide:f,tooltipType:h}=t;return{dataDefinedOnItem:n.map(p=>p.tooltipPayload),positions:n.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:l,dataKey:e,nameKey:r,name:_l(c,e),hide:f,type:h,color:l,unit:""}}}var rde=(t,e)=>t>e?"start":t<e?"end":"middle",nde=(t,e,r)=>An(typeof e=="function"?e(t):e,r,r*.8),ide=(t,e,r)=>{var{top:n,left:i,width:a,height:l}=e,c=wM(a,l),f=i+An(t.cx,a,a/2),h=n+An(t.cy,l,l/2),p=An(t.innerRadius,c,0),g=nde(r,t.outerRadius,c),v=t.maxRadius||Math.sqrt(a*a+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:v}},ade=(t,e)=>{var r=Zr(e-t),n=Math.min(Math.abs(e-t),360);return r*n};function sde(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var ode=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var r=ut("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return _.createElement(Xu,gl({},e,{type:"linear",className:r}))},lde=(t,e,r)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),_.isValidElement(n)))return n;var i=ut("recharts-pie-label-text",sde(t));return _.createElement(dv,gl({},e,{alignmentBaseline:"middle",className:i}),n)};function cde(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:a,dataKey:l}=r;if(!n||!i||!e)return null;var c=Hi(r),f=Ht(i,!1),h=Ht(a,!1),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((v,b)=>{var A=(v.startAngle+v.endAngle)/2,E=Ir(v.cx,v.cy,v.outerRadius+p,A),S=Wt(Wt(Wt(Wt({},c),v),{},{stroke:"none"},f),{},{index:b,textAnchor:rde(E.x,v.cx)},E),N=Wt(Wt(Wt(Wt({},c),v),{},{fill:"none",stroke:v.fill},h),{},{index:b,points:[Ir(v.cx,v.cy,v.outerRadius,A),E],key:"line"});return _.createElement(hr,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(b)},a&&ode(a,N),lde(i,S,Ct(v,l)))});return _.createElement(hr,{className:"recharts-pie-labels"},g)}function ude(t){var{sectors:e,props:r,showLabels:n}=t,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(fv,{label:i}):_.createElement(cde,{sectors:e,props:r,showLabels:n})}function dde(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i}=t,a=Pe(pl),{onMouseEnter:l,onClick:c,onMouseLeave:f}=i,h=eS(i,Gue),p=YA(l,i.dataKey),g=XA(f),v=QA(c,i.dataKey);return e==null||e.length===0?null:_.createElement(_.Fragment,null,e.map((b,A)=>{if(b?.startAngle===0&&b?.endAngle===0&&e.length!==1)return null;var E=r&&String(A)===a,S=a?n:null,N=E?r:S,C=Wt(Wt({},b),{},{stroke:b.stroke,tabIndex:-1,[NM]:A,[jM]:i.dataKey});return _.createElement(hr,gl({tabIndex:-1,className:"recharts-pie-sector"},om(h,b,A),{onMouseEnter:p(b,A),onMouseLeave:g(b,A),onClick:v(b,A),key:"sector-".concat(b?.startAngle,"-").concat(b?.endAngle,"-").concat(b.midAngle,"-").concat(A)}),_.createElement(uL,gl({option:N,isActive:E,shapeType:"sector"},C)))}))}function fde(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:a}=t,{cornerRadius:l,startAngle:c,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=r,v=Math.abs(r.minAngle),b=ade(c,f),A=Math.abs(b),E=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,S=n.filter(M=>Ct(M,h,0)!==0).length,N=(A>=360?S:S-1)*E,C=A-S*v-N,j=n.reduce((M,I)=>{var P=Ct(I,h,0);return M+(ke(P)?P:0)},0),L;if(j>0){var z;L=n.map((M,I)=>{var P=Ct(M,h,0),R=Ct(M,p,I),U=ide(r,a,M),B=(ke(P)?P:0)/j,q,V=Wt(Wt({},M),i&&i[I]&&i[I].props);I?q=z.endAngle+Zr(b)*E*(P!==0?1:0):q=c;var xe=q+Zr(b)*((P!==0?v:0)+B*C),fe=(q+xe)/2,W=(U.innerRadius+U.outerRadius)/2,K=[{name:R,value:P,payload:V,dataKey:h,type:g}],le=Ir(U.cx,U.cy,W,fe);return z=Wt(Wt(Wt(Wt({},r.presentationProps),{},{percent:B,cornerRadius:l,name:R,tooltipPayload:K,midAngle:fe,middleRadius:W,tooltipPosition:le},V),U),{},{value:P,startAngle:q,endAngle:xe,payload:V,paddingAngle:Zr(b)*E}),z})}return L}function hde(t){var{showLabels:e,sectors:r,children:n}=t,i=_.useMemo(()=>!e||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,e]);return _.createElement(Zce,{value:e?i:void 0},n)}function mde(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:l,animationEasing:c,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,v=kd(e,"recharts-pie-"),b=r.current,[A,E]=_.useState(!1),S=_.useCallback(()=>{typeof g=="function"&&g(),E(!1)},[g]),N=_.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return _.createElement(hde,{showLabels:!A,sectors:n},_.createElement(Pd,{animationId:v,begin:a,duration:l,isActive:i,easing:c,onAnimationStart:N,onAnimationEnd:S,key:v},C=>{var j=[],L=n&&n[0],z=L?.startAngle;return n?.forEach((M,I)=>{var P=b&&b[I],R=I>0?Pc(M,"paddingAngle",0):0;if(P){var U=jt(P.endAngle-P.startAngle,M.endAngle-M.startAngle,C),B=Wt(Wt({},M),{},{startAngle:z+R,endAngle:z+U+R});j.push(B),z=B.endAngle}else{var{endAngle:q,startAngle:V}=M,xe=jt(0,q-V,C),fe=Wt(Wt({},M),{},{startAngle:z+R,endAngle:z+xe+R});j.push(fe),z=fe.endAngle}}),r.current=j,_.createElement(hr,null,_.createElement(dde,{sectors:j,activeShape:f,inactiveShape:h,allOtherPieProps:e}))}),_.createElement(ude,{showLabels:!A,sectors:n,props:e}),e.children)}var pde={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!so.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function gde(t){var{id:e}=t,r=eS(t,Wue),{hide:n,className:i,rootTabIndex:a}=t,l=_.useMemo(()=>yE(t.children,Qc),[t.children]),c=Pe(p=>pue(p,e,l)),f=_.useRef(null),h=ut("recharts-pie",i);return n||c==null?(f.current=null,_.createElement(hr,{tabIndex:a,className:h})):_.createElement(_.Fragment,null,_.createElement(hv,{fn:tde,args:Wt(Wt({},t),{},{sectors:c})}),_.createElement(hr,{tabIndex:a,className:h},_.createElement(mde,{props:Wt(Wt({},r),{},{sectors:c}),previousSectorsRef:f})))}function tS(t){var e=Fr(t,pde),{id:r}=e,n=eS(e,Yue),i=Hi(n);return _.createElement(mv,{id:r,type:"pie"},a=>_.createElement(_.Fragment,null,_.createElement(Kue,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),_.createElement(ede,gl({},n,{id:a})),_.createElement(gde,gl({},n,{id:a}))))}tS.displayName="Pie";function j3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function C3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j3(Object(r),!0).forEach(function(n){yde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yde(t,e,r){return(e=vde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vde(t){var e=xde(t,"string");return typeof e=="symbol"?e:e+""}function xde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bde={xAxis:{},yAxis:{},zAxis:{}},hL=gi({name:"cartesianAxis",initialState:bde,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=C3(C3({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:wde,removeXAxis:_de,addYAxis:Ede,removeYAxis:Ade,addZAxis:f0e,removeZAxis:h0e,updateYAxisWidth:Sde}=hL.actions,Tde=hL.reducer,Nde=re([zr],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),jde=re([Nde,io,ao],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),pv=()=>Pe(jde),Cde=()=>Pe(nle);function P3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(r),!0).forEach(function(n){Pde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pde(t,e,r){return(e=kde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kde(t){var e=Ode(t,"string");return typeof e=="symbol"?e:e+""}function Ode(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ide=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l=k3(k3({index:r,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Ht(i,!1)),gE(i)),c;return _.isValidElement(i)?c=_.cloneElement(i,l):typeof i=="function"?c=i(l):c=_.createElement(qA,l),_.createElement(hr,{className:"recharts-active-dot"},c)};function M2(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,a=Pe(pl),l=Cde();if(e==null||l==null)return null;var c=e.find(f=>l.includes(f.payload));return qt(c)?null:Ide({point:c,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var Rde="Invariant failed";function Dde(t,e){throw new Error(Rde)}var Mde=["x","y"];function L2(){return L2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L2.apply(null,arguments)}function O3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O3(Object(r),!0).forEach(function(n){Lde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lde(t,e,r){return(e=Vde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vde(t){var e=Bde(t,"string");return typeof e=="symbol"?e:e+""}function Bde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ude(t,e){if(t==null)return{};var r,n,i=$de(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function $de(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function zde(t,e){var{x:r,y:n}=t,i=Ude(t,Mde),a="".concat(r),l=parseInt(a,10),c="".concat(n),f=parseInt(c,10),h="".concat(e.height||i.height),p=parseInt(h,10),g="".concat(e.width||i.width),v=parseInt(g,10);return rh(rh(rh(rh(rh({},e),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:v,name:e.name,radius:e.radius})}function rS(t){return _.createElement(uL,L2({shapeType:"rectangle",propTransformer:zde,activeClassName:"recharts-active-bar"},t))}var Fde=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ke(e))return e;var a=ke(n)||qt(n);return a?e(n,i):(a||Dde(),r)}},qde={},mL=gi({name:"errorBars",initialState:qde,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:m0e,replaceErrorBar:p0e,removeErrorBar:g0e}=mL.actions,Hde=mL.reducer,Kde=["children"];function Gde(t,e){if(t==null)return{};var r,n,i=Wde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Wde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Yde={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Xde=_.createContext(Yde);function pL(t){var{children:e}=t,r=Gde(t,Kde);return _.createElement(Xde.Provider,{value:r},e)}function gv(t,e){var r,n,i=Pe(h=>lo(h,t)),a=Pe(h=>co(h,e)),l=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:ai.allowDataOverflow,c=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:si.allowDataOverflow,f=l||c;return{needClip:f,needClipX:l,needClipY:c}}function nS(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=pv(),{needClipX:a,needClipY:l,needClip:c}=gv(e,r);if(!c)return null;var{x:f,y:h,width:p,height:g}=i;return _.createElement("clipPath",{id:"clipPath-".concat(n)},_.createElement("rect",{x:a?f:f-p/2,y:l?h:h-g/2,width:a?p:p*2,height:l?g:g*2}))}var Qde=["onMouseEnter","onMouseLeave","onClick"],Zde=["value","background","tooltipPosition"],Jde=["id"],efe=["onMouseEnter","onClick","onMouseLeave"];function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yl.apply(null,arguments)}function I3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I3(Object(r),!0).forEach(function(n){tfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tfe(t,e,r){return(e=rfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rfe(t){var e=nfe(t,"string");return typeof e=="symbol"?e:e+""}function nfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K0(t,e){if(t==null)return{};var r,n,i=ife(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ife(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var afe=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:_l(r,e),payload:t}]};function sfe(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:a,hide:l,unit:c}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:_l(a,e),hide:l,type:t.tooltipType,color:t.fill,unit:c}}}function ofe(t){var e=Pe(pl),{data:r,dataKey:n,background:i,allOtherBarProps:a}=t,{onMouseEnter:l,onMouseLeave:c,onClick:f}=a,h=K0(a,Qde),p=YA(l,n),g=XA(c),v=QA(f,n);if(!i||r==null)return null;var b=Ht(i,!1);return _.createElement(_.Fragment,null,r.map((A,E)=>{var{value:S,background:N,tooltipPosition:C}=A,j=K0(A,Zde);if(!N)return null;var L=p(A,E),z=g(A,E),M=v(A,E),I=In(In(In(In(In({option:i,isActive:String(E)===e},j),{},{fill:"#eee"},N),b),om(h,A,E)),{},{onMouseEnter:L,onMouseLeave:z,onClick:M,dataKey:n,index:E,className:"recharts-bar-background-rectangle"});return _.createElement(rS,yl({key:"background-bar-".concat(I.index)},I))}))}function lfe(t){var{showLabels:e,children:r,rects:n}=t,i=n?.map(a=>{var l={x:a.x,y:a.y,width:a.width,height:a.height};return In(In({},l),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:l,fill:a.fill})});return _.createElement(FA,{value:e?i:void 0},r)}function cfe(t){var{shape:e,activeBar:r,baseProps:n,entry:i,index:a,dataKey:l}=t,c=Pe(pl),f=Pe(B9),h=r&&String(a)===c&&(f==null||l===f),p=h?r:e;return _.createElement(rS,yl({},n,i,{isActive:h,option:p,index:a,dataKey:l}))}function ufe(t){var{shape:e,baseProps:r,entry:n,index:i,dataKey:a}=t;return _.createElement(rS,yl({},r,n,{isActive:!1,option:e,index:i,dataKey:a}))}function dfe(t){var{data:e,props:r}=t,n=Hi(r),{id:i}=n,a=K0(n,Jde),{shape:l,dataKey:c,activeBar:f}=r,{onMouseEnter:h,onClick:p,onMouseLeave:g}=r,v=K0(r,efe),b=YA(h,c),A=XA(g),E=QA(p,c);return e?_.createElement(_.Fragment,null,e.map((S,N)=>_.createElement(hr,yl({className:"recharts-bar-rectangle"},om(v,S,N),{onMouseEnter:b(S,N),onMouseLeave:A(S,N),onClick:E(S,N),key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(N)}),f?_.createElement(cfe,{shape:l,activeBar:f,baseProps:a,entry:S,index:N,dataKey:c}):_.createElement(ufe,{shape:l,baseProps:a,entry:S,index:N,dataKey:c})))):null}function ffe(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:a,animationBegin:l,animationDuration:c,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=r.current,v=kd(e,"recharts-bar-"),[b,A]=_.useState(!1),E=!b,S=_.useCallback(()=>{typeof h=="function"&&h(),A(!1)},[h]),N=_.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return _.createElement(lfe,{showLabels:E,rects:n},_.createElement(Pd,{animationId:v,begin:l,duration:c,isActive:a,easing:f,onAnimationEnd:S,onAnimationStart:N,key:v},C=>{var j=C===1?n:n?.map((L,z)=>{var M=g&&g[z];if(M)return In(In({},L),{},{x:jt(M.x,L.x,C),y:jt(M.y,L.y,C),width:jt(M.width,L.width,C),height:jt(M.height,L.height,C)});if(i==="horizontal"){var I=jt(0,L.height,C);return In(In({},L),{},{y:L.y+L.height-I,height:I})}var P=jt(0,L.width,C);return In(In({},L),{},{width:P})});return C>0&&(r.current=j??null),j==null?null:_.createElement(hr,null,_.createElement(dfe,{props:e,data:j}))}),_.createElement(fv,{label:e.label}),e.children)}function hfe(t){var e=_.useRef(null);return _.createElement(ffe,{previousRectanglesRef:e,props:t})}var gL=0,mfe=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:Ct(t,e)}};class pfe extends _.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:l,needClip:c,background:f,id:h}=this.props;if(e||r==null)return null;var p=ut("recharts-bar",i),g=h;return _.createElement(hr,{className:p,id:h},c&&_.createElement("defs",null,_.createElement(nS,{clipPathId:g,xAxisId:a,yAxisId:l})),_.createElement(hr,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(g,")"):void 0},_.createElement(ofe,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),_.createElement(hfe,this.props)))}}var gfe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!so.isSsr,legendType:"rect",minPointSize:gL,xAxisId:0,yAxisId:0};function yfe(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:l,animationBegin:c,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=gv(e,r),v=dm(),b=Nn(),A=yE(t.children,Qc),E=Pe(C=>Hfe(C,e,r,b,t.id,A));if(v!=="vertical"&&v!=="horizontal")return null;var S,N=E?.[0];return N==null||N.height==null||N.width==null?S=0:S=v==="vertical"?N.height/2:N.width/2,_.createElement(pL,{xAxisId:e,yAxisId:r,data:E,dataPointFormatter:mfe,errorBarOffset:S},_.createElement(pfe,yl({},t,{layout:v,needClip:g,data:E,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:l,animationBegin:c,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function vfe(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:l,yAxis:c,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:v,cells:b,parentViewBox:A}=t,E=e==="horizontal"?c:l,S=p?E.scale.domain():null,N=Ote({numericAxis:E});return g.map((C,j)=>{var L,z,M,I,P,R;p?L=Nte(p[j],S):(L=Ct(C,r),Array.isArray(L)||(L=[N,L]));var U=Fde(n,gL)(L[1],j);if(e==="horizontal"){var B,[q,V]=[c.scale(L[0]),c.scale(L[1])];z=vk({axis:l,ticks:f,bandSize:a,offset:i.offset,entry:C,index:j}),M=(B=V??q)!==null&&B!==void 0?B:void 0,I=i.size;var xe=q-V;if(P=Wn(xe)?0:xe,R={x:z,y:v.top,width:I,height:v.height},Math.abs(U)>0&&Math.abs(P)<Math.abs(U)){var fe=Zr(P||U)*(Math.abs(U)-Math.abs(P));M-=fe,P+=fe}}else{var[W,K]=[l.scale(L[0]),l.scale(L[1])];if(z=W,M=vk({axis:c,ticks:h,bandSize:a,offset:i.offset,entry:C,index:j}),I=K-W,P=i.size,R={x:v.left,y:M,width:v.width,height:P},Math.abs(U)>0&&Math.abs(I)<Math.abs(U)){var le=Zr(I||U)*(Math.abs(U)-Math.abs(I));I+=le}}if(z==null||M==null||I==null||P==null)return null;var pe=In(In({},C),{},{x:z,y:M,width:I,height:P,value:p?L:L[1],payload:C,background:R,tooltipPosition:{x:z+I/2,y:M+P/2},parentViewBox:A},b&&b[j]&&b[j].props);return pe}).filter(Boolean)}function xfe(t){var e=Fr(t,gfe),r=Nn();return _.createElement(mv,{id:e.id,type:"bar"},n=>_.createElement(_.Fragment,null,_.createElement(ZA,{legendPayload:afe(e)}),_.createElement(hv,{fn:sfe,args:e}),_.createElement(JA,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:SM(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),_.createElement(yfe,yl({},e,{id:n}))))}var yL=_.memo(xfe);yL.displayName="Bar";function R3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(r),!0).forEach(function(n){bfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bfe(t,e,r){return(e=wfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wfe(t){var e=_fe(t,"string");return typeof e=="symbol"?e:e+""}function _fe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Efe=(t,e)=>e,Afe=(t,e,r)=>r,Sfe=(t,e,r,n)=>n,Tfe=(t,e,r,n,i)=>i,Nm=re([bm,Tfe],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),Nfe=re([Nm],t=>t?.maxBarSize),jfe=(t,e,r,n,i,a)=>a,D3=(t,e,r)=>{var n=r??t;if(!qt(n))return An(n,e,0)},Cfe=re([rt,bm,Efe,Afe,Sfe],(t,e,r,n,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Pfe=(t,e,r,n)=>{var i=rt(t);return i==="horizontal"?Lh(t,"yAxis",r,n):Lh(t,"xAxis",e,n)},kfe=(t,e,r)=>{var n=rt(t);return n==="horizontal"?DO(t,"xAxis",e):DO(t,"yAxis",r)},Ofe=(t,e,r)=>{var n={},i=t.filter(iv),a=t.filter(h=>h.stackId==null),l=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),n),c=Object.entries(l).map(h=>{var[p,g]=h,v=g.map(A=>A.dataKey),b=D3(e,r,g[0].barSize);return{stackId:p,dataKeys:v,barSize:b}}),f=a.map(h=>{var p=[h.dataKey].filter(v=>v!=null),g=D3(e,r,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...c,...f]},Ife=re([Cfe,fse,kfe],Ofe),Rfe=(t,e,r,n,i)=>{var a,l,c=Nm(t,e,r,n,i);if(c!=null){var f=rt(t),h=L8(t),{maxBarSize:p}=c,g=qt(p)?h:p,v,b;return f==="horizontal"?(v=Qa(t,"xAxis",e,n),b=Xa(t,"xAxis",e,n)):(v=Qa(t,"yAxis",r,n),b=Xa(t,"yAxis",r,n)),(a=(l=Ic(v,b,!0))!==null&&l!==void 0?l:g)!==null&&a!==void 0?a:0}},vL=(t,e,r,n)=>{var i=rt(t),a,l;return i==="horizontal"?(a=Qa(t,"xAxis",e,n),l=Xa(t,"xAxis",e,n)):(a=Qa(t,"yAxis",r,n),l=Xa(t,"yAxis",r,n)),Ic(a,l)};function Dfe(t,e,r,n,i){var a=n.length;if(!(a<1)){var l=An(t,r,0,!0),c,f=[];if(mn(n[0].barSize)){var h=!1,p=r/a,g=n.reduce((N,C)=>N+(C.barSize||0),0);g+=(a-1)*l,g>=r&&(g-=(a-1)*l,l=0),g>=r&&p>0&&(h=!0,p*=.9,g=a*p);var v=(r-g)/2>>0,b={offset:v-l,size:0};c=n.reduce((N,C)=>{var j,L={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:b.offset+b.size+l,size:h?p:(j=C.barSize)!==null&&j!==void 0?j:0}},z=[...N,L];return b=z[z.length-1].position,z},f)}else{var A=An(e,r,0,!0);r-2*A-(a-1)*l<=0&&(l=0);var E=(r-2*A-(a-1)*l)/a;E>1&&(E>>=0);var S=mn(i)?Math.min(E,i):E;c=n.reduce((N,C,j)=>[...N,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:A+(E+l)*j+(E-S)/2,size:S}}],f)}return c}}var Mfe=(t,e,r,n,i,a,l)=>{var c=qt(l)?e:l,f=Dfe(r,n,i!==a?i:a,t,c);return i!==a&&f!=null&&(f=f.map(h=>mg(mg({},h),{},{position:mg(mg({},h.position),{},{offset:h.position.offset-i/2})}))),f},Lfe=re([Ife,L8,dse,V8,Rfe,vL,Nfe],Mfe),Vfe=(t,e,r,n)=>Qa(t,"xAxis",e,n),Bfe=(t,e,r,n)=>Qa(t,"yAxis",r,n),Ufe=(t,e,r,n)=>Xa(t,"xAxis",e,n),$fe=(t,e,r,n)=>Xa(t,"yAxis",r,n),zfe=re([Lfe,Nm],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),Ffe=(t,e)=>{var r=nv(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:a}=i;if(a)return a.find(l=>l.key===r)}}}},qfe=re([Pfe,Nm],Ffe),Hfe=re([zr,IE,Vfe,Bfe,Ufe,$fe,zfe,rt,gm,vL,qfe,Nm,jfe],(t,e,r,n,i,a,l,c,f,h,p,g,v)=>{var{chartData:b,dataStartIndex:A,dataEndIndex:E}=f;if(!(g==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||r==null||n==null||i==null||a==null||h==null)){var{data:S}=g,N;if(S!=null&&S.length>0?N=S:N=b?.slice(A,E+1),N!=null)return vfe({layout:c,barSettings:g,pos:l,parentViewBox:e,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:p,displayedData:N,offset:t,cells:v})}}),xL=t=>{var{chartData:e}=t,r=ar(),n=Nn();return _.useEffect(()=>n?()=>{}:(r(HO(e)),()=>{r(HO(void 0))}),[e,r,n]),null},M3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},bL=gi({name:"brush",initialState:M3,reducers:{setBrushSettings(t,e){return e.payload==null?M3:e.payload}}}),{setBrushSettings:y0e}=bL.actions,Kfe=bL.reducer;function Gfe(t,e,r){return(e=Wfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wfe(t){var e=Yfe(t,"string");return typeof e=="symbol"?e:e+""}function Yfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class iS{static create(e){return new iS(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}Gfe(iS,"EPS",1e-4);function Xfe(t){return(t%180+180)%180}var Qfe=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Xfe(i),l=a*Math.PI/180,c=Math.atan(n/r),f=l>c&&l<Math.PI-c?n/Math.sin(l):r/Math.cos(l);return Math.abs(f)},Zfe={dots:[],areas:[],lines:[]},wL=gi({name:"referenceElements",initialState:Zfe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=zs(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=zs(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=zs(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:v0e,removeDot:x0e,addArea:b0e,removeArea:w0e,addLine:_0e,removeLine:E0e}=wL.actions,Jfe=wL.reducer,ehe=_.createContext(void 0),the=t=>{var{children:e}=t,[r]=_.useState("".concat(jh("recharts"),"-clip")),n=pv();if(n==null)return null;var{x:i,y:a,width:l,height:c}=n;return _.createElement(ehe.Provider,{value:r},_.createElement("defs",null,_.createElement("clipPath",{id:r},_.createElement("rect",{x:i,y:a,height:c,width:l}))),e)};function yd(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function _L(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function rhe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Qfe(n,r)}function nhe(t,e,r){var n=r==="width",{x:i,y:a,width:l,height:c}=t;return e===1?{start:n?i:a,end:n?i+l:a+c}:{start:n?i+l:a+c,end:n?i:a}}function G0(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function ihe(t,e){return _L(t,e+1)}function ahe(t,e,r,n,i){for(var a=(n||[]).slice(),{start:l,end:c}=e,f=0,h=1,p=l,g=function(){var A=n?.[f];if(A===void 0)return{v:_L(n,h)};var E=f,S,N=()=>(S===void 0&&(S=r(A,E)),S),C=A.coordinate,j=f===0||G0(t,C,N,p,c);j||(f=0,p=l,h+=1),j&&(p=C+t*(N()/2+i),f+=h)},v;h<=a.length;)if(v=g(),v)return v.v;return[]}function L3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L3(Object(r),!0).forEach(function(n){she(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function she(t,e,r){return(e=ohe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ohe(t){var e=lhe(t,"string");return typeof e=="symbol"?e:e+""}function lhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function che(t,e,r,n,i){for(var a=(n||[]).slice(),l=a.length,{start:c}=e,{end:f}=e,h=function(v){var b=a[v],A,E=()=>(A===void 0&&(A=r(b,v)),A);if(v===l-1){var S=t*(b.coordinate+t*E()/2-f);a[v]=b=bn(bn({},b),{},{tickCoord:S>0?b.coordinate-S*t:b.coordinate})}else a[v]=b=bn(bn({},b),{},{tickCoord:b.coordinate});var N=G0(t,b.tickCoord,E,c,f);N&&(f=b.tickCoord-t*(E()/2+i),a[v]=bn(bn({},b),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return a}function uhe(t,e,r,n,i,a){var l=(n||[]).slice(),c=l.length,{start:f,end:h}=e;if(a){var p=n[c-1],g=r(p,c-1),v=t*(p.coordinate+t*g/2-h);l[c-1]=p=bn(bn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate});var b=G0(t,p.tickCoord,()=>g,f,h);b&&(h=p.tickCoord-t*(g/2+i),l[c-1]=bn(bn({},p),{},{isShow:!0}))}for(var A=a?c-1:c,E=function(C){var j=l[C],L,z=()=>(L===void 0&&(L=r(j,C)),L);if(C===0){var M=t*(j.coordinate-t*z()/2-f);l[C]=j=bn(bn({},j),{},{tickCoord:M<0?j.coordinate-M*t:j.coordinate})}else l[C]=j=bn(bn({},j),{},{tickCoord:j.coordinate});var I=G0(t,j.tickCoord,z,f,h);I&&(f=j.tickCoord+t*(z()/2+i),l[C]=bn(bn({},j),{},{isShow:!0}))},S=0;S<A;S++)E(S);return l}function aS(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:l,orientation:c,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!i||!i.length||!n)return[];if(ke(f)||so.isSsr){var v;return(v=ihe(i,ke(f)?f:0))!==null&&v!==void 0?v:[]}var b=[],A=c==="top"||c==="bottom"?"width":"height",E=p&&A==="width"?vh(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},S=(j,L)=>{var z=typeof h=="function"?h(j.value,L):j.value;return A==="width"?rhe(vh(z,{fontSize:e,letterSpacing:r}),E,g):vh(z,{fontSize:e,letterSpacing:r})[A]},N=i.length>=2?Zr(i[1].coordinate-i[0].coordinate):1,C=nhe(a,N,A);return f==="equidistantPreserveStart"?ahe(N,C,S,i,l):(f==="preserveStart"||f==="preserveStartEnd"?b=uhe(N,C,S,i,l,f==="preserveStartEnd"):b=che(N,C,S,i,l),b.filter(j=>j.isShow))}var dhe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,l=0;if(e){e.forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var c=r?r.getBoundingClientRect().width:0,f=i+a,h=l+f+c+(r?n:0);return Math.round(h)}return 0},fhe=["axisLine","width","height","className","hide","ticks"],hhe=["viewBox"],mhe=["viewBox"];function V2(t,e){if(t==null)return{};var r,n,i=phe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function phe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dc.apply(null,arguments)}function V3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(r),!0).forEach(function(n){ghe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ghe(t,e,r){return(e=yhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yhe(t){var e=vhe(t,"string");return typeof e=="symbol"?e:e+""}function vhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sS={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function xhe(t){var{x:e,y:r,width:n,height:i,orientation:a,mirror:l,axisLine:c,otherSvgProps:f}=t;if(!c)return null;var h=Ur(Ur(Ur({},f),Ht(c,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var p=+(a==="top"&&!l||a==="bottom"&&l);h=Ur(Ur({},h),{},{x1:e,y1:r+p*i,x2:e+n,y2:r+p*i})}else{var g=+(a==="left"&&!l||a==="right"&&l);h=Ur(Ur({},h),{},{x1:e+g*n,y1:r,x2:e+g*n,y2:r+i})}return _.createElement("line",Dc({},h,{className:ut("recharts-cartesian-axis-line",Pc(c,"className"))}))}function bhe(t,e,r,n,i,a,l,c,f){var h,p,g,v,b,A,E=c?-1:1,S=t.tickSize||l,N=ke(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":h=p=t.coordinate,v=r+ +!c*i,g=v-E*S,A=g-E*f,b=N;break;case"left":g=v=t.coordinate,p=e+ +!c*n,h=p-E*S,b=h-E*f,A=N;break;case"right":g=v=t.coordinate,p=e+ +c*n,h=p+E*S,b=h+E*f,A=N;break;default:h=p=t.coordinate,v=r+ +c*i,g=v+E*S,A=g+E*f,b=N;break}return{line:{x1:h,y1:g,x2:p,y2:v},tick:{x:b,y:A}}}function whe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function _he(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Ehe(t){var{option:e,tickProps:r,value:n}=t,i,a=ut(r.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,Ur(Ur({},r),{},{className:a}));else if(typeof e=="function")i=e(Ur(Ur({},r),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=ut(l,e?.className)),i=_.createElement(dv,Dc({},r,{className:l}),n)}return i}function Ahe(t){var{ticks:e=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:l,padding:c,tickTextProps:f,orientation:h,mirror:p,x:g,y:v,width:b,height:A,tickSize:E,tickMargin:S,fontSize:N,letterSpacing:C,getTicksConfig:j,events:L}=t,z=aS(Ur(Ur({},j),{},{ticks:e}),N,C),M=whe(h,p),I=_he(h,p),P=Hi(j),R=Ht(r,!1),U=Ur(Ur({},P),{},{fill:"none"},Ht(n,!1)),B=z.map((q,V)=>{var{line:xe,tick:fe}=bhe(q,g,v,b,A,h,E,p,S),W=Ur(Ur(Ur(Ur({textAnchor:M,verticalAnchor:I},P),{},{stroke:"none",fill:i},R),fe),{},{index:V,payload:q,visibleTicksCount:z.length,tickFormatter:a,padding:c},f);return _.createElement(hr,Dc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},om(L,q,V)),n&&_.createElement("line",Dc({},U,xe,{className:ut("recharts-cartesian-axis-tick-line",Pc(n,"className"))})),r&&_.createElement(Ehe,{option:r,tickProps:W,value:"".concat(typeof a=="function"?a(q.value,V):q.value).concat(l||"")}))});return B.length>0?_.createElement("g",{className:"recharts-cartesian-axis-ticks"},B):null}var She=_.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:a,hide:l,ticks:c}=t,f=V2(t,fhe),[h,p]=_.useState(""),[g,v]=_.useState(""),b=_.useRef([]);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return dhe({ticks:b.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=_.useCallback(E=>{if(E){var S=E.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=Array.from(S);var N=S[0];if(N){var C=window.getComputedStyle(N),j=C.fontSize,L=C.letterSpacing;(j!==h||L!==g)&&(p(j),v(L))}}},[h,g]);return l||n!=null&&n<=0||i!=null&&i<=0?null:_.createElement(hr,{className:ut("recharts-cartesian-axis",a),ref:A},_.createElement(xhe,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:Hi(t)}),_.createElement(Ahe,{ticks:c,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:h,letterSpacing:g,getTicksConfig:t,events:f}),_.createElement(kce,{x:t.x,y:t.y,width:t.width,height:t.height},_.createElement($ce,{label:t.label}),t.children))}),The=_.memo(She,(t,e)=>{var{viewBox:r}=t,n=V2(t,hhe),{viewBox:i}=e,a=V2(e,mhe);return yd(r,i)&&yd(n,a)}),oS=_.forwardRef((t,e)=>{var r=Fr(t,sS);return _.createElement(The,Dc({},r,{ref:e}))});oS.displayName="CartesianAxis";var Nhe=["x1","y1","x2","y2","key"],jhe=["offset"],Che=["xAxisId","yAxisId"],Phe=["xAxisId","yAxisId"];function B3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function En(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B3(Object(r),!0).forEach(function(n){khe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function khe(t,e,r){return(e=Ohe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ohe(t){var e=Ihe(t,"string");return typeof e=="symbol"?e:e+""}function Ihe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yc.apply(null,arguments)}function W0(t,e){if(t==null)return{};var r,n,i=Rhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Dhe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:l,ry:c}=t;return _.createElement("rect",{x:n,y:i,ry:c,width:a,height:l,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function EL(t,e){var r;if(_.isValidElement(t))r=_.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:a,y2:l,key:c}=e,f=W0(e,Nhe),h=Hi(f),{offset:p}=h,g=W0(h,jhe);r=_.createElement("line",yc({},g,{x1:n,y1:i,x2:a,y2:l,fill:"none",key:c}))}return r}function Mhe(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,c=W0(t,Che),f=i.map((h,p)=>{var g=En(En({},c),{},{x1:e,y1:h,x2:e+r,y2:h,key:"line-".concat(p),index:p});return EL(n,g)});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Lhe(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,c=W0(t,Phe),f=i.map((h,p)=>{var g=En(En({},c),{},{x1:h,y1:e,x2:h,y2:e+r,key:"line-".concat(p),index:p});return EL(n,g)});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Vhe(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:l,horizontalPoints:c,horizontal:f=!0}=t;if(!f||!e||!e.length)return null;var h=c.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var b=!h[v+1],A=b?i+l-g:h[v+1]-g;if(A<=0)return null;var E=v%e.length;return _.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:A,width:a,stroke:"none",fill:e[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Bhe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:l,height:c,verticalPoints:f}=t;if(!e||!r||!r.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var b=!h[v+1],A=b?i+l-g:h[v+1]-g;if(A<=0)return null;var E=v%r.length;return _.createElement("rect",{key:"react-".concat(v),x:g,y:a,width:A,height:c,stroke:"none",fill:r[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Uhe=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return EM(aS(En(En(En({},sS),r),{},{ticks:AM(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},$he=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return EM(aS(En(En(En({},sS),r),{},{ticks:AM(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},zhe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function yv(t){var e=DE(),r=ME(),n=CM(),i=En(En({},Fr(t,zhe)),{},{x:ke(t.x)?t.x:n.left,y:ke(t.y)?t.y:n.top,width:ke(t.width)?t.width:n.width,height:ke(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:l,x:c,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:v,verticalValues:b}=i,A=Nn(),E=Pe(R=>MO(R,"xAxis",a,A)),S=Pe(R=>MO(R,"yAxis",l,A));if(!ke(h)||h<=0||!ke(p)||p<=0||!ke(c)||c!==+c||!ke(f)||f!==+f)return null;var N=i.verticalCoordinatesGenerator||Uhe,C=i.horizontalCoordinatesGenerator||$he,{horizontalPoints:j,verticalPoints:L}=i;if((!j||!j.length)&&typeof C=="function"){var z=v&&v.length,M=C({yAxis:S?En(En({},S),{},{ticks:z?v:S.ticks}):void 0,width:e,height:r,offset:n},z?!0:g);yh(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(j=M)}if((!L||!L.length)&&typeof N=="function"){var I=b&&b.length,P=N({xAxis:E?En(En({},E),{},{ticks:I?b:E.ticks}):void 0,width:e,height:r,offset:n},I?!0:g);yh(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(L=P)}return _.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(Dhe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(Vhe,yc({},i,{horizontalPoints:j})),_.createElement(Bhe,yc({},i,{verticalPoints:L})),_.createElement(Mhe,yc({},i,{offset:n,horizontalPoints:j,xAxis:E,yAxis:S})),_.createElement(Lhe,yc({},i,{offset:n,verticalPoints:L,xAxis:E,yAxis:S})))}yv.displayName="CartesianGrid";var AL=(t,e,r,n)=>Qa(t,"xAxis",e,n),SL=(t,e,r,n)=>Xa(t,"xAxis",e,n),TL=(t,e,r,n)=>Qa(t,"yAxis",r,n),NL=(t,e,r,n)=>Xa(t,"yAxis",r,n),Fhe=re([rt,AL,TL,SL,NL],(t,e,r,n,i)=>ns(t,"xAxis")?Ic(e,n,!1):Ic(r,i,!1)),qhe=(t,e,r,n,i)=>i;function Hhe(t){return t.type==="line"}var Khe=re([bm,qhe],(t,e)=>t.filter(Hhe).find(r=>r.id===e)),Ghe=re([rt,AL,TL,SL,NL,Khe,Fhe,gm],(t,e,r,n,i,a,l,c)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=c;if(!(a==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||l==null)){var{dataKey:g,data:v}=a,b;if(v!=null&&v.length>0?b=v:b=f?.slice(h,p+1),b!=null)return pme({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:b})}}),Whe=["id"],Yhe=["type","layout","connectNulls","needClip"],Xhe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function U3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U3(Object(r),!0).forEach(function(n){Qhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qhe(t,e,r){return(e=Zhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zhe(t){var e=Jhe(t,"string");return typeof e=="symbol"?e:e+""}function Jhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lS(t,e){if(t==null)return{};var r,n,i=eme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function eme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mc.apply(null,arguments)}var tme=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:_l(r,e),payload:t}]};function rme(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:l,hide:c,unit:f}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:_l(l,e),hide:c,type:t.tooltipType,color:t.stroke,unit:f}}}var jL=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function nme(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var ime=(t,e,r)=>{var n=r.reduce((g,v)=>g+v);if(!n)return jL(e,t);for(var i=Math.floor(t/n),a=t%n,l=e-t,c=[],f=0,h=0;f<r.length;h+=r[f],++f)if(h+r[f]>a){c=[...r.slice(0,f),a-h];break}var p=c.length%2===0?[0,l]:[l];return[...nme(r,i),...c,...p].map(g=>"".concat(g,"px")).join(", ")};function ame(t,e){var r;if(_.isValidElement(t))r=_.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=ut("recharts-line-dot",typeof t!="boolean"?t.className:"");r=_.createElement(qA,Mc({},e,{className:n}))}return r}function sme(t,e){return t==null?!1:e?!0:t.length===1}function ome(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:a,needClip:l}=n;if(!sme(r,i))return null;var{id:c}=n,f=lS(n,Whe),h=Ry(i),p=Hi(f),g=Ht(i,!0),v=r.map((A,E)=>{var S=li(li(li({key:"dot-".concat(E),r:3},p),g),{},{index:E,cx:A.x,cy:A.y,dataKey:a,value:A.value,payload:A.payload,points:r});return ame(i,S)}),b={clipPath:l?"url(#clipPath-".concat(h?"":"dots-").concat(e,")"):void 0};return _.createElement(hr,Mc({className:"recharts-line-dots",key:"dots"},b),v)}function lme(t){var{showLabels:e,children:r,points:n}=t,i=_.useMemo(()=>n?.map(a=>{var l={x:a.x,y:a.y,width:0,height:0};return li(li({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return _.createElement(FA,{value:e?i:null},r)}function $3(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:a}=t,{type:l,layout:c,connectNulls:f,needClip:h}=a,p=lS(a,Yhe),g=li(li({},Ht(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:n,type:l,layout:c,connectNulls:f,strokeDasharray:i??a.strokeDasharray});return _.createElement(_.Fragment,null,n?.length>1&&_.createElement(Xu,Mc({},g,{pathRef:r})),_.createElement(ome,{points:n,clipPathId:e,props:a}))}function cme(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function ume(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:l,strokeDasharray:c,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:v,width:b,height:A,onAnimationEnd:E,onAnimationStart:S}=r,N=i.current,C=kd(r,"recharts-line-"),[j,L]=_.useState(!1),z=!j,M=_.useCallback(()=>{typeof E=="function"&&E(),L(!1)},[E]),I=_.useCallback(()=>{typeof S=="function"&&S(),L(!0)},[S]),P=cme(n.current),R=a.current;return _.createElement(lme,{points:l,showLabels:z},r.children,_.createElement(Pd,{animationId:C,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:M,onAnimationStart:I,key:C},U=>{var B=jt(R,P+R,U),q=Math.min(B,P),V;if(f)if(c){var xe="".concat(c).split(/[,\s]+/gim).map(K=>parseFloat(K));V=ime(q,P,xe)}else V=jL(P,q);else V=c==null?void 0:String(c);if(N){var fe=N.length/l.length,W=U===1?l:l.map((K,le)=>{var pe=Math.floor(le*fe);if(N[pe]){var $=N[pe];return li(li({},K),{},{x:jt($.x,K.x,U),y:jt($.y,K.y,U)})}return v?li(li({},K),{},{x:jt(b*2,K.x,U),y:jt(A/2,K.y,U)}):li(li({},K),{},{x:K.x,y:K.y})});return i.current=W,_.createElement($3,{props:r,points:W,clipPathId:e,pathRef:n,strokeDasharray:V})}return U>0&&P>0&&(i.current=l,a.current=q),_.createElement($3,{props:r,points:l,clipPathId:e,pathRef:n,strokeDasharray:V})}),_.createElement(fv,{label:r.label}))}function dme(t){var{clipPathId:e,props:r}=t,n=_.useRef(null),i=_.useRef(0),a=_.useRef(null);return _.createElement(ume,{props:r,clipPathId:e,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var fme=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Ct(t.payload,e)});class hme extends _.Component{render(){var e,{hide:r,dot:n,points:i,className:a,xAxisId:l,yAxisId:c,top:f,left:h,width:p,height:g,id:v,needClip:b}=this.props;if(r)return null;var A=ut("recharts-line",a),E=v,{r:S=3,strokeWidth:N=2}=(e=Ht(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},C=Ry(n),j=S*2+N;return _.createElement(_.Fragment,null,_.createElement(hr,{className:A},b&&_.createElement("defs",null,_.createElement(nS,{clipPathId:E,xAxisId:l,yAxisId:c}),!C&&_.createElement("clipPath",{id:"clipPath-dots-".concat(E)},_.createElement("rect",{x:h-j/2,y:f-j/2,width:p+j,height:g+j}))),_.createElement(pL,{xAxisId:l,yAxisId:c,data:i,dataPointFormatter:fme,errorBarOffset:0},_.createElement(dme,{props:this.props,clipPathId:E}))),_.createElement(M2,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var CL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!so.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function mme(t){var e=Fr(t,CL),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:c,dot:f,hide:h,isAnimationActive:p,label:g,legendType:v,xAxisId:b,yAxisId:A,id:E}=e,S=lS(e,Xhe),{needClip:N}=gv(b,A),C=pv(),j=dm(),L=Nn(),z=Pe(U=>Ghe(U,b,A,L,E));if(j!=="horizontal"&&j!=="vertical"||z==null||C==null)return null;var{height:M,width:I,x:P,y:R}=C;return _.createElement(hme,Mc({},S,{id:E,connectNulls:c,dot:f,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:v,xAxisId:b,yAxisId:A,points:z,layout:j,height:M,width:I,left:P,top:R,needClip:N}))}function pme(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:c,displayedData:f}=t;return f.map((h,p)=>{var g=Ct(h,l);if(e==="horizontal"){var v=T0({axis:r,ticks:i,bandSize:c,entry:h,index:p}),b=qt(g)?null:n.scale(g);return{x:v,y:b,value:g,payload:h}}var A=qt(g)?null:r.scale(g),E=T0({axis:n,ticks:a,bandSize:c,entry:h,index:p});return A==null||E==null?null:{x:A,y:E,value:g,payload:h}}).filter(Boolean)}function gme(t){var e=Fr(t,CL),r=Nn();return _.createElement(mv,{id:e.id,type:"line"},n=>_.createElement(_.Fragment,null,_.createElement(ZA,{legendPayload:tme(e)}),_.createElement(hv,{fn:rme,args:e}),_.createElement(JA,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),_.createElement(mme,Mc({},e,{id:n}))))}var B2=_.memo(gme);B2.displayName="Line";var PL=(t,e,r,n)=>Qa(t,"xAxis",e,n),kL=(t,e,r,n)=>Xa(t,"xAxis",e,n),OL=(t,e,r,n)=>Qa(t,"yAxis",r,n),IL=(t,e,r,n)=>Xa(t,"yAxis",r,n),yme=re([rt,PL,OL,kL,IL],(t,e,r,n,i)=>ns(t,"xAxis")?Ic(e,n,!1):Ic(r,i,!1)),vme=(t,e,r,n,i)=>i,RL=re([bm,vme],(t,e)=>t.filter(r=>r.type==="area").find(r=>r.id===e)),xme=(t,e,r,n,i)=>{var a,l=RL(t,e,r,n,i);if(l!=null){var c=rt(t),f=ns(c,"xAxis"),h;if(f?h=Lh(t,"yAxis",r,n):h=Lh(t,"xAxis",e,n),h!=null){var{stackId:p}=l,g=nv(l);if(!(p==null||g==null)){var v=(a=h[p])===null||a===void 0?void 0:a.stackedData;return v?.find(b=>b.key===g)}}}},bme=re([rt,PL,OL,kL,IL,xme,gm,yme,RL],(t,e,r,n,i,a,l,c,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:g}=l;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||r==null||n==null||i==null||n.length===0||i.length===0||c==null)){var{data:v}=f,b;if(v&&v.length>0?b=v:b=h?.slice(p,g+1),b!=null){var A=void 0;return $me({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:p,areaSettings:f,stackedData:a,displayedData:b,chartBaseValue:A,bandSize:c})}}}),wme=["id"],_me=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function DL(t,e){if(t==null)return{};var r,n,i=Eme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Eme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function z3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ls(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(r),!0).forEach(function(n){Ame(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ame(t,e,r){return(e=Sme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sme(t){var e=Tme(t,"string");return typeof e=="symbol"?e:e+""}function Tme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qs(){return qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qs.apply(null,arguments)}function Y0(t,e){return t&&t!=="none"?t:e}var Nme=t=>{var{dataKey:e,name:r,stroke:n,fill:i,legendType:a,hide:l}=t;return[{inactive:l,dataKey:e,type:a,color:Y0(n,i),value:_l(r,e),payload:t}]};function jme(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:l,hide:c,unit:f}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:_l(l,e),hide:c,type:t.tooltipType,color:Y0(n,a),unit:f}}}var Cme=(t,e)=>{var r;if(_.isValidElement(t))r=_.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=ut("recharts-area-dot",typeof t!="boolean"?t.className:"");r=_.createElement(qA,qs({},e,{className:n}))}return r};function Pme(t,e){return t==null?!1:e?!0:t.length===1}function kme(t){var{clipPathId:e,points:r,props:n}=t,{needClip:i,dot:a,dataKey:l}=n;if(!Pme(r,a))return null;var c=Ry(a),f=Hi(n),h=Ht(a,!0),p=r.map((v,b)=>{var A=Ls(Ls(Ls({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:v.x,cy:v.y,dataKey:l,value:v.value,payload:v.payload,points:r});return Cme(a,A)}),g={clipPath:i?"url(#clipPath-".concat(c?"":"dots-").concat(e,")"):void 0};return _.createElement(hr,qs({className:"recharts-area-dots"},g),p)}function Ome(t){var{showLabels:e,children:r,points:n}=t,i=n.map(a=>{var l={x:a.x,y:a.y,width:0,height:0};return Ls(Ls({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return _.createElement(FA,{value:e?i:null},r)}function F3(t){var{points:e,baseLine:r,needClip:n,clipPathId:i,props:a}=t,{layout:l,type:c,stroke:f,connectNulls:h,isRange:p}=a,{id:g}=a,v=DL(a,wme),b=Hi(v);return _.createElement(_.Fragment,null,e?.length>1&&_.createElement(hr,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},_.createElement(Xu,qs({},b,{id:g,points:e,connectNulls:h,type:c,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&_.createElement(Xu,qs({},b,{className:"recharts-area-curve",layout:l,type:c,connectNulls:h,fill:"none",points:e})),f!=="none"&&p&&_.createElement(Xu,qs({},b,{className:"recharts-area-curve",layout:l,type:c,connectNulls:h,fill:"none",points:r}))),_.createElement(kme,{points:e,props:v,clipPathId:i}))}function Ime(t){var{alpha:e,baseLine:r,points:n,strokeWidth:i}=t,a=n[0].y,l=n[n.length-1].y;if(!mn(a)||!mn(l))return null;var c=e*Math.abs(a-l),f=Math.max(...n.map(h=>h.x||0));return ke(r)?f=Math.max(r,f):r&&Array.isArray(r)&&r.length&&(f=Math.max(...r.map(h=>h.x||0),f)),ke(f)?_.createElement("rect",{x:0,y:a<l?a:a-c,width:f+(i?parseInt("".concat(i),10):1),height:Math.floor(c)}):null}function Rme(t){var{alpha:e,baseLine:r,points:n,strokeWidth:i}=t,a=n[0].x,l=n[n.length-1].x;if(!mn(a)||!mn(l))return null;var c=e*Math.abs(a-l),f=Math.max(...n.map(h=>h.y||0));return ke(r)?f=Math.max(r,f):r&&Array.isArray(r)&&r.length&&(f=Math.max(...r.map(h=>h.y||0),f)),ke(f)?_.createElement("rect",{x:a<l?a:a-c,y:0,width:c,height:Math.floor(f+(i?parseInt("".concat(i),10):1))}):null}function Dme(t){var{alpha:e,layout:r,points:n,baseLine:i,strokeWidth:a}=t;return r==="vertical"?_.createElement(Ime,{alpha:e,points:n,baseLine:i,strokeWidth:a}):_.createElement(Rme,{alpha:e,points:n,baseLine:i,strokeWidth:a})}function Mme(t){var{needClip:e,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=t,{points:l,baseLine:c,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,onAnimationStart:v,onAnimationEnd:b}=n,A=kd(n,"recharts-area-"),[E,S]=_.useState(!1),N=!E,C=_.useCallback(()=>{typeof b=="function"&&b(),S(!1)},[b]),j=_.useCallback(()=>{typeof v=="function"&&v(),S(!0)},[v]),L=i.current,z=a.current;return _.createElement(Ome,{showLabels:N,points:l},n.children,_.createElement(Pd,{animationId:A,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:C,onAnimationStart:j,key:A},M=>{if(L){var I=L.length/l.length,P=M===1?l:l.map((U,B)=>{var q=Math.floor(B*I);if(L[q]){var V=L[q];return Ls(Ls({},U),{},{x:jt(V.x,U.x,M),y:jt(V.y,U.y,M)})}return U}),R;return ke(c)?R=jt(z,c,M):qt(c)||Wn(c)?R=jt(z,0,M):R=c.map((U,B)=>{var q=Math.floor(B*I);if(Array.isArray(z)&&z[q]){var V=z[q];return Ls(Ls({},U),{},{x:jt(V.x,U.x,M),y:jt(V.y,U.y,M)})}return U}),M>0&&(i.current=P,a.current=R),_.createElement(F3,{points:P,baseLine:R,needClip:e,clipPathId:r,props:n})}return M>0&&(i.current=l,a.current=c),_.createElement(hr,null,f&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(r)},_.createElement(Dme,{alpha:M,points:l,baseLine:c,layout:n.layout,strokeWidth:n.strokeWidth}))),_.createElement(hr,{clipPath:"url(#animationClipPath-".concat(r,")")},_.createElement(F3,{points:l,baseLine:c,needClip:e,clipPathId:r,props:n})))}),_.createElement(fv,{label:n.label}))}function Lme(t){var{needClip:e,clipPathId:r,props:n}=t,i=_.useRef(null),a=_.useRef();return _.createElement(Mme,{needClip:e,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class Vme extends _.PureComponent{render(){var e,{hide:r,dot:n,points:i,className:a,top:l,left:c,needClip:f,xAxisId:h,yAxisId:p,width:g,height:v,id:b,baseLine:A}=this.props;if(r)return null;var E=ut("recharts-area",a),S=b,{r:N=3,strokeWidth:C=2}=(e=Ht(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},j=Ry(n),L=N*2+C;return _.createElement(_.Fragment,null,_.createElement(hr,{className:E},f&&_.createElement("defs",null,_.createElement(nS,{clipPathId:S,xAxisId:h,yAxisId:p}),!j&&_.createElement("clipPath",{id:"clipPath-dots-".concat(S)},_.createElement("rect",{x:c-L/2,y:l-L/2,width:g+L,height:v+L}))),_.createElement(Lme,{needClip:f,clipPathId:S,props:this.props})),_.createElement(M2,{points:i,mainColor:Y0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(A)&&_.createElement(M2,{points:A,mainColor:Y0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var ML={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!so.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Bme(t){var e,r=Fr(t,ML),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:c,dot:f,fill:h,fillOpacity:p,hide:g,isAnimationActive:v,legendType:b,stroke:A,xAxisId:E,yAxisId:S}=r,N=DL(r,_me),C=dm(),j=$9(),{needClip:L}=gv(E,S),z=Nn(),{points:M,isRange:I,baseLine:P}=(e=Pe(xe=>bme(xe,E,S,z,t.id)))!==null&&e!==void 0?e:{},R=pv();if(C!=="horizontal"&&C!=="vertical"||R==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:U,width:B,x:q,y:V}=R;return!M||!M.length?null:_.createElement(Vme,qs({},N,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:l,baseLine:P,connectNulls:c,dot:f,fill:h,fillOpacity:p,height:U,hide:g,layout:C,isAnimationActive:v,isRange:I,legendType:b,needClip:L,points:M,stroke:A,width:B,left:q,top:V,xAxisId:E,yAxisId:S}))}var Ume=(t,e,r,n,i)=>{var a=r??e;if(ke(a))return a;var l=t==="horizontal"?i:n,c=l.scale.domain();if(l.type==="number"){var f=Math.max(c[0],c[1]),h=Math.min(c[0],c[1]);return a==="dataMin"?h:a==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]};function $me(t){var{areaSettings:{connectNulls:e,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:l,xAxis:c,yAxis:f,displayedData:h,dataStartIndex:p,xAxisTicks:g,yAxisTicks:v,bandSize:b}=t,A=i&&i.length,E=Ume(a,l,r,c,f),S=a==="horizontal",N=!1,C=h.map((L,z)=>{var M;A?M=i[p+z]:(M=Ct(L,n),Array.isArray(M)?N=!0:M=[E,M]);var I=M[1]==null||A&&!e&&Ct(L,n)==null;return S?{x:T0({axis:c,ticks:g,bandSize:b,entry:L,index:z}),y:I?null:f.scale(M[1]),value:M,payload:L}:{x:I?null:c.scale(M[1]),y:T0({axis:f,ticks:v,bandSize:b,entry:L,index:z}),value:M,payload:L}}),j;return A||N?j=C.map(L=>{var z=Array.isArray(L.value)?L.value[0]:null;return S?{x:L.x,y:z!=null&&L.y!=null?f.scale(z):null,payload:L.payload}:{x:z!=null?c.scale(z):null,y:L.y,payload:L.payload}}):j=S?f.scale(E):c.scale(E),{points:C,baseLine:j,isRange:N}}function zme(t){var e=Fr(t,ML),r=Nn();return _.createElement(mv,{id:e.id,type:"area"},n=>_.createElement(_.Fragment,null,_.createElement(ZA,{legendPayload:Nme(e)}),_.createElement(hv,{fn:jme,args:e}),_.createElement(JA,{type:"area",id:n,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:SM(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:r,connectNulls:e.connectNulls}),_.createElement(Bme,qs({},e,{id:n}))))}var LL=_.memo(zme);LL.displayName="Area";var Fme=["dangerouslySetInnerHTML","ticks"],qme=["id"],Hme=["domain"],Kme=["domain"];function U2(){return U2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U2.apply(null,arguments)}function X0(t,e){if(t==null)return{};var r,n,i=Gme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Gme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Wme(t){var e=ar();return _.useEffect(()=>(e(wde(t)),()=>{e(_de(t))}),[t,e]),null}var Yme=t=>{var{xAxisId:e,className:r}=t,n=Pe(IE),i=Nn(),a="xAxis",l=Pe(S=>Vd(S,a,e,i)),c=Pe(S=>b9(S,a,e,i)),f=Pe(S=>g9(S,e)),h=Pe(S=>noe(S,e)),p=Pe(S=>G8(S,e));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=t,b=X0(t,Fme),{id:A}=p,E=X0(p,qme);return _.createElement(oS,U2({},b,E,{scale:l,x:h.x,y:h.y,width:f.width,height:f.height,className:ut("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:c}))},Xme={allowDataOverflow:ai.allowDataOverflow,allowDecimals:ai.allowDecimals,allowDuplicatedCategory:ai.allowDuplicatedCategory,height:ai.height,hide:!1,mirror:ai.mirror,orientation:ai.orientation,padding:ai.padding,reversed:ai.reversed,scale:ai.scale,tickCount:ai.tickCount,type:ai.type,xAxisId:0},Qme=t=>{var e,r,n,i,a,l=Fr(t,Xme);return _.createElement(_.Fragment,null,_.createElement(Wme,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),_.createElement(Yme,l))},Zme=(t,e)=>{var{domain:r}=t,n=X0(t,Hme),{domain:i}=e,a=X0(e,Kme);return yd(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:yd({domain:r},{domain:i}):!1},vv=_.memo(Qme,Zme);vv.displayName="XAxis";var Jme=["dangerouslySetInnerHTML","ticks"],epe=["id"],tpe=["domain"],rpe=["domain"];function $2(){return $2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$2.apply(null,arguments)}function Q0(t,e){if(t==null)return{};var r,n,i=npe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function npe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ipe(t){var e=ar();return _.useEffect(()=>(e(Ede(t)),()=>{e(Ade(t))}),[t,e]),null}var ape=t=>{var{yAxisId:e,className:r,width:n,label:i}=t,a=_.useRef(null),l=_.useRef(null),c=Pe(IE),f=Nn(),h=ar(),p="yAxis",g=Pe(z=>Vd(z,p,e,f)),v=Pe(z=>y9(z,e)),b=Pe(z=>aoe(z,e)),A=Pe(z=>b9(z,p,e,f)),E=Pe(z=>W8(z,e));if(_.useLayoutEffect(()=>{if(!(n!=="auto"||!v||zA(i)||_.isValidElement(i)||E==null)){var z=a.current;if(z){var M=z.getCalculatedWidth();Math.round(v.width)!==Math.round(M)&&h(Sde({id:e,width:M}))}}},[A,v,h,i,e,n,E]),v==null||b==null||E==null)return null;var{dangerouslySetInnerHTML:S,ticks:N}=t,C=Q0(t,Jme),{id:j}=E,L=Q0(E,epe);return _.createElement(oS,$2({},C,L,{ref:a,labelRef:l,scale:g,x:b.x,y:b.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:ut("recharts-".concat(p," ").concat(p),r),viewBox:c,ticks:A}))},spe={allowDataOverflow:si.allowDataOverflow,allowDecimals:si.allowDecimals,allowDuplicatedCategory:si.allowDuplicatedCategory,hide:!1,mirror:si.mirror,orientation:si.orientation,padding:si.padding,reversed:si.reversed,scale:si.scale,tickCount:si.tickCount,type:si.type,width:si.width,yAxisId:0},ope=t=>{var e,r,n,i,a,l=Fr(t,spe);return _.createElement(_.Fragment,null,_.createElement(ipe,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),_.createElement(ape,l))},lpe=(t,e)=>{var{domain:r}=t,n=Q0(t,tpe),{domain:i}=e,a=Q0(e,rpe);return yd(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:yd({domain:r},{domain:i}):!1},xv=_.memo(ope,lpe);xv.displayName="YAxis";var y1={exports:{}},v1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q3;function cpe(){if(q3)return v1;q3=1;var t=vd();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return v1.useSyncExternalStoreWithSelector=function(f,h,p,g,v){var b=i(null);if(b.current===null){var A={hasValue:!1,value:null};b.current=A}else A=b.current;b=l(function(){function S(z){if(!N){if(N=!0,C=z,z=g(z),v!==void 0&&A.hasValue){var M=A.value;if(v(M,z))return j=M}return j=z}if(M=j,r(C,z))return M;var I=g(z);return v!==void 0&&v(M,I)?(C=z,M):(C=z,j=I)}var N=!1,C,j,L=p===void 0?null:p;return[function(){return S(h())},L===null?void 0:function(){return S(L())}]},[h,p,g,v]);var E=n(f,b[0],b[1]);return a(function(){A.hasValue=!0,A.value=E},[E]),c(E),E},v1}var H3;function upe(){return H3||(H3=1,y1.exports=cpe()),y1.exports}upe();function dpe(t){t()}function fpe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){dpe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var K3={notify(){},get:()=>[]};function hpe(t,e){let r,n=K3,i=0,a=!1;function l(E){p();const S=n.subscribe(E);let N=!1;return()=>{N||(N=!0,S(),g())}}function c(){n.notify()}function f(){A.onStateChange&&A.onStateChange()}function h(){return a}function p(){i++,r||(r=t.subscribe(f),n=fpe())}function g(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=K3)}function v(){a||(a=!0,p())}function b(){a&&(a=!1,g())}const A={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:h,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>n};return A}var mpe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ppe=mpe(),gpe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ype=gpe(),vpe=()=>ppe||ype?_.useLayoutEffect:_.useEffect,xpe=vpe(),bpe=Symbol.for("react-redux-context"),wpe=typeof globalThis<"u"?globalThis:{};function _pe(){if(!_.createContext)return{};const t=wpe[bpe]??=new Map;let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var Epe=_pe();function Ape(t){const{children:e,context:r,serverState:n,store:i}=t,a=_.useMemo(()=>{const f=hpe(i);return{store:i,subscription:f,getServerState:n?()=>n:void 0}},[i,n]),l=_.useMemo(()=>i.getState(),[i]);xpe(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,l]);const c=r||Epe;return _.createElement(c.Provider,{value:a},e)}var Spe=Ape,Tpe=(t,e)=>e,cS=re([Tpe,rt,q8,Hr,D9,uo,cle,zr],mle),uS=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},VL=$i("mouseClick"),BL=cm();BL.startListening({actionCreator:VL,effect:(t,e)=>{var r=t.payload,n=cS(e.getState(),uS(r));n?.activeIndex!=null&&e.dispatch(voe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var z2=$i("mouseMove"),UL=cm();UL.startListening({actionCreator:z2,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=IA(n,n.tooltip.settings.shared),a=cS(n,uS(r));i==="axis"&&(a?.activeIndex!=null?e.dispatch(j9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(N9()))}});var G3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},$L=gi({name:"rootProps",initialState:G3,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:G3.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Npe=$L.reducer,{updateOptions:jpe}=$L.actions,zL=gi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Cpe}=zL.actions,Ppe=zL.reducer,FL=$i("keyDown"),qL=$i("focus"),dS=cm();dS.startListening({actionCreator:FL,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=Number(RA(i,Ud(r))),c=uo(r);if(a==="Enter"){var f=z0(r,"axis","hover",String(i.index));e.dispatch(k2({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=coe(r),p=h==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,v=l+g*p;if(!(c==null||v>=c.length||v<0)){var b=z0(r,"axis","hover",String(v));e.dispatch(k2({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});dS.startListening({actionCreator:qL,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",l=z0(r,"axis","hover",String(a));e.dispatch(k2({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var Ii=$i("externalEvent"),HL=cm();HL.startListening({actionCreator:Ii,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:ele(r),activeDataKey:B9(r),activeIndex:pl(r),activeLabel:V9(r),activeTooltipIndex:pl(r),isTooltipActive:tle(r)};t.payload.handler(n,t.payload.reactEvent)}}});var kpe=re([Bd],t=>t.tooltipItemPayloads),Ope=re([kpe,Em,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(c=>c.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var l=e(a,r);return l}}}),KL=$i("touchMove"),GL=cm();GL.startListening({actionCreator:KL,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=IA(n,n.tooltip.settings.shared);if(i==="axis"){var a=cS(n,uS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));a?.activeIndex!=null&&e.dispatch(j9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,c=r.touches[0],f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(NM),p=(l=f.getAttribute(jM))!==null&&l!==void 0?l:void 0,g=Ope(e.getState(),h,p);e.dispatch(T9({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}});var Ipe=Z5({brush:Kfe,cartesianAxis:Tde,chartData:Ple,errorBars:Hde,graphicalItems:Hue,layout:dte,legend:ere,options:Sle,polarAxis:lue,polarOptions:Ppe,referenceElements:Jfe,rootProps:Npe,tooltip:xoe}),Rpe=function(e){return Mee({reducer:Ipe,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([BL.middleware,UL.middleware,dS.middleware,HL.middleware,GL.middleware]),devTools:so.devToolsEnabled})};function WL(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=Nn(),a=_.useRef(null);if(i)return r;a.current==null&&(a.current=Rpe(e));var l=NE;return _.createElement(Spe,{context:l,store:a.current},r)}function YL(t){var{layout:e,width:r,height:n,margin:i}=t,a=ar(),l=Nn();return _.useEffect(()=>{l||(a(lte(e)),a(cte({width:r,height:n})),a(ote(i)))},[a,l,e,r,n,i]),null}function XL(t){var e=ar();return _.useEffect(()=>{e(jpe(t))},[e,t]),null}var Dpe=["children"];function Mpe(t,e){if(t==null)return{};var r,n,i=Lpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Lpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z0.apply(null,arguments)}var Vpe={width:"100%",height:"100%"},Bpe=_.forwardRef((t,e)=>{var r=DE(),n=ME(),i=IM();if(!fd(r)||!fd(n))return null;var{children:a,otherAttributes:l,title:c,desc:f}=t,h,p;return typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0,_.createElement(vE,Z0({},l,{title:c,desc:f,role:p,tabIndex:h,width:r,height:n,style:Vpe,ref:e}),a)}),Upe=t=>{var{children:e}=t,r=Pe(Gy);if(!r)return null;var{width:n,height:i,y:a,x:l}=r;return _.createElement(vE,{width:n,height:i,x:l,y:a},e)},W3=_.forwardRef((t,e)=>{var{children:r}=t,n=Mpe(t,Dpe),i=Nn();return i?_.createElement(Upe,null,r):_.createElement(Bpe,Z0({ref:e},n),r)});function $pe(){var t=ar(),[e,r]=_.useState(null),n=Pe(Bte);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;mn(a)&&a!==n&&t(ute(a))}},[e,t,n]),r}function Y3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zpe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(r),!0).forEach(function(n){Fpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fpe(t,e,r){return(e=qpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qpe(t){var e=Hpe(t,"string");return typeof e=="symbol"?e:e+""}function Hpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kpe=_.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:l,onDoubleClick:c,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:b,onTouchMove:A,onTouchStart:E,style:S,width:N}=t,C=ar(),[j,L]=_.useState(null),[z,M]=_.useState(null);Ble();var I=$pe(),P=_.useCallback(te=>{I(te),typeof e=="function"&&e(te),L(te),M(te)},[I,e,L,M]),R=_.useCallback(te=>{C(VL(te)),C(Ii({handler:a,reactEvent:te}))},[C,a]),U=_.useCallback(te=>{C(z2(te)),C(Ii({handler:h,reactEvent:te}))},[C,h]),B=_.useCallback(te=>{C(N9()),C(Ii({handler:p,reactEvent:te}))},[C,p]),q=_.useCallback(te=>{C(z2(te)),C(Ii({handler:g,reactEvent:te}))},[C,g]),V=_.useCallback(()=>{C(qL())},[C]),xe=_.useCallback(te=>{C(FL(te.key))},[C]),fe=_.useCallback(te=>{C(Ii({handler:l,reactEvent:te}))},[C,l]),W=_.useCallback(te=>{C(Ii({handler:c,reactEvent:te}))},[C,c]),K=_.useCallback(te=>{C(Ii({handler:f,reactEvent:te}))},[C,f]),le=_.useCallback(te=>{C(Ii({handler:v,reactEvent:te}))},[C,v]),pe=_.useCallback(te=>{C(Ii({handler:E,reactEvent:te}))},[C,E]),$=_.useCallback(te=>{C(KL(te)),C(Ii({handler:A,reactEvent:te}))},[C,A]),Y=_.useCallback(te=>{C(Ii({handler:b,reactEvent:te}))},[C,b]);return _.createElement(K9.Provider,{value:j},_.createElement(x5.Provider,{value:z},_.createElement("div",{className:ut("recharts-wrapper",n),style:zpe({position:"relative",cursor:"default",width:N,height:i},S),onClick:R,onContextMenu:fe,onDoubleClick:W,onFocus:V,onKeyDown:xe,onMouseDown:K,onMouseEnter:U,onMouseLeave:B,onMouseMove:q,onMouseUp:le,onTouchEnd:Y,onTouchMove:$,onTouchStart:pe,ref:P},r)))}),Gpe=["children","className","width","height","style","compact","title","desc"];function Wpe(t,e){if(t==null)return{};var r,n,i=Ype(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ype(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var QL=_.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:a,style:l,compact:c,title:f,desc:h}=t,p=Wpe(t,Gpe),g=Hi(p);return c?_.createElement(W3,{otherAttributes:g,title:f,desc:h},r):_.createElement(Kpe,{className:n,style:l,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(W3,{otherAttributes:g,title:f,desc:h,ref:e},_.createElement(the,null,r)))}),Xpe=["width","height"];function F2(){return F2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F2.apply(null,arguments)}function Qpe(t,e){if(t==null)return{};var r,n,i=Zpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Zpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Jpe={top:5,right:5,bottom:5,left:5},ege={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jpe,reverseStackOrder:!1,syncMethod:"index"},fS=_.forwardRef(function(e,r){var n,i=Fr(e.categoricalChartProps,ege),{width:a,height:l}=i,c=Qpe(i,Xpe);if(!fd(a)||!fd(l))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,categoricalChartProps:v}=e,b={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,eventEmitter:void 0};return _.createElement(WL,{preloadedState:{options:b},reduxStoreName:(n=v.id)!==null&&n!==void 0?n:f},_.createElement(xL,{chartData:v.data}),_.createElement(YL,{width:a,height:l,layout:i.layout,margin:i.margin}),_.createElement(XL,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(QL,F2({},c,{width:a,height:l,ref:r})))}),tge=["axis"],rge=_.forwardRef((t,e)=>_.createElement(fS,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tge,tooltipPayloadSearcher:uv,categoricalChartProps:t,ref:e})),nge=["axis","item"],ige=_.forwardRef((t,e)=>_.createElement(fS,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nge,tooltipPayloadSearcher:uv,categoricalChartProps:t,ref:e}));function age(t){var e=ar();return _.useEffect(()=>{e(Cpe(t))},[e,t]),null}var sge=["width","height","layout"];function q2(){return q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q2.apply(null,arguments)}function oge(t,e){if(t==null)return{};var r,n,i=lge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function lge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var cge={top:5,right:5,bottom:5,left:5},uge={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:cge,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},dge=_.forwardRef(function(e,r){var n,i=Fr(e.categoricalChartProps,uge),{width:a,height:l,layout:c}=i,f=oge(i,sge);if(!fd(a)||!fd(l))return null;var{chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:v}=e,b={chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:v,eventEmitter:void 0};return _.createElement(WL,{preloadedState:{options:b},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:h},_.createElement(xL,{chartData:i.data}),_.createElement(YL,{width:a,height:l,layout:c,margin:i.margin}),_.createElement(XL,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(age,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(QL,q2({width:a,height:l},f,{ref:r})))}),fge=["item"],hge={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ZL=_.forwardRef((t,e)=>{var r=Fr(t,hge);return _.createElement(dge,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:fge,tooltipPayloadSearcher:uv,categoricalChartProps:r,ref:e})}),mge=["axis"],pge=_.forwardRef((t,e)=>_.createElement(fS,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mge,tooltipPayloadSearcher:uv,categoricalChartProps:t,ref:e}));const gge=({data:t})=>{const e=t.map(n=>({date:n.date,Ventas:n.totalSales,Pedidos:n.orderCount})),r=n=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(n);return d.jsx(Tm,{width:"100%",height:"100%",children:d.jsxs(rge,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(yv,{strokeDasharray:"3 3"}),d.jsx(vv,{dataKey:"date",tick:{fontSize:12},tickFormatter:n=>new Date(n).toLocaleDateString("es-CO",{month:"short",day:"numeric"})}),d.jsx(xv,{tick:{fontSize:12},tickFormatter:n=>r(n)}),d.jsx(Sm,{formatter:(n,i)=>i==="Ventas"?[r(n),"Ventas"]:[n,"Pedidos"],labelFormatter:n=>new Date(n).toLocaleDateString("es-CO",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),d.jsx(El,{}),d.jsx(B2,{type:"monotone",dataKey:"Ventas",stroke:"#3b82f6",activeDot:{r:8},strokeWidth:2,name:"Ventas"}),d.jsx(B2,{type:"monotone",dataKey:"Pedidos",stroke:"#10b981",strokeWidth:2,name:"Pedidos"})]})})},yge=({data:t})=>{const e=t.map(i=>({name:i.category,value:i.revenue,sales:i.sales,quantity:i.quantity})),r=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#f97316","#ec4899"],n=i=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(i);return d.jsx(Tm,{width:"100%",height:"100%",children:d.jsxs(ZL,{children:[d.jsx(tS,{data:e,cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:i,percent:a})=>`${i}: ${(a*100).toFixed(0)}%`,children:e.map((i,a)=>d.jsx(Qc,{fill:r[a%r.length]},`cell-${a}`))}),d.jsx(Sm,{formatter:i=>n(i),labelFormatter:i=>`Categoría: ${i}`}),d.jsx(El,{})]})})},vge=({data:t})=>{const e=i=>{switch(i){case"pending":return"Pendiente";case"processing":return"Procesando";case"shipped":return"Enviado";case"delivered":return"Entregado";case"cancelled":return"Cancelado";default:return i}},r=i=>{switch(i){case"pending":return"#f59e0b";case"processing":return"#3b82f6";case"shipped":return"#8b5cf6";case"delivered":return"#10b981";case"cancelled":return"#ef4444";default:return"#6b7280"}},n=t.map(i=>({name:e(i.status),value:i.count}));return d.jsx(Tm,{width:"100%",height:"100%",children:d.jsxs(ige,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(yv,{strokeDasharray:"3 3"}),d.jsx(vv,{dataKey:"name",tick:{fontSize:12}}),d.jsx(xv,{tick:{fontSize:12}}),d.jsx(Sm,{formatter:i=>[i,"Pedidos"],labelFormatter:i=>`Estado: ${i}`}),d.jsx(El,{}),d.jsx(yL,{dataKey:"value",name:"Número de Pedidos",children:n.map((i,a)=>d.jsx(Qc,{fill:r(t[a].status)},`cell-${a}`))})]})})},xge=({data:t})=>{const e=t.map(i=>({name:i.method,value:i.revenue,count:i.count})),r=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#f97316","#ec4899"],n=i=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(i);return d.jsx(Tm,{width:"100%",height:"100%",children:d.jsxs(ZL,{children:[d.jsx(tS,{data:e,cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:i,percent:a})=>`${i}: ${(a*100).toFixed(0)}%`,children:e.map((i,a)=>d.jsx(Qc,{fill:r[a%r.length]},`cell-${a}`))}),d.jsx(Sm,{formatter:(i,a,l)=>a==="value"?[n(i),"Ingresos"]:[i,"Pedidos"],labelFormatter:i=>`Método: ${i}`}),d.jsx(El,{})]})})},bge=({data:t})=>{const e=t.map(r=>({date:r.date,Registros:r.registrations}));return d.jsx(Tm,{width:"100%",height:"100%",children:d.jsxs(pge,{data:e,margin:{top:10,right:30,left:0,bottom:0},children:[d.jsx(yv,{strokeDasharray:"3 3"}),d.jsx(vv,{dataKey:"date",tick:{fontSize:12},tickFormatter:r=>new Date(r).toLocaleDateString("es-CO",{month:"short",day:"numeric"})}),d.jsx(xv,{tick:{fontSize:12}}),d.jsx(Sm,{labelFormatter:r=>new Date(r).toLocaleDateString("es-CO",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),d.jsx(El,{}),d.jsx(LL,{type:"monotone",dataKey:"Registros",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.3,strokeWidth:2})]})})};var JL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},X3=ct.createContext&&ct.createContext(JL),wge=["attr","size","title"];function _ge(t,e){if(t==null)return{};var r=Ege(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ege(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J0.apply(this,arguments)}function Q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ey(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(r),!0).forEach(function(n){Age(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Age(t,e,r){return e=Sge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sge(t){var e=Tge(t,"string");return typeof e=="symbol"?e:e+""}function Tge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e7(t){return t&&t.map((e,r)=>ct.createElement(e.tag,ey({key:r},e.attr),e7(e.child)))}function It(t){return e=>ct.createElement(Nge,J0({attr:ey({},t.attr)},e),e7(t.child))}function Nge(t){var e=r=>{var{attr:n,size:i,title:a}=t,l=_ge(t,wge),c=i||r.size||"1em",f;return r.className&&(f=r.className),t.className&&(f=(f?f+" ":"")+t.className),ct.createElement("svg",J0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,l,{className:f,style:ey(ey({color:t.color||r.color},r.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&ct.createElement("title",null,a),t.children)};return X3!==void 0?ct.createElement(X3.Consumer,null,r=>e(r)):e(JL)}function Z3(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function J3(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function jge(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Cge(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function Pge(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function kge(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(t)}function eI(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function Oge(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function pg(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(t)}function Ige(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(t)}function Rge(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function tI(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function rI(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function x1(t){return It({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Dge=()=>{const{currentUser:t,isAdmin:e}=qi(),r=Fi(),[n,i]=_.useState(!1),[a,l]=_.useState("analytics"),[c,f]=_.useState("light"),[h,p]=_.useState({totalProducts:0,totalOrders:0,totalUsers:0,totalReviews:0,totalRevenue:0,recentOrders:[],recentUsers:[],salesData:[],salesByCategory:[],orderStatusData:[],topSellingProducts:[],userRegistrationData:[],paymentMethodData:[],dateRange:"last30days"}),[g,v]=_.useState(!1),[b,A]=_.useState([]),[E,S]=_.useState(!1),[N,C]=_.useState({name:"",description:"",price:"",imageUrls:[],primaryImageIndex:0,category:"",material:"",color:"",size:"",style:"",stock:0,rating:0}),[j,L]=_.useState(null),[z,M]=_.useState(!1),[I,P]=_.useState("add"),[R,U]=_.useState([]),[B,q]=_.useState(!1),[V,xe]=_.useState([]),[fe,W]=_.useState(!1),[K,le]=_.useState(null),[pe,$]=_.useState(!1),[Y,te]=_.useState([]),[Q,oe]=_.useState(!1),[ye,we]=_.useState(null),[Le,Ke]=_.useState(!1),[_e,Ve]=_.useState({}),[Se,be]=_.useState(""),[_t,Je]=_.useState(!1),mr=_.useRef(null),[sr,$e]=_.useState(null),[wa,or]=_.useState(""),[lr,yi]=_.useState(!1),$d=()=>{const ce=c==="light"?"dark":"light";f(ce),localStorage.setItem("adminDashboardTheme",ce)};_.useEffect(()=>{const ce=localStorage.getItem("adminDashboardTheme"),se=window.matchMedia("(prefers-color-scheme: dark)").matches;f(ce||(se?"dark":"light"))},[]),_.useEffect(()=>{c==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[c]),_.useEffect(()=>{const ce=se=>{mr.current&&!mr.current.contains(se.target)&&Je(!1)};return document.addEventListener("mousedown",ce),()=>{document.removeEventListener("mousedown",ce)}},[]);const Nl=()=>{Je(!_t)},zd=()=>{Je(!1)},is=async()=>{try{await nR(ha),zd(),r("/login")}catch(ce){console.error("Error signing out:",ce),$e("Error al cerrar sesión")}},rn=ce=>{or(ce),setTimeout(()=>or(""),3e3)},Jt=ce=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(ce||0),nn=ce=>ce?ce instanceof Date?ce.toLocaleDateString("es-CO"):ce.toDate?ce.toDate().toLocaleDateString("es-CO"):"N/A":"N/A",an=async(ce,se)=>{try{Ve(Te=>({...Te,[ce]:!0})),await tZ(ce,se),te(Y.map(Te=>Te.id===ce?{...Te,orderStatus:se,updatedAt:new Date}:Te)),ye&&ye.id===ce&&we({...ye,orderStatus:se,updatedAt:new Date}),rn(`Estado del pedido actualizado a ${Zp(se)}`)}catch(Te){console.error("Error updating order status:",Te),$e("Error al actualizar el estado del pedido")}finally{Ve(Te=>({...Te,[ce]:!1}))}},Zc=async()=>{try{v(!0);const ce=new Date;let se=new Date;switch(h.dateRange){case"last7days":se.setDate(se.getDate()-7);break;case"last30days":se.setDate(se.getDate()-30);break;case"last90days":se.setDate(se.getDate()-90);break;case"lastYear":se.setFullYear(se.getFullYear()-1);break;default:se.setDate(se.getDate()-30)}const st=(await Yt(kt(Re,"products"))).size,Tr=await Yt(kt(Re,"orders")),pn=Tr.size;let Rt=0;Tr.docs.forEach(Zi=>{const go=Zi.data();Rt+=go.totalAmount||0});const Ta=await YP(),cs=Ta.length,bi=(await qP()).length,us=ga(kt(Re,"orders"),wl("createdAt","desc"),yG(5)),mo=(await Yt(us)).docs.map(Zi=>({id:Zi.id,...Zi.data()})),qd=Ta.slice(0,5),ds=await nZ(se,ce),fs=await iZ(),Ln=await aZ(),hs=await sZ(10),po=await oZ(se,ce),Qi=await lZ();p({totalProducts:st,totalOrders:pn,totalUsers:cs,totalReviews:bi,totalRevenue:Rt,recentOrders:mo,recentUsers:qd,salesData:ds.salesData,salesByCategory:fs,orderStatusData:Ln,topSellingProducts:hs,userRegistrationData:po.registrationData,paymentMethodData:Qi,dateRange:h.dateRange})}catch(ce){console.error("Error fetching dashboard stats:",ce),$e("Error al cargar las estadísticas del dashboard")}finally{v(!1)}},as=ce=>{p(se=>({...se,dateRange:ce}))},fo=async()=>{try{S(!0);const se=(await Yt(kt(Re,"products"))).docs.map(Te=>({id:Te.id,...Te.data()}));A(se)}catch(ce){console.error("Error fetching products:",ce),$e("Error al cargar los productos")}finally{S(!1)}};Se&&b.filter(ce=>ce.name.toLowerCase().includes(Se.toLowerCase())||ce.category&&ce.category.toLowerCase().includes(Se.toLowerCase())||ce.description&&ce.description.toLowerCase().includes(Se.toLowerCase()));const vi=async()=>{try{q(!0);const ce=await YP();U(ce)}catch(ce){console.error("Error fetching users:",ce),$e("Error al cargar los usuarios")}finally{q(!1)}},_a=async()=>{try{W(!0);const ce=await qP();xe(ce)}catch(ce){console.error("Error fetching reviews:",ce),$e("Error al cargar las reseñas")}finally{W(!1)}},Yn=async()=>{try{oe(!0);const ce=await rZ();te(ce)}catch(ce){console.error("Error fetching orders:",ce),$e("Error al cargar los pedidos")}finally{oe(!1)}};_.useEffect(()=>{if(e)switch(v(!1),S(!1),q(!1),W(!1),oe(!1),a){case"analytics":Zc();break;case"products":S(!0),fo();break;case"users":q(!0),vi();break;case"reviews":W(!0),_a();break;case"orders":oe(!0),Yn();break;default:Zc()}},[a,e]);const er=ce=>{C({...N,[ce.target.name]:ce.target.value})},Dr=ce=>{L({...j,[ce.target.name]:ce.target.value})},ho=async ce=>{if(!ce)return null;if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(ce.type))return $e("Por favor, sube una imagen válida (JPEG, JPG, PNG, GIF)."),null;if(ce.size>1024*1024)return $e("La imagen debe ser menor a 1MB."),null;try{yi(!0);const Te=await jl(ce);return{name:ce.name,type:ce.type,data:Te,timestamp:Date.now()}}catch(Te){return console.error("Error converting file to base64:",Te),$e("Error al procesar la imagen: "+Te.message),null}finally{yi(!1)}},jl=ce=>new Promise((se,Te)=>{const st=new FileReader;st.readAsDataURL(ce),st.onload=()=>se(st.result),st.onerror=Tr=>Te(Tr)}),Ea=async(ce=!1)=>{const se=document.createElement("input");se.type="file",se.accept="image/*",se.multiple=!0,se.onchange=async Te=>{const st=Array.from(Te.target.files);if(!st.length)return;const Tr=ce?j.imageUrls:N.imageUrls;if(Tr.length+st.length>4){$e(`Solo puedes subir un máximo de 4 imágenes. Actualmente tienes ${Tr.length} imágenes.`);return}const pn=[];for(const Rt of st){const Ta=await ho(Rt);Ta&&pn.push(Ta)}pn.length>0&&(ce?L({...j,imageUrls:[...j.imageUrls,...pn]}):C({...N,imageUrls:[...N.imageUrls,...pn]}),rn(`${pn.length} imagen(es) subida(s) exitosamente!`))},se.click()},ss=(ce,se=!1)=>{if(se){const Te=[...j.imageUrls];Te.splice(ce,1),L({...j,imageUrls:Te})}else{const Te=[...N.imageUrls];Te.splice(ce,1),C({...N,imageUrls:Te})}},Kt=(ce,se=!1)=>{se?L({...j,primaryImageIndex:ce}):C({...N,primaryImageIndex:ce})},Jc=async ce=>{if(ce.preventDefault(),!N.name||!N.price){$e("Por favor, introduce al menos un nombre y un precio.");return}try{const se=parseFloat(N.price);if(isNaN(se)){$e("El precio debe ser un número válido.");return}const Te=parseInt(N.stock);if(isNaN(Te)){$e("El stock debe ser un número válido.");return}const st=parseFloat(N.rating);if(isNaN(st)||st<0||st>5){$e("La calificación debe ser un número entre 0 y 5.");return}await Ny(kt(Re,"products"),{...N,price:se,stock:Te,rating:st,createdAt:new Date}),C({name:"",description:"",price:"",stock:0,rating:0,imageUrls:[],primaryImageIndex:0,category:"",material:"",color:"",size:"",style:""}),rn("Producto añadido exitosamente!"),M(!1),fo()}catch(se){console.error("Firebase error: ",se),$e("Error al crear el producto. ¿Tienes permisos de escritura?")}},Aa=async ce=>{if(ce.preventDefault(),!j.name||!j.price){$e("Por favor, introduce al menos un nombre y un precio.");return}try{const se=parseFloat(j.price);if(isNaN(se)){$e("El precio debe ser un número válido.");return}const Te=parseInt(j.stock);if(isNaN(Te)){$e("El stock debe ser un número válido.");return}const st=parseFloat(j.rating);if(isNaN(st)||st<0||st>5){$e("La calificación debe ser un número entre 0 y 5.");return}const Tr=wt(Re,"products",j.id);await oa(Tr,{...j,price:se,stock:Te,rating:st,updatedAt:new Date}),rn("Producto actualizado exitosamente!"),M(!1),L(null),fo()}catch(se){console.error("Firebase error: ",se),$e("Error al actualizar el producto. ¿Tienes permisos de escritura?")}},Sa=async(ce,se)=>{if(window.confirm(`¿Estás seguro de que quieres eliminar el producto "${se}"?`))try{const st=wt(Re,"products",ce);await Y_(st),A(b.filter(Tr=>Tr.id!==ce)),rn("Producto eliminado exitosamente!")}catch(st){console.error("Firebase error: ",st),$e("Error al eliminar el producto. ¿Tienes permisos de escritura?")}},Cl=()=>{C({name:"",description:"",price:"",imageUrls:[],primaryImageIndex:0,category:"",material:"",color:"",size:"",style:"",stock:0,rating:0}),P("add"),M(!0)},Pl=ce=>{L({...ce}),P("edit"),M(!0)},Gi=async(ce,se)=>{try{await JQ(ce,se),U(R.map(Te=>Te.id===ce?{...Te,role:se,updatedAt:new Date}:Te)),rn(`Usuario actualizado a ${se==="admin"?"administrador":"cliente"} exitosamente!`)}catch(Te){console.error("Firebase error updating user role: ",Te),$e("Error al actualizar el rol del usuario. ¿Tienes permisos de escritura?")}},Fd=ce=>{const{name:se,value:Te}=ce.target;le({...K,[se]:Te})},xi=ce=>{le({...K,rating:ce})},tr=async ce=>{if(ce.preventDefault(),K.rating<1||K.rating>5){$e("La calificación debe estar entre 1 y 5 estrellas.");return}if(!K.comment||K.comment.trim()===""){$e("El comentario no puede estar vacío.");return}try{await AQ(K.id,{rating:K.rating,comment:K.comment.trim()}),xe(V.map(se=>se.id===K.id?{...se,rating:K.rating,comment:K.comment.trim()}:se)),le(null),$(!1),rn("Reseña actualizada exitosamente!")}catch(se){console.error("Firebase error: ",se),$e("Error al actualizar la reseña. ¿Tienes permisos de escritura?")}},Mr=async ce=>{if(window.confirm("¿Estás seguro de que quieres eliminar esta reseña?"))try{await SQ(ce),xe(V.filter(Te=>Te.id!==ce)),rn("Reseña eliminada exitosamente!")}catch(Te){console.error("Firebase error: ",Te),$e("Error al eliminar la reseña. ¿Tienes permisos de escritura?")}},Wi=ce=>{le({...ce}),$(!0)},os=ce=>{we(ce),Ke(!0)},ls=()=>{Ke(!1),we(null)},eu=[{id:"analytics",label:"Analytics",icon:d.jsx(Z3,{})},{id:"products",label:"Productos",icon:d.jsx(pg,{})},{id:"users",label:"Usuarios",icon:d.jsx(rI,{})},{id:"reviews",label:"Reviews",icon:d.jsx(Pge,{})},{id:"coupons",label:"Códigos Promocionales",icon:d.jsx(Rge,{})},{id:"orders",label:"Pedidos",icon:d.jsx(eI,{})}],Xn=()=>{switch(a){case"analytics":return d.jsxs("div",{className:"w-full space-y-6",children:[d.jsxs("div",{className:`flex flex-wrap items-center justify-between gap-4 p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"} w-full`,children:[d.jsx("h2",{className:`text-xl font-semibold ${c==="dark"?"text-white":"text-gray-900"}`,children:"Analíticas"}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("button",{onClick:()=>as("last7days"),className:`px-4 py-2 text-sm rounded-lg ${h.dateRange==="last7days"?"bg-blue-600 text-white":c==="dark"?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Últimos 7 días"}),d.jsx("button",{onClick:()=>as("last30days"),className:`px-4 py-2 text-sm rounded-lg ${h.dateRange==="last30days"?"bg-blue-600 text-white":c==="dark"?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Últimos 30 días"}),d.jsx("button",{onClick:()=>as("last90days"),className:`px-4 py-2 text-sm rounded-lg ${h.dateRange==="last90days"?"bg-blue-600 text-white":c==="dark"?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Últimos 90 días"}),d.jsx("button",{onClick:()=>as("lastYear"),className:`px-4 py-2 text-sm rounded-lg ${h.dateRange==="lastYear"?"bg-blue-600 text-white":c==="dark"?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Último año"})]})]}),d.jsxs("div",{className:"grid w-full grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[d.jsx("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"}`,children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`p-3 rounded-lg ${c==="dark"?"bg-blue-900":"bg-blue-100"}`,children:d.jsx(pg,{className:`${c==="dark"?"text-blue-400":"text-blue-600"}`,size:24})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:`text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-600"}`,children:"Total Productos"}),d.jsx("p",{className:`text-2xl font-semibold ${c==="dark"?"text-white":"text-gray-900"}`,children:h.totalProducts})]})]})}),d.jsx("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"}`,children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`p-3 rounded-lg ${c==="dark"?"bg-green-900":"bg-green-100"}`,children:d.jsx(eI,{className:`${c==="dark"?"text-green-400":"text-green-600"}`,size:24})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:`text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-600"}`,children:"Total Pedidos"}),d.jsx("p",{className:`text-2xl font-semibold ${c==="dark"?"text-white":"text-gray-900"}`,children:h.totalOrders})]})]})}),d.jsx("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"}`,children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`p-3 rounded-lg ${c==="dark"?"bg-purple-900":"bg-purple-100"}`,children:d.jsx(rI,{className:`${c==="dark"?"text-purple-400":"text-purple-600"}`,size:24})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:`text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-600"}`,children:"Total Usuarios"}),d.jsx("p",{className:`text-2xl font-semibold ${c==="dark"?"text-white":"text-gray-900"}`,children:h.totalUsers})]})]})}),d.jsx("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"}`,children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`p-3 rounded-lg ${c==="dark"?"bg-indigo-900":"bg-indigo-100"}`,children:d.jsx(Z3,{className:`${c==="dark"?"text-indigo-400":"text-indigo-600"}`,size:24})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:`text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-600"}`,children:"Ingresos Totales"}),d.jsx("p",{className:`text-2xl font-semibold ${c==="dark"?"text-white":"text-gray-900"}`,children:Jt(h.totalRevenue)})]})]})})]}),d.jsxs("div",{className:"grid w-full grid-cols-1 gap-6 lg:grid-cols-2",children:[d.jsxs("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"} w-full`,children:[d.jsx("h3",{className:`mb-4 text-lg font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:"Tendencia de Ventas"}),d.jsx("div",{className:"w-full h-80",children:d.jsx(gge,{data:h.salesData,theme:c})})]}),d.jsxs("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"} w-full`,children:[d.jsx("h3",{className:`mb-4 text-lg font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:"Ventas por Categoría"}),d.jsx("div",{className:"w-full h-80",children:d.jsx(yge,{data:h.salesByCategory,theme:c})})]}),d.jsxs("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"} w-full`,children:[d.jsx("h3",{className:`mb-4 text-lg font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:"Distribución de Estados de Pedido"}),d.jsx("div",{className:"w-full h-80",children:d.jsx(vge,{data:h.orderStatusData,theme:c})})]}),d.jsxs("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"} w-full`,children:[d.jsx("h3",{className:`mb-4 text-lg font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:"Ingresos por Método de Pago"}),d.jsx("div",{className:"w-full h-80",children:d.jsx(xge,{data:h.paymentMethodData,theme:c})})]})]}),d.jsxs("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"} w-full`,children:[d.jsx("h3",{className:`mb-4 text-lg font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:"Productos Más Vendidos"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Producto"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Cantidad Vendida"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Ingresos"})]})}),d.jsx("tbody",{className:`divide-y ${c==="dark"?"divide-gray-700 bg-gray-800":"divide-gray-200 bg-white"}`,children:h.topSellingProducts.map((se,Te)=>d.jsxs("tr",{className:c==="dark"?"hover:bg-gray-700":"hover:bg-gray-50",children:[d.jsx("td",{className:`px-6 py-4 text-sm whitespace-nowrap ${c==="dark"?"text-white":"text-gray-900"}`,children:se.productName}),d.jsx("td",{className:`px-6 py-4 text-sm whitespace-nowrap ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:se.quantity}),d.jsx("td",{className:`px-6 py-4 text-sm whitespace-nowrap ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:Jt(se.revenue)})]},Te))})]})})]}),d.jsxs("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"} w-full`,children:[d.jsx("h3",{className:`mb-4 text-lg font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:"Tendencia de Registro de Usuarios"}),d.jsx("div",{className:"w-full h-80",children:d.jsx(bge,{data:h.userRegistrationData,theme:c})})]}),d.jsxs("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"} w-full`,children:[d.jsx("h3",{className:`mb-4 text-lg font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:"Pedidos Recientes"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"ID"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Cliente"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Fecha"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Total"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Estado"})]})}),d.jsx("tbody",{className:`divide-y ${c==="dark"?"divide-gray-700 bg-gray-800":"divide-gray-200 bg-white"}`,children:h.recentOrders.map(se=>d.jsxs("tr",{className:c==="dark"?"hover:bg-gray-700":"hover:bg-gray-50",children:[d.jsxs("td",{className:`px-6 py-4 text-sm whitespace-nowrap ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:[se.id.substring(0,8),"..."]}),d.jsx("td",{className:`px-6 py-4 text-sm font-medium whitespace-nowrap ${c==="dark"?"text-white":"text-gray-900"}`,children:se.userEmail||"N/A"}),d.jsx("td",{className:`px-6 py-4 text-sm whitespace-nowrap ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:nn(se.createdAt)}),d.jsx("td",{className:`px-6 py-4 text-sm whitespace-nowrap ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:Jt(se.totalAmount||0)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${zb(se.orderStatus||"pending",c)}`,children:Zp(se.orderStatus||"pending")})})]},se.id))})]})})]})]});case"products":const ce=Se?b.filter(se=>se.name.toLowerCase().includes(Se.toLowerCase())||se.category&&se.category.toLowerCase().includes(Se.toLowerCase())||se.description&&se.description.toLowerCase().includes(Se.toLowerCase())):b;return d.jsxs("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"} w-full`,children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[d.jsx("h2",{className:`text-lg font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:"Todos los productos"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Buscar productos...",value:Se,onChange:se=>be(se.target.value),className:`pl-10 pr-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c==="dark"?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`}),d.jsx(pg,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 ${c==="dark"?"text-gray-400":"text-gray-500"}`})]}),d.jsxs("button",{onClick:Cl,className:`flex items-center px-4 py-2 text-sm font-medium rounded-full ${c==="dark"?"text-gray-200 bg-gray-700 hover:bg-gray-600":"text-gray-700 bg-gray-200 hover:bg-gray-300"}`,children:[d.jsx(Oge,{className:"mr-1"}),"Añadir Nuevo"]})]})]}),d.jsxs("div",{className:"w-full overflow-x-auto",children:[d.jsxs("table",{className:`min-w-full divide-y ${c==="dark"?"divide-gray-700":"divide-gray-200"}`,children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Nombre"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Precio"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Stock"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Acciones"})]})}),d.jsx("tbody",{className:`divide-y ${c==="dark"?"divide-gray-700 bg-gray-800":"divide-gray-200 bg-white"}`,children:ce.map(se=>d.jsxs("tr",{className:c==="dark"?"hover:bg-gray-700":"hover:bg-gray-50",children:[d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:se.name}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:Jt(se.price)}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:se.stock}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-md font-medium flex space-x-2",children:[d.jsx("button",{onClick:()=>Pl(se),className:`p-1 rounded hover:opacity-80 ${c==="dark"?"text-blue-400 hover:text-blue-300":"text-indigo-600 hover:text-indigo-900"}`,children:d.jsx(J3,{})}),d.jsx("button",{onClick:()=>Sa(se.id,se.name),className:`p-1 rounded hover:opacity-80 ${c==="dark"?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-900"}`,children:d.jsx(tI,{})})]})]},se.id))})]}),ce.length===0&&d.jsx("div",{className:`text-center py-8 ${c==="dark"?"text-gray-400":"text-gray-500"}`,children:Se?"No se encontraron productos que coincidan con la búsqueda.":"No hay productos disponibles."})]})]});case"users":return d.jsxs("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"} w-full`,children:[d.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:d.jsx("h2",{className:`text-lg font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:"Todos los usuarios"})}),d.jsx("div",{className:"w-full overflow-x-auto",children:d.jsxs("table",{className:`min-w-full divide-y ${c==="dark"?"divide-gray-700":"divide-gray-200"}`,children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Email"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Nombre"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Rol"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Acciones"})]})}),d.jsx("tbody",{className:`divide-y ${c==="dark"?"divide-gray-700 bg-gray-800":"divide-gray-200 bg-white"}`,children:R.map(se=>d.jsxs("tr",{className:c==="dark"?"hover:bg-gray-700":"hover:bg-gray-50",children:[d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:se.email}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:se.name||"N/A"}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:se.role}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-md font-medium flex space-x-2",children:d.jsx("button",{onClick:()=>Gi(se.id,se.role==="admin"?"user":"admin"),className:`px-3 py-1 text-xs rounded-md ${se.role==="admin"?c==="dark"?"bg-blue-900 text-blue-200":"bg-blue-100 text-blue-800":c==="dark"?"bg-gray-700 text-gray-200":"bg-gray-100 text-gray-800"} hover:opacity-80`,children:se.role==="admin"?"Usuario":"Admin"})})]},se.id))})]})})]});case"reviews":return d.jsxs("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"} w-full`,children:[d.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:d.jsx("h2",{className:`text-lg font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:"Todas las reseñas"})}),d.jsx("div",{className:"w-full overflow-x-auto",children:d.jsxs("table",{className:`min-w-full divide-y ${c==="dark"?"divide-gray-700":"divide-gray-200"}`,children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Usuario"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Producto"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Calificación"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Comentario"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Fecha"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Acciones"})]})}),d.jsx("tbody",{className:`divide-y ${c==="dark"?"divide-gray-700 bg-gray-800":"divide-gray-200 bg-white"}`,children:V.map(se=>d.jsxs("tr",{className:c==="dark"?"hover:bg-gray-700":"hover:bg-gray-50",children:[d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:se.userEmail||"Usuario eliminado"}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:se.productName||"Producto eliminado"}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:se.rating}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:se.comment}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:nn(se.createdAt)}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-md font-medium flex space-x-2",children:[d.jsx("button",{onClick:()=>Wi(se),className:`p-1 rounded hover:opacity-80 ${c==="dark"?"text-blue-400 hover:text-blue-300":"text-indigo-600 hover:text-indigo-900"}`,children:d.jsx(J3,{})}),d.jsx("button",{onClick:()=>Mr(se.id),className:`p-1 rounded hover:opacity-80 ${c==="dark"?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-900"}`,children:d.jsx(tI,{})})]})]},se.id))})]})})]});case"orders":return d.jsxs("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"} w-full`,children:[d.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:d.jsx("h2",{className:`text-lg font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:"Todos los pedidos"})}),d.jsx("div",{className:"w-full overflow-x-auto",children:d.jsxs("table",{className:`min-w-full divide-y ${c==="dark"?"divide-gray-700":"divide-gray-200"}`,children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"ID"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Cliente"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Fecha"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Total"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Estado"}),d.jsx("th",{className:`px-6 py-3 text-xs font-medium tracking-wider text-left uppercase ${c==="dark"?"text-gray-300 bg-gray-700":"text-gray-500 bg-gray-50"}`,children:"Acciones"})]})}),d.jsx("tbody",{className:`divide-y ${c==="dark"?"divide-gray-700 bg-gray-800":"divide-gray-200 bg-white"}`,children:Y.map(se=>d.jsxs("tr",{className:c==="dark"?"hover:bg-gray-700":"hover:bg-gray-50",children:[d.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:[se.id.substring(0,8),"..."]}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:se.userEmail||"N/A"}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:nn(se.createdAt)}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${c==="dark"?"text-gray-300":"text-gray-500"}`,children:Jt(se.totalAmount||0)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${zb(se.orderStatus,c)}`,children:Zp(se.orderStatus)}),_e[se.id]?d.jsx("div",{className:`w-4 h-4 border-b-2 rounded-full animate-spin ${c==="dark"?"border-gray-400":"border-gray-900"}`}):d.jsxs("select",{value:se.orderStatus||"pending",onChange:Te=>an(se.id,Te.target.value),className:`text-xs rounded px-2 py-1 ${c==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[d.jsx("option",{value:"pending",children:"Pendiente"}),d.jsx("option",{value:"processing",children:"Procesando"}),d.jsx("option",{value:"shipped",children:"Enviado"}),d.jsx("option",{value:"delivered",children:"Entregado"}),d.jsx("option",{value:"cancelled",children:"Cancelado"})]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-md font-medium flex space-x-2",children:d.jsx("button",{onClick:()=>os(se),className:`p-1 rounded hover:opacity-80 ${c==="dark"?"text-blue-400 hover:text-blue-300":"text-indigo-600 hover:text-indigo-900"}`,children:d.jsx(pg,{})})})]},se.id))})]})})]});case"coupons":return d.jsxs("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"} w-full`,children:[d.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:d.jsx("h2",{className:`text-lg font-medium ${c==="dark"?"text-white":"text-gray-900"}`,children:"Todos los códigos promocionales"})}),d.jsx("div",{className:"w-full overflow-x-auto",children:d.jsx(cZ,{theme:c})})]});default:return d.jsxs("div",{className:`p-6 shadow-sm rounded-xl ${c==="dark"?"bg-gray-800":"bg-white"} w-full`,children:[d.jsx("h2",{className:`mb-6 text-xl font-semibold ${c==="dark"?"text-white":"text-gray-900"}`,children:"Dashboard"}),d.jsx("p",{className:c==="dark"?"text-gray-300":"text-gray-600",children:"Bienvenido al panel de administración moderno."})]})}};return d.jsxs("div",{className:`min-h-screen flex w-full ${c==="dark"?"dark:bg-gray-900 bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:[wa&&d.jsx("div",{className:"fixed z-50 px-6 py-4 text-white bg-green-600 rounded-lg shadow-lg top-4 right-4",children:wa}),sr&&d.jsx("div",{className:"fixed z-50 px-6 py-4 text-white bg-red-600 rounded-lg shadow-lg top-4 right-4",children:sr}),n&&d.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>i(!1)}),d.jsxs("div",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 lg:flex lg:flex-col ${n?"translate-x-0":"-translate-x-full"} ${c==="dark"?"dark:bg-gray-800 bg-gray-800":""}`,children:[d.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${c==="dark"?"border-gray-700":"border-gray-200"}`,children:[d.jsx("h1",{className:`text-xl font-bold ${c==="dark"?"text-white":"text-gray-800"}`,children:"Admin Panel"}),d.jsx("button",{onClick:()=>i(!1),className:`p-1 rounded-lg lg:hidden ${c==="dark"?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:d.jsx(x1,{size:24})})]}),d.jsx("nav",{className:"flex-1 p-4",children:d.jsx("ul",{className:"space-y-2",children:eu.map(ce=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>{l(ce.id),i(!1)},className:`flex items-center w-full p-3 rounded-lg transition-colors ${a===ce.id?c==="dark"?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-600":c==="dark"?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:[d.jsx("span",{className:"mr-3",children:ce.icon}),ce.label]})},ce.id))})})]}),d.jsxs("div",{className:"flex flex-col flex-1 w-full",children:[d.jsxs("header",{className:`flex items-center justify-between p-4 border-b ${c==="dark"?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"} flex-wrap gap-4`,children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("button",{onClick:()=>i(!0),className:`p-2 mr-4 rounded-lg lg:hidden ${c==="dark"?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:d.jsx(Cge,{size:24})}),d.jsx("h2",{className:`text-xl font-semibold capitalize ${c==="dark"?"text-white":"text-gray-900"}`,children:eu.find(ce=>ce.id===a)?.label||"Dashboard"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:$d,className:`p-2 rounded-full ${c==="dark"?"bg-gray-700 text-yellow-400 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"} transition-colors`,"aria-label":"Toggle theme",children:c==="dark"?d.jsx(Ige,{size:20}):d.jsx(kge,{size:20})}),d.jsxs("div",{className:"relative",ref:mr,children:[d.jsx("button",{onClick:Nl,className:"flex items-center space-x-2 focus:outline-none",children:d.jsx("div",{className:`flex items-center justify-center w-10 h-10 text-white rounded-full ${c==="dark"?"bg-blue-600":"bg-blue-500"}`,children:t?.email?.charAt(0).toUpperCase()||"A"})}),_t&&d.jsx("div",{className:`absolute right-0 z-50 w-48 mt-2 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 ${c==="dark"?"bg-gray-800":"bg-white"}`,children:d.jsxs("div",{className:"py-1",children:[d.jsxs("div",{className:`px-4 py-2 border-b ${c==="dark"?"border-gray-700":"border-gray-200"}`,children:[d.jsx("p",{className:`text-sm font-medium truncate ${c==="dark"?"text-white":"text-gray-900"}`,children:t?.email}),d.jsx("p",{className:`text-xs ${c==="dark"?"text-gray-400":"text-gray-500"}`,children:"Administrador"})]}),d.jsxs("button",{onClick:is,className:`flex items-center w-full px-4 py-2 text-sm text-left ${c==="dark"?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:[d.jsx(jge,{className:"mr-2"}),"Cerrar Sesión"]})]})})]})]})]}),d.jsx("main",{className:"flex-1 w-full p-6 overflow-auto",children:e?Xn():d.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[d.jsx("p",{className:c==="dark"?"text-gray-300":"text-gray-600",children:"No tienes permisos para acceder al panel de administración."}),d.jsx("button",{onClick:()=>r("/"),className:"px-4 py-2 mt-4 rounded-lg text-white bg-blue-600 hover:bg-blue-700",children:"Volver al inicio"})]})})]}),z&&d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:d.jsxs("div",{className:"flex items-end justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[d.jsx("div",{className:"fixed transition-opacity bg-opacity-50","aria-hidden":"true",onClick:()=>M(!1)}),d.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),d.jsx("div",{className:`z-50 inline-block overflow-hidden text-left align-bottom transition-all transform shadow-xl rounded-2xl sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full ${c==="dark"?"bg-gray-800":"bg-white"}`,style:{boxShadow:"0 10px 30px rgba(0,0,0,0.1)",width:"650px"},children:d.jsxs("div",{className:"px-8 py-8",children:[d.jsxs("div",{className:"mb-8 text-center",children:[d.jsx("h3",{className:`text-2xl font-semibold ${c==="dark"?"text-white":"text-gray-900"}`,children:I==="add"?"Añadir Producto":"Editar Producto"}),d.jsx("p",{className:`mt-2 text-sm ${c==="dark"?"text-gray-400":"text-gray-500"}`,children:I==="add"?"Ingresa los detalles del nuevo producto":"Modifica la información del producto"})]}),d.jsx("div",{className:"mt-2",children:d.jsxs("form",{onSubmit:I==="add"?Jc:Aa,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:`block mb-3 text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-700"}`,children:"Nombre del Producto"}),d.jsx("input",{type:"text",name:"name",value:I==="add"?N.name:j?.name,onChange:I==="add"?er:Dr,className:`w-full px-4 py-3 transition-all border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c==="dark"?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`,placeholder:"Nombre del producto",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block mb-3 text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-700"}`,children:"Descripción"}),d.jsx("textarea",{name:"description",value:I==="add"?N.description:j?.description,onChange:I==="add"?er:Dr,className:`w-full px-4 py-3 transition-all border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c==="dark"?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`,rows:"4",placeholder:"Descripción del producto"})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:`block mb-3 text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-700"}`,children:"Precio (COP)"}),d.jsx("input",{type:"number",name:"price",step:"0.01",min:"0",value:I==="add"?N.price:j?.price,onChange:I==="add"?er:Dr,className:`w-full px-4 py-3 transition-all border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c==="dark"?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`,placeholder:"0.00",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block mb-3 text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-700"}`,children:"Stock"}),d.jsx("input",{type:"number",name:"stock",min:"0",value:I==="add"?N.stock:j?.stock,onChange:I==="add"?er:Dr,className:`w-full px-4 py-3 transition-all border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c==="dark"?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`,placeholder:"Cantidad disponible"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:`block mb-3 text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-700"}`,children:"Calificación"}),d.jsx("input",{type:"number",name:"rating",step:"0.1",min:"0",max:"5",value:I==="add"?N.rating:j?.rating,onChange:I==="add"?er:Dr,className:`w-full px-4 py-3 transition-all border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c==="dark"?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`,placeholder:"0.0 - 5.0"})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block mb-3 text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-700"}`,children:"Material"}),d.jsx("input",{type:"text",name:"material",value:I==="add"?N.material:j?.material,onChange:I==="add"?er:Dr,className:`w-full px-4 py-3 transition-all border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c==="dark"?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`,placeholder:"Material del producto"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:`block mb-3 text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-700"}`,children:"Color"}),d.jsx("input",{type:"text",name:"color",value:I==="add"?N.color:j?.color,onChange:I==="add"?er:Dr,className:`w-full px-4 py-3 transition-all border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c==="dark"?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`,placeholder:"Color del producto"})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block mb-3 text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-700"}`,children:"Tamaño"}),d.jsx("input",{type:"text",name:"size",value:I==="add"?N.size:j?.size,onChange:I==="add"?er:Dr,className:`w-full px-4 py-3 transition-all border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c==="dark"?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`,placeholder:"Tamaño del producto"})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block mb-3 text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-700"}`,children:"Estilo"}),d.jsx("input",{type:"text",name:"style",value:I==="add"?N.style:j?.style,onChange:I==="add"?er:Dr,className:`w-full px-4 py-3 transition-all border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c==="dark"?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`,placeholder:"Estilo del producto"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block mb-3 text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-700"}`,children:"Categoría"}),d.jsxs("select",{name:"category",value:I==="add"?N.category:j?.category,onChange:I==="add"?er:Dr,className:`w-full px-4 py-3 transition-all border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[d.jsx("option",{value:"",className:c==="dark"?"bg-gray-700":"bg-white",children:"Seleccionar categoría"}),d.jsx("option",{value:"Moños Elegantes",className:c==="dark"?"bg-gray-700":"bg-white",children:"Moños Elegantes"}),d.jsx("option",{value:"Moños Infantiles",className:c==="dark"?"bg-gray-700":"bg-white",children:"Moños Infantiles"}),d.jsx("option",{value:"Moños Deportivos",className:c==="dark"?"bg-gray-700":"bg-white",children:"Moños Deportivos"}),d.jsx("option",{value:"Moños Casuales",className:c==="dark"?"bg-gray-700":"bg-white",children:"Moños Casuales"}),d.jsx("option",{value:"Moños de Novia",className:c==="dark"?"bg-gray-700":"bg-white",children:"Moños de Novia"}),d.jsx("option",{value:"Moños de Gala",className:c==="dark"?"bg-gray-700":"bg-white",children:"Moños de Gala"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block mb-3 text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-700"}`,children:"Imágenes"}),d.jsxs("div",{className:"mt-3",children:[d.jsx("button",{type:"button",onClick:()=>Ea(I==="edit"),className:`inline-flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-all ${c==="dark"?"text-gray-200 bg-gray-700 border border-gray-600 hover:bg-gray-600":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,disabled:lr||(I==="add"?N.imageUrls.length>=4:j?.imageUrls.length>=4),children:lr?"Subiendo...":`Añadir Imagen${I==="add"?N.imageUrls.length>0?` (${N.imageUrls.length}/4)`:"":j?.imageUrls.length>0?` (${j?.imageUrls.length}/4)`:""}`}),(I==="add"?N.imageUrls.length>=4:j?.imageUrls.length>=4)&&d.jsx("p",{className:`mt-2 text-sm ${c==="dark"?"text-gray-400":"text-gray-500"}`,children:"Has alcanzado el límite máximo de 4 imágenes."}),lr&&d.jsx("div",{className:"mt-4",children:d.jsx("div",{className:`w-8 h-8 border-b-2 rounded-full animate-spin ${c==="dark"?"border-gray-400":"border-gray-900"}`})}),I==="add"?N.imageUrls.length>0&&d.jsx("div",{className:"grid grid-cols-2 gap-4 mt-5",children:N.imageUrls.map((ce,se)=>d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:typeof ce=="string"?ce:ce.data,alt:`Preview ${se}`,className:"object-cover w-full h-32 rounded-lg",onError:Te=>{Te.target.onerror=null,Te.target.src="https://via.placeholder.com/150x150.png?text=Imagen"}}),d.jsx("button",{type:"button",onClick:()=>ss(se),className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full p-1.5 hover:bg-red-700 transition-colors shadow-md",children:d.jsx(x1,{size:14})}),d.jsx("button",{type:"button",onClick:()=>Kt(se),className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 text-xs px-2.5 py-1 rounded-full shadow-sm ${N.primaryImageIndex===se?c==="dark"?"bg-blue-600 text-white":"bg-gray-900 text-white":c==="dark"?"bg-gray-700 text-gray-200 border border-gray-600":"bg-white text-gray-800 border border-gray-300"}`,children:"Principal"})]},se))}):j?.imageUrls.length>0&&d.jsx("div",{className:"grid grid-cols-2 gap-4 mt-5",children:j.imageUrls.map((ce,se)=>d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:typeof ce=="string"?ce:ce.data,alt:`Preview ${se}`,className:"object-cover w-full h-32 rounded-lg",onError:Te=>{Te.target.onerror=null,Te.target.src="https://via.placeholder.com/150x150.png?text=Imagen"}}),d.jsx("button",{type:"button",onClick:()=>ss(se,!0),className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full p-1.5 hover:bg-red-700 transition-colors shadow-md",children:d.jsx(x1,{size:14})}),d.jsx("button",{type:"button",onClick:()=>Kt(se,!0),className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 text-xs px-2.5 py-1 rounded-full shadow-sm ${j.primaryImageIndex===se?c==="dark"?"bg-blue-600 text-white":"bg-gray-900 text-white":c==="dark"?"bg-gray-700 text-gray-200 border border-gray-600":"bg-white text-gray-800 border border-gray-300"}`,children:"Principal"})]},se))})]})]}),d.jsxs("div",{className:`flex justify-between px-8 py-5 border-t ${c==="dark"?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"}`,children:[d.jsx("button",{type:"button",onClick:()=>M(!1),className:`inline-flex justify-center px-5 py-2.5 text-sm font-medium rounded-lg transition-all ${c==="dark"?"text-gray-300 bg-gray-700 border border-gray-600 hover:bg-gray-600":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"inline-flex justify-center px-5 py-2.5 text-sm font-medium text-white rounded-lg transition-all bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 border border-transparent focus:outline-none focus:ring-2 focus:ring-offset-2",children:I==="add"?"Añadir Producto":"Actualizar Producto"})]})]})})]})})]})}),pe&&K&&d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:d.jsxs("div",{className:"flex items-end justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[d.jsx("div",{className:"fixed transition-opacity bg-opacity-50","aria-hidden":"true",onClick:()=>$(!1)}),d.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),d.jsx("div",{className:`z-50 inline-block overflow-hidden text-left align-bottom transition-all transform shadow-xl rounded-2xl sm:my-8 sm:align-middle sm:max-w-lg sm:w-full ${c==="dark"?"bg-gray-800":"bg-white"}`,style:{boxShadow:"0 10px 30px rgba(0,0,0,0.1)",width:"650px"},children:d.jsxs("div",{className:"px-8 py-8",children:[d.jsxs("div",{className:"mb-8 text-center",children:[d.jsx("h3",{className:`text-2xl font-semibold ${c==="dark"?"text-white":"text-gray-900"}`,children:"Editar Reseña"}),d.jsx("p",{className:`mt-2 text-sm ${c==="dark"?"text-gray-400":"text-gray-500"}`,children:"Modifica la calificación y el comentario de la reseña"})]}),d.jsx("div",{className:"mt-2",children:d.jsxs("form",{onSubmit:tr,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:`block mb-4 text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-700"}`,children:"Calificación"}),d.jsx("div",{className:"flex items-center justify-center space-x-2",children:[1,2,3,4,5].map(ce=>d.jsx("button",{type:"button",onClick:()=>xi(ce),className:"text-4xl transition-transform focus:outline-none hover:scale-110",children:ce<=K.rating?d.jsx("span",{className:"text-yellow-400",children:"★"}):d.jsx("span",{className:c==="dark"?"text-gray-600":"text-gray-300",children:"☆"})},ce))}),d.jsx("div",{className:"mt-3 text-center",children:d.jsxs("span",{className:`text-sm ${c==="dark"?"text-gray-400":"text-gray-500"}`,children:[K.rating," de 5 estrellas"]})})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block mb-3 text-sm font-medium ${c==="dark"?"text-gray-300":"text-gray-700"}`,children:"Comentario"}),d.jsx("textarea",{name:"comment",rows:6,value:K.comment,onChange:Fd,className:`w-full px-4 py-3 transition-all border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c==="dark"?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`,placeholder:"Escribe tu reseña aquí..."})]}),d.jsxs("div",{className:`flex justify-between px-8 py-5 border-t ${c==="dark"?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"}`,children:[d.jsx("button",{type:"button",onClick:()=>$(!1),className:`inline-flex justify-center px-5 py-2.5 text-sm font-medium rounded-lg transition-all ${c==="dark"?"text-gray-300 bg-gray-700 border border-gray-600 hover:bg-gray-600":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"inline-flex justify-center px-5 py-2.5 text-sm font-medium text-white rounded-lg transition-all bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 border border-transparent focus:outline-none focus:ring-2 focus:ring-offset-2",children:"Guardar Cambios"})]})]})})]})})]})}),Le&&ye&&d.jsx(d5,{order:ye,isOpen:Le,onClose:ls,formatDate:nn,formatCurrency:Jt,getOrderStatusText:Zp,getStatusBadgeClass:zb,theme:c})]})},Mge=()=>{const{currentUser:t}=qi(),e=Fi(),[r,n]=_.useState([]),[i,a]=_.useState(!0),[l,c]=_.useState(null),[f,h]=_.useState(null),[p,g]=_.useState(!1),[v,b]=_.useState(null),A=P=>{switch(P){case"pending":return"Pendiente";case"processing":return"Procesando";case"shipped":return"Enviado";case"delivered":return"Entregado";case"cancelled":return"Cancelado";default:return P}},E=P=>{switch(P){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=P=>P?P instanceof Date?P.toLocaleDateString("es-CO"):P.toDate?P.toDate().toLocaleDateString("es-CO"):"N/A":"N/A",N=P=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(P||0),C=P=>{h(P),g(!0)},j=()=>{g(!1),h(null)},L=P=>{b({productId:P.id,productName:P.name,rating:0,comment:""})},z=P=>{const{name:R,value:U}=P.target;b(B=>({...B,[R]:U}))},M=P=>{b(R=>({...R,rating:P}))},I=async()=>{if(v.rating===0){Ie.fire({title:"Error",text:"Por favor selecciona una calificación",icon:"error",confirmButtonText:"Aceptar"});return}if(v.comment.trim()===""){Ie.fire({title:"Error",text:"Por favor escribe un comentario",icon:"error",confirmButtonText:"Aceptar"});return}try{const P={productId:v.productId,userId:t.uid,userEmail:t.email,userName:t.displayName||t.email.split("@")[0],rating:v.rating,comment:v.comment.trim()};await i5(P),Ie.fire({title:"Reseña enviada",text:"Tu reseña ha sido enviada correctamente",icon:"success",confirmButtonText:"Aceptar"}),b(null)}catch(P){console.error("Error submitting review:",P),Ie.fire({title:"Error",text:"Hubo un error al enviar tu reseña. Por favor intenta nuevamente.",icon:"error",confirmButtonText:"Aceptar"})}};return _.useEffect(()=>{(async()=>{if(!t){e("/login");return}try{const R=await eZ(t.uid);n(R)}catch(R){console.error("Error fetching user orders:",R),c("No se pudieron cargar tus órdenes. Por favor, intenta nuevamente.")}finally{a(!1)}})()},[t,e]),i?d.jsx("div",{children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})})}):d.jsxs("div",{children:[d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Pedidos"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"Consulta el estado de tus pedidos recientes"})]}),l&&d.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),d.jsx("div",{className:"ml-3",children:d.jsx("h3",{className:"text-sm font-medium text-red-800",children:l})})]})}),r.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002-2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No tienes pedidos"}),d.jsx("p",{className:"mt-1 text-gray-500",children:"Aún no has realizado ningún pedido."}),d.jsx("div",{className:"mt-6",children:d.jsx(De,{to:"/shop",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Comprar ahora"})})]}):d.jsx("div",{className:"space-y-6",children:r.map(P=>d.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[d.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Pedido #",P.id.substring(0,8)]}),d.jsxs("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:["Realizado el ",S(P.createdAt)]})]}),d.jsxs("div",{className:"mt-4 md:mt-0 flex items-center space-x-2",children:[d.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${E(P.orderStatus)}`,children:A(P.orderStatus)}),d.jsx("button",{onClick:()=>C(P),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ver detalles"})]})]})}),d.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),d.jsx("p",{className:"text-lg font-medium text-gray-900",children:N(P.totalAmount)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Productos"}),d.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[P.items?.length||0," ",P.items?.length===1?"producto":"productos"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Método de Pago"}),d.jsx("p",{className:"text-lg font-medium text-gray-900",children:P.paymentMethod||"N/A"})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Productos en este pedido"}),d.jsx("div",{className:"space-y-4",children:P.items?.map((R,U)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 w-16 h-16 border border-gray-200 rounded-md overflow-hidden",children:d.jsx("img",{src:R.imageUrl||"https://via.placeholder.com/64x64.png?text=Moño",alt:R.name,className:"w-full h-full object-center object-cover",onError:B=>{B.target.onerror=null,B.target.src="https://via.placeholder.com/64x64.png?text=Moño"}})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h5",{className:"text-sm font-medium text-gray-900",children:R.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Cantidad: ",R.quantity]})]})]}),d.jsx("button",{onClick:()=>L(R),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Dejar reseña"})]},U))})]})]})]},P.id))})]}),v&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto bg-black bg-opacity-50",children:d.jsx("div",{className:"relative w-full max-w-md mx-auto my-8 bg-white rounded-lg shadow-xl",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Dejar una reseña"}),d.jsx("button",{onClick:()=>b(null),className:"text-2xl font-bold text-gray-400 hover:text-gray-500",children:"×"})]}),d.jsxs("div",{className:"mt-2",children:[d.jsx("h4",{className:"font-medium text-gray-900",children:v.productName}),d.jsxs("div",{className:"mt-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calificación"}),d.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(P=>d.jsx("button",{type:"button",onClick:()=>M(P),className:"text-2xl focus:outline-none",children:P<=v.rating?d.jsx("span",{className:"text-yellow-400",children:"★"}):d.jsx("span",{className:"text-gray-300",children:"☆"})},P)),d.jsx("span",{className:"ml-2 text-sm text-gray-500",children:v.rating>0?`${v.rating} de 5 estrellas`:"Selecciona una calificación"})]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("label",{htmlFor:"review-comment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Comentario"}),d.jsx("textarea",{id:"review-comment",name:"comment",rows:4,value:v.comment,onChange:z,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border border-gray-300 rounded-md p-3",placeholder:"Comparte tu experiencia con este producto..."})]}),d.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:()=>b(null),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),d.jsx("button",{onClick:I,className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-700 border border-transparent rounded-md shadow-sm hover:from-indigo-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Enviar Reseña"})]})]})]})})}),d.jsx(d5,{order:f,isOpen:p,onClose:j,formatDate:S,formatCurrency:N,getOrderStatusText:A,getStatusBadgeClass:E})]})};function Lge(t){return It({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function Vge(t){return It({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function Bge(t){return It({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Uge(t){return It({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function $ge(t){return It({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function zge(t){return It({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function Fge(t){return It({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function qge(t){return It({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function Hge(t){return It({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Kge(t){return It({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function Gge(t){return It({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Wge(t){return It({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function nI(t){return It({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const t7=()=>{const[t,e]=_.useState(!1),[r,n]=_.useState(!1),{currentUser:i,isAdmin:a,userProfile:l}=qi(),{items:c}=Hc(),{items:f}=Jh(),h=Fi(),p=Ja(),g=_.useRef(null);_.useEffect(()=>{console.log("Navbar isAdmin value:",a)},[a]),_.useEffect(()=>{const z=M=>{g.current&&!g.current.contains(M.target)&&n(!1)};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[]);const v=()=>{e(!t)},b=()=>{console.log("Toggling profile menu, current state:",r),n(!r)},A=()=>{console.log("Closing profile menu"),n(!1)},E=async()=>{try{await nR(ha),A(),h("/home")}catch(z){console.error("Error signing out:",z)}},S="text-slate-600 hover:text-slate-900 transition-colors duration-300",N="relative text-slate-600 hover:text-slate-900 transition-colors duration-300 cursor-pointer",C=c.reduce((z,M)=>z+M.quantity,0),j=f.length,L=z=>p.pathname===z;return d.jsxs(d.Fragment,{children:[d.jsx("header",{className:"sticky top-0 z-50 font-sans bg-white shadow-sm",children:d.jsxs("nav",{className:"flex items-center justify-between p-4 mx-auto max-w-7xl",children:[d.jsx("div",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600",children:d.jsx(De,{to:"/home",children:"CARTSHOP"})}),d.jsxs("ul",{className:"items-center hidden space-x-8 md:flex",children:[d.jsx("li",{children:d.jsx(De,{to:"/home",className:L("/home")?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600 font-medium":S,children:"Inicio"})}),d.jsx("li",{children:d.jsx(De,{to:"/shop",className:L("/shop")?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600 font-medium":S,children:"Productos"})}),d.jsx("li",{children:d.jsx(De,{to:"/blog",className:L("/blog")?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600 font-medium":S,children:"Blog"})}),d.jsx("li",{children:d.jsx(De,{to:"/contact",className:L("/contact")?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600 font-medium":S,children:"Contacto"})})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:`hidden md:block ${N} text-xl`,children:d.jsx(Hge,{})}),d.jsxs(De,{to:"/wishlist",className:`${N} text-xl flex items-center justify-center relative`,children:[d.jsx(Fge,{}),j>0&&d.jsx("span",{className:"absolute flex items-center justify-center w-5 h-5 text-xs font-semibold text-white rounded-full bg-gradient-to-r from-indigo-500 to-purple-600 -top-2 -right-3",children:j})]}),d.jsxs(De,{to:"/cart",className:`${N} text-xl flex items-center justify-center relative`,children:[d.jsx(Kge,{}),C>0&&d.jsx("span",{className:"absolute flex items-center justify-center w-5 h-5 text-xs font-semibold text-white rounded-full bg-gradient-to-r from-indigo-500 to-purple-600 -top-2 -right-3",children:C})]}),d.jsxs("div",{className:"relative",ref:g,children:[i?d.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 border border-gray-300 rounded-full cursor-pointer",onClick:b,children:l?.profileImage?d.jsx("img",{src:l.profileImage,alt:"Profile",className:"object-cover w-full h-full rounded-full"}):d.jsx("span",{className:"text-xs font-bold text-gray-600",children:l?.displayName?.charAt(0).toUpperCase()||i.email?.charAt(0).toUpperCase()||"U"})}):d.jsx(De,{to:"/login",className:"flex items-center justify-center w-8 h-8 bg-gray-200 border border-gray-300 rounded-full cursor-pointer",children:d.jsx(nI,{className:"text-gray-600"})}),i&&r&&d.jsxs("div",{className:"absolute right-0 z-50 w-64 mt-2 bg-gray-800 rounded-lg shadow-lg",children:[d.jsx("div",{className:"p-4 border-b border-gray-700",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-200 border border-gray-300 rounded-full",children:l?.profileImage?d.jsx("img",{src:l.profileImage,alt:"Profile",className:"object-cover w-full h-full rounded-full"}):d.jsx("span",{className:"text-sm font-bold text-gray-600",children:l?.displayName?.charAt(0).toUpperCase()||i.email?.charAt(0).toUpperCase()||"U"})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("p",{className:"text-sm font-bold text-white",children:l?.displayName||i.email?.split("@")[0]||"Usuario"}),d.jsx("p",{className:"text-xs text-gray-400",children:i.email})]})]})}),d.jsxs("div",{className:"py-1",children:[console.log("Rendering admin link, isAdmin:",a),a&&d.jsxs(De,{to:"/admin",className:"flex items-center px-4 py-2 text-sm text-white hover:bg-gradient-to-r hover:from-indigo-500 hover:to-purple-600",onClick:A,children:[d.jsx(zge,{className:"mr-3 text-gray-400"}),d.jsx("span",{children:"Administrar página"})]}),d.jsxs(De,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-white hover:bg-gradient-to-r hover:from-indigo-500 hover:to-purple-600",onClick:A,children:[d.jsx(nI,{className:"mr-3 text-gray-400"}),d.jsx("span",{children:"Editar perfil"})]}),d.jsx("div",{className:"border-t border-gray-700",children:d.jsxs(De,{to:"/orders",className:"flex items-center px-4 py-2 text-sm text-white hover:bg-gradient-to-r hover:from-indigo-500 hover:to-purple-600",onClick:A,children:[d.jsx(qge,{className:"mr-3 text-gray-400"}),d.jsx("span",{children:"Mis Pedidos"})]})}),d.jsxs("button",{onClick:E,className:"flex items-center w-full px-4 py-2 text-sm text-left text-white hover:bg-gradient-to-r hover:from-indigo-500 hover:to-purple-600",children:[d.jsx(Gge,{className:"mr-3 text-gray-400"}),d.jsx("span",{children:"Cerrar sesión"})]})]})]})]}),d.jsxs("div",{className:"ml-3 text-2xl cursor-pointer md:hidden text-slate-800",onClick:v,children:[d.jsx($ge,{}),d.jsx("span",{className:"absolute flex items-center justify-center w-5 h-5 text-xs font-semibold text-white rounded-full bg-gradient-to-r from-indigo-500 to-purple-600 -top-1 -right-1",children:"11"})]})]})]})}),d.jsxs(d.Fragment,{children:[t&&d.jsx("div",{className:"fixed inset-0 z-40 bg-black/40",onClick:v}),d.jsxs("aside",{className:`fixed top-0 left-0 h-full w-72 bg-white shadow-xl transform ${t?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 p-5 flex flex-col font-sans`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-10",children:[d.jsx("div",{className:"text-xl font-bold text-slate-800",children:"BOWSHOP"}),d.jsx("button",{onClick:v,className:"text-2xl cursor-pointer text-slate-600 hover:text-slate-900",children:d.jsx(Wge,{})})]}),d.jsxs("ul",{className:"flex-grow space-y-4",children:[d.jsx("li",{children:d.jsx(De,{to:"/home",className:`text-lg ${L("/home")?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600 font-medium":S}`,onClick:v,children:"Inicio"})}),d.jsx("li",{children:d.jsx(De,{to:"/shop",className:`text-lg ${L("/shop")?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600 font-medium":S}`,onClick:v,children:"Productos"})}),d.jsx("li",{children:d.jsx(De,{to:"/blog",className:`text-lg ${L("/blog")?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600 font-medium":S}`,onClick:v,children:"Blog"})}),d.jsx("li",{children:d.jsx(De,{to:"/contact",className:`text-lg ${L("/contact")?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600 font-medium":S}`,onClick:v,children:"Contacto"})}),d.jsx("li",{children:d.jsx(De,{to:"/cart",className:`text-lg ${L("/cart")?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600 font-medium":S}`,onClick:v,children:"Carrito"})}),d.jsx("li",{children:d.jsx(De,{to:"/wishlist",className:`text-lg ${L("/wishlist")?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600 font-medium":S}`,onClick:v,children:"Favoritos"})}),i&&a&&d.jsx("li",{children:d.jsx(De,{to:"/admin",className:`text-lg ${L("/admin")?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600 font-medium":"text-blue-600"}`,onClick:v,children:"Panel administrativo"})})]}),d.jsx("div",{className:"mt-4",children:i?d.jsx("button",{onClick:()=>{E(),v()},className:"w-full px-4 py-2 text-sm font-medium text-white border border-transparent rounded-md shadow-sm bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cerrar Sesión"}):d.jsx(De,{to:"/login",className:"block w-full px-4 py-2 text-sm font-medium text-center text-white border border-transparent rounded-md shadow-sm bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-500 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:v,children:"Iniciar Sesión"})}),d.jsxs("div",{className:"flex justify-center p-5 mt-auto space-x-6",children:[d.jsx("a",{href:"#",className:"text-2xl transition-colors duration-300 text-slate-600 hover:text-indigo-600",children:d.jsx(Uge,{})}),d.jsx("a",{href:"#",className:"text-2xl transition-colors duration-300 text-slate-600 hover:text-indigo-600",children:d.jsx(Vge,{})}),d.jsx("a",{href:"#",className:"text-2xl transition-colors duration-300 text-slate-600 hover:text-indigo-600",children:d.jsx(Lge,{})}),d.jsx("a",{href:"#",className:"text-2xl transition-colors duration-300 text-slate-600 hover:text-indigo-600",children:d.jsx(Bge,{})})]})]})]})]})},Yge=()=>{const{applyCoupon:t,removeCoupon:e,coupon:r}=Hc(),n=async()=>{try{const a=await t("DESCUENTO10");console.log("Coupon applied successfully:",a),alert("Coupon applied successfully!")}catch(a){console.error("Error applying coupon:",a),alert("Error applying coupon: "+a.message)}},i=()=>{e(),alert("Coupon removed!")};return d.jsxs("div",{children:[d.jsx(t7,{}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Prueba de Cupones"}),d.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden p-6",children:[d.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-4",children:"Funcionalidad de Cupones"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Estado Actual"}),r?d.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:[d.jsxs("p",{className:"font-medium text-green-800",children:["Cupón Aplicado: ",r.code]}),d.jsxs("p",{className:"text-sm text-green-600",children:["Descuento: ",r.discountType==="percentage"?`${r.discountValue}%`:`$${r.discountValue}`]})]}):d.jsx("p",{className:"text-gray-500",children:"No hay cupón aplicado"})]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("button",{onClick:n,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Aplicar Cupón de Prueba (DESCUENTO10)"}),d.jsx("button",{onClick:i,disabled:!r,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white ${r?"bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500":"bg-gray-400 cursor-not-allowed"}`,children:"Remover Cupón"})]}),d.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[d.jsx("h3",{className:"text-md font-medium text-blue-800 mb-2",children:"Instrucciones"}),d.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-700 space-y-1",children:[d.jsx("li",{children:"Primero, asegúrate de haber creado un cupón de prueba en Firestore"}),d.jsx("li",{children:'Haz clic en "Aplicar Cupón de Prueba" para probar la funcionalidad'}),d.jsx("li",{children:"Verifica que el cupón se aplique correctamente"}),d.jsx("li",{children:'Haz clic en "Remover Cupón" para eliminarlo'})]})]})]})]})]})]})},Xge=()=>{const{items:t,removeFromWishlist:e,loading:r}=Jh(),n=i=>{if(i.imageUrls&&i.imageUrls.length>0){const a=i.imageUrls.filter(l=>l&&(typeof l=="string"||l.data&&typeof l.data=="string"));if(a.length>0){const l=i.primaryImageIndex||0,c=Math.min(l,a.length-1),f=a[c];if(typeof f=="string")return f;if(f&&f.data)return f.data}}return i.imageUrl||"https://via.placeholder.com/300x300.png?text=Moño"};return r?d.jsx("div",{children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Mi Lista de Deseos"}),d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})]})}):d.jsx("div",{children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Mi Lista de Deseos"}),t.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Tu lista de deseos está vacía"}),d.jsx("p",{className:"mt-1 text-gray-500",children:"Empieza a agregar productos a tu lista de deseos"}),d.jsx("div",{className:"mt-6",children:d.jsx(De,{to:"/shop",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Explorar Productos"})})]}):d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(i=>d.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[d.jsx(De,{to:`/product/${i.id}`,children:d.jsx("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden",children:d.jsx("img",{src:n(i),alt:i.name,className:"w-full h-64 object-cover",onError:a=>{a.target.onerror=null,a.target.src="https://via.placeholder.com/300x300.png?text=Moño"}})})}),d.jsxs("div",{className:"p-4",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-800",children:i.category})}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:i.name}),i.rating>0&&d.jsx("div",{className:"mt-2",children:d.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((a,l)=>d.jsx("svg",{className:`w-4 h-4 ${l<Math.floor(i.rating)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},l)),d.jsx("span",{className:"ml-1 text-sm text-gray-600",children:i.rating})]})}),d.jsx("div",{className:"mt-2",children:d.jsxs("span",{className:"text-lg font-semibold text-indigo-600",children:["$",parseFloat(i.price).toLocaleString("es-CO")]})}),d.jsxs("div",{className:"mt-4 flex gap-2",children:[d.jsx(De,{to:`/product/${i.id}`,className:"flex-1 bg-gradient-to-r from-indigo-500 to-purple-600 border border-transparent rounded-md py-2 px-4 text-sm font-medium text-white hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 text-center",children:"Ver Detalles"}),d.jsx("button",{onClick:()=>e(i.id),className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:d.jsx("svg",{className:"h-5 w-5 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},i.id))})]})})},Qge=()=>{const t=[{id:1,title:"Cómo elegir el moño perfecto para tu ocasión especial",excerpt:"Descubre los factores clave para seleccionar el moño ideal que complemente tu estilo y la ocasión.",date:"15 Oct 2025",author:"María González",category:"Guía de Estilo",image:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"},{id:2,title:"Tendencias de moda en moños para esta temporada",excerpt:"Explora las últimas tendencias en moños y cómo incorporarlas a tu guardarropa diario.",date:"10 Oct 2025",author:"Carlos Rodríguez",category:"Tendencias",image:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"},{id:3,title:"Cuidado y mantenimiento de tus moños favoritos",excerpt:"Consejos profesionales para mantener tus moños en perfecto estado durante más tiempo.",date:"5 Oct 2025",author:"Ana Martínez",category:"Cuidado",image:"https://images.unsplash.com/photo-1595173425119-1c5134b706b3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"},{id:4,title:"La historia elegante de los moños en la moda",excerpt:"Un recorrido por la evolución de los moños desde sus orígenes hasta la actualidad.",date:"1 Oct 2025",author:"Sofía López",category:"Historia",image:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"},{id:5,title:"Moños para eventos corporativos: Guía definitiva",excerpt:"Cómo seleccionar el moño adecuado para reuniones de negocios y eventos corporativos formales.",date:"25 Sep 2025",author:"Javier Pérez",category:"Eventos",image:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"},{id:6,title:"Personalización de moños: Hazlo único",excerpt:"Opciones creativas para personalizar tus moños y hacerlos verdaderamente únicos.",date:"20 Sep 2025",author:"Laura Torres",category:"Personalización",image:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"},{id:7,title:"Los secretos de un moño perfecto: Técnicas profesionales",excerpt:"Aprende las técnicas utilizadas por expertos para crear moños impecables.",date:"15 Sep 2025",author:"Miguel Ángel",category:"Técnicas",image:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"},{id:8,title:"Moños sostenibles: Moda responsable",excerpt:"Descubre cómo la industria está adoptando prácticas ecológicas en la fabricación de accesorios.",date:"10 Sep 2025",author:"Valentina Ruiz",category:"Sostenibilidad",image:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"}],e=["Todos","Guía de Estilo","Tendencias","Cuidado","Historia","Eventos","Personalización","Técnicas","Sostenibilidad"],r=t.slice(0,3),n=["Moda","Elegancia","Accesorios","Tendencias","Cuidado","Eventos","Personalización","Historia","Técnicas","Sostenibilidad"];return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsxs("div",{className:"relative bg-gradient-to-r from-indigo-700 to-purple-800 text-white py-20",children:[d.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),d.jsxs("div",{className:"container mx-auto px-4 relative z-10 text-center",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Blog de PSG SHOP"}),d.jsx("p",{className:"text-xl max-w-2xl mx-auto mb-8",children:"Descubre consejos, tendencias y guías sobre el mundo de los moños elegantes"}),d.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:n.map((i,a)=>d.jsx("span",{className:"px-3 py-1 bg-white bg-opacity-20 rounded-full text-sm hover:bg-opacity-30 transition-all duration-300 cursor-pointer",children:i},a))})]})]}),d.jsx("div",{className:"bg-white py-8",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[d.jsxs("div",{className:"p-4",children:[d.jsx("div",{className:"text-3xl font-bold text-indigo-700",children:"75+"}),d.jsx("div",{className:"text-gray-600",children:"Artículos Publicados"})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("div",{className:"text-3xl font-bold text-indigo-700",children:"30K+"}),d.jsx("div",{className:"text-gray-600",children:"Lectores Mensuales"})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("div",{className:"text-3xl font-bold text-indigo-700",children:"18"}),d.jsx("div",{className:"text-gray-600",children:"Categorías"})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("div",{className:"text-3xl font-bold text-indigo-700",children:"100%"}),d.jsx("div",{className:"text-gray-600",children:"Contenido Original"})]})]})})}),d.jsx("div",{className:"container mx-auto px-4 py-12",children:d.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[d.jsxs("div",{className:"lg:w-2/3",children:[d.jsxs("div",{className:"mb-12",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-2 border-b border-gray-200",children:"Artículos Destacados"}),d.jsx("div",{className:"grid md:grid-cols-1 gap-8",children:r.map(i=>d.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300",children:d.jsxs("div",{className:"md:flex",children:[d.jsx("div",{className:"md:w-2/5 h-64 md:h-auto",children:d.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover",onError:a=>{a.target.onerror=null,a.target.src="https://via.placeholder.com/600x400.png?text=Imagen+Blog"}})}),d.jsxs("div",{className:"p-8 md:w-3/5",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:i.category}),d.jsx("span",{className:"text-sm text-gray-500",children:i.date})]}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:i.title}),d.jsx("p",{className:"text-gray-600 mb-6",children:i.excerpt}),d.jsxs(De,{to:`/blog/${i.id}`,className:"inline-flex items-center text-indigo-600 font-medium hover:text-indigo-800 transition-colors duration-300",children:["Leer más",d.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]})},i.id))})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-2 border-b border-gray-200",children:"Últimos Artículos"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(i=>d.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[d.jsx("div",{className:"h-48 overflow-hidden",children:d.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105",onError:a=>{a.target.onerror=null,a.target.src="https://via.placeholder.com/300x200.png?text=Imagen+Blog"}})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:i.category}),d.jsx("span",{className:"text-sm text-gray-500",children:i.date})]}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:i.title}),d.jsx("p",{className:"text-gray-600 mb-4",children:i.excerpt}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-sm text-gray-500",children:["Por ",i.author]}),d.jsx(De,{to:`/blog/${i.id}`,className:"text-indigo-600 font-medium hover:text-indigo-800 transition-colors duration-300",children:"Leer más →"})]})]})]},i.id))}),d.jsx("div",{className:"text-center mt-10",children:d.jsx("button",{className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-700 text-white font-medium rounded-lg hover:from-indigo-700 hover:to-purple-800 transition-all duration-300 shadow-lg hover:shadow-xl",children:"Cargar Más Artículos"})})]})]}),d.jsxs("div",{className:"lg:w-1/3",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Categorías"}),d.jsx("ul",{className:"space-y-3",children:e.map((i,a)=>d.jsx("li",{children:d.jsx(De,{to:"#",className:`block py-3 px-4 rounded-lg transition-colors duration-300 ${a===0?"bg-gradient-to-r from-indigo-50 to-purple-50 border-l-4 border-indigo-500 text-indigo-800 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{children:i}),d.jsxs("span",{className:"text-gray-400 text-sm",children:["(",Math.floor(Math.random()*15)+1,")"]})]})})},a))})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Más Populares"}),d.jsx("div",{className:"space-y-6",children:t.slice(0,4).map((i,a)=>d.jsxs("div",{className:"flex group",children:[d.jsx("div",{className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden",children:d.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover",onError:l=>{l.target.onerror=null,l.target.src="https://via.placeholder.com/100x100.png?text=Blog"}})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("h4",{className:"font-bold text-gray-900 group-hover:text-indigo-600 transition-colors duration-300 text-lg",children:d.jsx(De,{to:`/blog/${i.id}`,children:i.title})}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i.date}),d.jsx("div",{className:"flex items-center mt-1",children:[...Array(5)].map((l,c)=>d.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},c))})]})]},i.id))})]}),d.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-700 rounded-xl shadow-md p-6 text-white",children:[d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Boletín Informativo"}),d.jsx("p",{className:"mb-4 opacity-90",children:"Suscríbete para recibir las últimas novedades y artículos del blog"}),d.jsxs("form",{className:"space-y-3",children:[d.jsx("input",{type:"email",placeholder:"Tu correo electrónico",className:"w-full px-4 py-3 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-300"}),d.jsx("button",{type:"submit",className:"w-full bg-white text-indigo-700 font-medium py-3 rounded-lg hover:bg-gray-100 transition-colors duration-300 shadow-md",children:"Suscribirse"})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mt-8",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Acerca de PSG SHOP"}),d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:"PS"}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"font-bold text-gray-900",children:"PSG SHOP"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Tienda especializada en moños"})]})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Tu destino para moños elegantes y accesorios de moda de alta calidad. Descubre nuestra colección cuidadosamente seleccionada."}),d.jsx(De,{to:"/shop",className:"inline-block bg-gradient-to-r from-indigo-600 to-purple-700 text-white px-4 py-2 rounded-lg hover:from-indigo-700 hover:to-purple-800 transition-all duration-300 shadow-md hover:shadow-lg",children:"Explorar Colección"})]})]})]})})]})},Zge=()=>{const{id:t}=fI(),e=[{id:1,title:"Cómo elegir el moño perfecto para tu ocasión especial",date:"15 Oct 2025",author:"María González",category:"Guía de Estilo",image:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",content:`
        <p>Seleccionar el moño perfecto para una ocasión especial puede ser un desafío, pero con los consejos adecuados, puedes encontrar el accesorio ideal que complemente tu estilo y la naturaleza del evento.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">Considera la ocasión</h2>
        <p>El tipo de evento es el primer factor a considerar. Un moño para una boda requiere un enfoque diferente que uno para una cena casual. Los eventos formales suelen llamar a diseños más elaborados y materiales de mayor calidad.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">Combina con tu atuendo</h2>
        <p>El color y el estilo de tu ropa deben ser el punto de partida. Un moño debe complementar, no competir con tu outfit. Si llevas un vestido con estampado, opta por un moño en tonos neutros. Para atuendos sólidos, puedes experimentar con colores vibrantes o texturas interesantes.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">Considera la temporada</h2>
        <p>Los materiales y colores apropiados varían según la época del año. En verano, los moños de seda liviana y colores claros son ideales. En invierno, puedes optar por tejidos más gruesos como el terciopelo o el brocado en tonos más oscuros.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">Conoce tu rostro</h2>
        <p>La forma de tu rostro puede influir en el estilo de moño que mejor te queda. Los moños más anchos tienden a favorecer los rostros más estrechos, mientras que los diseños más delgados pueden equilibrar los rostros más anchos.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">Calidad sobre cantidad</h2>
        <p>Invierte en un moño de calidad que se mantenga bien con el tiempo. Los materiales premium no solo se ven mejor, sino que también duran más. En PSG SHOP, nos especializamos en moños hechos con materiales de primera calidad que mantienen su forma y color después de múltiples usos.</p>
        
        <p className="mt-8">Con estos consejos, estarás lista para elegir el moño perfecto para cualquier ocasión especial. Recuerda que el mejor accesorio es aquel que te hace sentir segura y elegante.</p>
      `},{id:2,title:"Tendencias de moda en moños para esta temporada",date:"10 Oct 2025",author:"Carlos Rodríguez",category:"Tendencias",image:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",content:`
        <p>La moda de los moños continúa evolucionando, y esta temporada trae consigo emocionantes novedades que están revolucionando el mundo de los accesorios. Desde colores vibrantes hasta texturas innovadoras, descubre las tendencias que dominarán tu guardarropa.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">1. Colores Bold y Saturados</h2>
        <p>Esta temporada, los colores intensos están en todas partes. Desde el magenta profundo hasta el turquesa eléctrico, los moños en tonos vibrantes son la forma perfecta de agregar un toque de personalidad a cualquier atuendo. Estos colores no solo llaman la atención, sino que también transmiten confianza y estilo.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">2. Texturas Mixtas</h2>
        <p>La combinación de diferentes texturas en un solo moño es una tendencia que está ganando popularidad. Piensa en moños que combinan seda con encaje, o terciopelo con detalles metálicos. Esta mezcla de texturas agrega profundidad visual y crea piezas verdaderamente únicas.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">3. Moños Extra Anchos</h2>
        <p>El tamaño importa, y esta temporada los moños extra anchos son los protagonistas. Estos moños hacen una declaración audaz y pueden convertirse en el punto focal de cualquier outfit. Son especialmente populares para looks de oficina y eventos formales.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">4. Estampados Abstractos</h2>
        <p>Los patrones abstractos están reemplazando a los estampados florales tradicionales. Diseños geométricos, formas orgánicas y patrones artísticos están apareciendo en moños de alta gama. Estos estampados agregan interés visual sin abrumar el resto del atuendo.</p>
        
        <h2 className="text-2xl font-bold mt-8 mb-4">5. Detalles Sostenibles</h2>
        <p>Con el creciente enfoque en la moda sostenible, los moños hechos de materiales ecológicos y mediante procesos éticos están ganando terreno. Desde sedas orgánicas hasta tintes naturales, los consumidores conscientes buscan opciones que reflejen sus valores.</p>
        
        <p className="mt-8">En PSG SHOP, estamos al tanto de estas tendencias y ofrecemos una cuidadosa selección de moños que combinan estilo contemporáneo con calidad excepcional. Nuestra colección de esta temporada incorpora muchos de estos elementos para que puedas lucir a la moda sin sacrificar la elegancia clásica.</p>
      `}],r=e.find(i=>i.id.toString()===t)||e[0],n=e.filter(i=>i.id.toString()!==t).slice(0,3);return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("div",{className:"bg-white py-4",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("nav",{className:"text-sm",children:[d.jsx(De,{to:"/home",className:"text-indigo-600 hover:text-indigo-800",children:"Inicio"}),d.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),d.jsx(De,{to:"/blog",className:"text-indigo-600 hover:text-indigo-800",children:"Blog"}),d.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),d.jsx("span",{className:"text-gray-500",children:r.title})]})})}),d.jsx("div",{className:"container mx-auto px-4 py-12",children:d.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[d.jsx("div",{className:"lg:w-2/3",children:d.jsxs("article",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[d.jsx("div",{className:"h-96 overflow-hidden",children:d.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover",onError:i=>{i.target.onerror=null,i.target.src="https://via.placeholder.com/800x600.png?text=Imagen+Blog"}})}),d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:r.category}),d.jsx("span",{className:"text-gray-500",children:r.date})]}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:r.title}),d.jsxs("div",{className:"flex items-center mb-8 pb-6 border-b border-gray-200",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-800 font-bold mr-3",children:r.author.charAt(0)}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:r.author}),d.jsx("p",{className:"text-sm text-gray-500",children:"Autor en PSG SHOP"})]})]}),d.jsx("div",{className:"prose max-w-none text-gray-700",dangerouslySetInnerHTML:{__html:r.content}}),d.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(De,{to:"/blog",className:"inline-flex items-center text-indigo-600 hover:text-indigo-800 font-medium",children:"← Volver al blog"}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"#",className:"text-gray-500 hover:text-indigo-600",children:d.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),d.jsx("a",{href:"#",className:"text-gray-500 hover:text-indigo-600",children:d.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})}),d.jsx("a",{href:"#",className:"text-gray-500 hover:text-indigo-600",children:d.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]})})]})]})}),d.jsxs("div",{className:"lg:w-1/3",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Artículos Relacionados"}),d.jsx("div",{className:"space-y-4",children:n.map(i=>d.jsxs("div",{className:"flex group",children:[d.jsx("div",{className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden",children:d.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover",onError:a=>{a.target.onerror=null,a.target.src="https://via.placeholder.com/100x100.png?text=Blog"}})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("span",{className:"text-xs text-indigo-600 font-medium",children:i.category}),d.jsx("h4",{className:"font-medium text-gray-900 group-hover:text-indigo-600 transition-colors duration-300 mt-1",children:d.jsx(De,{to:`/blog/${i.id}`,children:i.title})}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i.date})]})]},i.id))})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Categorías"}),d.jsx("ul",{className:"space-y-2",children:["Guía de Estilo","Tendencias","Cuidado","Historia","Eventos","Personalización"].map((i,a)=>d.jsx("li",{children:d.jsx(De,{to:"#",className:"block py-2 px-4 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors duration-300",children:i})},a))})]}),d.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-700 rounded-xl shadow-md p-6 text-white",children:[d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Boletín Informativo"}),d.jsx("p",{className:"mb-4 opacity-90",children:"Suscríbete para recibir las últimas novedades y artículos del blog"}),d.jsxs("form",{className:"space-y-3",children:[d.jsx("input",{type:"email",placeholder:"Tu correo electrónico",className:"w-full px-4 py-2 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-300"}),d.jsx("button",{type:"submit",className:"w-full bg-white text-indigo-700 font-medium py-2 rounded-lg hover:bg-gray-100 transition-colors duration-300",children:"Suscribirse"})]})]})]})]})})]})},Jge=()=>{const[t,e]=lD("mpwybkly"),[r,n]=_.useState({name:"",email:"",subject:"",message:""}),i=a=>{const{name:l,value:c}=a.target;n(f=>({...f,[l]:c}))};return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsxs("div",{className:"relative py-20 text-white bg-gradient-to-r from-indigo-700 to-purple-800",children:[d.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),d.jsxs("div",{className:"container relative z-10 px-4 mx-auto text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold md:text-5xl",children:"Contáctanos"}),d.jsx("p",{className:"max-w-2xl mx-auto text-xl",children:"¿Tienes preguntas? Estamos aquí para ayudarte. Envíanos un mensaje y nos pondremos en contacto contigo pronto."})]})]}),d.jsxs("div",{className:"container px-4 py-12 mx-auto",children:[t.succeeded?d.jsx("div",{className:"max-w-4xl p-4 mx-auto mb-8 rounded-md bg-green-50",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"w-5 h-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-green-800",children:"¡Gracias por tu mensaje!"}),d.jsx("div",{className:"mt-2 text-sm text-green-700",children:d.jsx("p",{children:"Hemos recibido tu mensaje y nos pondremos en contacto contigo pronto."})})]})]})}):null,d.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs("div",{className:"p-8 bg-white shadow-md rounded-xl",children:[d.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-900",children:"Envíanos un mensaje"}),d.jsxs("form",{onSubmit:e,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-700",children:"Nombre"}),d.jsx("input",{type:"text",name:"name",id:"name",required:!0,value:r.name,onChange:i,className:"w-full px-4 py-3 transition-colors duration-300 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Tu nombre completo"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"Email"}),d.jsx("input",{type:"email",name:"email",id:"email",required:!0,value:r.email,onChange:i,className:"w-full px-4 py-3 transition-colors duration-300 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"tu@email.com"}),d.jsx(r0,{prefix:"Email",field:"email",errors:t.errors})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"subject",className:"block mb-2 text-sm font-medium text-gray-700",children:"Asunto"}),d.jsx("input",{type:"text",name:"subject",id:"subject",required:!0,value:r.subject,onChange:i,className:"w-full px-4 py-3 transition-colors duration-300 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"¿Sobre qué te gustaría hablar?"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"message",className:"block mb-2 text-sm font-medium text-gray-700",children:"Mensaje"}),d.jsx("textarea",{id:"message",name:"message",rows:6,required:!0,value:r.message,onChange:i,className:"w-full px-4 py-3 transition-colors duration-300 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Escribe tu mensaje aquí..."}),d.jsx(r0,{prefix:"Message",field:"message",errors:t.errors})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:t.submitting,className:`w-full flex justify-center py-3 px-6 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300 ${t.submitting?"opacity-75 cursor-not-allowed":""}`,children:t.submitting?"Enviando...":"Enviar Mensaje"})})]})]})}),d.jsxs("div",{children:[d.jsxs("div",{className:"p-8 mb-8 bg-white shadow-md rounded-xl",children:[d.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-900",children:"Información de Contacto"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 p-3 bg-indigo-100 rounded-lg",children:d.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Teléfono"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"+1 (555) 123-4567"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Lun - Vie, 9:00 AM - 6:00 PM"})]})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 p-3 bg-indigo-100 rounded-lg",children:d.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"info@psgshop.com"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Respuesta en 24 horas hábiles"})]})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 p-3 bg-indigo-100 rounded-lg",children:d.jsxs("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Dirección"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Calle Principal 123"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Cajamarca, Tolima, Colombia"})]})]})]})]}),d.jsxs("div",{className:"p-8 mb-8 bg-white shadow-md rounded-xl",children:[d.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-900",children:"Nuestra Ubicación"}),d.jsx("div",{className:"h-64 overflow-hidden rounded-lg",children:d.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15782.9116518304!2d-75.31303365!3d4.48527395!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e38f5a5a5a5a5a5%3A0x5a5a5a5a5a5a5a5a!2sCajamarca%2C%20Tolima%2C%20Colombia!5e0!3m2!1sen!2sco!4v1678901234567!5m2!1sen!2sco",width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Ubicación de PSG SHOP en Cajamarca, Tolima, Colombia"})})]}),d.jsxs("div",{className:"p-8 mb-8 bg-white shadow-md rounded-xl",children:[d.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-900",children:"Horario de Atención"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600",children:"Lunes"}),d.jsx("span",{className:"font-medium text-gray-900",children:"9:00 AM - 6:00 PM"})]}),d.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600",children:"Martes"}),d.jsx("span",{className:"font-medium text-gray-900",children:"9:00 AM - 6:00 PM"})]}),d.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600",children:"Miércoles"}),d.jsx("span",{className:"font-medium text-gray-900",children:"9:00 AM - 6:00 PM"})]}),d.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600",children:"Jueves"}),d.jsx("span",{className:"font-medium text-gray-900",children:"9:00 AM - 6:00 PM"})]}),d.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600",children:"Viernes"}),d.jsx("span",{className:"font-medium text-gray-900",children:"9:00 AM - 6:00 PM"})]}),d.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-100",children:[d.jsx("span",{className:"text-gray-600",children:"Sábado"}),d.jsx("span",{className:"font-medium text-gray-900",children:"10:00 AM - 4:00 PM"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Domingo"}),d.jsx("span",{className:"font-medium text-indigo-600",children:"Cerrado"})]})]})]}),d.jsxs("div",{className:"p-8 text-white shadow-md bg-gradient-to-r from-indigo-600 to-purple-700 rounded-xl",children:[d.jsx("h2",{className:"mb-4 text-2xl font-bold",children:"Síguenos en redes"}),d.jsx("p",{className:"mb-6 opacity-90",children:"Mantente actualizado con nuestras últimas novedades y promociones"}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"#",className:"p-3 transition-all duration-300 bg-white rounded-full bg-opacity-20 hover:bg-opacity-30",children:d.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),d.jsx("a",{href:"#",className:"p-3 transition-all duration-300 bg-white rounded-full bg-opacity-20 hover:bg-opacity-30",children:d.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})}),d.jsx("a",{href:"#",className:"p-3 transition-all duration-300 bg-white rounded-full bg-opacity-20 hover:bg-opacity-30",children:d.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]})]})]}),d.jsxs("div",{className:"p-8 mt-16 bg-white shadow-md rounded-xl",children:[d.jsx("h2",{className:"mb-6 text-2xl font-bold text-center text-gray-900",children:"Preguntas Frecuentes"}),d.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[d.jsxs("div",{className:"p-5 transition-colors duration-300 border border-gray-200 rounded-lg hover:border-indigo-300",children:[d.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:"¿Cuánto tiempo tardan en responder?"}),d.jsx("p",{className:"text-gray-600",children:"Normalmente respondemos todos los correos electrónicos dentro de las 24 horas hábiles."})]}),d.jsxs("div",{className:"p-5 transition-colors duration-300 border border-gray-200 rounded-lg hover:border-indigo-300",children:[d.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:"¿Ofrecen envío internacional?"}),d.jsx("p",{className:"text-gray-600",children:"Sí, enviamos a la mayoría de países. Los costos y tiempos de envío varían según la ubicación."})]}),d.jsxs("div",{className:"p-5 transition-colors duration-300 border border-gray-200 rounded-lg hover:border-indigo-300",children:[d.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:"¿Puedo cambiar o devolver un producto?"}),d.jsx("p",{className:"text-gray-600",children:"Por supuesto. Ofrecemos devoluciones dentro de los 30 días posteriores a la compra."})]}),d.jsxs("div",{className:"p-5 transition-colors duration-300 border border-gray-200 rounded-lg hover:border-indigo-300",children:[d.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:"¿Cómo puedo rastrear mi pedido?"}),d.jsx("p",{className:"text-gray-600",children:"Recibirás un correo electrónico con el número de seguimiento una vez que tu pedido haya sido enviado."})]})]})]})]})]})},e0e=()=>d.jsx("footer",{className:"bg-gray-800 text-white py-8",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold mb-4",children:"Tienda de Moños"}),d.jsx("p",{className:"text-gray-300",children:"La mejor selección de moños para todas las ocasiones."})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Enlaces Rápidos"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx("li",{children:d.jsx("a",{href:"/home",className:"text-gray-300 hover:text-white",children:"Inicio"})}),d.jsx("li",{children:d.jsx("a",{href:"/cart",className:"text-gray-300 hover:text-white",children:"Carrito"})}),d.jsx("li",{children:d.jsx("a",{href:"/login",className:"text-gray-300 hover:text-white",children:"Iniciar Sesión"})}),d.jsx("li",{children:d.jsx("a",{href:"/register",className:"text-gray-300 hover:text-white",children:"Registrarse"})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contacto"}),d.jsxs("address",{className:"text-gray-300 not-italic",children:[d.jsx("p",{children:"Email: psgmoños@gmail.com"}),d.jsx("p",{children:"Teléfono: (123) 456-7890"})]})]})]}),d.jsx("div",{className:"border-t border-gray-700 mt-8 pt-6 text-center text-gray-400",children:d.jsxs("p",{children:["© ",new Date().getFullYear()," Tienda de Moños. Todos los derechos reservados."]})})]})}),t0e=()=>{const{pathname:t}=Ja();return _.useEffect(()=>{window.scrollTo(0,0)},[t]),null};function r0e(){const[t,e]=_.useState(null),[r,n]=_.useState(null),[i,a]=_.useState(!0),[l,c]=_.useState(!1);t0e(),_.useEffect(()=>Qz(ha,async v=>{if(e(v),v)try{const b=wt(Re,"users",v.uid),A=await ya(b);if(A.exists()){const E=A.data();n(E),c(E.role==="admin")}else n(null),c(!1)}catch(b){console.error("Error fetching user profile:",b),n(null),c(!1)}else n(null),c(!1);a(!1)}),[]);const f={currentUser:t,userProfile:r,isAdmin:l};if(i)return d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"w-12 h-12 border-b-2 border-indigo-600 rounded-full animate-spin"})});const h=({children:g,adminOnly:v=!1})=>t?v&&!l?d.jsx(xb,{to:"/home"}):g:d.jsx(xb,{to:"/login"}),p=({children:g})=>t?d.jsx(xb,{to:"/home"}):g;return d.jsx(rD.Provider,{value:f,children:d.jsx(ZG,{children:d.jsx(JG,{children:d.jsxs("div",{className:"flex flex-col min-h-screen",children:[d.jsxs(bb,{children:[d.jsx(dr,{path:"/admin/*",element:null}),d.jsx(dr,{path:"*",element:d.jsx(t7,{})})]}),d.jsx("main",{className:"flex-grow",children:d.jsxs(bb,{children:[d.jsx(dr,{path:"/",element:d.jsx(zP,{})}),d.jsx(dr,{path:"/home",element:d.jsx(zP,{})}),d.jsx(dr,{path:"/shop",element:d.jsx(EQ,{})}),d.jsx(dr,{path:"/product/:id",element:d.jsx(TQ,{})}),d.jsx(dr,{path:"/cart",element:d.jsx(NQ,{})}),d.jsx(dr,{path:"/wishlist",element:d.jsx(Xge,{})}),d.jsx(dr,{path:"/blog",element:d.jsx(Qge,{})}),d.jsx(dr,{path:"/blog/:id",element:d.jsx(Zge,{})}),d.jsx(dr,{path:"/contact",element:d.jsx(Jge,{})}),d.jsx(dr,{path:"/checkout",element:d.jsx(h,{children:d.jsx(WQ,{})})}),d.jsx(dr,{path:"/profile",element:d.jsx(h,{children:d.jsx(YQ,{})})}),d.jsx(dr,{path:"/orders",element:d.jsx(h,{children:d.jsx(Mge,{})})}),d.jsx(dr,{path:"/login",element:d.jsx(p,{children:d.jsx(XQ,{})})}),d.jsx(dr,{path:"/register",element:d.jsx(p,{children:d.jsx(QQ,{})})}),d.jsx(dr,{path:"/reset-password",element:d.jsx(p,{children:d.jsx(ZQ,{})})}),d.jsx(dr,{path:"/admin/*",element:d.jsx(h,{adminOnly:!0,children:d.jsx(Dge,{})})}),d.jsx(dr,{path:"/coupon-test",element:d.jsx(h,{adminOnly:!0,children:d.jsx(Yge,{})})})]})}),d.jsxs(bb,{children:[d.jsx(dr,{path:"/admin/*",element:null}),d.jsx(dr,{path:"*",element:d.jsx(e0e,{})})]})]})})})})}const n0e={"client-id":"AdgxAW2HZC5B-yzBWZKimJnJH8W5r-PwL5_lppQOw1w43p_mlpg5FzCDl2trocXC23YuwZhhjyiJIOEf",currency:"USD",intent:"capture"};BV.createRoot(document.getElementById("root")).render(d.jsx(_.StrictMode,{children:d.jsx(GQ,{options:n0e,children:d.jsx(QB,{children:d.jsx(r0e,{})})})}));
