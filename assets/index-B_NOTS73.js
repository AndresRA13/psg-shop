function rV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Qs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ib={exports:{}},$f={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fN;function iV(){if(fN)return $f;fN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return $f.Fragment=e,$f.jsx=n,$f.jsxs=n,$f}var hN;function aV(){return hN||(hN=1,ib.exports=iV()),ib.exports}var f=aV(),ab={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN;function sV(){if(mN)return Ye;mN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function S(H,le,ue){this.props=H,this.context=le,this.refs=E,this.updater=ue||b}S.prototype.isReactComponent={},S.prototype.setState=function(H,le){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,le,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=S.prototype;function j(H,le,ue){this.props=H,this.context=le,this.refs=E,this.updater=ue||b}var N=j.prototype=new C;N.constructor=j,A(N,S.prototype),N.isPureReactComponent=!0;var L=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function R(H,le,ue,oe,he,xe){return ue=xe.ref,{$$typeof:t,type:H,key:le,ref:ue!==void 0?ue:null,props:xe}}function I(H,le){return R(H.type,le,void 0,void 0,void 0,H.props)}function k(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function $(H){var le={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ue){return le[ue]})}var V=/\/+/g;function F(H,le){return typeof H=="object"&&H!==null&&H.key!=null?$(""+H.key):le.toString(36)}function B(){}function ve(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(B,B):(H.status="pending",H.then(function(le){H.status==="pending"&&(H.status="fulfilled",H.value=le)},function(le){H.status==="pending"&&(H.status="rejected",H.reason=le)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ie(H,le,ue,oe,he){var xe=typeof H;(xe==="undefined"||xe==="boolean")&&(H=null);var we=!1;if(H===null)we=!0;else switch(xe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(H.$$typeof){case t:case e:we=!0;break;case p:return we=H._init,ie(we(H._payload),le,ue,oe,he)}}if(we)return he=he(H),we=oe===""?"."+F(H,0):oe,L(he)?(ue="",we!=null&&(ue=we.replace(V,"$&/")+"/"),ie(he,le,ue,"",function(Ee){return Ee})):he!=null&&(k(he)&&(he=I(he,ue+(he.key==null||H&&H.key===he.key?"":(""+he.key).replace(V,"$&/")+"/")+we)),le.push(he)),1;we=0;var We=oe===""?".":oe+":";if(L(H))for(var lt=0;lt<H.length;lt++)oe=H[lt],xe=We+F(oe,lt),we+=ie(oe,le,ue,xe,he);else if(lt=x(H),typeof lt=="function")for(H=lt.call(H),lt=0;!(oe=H.next()).done;)oe=oe.value,xe=We+F(oe,lt++),we+=ie(oe,le,ue,xe,he);else if(xe==="object"){if(typeof H.then=="function")return ie(ve(H),le,ue,oe,he);throw le=String(H),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return we}function G(H,le,ue){if(H==null)return H;var oe=[],he=0;return ie(H,oe,"","",function(xe){return le.call(ue,xe,he++)}),oe}function W(H){if(H._status===-1){var le=H._result;le=le(),le.then(function(ue){(H._status===0||H._status===-1)&&(H._status=1,H._result=ue)},function(ue){(H._status===0||H._status===-1)&&(H._status=2,H._result=ue)}),H._status===-1&&(H._status=0,H._result=le)}if(H._status===1)return H._result.default;throw H._result}var ae=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function ye(){}return Ye.Children={map:G,forEach:function(H,le,ue){G(H,function(){le.apply(this,arguments)},ue)},count:function(H){var le=0;return G(H,function(){le++}),le},toArray:function(H){return G(H,function(le){return le})||[]},only:function(H){if(!k(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ye.Component=S,Ye.Fragment=n,Ye.Profiler=i,Ye.PureComponent=j,Ye.StrictMode=r,Ye.Suspense=d,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(H){return M.H.useMemoCache(H)}},Ye.cache=function(H){return function(){return H.apply(null,arguments)}},Ye.cloneElement=function(H,le,ue){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var oe=A({},H.props),he=H.key,xe=void 0;if(le!=null)for(we in le.ref!==void 0&&(xe=void 0),le.key!==void 0&&(he=""+le.key),le)!U.call(le,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&le.ref===void 0||(oe[we]=le[we]);var we=arguments.length-2;if(we===1)oe.children=ue;else if(1<we){for(var We=Array(we),lt=0;lt<we;lt++)We[lt]=arguments[lt+2];oe.children=We}return R(H.type,he,void 0,void 0,xe,oe)},Ye.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},Ye.createElement=function(H,le,ue){var oe,he={},xe=null;if(le!=null)for(oe in le.key!==void 0&&(xe=""+le.key),le)U.call(le,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(he[oe]=le[oe]);var we=arguments.length-2;if(we===1)he.children=ue;else if(1<we){for(var We=Array(we),lt=0;lt<we;lt++)We[lt]=arguments[lt+2];he.children=We}if(H&&H.defaultProps)for(oe in we=H.defaultProps,we)he[oe]===void 0&&(he[oe]=we[oe]);return R(H,xe,void 0,void 0,null,he)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(H){return{$$typeof:u,render:H}},Ye.isValidElement=k,Ye.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:W}},Ye.memo=function(H,le){return{$$typeof:h,type:H,compare:le===void 0?null:le}},Ye.startTransition=function(H){var le=M.T,ue={};M.T=ue;try{var oe=H(),he=M.S;he!==null&&he(ue,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ye,ae)}catch(xe){ae(xe)}finally{M.T=le}},Ye.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ye.use=function(H){return M.H.use(H)},Ye.useActionState=function(H,le,ue){return M.H.useActionState(H,le,ue)},Ye.useCallback=function(H,le){return M.H.useCallback(H,le)},Ye.useContext=function(H){return M.H.useContext(H)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(H,le){return M.H.useDeferredValue(H,le)},Ye.useEffect=function(H,le,ue){var oe=M.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(H,le)},Ye.useId=function(){return M.H.useId()},Ye.useImperativeHandle=function(H,le,ue){return M.H.useImperativeHandle(H,le,ue)},Ye.useInsertionEffect=function(H,le){return M.H.useInsertionEffect(H,le)},Ye.useLayoutEffect=function(H,le){return M.H.useLayoutEffect(H,le)},Ye.useMemo=function(H,le){return M.H.useMemo(H,le)},Ye.useOptimistic=function(H,le){return M.H.useOptimistic(H,le)},Ye.useReducer=function(H,le,ue){return M.H.useReducer(H,le,ue)},Ye.useRef=function(H){return M.H.useRef(H)},Ye.useState=function(H){return M.H.useState(H)},Ye.useSyncExternalStore=function(H,le,ue){return M.H.useSyncExternalStore(H,le,ue)},Ye.useTransition=function(){return M.H.useTransition()},Ye.version="19.1.1",Ye}var pN;function hd(){return pN||(pN=1,ab.exports=sV()),ab.exports}var _=hd();const li=Qs(_),oV=rV({__proto__:null,default:li},[_]);var sb={exports:{}},Ff={},ob={exports:{}},lb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gN;function lV(){return gN||(gN=1,(function(t){function e(G,W){var ae=G.length;G.push(W);e:for(;0<ae;){var ye=ae-1>>>1,H=G[ye];if(0<i(H,W))G[ye]=W,G[ae]=H,ae=ye;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var W=G[0],ae=G.pop();if(ae!==W){G[0]=ae;e:for(var ye=0,H=G.length,le=H>>>1;ye<le;){var ue=2*(ye+1)-1,oe=G[ue],he=ue+1,xe=G[he];if(0>i(oe,ae))he<H&&0>i(xe,oe)?(G[ye]=xe,G[he]=ae,ye=he):(G[ye]=oe,G[ue]=ae,ye=ue);else if(he<H&&0>i(xe,ae))G[ye]=xe,G[he]=ae,ye=he;else break e}}return W}function i(G,W){var ae=G.sortIndex-W.sortIndex;return ae!==0?ae:G.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,g=null,x=3,b=!1,A=!1,E=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function L(G){for(var W=n(h);W!==null;){if(W.callback===null)r(h);else if(W.startTime<=G)r(h),W.sortIndex=W.expirationTime,e(d,W);else break;W=n(h)}}function M(G){if(E=!1,L(G),!A)if(n(d)!==null)A=!0,U||(U=!0,F());else{var W=n(h);W!==null&&ie(M,W.startTime-G)}}var U=!1,R=-1,I=5,k=-1;function $(){return S?!0:!(t.unstable_now()-k<I)}function V(){if(S=!1,U){var G=t.unstable_now();k=G;var W=!0;try{e:{A=!1,E&&(E=!1,j(R),R=-1),b=!0;var ae=x;try{t:{for(L(G),g=n(d);g!==null&&!(g.expirationTime>G&&$());){var ye=g.callback;if(typeof ye=="function"){g.callback=null,x=g.priorityLevel;var H=ye(g.expirationTime<=G);if(G=t.unstable_now(),typeof H=="function"){g.callback=H,L(G),W=!0;break t}g===n(d)&&r(d),L(G)}else r(d);g=n(d)}if(g!==null)W=!0;else{var le=n(h);le!==null&&ie(M,le.startTime-G),W=!1}}break e}finally{g=null,x=ae,b=!1}W=void 0}}finally{W?F():U=!1}}}var F;if(typeof N=="function")F=function(){N(V)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ve=B.port2;B.port1.onmessage=V,F=function(){ve.postMessage(null)}}else F=function(){C(V,0)};function ie(G,W){R=C(function(){G(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(G){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var ae=x;x=W;try{return G()}finally{x=ae}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=x;x=G;try{return W()}finally{x=ae}},t.unstable_scheduleCallback=function(G,W,ae){var ye=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ye+ae:ye):ae=ye,G){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ae+H,G={id:p++,callback:W,priorityLevel:G,startTime:ae,expirationTime:H,sortIndex:-1},ae>ye?(G.sortIndex=ae,e(h,G),n(d)===null&&G===n(h)&&(E?(j(R),R=-1):E=!0,ie(M,ae-ye))):(G.sortIndex=H,e(d,G),A||b||(A=!0,U||(U=!0,F()))),G},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(G){var W=x;return function(){var ae=x;x=W;try{return G.apply(this,arguments)}finally{x=ae}}}})(lb)),lb}var yN;function cV(){return yN||(yN=1,ob.exports=lV()),ob.exports}var cb={exports:{}},fr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN;function uV(){if(vN)return fr;vN=1;var t=hd();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return fr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fr.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(d,h,null,p)},fr.flushSync=function(d){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=p,r.d.f()}},fr.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},fr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},fr.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:b}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:x,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},fr.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},fr.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},fr.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},fr.requestFormReset=function(d){r.d.r(d)},fr.unstable_batchedUpdates=function(d,h){return d(h)},fr.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},fr.useFormStatus=function(){return l.H.useHostTransitionStatus()},fr.version="19.1.1",fr}var xN;function Lk(){if(xN)return cb.exports;xN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cb.exports=uV(),cb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function dV(){if(bN)return Ff;bN=1;var t=cV(),e=hd(),n=Lk();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function d(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var c=s,m=o;;){var v=c.return;if(v===null)break;var w=v.alternate;if(w===null){if(m=v.return,m!==null){c=m;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===c)return u(v),s;if(w===m)return u(v),o;w=w.sibling}throw Error(r(188))}if(c.return!==m.return)c=v,m=w;else{for(var O=!1,D=v.child;D;){if(D===c){O=!0,c=v,m=w;break}if(D===m){O=!0,m=v,c=w;break}D=D.sibling}if(!O){for(D=w.child;D;){if(D===c){O=!0,c=w,m=v;break}if(D===m){O=!0,m=w,c=v;break}D=D.sibling}if(!O)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:o}function h(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=h(s),o!==null)return o;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var B=Symbol.for("react.client.reference");function ve(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===B?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case U:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case N:return(s.displayName||"Context")+".Provider";case j:return(s._context.displayName||"Context")+".Consumer";case L:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return o=s.displayName||null,o!==null?o:ve(s.type)||"Memo";case I:o=s._payload,s=s._init;try{return ve(s(o))}catch{}}return null}var ie=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ye=[],H=-1;function le(s){return{current:s}}function ue(s){0>H||(s.current=ye[H],ye[H]=null,H--)}function oe(s,o){H++,ye[H]=s.current,s.current=o}var he=le(null),xe=le(null),we=le(null),We=le(null);function lt(s,o){switch(oe(we,o),oe(xe,s),oe(he,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?BC(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=BC(o),s=zC(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ue(he),oe(he,s)}function Ee(){ue(he),ue(xe),ue(we)}function $e(s){s.memoizedState!==null&&oe(We,s);var o=he.current,c=zC(o,s.type);o!==c&&(oe(xe,s),oe(he,c))}function Ke(s){xe.current===s&&(ue(he),ue(xe)),We.current===s&&(ue(We),Lf._currentValue=ae)}var ge=Object.prototype.hasOwnProperty,Le=t.unstable_scheduleCallback,tt=t.unstable_cancelCallback,xn=t.unstable_shouldYield,Yt=t.unstable_requestPaint,Lt=t.unstable_now,ns=t.unstable_getCurrentPriorityLevel,Xt=t.unstable_ImmediatePriority,bn=t.unstable_UserBlockingPriority,zn=t.unstable_NormalPriority,ba=t.unstable_LowPriority,Wi=t.unstable_IdlePriority,Md=t.log,wa=t.unstable_setDisableYieldValue,Kr=null,wn=null;function Rr(s){if(typeof Md=="function"&&wa(s),wn&&typeof wn.setStrictMode=="function")try{wn.setStrictMode(Kr,s)}catch{}}var Zn=Math.clz32?Math.clz32:Er,Ld=Math.log,_r=Math.LN2;function Er(s){return s>>>=0,s===0?32:31-(Ld(s)/_r|0)|0}var pi=256,_a=4194304;function Gr(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ar(s,o,c){var m=s.pendingLanes;if(m===0)return 0;var v=0,w=s.suspendedLanes,O=s.pingedLanes;s=s.warmLanes;var D=m&134217727;return D!==0?(m=D&~w,m!==0?v=Gr(m):(O&=D,O!==0?v=Gr(O):c||(c=D&~s,c!==0&&(v=Gr(c))))):(D=m&~w,D!==0?v=Gr(D):O!==0?v=Gr(O):c||(c=m&~s,c!==0&&(v=Gr(c)))),v===0?0:o!==0&&o!==v&&(o&w)===0&&(w=v&-v,c=o&-o,w>=c||w===32&&(c&4194048)!==0)?o:v}function Yi(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function rs(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var s=pi;return pi<<=1,(pi&4194048)===0&&(pi=256),s}function Ea(){var s=_a;return _a<<=1,(_a&62914560)===0&&(_a=4194304),s}function lo(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Qt(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Kc(s,o,c,m,v,w){var O=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var D=s.entanglements,q=s.expirationTimes,J=s.hiddenUpdates;for(c=O&~c;0<c;){var ce=31-Zn(c),me=1<<ce;D[ce]=0,q[ce]=-1;var te=J[ce];if(te!==null)for(J[ce]=null,ce=0;ce<te.length;ce++){var ne=te[ce];ne!==null&&(ne.lane&=-536870913)}c&=~me}m!==0&&Aa(s,m,0),w!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=w&~(O&~o))}function Aa(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var m=31-Zn(o);s.entangledLanes|=o,s.entanglements[m]=s.entanglements[m]|1073741824|c&4194090}function Sa(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var m=31-Zn(c),v=1<<m;v&o|s[m]&o&&(s[m]|=o),c&=~v}}function co(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function El(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Xi(){var s=W.p;return s!==0?s:(s=window.event,s===void 0?32:sN(s.type))}function Vd(s,o){var c=W.p;try{return W.p=s,o()}finally{W.p=c}}var gi=Math.random().toString(36).slice(2),Zt="__reactFiber$"+gi,Pn="__reactProps$"+gi,Y="__reactContainer$"+gi,be="__reactEvents$"+gi,Pe="__reactListeners$"+gi,bt="__reactHandles$"+gi,Jt="__reactResources$"+gi,lr="__reactMarker$"+gi;function Qi(s){delete s[Zt],delete s[Pn],delete s[be],delete s[Pe],delete s[bt]}function cr(s){var o=s[Zt];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Y]||c[Zt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=HC(s);s!==null;){if(c=s[Zt])return c;s=HC(s)}return o}s=c,c=s.parentNode}return null}function yi(s){if(s=s[Zt]||s[Y]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function is(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function Ta(s){var o=s[Jt];return o||(o=s[Jt]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function en(s){s[lr]=!0}var Ud=new Set,as={};function vi(s,o){xi(s,o),xi(s+"Capture",o)}function xi(s,o){for(as[s]=o,s=0;s<o.length;s++)Ud.add(o[s])}var ss=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bi={},uo={};function Bd(s){return ge.call(uo,s)?!0:ge.call(bi,s)?!1:ss.test(s)?uo[s]=!0:(bi[s]=!0,!1)}function os(s,o,c){if(Bd(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function wi(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function kr(s,o,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+m)}}var Al,Gc;function ls(s){if(Al===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Al=o&&o[1]||"",Gc=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Al+s+Gc}var Wc=!1;function Yc(s,o){if(!s||Wc)return"";Wc=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ne){var te=ne}Reflect.construct(s,[],me)}else{try{me.call()}catch(ne){te=ne}s.call(me.prototype)}}else{try{throw Error()}catch(ne){te=ne}(me=s())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),O=w[0],D=w[1];if(O&&D){var q=O.split(`
`),J=D.split(`
`);for(v=m=0;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;for(;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;if(m===q.length||v===J.length)for(m=q.length-1,v=J.length-1;1<=m&&0<=v&&q[m]!==J[v];)v--;for(;1<=m&&0<=v;m--,v--)if(q[m]!==J[v]){if(m!==1||v!==1)do if(m--,v--,0>v||q[m]!==J[v]){var ce=`
`+q[m].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=m&&0<=v);break}}}finally{Wc=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?ls(c):""}function f0(s){switch(s.tag){case 26:case 27:case 5:return ls(s.type);case 16:return ls("Lazy");case 13:return ls("Suspense");case 19:return ls("SuspenseList");case 0:case 15:return Yc(s.type,!1);case 11:return Yc(s.type.render,!1);case 1:return Yc(s.type,!0);case 31:return ls("Activity");default:return""}}function Zi(s){try{var o="";do o+=f0(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function tn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function fo(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Sl(s){var o=fo(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),m=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,w=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return v.call(this)},set:function(O){m=""+O,w.call(this,O)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ho(s){s._valueTracker||(s._valueTracker=Sl(s))}function wt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return s&&(m=fo(s)?s.checked?"true":"false":s.value),s=m,s!==c?(o.setValue(s),!0):!1}function cs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Tl=/[\n"\\]/g;function $n(s){return s.replace(Tl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function zd(s,o,c,m,v,w,O,D){s.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.type=O:s.removeAttribute("type"),o!=null?O==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+tn(o)):s.value!==""+tn(o)&&(s.value=""+tn(o)):O!=="submit"&&O!=="reset"||s.removeAttribute("value"),o!=null?Fd(s,O,tn(o)):c!=null?Fd(s,O,tn(c)):m!=null&&s.removeAttribute("value"),v==null&&w!=null&&(s.defaultChecked=!!w),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.name=""+tn(D):s.removeAttribute("name")}function $d(s,o,c,m,v,w,O,D){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),o!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;c=c!=null?""+tn(c):"",o=o!=null?""+tn(o):c,D||o===s.value||(s.value=o),s.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=D?s.checked:!!m,s.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.name=O)}function Fd(s,o,c){o==="number"&&cs(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function mo(s,o,c,m){if(s=s.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=o.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&m&&(s[c].defaultSelected=!0)}else{for(c=""+tn(c),o=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,m&&(s[v].defaultSelected=!0);return}o!==null||s[v].disabled||(o=s[v])}o!==null&&(o.selected=!0)}}function Sm(s,o,c){if(o!=null&&(o=""+tn(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+tn(c):""}function Tm(s,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(r(92));if(ie(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=tn(o),s.defaultValue=c,m=s.textContent,m===c&&m!==""&&m!==null&&(s.value=m)}function _i(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var us=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qd(s,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":m?s.setProperty(o,c):typeof c!="number"||c===0||us.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function Hd(s,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&c[v]!==m&&qd(s,v,m)}else for(var w in o)o.hasOwnProperty(w)&&qd(s,w,o[w])}function Xc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ji(s){return Nm.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Kd=null;function Gd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var po=null,Sr=null;function jm(s){var o=yi(s);if(o&&(s=o.stateNode)){var c=s[Pn]||null;e:switch(s=o.stateNode,o.type){case"input":if(zd(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+$n(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==s&&m.form===s.form){var v=m[Pn]||null;if(!v)throw Error(r(90));zd(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===s.form&&wt(m)}break e;case"textarea":Sm(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&mo(s,!!c.multiple,o,!1)}}}var Cl=!1;function Nl(s,o,c){if(Cl)return s(o,c);Cl=!0;try{var m=s(o);return m}finally{if(Cl=!1,(po!==null||Sr!==null)&&(vp(),po&&(o=po,s=Sr,Sr=po=null,jm(o),s)))for(o=0;o<s.length;o++)jm(s[o])}}function go(s,o){var c=s.stateNode;if(c===null)return null;var m=c[Pn]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ds=!1;if(Tr)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){ds=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{ds=!1}var Ei=null,Ot=null,Qc=null;function Pm(){if(Qc)return Qc;var s,o=Ot,c=o.length,m,v="value"in Ei?Ei.value:Ei.textContent,w=v.length;for(s=0;s<c&&o[s]===v[s];s++);var O=c-s;for(m=1;m<=O&&o[c-m]===v[w-m];m++);return Qc=v.slice(s,1<m?1-m:void 0)}function jl(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Pl(){return!0}function Wd(){return!1}function On(s){function o(c,m,v,w,O){this._reactName=c,this._targetInst=v,this.type=m,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(c=s[D],this[D]=c?c(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Pl:Wd,this.isPropagationStopped=Wd,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),o}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=On(ur),Il=p({},ur,{view:0,detail:0}),Rl=On(Il),Zc,kl,Ca,Dl=p({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ca&&(Ca&&s.type==="mousemove"?(Zc=s.screenX-Ca.screenX,kl=s.screenY-Ca.screenY):kl=Zc=0,Ca=s),Zc)},movementY:function(s){return"movementY"in s?s.movementY:kl}}),Ml=On(Dl),h0=p({},Dl,{dataTransfer:0}),Om=On(h0),Ll=p({},Il,{relatedTarget:0}),Jc=On(Ll),Im=p({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Yd=On(Im),Xd=p({},ur,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Rm=On(Xd),eu=p({},ur,{data:0}),Qd=On(eu),km={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mm(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Dm[s])?!!o[s]:!1}function tu(){return Mm}var Lm=p({},Il,{key:function(s){if(s.key){var o=km[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=jl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?fs[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tu,charCode:function(s){return s.type==="keypress"?jl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?jl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),nu=On(Lm),Cr=p({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=On(Cr),Vm=p({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tu}),vo=On(Vm),y=p({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=On(y),P=p({},Dl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),z=On(P),Z=p({},ur,{newState:0,oldState:0}),re=On(Z),_e=[9,13,27,32],qe=Tr&&"CompositionEvent"in window,Vt=null;Tr&&"documentMode"in document&&(Vt=document.documentMode);var pt=Tr&&"TextEvent"in window&&!Vt,un=Tr&&(!qe||Vt&&8<Vt&&11>=Vt),Wr=" ",Na=!1;function ea(s,o){switch(s){case"keyup":return _e.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ta(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var na=!1;function Jd(s,o){switch(s){case"compositionend":return ta(o);case"keypress":return o.which!==32?null:(Na=!0,Wr);case"textInput":return s=o.data,s===Wr&&Na?null:s;default:return null}}function P8(s,o){if(na)return s==="compositionend"||!qe&&ea(s,o)?(s=Pm(),Qc=Ot=Ei=null,na=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return un&&o.locale!=="ko"?null:o.data;default:return null}}var O8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eS(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!O8[s.type]:o==="textarea"}function tS(s,o,c,m){po?Sr?Sr.push(m):Sr=[m]:po=m,o=Ap(o,"onChange"),0<o.length&&(c=new Ol("onChange","change",null,c,m),s.push({event:c,listeners:o}))}var ef=null,tf=null;function I8(s){DC(s,0)}function Um(s){var o=is(s);if(wt(o))return s}function nS(s,o){if(s==="change")return o}var rS=!1;if(Tr){var m0;if(Tr){var p0="oninput"in document;if(!p0){var iS=document.createElement("div");iS.setAttribute("oninput","return;"),p0=typeof iS.oninput=="function"}m0=p0}else m0=!1;rS=m0&&(!document.documentMode||9<document.documentMode)}function aS(){ef&&(ef.detachEvent("onpropertychange",sS),tf=ef=null)}function sS(s){if(s.propertyName==="value"&&Um(tf)){var o=[];tS(o,tf,s,Gd(s)),Nl(I8,o)}}function R8(s,o,c){s==="focusin"?(aS(),ef=o,tf=c,ef.attachEvent("onpropertychange",sS)):s==="focusout"&&aS()}function k8(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Um(tf)}function D8(s,o){if(s==="click")return Um(o)}function M8(s,o){if(s==="input"||s==="change")return Um(o)}function L8(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Yr=typeof Object.is=="function"?Object.is:L8;function nf(s,o){if(Yr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var v=c[m];if(!ge.call(o,v)||!Yr(s[v],o[v]))return!1}return!0}function oS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function lS(s,o){var c=oS(s);s=0;for(var m;c;){if(c.nodeType===3){if(m=s+c.textContent.length,s<=o&&m>=o)return{node:c,offset:o-s};s=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=oS(c)}}function cS(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?cS(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function uS(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=cs(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=cs(s.document)}return o}function g0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var V8=Tr&&"documentMode"in document&&11>=document.documentMode,ru=null,y0=null,rf=null,v0=!1;function dS(s,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;v0||ru==null||ru!==cs(m)||(m=ru,"selectionStart"in m&&g0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),rf&&nf(rf,m)||(rf=m,m=Ap(y0,"onSelect"),0<m.length&&(o=new Ol("onSelect","select",null,o,c),s.push({event:o,listeners:m}),o.target=ru)))}function Vl(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var iu={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionrun:Vl("Transition","TransitionRun"),transitionstart:Vl("Transition","TransitionStart"),transitioncancel:Vl("Transition","TransitionCancel"),transitionend:Vl("Transition","TransitionEnd")},x0={},fS={};Tr&&(fS=document.createElement("div").style,"AnimationEvent"in window||(delete iu.animationend.animation,delete iu.animationiteration.animation,delete iu.animationstart.animation),"TransitionEvent"in window||delete iu.transitionend.transition);function Ul(s){if(x0[s])return x0[s];if(!iu[s])return s;var o=iu[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in fS)return x0[s]=o[c];return s}var hS=Ul("animationend"),mS=Ul("animationiteration"),pS=Ul("animationstart"),U8=Ul("transitionrun"),B8=Ul("transitionstart"),z8=Ul("transitioncancel"),gS=Ul("transitionend"),yS=new Map,b0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");b0.push("scrollEnd");function ra(s,o){yS.set(s,o),vi(o,[s])}var vS=new WeakMap;function Ai(s,o){if(typeof s=="object"&&s!==null){var c=vS.get(s);return c!==void 0?c:(o={value:s,source:o,stack:Zi(o)},vS.set(s,o),o)}return{value:s,source:o,stack:Zi(o)}}var Si=[],au=0,w0=0;function Bm(){for(var s=au,o=w0=au=0;o<s;){var c=Si[o];Si[o++]=null;var m=Si[o];Si[o++]=null;var v=Si[o];Si[o++]=null;var w=Si[o];if(Si[o++]=null,m!==null&&v!==null){var O=m.pending;O===null?v.next=v:(v.next=O.next,O.next=v),m.pending=v}w!==0&&xS(c,v,w)}}function zm(s,o,c,m){Si[au++]=s,Si[au++]=o,Si[au++]=c,Si[au++]=m,w0|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function _0(s,o,c,m){return zm(s,o,c,m),$m(s)}function su(s,o){return zm(s,null,null,o),$m(s)}function xS(s,o,c){s.lanes|=c;var m=s.alternate;m!==null&&(m.lanes|=c);for(var v=!1,w=s.return;w!==null;)w.childLanes|=c,m=w.alternate,m!==null&&(m.childLanes|=c),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(v=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,v&&o!==null&&(v=31-Zn(c),s=w.hiddenUpdates,m=s[v],m===null?s[v]=[o]:m.push(o),o.lane=c|536870912),w):null}function $m(s){if(50<jf)throw jf=0,Nx=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var ou={};function $8(s,o,c,m){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(s,o,c,m){return new $8(s,o,c,m)}function E0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hs(s,o){var c=s.alternate;return c===null?(c=Xr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function bS(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Fm(s,o,c,m,v,w){var O=0;if(m=s,typeof s=="function")E0(s)&&(O=1);else if(typeof s=="string")O=q7(s,c,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case k:return s=Xr(31,c,o,v),s.elementType=k,s.lanes=w,s;case A:return Bl(c.children,v,w,o);case E:O=8,v|=24;break;case S:return s=Xr(12,c,o,v|2),s.elementType=S,s.lanes=w,s;case M:return s=Xr(13,c,o,v),s.elementType=M,s.lanes=w,s;case U:return s=Xr(19,c,o,v),s.elementType=U,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case C:case N:O=10;break e;case j:O=9;break e;case L:O=11;break e;case R:O=14;break e;case I:O=16,m=null;break e}O=29,c=Error(r(130,s===null?"null":typeof s,"")),m=null}return o=Xr(O,c,o,v),o.elementType=s,o.type=m,o.lanes=w,o}function Bl(s,o,c,m){return s=Xr(7,s,m,o),s.lanes=c,s}function A0(s,o,c){return s=Xr(6,s,null,o),s.lanes=c,s}function S0(s,o,c){return o=Xr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var lu=[],cu=0,qm=null,Hm=0,Ti=[],Ci=0,zl=null,ms=1,ps="";function $l(s,o){lu[cu++]=Hm,lu[cu++]=qm,qm=s,Hm=o}function wS(s,o,c){Ti[Ci++]=ms,Ti[Ci++]=ps,Ti[Ci++]=zl,zl=s;var m=ms;s=ps;var v=32-Zn(m)-1;m&=~(1<<v),c+=1;var w=32-Zn(o)+v;if(30<w){var O=v-v%5;w=(m&(1<<O)-1).toString(32),m>>=O,v-=O,ms=1<<32-Zn(o)+v|c<<v|m,ps=w+s}else ms=1<<w|c<<v|m,ps=s}function T0(s){s.return!==null&&($l(s,1),wS(s,1,0))}function C0(s){for(;s===qm;)qm=lu[--cu],lu[cu]=null,Hm=lu[--cu],lu[cu]=null;for(;s===zl;)zl=Ti[--Ci],Ti[Ci]=null,ps=Ti[--Ci],Ti[Ci]=null,ms=Ti[--Ci],Ti[Ci]=null}var Nr=null,sn=null,ft=!1,Fl=null,ja=!1,N0=Error(r(519));function ql(s){var o=Error(r(418,""));throw of(Ai(o,s)),N0}function _S(s){var o=s.stateNode,c=s.type,m=s.memoizedProps;switch(o[Zt]=s,o[Pn]=m,c){case"dialog":Je("cancel",o),Je("close",o);break;case"iframe":case"object":case"embed":Je("load",o);break;case"video":case"audio":for(c=0;c<Of.length;c++)Je(Of[c],o);break;case"source":Je("error",o);break;case"img":case"image":case"link":Je("error",o),Je("load",o);break;case"details":Je("toggle",o);break;case"input":Je("invalid",o),$d(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),ho(o);break;case"select":Je("invalid",o);break;case"textarea":Je("invalid",o),Tm(o,m.value,m.defaultValue,m.children),ho(o)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||UC(o.textContent,c)?(m.popover!=null&&(Je("beforetoggle",o),Je("toggle",o)),m.onScroll!=null&&Je("scroll",o),m.onScrollEnd!=null&&Je("scrollend",o),m.onClick!=null&&(o.onclick=Sp),o=!0):o=!1,o||ql(s)}function ES(s){for(Nr=s.return;Nr;)switch(Nr.tag){case 5:case 13:ja=!1;return;case 27:case 3:ja=!0;return;default:Nr=Nr.return}}function af(s){if(s!==Nr)return!1;if(!ft)return ES(s),ft=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||qx(s.type,s.memoizedProps)),c=!c),c&&sn&&ql(s),ES(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){sn=aa(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}sn=null}}else o===27?(o=sn,ko(s.type)?(s=Wx,Wx=null,sn=s):sn=o):sn=Nr?aa(s.stateNode.nextSibling):null;return!0}function sf(){sn=Nr=null,ft=!1}function AS(){var s=Fl;return s!==null&&(Lr===null?Lr=s:Lr.push.apply(Lr,s),Fl=null),s}function of(s){Fl===null?Fl=[s]:Fl.push(s)}var j0=le(null),Hl=null,gs=null;function xo(s,o,c){oe(j0,o._currentValue),o._currentValue=c}function ys(s){s._currentValue=j0.current,ue(j0)}function P0(s,o,c){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===c)break;s=s.return}}function O0(s,o,c,m){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var w=v.dependencies;if(w!==null){var O=v.child;w=w.firstContext;e:for(;w!==null;){var D=w;w=v;for(var q=0;q<o.length;q++)if(D.context===o[q]){w.lanes|=c,D=w.alternate,D!==null&&(D.lanes|=c),P0(w.return,c,s),m||(O=null);break e}w=D.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(r(341));O.lanes|=c,w=O.alternate,w!==null&&(w.lanes|=c),P0(O,c,s),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===s){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function lf(s,o,c,m){s=null;for(var v=o,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var D=v.type;Yr(v.pendingProps.value,O.value)||(s!==null?s.push(D):s=[D])}}else if(v===We.current){if(O=v.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(Lf):s=[Lf])}v=v.return}s!==null&&O0(o,s,c,m),o.flags|=262144}function Km(s){for(s=s.firstContext;s!==null;){if(!Yr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Kl(s){Hl=s,gs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function dr(s){return SS(Hl,s)}function Gm(s,o){return Hl===null&&Kl(s),SS(s,o)}function SS(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},gs===null){if(s===null)throw Error(r(308));gs=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else gs=gs.next=o;return c}var F8=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,m){s.push(m)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},q8=t.unstable_scheduleCallback,H8=t.unstable_NormalPriority,In={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function I0(){return{controller:new F8,data:new Map,refCount:0}}function cf(s){s.refCount--,s.refCount===0&&q8(H8,function(){s.controller.abort()})}var uf=null,R0=0,uu=0,du=null;function K8(s,o){if(uf===null){var c=uf=[];R0=0,uu=Dx(),du={status:"pending",value:void 0,then:function(m){c.push(m)}}}return R0++,o.then(TS,TS),o}function TS(){if(--R0===0&&uf!==null){du!==null&&(du.status="fulfilled");var s=uf;uf=null,uu=0,du=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function G8(s,o){var c=[],m={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return s.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),m}var CS=G.S;G.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&K8(s,o),CS!==null&&CS(s,o)};var Gl=le(null);function k0(){var s=Gl.current;return s!==null?s:It.pooledCache}function Wm(s,o){o===null?oe(Gl,Gl.current):oe(Gl,o.pool)}function NS(){var s=k0();return s===null?null:{parent:In._currentValue,pool:s}}var df=Error(r(460)),jS=Error(r(474)),Ym=Error(r(542)),D0={then:function(){}};function PS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Xm(){}function OS(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(Xm,Xm),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,RS(s),s;default:if(typeof o.status=="string")o.then(Xm,Xm);else{if(s=It,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,RS(s),s}throw ff=o,df}}var ff=null;function IS(){if(ff===null)throw Error(r(459));var s=ff;return ff=null,s}function RS(s){if(s===df||s===Ym)throw Error(r(483))}var bo=!1;function M0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function L0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function wo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function _o(s,o,c){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(gt&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=$m(s),xS(s,null,c),o}return zm(s,m,o,c),$m(s)}function hf(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=s.pendingLanes,c|=m,o.lanes=c,Sa(s,c)}}function V0(s,o){var c=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var v=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?v=w=O:w=w.next=O,c=c.next}while(c!==null);w===null?v=w=o:w=w.next=o}else v=w=o;c={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var U0=!1;function mf(){if(U0){var s=du;if(s!==null)throw s}}function pf(s,o,c,m){U0=!1;var v=s.updateQueue;bo=!1;var w=v.firstBaseUpdate,O=v.lastBaseUpdate,D=v.shared.pending;if(D!==null){v.shared.pending=null;var q=D,J=q.next;q.next=null,O===null?w=J:O.next=J,O=q;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,D=ce.lastBaseUpdate,D!==O&&(D===null?ce.firstBaseUpdate=J:D.next=J,ce.lastBaseUpdate=q))}if(w!==null){var me=v.baseState;O=0,ce=J=q=null,D=w;do{var te=D.lane&-536870913,ne=te!==D.lane;if(ne?(at&te)===te:(m&te)===te){te!==0&&te===uu&&(U0=!0),ce!==null&&(ce=ce.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var ze=s,Me=D;te=o;var At=c;switch(Me.tag){case 1:if(ze=Me.payload,typeof ze=="function"){me=ze.call(At,me,te);break e}me=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Me.payload,te=typeof ze=="function"?ze.call(At,me,te):ze,te==null)break e;me=p({},me,te);break e;case 2:bo=!0}}te=D.callback,te!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ce===null?(J=ce=ne,q=me):ce=ce.next=ne,O|=te;if(D=D.next,D===null){if(D=v.shared.pending,D===null)break;ne=D,D=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);ce===null&&(q=me),v.baseState=q,v.firstBaseUpdate=J,v.lastBaseUpdate=ce,w===null&&(v.shared.lanes=0),Po|=O,s.lanes=O,s.memoizedState=me}}function kS(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function DS(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)kS(c[s],o)}var fu=le(null),Qm=le(0);function MS(s,o){s=As,oe(Qm,s),oe(fu,o),As=s|o.baseLanes}function B0(){oe(Qm,As),oe(fu,fu.current)}function z0(){As=Qm.current,ue(fu),ue(Qm)}var Eo=0,Xe=null,_t=null,_n=null,Zm=!1,hu=!1,Wl=!1,Jm=0,gf=0,mu=null,W8=0;function dn(){throw Error(r(321))}function $0(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Yr(s[c],o[c]))return!1;return!0}function F0(s,o,c,m,v,w){return Eo=w,Xe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=s===null||s.memoizedState===null?xT:bT,Wl=!1,w=c(m,v),Wl=!1,hu&&(w=VS(o,c,m,v)),LS(s),w}function LS(s){G.H=ap;var o=_t!==null&&_t.next!==null;if(Eo=0,_n=_t=Xe=null,Zm=!1,gf=0,mu=null,o)throw Error(r(300));s===null||Fn||(s=s.dependencies,s!==null&&Km(s)&&(Fn=!0))}function VS(s,o,c,m){Xe=s;var v=0;do{if(hu&&(mu=null),gf=0,hu=!1,25<=v)throw Error(r(301));if(v+=1,_n=_t=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}G.H=t7,w=o(c,m)}while(hu);return w}function Y8(){var s=G.H,o=s.useState()[0];return o=typeof o.then=="function"?yf(o):o,s=s.useState()[0],(_t!==null?_t.memoizedState:null)!==s&&(Xe.flags|=1024),o}function q0(){var s=Jm!==0;return Jm=0,s}function H0(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function K0(s){if(Zm){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Zm=!1}Eo=0,_n=_t=Xe=null,hu=!1,gf=Jm=0,mu=null}function Dr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Xe.memoizedState=_n=s:_n=_n.next=s,_n}function En(){if(_t===null){var s=Xe.alternate;s=s!==null?s.memoizedState:null}else s=_t.next;var o=_n===null?Xe.memoizedState:_n.next;if(o!==null)_n=o,_t=s;else{if(s===null)throw Xe.alternate===null?Error(r(467)):Error(r(310));_t=s,s={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},_n===null?Xe.memoizedState=_n=s:_n=_n.next=s}return _n}function G0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yf(s){var o=gf;return gf+=1,mu===null&&(mu=[]),s=OS(mu,s,o),o=Xe,(_n===null?o.memoizedState:_n.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?xT:bT),s}function ep(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return yf(s);if(s.$$typeof===N)return dr(s)}throw Error(r(438,String(s)))}function W0(s){var o=null,c=Xe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=Xe.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=G0(),Xe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),m=0;m<s;m++)c[m]=$;return o.index++,c}function vs(s,o){return typeof o=="function"?o(s):o}function tp(s){var o=En();return Y0(o,_t,s)}function Y0(s,o,c){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var v=s.baseQueue,w=m.pending;if(w!==null){if(v!==null){var O=v.next;v.next=w.next,w.next=O}o.baseQueue=v=w,m.pending=null}if(w=s.baseState,v===null)s.memoizedState=w;else{o=v.next;var D=O=null,q=null,J=o,ce=!1;do{var me=J.lane&-536870913;if(me!==J.lane?(at&me)===me:(Eo&me)===me){var te=J.revertLane;if(te===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),me===uu&&(ce=!0);else if((Eo&te)===te){J=J.next,te===uu&&(ce=!0);continue}else me={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(D=q=me,O=w):q=q.next=me,Xe.lanes|=te,Po|=te;me=J.action,Wl&&c(w,me),w=J.hasEagerState?J.eagerState:c(w,me)}else te={lane:me,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(D=q=te,O=w):q=q.next=te,Xe.lanes|=me,Po|=me;J=J.next}while(J!==null&&J!==o);if(q===null?O=w:q.next=D,!Yr(w,s.memoizedState)&&(Fn=!0,ce&&(c=du,c!==null)))throw c;s.memoizedState=w,s.baseState=O,s.baseQueue=q,m.lastRenderedState=w}return v===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function X0(s){var o=En(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var m=c.dispatch,v=c.pending,w=o.memoizedState;if(v!==null){c.pending=null;var O=v=v.next;do w=s(w,O.action),O=O.next;while(O!==v);Yr(w,o.memoizedState)||(Fn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,m]}function US(s,o,c){var m=Xe,v=En(),w=ft;if(w){if(c===void 0)throw Error(r(407));c=c()}else c=o();var O=!Yr((_t||v).memoizedState,c);O&&(v.memoizedState=c,Fn=!0),v=v.queue;var D=$S.bind(null,m,v,s);if(vf(2048,8,D,[s]),v.getSnapshot!==o||O||_n!==null&&_n.memoizedState.tag&1){if(m.flags|=2048,pu(9,np(),zS.bind(null,m,v,c,o),null),It===null)throw Error(r(349));w||(Eo&124)!==0||BS(m,o,c)}return c}function BS(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Xe.updateQueue,o===null?(o=G0(),Xe.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function zS(s,o,c,m){o.value=c,o.getSnapshot=m,FS(o)&&qS(s)}function $S(s,o,c){return c(function(){FS(o)&&qS(s)})}function FS(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Yr(s,c)}catch{return!0}}function qS(s){var o=su(s,2);o!==null&&ti(o,s,2)}function Q0(s){var o=Dr();if(typeof s=="function"){var c=s;if(s=c(),Wl){Rr(!0);try{c()}finally{Rr(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:s},o}function HS(s,o,c,m){return s.baseState=c,Y0(s,_t,typeof m=="function"?m:vs)}function X8(s,o,c,m,v){if(ip(s))throw Error(r(485));if(s=o.action,s!==null){var w={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};G.T!==null?c(!0):w.isTransition=!1,m(w),c=o.pending,c===null?(w.next=o.pending=w,KS(o,w)):(w.next=c.next,o.pending=c.next=w)}}function KS(s,o){var c=o.action,m=o.payload,v=s.state;if(o.isTransition){var w=G.T,O={};G.T=O;try{var D=c(v,m),q=G.S;q!==null&&q(O,D),GS(s,o,D)}catch(J){Z0(s,o,J)}finally{G.T=w}}else try{w=c(v,m),GS(s,o,w)}catch(J){Z0(s,o,J)}}function GS(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){WS(s,o,m)},function(m){return Z0(s,o,m)}):WS(s,o,c)}function WS(s,o,c){o.status="fulfilled",o.value=c,YS(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,KS(s,c)))}function Z0(s,o,c){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,YS(o),o=o.next;while(o!==m)}s.action=null}function YS(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function XS(s,o){return o}function QS(s,o){if(ft){var c=It.formState;if(c!==null){e:{var m=Xe;if(ft){if(sn){t:{for(var v=sn,w=ja;v.nodeType!==8;){if(!w){v=null;break t}if(v=aa(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){sn=aa(v.nextSibling),m=v.data==="F!";break e}}ql(m)}m=!1}m&&(o=c[0])}}return c=Dr(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XS,lastRenderedState:o},c.queue=m,c=gT.bind(null,Xe,m),m.dispatch=c,m=Q0(!1),w=rx.bind(null,Xe,!1,m.queue),m=Dr(),v={state:o,dispatch:null,action:s,pending:null},m.queue=v,c=X8.bind(null,Xe,v,w,c),v.dispatch=c,m.memoizedState=s,[o,c,!1]}function ZS(s){var o=En();return JS(o,_t,s)}function JS(s,o,c){if(o=Y0(s,o,XS)[0],s=tp(vs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=yf(o)}catch(O){throw O===df?Ym:O}else m=o;o=En();var v=o.queue,w=v.dispatch;return c!==o.memoizedState&&(Xe.flags|=2048,pu(9,np(),Q8.bind(null,v,c),null)),[m,w,s]}function Q8(s,o){s.action=o}function eT(s){var o=En(),c=_t;if(c!==null)return JS(o,c,s);En(),o=o.memoizedState,c=En();var m=c.queue.dispatch;return c.memoizedState=s,[o,m,!1]}function pu(s,o,c,m){return s={tag:s,create:c,deps:m,inst:o,next:null},o=Xe.updateQueue,o===null&&(o=G0(),Xe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(m=c.next,c.next=s,s.next=m,o.lastEffect=s),s}function np(){return{destroy:void 0,resource:void 0}}function tT(){return En().memoizedState}function rp(s,o,c,m){var v=Dr();m=m===void 0?null:m,Xe.flags|=s,v.memoizedState=pu(1|o,np(),c,m)}function vf(s,o,c,m){var v=En();m=m===void 0?null:m;var w=v.memoizedState.inst;_t!==null&&m!==null&&$0(m,_t.memoizedState.deps)?v.memoizedState=pu(o,w,c,m):(Xe.flags|=s,v.memoizedState=pu(1|o,w,c,m))}function nT(s,o){rp(8390656,8,s,o)}function rT(s,o){vf(2048,8,s,o)}function iT(s,o){return vf(4,2,s,o)}function aT(s,o){return vf(4,4,s,o)}function sT(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function oT(s,o,c){c=c!=null?c.concat([s]):null,vf(4,4,sT.bind(null,o,s),c)}function J0(){}function lT(s,o){var c=En();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&$0(o,m[1])?m[0]:(c.memoizedState=[s,o],s)}function cT(s,o){var c=En();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&$0(o,m[1]))return m[0];if(m=s(),Wl){Rr(!0);try{s()}finally{Rr(!1)}}return c.memoizedState=[m,o],m}function ex(s,o,c){return c===void 0||(Eo&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=fC(),Xe.lanes|=s,Po|=s,c)}function uT(s,o,c,m){return Yr(c,o)?c:fu.current!==null?(s=ex(s,c,m),Yr(s,o)||(Fn=!0),s):(Eo&42)===0?(Fn=!0,s.memoizedState=c):(s=fC(),Xe.lanes|=s,Po|=s,o)}function dT(s,o,c,m,v){var w=W.p;W.p=w!==0&&8>w?w:8;var O=G.T,D={};G.T=D,rx(s,!1,o,c);try{var q=v(),J=G.S;if(J!==null&&J(D,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ce=G8(q,m);xf(s,o,ce,ei(s))}else xf(s,o,m,ei(s))}catch(me){xf(s,o,{then:function(){},status:"rejected",reason:me},ei())}finally{W.p=w,G.T=O}}function Z8(){}function tx(s,o,c,m){if(s.tag!==5)throw Error(r(476));var v=fT(s).queue;dT(s,v,o,ae,c===null?Z8:function(){return hT(s),c(m)})}function fT(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:ae},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function hT(s){var o=fT(s).next.queue;xf(s,o,{},ei())}function nx(){return dr(Lf)}function mT(){return En().memoizedState}function pT(){return En().memoizedState}function J8(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=ei();s=wo(c);var m=_o(o,s,c);m!==null&&(ti(m,o,c),hf(m,o,c)),o={cache:I0()},s.payload=o;return}o=o.return}}function e7(s,o,c){var m=ei();c={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},ip(s)?yT(o,c):(c=_0(s,o,c,m),c!==null&&(ti(c,s,m),vT(c,o,m)))}function gT(s,o,c){var m=ei();xf(s,o,c,m)}function xf(s,o,c,m){var v={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(ip(s))yT(o,v);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var O=o.lastRenderedState,D=w(O,c);if(v.hasEagerState=!0,v.eagerState=D,Yr(D,O))return zm(s,o,v,0),It===null&&Bm(),!1}catch{}finally{}if(c=_0(s,o,v,m),c!==null)return ti(c,s,m),vT(c,o,m),!0}return!1}function rx(s,o,c,m){if(m={lane:2,revertLane:Dx(),action:m,hasEagerState:!1,eagerState:null,next:null},ip(s)){if(o)throw Error(r(479))}else o=_0(s,c,m,2),o!==null&&ti(o,s,2)}function ip(s){var o=s.alternate;return s===Xe||o!==null&&o===Xe}function yT(s,o){hu=Zm=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function vT(s,o,c){if((c&4194048)!==0){var m=o.lanes;m&=s.pendingLanes,c|=m,o.lanes=c,Sa(s,c)}}var ap={readContext:dr,use:ep,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn},xT={readContext:dr,use:ep,useCallback:function(s,o){return Dr().memoizedState=[s,o===void 0?null:o],s},useContext:dr,useEffect:nT,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,rp(4194308,4,sT.bind(null,o,s),c)},useLayoutEffect:function(s,o){return rp(4194308,4,s,o)},useInsertionEffect:function(s,o){rp(4,2,s,o)},useMemo:function(s,o){var c=Dr();o=o===void 0?null:o;var m=s();if(Wl){Rr(!0);try{s()}finally{Rr(!1)}}return c.memoizedState=[m,o],m},useReducer:function(s,o,c){var m=Dr();if(c!==void 0){var v=c(o);if(Wl){Rr(!0);try{c(o)}finally{Rr(!1)}}}else v=o;return m.memoizedState=m.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},m.queue=s,s=s.dispatch=e7.bind(null,Xe,s),[m.memoizedState,s]},useRef:function(s){var o=Dr();return s={current:s},o.memoizedState=s},useState:function(s){s=Q0(s);var o=s.queue,c=gT.bind(null,Xe,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:J0,useDeferredValue:function(s,o){var c=Dr();return ex(c,s,o)},useTransition:function(){var s=Q0(!1);return s=dT.bind(null,Xe,s.queue,!0,!1),Dr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var m=Xe,v=Dr();if(ft){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),It===null)throw Error(r(349));(at&124)!==0||BS(m,o,c)}v.memoizedState=c;var w={value:c,getSnapshot:o};return v.queue=w,nT($S.bind(null,m,w,s),[s]),m.flags|=2048,pu(9,np(),zS.bind(null,m,w,c,o),null),c},useId:function(){var s=Dr(),o=It.identifierPrefix;if(ft){var c=ps,m=ms;c=(m&~(1<<32-Zn(m)-1)).toString(32)+c,o="«"+o+"R"+c,c=Jm++,0<c&&(o+="H"+c.toString(32)),o+="»"}else c=W8++,o="«"+o+"r"+c.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:nx,useFormState:QS,useActionState:QS,useOptimistic:function(s){var o=Dr();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=rx.bind(null,Xe,!0,c),c.dispatch=o,[s,o]},useMemoCache:W0,useCacheRefresh:function(){return Dr().memoizedState=J8.bind(null,Xe)}},bT={readContext:dr,use:ep,useCallback:lT,useContext:dr,useEffect:rT,useImperativeHandle:oT,useInsertionEffect:iT,useLayoutEffect:aT,useMemo:cT,useReducer:tp,useRef:tT,useState:function(){return tp(vs)},useDebugValue:J0,useDeferredValue:function(s,o){var c=En();return uT(c,_t.memoizedState,s,o)},useTransition:function(){var s=tp(vs)[0],o=En().memoizedState;return[typeof s=="boolean"?s:yf(s),o]},useSyncExternalStore:US,useId:mT,useHostTransitionStatus:nx,useFormState:ZS,useActionState:ZS,useOptimistic:function(s,o){var c=En();return HS(c,_t,s,o)},useMemoCache:W0,useCacheRefresh:pT},t7={readContext:dr,use:ep,useCallback:lT,useContext:dr,useEffect:rT,useImperativeHandle:oT,useInsertionEffect:iT,useLayoutEffect:aT,useMemo:cT,useReducer:X0,useRef:tT,useState:function(){return X0(vs)},useDebugValue:J0,useDeferredValue:function(s,o){var c=En();return _t===null?ex(c,s,o):uT(c,_t.memoizedState,s,o)},useTransition:function(){var s=X0(vs)[0],o=En().memoizedState;return[typeof s=="boolean"?s:yf(s),o]},useSyncExternalStore:US,useId:mT,useHostTransitionStatus:nx,useFormState:eT,useActionState:eT,useOptimistic:function(s,o){var c=En();return _t!==null?HS(c,_t,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:W0,useCacheRefresh:pT},gu=null,bf=0;function sp(s){var o=bf;return bf+=1,gu===null&&(gu=[]),OS(gu,s,o)}function wf(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function op(s,o){throw o.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function wT(s){var o=s._init;return o(s._payload)}function _T(s){function o(X,K){if(s){var Q=X.deletions;Q===null?(X.deletions=[K],X.flags|=16):Q.push(K)}}function c(X,K){if(!s)return null;for(;K!==null;)o(X,K),K=K.sibling;return null}function m(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function v(X,K){return X=hs(X,K),X.index=0,X.sibling=null,X}function w(X,K,Q){return X.index=Q,s?(Q=X.alternate,Q!==null?(Q=Q.index,Q<K?(X.flags|=67108866,K):Q):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function O(X){return s&&X.alternate===null&&(X.flags|=67108866),X}function D(X,K,Q,de){return K===null||K.tag!==6?(K=A0(Q,X.mode,de),K.return=X,K):(K=v(K,Q),K.return=X,K)}function q(X,K,Q,de){var Ce=Q.type;return Ce===A?ce(X,K,Q.props.children,de,Q.key):K!==null&&(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===I&&wT(Ce)===K.type)?(K=v(K,Q.props),wf(K,Q),K.return=X,K):(K=Fm(Q.type,Q.key,Q.props,null,X.mode,de),wf(K,Q),K.return=X,K)}function J(X,K,Q,de){return K===null||K.tag!==4||K.stateNode.containerInfo!==Q.containerInfo||K.stateNode.implementation!==Q.implementation?(K=S0(Q,X.mode,de),K.return=X,K):(K=v(K,Q.children||[]),K.return=X,K)}function ce(X,K,Q,de,Ce){return K===null||K.tag!==7?(K=Bl(Q,X.mode,de,Ce),K.return=X,K):(K=v(K,Q),K.return=X,K)}function me(X,K,Q){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=A0(""+K,X.mode,Q),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return Q=Fm(K.type,K.key,K.props,null,X.mode,Q),wf(Q,K),Q.return=X,Q;case b:return K=S0(K,X.mode,Q),K.return=X,K;case I:var de=K._init;return K=de(K._payload),me(X,K,Q)}if(ie(K)||F(K))return K=Bl(K,X.mode,Q,null),K.return=X,K;if(typeof K.then=="function")return me(X,sp(K),Q);if(K.$$typeof===N)return me(X,Gm(X,K),Q);op(X,K)}return null}function te(X,K,Q,de){var Ce=K!==null?K.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ce!==null?null:D(X,K,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return Q.key===Ce?q(X,K,Q,de):null;case b:return Q.key===Ce?J(X,K,Q,de):null;case I:return Ce=Q._init,Q=Ce(Q._payload),te(X,K,Q,de)}if(ie(Q)||F(Q))return Ce!==null?null:ce(X,K,Q,de,null);if(typeof Q.then=="function")return te(X,K,sp(Q),de);if(Q.$$typeof===N)return te(X,K,Gm(X,Q),de);op(X,Q)}return null}function ne(X,K,Q,de,Ce){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return X=X.get(Q)||null,D(K,X,""+de,Ce);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case x:return X=X.get(de.key===null?Q:de.key)||null,q(K,X,de,Ce);case b:return X=X.get(de.key===null?Q:de.key)||null,J(K,X,de,Ce);case I:var Qe=de._init;return de=Qe(de._payload),ne(X,K,Q,de,Ce)}if(ie(de)||F(de))return X=X.get(Q)||null,ce(K,X,de,Ce,null);if(typeof de.then=="function")return ne(X,K,Q,sp(de),Ce);if(de.$$typeof===N)return ne(X,K,Q,Gm(K,de),Ce);op(K,de)}return null}function ze(X,K,Q,de){for(var Ce=null,Qe=null,Oe=K,Ve=K=0,Hn=null;Oe!==null&&Ve<Q.length;Ve++){Oe.index>Ve?(Hn=Oe,Oe=null):Hn=Oe.sibling;var ct=te(X,Oe,Q[Ve],de);if(ct===null){Oe===null&&(Oe=Hn);break}s&&Oe&&ct.alternate===null&&o(X,Oe),K=w(ct,K,Ve),Qe===null?Ce=ct:Qe.sibling=ct,Qe=ct,Oe=Hn}if(Ve===Q.length)return c(X,Oe),ft&&$l(X,Ve),Ce;if(Oe===null){for(;Ve<Q.length;Ve++)Oe=me(X,Q[Ve],de),Oe!==null&&(K=w(Oe,K,Ve),Qe===null?Ce=Oe:Qe.sibling=Oe,Qe=Oe);return ft&&$l(X,Ve),Ce}for(Oe=m(Oe);Ve<Q.length;Ve++)Hn=ne(Oe,X,Ve,Q[Ve],de),Hn!==null&&(s&&Hn.alternate!==null&&Oe.delete(Hn.key===null?Ve:Hn.key),K=w(Hn,K,Ve),Qe===null?Ce=Hn:Qe.sibling=Hn,Qe=Hn);return s&&Oe.forEach(function(Uo){return o(X,Uo)}),ft&&$l(X,Ve),Ce}function Me(X,K,Q,de){if(Q==null)throw Error(r(151));for(var Ce=null,Qe=null,Oe=K,Ve=K=0,Hn=null,ct=Q.next();Oe!==null&&!ct.done;Ve++,ct=Q.next()){Oe.index>Ve?(Hn=Oe,Oe=null):Hn=Oe.sibling;var Uo=te(X,Oe,ct.value,de);if(Uo===null){Oe===null&&(Oe=Hn);break}s&&Oe&&Uo.alternate===null&&o(X,Oe),K=w(Uo,K,Ve),Qe===null?Ce=Uo:Qe.sibling=Uo,Qe=Uo,Oe=Hn}if(ct.done)return c(X,Oe),ft&&$l(X,Ve),Ce;if(Oe===null){for(;!ct.done;Ve++,ct=Q.next())ct=me(X,ct.value,de),ct!==null&&(K=w(ct,K,Ve),Qe===null?Ce=ct:Qe.sibling=ct,Qe=ct);return ft&&$l(X,Ve),Ce}for(Oe=m(Oe);!ct.done;Ve++,ct=Q.next())ct=ne(Oe,X,Ve,ct.value,de),ct!==null&&(s&&ct.alternate!==null&&Oe.delete(ct.key===null?Ve:ct.key),K=w(ct,K,Ve),Qe===null?Ce=ct:Qe.sibling=ct,Qe=ct);return s&&Oe.forEach(function(nV){return o(X,nV)}),ft&&$l(X,Ve),Ce}function At(X,K,Q,de){if(typeof Q=="object"&&Q!==null&&Q.type===A&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:e:{for(var Ce=Q.key;K!==null;){if(K.key===Ce){if(Ce=Q.type,Ce===A){if(K.tag===7){c(X,K.sibling),de=v(K,Q.props.children),de.return=X,X=de;break e}}else if(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===I&&wT(Ce)===K.type){c(X,K.sibling),de=v(K,Q.props),wf(de,Q),de.return=X,X=de;break e}c(X,K);break}else o(X,K);K=K.sibling}Q.type===A?(de=Bl(Q.props.children,X.mode,de,Q.key),de.return=X,X=de):(de=Fm(Q.type,Q.key,Q.props,null,X.mode,de),wf(de,Q),de.return=X,X=de)}return O(X);case b:e:{for(Ce=Q.key;K!==null;){if(K.key===Ce)if(K.tag===4&&K.stateNode.containerInfo===Q.containerInfo&&K.stateNode.implementation===Q.implementation){c(X,K.sibling),de=v(K,Q.children||[]),de.return=X,X=de;break e}else{c(X,K);break}else o(X,K);K=K.sibling}de=S0(Q,X.mode,de),de.return=X,X=de}return O(X);case I:return Ce=Q._init,Q=Ce(Q._payload),At(X,K,Q,de)}if(ie(Q))return ze(X,K,Q,de);if(F(Q)){if(Ce=F(Q),typeof Ce!="function")throw Error(r(150));return Q=Ce.call(Q),Me(X,K,Q,de)}if(typeof Q.then=="function")return At(X,K,sp(Q),de);if(Q.$$typeof===N)return At(X,K,Gm(X,Q),de);op(X,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,K!==null&&K.tag===6?(c(X,K.sibling),de=v(K,Q),de.return=X,X=de):(c(X,K),de=A0(Q,X.mode,de),de.return=X,X=de),O(X)):c(X,K)}return function(X,K,Q,de){try{bf=0;var Ce=At(X,K,Q,de);return gu=null,Ce}catch(Oe){if(Oe===df||Oe===Ym)throw Oe;var Qe=Xr(29,Oe,null,X.mode);return Qe.lanes=de,Qe.return=X,Qe}finally{}}}var yu=_T(!0),ET=_T(!1),Ni=le(null),Pa=null;function Ao(s){var o=s.alternate;oe(Rn,Rn.current&1),oe(Ni,s),Pa===null&&(o===null||fu.current!==null||o.memoizedState!==null)&&(Pa=s)}function AT(s){if(s.tag===22){if(oe(Rn,Rn.current),oe(Ni,s),Pa===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Pa=s)}}else So()}function So(){oe(Rn,Rn.current),oe(Ni,Ni.current)}function xs(s){ue(Ni),Pa===s&&(Pa=null),ue(Rn)}var Rn=le(0);function lp(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Gx(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function ix(s,o,c,m){o=s.memoizedState,c=c(m,o),c=c==null?o:p({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var ax={enqueueSetState:function(s,o,c){s=s._reactInternals;var m=ei(),v=wo(m);v.payload=o,c!=null&&(v.callback=c),o=_o(s,v,m),o!==null&&(ti(o,s,m),hf(o,s,m))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var m=ei(),v=wo(m);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=_o(s,v,m),o!==null&&(ti(o,s,m),hf(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=ei(),m=wo(c);m.tag=2,o!=null&&(m.callback=o),o=_o(s,m,c),o!==null&&(ti(o,s,c),hf(o,s,c))}};function ST(s,o,c,m,v,w,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,w,O):o.prototype&&o.prototype.isPureReactComponent?!nf(c,m)||!nf(v,w):!0}function TT(s,o,c,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==s&&ax.enqueueReplaceState(o,o.state,null)}function Yl(s,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(s=s.defaultProps){c===o&&(c=p({},c));for(var v in s)c[v]===void 0&&(c[v]=s[v])}return c}var cp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function CT(s){cp(s)}function NT(s){console.error(s)}function jT(s){cp(s)}function up(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function PT(s,o,c){try{var m=s.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function sx(s,o,c){return c=wo(c),c.tag=3,c.payload={element:null},c.callback=function(){up(s,o)},c}function OT(s){return s=wo(s),s.tag=3,s}function IT(s,o,c,m){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var w=m.value;s.payload=function(){return v(w)},s.callback=function(){PT(o,c,m)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(s.callback=function(){PT(o,c,m),typeof v!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var D=m.stack;this.componentDidCatch(m.value,{componentStack:D!==null?D:""})})}function n7(s,o,c,m,v){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&lf(o,c,v,!0),c=Ni.current,c!==null){switch(c.tag){case 13:return Pa===null?Px():c.alternate===null&&on===0&&(on=3),c.flags&=-257,c.flags|=65536,c.lanes=v,m===D0?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),Ix(s,m,v)),!1;case 22:return c.flags|=65536,m===D0?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),Ix(s,m,v)),!1}throw Error(r(435,c.tag))}return Ix(s,m,v),Px(),!1}if(ft)return o=Ni.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==N0&&(s=Error(r(422),{cause:m}),of(Ai(s,c)))):(m!==N0&&(o=Error(r(423),{cause:m}),of(Ai(o,c))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,m=Ai(m,c),v=sx(s.stateNode,m,v),V0(s,v),on!==4&&(on=2)),!1;var w=Error(r(520),{cause:m});if(w=Ai(w,c),Nf===null?Nf=[w]:Nf.push(w),on!==4&&(on=2),o===null)return!0;m=Ai(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=v&-v,c.lanes|=s,s=sx(c.stateNode,m,s),V0(c,s),!1;case 1:if(o=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Oo===null||!Oo.has(w))))return c.flags|=65536,v&=-v,c.lanes|=v,v=OT(v),IT(v,s,c,m),V0(c,v),!1}c=c.return}while(c!==null);return!1}var RT=Error(r(461)),Fn=!1;function Jn(s,o,c,m){o.child=s===null?ET(o,null,c,m):yu(o,s.child,c,m)}function kT(s,o,c,m,v){c=c.render;var w=o.ref;if("ref"in m){var O={};for(var D in m)D!=="ref"&&(O[D]=m[D])}else O=m;return Kl(o),m=F0(s,o,c,O,w,v),D=q0(),s!==null&&!Fn?(H0(s,o,v),bs(s,o,v)):(ft&&D&&T0(o),o.flags|=1,Jn(s,o,m,v),o.child)}function DT(s,o,c,m,v){if(s===null){var w=c.type;return typeof w=="function"&&!E0(w)&&w.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=w,MT(s,o,w,m,v)):(s=Fm(c.type,null,m,o,o.mode,v),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!mx(s,v)){var O=w.memoizedProps;if(c=c.compare,c=c!==null?c:nf,c(O,m)&&s.ref===o.ref)return bs(s,o,v)}return o.flags|=1,s=hs(w,m),s.ref=o.ref,s.return=o,o.child=s}function MT(s,o,c,m,v){if(s!==null){var w=s.memoizedProps;if(nf(w,m)&&s.ref===o.ref)if(Fn=!1,o.pendingProps=m=w,mx(s,v))(s.flags&131072)!==0&&(Fn=!0);else return o.lanes=s.lanes,bs(s,o,v)}return ox(s,o,c,m,v)}function LT(s,o,c){var m=o.pendingProps,v=m.children,w=s!==null?s.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=w!==null?w.baseLanes|c:c,s!==null){for(v=o.child=s.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;o.childLanes=w&~m}else o.childLanes=0,o.child=null;return VT(s,o,m,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Wm(o,w!==null?w.cachePool:null),w!==null?MS(o,w):B0(),AT(o);else return o.lanes=o.childLanes=536870912,VT(s,o,w!==null?w.baseLanes|c:c,c)}else w!==null?(Wm(o,w.cachePool),MS(o,w),So(),o.memoizedState=null):(s!==null&&Wm(o,null),B0(),So());return Jn(s,o,v,c),o.child}function VT(s,o,c,m){var v=k0();return v=v===null?null:{parent:In._currentValue,pool:v},o.memoizedState={baseLanes:c,cachePool:v},s!==null&&Wm(o,null),B0(),AT(o),s!==null&&lf(s,o,m,!0),null}function dp(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function ox(s,o,c,m,v){return Kl(o),c=F0(s,o,c,m,void 0,v),m=q0(),s!==null&&!Fn?(H0(s,o,v),bs(s,o,v)):(ft&&m&&T0(o),o.flags|=1,Jn(s,o,c,v),o.child)}function UT(s,o,c,m,v,w){return Kl(o),o.updateQueue=null,c=VS(o,m,c,v),LS(s),m=q0(),s!==null&&!Fn?(H0(s,o,w),bs(s,o,w)):(ft&&m&&T0(o),o.flags|=1,Jn(s,o,c,w),o.child)}function BT(s,o,c,m,v){if(Kl(o),o.stateNode===null){var w=ou,O=c.contextType;typeof O=="object"&&O!==null&&(w=dr(O)),w=new c(m,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=ax,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=m,w.state=o.memoizedState,w.refs={},M0(o),O=c.contextType,w.context=typeof O=="object"&&O!==null?dr(O):ou,w.state=o.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(ix(o,c,O,m),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&ax.enqueueReplaceState(w,w.state,null),pf(o,m,w,v),mf(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(s===null){w=o.stateNode;var D=o.memoizedProps,q=Yl(c,D);w.props=q;var J=w.context,ce=c.contextType;O=ou,typeof ce=="object"&&ce!==null&&(O=dr(ce));var me=c.getDerivedStateFromProps;ce=typeof me=="function"||typeof w.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,ce||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D||J!==O)&&TT(o,w,m,O),bo=!1;var te=o.memoizedState;w.state=te,pf(o,m,w,v),mf(),J=o.memoizedState,D||te!==J||bo?(typeof me=="function"&&(ix(o,c,me,m),J=o.memoizedState),(q=bo||ST(o,c,q,m,te,J,O))?(ce||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=J),w.props=m,w.state=J,w.context=O,m=q):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{w=o.stateNode,L0(s,o),O=o.memoizedProps,ce=Yl(c,O),w.props=ce,me=o.pendingProps,te=w.context,J=c.contextType,q=ou,typeof J=="object"&&J!==null&&(q=dr(J)),D=c.getDerivedStateFromProps,(J=typeof D=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==me||te!==q)&&TT(o,w,m,q),bo=!1,te=o.memoizedState,w.state=te,pf(o,m,w,v),mf();var ne=o.memoizedState;O!==me||te!==ne||bo||s!==null&&s.dependencies!==null&&Km(s.dependencies)?(typeof D=="function"&&(ix(o,c,D,m),ne=o.memoizedState),(ce=bo||ST(o,c,ce,m,te,ne,q)||s!==null&&s.dependencies!==null&&Km(s.dependencies))?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,ne,q),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,ne,q)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ne),w.props=m,w.state=ne,w.context=q,m=ce):(typeof w.componentDidUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),m=!1)}return w=m,dp(s,o),m=(o.flags&128)!==0,w||m?(w=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,s!==null&&m?(o.child=yu(o,s.child,null,v),o.child=yu(o,null,c,v)):Jn(s,o,c,v),o.memoizedState=w.state,s=o.child):s=bs(s,o,v),s}function zT(s,o,c,m){return sf(),o.flags|=256,Jn(s,o,c,m),o.child}var lx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cx(s){return{baseLanes:s,cachePool:NS()}}function ux(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=ji),s}function $T(s,o,c){var m=o.pendingProps,v=!1,w=(o.flags&128)!==0,O;if((O=w)||(O=s!==null&&s.memoizedState===null?!1:(Rn.current&2)!==0),O&&(v=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,s===null){if(ft){if(v?Ao(o):So(),ft){var D=sn,q;if(q=D){e:{for(q=D,D=ja;q.nodeType!==8;){if(!D){D=null;break e}if(q=aa(q.nextSibling),q===null){D=null;break e}}D=q}D!==null?(o.memoizedState={dehydrated:D,treeContext:zl!==null?{id:ms,overflow:ps}:null,retryLane:536870912,hydrationErrors:null},q=Xr(18,null,null,0),q.stateNode=D,q.return=o,o.child=q,Nr=o,sn=null,q=!0):q=!1}q||ql(o)}if(D=o.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Gx(D)?o.lanes=32:o.lanes=536870912,null;xs(o)}return D=m.children,m=m.fallback,v?(So(),v=o.mode,D=fp({mode:"hidden",children:D},v),m=Bl(m,v,c,null),D.return=o,m.return=o,D.sibling=m,o.child=D,v=o.child,v.memoizedState=cx(c),v.childLanes=ux(s,O,c),o.memoizedState=lx,m):(Ao(o),dx(o,D))}if(q=s.memoizedState,q!==null&&(D=q.dehydrated,D!==null)){if(w)o.flags&256?(Ao(o),o.flags&=-257,o=fx(s,o,c)):o.memoizedState!==null?(So(),o.child=s.child,o.flags|=128,o=null):(So(),v=m.fallback,D=o.mode,m=fp({mode:"visible",children:m.children},D),v=Bl(v,D,c,null),v.flags|=2,m.return=o,v.return=o,m.sibling=v,o.child=m,yu(o,s.child,null,c),m=o.child,m.memoizedState=cx(c),m.childLanes=ux(s,O,c),o.memoizedState=lx,o=v);else if(Ao(o),Gx(D)){if(O=D.nextSibling&&D.nextSibling.dataset,O)var J=O.dgst;O=J,m=Error(r(419)),m.stack="",m.digest=O,of({value:m,source:null,stack:null}),o=fx(s,o,c)}else if(Fn||lf(s,o,c,!1),O=(c&s.childLanes)!==0,Fn||O){if(O=It,O!==null&&(m=c&-c,m=(m&42)!==0?1:co(m),m=(m&(O.suspendedLanes|c))!==0?0:m,m!==0&&m!==q.retryLane))throw q.retryLane=m,su(s,m),ti(O,s,m),RT;D.data==="$?"||Px(),o=fx(s,o,c)}else D.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=q.treeContext,sn=aa(D.nextSibling),Nr=o,ft=!0,Fl=null,ja=!1,s!==null&&(Ti[Ci++]=ms,Ti[Ci++]=ps,Ti[Ci++]=zl,ms=s.id,ps=s.overflow,zl=o),o=dx(o,m.children),o.flags|=4096);return o}return v?(So(),v=m.fallback,D=o.mode,q=s.child,J=q.sibling,m=hs(q,{mode:"hidden",children:m.children}),m.subtreeFlags=q.subtreeFlags&65011712,J!==null?v=hs(J,v):(v=Bl(v,D,c,null),v.flags|=2),v.return=o,m.return=o,m.sibling=v,o.child=m,m=v,v=o.child,D=s.child.memoizedState,D===null?D=cx(c):(q=D.cachePool,q!==null?(J=In._currentValue,q=q.parent!==J?{parent:J,pool:J}:q):q=NS(),D={baseLanes:D.baseLanes|c,cachePool:q}),v.memoizedState=D,v.childLanes=ux(s,O,c),o.memoizedState=lx,m):(Ao(o),c=s.child,s=c.sibling,c=hs(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,s!==null&&(O=o.deletions,O===null?(o.deletions=[s],o.flags|=16):O.push(s)),o.child=c,o.memoizedState=null,c)}function dx(s,o){return o=fp({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function fp(s,o){return s=Xr(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function fx(s,o,c){return yu(o,s.child,null,c),s=dx(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function FT(s,o,c){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),P0(s.return,o,c)}function hx(s,o,c,m,v){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:v}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=c,w.tailMode=v)}function qT(s,o,c){var m=o.pendingProps,v=m.revealOrder,w=m.tail;if(Jn(s,o,m.children,c),m=Rn.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&FT(s,c,o);else if(s.tag===19)FT(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}switch(oe(Rn,m),v){case"forwards":for(c=o.child,v=null;c!==null;)s=c.alternate,s!==null&&lp(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),hx(o,!1,v,c,w);break;case"backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(s=v.alternate,s!==null&&lp(s)===null){o.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}hx(o,!0,c,null,w);break;case"together":hx(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function bs(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Po|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(lf(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,c=hs(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=hs(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function mx(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Km(s)))}function r7(s,o,c){switch(o.tag){case 3:lt(o,o.stateNode.containerInfo),xo(o,In,s.memoizedState.cache),sf();break;case 27:case 5:$e(o);break;case 4:lt(o,o.stateNode.containerInfo);break;case 10:xo(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Ao(o),o.flags|=128,null):(c&o.child.childLanes)!==0?$T(s,o,c):(Ao(o),s=bs(s,o,c),s!==null?s.sibling:null);Ao(o);break;case 19:var v=(s.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(lf(s,o,c,!1),m=(c&o.childLanes)!==0),v){if(m)return qT(s,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),oe(Rn,Rn.current),m)break;return null;case 22:case 23:return o.lanes=0,LT(s,o,c);case 24:xo(o,In,s.memoizedState.cache)}return bs(s,o,c)}function HT(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)Fn=!0;else{if(!mx(s,c)&&(o.flags&128)===0)return Fn=!1,r7(s,o,c);Fn=(s.flags&131072)!==0}else Fn=!1,ft&&(o.flags&1048576)!==0&&wS(o,Hm,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var m=o.elementType,v=m._init;if(m=v(m._payload),o.type=m,typeof m=="function")E0(m)?(s=Yl(m,s),o.tag=1,o=BT(null,o,m,s,c)):(o.tag=0,o=ox(null,o,m,s,c));else{if(m!=null){if(v=m.$$typeof,v===L){o.tag=11,o=kT(null,o,m,s,c);break e}else if(v===R){o.tag=14,o=DT(null,o,m,s,c);break e}}throw o=ve(m)||m,Error(r(306,o,""))}}return o;case 0:return ox(s,o,o.type,o.pendingProps,c);case 1:return m=o.type,v=Yl(m,o.pendingProps),BT(s,o,m,v,c);case 3:e:{if(lt(o,o.stateNode.containerInfo),s===null)throw Error(r(387));m=o.pendingProps;var w=o.memoizedState;v=w.element,L0(s,o),pf(o,m,null,c);var O=o.memoizedState;if(m=O.cache,xo(o,In,m),m!==w.cache&&O0(o,[In],c,!0),mf(),m=O.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=zT(s,o,m,c);break e}else if(m!==v){v=Ai(Error(r(424)),o),of(v),o=zT(s,o,m,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(sn=aa(s.firstChild),Nr=o,ft=!0,Fl=null,ja=!0,c=ET(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(sf(),m===v){o=bs(s,o,c);break e}Jn(s,o,m,c)}o=o.child}return o;case 26:return dp(s,o),s===null?(c=YC(o.type,null,o.pendingProps,null))?o.memoizedState=c:ft||(c=o.type,s=o.pendingProps,m=Tp(we.current).createElement(c),m[Zt]=o,m[Pn]=s,tr(m,c,s),en(m),o.stateNode=m):o.memoizedState=YC(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return $e(o),s===null&&ft&&(m=o.stateNode=KC(o.type,o.pendingProps,we.current),Nr=o,ja=!0,v=sn,ko(o.type)?(Wx=v,sn=aa(m.firstChild)):sn=v),Jn(s,o,o.pendingProps.children,c),dp(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&ft&&((v=m=sn)&&(m=O7(m,o.type,o.pendingProps,ja),m!==null?(o.stateNode=m,Nr=o,sn=aa(m.firstChild),ja=!1,v=!0):v=!1),v||ql(o)),$e(o),v=o.type,w=o.pendingProps,O=s!==null?s.memoizedProps:null,m=w.children,qx(v,w)?m=null:O!==null&&qx(v,O)&&(o.flags|=32),o.memoizedState!==null&&(v=F0(s,o,Y8,null,null,c),Lf._currentValue=v),dp(s,o),Jn(s,o,m,c),o.child;case 6:return s===null&&ft&&((s=c=sn)&&(c=I7(c,o.pendingProps,ja),c!==null?(o.stateNode=c,Nr=o,sn=null,s=!0):s=!1),s||ql(o)),null;case 13:return $T(s,o,c);case 4:return lt(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=yu(o,null,m,c):Jn(s,o,m,c),o.child;case 11:return kT(s,o,o.type,o.pendingProps,c);case 7:return Jn(s,o,o.pendingProps,c),o.child;case 8:return Jn(s,o,o.pendingProps.children,c),o.child;case 12:return Jn(s,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,xo(o,o.type,m.value),Jn(s,o,m.children,c),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,Kl(o),v=dr(v),m=m(v),o.flags|=1,Jn(s,o,m,c),o.child;case 14:return DT(s,o,o.type,o.pendingProps,c);case 15:return MT(s,o,o.type,o.pendingProps,c);case 19:return qT(s,o,c);case 31:return m=o.pendingProps,c=o.mode,m={mode:m.mode,children:m.children},s===null?(c=fp(m,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=hs(s.child,m),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return LT(s,o,c);case 24:return Kl(o),m=dr(In),s===null?(v=k0(),v===null&&(v=It,w=I0(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=c),v=w),o.memoizedState={parent:m,cache:v},M0(o),xo(o,In,v)):((s.lanes&c)!==0&&(L0(s,o),pf(o,null,null,c),mf()),v=s.memoizedState,w=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),xo(o,In,m)):(m=w.cache,xo(o,In,m),m!==v.cache&&O0(o,[In],c,!0))),Jn(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ws(s){s.flags|=4}function KT(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!eN(o)){if(o=Ni.current,o!==null&&((at&4194048)===at?Pa!==null:(at&62914560)!==at&&(at&536870912)===0||o!==Pa))throw ff=D0,jS;s.flags|=8192}}function hp(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Ea():536870912,s.lanes|=o,wu|=o)}function _f(s,o){if(!ft)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function nn(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,m=0;if(o)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=m,s.childLanes=c,o}function i7(s,o,c){var m=o.pendingProps;switch(C0(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(o),null;case 1:return nn(o),null;case 3:return c=o.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),ys(In),Ee(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(af(o)?ws(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,AS())),nn(o),null;case 26:return c=o.memoizedState,s===null?(ws(o),c!==null?(nn(o),KT(o,c)):(nn(o),o.flags&=-16777217)):c?c!==s.memoizedState?(ws(o),nn(o),KT(o,c)):(nn(o),o.flags&=-16777217):(s.memoizedProps!==m&&ws(o),nn(o),o.flags&=-16777217),null;case 27:Ke(o),c=we.current;var v=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==m&&ws(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return nn(o),null}s=he.current,af(o)?_S(o):(s=KC(v,m,c),o.stateNode=s,ws(o))}return nn(o),null;case 5:if(Ke(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==m&&ws(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return nn(o),null}if(s=he.current,af(o))_S(o);else{switch(v=Tp(we.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof m.is=="string"?v.createElement("select",{is:m.is}):v.createElement("select"),m.multiple?s.multiple=!0:m.size&&(s.size=m.size);break;default:s=typeof m.is=="string"?v.createElement(c,{is:m.is}):v.createElement(c)}}s[Zt]=o,s[Pn]=m;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=s;e:switch(tr(s,c,m),c){case"button":case"input":case"select":case"textarea":s=!!m.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ws(o)}}return nn(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==m&&ws(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(s=we.current,af(o)){if(s=o.stateNode,c=o.memoizedProps,m=null,v=Nr,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}s[Zt]=o,s=!!(s.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||UC(s.nodeValue,c)),s||ql(o)}else s=Tp(s).createTextNode(m),s[Zt]=o,o.stateNode=s}return nn(o),null;case 13:if(m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=af(o),m!==null&&m.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Zt]=o}else sf(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;nn(o),v=!1}else v=AS(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(xs(o),o):(xs(o),null)}if(xs(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=m!==null,s=s!==null&&s.memoizedState!==null,c){m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool);var w=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==v&&(m.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),hp(o,o.updateQueue),nn(o),null;case 4:return Ee(),s===null&&Ux(o.stateNode.containerInfo),nn(o),null;case 10:return ys(o.type),nn(o),null;case 19:if(ue(Rn),v=o.memoizedState,v===null)return nn(o),null;if(m=(o.flags&128)!==0,w=v.rendering,w===null)if(m)_f(v,!1);else{if(on!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(w=lp(s),w!==null){for(o.flags|=128,_f(v,!1),s=w.updateQueue,o.updateQueue=s,hp(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)bS(c,s),c=c.sibling;return oe(Rn,Rn.current&1|2),o.child}s=s.sibling}v.tail!==null&&Lt()>gp&&(o.flags|=128,m=!0,_f(v,!1),o.lanes=4194304)}else{if(!m)if(s=lp(w),s!==null){if(o.flags|=128,m=!0,s=s.updateQueue,o.updateQueue=s,hp(o,s),_f(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!ft)return nn(o),null}else 2*Lt()-v.renderingStartTime>gp&&c!==536870912&&(o.flags|=128,m=!0,_f(v,!1),o.lanes=4194304);v.isBackwards?(w.sibling=o.child,o.child=w):(s=v.last,s!==null?s.sibling=w:o.child=w,v.last=w)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Lt(),o.sibling=null,s=Rn.current,oe(Rn,m?s&1|2:s&1),o):(nn(o),null);case 22:case 23:return xs(o),z0(),m=o.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(nn(o),o.subtreeFlags&6&&(o.flags|=8192)):nn(o),c=o.updateQueue,c!==null&&hp(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),s!==null&&ue(Gl),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ys(In),nn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function a7(s,o){switch(C0(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ys(In),Ee(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Ke(o),null;case 13:if(xs(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));sf()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ue(Rn),null;case 4:return Ee(),null;case 10:return ys(o.type),null;case 22:case 23:return xs(o),z0(),s!==null&&ue(Gl),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return ys(In),null;case 25:return null;default:return null}}function GT(s,o){switch(C0(o),o.tag){case 3:ys(In),Ee();break;case 26:case 27:case 5:Ke(o);break;case 4:Ee();break;case 13:xs(o);break;case 19:ue(Rn);break;case 10:ys(o.type);break;case 22:case 23:xs(o),z0(),s!==null&&ue(Gl);break;case 24:ys(In)}}function Ef(s,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&s)===s){m=void 0;var w=c.create,O=c.inst;m=w(),O.destroy=m}c=c.next}while(c!==v)}}catch(D){Nt(o,o.return,D)}}function To(s,o,c){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var w=v.next;m=w;do{if((m.tag&s)===s){var O=m.inst,D=O.destroy;if(D!==void 0){O.destroy=void 0,v=o;var q=c,J=D;try{J()}catch(ce){Nt(v,q,ce)}}}m=m.next}while(m!==w)}}catch(ce){Nt(o,o.return,ce)}}function WT(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{DS(o,c)}catch(m){Nt(s,s.return,m)}}}function YT(s,o,c){c.props=Yl(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(m){Nt(s,o,m)}}function Af(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof c=="function"?s.refCleanup=c(m):c.current=m}}catch(v){Nt(s,o,v)}}function Oa(s,o){var c=s.ref,m=s.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(v){Nt(s,o,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Nt(s,o,v)}else c.current=null}function XT(s){var o=s.type,c=s.memoizedProps,m=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(v){Nt(s,s.return,v)}}function px(s,o,c){try{var m=s.stateNode;T7(m,s.type,c,o),m[Pn]=o}catch(v){Nt(s,s.return,v)}}function QT(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ko(s.type)||s.tag===4}function gx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||QT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ko(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function yx(s,o,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Sp));else if(m!==4&&(m===27&&ko(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(yx(s,o,c),s=s.sibling;s!==null;)yx(s,o,c),s=s.sibling}function mp(s,o,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(m!==4&&(m===27&&ko(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(mp(s,o,c),s=s.sibling;s!==null;)mp(s,o,c),s=s.sibling}function ZT(s){var o=s.stateNode,c=s.memoizedProps;try{for(var m=s.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);tr(o,m,c),o[Zt]=s,o[Pn]=c}catch(w){Nt(s,s.return,w)}}var _s=!1,fn=!1,vx=!1,JT=typeof WeakSet=="function"?WeakSet:Set,qn=null;function s7(s,o){if(s=s.containerInfo,$x=Ip,s=uS(s),g0(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var v=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var O=0,D=-1,q=-1,J=0,ce=0,me=s,te=null;t:for(;;){for(var ne;me!==c||v!==0&&me.nodeType!==3||(D=O+v),me!==w||m!==0&&me.nodeType!==3||(q=O+m),me.nodeType===3&&(O+=me.nodeValue.length),(ne=me.firstChild)!==null;)te=me,me=ne;for(;;){if(me===s)break t;if(te===c&&++J===v&&(D=O),te===w&&++ce===m&&(q=O),(ne=me.nextSibling)!==null)break;me=te,te=me.parentNode}me=ne}c=D===-1||q===-1?null:{start:D,end:q}}else c=null}c=c||{start:0,end:0}}else c=null;for(Fx={focusedElem:s,selectionRange:c},Ip=!1,qn=o;qn!==null;)if(o=qn,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,qn=s;else for(;qn!==null;){switch(o=qn,w=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,c=o,v=w.memoizedProps,w=w.memoizedState,m=c.stateNode;try{var ze=Yl(c.type,v,c.elementType===c.type);s=m.getSnapshotBeforeUpdate(ze,w),m.__reactInternalSnapshotBeforeUpdate=s}catch(Me){Nt(c,c.return,Me)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)Kx(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Kx(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,qn=s;break}qn=o.return}}function eC(s,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Co(s,c),m&4&&Ef(5,c);break;case 1:if(Co(s,c),m&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(O){Nt(c,c.return,O)}else{var v=Yl(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(v,o,s.__reactInternalSnapshotBeforeUpdate)}catch(O){Nt(c,c.return,O)}}m&64&&WT(c),m&512&&Af(c,c.return);break;case 3:if(Co(s,c),m&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{DS(s,o)}catch(O){Nt(c,c.return,O)}}break;case 27:o===null&&m&4&&ZT(c);case 26:case 5:Co(s,c),o===null&&m&4&&XT(c),m&512&&Af(c,c.return);break;case 12:Co(s,c);break;case 13:Co(s,c),m&4&&rC(s,c),m&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=p7.bind(null,c),R7(s,c))));break;case 22:if(m=c.memoizedState!==null||_s,!m){o=o!==null&&o.memoizedState!==null||fn,v=_s;var w=fn;_s=m,(fn=o)&&!w?No(s,c,(c.subtreeFlags&8772)!==0):Co(s,c),_s=v,fn=w}break;case 30:break;default:Co(s,c)}}function tC(s){var o=s.alternate;o!==null&&(s.alternate=null,tC(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Qi(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ft=null,Mr=!1;function Es(s,o,c){for(c=c.child;c!==null;)nC(s,o,c),c=c.sibling}function nC(s,o,c){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Kr,c)}catch{}switch(c.tag){case 26:fn||Oa(c,o),Es(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:fn||Oa(c,o);var m=Ft,v=Mr;ko(c.type)&&(Ft=c.stateNode,Mr=!1),Es(s,o,c),Rf(c.stateNode),Ft=m,Mr=v;break;case 5:fn||Oa(c,o);case 6:if(m=Ft,v=Mr,Ft=null,Es(s,o,c),Ft=m,Mr=v,Ft!==null)if(Mr)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(c.stateNode)}catch(w){Nt(c,o,w)}else try{Ft.removeChild(c.stateNode)}catch(w){Nt(c,o,w)}break;case 18:Ft!==null&&(Mr?(s=Ft,qC(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),zf(s)):qC(Ft,c.stateNode));break;case 4:m=Ft,v=Mr,Ft=c.stateNode.containerInfo,Mr=!0,Es(s,o,c),Ft=m,Mr=v;break;case 0:case 11:case 14:case 15:fn||To(2,c,o),fn||To(4,c,o),Es(s,o,c);break;case 1:fn||(Oa(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&YT(c,o,m)),Es(s,o,c);break;case 21:Es(s,o,c);break;case 22:fn=(m=fn)||c.memoizedState!==null,Es(s,o,c),fn=m;break;default:Es(s,o,c)}}function rC(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{zf(s)}catch(c){Nt(o,o.return,c)}}function o7(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new JT),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new JT),o;default:throw Error(r(435,s.tag))}}function xx(s,o){var c=o7(s);o.forEach(function(m){var v=g7.bind(null,s,m);c.has(m)||(c.add(m),m.then(v,v))})}function Qr(s,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var v=c[m],w=s,O=o,D=O;e:for(;D!==null;){switch(D.tag){case 27:if(ko(D.type)){Ft=D.stateNode,Mr=!1;break e}break;case 5:Ft=D.stateNode,Mr=!1;break e;case 3:case 4:Ft=D.stateNode.containerInfo,Mr=!0;break e}D=D.return}if(Ft===null)throw Error(r(160));nC(w,O,v),Ft=null,Mr=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)iC(o,s),o=o.sibling}var ia=null;function iC(s,o){var c=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Qr(o,s),Zr(s),m&4&&(To(3,s,s.return),Ef(3,s),To(5,s,s.return));break;case 1:Qr(o,s),Zr(s),m&512&&(fn||c===null||Oa(c,c.return)),m&64&&_s&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var v=ia;if(Qr(o,s),Zr(s),m&512&&(fn||c===null||Oa(c,c.return)),m&4){var w=c!==null?c.memoizedState:null;if(m=s.memoizedState,c===null)if(m===null)if(s.stateNode===null){e:{m=s.type,c=s.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":w=v.getElementsByTagName("title")[0],(!w||w[lr]||w[Zt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(m),v.head.insertBefore(w,v.querySelector("head > title"))),tr(w,m,c),w[Zt]=s,en(w),m=w;break e;case"link":var O=ZC("link","href",v).get(m+(c.href||""));if(O){for(var D=0;D<O.length;D++)if(w=O[D],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(D,1);break t}}w=v.createElement(m),tr(w,m,c),v.head.appendChild(w);break;case"meta":if(O=ZC("meta","content",v).get(m+(c.content||""))){for(D=0;D<O.length;D++)if(w=O[D],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(D,1);break t}}w=v.createElement(m),tr(w,m,c),v.head.appendChild(w);break;default:throw Error(r(468,m))}w[Zt]=s,en(w),m=w}s.stateNode=m}else JC(v,s.type,s.stateNode);else s.stateNode=QC(v,m,s.memoizedProps);else w!==m?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,m===null?JC(v,s.type,s.stateNode):QC(v,m,s.memoizedProps)):m===null&&s.stateNode!==null&&px(s,s.memoizedProps,c.memoizedProps)}break;case 27:Qr(o,s),Zr(s),m&512&&(fn||c===null||Oa(c,c.return)),c!==null&&m&4&&px(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Qr(o,s),Zr(s),m&512&&(fn||c===null||Oa(c,c.return)),s.flags&32){v=s.stateNode;try{_i(v,"")}catch(ne){Nt(s,s.return,ne)}}m&4&&s.stateNode!=null&&(v=s.memoizedProps,px(s,v,c!==null?c.memoizedProps:v)),m&1024&&(vx=!0);break;case 6:if(Qr(o,s),Zr(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,c=s.stateNode;try{c.nodeValue=m}catch(ne){Nt(s,s.return,ne)}}break;case 3:if(jp=null,v=ia,ia=Cp(o.containerInfo),Qr(o,s),ia=v,Zr(s),m&4&&c!==null&&c.memoizedState.isDehydrated)try{zf(o.containerInfo)}catch(ne){Nt(s,s.return,ne)}vx&&(vx=!1,aC(s));break;case 4:m=ia,ia=Cp(s.stateNode.containerInfo),Qr(o,s),Zr(s),ia=m;break;case 12:Qr(o,s),Zr(s);break;case 13:Qr(o,s),Zr(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Sx=Lt()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,xx(s,m)));break;case 22:v=s.memoizedState!==null;var q=c!==null&&c.memoizedState!==null,J=_s,ce=fn;if(_s=J||v,fn=ce||q,Qr(o,s),fn=ce,_s=J,Zr(s),m&8192)e:for(o=s.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(c===null||q||_s||fn||Xl(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){q=c=o;try{if(w=q.stateNode,v)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{D=q.stateNode;var me=q.memoizedProps.style,te=me!=null&&me.hasOwnProperty("display")?me.display:null;D.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){Nt(q,q.return,ne)}}}else if(o.tag===6){if(c===null){q=o;try{q.stateNode.nodeValue=v?"":q.memoizedProps}catch(ne){Nt(q,q.return,ne)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=s.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,xx(s,c))));break;case 19:Qr(o,s),Zr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,xx(s,m)));break;case 30:break;case 21:break;default:Qr(o,s),Zr(s)}}function Zr(s){var o=s.flags;if(o&2){try{for(var c,m=s.return;m!==null;){if(QT(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,w=gx(s);mp(s,w,v);break;case 5:var O=c.stateNode;c.flags&32&&(_i(O,""),c.flags&=-33);var D=gx(s);mp(s,D,O);break;case 3:case 4:var q=c.stateNode.containerInfo,J=gx(s);yx(s,J,q);break;default:throw Error(r(161))}}catch(ce){Nt(s,s.return,ce)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function aC(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;aC(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Co(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)eC(s,o.alternate,o),o=o.sibling}function Xl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:To(4,o,o.return),Xl(o);break;case 1:Oa(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&YT(o,o.return,c),Xl(o);break;case 27:Rf(o.stateNode);case 26:case 5:Oa(o,o.return),Xl(o);break;case 22:o.memoizedState===null&&Xl(o);break;case 30:Xl(o);break;default:Xl(o)}s=s.sibling}}function No(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=s,w=o,O=w.flags;switch(w.tag){case 0:case 11:case 15:No(v,w,c),Ef(4,w);break;case 1:if(No(v,w,c),m=w,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(J){Nt(m,m.return,J)}if(m=w,v=m.updateQueue,v!==null){var D=m.stateNode;try{var q=v.shared.hiddenCallbacks;if(q!==null)for(v.shared.hiddenCallbacks=null,v=0;v<q.length;v++)kS(q[v],D)}catch(J){Nt(m,m.return,J)}}c&&O&64&&WT(w),Af(w,w.return);break;case 27:ZT(w);case 26:case 5:No(v,w,c),c&&m===null&&O&4&&XT(w),Af(w,w.return);break;case 12:No(v,w,c);break;case 13:No(v,w,c),c&&O&4&&rC(v,w);break;case 22:w.memoizedState===null&&No(v,w,c),Af(w,w.return);break;case 30:break;default:No(v,w,c)}o=o.sibling}}function bx(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&cf(c))}function wx(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&cf(s))}function Ia(s,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)sC(s,o,c,m),o=o.sibling}function sC(s,o,c,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Ia(s,o,c,m),v&2048&&Ef(9,o);break;case 1:Ia(s,o,c,m);break;case 3:Ia(s,o,c,m),v&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&cf(s)));break;case 12:if(v&2048){Ia(s,o,c,m),s=o.stateNode;try{var w=o.memoizedProps,O=w.id,D=w.onPostCommit;typeof D=="function"&&D(O,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(q){Nt(o,o.return,q)}}else Ia(s,o,c,m);break;case 13:Ia(s,o,c,m);break;case 23:break;case 22:w=o.stateNode,O=o.alternate,o.memoizedState!==null?w._visibility&2?Ia(s,o,c,m):Sf(s,o):w._visibility&2?Ia(s,o,c,m):(w._visibility|=2,vu(s,o,c,m,(o.subtreeFlags&10256)!==0)),v&2048&&bx(O,o);break;case 24:Ia(s,o,c,m),v&2048&&wx(o.alternate,o);break;default:Ia(s,o,c,m)}}function vu(s,o,c,m,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=s,O=o,D=c,q=m,J=O.flags;switch(O.tag){case 0:case 11:case 15:vu(w,O,D,q,v),Ef(8,O);break;case 23:break;case 22:var ce=O.stateNode;O.memoizedState!==null?ce._visibility&2?vu(w,O,D,q,v):Sf(w,O):(ce._visibility|=2,vu(w,O,D,q,v)),v&&J&2048&&bx(O.alternate,O);break;case 24:vu(w,O,D,q,v),v&&J&2048&&wx(O.alternate,O);break;default:vu(w,O,D,q,v)}o=o.sibling}}function Sf(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,m=o,v=m.flags;switch(m.tag){case 22:Sf(c,m),v&2048&&bx(m.alternate,m);break;case 24:Sf(c,m),v&2048&&wx(m.alternate,m);break;default:Sf(c,m)}o=o.sibling}}var Tf=8192;function xu(s){if(s.subtreeFlags&Tf)for(s=s.child;s!==null;)oC(s),s=s.sibling}function oC(s){switch(s.tag){case 26:xu(s),s.flags&Tf&&s.memoizedState!==null&&K7(ia,s.memoizedState,s.memoizedProps);break;case 5:xu(s);break;case 3:case 4:var o=ia;ia=Cp(s.stateNode.containerInfo),xu(s),ia=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Tf,Tf=16777216,xu(s),Tf=o):xu(s));break;default:xu(s)}}function lC(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Cf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];qn=m,uC(m,s)}lC(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cC(s),s=s.sibling}function cC(s){switch(s.tag){case 0:case 11:case 15:Cf(s),s.flags&2048&&To(9,s,s.return);break;case 3:Cf(s);break;case 12:Cf(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,pp(s)):Cf(s);break;default:Cf(s)}}function pp(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];qn=m,uC(m,s)}lC(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:To(8,o,o.return),pp(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,pp(o));break;default:pp(o)}s=s.sibling}}function uC(s,o){for(;qn!==null;){var c=qn;switch(c.tag){case 0:case 11:case 15:To(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:cf(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,qn=m;else e:for(c=s;qn!==null;){m=qn;var v=m.sibling,w=m.return;if(tC(m),m===c){qn=null;break e}if(v!==null){v.return=w,qn=v;break e}qn=w}}}var l7={getCacheForType:function(s){var o=dr(In),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},c7=typeof WeakMap=="function"?WeakMap:Map,gt=0,It=null,Ze=null,at=0,yt=0,Jr=null,jo=!1,bu=!1,_x=!1,As=0,on=0,Po=0,Ql=0,Ex=0,ji=0,wu=0,Nf=null,Lr=null,Ax=!1,Sx=0,gp=1/0,yp=null,Oo=null,er=0,Io=null,_u=null,Eu=0,Tx=0,Cx=null,dC=null,jf=0,Nx=null;function ei(){if((gt&2)!==0&&at!==0)return at&-at;if(G.T!==null){var s=uu;return s!==0?s:Dx()}return Xi()}function fC(){ji===0&&(ji=(at&536870912)===0||ft?oo():536870912);var s=Ni.current;return s!==null&&(s.flags|=32),ji}function ti(s,o,c){(s===It&&(yt===2||yt===9)||s.cancelPendingCommit!==null)&&(Au(s,0),Ro(s,at,ji,!1)),Qt(s,c),((gt&2)===0||s!==It)&&(s===It&&((gt&2)===0&&(Ql|=c),on===4&&Ro(s,at,ji,!1)),Ra(s))}function hC(s,o,c){if((gt&6)!==0)throw Error(r(327));var m=!c&&(o&124)===0&&(o&s.expiredLanes)===0||Yi(s,o),v=m?f7(s,o):Ox(s,o,!0),w=m;do{if(v===0){bu&&!m&&Ro(s,o,0,!1);break}else{if(c=s.current.alternate,w&&!u7(c)){v=Ox(s,o,!1),w=!1;continue}if(v===2){if(w=o,s.errorRecoveryDisabledLanes&w)var O=0;else O=s.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var D=s;v=Nf;var q=D.current.memoizedState.isDehydrated;if(q&&(Au(D,O).flags|=256),O=Ox(D,O,!1),O!==2){if(_x&&!q){D.errorRecoveryDisabledLanes|=w,Ql|=w,v=4;break e}w=Lr,Lr=v,w!==null&&(Lr===null?Lr=w:Lr.push.apply(Lr,w))}v=O}if(w=!1,v!==2)continue}}if(v===1){Au(s,0),Ro(s,o,0,!0);break}e:{switch(m=s,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ro(m,o,ji,!jo);break e;case 2:Lr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=Sx+300-Lt(),10<v)){if(Ro(m,o,ji,!jo),Ar(m,0,!0)!==0)break e;m.timeoutHandle=$C(mC.bind(null,m,c,Lr,yp,Ax,o,ji,Ql,wu,jo,w,2,-0,0),v);break e}mC(m,c,Lr,yp,Ax,o,ji,Ql,wu,jo,w,0,-0,0)}}break}while(!0);Ra(s)}function mC(s,o,c,m,v,w,O,D,q,J,ce,me,te,ne){if(s.timeoutHandle=-1,me=o.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(Mf={stylesheets:null,count:0,unsuspend:H7},oC(o),me=G7(),me!==null)){s.cancelPendingCommit=me(wC.bind(null,s,o,w,c,m,v,O,D,q,ce,1,te,ne)),Ro(s,w,O,!J);return}wC(s,o,w,c,m,v,O,D,q)}function u7(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var v=c[m],w=v.getSnapshot;v=v.value;try{if(!Yr(w(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ro(s,o,c,m){o&=~Ex,o&=~Ql,s.suspendedLanes|=o,s.pingedLanes&=~o,m&&(s.warmLanes|=o),m=s.expirationTimes;for(var v=o;0<v;){var w=31-Zn(v),O=1<<w;m[w]=-1,v&=~O}c!==0&&Aa(s,c,o)}function vp(){return(gt&6)===0?(Pf(0),!1):!0}function jx(){if(Ze!==null){if(yt===0)var s=Ze.return;else s=Ze,gs=Hl=null,K0(s),gu=null,bf=0,s=Ze;for(;s!==null;)GT(s.alternate,s),s=s.return;Ze=null}}function Au(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,N7(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),jx(),It=s,Ze=c=hs(s.current,null),at=o,yt=0,Jr=null,jo=!1,bu=Yi(s,o),_x=!1,wu=ji=Ex=Ql=Po=on=0,Lr=Nf=null,Ax=!1,(o&8)!==0&&(o|=o&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=o;0<m;){var v=31-Zn(m),w=1<<v;o|=s[v],m&=~w}return As=o,Bm(),c}function pC(s,o){Xe=null,G.H=ap,o===df||o===Ym?(o=IS(),yt=3):o===jS?(o=IS(),yt=4):yt=o===RT?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Jr=o,Ze===null&&(on=1,up(s,Ai(o,s.current)))}function gC(){var s=G.H;return G.H=ap,s===null?ap:s}function yC(){var s=G.A;return G.A=l7,s}function Px(){on=4,jo||(at&4194048)!==at&&Ni.current!==null||(bu=!0),(Po&134217727)===0&&(Ql&134217727)===0||It===null||Ro(It,at,ji,!1)}function Ox(s,o,c){var m=gt;gt|=2;var v=gC(),w=yC();(It!==s||at!==o)&&(yp=null,Au(s,o)),o=!1;var O=on;e:do try{if(yt!==0&&Ze!==null){var D=Ze,q=Jr;switch(yt){case 8:jx(),O=6;break e;case 3:case 2:case 9:case 6:Ni.current===null&&(o=!0);var J=yt;if(yt=0,Jr=null,Su(s,D,q,J),c&&bu){O=0;break e}break;default:J=yt,yt=0,Jr=null,Su(s,D,q,J)}}d7(),O=on;break}catch(ce){pC(s,ce)}while(!0);return o&&s.shellSuspendCounter++,gs=Hl=null,gt=m,G.H=v,G.A=w,Ze===null&&(It=null,at=0,Bm()),O}function d7(){for(;Ze!==null;)vC(Ze)}function f7(s,o){var c=gt;gt|=2;var m=gC(),v=yC();It!==s||at!==o?(yp=null,gp=Lt()+500,Au(s,o)):bu=Yi(s,o);e:do try{if(yt!==0&&Ze!==null){o=Ze;var w=Jr;t:switch(yt){case 1:yt=0,Jr=null,Su(s,o,w,1);break;case 2:case 9:if(PS(w)){yt=0,Jr=null,xC(o);break}o=function(){yt!==2&&yt!==9||It!==s||(yt=7),Ra(s)},w.then(o,o);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:PS(w)?(yt=0,Jr=null,xC(o)):(yt=0,Jr=null,Su(s,o,w,7));break;case 5:var O=null;switch(Ze.tag){case 26:O=Ze.memoizedState;case 5:case 27:var D=Ze;if(!O||eN(O)){yt=0,Jr=null;var q=D.sibling;if(q!==null)Ze=q;else{var J=D.return;J!==null?(Ze=J,xp(J)):Ze=null}break t}}yt=0,Jr=null,Su(s,o,w,5);break;case 6:yt=0,Jr=null,Su(s,o,w,6);break;case 8:jx(),on=6;break e;default:throw Error(r(462))}}h7();break}catch(ce){pC(s,ce)}while(!0);return gs=Hl=null,G.H=m,G.A=v,gt=c,Ze!==null?0:(It=null,at=0,Bm(),on)}function h7(){for(;Ze!==null&&!xn();)vC(Ze)}function vC(s){var o=HT(s.alternate,s,As);s.memoizedProps=s.pendingProps,o===null?xp(s):Ze=o}function xC(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=UT(c,o,o.pendingProps,o.type,void 0,at);break;case 11:o=UT(c,o,o.pendingProps,o.type.render,o.ref,at);break;case 5:K0(o);default:GT(c,o),o=Ze=bS(o,As),o=HT(c,o,As)}s.memoizedProps=s.pendingProps,o===null?xp(s):Ze=o}function Su(s,o,c,m){gs=Hl=null,K0(o),gu=null,bf=0;var v=o.return;try{if(n7(s,v,o,c,at)){on=1,up(s,Ai(c,s.current)),Ze=null;return}}catch(w){if(v!==null)throw Ze=v,w;on=1,up(s,Ai(c,s.current)),Ze=null;return}o.flags&32768?(ft||m===1?s=!0:bu||(at&536870912)!==0?s=!1:(jo=s=!0,(m===2||m===9||m===3||m===6)&&(m=Ni.current,m!==null&&m.tag===13&&(m.flags|=16384))),bC(o,s)):xp(o)}function xp(s){var o=s;do{if((o.flags&32768)!==0){bC(o,jo);return}s=o.return;var c=i7(o.alternate,o,As);if(c!==null){Ze=c;return}if(o=o.sibling,o!==null){Ze=o;return}Ze=o=s}while(o!==null);on===0&&(on=5)}function bC(s,o){do{var c=a7(s.alternate,s);if(c!==null){c.flags&=32767,Ze=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){Ze=s;return}Ze=s=c}while(s!==null);on=6,Ze=null}function wC(s,o,c,m,v,w,O,D,q){s.cancelPendingCommit=null;do bp();while(er!==0);if((gt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(w=o.lanes|o.childLanes,w|=w0,Kc(s,c,w,O,D,q),s===It&&(Ze=It=null,at=0),_u=o,Io=s,Eu=c,Tx=w,Cx=v,dC=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,y7(zn,function(){return TC(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,v=W.p,W.p=2,O=gt,gt|=4;try{s7(s,o,c)}finally{gt=O,W.p=v,G.T=m}}er=1,_C(),EC(),AC()}}function _C(){if(er===1){er=0;var s=Io,o=_u,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=G.T,G.T=null;var m=W.p;W.p=2;var v=gt;gt|=4;try{iC(o,s);var w=Fx,O=uS(s.containerInfo),D=w.focusedElem,q=w.selectionRange;if(O!==D&&D&&D.ownerDocument&&cS(D.ownerDocument.documentElement,D)){if(q!==null&&g0(D)){var J=q.start,ce=q.end;if(ce===void 0&&(ce=J),"selectionStart"in D)D.selectionStart=J,D.selectionEnd=Math.min(ce,D.value.length);else{var me=D.ownerDocument||document,te=me&&me.defaultView||window;if(te.getSelection){var ne=te.getSelection(),ze=D.textContent.length,Me=Math.min(q.start,ze),At=q.end===void 0?Me:Math.min(q.end,ze);!ne.extend&&Me>At&&(O=At,At=Me,Me=O);var X=lS(D,Me),K=lS(D,At);if(X&&K&&(ne.rangeCount!==1||ne.anchorNode!==X.node||ne.anchorOffset!==X.offset||ne.focusNode!==K.node||ne.focusOffset!==K.offset)){var Q=me.createRange();Q.setStart(X.node,X.offset),ne.removeAllRanges(),Me>At?(ne.addRange(Q),ne.extend(K.node,K.offset)):(Q.setEnd(K.node,K.offset),ne.addRange(Q))}}}}for(me=[],ne=D;ne=ne.parentNode;)ne.nodeType===1&&me.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<me.length;D++){var de=me[D];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Ip=!!$x,Fx=$x=null}finally{gt=v,W.p=m,G.T=c}}s.current=o,er=2}}function EC(){if(er===2){er=0;var s=Io,o=_u,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=G.T,G.T=null;var m=W.p;W.p=2;var v=gt;gt|=4;try{eC(s,o.alternate,o)}finally{gt=v,W.p=m,G.T=c}}er=3}}function AC(){if(er===4||er===3){er=0,Yt();var s=Io,o=_u,c=Eu,m=dC;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?er=5:(er=0,_u=Io=null,SC(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(Oo=null),El(c),o=o.stateNode,wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Kr,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=G.T,v=W.p,W.p=2,G.T=null;try{for(var w=s.onRecoverableError,O=0;O<m.length;O++){var D=m[O];w(D.value,{componentStack:D.stack})}}finally{G.T=o,W.p=v}}(Eu&3)!==0&&bp(),Ra(s),v=s.pendingLanes,(c&4194090)!==0&&(v&42)!==0?s===Nx?jf++:(jf=0,Nx=s):jf=0,Pf(0)}}function SC(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,cf(o)))}function bp(s){return _C(),EC(),AC(),TC()}function TC(){if(er!==5)return!1;var s=Io,o=Tx;Tx=0;var c=El(Eu),m=G.T,v=W.p;try{W.p=32>c?32:c,G.T=null,c=Cx,Cx=null;var w=Io,O=Eu;if(er=0,_u=Io=null,Eu=0,(gt&6)!==0)throw Error(r(331));var D=gt;if(gt|=4,cC(w.current),sC(w,w.current,O,c),gt=D,Pf(0,!1),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Kr,w)}catch{}return!0}finally{W.p=v,G.T=m,SC(s,o)}}function CC(s,o,c){o=Ai(c,o),o=sx(s.stateNode,o,2),s=_o(s,o,2),s!==null&&(Qt(s,2),Ra(s))}function Nt(s,o,c){if(s.tag===3)CC(s,s,c);else for(;o!==null;){if(o.tag===3){CC(o,s,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Oo===null||!Oo.has(m))){s=Ai(c,s),c=OT(2),m=_o(o,c,2),m!==null&&(IT(c,m,o,s),Qt(m,2),Ra(m));break}}o=o.return}}function Ix(s,o,c){var m=s.pingCache;if(m===null){m=s.pingCache=new c7;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(c)||(_x=!0,v.add(c),s=m7.bind(null,s,o,c),o.then(s,s))}function m7(s,o,c){var m=s.pingCache;m!==null&&m.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,It===s&&(at&c)===c&&(on===4||on===3&&(at&62914560)===at&&300>Lt()-Sx?(gt&2)===0&&Au(s,0):Ex|=c,wu===at&&(wu=0)),Ra(s)}function NC(s,o){o===0&&(o=Ea()),s=su(s,o),s!==null&&(Qt(s,o),Ra(s))}function p7(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),NC(s,c)}function g7(s,o){var c=0;switch(s.tag){case 13:var m=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),NC(s,c)}function y7(s,o){return Le(s,o)}var wp=null,Tu=null,Rx=!1,_p=!1,kx=!1,Zl=0;function Ra(s){s!==Tu&&s.next===null&&(Tu===null?wp=Tu=s:Tu=Tu.next=s),_p=!0,Rx||(Rx=!0,x7())}function Pf(s,o){if(!kx&&_p){kx=!0;do for(var c=!1,m=wp;m!==null;){if(s!==0){var v=m.pendingLanes;if(v===0)var w=0;else{var O=m.suspendedLanes,D=m.pingedLanes;w=(1<<31-Zn(42|s)+1)-1,w&=v&~(O&~D),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,IC(m,w))}else w=at,w=Ar(m,m===It?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Yi(m,w)||(c=!0,IC(m,w));m=m.next}while(c);kx=!1}}function v7(){jC()}function jC(){_p=Rx=!1;var s=0;Zl!==0&&(C7()&&(s=Zl),Zl=0);for(var o=Lt(),c=null,m=wp;m!==null;){var v=m.next,w=PC(m,o);w===0?(m.next=null,c===null?wp=v:c.next=v,v===null&&(Tu=c)):(c=m,(s!==0||(w&3)!==0)&&(_p=!0)),m=v}Pf(s)}function PC(s,o){for(var c=s.suspendedLanes,m=s.pingedLanes,v=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var O=31-Zn(w),D=1<<O,q=v[O];q===-1?((D&c)===0||(D&m)!==0)&&(v[O]=rs(D,o)):q<=o&&(s.expiredLanes|=D),w&=~D}if(o=It,c=at,c=Ar(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,c===0||s===o&&(yt===2||yt===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&tt(m),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Yi(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(m!==null&&tt(m),El(c)){case 2:case 8:c=bn;break;case 32:c=zn;break;case 268435456:c=Wi;break;default:c=zn}return m=OC.bind(null,s),c=Le(c,m),s.callbackPriority=o,s.callbackNode=c,o}return m!==null&&m!==null&&tt(m),s.callbackPriority=2,s.callbackNode=null,2}function OC(s,o){if(er!==0&&er!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(bp()&&s.callbackNode!==c)return null;var m=at;return m=Ar(s,s===It?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(hC(s,m,o),PC(s,Lt()),s.callbackNode!=null&&s.callbackNode===c?OC.bind(null,s):null)}function IC(s,o){if(bp())return null;hC(s,o,!0)}function x7(){j7(function(){(gt&6)!==0?Le(Xt,v7):jC()})}function Dx(){return Zl===0&&(Zl=oo()),Zl}function RC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ji(""+s)}function kC(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function b7(s,o,c,m,v){if(o==="submit"&&c&&c.stateNode===v){var w=RC((v[Pn]||null).action),O=m.submitter;O&&(o=(o=O[Pn]||null)?RC(o.formAction):O.getAttribute("formAction"),o!==null&&(w=o,O=null));var D=new Ol("action","action",null,m,v);s.push({event:D,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Zl!==0){var q=O?kC(v,O):new FormData(v);tx(c,{pending:!0,data:q,method:v.method,action:w},null,q)}}else typeof w=="function"&&(D.preventDefault(),q=O?kC(v,O):new FormData(v),tx(c,{pending:!0,data:q,method:v.method,action:w},w,q))},currentTarget:v}]})}}for(var Mx=0;Mx<b0.length;Mx++){var Lx=b0[Mx],w7=Lx.toLowerCase(),_7=Lx[0].toUpperCase()+Lx.slice(1);ra(w7,"on"+_7)}ra(hS,"onAnimationEnd"),ra(mS,"onAnimationIteration"),ra(pS,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(U8,"onTransitionRun"),ra(B8,"onTransitionStart"),ra(z8,"onTransitionCancel"),ra(gS,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Of));function DC(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var m=s[c],v=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var O=m.length-1;0<=O;O--){var D=m[O],q=D.instance,J=D.currentTarget;if(D=D.listener,q!==w&&v.isPropagationStopped())break e;w=D,v.currentTarget=J;try{w(v)}catch(ce){cp(ce)}v.currentTarget=null,w=q}else for(O=0;O<m.length;O++){if(D=m[O],q=D.instance,J=D.currentTarget,D=D.listener,q!==w&&v.isPropagationStopped())break e;w=D,v.currentTarget=J;try{w(v)}catch(ce){cp(ce)}v.currentTarget=null,w=q}}}}function Je(s,o){var c=o[be];c===void 0&&(c=o[be]=new Set);var m=s+"__bubble";c.has(m)||(MC(o,s,2,!1),c.add(m))}function Vx(s,o,c){var m=0;o&&(m|=4),MC(c,s,m,o)}var Ep="_reactListening"+Math.random().toString(36).slice(2);function Ux(s){if(!s[Ep]){s[Ep]=!0,Ud.forEach(function(c){c!=="selectionchange"&&(E7.has(c)||Vx(c,!1,s),Vx(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Ep]||(o[Ep]=!0,Vx("selectionchange",!1,o))}}function MC(s,o,c,m){switch(sN(o)){case 2:var v=X7;break;case 8:v=Q7;break;default:v=Jx}c=v.bind(null,o,c,s),v=void 0,!ds||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?s.addEventListener(o,c,{capture:!0,passive:v}):s.addEventListener(o,c,!0):v!==void 0?s.addEventListener(o,c,{passive:v}):s.addEventListener(o,c,!1)}function Bx(s,o,c,m,v){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var D=m.stateNode.containerInfo;if(D===v)break;if(O===4)for(O=m.return;O!==null;){var q=O.tag;if((q===3||q===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;D!==null;){if(O=cr(D),O===null)return;if(q=O.tag,q===5||q===6||q===26||q===27){m=w=O;continue e}D=D.parentNode}}m=m.return}Nl(function(){var J=w,ce=Gd(c),me=[];e:{var te=yS.get(s);if(te!==void 0){var ne=Ol,ze=s;switch(s){case"keypress":if(jl(c)===0)break e;case"keydown":case"keyup":ne=nu;break;case"focusin":ze="focus",ne=Jc;break;case"focusout":ze="blur",ne=Jc;break;case"beforeblur":case"afterblur":ne=Jc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=vo;break;case hS:case mS:case pS:ne=Yd;break;case gS:ne=T;break;case"scroll":case"scrollend":ne=Rl;break;case"wheel":ne=z;break;case"copy":case"cut":case"paste":ne=Rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Zd;break;case"toggle":case"beforetoggle":ne=re}var Me=(o&4)!==0,At=!Me&&(s==="scroll"||s==="scrollend"),X=Me?te!==null?te+"Capture":null:te;Me=[];for(var K=J,Q;K!==null;){var de=K;if(Q=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||Q===null||X===null||(de=go(K,X),de!=null&&Me.push(If(K,de,Q))),At)break;K=K.return}0<Me.length&&(te=new ne(te,ze,null,c,ce),me.push({event:te,listeners:Me}))}}if((o&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",te&&c!==Kd&&(ze=c.relatedTarget||c.fromElement)&&(cr(ze)||ze[Y]))break e;if((ne||te)&&(te=ce.window===ce?ce:(te=ce.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(ze=c.relatedTarget||c.toElement,ne=J,ze=ze?cr(ze):null,ze!==null&&(At=a(ze),Me=ze.tag,ze!==At||Me!==5&&Me!==27&&Me!==6)&&(ze=null)):(ne=null,ze=J),ne!==ze)){if(Me=Ml,de="onMouseLeave",X="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Me=Zd,de="onPointerLeave",X="onPointerEnter",K="pointer"),At=ne==null?te:is(ne),Q=ze==null?te:is(ze),te=new Me(de,K+"leave",ne,c,ce),te.target=At,te.relatedTarget=Q,de=null,cr(ce)===J&&(Me=new Me(X,K+"enter",ze,c,ce),Me.target=Q,Me.relatedTarget=At,de=Me),At=de,ne&&ze)t:{for(Me=ne,X=ze,K=0,Q=Me;Q;Q=Cu(Q))K++;for(Q=0,de=X;de;de=Cu(de))Q++;for(;0<K-Q;)Me=Cu(Me),K--;for(;0<Q-K;)X=Cu(X),Q--;for(;K--;){if(Me===X||X!==null&&Me===X.alternate)break t;Me=Cu(Me),X=Cu(X)}Me=null}else Me=null;ne!==null&&LC(me,te,ne,Me,!1),ze!==null&&At!==null&&LC(me,At,ze,Me,!0)}}e:{if(te=J?is(J):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ce=nS;else if(eS(te))if(rS)Ce=M8;else{Ce=k8;var Qe=R8}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&Xc(J.elementType)&&(Ce=nS):Ce=D8;if(Ce&&(Ce=Ce(s,J))){tS(me,Ce,c,ce);break e}Qe&&Qe(s,te,J),s==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&Fd(te,"number",te.value)}switch(Qe=J?is(J):window,s){case"focusin":(eS(Qe)||Qe.contentEditable==="true")&&(ru=Qe,y0=J,rf=null);break;case"focusout":rf=y0=ru=null;break;case"mousedown":v0=!0;break;case"contextmenu":case"mouseup":case"dragend":v0=!1,dS(me,c,ce);break;case"selectionchange":if(V8)break;case"keydown":case"keyup":dS(me,c,ce)}var Oe;if(qe)e:{switch(s){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else na?ea(s,c)&&(Ve="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ve="onCompositionStart");Ve&&(un&&c.locale!=="ko"&&(na||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&na&&(Oe=Pm()):(Ei=ce,Ot="value"in Ei?Ei.value:Ei.textContent,na=!0)),Qe=Ap(J,Ve),0<Qe.length&&(Ve=new Qd(Ve,s,null,c,ce),me.push({event:Ve,listeners:Qe}),Oe?Ve.data=Oe:(Oe=ta(c),Oe!==null&&(Ve.data=Oe)))),(Oe=pt?Jd(s,c):P8(s,c))&&(Ve=Ap(J,"onBeforeInput"),0<Ve.length&&(Qe=new Qd("onBeforeInput","beforeinput",null,c,ce),me.push({event:Qe,listeners:Ve}),Qe.data=Oe)),b7(me,s,J,c,ce)}DC(me,o)})}function If(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Ap(s,o){for(var c=o+"Capture",m=[];s!==null;){var v=s,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=go(s,c),v!=null&&m.unshift(If(s,v,w)),v=go(s,o),v!=null&&m.push(If(s,v,w))),s.tag===3)return m;s=s.return}return[]}function Cu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function LC(s,o,c,m,v){for(var w=o._reactName,O=[];c!==null&&c!==m;){var D=c,q=D.alternate,J=D.stateNode;if(D=D.tag,q!==null&&q===m)break;D!==5&&D!==26&&D!==27||J===null||(q=J,v?(J=go(c,w),J!=null&&O.unshift(If(c,J,q))):v||(J=go(c,w),J!=null&&O.push(If(c,J,q)))),c=c.return}O.length!==0&&s.push({event:o,listeners:O})}var A7=/\r\n?/g,S7=/\u0000|\uFFFD/g;function VC(s){return(typeof s=="string"?s:""+s).replace(A7,`
`).replace(S7,"")}function UC(s,o){return o=VC(o),VC(s)===o}function Sp(){}function Et(s,o,c,m,v,w){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||_i(s,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&_i(s,""+m);break;case"className":wi(s,"class",m);break;case"tabIndex":wi(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":wi(s,c,m);break;case"style":Hd(s,m,w);break;case"data":if(o!=="object"){wi(s,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=Ji(""+m),s.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(o!=="input"&&Et(s,o,"name",v.name,v,null),Et(s,o,"formEncType",v.formEncType,v,null),Et(s,o,"formMethod",v.formMethod,v,null),Et(s,o,"formTarget",v.formTarget,v,null)):(Et(s,o,"encType",v.encType,v,null),Et(s,o,"method",v.method,v,null),Et(s,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=Ji(""+m),s.setAttribute(c,m);break;case"onClick":m!=null&&(s.onclick=Sp);break;case"onScroll":m!=null&&Je("scroll",s);break;case"onScrollEnd":m!=null&&Je("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}c=Ji(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""+m):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":m===!0?s.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,m):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(c,m):s.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(c):s.setAttribute(c,m);break;case"popover":Je("beforetoggle",s),Je("toggle",s),os(s,"popover",m);break;case"xlinkActuate":kr(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":kr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":kr(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":kr(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":kr(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":kr(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":kr(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":kr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":kr(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":os(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Cm.get(c)||c,os(s,c,m))}}function zx(s,o,c,m,v,w){switch(c){case"style":Hd(s,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof m=="string"?_i(s,m):(typeof m=="number"||typeof m=="bigint")&&_i(s,""+m);break;case"onScroll":m!=null&&Je("scroll",s);break;case"onScrollEnd":m!=null&&Je("scrollend",s);break;case"onClick":m!=null&&(s.onclick=Sp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!as.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),w=s[Pn]||null,w=w!=null?w[c]:null,typeof w=="function"&&s.removeEventListener(o,w,v),typeof m=="function")){typeof w!="function"&&w!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,m,v);break e}c in s?s[c]=m:m===!0?s.setAttribute(c,""):os(s,c,m)}}}function tr(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",s),Je("load",s);var m=!1,v=!1,w;for(w in c)if(c.hasOwnProperty(w)){var O=c[w];if(O!=null)switch(w){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Et(s,o,w,O,c,null)}}v&&Et(s,o,"srcSet",c.srcSet,c,null),m&&Et(s,o,"src",c.src,c,null);return;case"input":Je("invalid",s);var D=w=O=v=null,q=null,J=null;for(m in c)if(c.hasOwnProperty(m)){var ce=c[m];if(ce!=null)switch(m){case"name":v=ce;break;case"type":O=ce;break;case"checked":q=ce;break;case"defaultChecked":J=ce;break;case"value":w=ce;break;case"defaultValue":D=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:Et(s,o,m,ce,c,null)}}$d(s,w,D,q,J,O,v,!1),ho(s);return;case"select":Je("invalid",s),m=O=w=null;for(v in c)if(c.hasOwnProperty(v)&&(D=c[v],D!=null))switch(v){case"value":w=D;break;case"defaultValue":O=D;break;case"multiple":m=D;default:Et(s,o,v,D,c,null)}o=w,c=O,s.multiple=!!m,o!=null?mo(s,!!m,o,!1):c!=null&&mo(s,!!m,c,!0);return;case"textarea":Je("invalid",s),w=v=m=null;for(O in c)if(c.hasOwnProperty(O)&&(D=c[O],D!=null))switch(O){case"value":m=D;break;case"defaultValue":v=D;break;case"children":w=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:Et(s,o,O,D,c,null)}Tm(s,m,v,w),ho(s);return;case"option":for(q in c)if(c.hasOwnProperty(q)&&(m=c[q],m!=null))switch(q){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Et(s,o,q,m,c,null)}return;case"dialog":Je("beforetoggle",s),Je("toggle",s),Je("cancel",s),Je("close",s);break;case"iframe":case"object":Je("load",s);break;case"video":case"audio":for(m=0;m<Of.length;m++)Je(Of[m],s);break;case"image":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"embed":case"source":case"link":Je("error",s),Je("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(m=c[J],m!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Et(s,o,J,m,c,null)}return;default:if(Xc(o)){for(ce in c)c.hasOwnProperty(ce)&&(m=c[ce],m!==void 0&&zx(s,o,ce,m,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(m=c[D],m!=null&&Et(s,o,D,m,c,null))}function T7(s,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,O=null,D=null,q=null,J=null,ce=null;for(ne in c){var me=c[ne];if(c.hasOwnProperty(ne)&&me!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":q=me;default:m.hasOwnProperty(ne)||Et(s,o,ne,null,m,me)}}for(var te in m){var ne=m[te];if(me=c[te],m.hasOwnProperty(te)&&(ne!=null||me!=null))switch(te){case"type":w=ne;break;case"name":v=ne;break;case"checked":J=ne;break;case"defaultChecked":ce=ne;break;case"value":O=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:ne!==me&&Et(s,o,te,ne,m,me)}}zd(s,O,D,q,J,ce,w,v);return;case"select":ne=O=D=te=null;for(w in c)if(q=c[w],c.hasOwnProperty(w)&&q!=null)switch(w){case"value":break;case"multiple":ne=q;default:m.hasOwnProperty(w)||Et(s,o,w,null,m,q)}for(v in m)if(w=m[v],q=c[v],m.hasOwnProperty(v)&&(w!=null||q!=null))switch(v){case"value":te=w;break;case"defaultValue":D=w;break;case"multiple":O=w;default:w!==q&&Et(s,o,v,w,m,q)}o=D,c=O,m=ne,te!=null?mo(s,!!c,te,!1):!!m!=!!c&&(o!=null?mo(s,!!c,o,!0):mo(s,!!c,c?[]:"",!1));return;case"textarea":ne=te=null;for(D in c)if(v=c[D],c.hasOwnProperty(D)&&v!=null&&!m.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Et(s,o,D,null,m,v)}for(O in m)if(v=m[O],w=c[O],m.hasOwnProperty(O)&&(v!=null||w!=null))switch(O){case"value":te=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&Et(s,o,O,v,m,w)}Sm(s,te,ne);return;case"option":for(var ze in c)if(te=c[ze],c.hasOwnProperty(ze)&&te!=null&&!m.hasOwnProperty(ze))switch(ze){case"selected":s.selected=!1;break;default:Et(s,o,ze,null,m,te)}for(q in m)if(te=m[q],ne=c[q],m.hasOwnProperty(q)&&te!==ne&&(te!=null||ne!=null))switch(q){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Et(s,o,q,te,m,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in c)te=c[Me],c.hasOwnProperty(Me)&&te!=null&&!m.hasOwnProperty(Me)&&Et(s,o,Me,null,m,te);for(J in m)if(te=m[J],ne=c[J],m.hasOwnProperty(J)&&te!==ne&&(te!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:Et(s,o,J,te,m,ne)}return;default:if(Xc(o)){for(var At in c)te=c[At],c.hasOwnProperty(At)&&te!==void 0&&!m.hasOwnProperty(At)&&zx(s,o,At,void 0,m,te);for(ce in m)te=m[ce],ne=c[ce],!m.hasOwnProperty(ce)||te===ne||te===void 0&&ne===void 0||zx(s,o,ce,te,m,ne);return}}for(var X in c)te=c[X],c.hasOwnProperty(X)&&te!=null&&!m.hasOwnProperty(X)&&Et(s,o,X,null,m,te);for(me in m)te=m[me],ne=c[me],!m.hasOwnProperty(me)||te===ne||te==null&&ne==null||Et(s,o,me,te,m,ne)}var $x=null,Fx=null;function Tp(s){return s.nodeType===9?s:s.ownerDocument}function BC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zC(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function qx(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hx=null;function C7(){var s=window.event;return s&&s.type==="popstate"?s===Hx?!1:(Hx=s,!0):(Hx=null,!1)}var $C=typeof setTimeout=="function"?setTimeout:void 0,N7=typeof clearTimeout=="function"?clearTimeout:void 0,FC=typeof Promise=="function"?Promise:void 0,j7=typeof queueMicrotask=="function"?queueMicrotask:typeof FC<"u"?function(s){return FC.resolve(null).then(s).catch(P7)}:$C;function P7(s){setTimeout(function(){throw s})}function ko(s){return s==="head"}function qC(s,o){var c=o,m=0,v=0;do{var w=c.nextSibling;if(s.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(0<m&&8>m){c=m;var O=s.ownerDocument;if(c&1&&Rf(O.documentElement),c&2&&Rf(O.body),c&4)for(c=O.head,Rf(c),O=c.firstChild;O;){var D=O.nextSibling,q=O.nodeName;O[lr]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&O.rel.toLowerCase()==="stylesheet"||c.removeChild(O),O=D}}if(v===0){s.removeChild(w),zf(o);return}v--}else c==="$"||c==="$?"||c==="$!"?v++:m=c.charCodeAt(0)-48;else m=0;c=w}while(c);zf(o)}function Kx(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Kx(c),Qi(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function O7(s,o,c,m){for(;s.nodeType===1;){var v=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[lr])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=aa(s.nextSibling),s===null)break}return null}function I7(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=aa(s.nextSibling),s===null))return null;return s}function Gx(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function R7(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function aa(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var Wx=null;function HC(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function KC(s,o,c){switch(o=Tp(c),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Rf(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Qi(s)}var Pi=new Map,GC=new Set;function Cp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ss=W.d;W.d={f:k7,r:D7,D:M7,C:L7,L:V7,m:U7,X:z7,S:B7,M:$7};function k7(){var s=Ss.f(),o=vp();return s||o}function D7(s){var o=yi(s);o!==null&&o.tag===5&&o.type==="form"?hT(o):Ss.r(s)}var Nu=typeof document>"u"?null:document;function WC(s,o,c){var m=Nu;if(m&&typeof o=="string"&&o){var v=$n(o);v='link[rel="'+s+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),GC.has(v)||(GC.add(v),s={rel:s,crossOrigin:c,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),tr(o,"link",s),en(o),m.head.appendChild(o)))}}function M7(s){Ss.D(s),WC("dns-prefetch",s,null)}function L7(s,o){Ss.C(s,o),WC("preconnect",s,o)}function V7(s,o,c){Ss.L(s,o,c);var m=Nu;if(m&&s&&o){var v='link[rel="preload"][as="'+$n(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+$n(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+$n(c.imageSizes)+'"]')):v+='[href="'+$n(s)+'"]';var w=v;switch(o){case"style":w=ju(s);break;case"script":w=Pu(s)}Pi.has(w)||(s=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),Pi.set(w,s),m.querySelector(v)!==null||o==="style"&&m.querySelector(kf(w))||o==="script"&&m.querySelector(Df(w))||(o=m.createElement("link"),tr(o,"link",s),en(o),m.head.appendChild(o)))}}function U7(s,o){Ss.m(s,o);var c=Nu;if(c&&s){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+$n(m)+'"][href="'+$n(s)+'"]',w=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Pu(s)}if(!Pi.has(w)&&(s=p({rel:"modulepreload",href:s},o),Pi.set(w,s),c.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Df(w)))return}m=c.createElement("link"),tr(m,"link",s),en(m),c.head.appendChild(m)}}}function B7(s,o,c){Ss.S(s,o,c);var m=Nu;if(m&&s){var v=Ta(m).hoistableStyles,w=ju(s);o=o||"default";var O=v.get(w);if(!O){var D={loading:0,preload:null};if(O=m.querySelector(kf(w)))D.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":o},c),(c=Pi.get(w))&&Yx(s,c);var q=O=m.createElement("link");en(q),tr(q,"link",s),q._p=new Promise(function(J,ce){q.onload=J,q.onerror=ce}),q.addEventListener("load",function(){D.loading|=1}),q.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Np(O,o,m)}O={type:"stylesheet",instance:O,count:1,state:D},v.set(w,O)}}}function z7(s,o){Ss.X(s,o);var c=Nu;if(c&&s){var m=Ta(c).hoistableScripts,v=Pu(s),w=m.get(v);w||(w=c.querySelector(Df(v)),w||(s=p({src:s,async:!0},o),(o=Pi.get(v))&&Xx(s,o),w=c.createElement("script"),en(w),tr(w,"link",s),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(v,w))}}function $7(s,o){Ss.M(s,o);var c=Nu;if(c&&s){var m=Ta(c).hoistableScripts,v=Pu(s),w=m.get(v);w||(w=c.querySelector(Df(v)),w||(s=p({src:s,async:!0,type:"module"},o),(o=Pi.get(v))&&Xx(s,o),w=c.createElement("script"),en(w),tr(w,"link",s),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(v,w))}}function YC(s,o,c,m){var v=(v=we.current)?Cp(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=ju(c.href),c=Ta(v).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=ju(c.href);var w=Ta(v).hoistableStyles,O=w.get(s);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,O),(w=v.querySelector(kf(s)))&&!w._p&&(O.instance=w,O.state.loading=5),Pi.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Pi.set(s,c),w||F7(v,s,c,O.state))),o&&m===null)throw Error(r(528,""));return O}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Pu(c),c=Ta(v).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function ju(s){return'href="'+$n(s)+'"'}function kf(s){return'link[rel="stylesheet"]['+s+"]"}function XC(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function F7(s,o,c,m){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=s.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),tr(o,"link",c),en(o),s.head.appendChild(o))}function Pu(s){return'[src="'+$n(s)+'"]'}function Df(s){return"script[async]"+s}function QC(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=s.querySelector('style[data-href~="'+$n(c.href)+'"]');if(m)return o.instance=m,en(m),m;var v=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),en(m),tr(m,"style",v),Np(m,c.precedence,s),o.instance=m;case"stylesheet":v=ju(c.href);var w=s.querySelector(kf(v));if(w)return o.state.loading|=4,o.instance=w,en(w),w;m=XC(c),(v=Pi.get(v))&&Yx(m,v),w=(s.ownerDocument||s).createElement("link"),en(w);var O=w;return O._p=new Promise(function(D,q){O.onload=D,O.onerror=q}),tr(w,"link",m),o.state.loading|=4,Np(w,c.precedence,s),o.instance=w;case"script":return w=Pu(c.src),(v=s.querySelector(Df(w)))?(o.instance=v,en(v),v):(m=c,(v=Pi.get(w))&&(m=p({},c),Xx(m,v)),s=s.ownerDocument||s,v=s.createElement("script"),en(v),tr(v,"link",m),s.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Np(m,c.precedence,s));return o.instance}function Np(s,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,w=v,O=0;O<m.length;O++){var D=m[O];if(D.dataset.precedence===o)w=D;else if(w!==v)break}w?w.parentNode.insertBefore(s,w.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function Yx(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Xx(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var jp=null;function ZC(s,o,c){if(jp===null){var m=new Map,v=jp=new Map;v.set(c,m)}else v=jp,m=v.get(c),m||(m=new Map,v.set(c,m));if(m.has(s))return m;for(m.set(s,null),c=c.getElementsByTagName(s),v=0;v<c.length;v++){var w=c[v];if(!(w[lr]||w[Zt]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(o)||"";O=s+O;var D=m.get(O);D?D.push(w):m.set(O,[w])}}return m}function JC(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function q7(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function eN(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Mf=null;function H7(){}function K7(s,o,c){if(Mf===null)throw Error(r(475));var m=Mf;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=ju(c.href),w=s.querySelector(kf(v));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(m.count++,m=Pp.bind(m),s.then(m,m)),o.state.loading|=4,o.instance=w,en(w);return}w=s.ownerDocument||s,c=XC(c),(v=Pi.get(v))&&Yx(c,v),w=w.createElement("link"),en(w);var O=w;O._p=new Promise(function(D,q){O.onload=D,O.onerror=q}),tr(w,"link",c),o.instance=w}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=Pp.bind(m),s.addEventListener("load",o),s.addEventListener("error",o))}}function G7(){if(Mf===null)throw Error(r(475));var s=Mf;return s.stylesheets&&s.count===0&&Qx(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&Qx(s,s.stylesheets),s.unsuspend){var m=s.unsuspend;s.unsuspend=null,m()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Pp(){if(this.count--,this.count===0){if(this.stylesheets)Qx(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Op=null;function Qx(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Op=new Map,o.forEach(W7,s),Op=null,Pp.call(s))}function W7(s,o){if(!(o.state.loading&4)){var c=Op.get(s);if(c)var m=c.get(null);else{c=new Map,Op.set(s,c);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var O=v[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),m=O)}m&&c.set(null,m)}v=o.instance,O=v.getAttribute("data-precedence"),w=c.get(O)||m,w===m&&c.set(null,v),c.set(O,v),this.count++,m=Pp.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),w?w.parentNode.insertBefore(v,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),o.state.loading|=4}}var Lf={$$typeof:N,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Y7(s,o,c,m,v,w,O,D){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.hiddenUpdates=lo(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function tN(s,o,c,m,v,w,O,D,q,J,ce,me){return s=new Y7(s,o,c,O,D,q,J,me),o=1,w===!0&&(o|=24),w=Xr(3,null,null,o),s.current=w,w.stateNode=s,o=I0(),o.refCount++,s.pooledCache=o,o.refCount++,w.memoizedState={element:m,isDehydrated:c,cache:o},M0(w),s}function nN(s){return s?(s=ou,s):ou}function rN(s,o,c,m,v,w){v=nN(v),m.context===null?m.context=v:m.pendingContext=v,m=wo(o),m.payload={element:c},w=w===void 0?null:w,w!==null&&(m.callback=w),c=_o(s,m,o),c!==null&&(ti(c,s,o),hf(c,s,o))}function iN(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Zx(s,o){iN(s,o),(s=s.alternate)&&iN(s,o)}function aN(s){if(s.tag===13){var o=su(s,67108864);o!==null&&ti(o,s,67108864),Zx(s,67108864)}}var Ip=!0;function X7(s,o,c,m){var v=G.T;G.T=null;var w=W.p;try{W.p=2,Jx(s,o,c,m)}finally{W.p=w,G.T=v}}function Q7(s,o,c,m){var v=G.T;G.T=null;var w=W.p;try{W.p=8,Jx(s,o,c,m)}finally{W.p=w,G.T=v}}function Jx(s,o,c,m){if(Ip){var v=eb(m);if(v===null)Bx(s,o,m,Rp,c),oN(s,m);else if(J7(v,s,o,c,m))m.stopPropagation();else if(oN(s,m),o&4&&-1<Z7.indexOf(s)){for(;v!==null;){var w=yi(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=Gr(w.pendingLanes);if(O!==0){var D=w;for(D.pendingLanes|=2,D.entangledLanes|=2;O;){var q=1<<31-Zn(O);D.entanglements[1]|=q,O&=~q}Ra(w),(gt&6)===0&&(gp=Lt()+500,Pf(0))}}break;case 13:D=su(w,2),D!==null&&ti(D,w,2),vp(),Zx(w,2)}if(w=eb(m),w===null&&Bx(s,o,m,Rp,c),w===v)break;v=w}v!==null&&m.stopPropagation()}else Bx(s,o,m,null,c)}}function eb(s){return s=Gd(s),tb(s)}var Rp=null;function tb(s){if(Rp=null,s=cr(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Rp=s,null}function sN(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ns()){case Xt:return 2;case bn:return 8;case zn:case ba:return 32;case Wi:return 268435456;default:return 32}default:return 32}}var nb=!1,Do=null,Mo=null,Lo=null,Vf=new Map,Uf=new Map,Vo=[],Z7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oN(s,o){switch(s){case"focusin":case"focusout":Do=null;break;case"dragenter":case"dragleave":Mo=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":Vf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uf.delete(o.pointerId)}}function Bf(s,o,c,m,v,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:w,targetContainers:[v]},o!==null&&(o=yi(o),o!==null&&aN(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),s)}function J7(s,o,c,m,v){switch(o){case"focusin":return Do=Bf(Do,s,o,c,m,v),!0;case"dragenter":return Mo=Bf(Mo,s,o,c,m,v),!0;case"mouseover":return Lo=Bf(Lo,s,o,c,m,v),!0;case"pointerover":var w=v.pointerId;return Vf.set(w,Bf(Vf.get(w)||null,s,o,c,m,v)),!0;case"gotpointercapture":return w=v.pointerId,Uf.set(w,Bf(Uf.get(w)||null,s,o,c,m,v)),!0}return!1}function lN(s){var o=cr(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,Vd(s.priority,function(){if(c.tag===13){var m=ei();m=co(m);var v=su(c,m);v!==null&&ti(v,c,m),Zx(c,m)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function kp(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=eb(s.nativeEvent);if(c===null){c=s.nativeEvent;var m=new c.constructor(c.type,c);Kd=m,c.target.dispatchEvent(m),Kd=null}else return o=yi(c),o!==null&&aN(o),s.blockedOn=c,!1;o.shift()}return!0}function cN(s,o,c){kp(s)&&c.delete(o)}function eV(){nb=!1,Do!==null&&kp(Do)&&(Do=null),Mo!==null&&kp(Mo)&&(Mo=null),Lo!==null&&kp(Lo)&&(Lo=null),Vf.forEach(cN),Uf.forEach(cN)}function Dp(s,o){s.blockedOn===o&&(s.blockedOn=null,nb||(nb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,eV)))}var Mp=null;function uN(s){Mp!==s&&(Mp=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mp===s&&(Mp=null);for(var o=0;o<s.length;o+=3){var c=s[o],m=s[o+1],v=s[o+2];if(typeof m!="function"){if(tb(m||c)===null)continue;break}var w=yi(c);w!==null&&(s.splice(o,3),o-=3,tx(w,{pending:!0,data:v,method:c.method,action:m},m,v))}}))}function zf(s){function o(q){return Dp(q,s)}Do!==null&&Dp(Do,s),Mo!==null&&Dp(Mo,s),Lo!==null&&Dp(Lo,s),Vf.forEach(o),Uf.forEach(o);for(var c=0;c<Vo.length;c++){var m=Vo[c];m.blockedOn===s&&(m.blockedOn=null)}for(;0<Vo.length&&(c=Vo[0],c.blockedOn===null);)lN(c),c.blockedOn===null&&Vo.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var v=c[m],w=c[m+1],O=v[Pn]||null;if(typeof w=="function")O||uN(c);else if(O){var D=null;if(w&&w.hasAttribute("formAction")){if(v=w,O=w[Pn]||null)D=O.formAction;else if(tb(v)!==null)continue}else D=O.action;typeof D=="function"?c[m+1]=D:(c.splice(m,3),m-=3),uN(c)}}}function rb(s){this._internalRoot=s}Lp.prototype.render=rb.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,m=ei();rN(c,m,s,o,null,null)},Lp.prototype.unmount=rb.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;rN(s.current,2,null,s,null,null),vp(),o[Y]=null}};function Lp(s){this._internalRoot=s}Lp.prototype.unstable_scheduleHydration=function(s){if(s){var o=Xi();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Vo.length&&o!==0&&o<Vo[c].priority;c++);Vo.splice(c,0,s),c===0&&lN(s)}};var dN=e.version;if(dN!=="19.1.1")throw Error(r(527,dN,"19.1.1"));W.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(o),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var tV={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vp.isDisabled&&Vp.supportsFiber)try{Kr=Vp.inject(tV),wn=Vp}catch{}}return Ff.createRoot=function(s,o){if(!i(s))throw Error(r(299));var c=!1,m="",v=CT,w=NT,O=jT,D=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks)),o=tN(s,1,!1,null,null,c,m,v,w,O,D,null),s[Y]=o.current,Ux(s),new rb(o)},Ff.hydrateRoot=function(s,o,c){if(!i(s))throw Error(r(299));var m=!1,v="",w=CT,O=NT,D=jT,q=null,J=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(q=c.unstable_transitionCallbacks),c.formState!==void 0&&(J=c.formState)),o=tN(s,1,!0,o,c??null,m,v,w,O,D,q,J),o.context=nN(null),c=o.current,m=ei(),m=co(m),v=wo(m),v.callback=null,_o(c,v,m),c=m,o.current.lanes=c,Qt(o,c),Ra(o),s[Y]=o.current,Ux(s),new Lp(o)},Ff.version="19.1.1",Ff}var wN;function fV(){if(wN)return sb.exports;wN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sb.exports=dV(),sb.exports}var hV=fV();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _N="popstate";function mV(t={}){function e(i,a){let{pathname:l="/",search:u="",hash:d=""}=Oc(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),l1("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=i.location.href,h=d.indexOf("#");u=h===-1?d:d.slice(0,h)}return u+"#"+(typeof a=="string"?a:ph(a))}function r(i,a){Ui(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return gV(e,n,r,t)}function Gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ui(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pV(){return Math.random().toString(36).substring(2,10)}function EN(t,e){return{usr:t.state,key:t.key,idx:e}}function l1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Oc(e):e,state:n,key:e&&e.key||r||pV()}}function ph({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function gV(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let S=p(),C=S==null?null:S-h;h=S,d&&d({action:u,location:E.location,delta:C})}function x(S,C){u="PUSH";let j=l1(E.location,S,C);n&&n(j,S),h=p()+1;let N=EN(j,h),L=E.createHref(j);try{l.pushState(N,"",L)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(L)}a&&d&&d({action:u,location:E.location,delta:1})}function b(S,C){u="REPLACE";let j=l1(E.location,S,C);n&&n(j,S),h=p();let N=EN(j,h),L=E.createHref(j);l.replaceState(N,"",L),a&&d&&d({action:u,location:E.location,delta:0})}function A(S){return yV(S)}let E={get action(){return u},get location(){return t(i,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(_N,g),d=S,()=>{i.removeEventListener(_N,g),d=null}},createHref(S){return e(i,S)},createURL:A,encodeLocation(S){let C=A(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:b,go(S){return l.go(S)}};return E}function yV(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ph(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Vk(t,e,n="/"){return vV(t,e,n,!1)}function vV(t,e,n,r){let i=typeof e=="string"?Oc(e):e,a=Bs(i.pathname||"/",n);if(a==null)return null;let l=Uk(t);xV(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=PV(a);u=NV(l[d],h,r)}return u}function Uk(t,e=[],n=[],r="",i=!1){let a=(l,u,d=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;Gt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Rs([r,p.relativePath]),x=n.concat(p);l.children&&l.children.length>0&&(Gt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Uk(l.children,e,x,g,d)),!(l.path==null&&!l.index)&&e.push({path:g,score:TV(g,l.index),routesMeta:x})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let d of Bk(l.path))a(l,u,!0,d)}),e}function Bk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=Bk(r.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function xV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var bV=/^:[\w-]+$/,wV=3,_V=2,EV=1,AV=10,SV=-2,AN=t=>t==="*";function TV(t,e){let n=t.split("/"),r=n.length;return n.some(AN)&&(r+=SV),e&&(r+=_V),n.filter(i=>!AN(i)).reduce((i,a)=>i+(bV.test(a)?wV:a===""?EV:AV),r)}function CV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function NV(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=Tg({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),x=d.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Tg({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Rs([a,g.pathname]),pathnameBase:kV(Rs([a,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(a=Rs([a,g.pathnameBase]))}return l}function Tg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let A=u[x]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const b=u[x];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function jV(t,e=!1,n=!0){Ui(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function PV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ui(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function OV(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Oc(t):t;return{pathname:n?n.startsWith("/")?n:IV(n,e):e,search:DV(r),hash:MV(i)}}function IV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ub(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function R2(t){let e=RV(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function k2(t,e,n,r=!1){let i;typeof t=="string"?i=Oc(t):(i={...t},Gt(!i.pathname||!i.pathname.includes("?"),ub("?","pathname","search",i)),Gt(!i.pathname||!i.pathname.includes("#"),ub("#","pathname","hash",i)),Gt(!i.search||!i.search.includes("#"),ub("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),g-=1;i.pathname=x.join("/")}u=g>=0?e[g]:"/"}let d=OV(i,u),h=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var Rs=t=>t.join("/").replace(/\/\/+/g,"/"),kV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function LV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var zk=["POST","PUT","PATCH","DELETE"];new Set(zk);var VV=["GET",...zk];new Set(VV);var md=_.createContext(null);md.displayName="DataRouter";var Gy=_.createContext(null);Gy.displayName="DataRouterState";_.createContext(!1);var $k=_.createContext({isTransitioning:!1});$k.displayName="ViewTransition";var UV=_.createContext(new Map);UV.displayName="Fetchers";var BV=_.createContext(null);BV.displayName="Await";var ya=_.createContext(null);ya.displayName="Navigation";var Mh=_.createContext(null);Mh.displayName="Location";var va=_.createContext({outlet:null,matches:[],isDataRoute:!1});va.displayName="Route";var D2=_.createContext(null);D2.displayName="RouteError";function zV(t,{relative:e}={}){Gt(pd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(ya),{hash:i,pathname:a,search:l}=Lh(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:Rs([n,a])),r.createHref({pathname:u,search:l,hash:i})}function pd(){return _.useContext(Mh)!=null}function hl(){return Gt(pd(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Mh).location}var Fk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qk(t){_.useContext(ya).static||_.useLayoutEffect(t)}function qi(){let{isDataRoute:t}=_.useContext(va);return t?tU():$V()}function $V(){Gt(pd(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(md),{basename:e,navigator:n}=_.useContext(ya),{matches:r}=_.useContext(va),{pathname:i}=hl(),a=JSON.stringify(R2(r)),l=_.useRef(!1);return qk(()=>{l.current=!0}),_.useCallback((d,h={})=>{if(Ui(l.current,Fk),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=k2(d,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Rs([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,a,i,t])}_.createContext(null);function FV(){let{matches:t}=_.useContext(va),e=t[t.length-1];return e?e.params:{}}function Lh(t,{relative:e}={}){let{matches:n}=_.useContext(va),{pathname:r}=hl(),i=JSON.stringify(R2(n));return _.useMemo(()=>k2(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function qV(t,e){return Hk(t,e)}function Hk(t,e,n,r,i){Gt(pd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(ya),{matches:l}=_.useContext(va),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let j=g&&g.path||"";Kk(h,!g||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let x=hl(),b;if(e){let j=typeof e=="string"?Oc(e):e;Gt(p==="/"||j.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),b=j}else b=x;let A=b.pathname||"/",E=A;if(p!=="/"){let j=p.replace(/^\//,"").split("/");E="/"+A.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=Vk(t,{pathname:E});Ui(g||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ui(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=YV(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Rs([p,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Rs([p,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,n,r,i);return e&&C?_.createElement(Mh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function HV(){let t=eU(),e=LV(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,l)}var KV=_.createElement(HV,null),GV=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?_.createElement(va.Provider,{value:this.props.routeContext},_.createElement(D2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WV({routeContext:t,match:e,children:n}){let r=_.useContext(md);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(va.Provider,{value:t},n)}function YV(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Gt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,d=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:x}=n,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||b){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let x,b=!1,A=null,E=null;n&&(x=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||KV,u&&(d<0&&g===0?(Kk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):d===g&&(b=!0,E=p.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,g+1)),C=()=>{let j;return x?j=A:b?j=E:p.route.Component?j=_.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,_.createElement(WV,{match:p,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?_.createElement(GV,{location:n.location,revalidation:n.revalidation,component:A,error:x,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):C()},null)}function M2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XV(t){let e=_.useContext(md);return Gt(e,M2(t)),e}function QV(t){let e=_.useContext(Gy);return Gt(e,M2(t)),e}function ZV(t){let e=_.useContext(va);return Gt(e,M2(t)),e}function L2(t){let e=ZV(t),n=e.matches[e.matches.length-1];return Gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function JV(){return L2("useRouteId")}function eU(){let t=_.useContext(D2),e=QV("useRouteError"),n=L2("useRouteError");return t!==void 0?t:e.errors?.[n]}function tU(){let{router:t}=XV("useNavigate"),e=L2("useNavigate"),n=_.useRef(!1);return qk(()=>{n.current=!0}),_.useCallback(async(i,a={})=>{Ui(n.current,Fk),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var SN={};function Kk(t,e,n){!e&&!SN[t]&&(SN[t]=!0,Ui(!1,n))}_.memo(nU);function nU({routes:t,future:e,state:n,unstable_onError:r}){return Hk(t,void 0,n,r,e)}function db({to:t,replace:e,state:n,relative:r}){Gt(pd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(ya);Ui(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(va),{pathname:l}=hl(),u=qi(),d=k2(t,R2(a),l,r==="path"),h=JSON.stringify(d);return _.useEffect(()=>{u(JSON.parse(h),{replace:e,state:n,relative:r})},[u,h,r,e,n]),null}function kn(t){Gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rU({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Gt(!pd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=Oc(n));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:x="default"}=n,b=_.useMemo(()=>{let A=Bs(d,l);return A==null?null:{location:{pathname:A,search:h,hash:p,state:g,key:x},navigationType:r}},[l,d,h,p,g,x,r]);return Ui(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:_.createElement(ya.Provider,{value:u},_.createElement(Mh.Provider,{children:e,value:b}))}function fb({children:t,location:e}){return qV(c1(t),e)}function c1(t,e=[]){let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let a=[...e,i];if(r.type===_.Fragment){n.push.apply(n,c1(r.props.children,a));return}Gt(r.type===kn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=c1(r.props.children,a)),n.push(l)}),n}var fg="get",hg="application/x-www-form-urlencoded";function Wy(t){return t!=null&&typeof t.tagName=="string"}function iU(t){return Wy(t)&&t.tagName.toLowerCase()==="button"}function aU(t){return Wy(t)&&t.tagName.toLowerCase()==="form"}function sU(t){return Wy(t)&&t.tagName.toLowerCase()==="input"}function oU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lU(t,e){return t.button===0&&(!e||e==="_self")&&!oU(t)}var Up=null;function cU(){if(Up===null)try{new FormData(document.createElement("form"),0),Up=!1}catch{Up=!0}return Up}var uU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hb(t){return t!=null&&!uU.has(t)?(Ui(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hg}"`),null):t}function dU(t,e){let n,r,i,a,l;if(aU(t)){let u=t.getAttribute("action");r=u?Bs(u,e):null,n=t.getAttribute("method")||fg,i=hb(t.getAttribute("enctype"))||hg,a=new FormData(t)}else if(iU(t)||sU(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?Bs(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||fg,i=hb(t.getAttribute("formenctype"))||hb(u.getAttribute("enctype"))||hg,a=new FormData(u,t),!cU()){let{name:h,type:p,value:g}=t;if(p==="image"){let x=h?`${h}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else h&&a.append(h,g)}}else{if(Wy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fg,r=null,i=hg,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function V2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fU(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Bs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function hU(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pU(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await hU(a,n);return l.links?l.links():[]}return[]}));return xU(r.flat(1).filter(mU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function TN(t,e,n,r,i,a){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):a==="data"?e.filter((d,h)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function gU(t,e,{includeHydrateFallback:n}={}){return yU(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function yU(t){return[...new Set(t)]}function vU(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function xU(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(vU(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function Gk(){let t=_.useContext(md);return V2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bU(){let t=_.useContext(Gy);return V2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var U2=_.createContext(void 0);U2.displayName="FrameworkContext";function Wk(){let t=_.useContext(U2);return V2(t,"You must render this element inside a <HydratedRouter> element"),t}function wU(t,e){let n=_.useContext(U2),[r,i]=_.useState(!1),[a,l]=_.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=_.useRef(null);_.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=C=>{C.forEach(j=>{l(j.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[t]),_.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let b=()=>{i(!0)},A=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:qf(u,b),onBlur:qf(d,A),onMouseEnter:qf(h,b),onMouseLeave:qf(p,A),onTouchStart:qf(g,b)}]:[!1,x,{}]}function qf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _U({page:t,...e}){let{router:n}=Gk(),r=_.useMemo(()=>Vk(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(AU,{page:t,matches:r,...e}):null}function EU(t){let{manifest:e,routeModules:n}=Wk(),[r,i]=_.useState([]);return _.useEffect(()=>{let a=!1;return pU(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function AU({page:t,matches:e,...n}){let r=hl(),{manifest:i,routeModules:a}=Wk(),{basename:l}=Gk(),{loaderData:u,matches:d}=bU(),h=_.useMemo(()=>TN(t,e,d,i,r,"data"),[t,e,d,i,r]),p=_.useMemo(()=>TN(t,e,d,i,r,"assets"),[t,e,d,i,r]),g=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,E=!1;if(e.forEach(C=>{let j=i.routes[C.route.id];!j||!j.hasLoader||(!h.some(N=>N.route.id===C.route.id)&&C.route.id in u&&a[C.route.id]?.shouldRevalidate||j.hasClientLoader?E=!0:A.add(C.route.id))}),A.size===0)return[];let S=fU(t,l,"data");return E&&A.size>0&&S.searchParams.set("_routes",e.filter(C=>A.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[l,u,r,i,h,e,t,a]),x=_.useMemo(()=>gU(p,i),[p,i]),b=EU(p);return _.createElement(_.Fragment,null,g.map(A=>_.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),x.map(A=>_.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),b.map(({key:A,link:E})=>_.createElement("link",{key:A,nonce:n.nonce,...E})))}function SU(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Yk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yk&&(window.__reactRouterVersion="7.9.1")}catch{}function TU({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=mV({window:n,v5Compat:!0}));let i=r.current,[a,l]=_.useState({action:i.action,location:i.location}),u=_.useCallback(d=>{_.startTransition(()=>l(d))},[l]);return _.useLayoutEffect(()=>i.listen(u),[i,u]),_.createElement(rU,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var Xk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:g,...x},b){let{basename:A}=_.useContext(ya),E=typeof h=="string"&&Xk.test(h),S,C=!1;if(typeof h=="string"&&E&&(S=h,Yk))try{let k=new URL(window.location.href),$=h.startsWith("//")?new URL(k.protocol+h):new URL(h),V=Bs($.pathname,A);$.origin===k.origin&&V!=null?h=V+$.search+$.hash:C=!0}catch{Ui(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=zV(h,{relative:i}),[N,L,M]=wU(r,x),U=PU(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:g});function R(k){e&&e(k),k.defaultPrevented||U(k)}let I=_.createElement("a",{...x,...M,href:S||j,onClick:C||a?e:R,ref:SU(b,L),target:d,"data-discover":!E&&n==="render"?"true":void 0});return N&&!E?_.createElement(_.Fragment,null,I,_.createElement(_U,{page:j})):I});Ge.displayName="Link";var CU=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:d,...h},p){let g=Lh(l,{relative:h.relative}),x=hl(),b=_.useContext(Gy),{navigator:A,basename:E}=_.useContext(ya),S=b!=null&&DU(g)&&u===!0,C=A.encodeLocation?A.encodeLocation(g).pathname:g.pathname,j=x.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(j=j.toLowerCase(),N=N?N.toLowerCase():null,C=C.toLowerCase()),N&&E&&(N=Bs(N,E)||N);const L=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let M=j===C||!i&&j.startsWith(C)&&j.charAt(L)==="/",U=N!=null&&(N===C||!i&&N.startsWith(C)&&N.charAt(C.length)==="/"),R={isActive:M,isPending:U,isTransitioning:S},I=M?e:void 0,k;typeof r=="function"?k=r(R):k=[r,M?"active":null,U?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let $=typeof a=="function"?a(R):a;return _.createElement(Ge,{...h,"aria-current":I,className:k,ref:p,style:$,to:l,viewTransition:u},typeof d=="function"?d(R):d)});CU.displayName="NavLink";var NU=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=fg,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,...x},b)=>{let A=RU(),E=kU(u,{relative:h}),S=l.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&Xk.test(u),j=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let L=N.nativeEvent.submitter,M=L?.getAttribute("formmethod")||l;A(L||N.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:a,relative:h,preventScrollReset:p,viewTransition:g})};return _.createElement("form",{ref:b,method:S,action:E,onSubmit:r?d:j,...x,"data-discover":!C&&t==="render"?"true":void 0})});NU.displayName="Form";function jU(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qk(t){let e=_.useContext(md);return Gt(e,jU(t)),e}function PU(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=qi(),d=hl(),h=Lh(t,{relative:a});return _.useCallback(p=>{if(lU(p,e)){p.preventDefault();let g=n!==void 0?n:ph(d)===ph(h);u(t,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[d,u,h,n,r,e,t,i,a,l])}var OU=0,IU=()=>`__${String(++OU)}__`;function RU(){let{router:t}=Qk("useSubmit"),{basename:e}=_.useContext(ya),n=JV();return _.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:d,body:h}=dU(r,e);if(i.navigate===!1){let p=i.fetcherKey||IU();await t.fetch(p,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function kU(t,{relative:e}={}){let{basename:n}=_.useContext(ya),r=_.useContext(va);Gt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Lh(t||".",{relative:e})},l=hl();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Rs([n,a.pathname])),ph(a)}function DU(t,{relative:e}={}){let n=_.useContext($k);Gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Qk("useViewTransitionState"),i=Lh(t,{relative:e});if(!n.isTransitioning)return!1;let a=Bs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Bs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tg(i.pathname,l)!=null||Tg(i.pathname,a)!=null}var Zk=Lk();const MU=()=>{};var CN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},LU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},e4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,p=a>>2,g=(a&3)<<4|u>>4;let x=(u&15)<<2|h>>6,b=h&63;d||(b=64,l||(x=64)),r.push(n[p],n[g],n[x],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Jk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||h==null||g==null)throw new VU;const x=a<<2|u>>4;if(r.push(x),h!==64){const b=u<<4&240|h>>2;if(r.push(b),g!==64){const A=h<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UU=function(t){const e=Jk(t);return e4.encodeByteArray(e,!0)},Cg=function(t){return UU(t).replace(/\./g,"")},t4=function(t){try{return e4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=()=>BU().__FIREBASE_DEFAULTS__,$U=()=>{if(typeof process>"u"||typeof CN>"u")return;const t=CN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&t4(t[1]);return e&&JSON.parse(e)},Yy=()=>{try{return MU()||zU()||$U()||FU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},n4=t=>Yy()?.emulatorHosts?.[t],r4=t=>{const e=n4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},i4=()=>Yy()?.config,a4=t=>Yy()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Cg(JSON.stringify(n)),Cg(JSON.stringify(l)),""].join(".")}const oh={};function HU(){const t={prod:[],emulator:[]};for(const e of Object.keys(oh))oh[e]?t.emulator.push(e):t.prod.push(e);return t}function KU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let NN=!1;function z2(t,e){if(typeof window>"u"||typeof document>"u"||!Ic(window.location.host)||oh[t]===e||oh[t]||NN)return;oh[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=HU().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,b){x.setAttribute("width","24"),x.setAttribute("id",b),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{NN=!0,l()},x}function p(x,b){x.setAttribute("id",b),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=KU(r),b=n("text"),A=document.getElementById(b)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),C=n("preprendIcon"),j=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const N=x.element;u(N),p(S,E);const L=h();d(j,C),N.append(j,A,S,L),document.body.appendChild(N)}a?(A.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xr())}function WU(){const t=Yy()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZU(){const t=xr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JU(){return!WU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eB(){try{return typeof indexedDB=="object"}catch{return!1}}function tB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB="FirebaseError";class Za extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nB,Object.setPrototypeOf(this,Za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vh.prototype.create)}}class Vh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?rB(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Za(i,u,r)}}function rB(t,e){return t.replace(iB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iB=/\{\$([^}]+)}/g;function aB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(jN(a)&&jN(l)){if(!zs(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function eh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function sB(t,e){const n=new oB(t,e);return n.subscribe.bind(n)}class oB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mb),i.error===void 0&&(i.error=mb),i.complete===void 0&&(i.complete=mb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){return t&&t._delegate?t._delegate:t}class nl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cB=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dB(e))try{this.getOrInitializeService({instanceIdentifier:tc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=tc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tc){return this.instances.has(e)}getOptions(e=tc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tc){return this.component?this.component.multipleInstances?e:tc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function uB(t){return t===tc?void 0:t}function dB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const hB={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},mB=nt.INFO,pB={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},gB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $2{constructor(e){this.name=e,this._logLevel=mB,this._logHandler=gB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const yB=(t,e)=>e.some(n=>t instanceof n);let PN,ON;function vB(){return PN||(PN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xB(){return ON||(ON=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o4=new WeakMap,u1=new WeakMap,l4=new WeakMap,pb=new WeakMap,F2=new WeakMap;function bB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Xo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&o4.set(n,t)}).catch(()=>{}),F2.set(e,t),e}function wB(t){if(u1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});u1.set(t,e)}let d1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return u1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||l4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _B(t){d1=t(d1)}function EB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gb(this),e,...n);return l4.set(r,e.sort?e.sort():[e]),Xo(r)}:xB().includes(t)?function(...e){return t.apply(gb(this),e),Xo(o4.get(this))}:function(...e){return Xo(t.apply(gb(this),e))}}function AB(t){return typeof t=="function"?EB(t):(t instanceof IDBTransaction&&wB(t),yB(t,vB())?new Proxy(t,d1):t)}function Xo(t){if(t instanceof IDBRequest)return bB(t);if(pb.has(t))return pb.get(t);const e=AB(t);return e!==t&&(pb.set(t,e),F2.set(e,t)),e}const gb=t=>F2.get(t);function SB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=Xo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Xo(l.result),d.oldVersion,d.newVersion,Xo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const TB=["get","getKey","getAll","getAllKeys","count"],CB=["put","add","delete","clear"],yb=new Map;function IN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yb.get(e))return yb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=CB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TB.includes(n)))return;const a=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&d.done]))[0]};return yb.set(e,a),a}_B(t=>({...t,get:(e,n,r)=>IN(e,n)||t.get(e,n,r),has:(e,n)=>!!IN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jB(t){return t.getComponent()?.type==="VERSION"}const f1="@firebase/app",RN="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new $2("@firebase/app"),PB="@firebase/app-compat",OB="@firebase/analytics-compat",IB="@firebase/analytics",RB="@firebase/app-check-compat",kB="@firebase/app-check",DB="@firebase/auth",MB="@firebase/auth-compat",LB="@firebase/database",VB="@firebase/data-connect",UB="@firebase/database-compat",BB="@firebase/functions",zB="@firebase/functions-compat",$B="@firebase/installations",FB="@firebase/installations-compat",qB="@firebase/messaging",HB="@firebase/messaging-compat",KB="@firebase/performance",GB="@firebase/performance-compat",WB="@firebase/remote-config",YB="@firebase/remote-config-compat",XB="@firebase/storage",QB="@firebase/storage-compat",ZB="@firebase/firestore",JB="@firebase/ai",ez="@firebase/firestore-compat",tz="firebase",nz="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="[DEFAULT]",rz={[f1]:"fire-core",[PB]:"fire-core-compat",[IB]:"fire-analytics",[OB]:"fire-analytics-compat",[kB]:"fire-app-check",[RB]:"fire-app-check-compat",[DB]:"fire-auth",[MB]:"fire-auth-compat",[LB]:"fire-rtdb",[VB]:"fire-data-connect",[UB]:"fire-rtdb-compat",[BB]:"fire-fn",[zB]:"fire-fn-compat",[$B]:"fire-iid",[FB]:"fire-iid-compat",[qB]:"fire-fcm",[HB]:"fire-fcm-compat",[KB]:"fire-perf",[GB]:"fire-perf-compat",[WB]:"fire-rc",[YB]:"fire-rc-compat",[XB]:"fire-gcs",[QB]:"fire-gcs-compat",[ZB]:"fire-fst",[ez]:"fire-fst-compat",[JB]:"fire-vertex","fire-js":"fire-js",[tz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=new Map,iz=new Map,m1=new Map;function kN(t,e){try{t.container.addComponent(e)}catch(n){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vc(t){const e=t.name;if(m1.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;m1.set(e,t);for(const n of Ng.values())kN(n,t);for(const n of iz.values())kN(n,t);return!0}function Xy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qo=new Vh("app","Firebase",az);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=nz;function c4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:h1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Qo.create("bad-app-name",{appName:String(i)});if(n||(n=i4()),!n)throw Qo.create("no-options");const a=Ng.get(i);if(a){if(zs(n,a.options)&&zs(r,a.config))return a;throw Qo.create("duplicate-app",{appName:i})}const l=new fB(i);for(const d of m1.values())l.addComponent(d);const u=new sz(n,r,l);return Ng.set(i,u),u}function q2(t=h1){const e=Ng.get(t);if(!e&&t===h1&&i4())return c4();if(!e)throw Qo.create("no-app",{appName:t});return e}function Va(t,e,n){let r=rz[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(l.join(" "));return}vc(new nl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz="firebase-heartbeat-database",lz=1,gh="firebase-heartbeat-store";let vb=null;function u4(){return vb||(vb=SB(oz,lz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qo.create("idb-open",{originalErrorMessage:t.message})})),vb}async function cz(t){try{const n=(await u4()).transaction(gh),r=await n.objectStore(gh).get(d4(t));return await n.done,r}catch(e){if(e instanceof Za)$s.warn(e.message);else{const n=Qo.create("idb-get",{originalErrorMessage:e?.message});$s.warn(n.message)}}}async function DN(t,e){try{const r=(await u4()).transaction(gh,"readwrite");await r.objectStore(gh).put(e,d4(t)),await r.done}catch(n){if(n instanceof Za)$s.warn(n.message);else{const r=Qo.create("idb-set",{originalErrorMessage:n?.message});$s.warn(r.message)}}}function d4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=1024,dz=30;class fz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=MN();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>dz){const i=pz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=MN(),{heartbeatsToSend:n,unsentEntries:r}=hz(this._heartbeatsCache.heartbeats),i=Cg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return $s.warn(e),""}}}function MN(){return new Date().toISOString().substring(0,10)}function hz(t,e=uz){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),LN(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),LN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eB()?tB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cz(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return DN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return DN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function LN(t){return Cg(JSON.stringify({version:2,heartbeats:t})).length}function pz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(t){vc(new nl("platform-logger",e=>new NB(e),"PRIVATE")),vc(new nl("heartbeat",e=>new fz(e),"PRIVATE")),Va(f1,RN,t),Va(f1,RN,"esm2020"),Va("fire-js","")}gz("");function f4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yz=f4,h4=new Vh("auth","Firebase",f4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=new $2("@firebase/auth");function vz(t,...e){jg.logLevel<=nt.WARN&&jg.warn(`Auth (${Rc}): ${t}`,...e)}function mg(t,...e){jg.logLevel<=nt.ERROR&&jg.error(`Auth (${Rc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,...e){throw K2(t,...e)}function da(t,...e){return K2(t,...e)}function H2(t,e,n){const r={...yz(),[e]:n};return new Vh("auth","Firebase",r).create(e,{appName:t.name})}function ks(t){return H2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Bi(t,"argument-error"),H2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function K2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return h4.create(t,...e)}function Ue(t,e,...n){if(!t)throw K2(e,...n)}function Ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mg(e),new Error(e)}function Fs(t,e){t||Ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){return typeof self<"u"&&self.location?.href||""}function bz(){return VN()==="http:"||VN()==="https:"}function VN(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bz()||XU()||"connection"in navigator)?navigator.onLine:!0}function _z(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=GU()||QU()}get(){return wz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e){Fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sz=new Bh(3e4,6e4);function Zs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ja(t,e,n,r,i={}){return p4(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Uh({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...a};return YU()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Ic(t.emulatorConfig.host)&&(h.credentials="include"),m4.fetch()(await g4(t,t.config.apiHost,n,u),h)})}async function p4(t,e,n){t._canInitEmulator=!1;const r={...Ez,...e};try{const i=new Cz(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Bp(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bp(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Bp(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Bp(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw H2(t,p,h);Bi(t,p)}}catch(i){if(i instanceof Za)throw i;Bi(t,"network-request-failed",{message:String(i)})}}async function zh(t,e,n,r,i={}){const a=await Ja(t,e,n,r,i);return"mfaPendingCredential"in a&&Bi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function g4(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?G2(t.config,i):`${t.config.apiScheme}://${i}`;return Az.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function Tz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Cz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(da(this.auth,"network-request-failed")),Sz.get())})}}function Bp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=da(t,e,r);return i.customData._tokenResponse=n,i}function UN(t){return t!==void 0&&t.enterprise!==void 0}class Nz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Tz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jz(t,e){return Ja(t,"GET","/v2/recaptchaConfig",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pz(t,e){return Ja(t,"POST","/v1/accounts:delete",e)}async function Pg(t,e){return Ja(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Oz(t,e=!1){const n=ln(t),r=await n.getIdToken(e),i=W2(r);Ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:lh(xb(i.auth_time)),issuedAtTime:lh(xb(i.iat)),expirationTime:lh(xb(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function xb(t){return Number(t)*1e3}function W2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return mg("JWT malformed, contained fewer than 3 sections"),null;try{const i=t4(n);return i?JSON.parse(i):(mg("Failed to decode base64 JWT payload"),null)}catch(i){return mg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function BN(t){const e=W2(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Za&&Iz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Iz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lh(this.lastLoginAt),this.creationTime=lh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Og(t){const e=t.auth,n=await t.getIdToken(),r=await Gu(t,Pg(e,{idToken:n}));Ue(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?y4(i.providerUserInfo):[],l=Dz(t.providerData,a),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,h=u?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new g1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function kz(t){const e=ln(t);await Og(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Dz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function y4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mz(t,e){const n=await p4(t,{},async()=>{const r=Uh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await g4(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&Ic(t.emulatorConfig.host)&&(d.credentials="include"),m4.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lz(t,e){return Ja(t,"POST","/v2/accounts:revokeToken",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=BN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Mz(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Lu;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ue(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ue(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lu,this.toJSON())}_performRefresh(){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ca{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Rz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new g1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Gu(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Oz(this,e)}reload(){return kz(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ca({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Og(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zr(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await Gu(this,Pz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:b,providerData:A,stsTokenManager:E}=n;Ue(g&&E,e,"internal-error");const S=Lu.fromJSON(this.name,E);Ue(typeof g=="string",e,"internal-error"),Bo(r,e.name),Bo(i,e.name),Ue(typeof x=="boolean",e,"internal-error"),Ue(typeof b=="boolean",e,"internal-error"),Bo(a,e.name),Bo(l,e.name),Bo(u,e.name),Bo(d,e.name),Bo(h,e.name),Bo(p,e.name);const C=new ca({uid:g,auth:e,email:i,emailVerified:x,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:S,createdAt:h,lastLoginAt:p});return A&&Array.isArray(A)&&(C.providerData=A.map(j=>({...j}))),d&&(C._redirectEventId=d),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Lu;i.updateFromServerResponse(n);const a=new ca({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Og(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ue(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?y4(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,u=new Lu;u.updateFromIdToken(r);const d=new ca({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new g1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new Map;function js(t){Fs(t instanceof Function,"Expected a class definition");let e=zN.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}v4.type="NONE";const $N=v4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t,e,n){return`firebase:${t}:${e}:${n}`}class Vu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=pg(this.userKey,i.apiKey,a),this.fullPersistenceKey=pg("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Pg(this.auth,{idToken:e}).catch(()=>{});return n?ca._fromGetAccountInfoResponse(this.auth,n,e):null}return ca._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vu(js($N),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||js($N);const l=pg(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const x=await Pg(e,{idToken:p}).catch(()=>{});if(!x)break;g=await ca._fromGetAccountInfoResponse(e,x,p)}else g=ca._fromJSON(e,p);h!==a&&(u=g),a=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Vu(a,e,r):(a=d[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new Vu(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(A4(e))return"Blackberry";if(S4(e))return"Webos";if(b4(e))return"Safari";if((e.includes("chrome/")||w4(e))&&!e.includes("edge/"))return"Chrome";if(E4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function x4(t=xr()){return/firefox\//i.test(t)}function b4(t=xr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w4(t=xr()){return/crios\//i.test(t)}function _4(t=xr()){return/iemobile/i.test(t)}function E4(t=xr()){return/android/i.test(t)}function A4(t=xr()){return/blackberry/i.test(t)}function S4(t=xr()){return/webos/i.test(t)}function Y2(t=xr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Vz(t=xr()){return Y2(t)&&!!window.navigator?.standalone}function Uz(){return ZU()&&document.documentMode===10}function T4(t=xr()){return Y2(t)||E4(t)||S4(t)||A4(t)||/windows phone/i.test(t)||_4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t,e=[]){let n;switch(t){case"Browser":n=FN(xr());break;case"Worker":n=`${FN(xr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const d=e(a);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zz(t,e={}){return Ja(t,"GET","/v2/passwordPolicy",Zs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z=6;class Fz{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$z,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qN(this),this.idTokenSubscription=new qN(this),this.beforeStateQueue=new Bz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=js(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Pg(this,{idToken:e}),r=await ca._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Og(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_z()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zr(this.app))return Promise.reject(ks(this));const n=e?ln(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zr(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zr(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zz(this),n=new Fz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lz(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&js(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await Vu.create(this,[js(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vz(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Js(t){return ln(t)}class qN{constructor(e){this.auth=e,this.observer=null,this.addObserver=sB(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hz(t){Qy=t}function N4(t){return Qy.loadJS(t)}function Kz(){return Qy.recaptchaEnterpriseScript}function Gz(){return Qy.gapiScript}function Wz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Yz{constructor(){this.enterprise=new Xz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Xz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Qz="recaptcha-enterprise",j4="NO_RECAPTCHA";class Zz{constructor(e){this.type=Qz,this.auth=Js(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{jz(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new Nz(d);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(a,l,u){const d=window.grecaptcha;UN(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{l(h)}).catch(()=>{l(j4)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Yz().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&UN(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Kz();d.length!==0&&(d+=u),N4(d).then(()=>{i(u,a,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function HN(t,e,n,r=!1,i=!1){const a=new Zz(t);let l;if(i)l=j4;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Ig(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await HN(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await HN(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t,e){const n=Xy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(zs(a,e??{}))return i;Bi(i,"already-initialized")}return n.initialize({options:e})}function e$(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(js);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function t$(t,e,n){const r=Js(t);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=P4(e),{host:l,port:u}=n$(e),d=u===null?"":`:${u}`,h={url:`${a}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(zs(h,r.config.emulator)&&zs(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Ic(l)?(B2(`${a}//${l}${d}`),z2("Auth",!0)):r$()}function P4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function n$(t){const e=P4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:KN(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:KN(l)}}}function KN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function r$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,n){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function i$(t,e){return Ja(t,"POST","/v1/accounts:update",e)}async function a$(t,e){return Ja(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s$(t,e){return zh(t,"POST","/v1/accounts:signInWithPassword",Zs(t,e))}async function o$(t,e){return Ja(t,"POST","/v1/accounts:sendOobCode",Zs(t,e))}async function l$(t,e){return o$(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c$(t,e){return zh(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}async function u$(t,e){return zh(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends X2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new yh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ig(e,n,"signInWithPassword",s$);case"emailLink":return c$(e,{email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ig(e,r,"signUpPassword",a$);case"emailLink":return u$(e,{idToken:n,email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(t,e){return zh(t,"POST","/v1/accounts:signInWithIdp",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$="http://localhost";class xc extends X2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new xc(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Uu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Uu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uu(e,n)}buildRequest(){const e={requestUri:d$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h$(t){const e=Jf(eh(t)).link,n=e?Jf(eh(e)).deep_link_id:null,r=Jf(eh(t)).deep_link_id;return(r?Jf(eh(r)).link:null)||r||n||e||t}class Q2{constructor(e){const n=Jf(eh(e)),r=n.apiKey??null,i=n.oobCode??null,a=f$(n.mode??null);Ue(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=h$(e);try{return new Q2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this.providerId=kc.PROVIDER_ID}static credential(e,n){return yh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Q2.parseLink(n);return Ue(r,"argument-error"),yh._fromEmailAndCode(e,r.code,r.tenantId)}}kc.PROVIDER_ID="password";kc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends Z2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends $h{constructor(){super("facebook.com")}static credential(e){return xc._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fo.credential(e.oauthAccessToken)}catch{return null}}}Fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends $h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xc._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ma.credential(n,r)}catch{return null}}}Ma.GOOGLE_SIGN_IN_METHOD="google.com";Ma.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends $h{constructor(){super("github.com")}static credential(e){return xc._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qo.credential(e.oauthAccessToken)}catch{return null}}}qo.GITHUB_SIGN_IN_METHOD="github.com";qo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends $h{constructor(){super("twitter.com")}static credential(e,n){return xc._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ho.credential(n,r)}catch{return null}}}Ho.TWITTER_SIGN_IN_METHOD="twitter.com";Ho.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m$(t,e){return zh(t,"POST","/v1/accounts:signUp",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ca._fromIdTokenResponse(e,r,i),l=GN(r);return new bc({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=GN(r);return new bc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function GN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg extends Za{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Rg(e,n,r,i)}}function O4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rg._fromErrorAndOperation(t,a,e,r):a})}async function p$(t,e,n=!1){const r=await Gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t,e,n=!1){const{auth:r}=t;if(zr(r.app))return Promise.reject(ks(r));const i="reauthenticate";try{const a=await Gu(t,O4(r,i,e,t),n);Ue(a.idToken,r,"internal-error");const l=W2(a.idToken);Ue(l,r,"internal-error");const{sub:u}=l;return Ue(t.uid===u,r,"user-mismatch"),bc._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Bi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t,e,n=!1){if(zr(t.app))return Promise.reject(ks(t));const r="signIn",i=await O4(t,r,e),a=await bc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function g$(t,e){return R4(Js(t),e)}async function y$(t,e){return I4(ln(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(t){const e=Js(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function v$(t,e,n){const r=Js(t);await Ig(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",l$)}async function x$(t,e,n){if(zr(t.app))return Promise.reject(ks(t));const r=Js(t),l=await Ig(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",m$).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&k4(t),d}),u=await bc._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function b$(t,e,n){return zr(t.app)?Promise.reject(ks(t)):g$(ln(t),kc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&k4(t),r})}function w$(t,e){return _$(ln(t),null,e)}async function _$(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const l=await Gu(t,i$(r,a));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t,e){return ln(t).setPersistence(e)}function A$(t,e,n,r){return ln(t).onIdTokenChanged(e,n,r)}function S$(t,e,n){return ln(t).beforeAuthStateChanged(e,n)}function T$(t,e,n,r){return ln(t).onAuthStateChanged(e,n,r)}function D4(t){return ln(t).signOut()}const kg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kg,"1"),this.storage.removeItem(kg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$=1e3,N$=10;class L4 extends M4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);Uz()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,N$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},C$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}L4.type="LOCAL";const V4=L4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4 extends M4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U4.type="SESSION";const B4=U4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Zy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(n.origin,a)),d=await j$(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,d)=>{const h=J2("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const x=g;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(x.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(){return window}function O$(t){Ua().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(){return typeof Ua().WorkerGlobalScope<"u"&&typeof Ua().importScripts=="function"}async function I$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R$(){return navigator?.serviceWorker?.controller||null}function k$(){return z4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="firebaseLocalStorageDb",D$=1,Dg="firebaseLocalStorage",F4="fbase_key";class Fh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jy(t,e){return t.transaction([Dg],e?"readwrite":"readonly").objectStore(Dg)}function M$(){const t=indexedDB.deleteDatabase($4);return new Fh(t).toPromise()}function y1(){const t=indexedDB.open($4,D$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dg,{keyPath:F4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dg)?e(r):(r.close(),await M$(),e(await y1()))})})}async function WN(t,e,n){const r=Jy(t,!0).put({[F4]:e,value:n});return new Fh(r).toPromise()}async function L$(t,e){const n=Jy(t,!1).get(e),r=await new Fh(n).toPromise();return r===void 0?null:r.value}function YN(t,e){const n=Jy(t,!0).delete(e);return new Fh(n).toPromise()}const V$=800,U$=3;class q4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await y1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>U$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zy._getInstance(k$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await I$(),!this.activeServiceWorker)return;this.sender=new P$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||R$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await y1();return await WN(e,kg,"1"),await YN(e,kg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>WN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>L$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Jy(i,!1).getAll();return new Fh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q4.type="LOCAL";const B$=q4;new Bh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t,e){return e?js(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_ extends X2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function z$(t){return R4(t.auth,new e_(t),t.bypassAuthState)}function $$(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),I4(n,new e_(t),t.bypassAuthState)}async function F$(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),p$(n,new e_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z$;case"linkViaPopup":case"linkViaRedirect":return F$;case"reauthViaPopup":case"reauthViaRedirect":return $$;default:Bi(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$=new Bh(2e3,1e4);async function G4(t,e,n){if(zr(t.app))return Promise.reject(da(t,"operation-not-supported-in-this-environment"));const r=Js(t);xz(t,e,Z2);const i=H4(r,n);return new ac(r,"signInViaPopup",e,i).executeNotNull()}class ac extends K4{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ac.currentPopupAction&&ac.currentPopupAction.cancel(),ac.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const e=J2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(da(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(da(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ac.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(da(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q$.get())};e()}}ac.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$="pendingRedirect",gg=new Map;class K$ extends K4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gg.get(this.auth._key());if(!e){try{const r=await G$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gg.set(this.auth._key(),e)}return this.bypassAuthState||gg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G$(t,e){const n=X$(e),r=Y$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function W$(t,e){gg.set(t._key(),e)}function Y$(t){return js(t._redirectPersistence)}function X$(t){return pg(H$,t.config.apiKey,t.name)}async function Q$(t,e,n=!1){if(zr(t.app))return Promise.reject(ks(t));const r=Js(t),i=H4(r,e),l=await new K$(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=600*1e3;class J${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!W4(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(da(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z$&&this.cachedEventUids.clear(),this.cachedEventUids.has(XN(e))}saveEventToCache(e){this.cachedEventUids.add(XN(e)),this.lastProcessedEventTime=Date.now()}}function XN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function W4({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function eF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tF(t,e={}){return Ja(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rF=/^https?/;async function iF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tF(t);for(const n of e)try{if(aF(n))return}catch{}Bi(t,"unauthorized-domain")}function aF(t){const e=p1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!rF.test(n))return!1;if(nF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=new Bh(3e4,6e4);function QN(){const t=Ua().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oF(t){return new Promise((e,n)=>{function r(){QN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QN(),n(da(t,"network-request-failed"))},timeout:sF.get()})}if(Ua().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ua().gapi?.load)r();else{const i=Wz("iframefcb");return Ua()[i]=()=>{gapi.load?r():n(da(t,"network-request-failed"))},N4(`${Gz()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw yg=null,e})}let yg=null;function lF(t){return yg=yg||oF(t),yg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=new Bh(5e3,15e3),uF="__/auth/iframe",dF="emulator/auth/iframe",fF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mF(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?G2(e,dF):`https://${t.config.authDomain}/${uF}`,r={apiKey:e.apiKey,appName:t.name,v:Rc},i=hF.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Uh(r).slice(1)}`}async function pF(t){const e=await lF(t),n=Ua().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:mF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fF,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=da(t,"network-request-failed"),u=Ua().setTimeout(()=>{a(l)},cF.get());function d(){Ua().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yF=500,vF=600,xF="_blank",bF="http://localhost";class ZN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wF(t,e,n,r=yF,i=vF){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...gF,width:r.toString(),height:i.toString(),top:a,left:l},h=xr().toLowerCase();n&&(u=w4(h)?xF:n),x4(h)&&(e=e||bF,d.scrollbars="yes");const p=Object.entries(d).reduce((x,[b,A])=>`${x}${b}=${A},`,"");if(Vz(h)&&u!=="_self")return _F(e||"",u),new ZN(null);const g=window.open(e||"",u,p);Ue(g,t,"popup-blocked");try{g.focus()}catch{}return new ZN(g)}function _F(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF="__/auth/handler",AF="emulator/auth/handler",SF=encodeURIComponent("fac");async function JN(t,e,n,r,i,a){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Rc,eventId:i};if(e instanceof Z2){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",aB(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof $h){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),h=d?`#${SF}=${encodeURIComponent(d)}`:"";return`${TF(t)}?${Uh(u).slice(1)}${h}`}function TF({config:t}){return t.emulator?G2(t,AF):`https://${t.authDomain}/${EF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="webStorageSupport";class CF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B4,this._completeRedirectFn=Q$,this._overrideRedirectResult=W$}async _openPopup(e,n,r,i){Fs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await JN(e,n,r,p1(),i);return wF(e,a,J2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await JN(e,n,r,p1(),i);return O$(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Fs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pF(e),r=new J$(e);return n.register("authEvent",i=>(Ue(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bb,{type:bb},i=>{const a=i?.[0]?.[bb];a!==void 0&&n(!!a),Bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return T4()||b4()||Y2()}}const NF=CF;var ej="@firebase/auth",tj="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OF(t){vc(new nl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ue(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C4(t)},h=new qz(r,i,a,d);return e$(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vc(new nl("auth-internal",e=>{const n=Js(e.getProvider("auth").getImmediate());return(r=>new jF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Va(ej,tj,PF(t)),Va(ej,tj,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=300,RF=a4("authIdTokenMaxAge")||IF;let nj=null;const kF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>RF)return;const i=n?.token;nj!==i&&(nj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function DF(t=q2()){const e=Xy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jz(t,{popupRedirectResolver:NF,persistence:[B$,V4,B4]}),r=a4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=kF(a.toString());S$(n,l,()=>l(n.currentUser)),A$(n,u=>l(u))}}const i=n4("auth");return i&&t$(n,`http://${i}`),n}function MF(){return document.getElementsByTagName("head")?.[0]??document}Hz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=da("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",MF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OF("Browser");var LF="firebase",VF="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Va(LF,VF,"app");var rj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zo,Y4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function k(){}k.prototype=I.prototype,R.F=I.prototype,R.prototype=new k,R.prototype.constructor=R,R.D=function($,V,F){for(var B=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)B[ve-2]=arguments[ve];return I.prototype[V].apply($,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,I,k){k||(k=0);const $=Array(16);if(typeof I=="string")for(var V=0;V<16;++V)$[V]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(V=0;V<16;++V)$[V]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=R.g[0],k=R.g[1],V=R.g[2];let F=R.g[3],B;B=I+(F^k&(V^F))+$[0]+3614090360&4294967295,I=k+(B<<7&4294967295|B>>>25),B=F+(V^I&(k^V))+$[1]+3905402710&4294967295,F=I+(B<<12&4294967295|B>>>20),B=V+(k^F&(I^k))+$[2]+606105819&4294967295,V=F+(B<<17&4294967295|B>>>15),B=k+(I^V&(F^I))+$[3]+3250441966&4294967295,k=V+(B<<22&4294967295|B>>>10),B=I+(F^k&(V^F))+$[4]+4118548399&4294967295,I=k+(B<<7&4294967295|B>>>25),B=F+(V^I&(k^V))+$[5]+1200080426&4294967295,F=I+(B<<12&4294967295|B>>>20),B=V+(k^F&(I^k))+$[6]+2821735955&4294967295,V=F+(B<<17&4294967295|B>>>15),B=k+(I^V&(F^I))+$[7]+4249261313&4294967295,k=V+(B<<22&4294967295|B>>>10),B=I+(F^k&(V^F))+$[8]+1770035416&4294967295,I=k+(B<<7&4294967295|B>>>25),B=F+(V^I&(k^V))+$[9]+2336552879&4294967295,F=I+(B<<12&4294967295|B>>>20),B=V+(k^F&(I^k))+$[10]+4294925233&4294967295,V=F+(B<<17&4294967295|B>>>15),B=k+(I^V&(F^I))+$[11]+2304563134&4294967295,k=V+(B<<22&4294967295|B>>>10),B=I+(F^k&(V^F))+$[12]+1804603682&4294967295,I=k+(B<<7&4294967295|B>>>25),B=F+(V^I&(k^V))+$[13]+4254626195&4294967295,F=I+(B<<12&4294967295|B>>>20),B=V+(k^F&(I^k))+$[14]+2792965006&4294967295,V=F+(B<<17&4294967295|B>>>15),B=k+(I^V&(F^I))+$[15]+1236535329&4294967295,k=V+(B<<22&4294967295|B>>>10),B=I+(V^F&(k^V))+$[1]+4129170786&4294967295,I=k+(B<<5&4294967295|B>>>27),B=F+(k^V&(I^k))+$[6]+3225465664&4294967295,F=I+(B<<9&4294967295|B>>>23),B=V+(I^k&(F^I))+$[11]+643717713&4294967295,V=F+(B<<14&4294967295|B>>>18),B=k+(F^I&(V^F))+$[0]+3921069994&4294967295,k=V+(B<<20&4294967295|B>>>12),B=I+(V^F&(k^V))+$[5]+3593408605&4294967295,I=k+(B<<5&4294967295|B>>>27),B=F+(k^V&(I^k))+$[10]+38016083&4294967295,F=I+(B<<9&4294967295|B>>>23),B=V+(I^k&(F^I))+$[15]+3634488961&4294967295,V=F+(B<<14&4294967295|B>>>18),B=k+(F^I&(V^F))+$[4]+3889429448&4294967295,k=V+(B<<20&4294967295|B>>>12),B=I+(V^F&(k^V))+$[9]+568446438&4294967295,I=k+(B<<5&4294967295|B>>>27),B=F+(k^V&(I^k))+$[14]+3275163606&4294967295,F=I+(B<<9&4294967295|B>>>23),B=V+(I^k&(F^I))+$[3]+4107603335&4294967295,V=F+(B<<14&4294967295|B>>>18),B=k+(F^I&(V^F))+$[8]+1163531501&4294967295,k=V+(B<<20&4294967295|B>>>12),B=I+(V^F&(k^V))+$[13]+2850285829&4294967295,I=k+(B<<5&4294967295|B>>>27),B=F+(k^V&(I^k))+$[2]+4243563512&4294967295,F=I+(B<<9&4294967295|B>>>23),B=V+(I^k&(F^I))+$[7]+1735328473&4294967295,V=F+(B<<14&4294967295|B>>>18),B=k+(F^I&(V^F))+$[12]+2368359562&4294967295,k=V+(B<<20&4294967295|B>>>12),B=I+(k^V^F)+$[5]+4294588738&4294967295,I=k+(B<<4&4294967295|B>>>28),B=F+(I^k^V)+$[8]+2272392833&4294967295,F=I+(B<<11&4294967295|B>>>21),B=V+(F^I^k)+$[11]+1839030562&4294967295,V=F+(B<<16&4294967295|B>>>16),B=k+(V^F^I)+$[14]+4259657740&4294967295,k=V+(B<<23&4294967295|B>>>9),B=I+(k^V^F)+$[1]+2763975236&4294967295,I=k+(B<<4&4294967295|B>>>28),B=F+(I^k^V)+$[4]+1272893353&4294967295,F=I+(B<<11&4294967295|B>>>21),B=V+(F^I^k)+$[7]+4139469664&4294967295,V=F+(B<<16&4294967295|B>>>16),B=k+(V^F^I)+$[10]+3200236656&4294967295,k=V+(B<<23&4294967295|B>>>9),B=I+(k^V^F)+$[13]+681279174&4294967295,I=k+(B<<4&4294967295|B>>>28),B=F+(I^k^V)+$[0]+3936430074&4294967295,F=I+(B<<11&4294967295|B>>>21),B=V+(F^I^k)+$[3]+3572445317&4294967295,V=F+(B<<16&4294967295|B>>>16),B=k+(V^F^I)+$[6]+76029189&4294967295,k=V+(B<<23&4294967295|B>>>9),B=I+(k^V^F)+$[9]+3654602809&4294967295,I=k+(B<<4&4294967295|B>>>28),B=F+(I^k^V)+$[12]+3873151461&4294967295,F=I+(B<<11&4294967295|B>>>21),B=V+(F^I^k)+$[15]+530742520&4294967295,V=F+(B<<16&4294967295|B>>>16),B=k+(V^F^I)+$[2]+3299628645&4294967295,k=V+(B<<23&4294967295|B>>>9),B=I+(V^(k|~F))+$[0]+4096336452&4294967295,I=k+(B<<6&4294967295|B>>>26),B=F+(k^(I|~V))+$[7]+1126891415&4294967295,F=I+(B<<10&4294967295|B>>>22),B=V+(I^(F|~k))+$[14]+2878612391&4294967295,V=F+(B<<15&4294967295|B>>>17),B=k+(F^(V|~I))+$[5]+4237533241&4294967295,k=V+(B<<21&4294967295|B>>>11),B=I+(V^(k|~F))+$[12]+1700485571&4294967295,I=k+(B<<6&4294967295|B>>>26),B=F+(k^(I|~V))+$[3]+2399980690&4294967295,F=I+(B<<10&4294967295|B>>>22),B=V+(I^(F|~k))+$[10]+4293915773&4294967295,V=F+(B<<15&4294967295|B>>>17),B=k+(F^(V|~I))+$[1]+2240044497&4294967295,k=V+(B<<21&4294967295|B>>>11),B=I+(V^(k|~F))+$[8]+1873313359&4294967295,I=k+(B<<6&4294967295|B>>>26),B=F+(k^(I|~V))+$[15]+4264355552&4294967295,F=I+(B<<10&4294967295|B>>>22),B=V+(I^(F|~k))+$[6]+2734768916&4294967295,V=F+(B<<15&4294967295|B>>>17),B=k+(F^(V|~I))+$[13]+1309151649&4294967295,k=V+(B<<21&4294967295|B>>>11),B=I+(V^(k|~F))+$[4]+4149444226&4294967295,I=k+(B<<6&4294967295|B>>>26),B=F+(k^(I|~V))+$[11]+3174756917&4294967295,F=I+(B<<10&4294967295|B>>>22),B=V+(I^(F|~k))+$[2]+718787259&4294967295,V=F+(B<<15&4294967295|B>>>17),B=k+(F^(V|~I))+$[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(V+(B<<21&4294967295|B>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+F&4294967295}r.prototype.v=function(R,I){I===void 0&&(I=R.length);const k=I-this.blockSize,$=this.C;let V=this.h,F=0;for(;F<I;){if(V==0)for(;F<=k;)i(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<I;)if($[V++]=R.charCodeAt(F++),V==this.blockSize){i(this,$),V=0;break}}else for(;F<I;)if($[V++]=R[F++],V==this.blockSize){i(this,$),V=0;break}}this.h=V,this.o+=I},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;I=this.o*8;for(var k=R.length-8;k<R.length;++k)R[k]=I&255,I/=256;for(this.v(R),R=Array(16),I=0,k=0;k<4;++k)for(let $=0;$<32;$+=8)R[I++]=this.g[k]>>>$&255;return R};function a(R,I){var k=u;return Object.prototype.hasOwnProperty.call(k,R)?k[R]:k[R]=I(R)}function l(R,I){this.h=I;const k=[];let $=!0;for(let V=R.length-1;V>=0;V--){const F=R[V]|0;$&&F==I||(k[V]=F,$=!1)}this.g=k}var u={};function d(R){return-128<=R&&R<128?a(R,function(I){return new l([I|0],I<0?-1:0)}):new l([R|0],R<0?-1:0)}function h(R){if(isNaN(R)||!isFinite(R))return g;if(R<0)return S(h(-R));const I=[];let k=1;for(let $=0;R>=k;$++)I[$]=R/k|0,k*=4294967296;return new l(I,0)}function p(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return S(p(R.substring(1),I));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=h(Math.pow(I,8));let $=g;for(let F=0;F<R.length;F+=8){var V=Math.min(8,R.length-F);const B=parseInt(R.substring(F,F+V),I);V<8?(V=h(Math.pow(I,V)),$=$.j(V).add(h(B))):($=$.j(k),$=$.add(h(B)))}return $}var g=d(0),x=d(1),b=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-S(this).m();let R=0,I=1;for(let k=0;k<this.g.length;k++){const $=this.i(k);R+=($>=0?$:4294967296+$)*I,I*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(A(this))return"0";if(E(this))return"-"+S(this).toString(R);const I=h(Math.pow(R,6));var k=this;let $="";for(;;){const V=L(k,I).g;k=C(k,V.j(I));let F=((k.g.length>0?k.g[0]:k.h)>>>0).toString(R);if(k=V,A(k))return F+$;for(;F.length<6;)F="0"+F;$=F+$}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function A(R){if(R.h!=0)return!1;for(let I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function E(R){return R.h==-1}t.l=function(R){return R=C(this,R),E(R)?-1:A(R)?0:1};function S(R){const I=R.g.length,k=[];for(let $=0;$<I;$++)k[$]=~R.g[$];return new l(k,~R.h).add(x)}t.abs=function(){return E(this)?S(this):this},t.add=function(R){const I=Math.max(this.g.length,R.g.length),k=[];let $=0;for(let V=0;V<=I;V++){let F=$+(this.i(V)&65535)+(R.i(V)&65535),B=(F>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);$=B>>>16,F&=65535,B&=65535,k[V]=B<<16|F}return new l(k,k[k.length-1]&-2147483648?-1:0)};function C(R,I){return R.add(S(I))}t.j=function(R){if(A(this)||A(R))return g;if(E(this))return E(R)?S(this).j(S(R)):S(S(this).j(R));if(E(R))return S(this.j(S(R)));if(this.l(b)<0&&R.l(b)<0)return h(this.m()*R.m());const I=this.g.length+R.g.length,k=[];for(var $=0;$<2*I;$++)k[$]=0;for($=0;$<this.g.length;$++)for(let V=0;V<R.g.length;V++){const F=this.i($)>>>16,B=this.i($)&65535,ve=R.i(V)>>>16,ie=R.i(V)&65535;k[2*$+2*V]+=B*ie,j(k,2*$+2*V),k[2*$+2*V+1]+=F*ie,j(k,2*$+2*V+1),k[2*$+2*V+1]+=B*ve,j(k,2*$+2*V+1),k[2*$+2*V+2]+=F*ve,j(k,2*$+2*V+2)}for(R=0;R<I;R++)k[R]=k[2*R+1]<<16|k[2*R];for(R=I;R<2*I;R++)k[R]=0;return new l(k,0)};function j(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function N(R,I){this.g=R,this.h=I}function L(R,I){if(A(I))throw Error("division by zero");if(A(R))return new N(g,g);if(E(R))return I=L(S(R),I),new N(S(I.g),S(I.h));if(E(I))return I=L(R,S(I)),new N(S(I.g),I.h);if(R.g.length>30){if(E(R)||E(I))throw Error("slowDivide_ only works with positive integers.");for(var k=x,$=I;$.l(R)<=0;)k=M(k),$=M($);var V=U(k,1),F=U($,1);for($=U($,2),k=U(k,2);!A($);){var B=F.add($);B.l(R)<=0&&(V=V.add(k),F=B),$=U($,1),k=U(k,1)}return I=C(R,V.j(I)),new N(V,I)}for(V=g;R.l(I)>=0;){for(k=Math.max(1,Math.floor(R.m()/I.m())),$=Math.ceil(Math.log(k)/Math.LN2),$=$<=48?1:Math.pow(2,$-48),F=h(k),B=F.j(I);E(B)||B.l(R)>0;)k-=$,F=h(k),B=F.j(I);A(F)&&(F=x),V=V.add(F),R=C(R,B)}return new N(V,R)}t.B=function(R){return L(this,R).h},t.and=function(R){const I=Math.max(this.g.length,R.g.length),k=[];for(let $=0;$<I;$++)k[$]=this.i($)&R.i($);return new l(k,this.h&R.h)},t.or=function(R){const I=Math.max(this.g.length,R.g.length),k=[];for(let $=0;$<I;$++)k[$]=this.i($)|R.i($);return new l(k,this.h|R.h)},t.xor=function(R){const I=Math.max(this.g.length,R.g.length),k=[];for(let $=0;$<I;$++)k[$]=this.i($)^R.i($);return new l(k,this.h^R.h)};function M(R){const I=R.g.length+1,k=[];for(let $=0;$<I;$++)k[$]=R.i($)<<1|R.i($-1)>>>31;return new l(k,R.h)}function U(R,I){const k=I>>5;I%=32;const $=R.g.length-k,V=[];for(let F=0;F<$;F++)V[F]=I>0?R.i(F+k)>>>I|R.i(F+k+1)<<32-I:R.i(F+k);return new l(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Y4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Zo=l}).apply(typeof rj<"u"?rj:typeof self<"u"?self:typeof window<"u"?window:{});var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X4,th,Q4,vg,v1,Z4,J4,eD;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof zp=="object"&&zp];for(var T=0;T<y.length;++T){var P=y[T];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(y,T){if(T)e:{var P=r;y=y.split(".");for(var z=0;z<y.length-1;z++){var Z=y[z];if(!(Z in P))break e;P=P[Z]}y=y[y.length-1],z=P[y],T=T(z),T!=z&&T!=null&&e(P,y,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(T){var P=[],z;for(z in T)Object.prototype.hasOwnProperty.call(T,z)&&P.push([z,T[z]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(y){var T=typeof y;return T=="object"&&y!=null||T=="function"}function d(y,T,P){return y.call.apply(y.bind,arguments)}function h(y,T,P){return h=d,h.apply(null,arguments)}function p(y,T){var P=Array.prototype.slice.call(arguments,1);return function(){var z=P.slice();return z.push.apply(z,arguments),y.apply(this,z)}}function g(y,T){function P(){}P.prototype=T.prototype,y.Z=T.prototype,y.prototype=new P,y.prototype.constructor=y,y.Ob=function(z,Z,re){for(var _e=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)_e[qe-2]=arguments[qe];return T.prototype[Z].apply(z,_e)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function b(y){const T=y.length;if(T>0){const P=Array(T);for(let z=0;z<T;z++)P[z]=y[z];return P}return[]}function A(y,T){for(let z=1;z<arguments.length;z++){const Z=arguments[z];var P=typeof Z;if(P=P!="object"?P:Z?Array.isArray(Z)?"array":P:"null",P=="array"||P=="object"&&typeof Z.length=="number"){P=y.length||0;const re=Z.length||0;y.length=P+re;for(let _e=0;_e<re;_e++)y[P+_e]=Z[_e]}else y.push(Z)}}class E{constructor(T,P){this.i=T,this.j=P,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function S(y){l.setTimeout(()=>{throw y},0)}function C(){var y=R;let T=null;return y.g&&(T=y.g,y.g=y.g.next,y.g||(y.h=null),T.next=null),T}class j{constructor(){this.h=this.g=null}add(T,P){const z=N.get();z.set(T,P),this.h?this.h.next=z:this.g=z,this.h=z}}var N=new E(()=>new L,y=>y.reset());class L{constructor(){this.next=this.g=this.h=null}set(T,P){this.h=T,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let M,U=!1,R=new j,I=()=>{const y=Promise.resolve(void 0);M=()=>{y.then(k)}};function k(){for(var y;y=C();){try{y.h.call(y.g)}catch(P){S(P)}var T=N;T.j(y),T.h<100&&(T.h++,y.next=T.g,T.g=y)}U=!1}function $(){this.u=this.u,this.C=this.C}$.prototype.u=!1,$.prototype.dispose=function(){this.u||(this.u=!0,this.N())},$.prototype[Symbol.dispose]=function(){this.dispose()},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(y,T){this.type=y,this.g=this.target=T,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,T=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const P=()=>{};l.addEventListener("test",P,T),l.removeEventListener("test",P,T)}catch{}return y})();function B(y){return/^[\s\xa0]*$/.test(y)}function ve(y,T){V.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,T)}g(ve,V),ve.prototype.init=function(y,T){const P=this.type=y.type,z=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=T,T=y.relatedTarget,T||(P=="mouseover"?T=y.fromElement:P=="mouseout"&&(T=y.toElement)),this.relatedTarget=T,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),G=0;function W(y,T,P,z,Z){this.listener=y,this.proxy=null,this.src=T,this.type=P,this.capture=!!z,this.ha=Z,this.key=++G,this.da=this.fa=!1}function ae(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ye(y,T,P){for(const z in y)T.call(P,y[z],z,y)}function H(y,T){for(const P in y)T.call(void 0,y[P],P,y)}function le(y){const T={};for(const P in y)T[P]=y[P];return T}const ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(y,T){let P,z;for(let Z=1;Z<arguments.length;Z++){z=arguments[Z];for(P in z)y[P]=z[P];for(let re=0;re<ue.length;re++)P=ue[re],Object.prototype.hasOwnProperty.call(z,P)&&(y[P]=z[P])}}function he(y){this.src=y,this.g={},this.h=0}he.prototype.add=function(y,T,P,z,Z){const re=y.toString();y=this.g[re],y||(y=this.g[re]=[],this.h++);const _e=we(y,T,z,Z);return _e>-1?(T=y[_e],P||(T.fa=!1)):(T=new W(T,this.src,re,!!z,Z),T.fa=P,y.push(T)),T};function xe(y,T){const P=T.type;if(P in y.g){var z=y.g[P],Z=Array.prototype.indexOf.call(z,T,void 0),re;(re=Z>=0)&&Array.prototype.splice.call(z,Z,1),re&&(ae(T),y.g[P].length==0&&(delete y.g[P],y.h--))}}function we(y,T,P,z){for(let Z=0;Z<y.length;++Z){const re=y[Z];if(!re.da&&re.listener==T&&re.capture==!!P&&re.ha==z)return Z}return-1}var We="closure_lm_"+(Math.random()*1e6|0),lt={};function Ee(y,T,P,z,Z){if(Array.isArray(T)){for(let re=0;re<T.length;re++)Ee(y,T[re],P,z,Z);return null}return P=ns(P),y&&y[ie]?y.J(T,P,u(z)?!!z.capture:!1,Z):$e(y,T,P,!1,z,Z)}function $e(y,T,P,z,Z,re){if(!T)throw Error("Invalid event type");const _e=u(Z)?!!Z.capture:!!Z;let qe=Yt(y);if(qe||(y[We]=qe=new he(y)),P=qe.add(T,P,z,_e,re),P.proxy)return P;if(z=Ke(),P.proxy=z,z.src=y,z.listener=P,y.addEventListener)F||(Z=_e),Z===void 0&&(Z=!1),y.addEventListener(T.toString(),z,Z);else if(y.attachEvent)y.attachEvent(tt(T.toString()),z);else if(y.addListener&&y.removeListener)y.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Ke(){function y(P){return T.call(y.src,y.listener,P)}const T=xn;return y}function ge(y,T,P,z,Z){if(Array.isArray(T))for(var re=0;re<T.length;re++)ge(y,T[re],P,z,Z);else z=u(z)?!!z.capture:!!z,P=ns(P),y&&y[ie]?(y=y.i,re=String(T).toString(),re in y.g&&(T=y.g[re],P=we(T,P,z,Z),P>-1&&(ae(T[P]),Array.prototype.splice.call(T,P,1),T.length==0&&(delete y.g[re],y.h--)))):y&&(y=Yt(y))&&(T=y.g[T.toString()],y=-1,T&&(y=we(T,P,z,Z)),(P=y>-1?T[y]:null)&&Le(P))}function Le(y){if(typeof y!="number"&&y&&!y.da){var T=y.src;if(T&&T[ie])xe(T.i,y);else{var P=y.type,z=y.proxy;T.removeEventListener?T.removeEventListener(P,z,y.capture):T.detachEvent?T.detachEvent(tt(P),z):T.addListener&&T.removeListener&&T.removeListener(z),(P=Yt(T))?(xe(P,y),P.h==0&&(P.src=null,T[We]=null)):ae(y)}}}function tt(y){return y in lt?lt[y]:lt[y]="on"+y}function xn(y,T){if(y.da)y=!0;else{T=new ve(T,this);const P=y.listener,z=y.ha||y.src;y.fa&&Le(y),y=P.call(z,T)}return y}function Yt(y){return y=y[We],y instanceof he?y:null}var Lt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ns(y){return typeof y=="function"?y:(y[Lt]||(y[Lt]=function(T){return y.handleEvent(T)}),y[Lt])}function Xt(){$.call(this),this.i=new he(this),this.M=this,this.G=null}g(Xt,$),Xt.prototype[ie]=!0,Xt.prototype.removeEventListener=function(y,T,P,z){ge(this,y,T,P,z)};function bn(y,T){var P,z=y.G;if(z)for(P=[];z;z=z.G)P.push(z);if(y=y.M,z=T.type||T,typeof T=="string")T=new V(T,y);else if(T instanceof V)T.target=T.target||y;else{var Z=T;T=new V(z,y),oe(T,Z)}Z=!0;let re,_e;if(P)for(_e=P.length-1;_e>=0;_e--)re=T.g=P[_e],Z=zn(re,z,!0,T)&&Z;if(re=T.g=y,Z=zn(re,z,!0,T)&&Z,Z=zn(re,z,!1,T)&&Z,P)for(_e=0;_e<P.length;_e++)re=T.g=P[_e],Z=zn(re,z,!1,T)&&Z}Xt.prototype.N=function(){if(Xt.Z.N.call(this),this.i){var y=this.i;for(const T in y.g){const P=y.g[T];for(let z=0;z<P.length;z++)ae(P[z]);delete y.g[T],y.h--}}this.G=null},Xt.prototype.J=function(y,T,P,z){return this.i.add(String(y),T,!1,P,z)},Xt.prototype.K=function(y,T,P,z){return this.i.add(String(y),T,!0,P,z)};function zn(y,T,P,z){if(T=y.i.g[String(T)],!T)return!0;T=T.concat();let Z=!0;for(let re=0;re<T.length;++re){const _e=T[re];if(_e&&!_e.da&&_e.capture==P){const qe=_e.listener,Vt=_e.ha||_e.src;_e.fa&&xe(y.i,_e),Z=qe.call(Vt,z)!==!1&&Z}}return Z&&!z.defaultPrevented}function ba(y,T){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(y,T||0)}function Wi(y){y.g=ba(()=>{y.g=null,y.i&&(y.i=!1,Wi(y))},y.l);const T=y.h;y.h=null,y.m.apply(null,T)}class Md extends ${constructor(T,P){super(),this.m=T,this.l=P,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Wi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wa(y){$.call(this),this.h=y,this.g={}}g(wa,$);var Kr=[];function wn(y){ye(y.g,function(T,P){this.g.hasOwnProperty(P)&&Le(T)},y),y.g={}}wa.prototype.N=function(){wa.Z.N.call(this),wn(this)},wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rr=l.JSON.stringify,Zn=l.JSON.parse,Ld=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function _r(){}function Er(){}var pi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _a(){V.call(this,"d")}g(_a,V);function Gr(){V.call(this,"c")}g(Gr,V);var Ar={},Yi=null;function rs(){return Yi=Yi||new Xt}Ar.Ia="serverreachability";function oo(y){V.call(this,Ar.Ia,y)}g(oo,V);function Ea(y){const T=rs();bn(T,new oo(T))}Ar.STAT_EVENT="statevent";function lo(y,T){V.call(this,Ar.STAT_EVENT,y),this.stat=T}g(lo,V);function Qt(y){const T=rs();bn(T,new lo(T,y))}Ar.Ja="timingevent";function Kc(y,T){V.call(this,Ar.Ja,y),this.size=T}g(Kc,V);function Aa(y,T){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},T)}function Sa(){this.g=!0}Sa.prototype.ua=function(){this.g=!1};function co(y,T,P,z,Z,re){y.info(function(){if(y.g)if(re){var _e="",qe=re.split("&");for(let pt=0;pt<qe.length;pt++){var Vt=qe[pt].split("=");if(Vt.length>1){const un=Vt[0];Vt=Vt[1];const Wr=un.split("_");_e=Wr.length>=2&&Wr[1]=="type"?_e+(un+"="+Vt+"&"):_e+(un+"=redacted&")}}}else _e=null;else _e=re;return"XMLHTTP REQ ("+z+") [attempt "+Z+"]: "+T+`
`+P+`
`+_e})}function El(y,T,P,z,Z,re,_e){y.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+Z+"]: "+T+`
`+P+`
`+re+" "+_e})}function Xi(y,T,P,z){y.info(function(){return"XMLHTTP TEXT ("+T+"): "+gi(y,P)+(z?" "+z:"")})}function Vd(y,T){y.info(function(){return"TIMEOUT: "+T})}Sa.prototype.info=function(){};function gi(y,T){if(!y.g)return T;if(!T)return null;try{const re=JSON.parse(T);if(re){for(y=0;y<re.length;y++)if(Array.isArray(re[y])){var P=re[y];if(!(P.length<2)){var z=P[1];if(Array.isArray(z)&&!(z.length<1)){var Z=z[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let _e=1;_e<z.length;_e++)z[_e]=""}}}}return Rr(re)}catch{return T}}var Zt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Y;function be(){}g(be,_r),be.prototype.g=function(){return new XMLHttpRequest},Y=new be;function Pe(y){return encodeURIComponent(String(y))}function bt(y){var T=1;y=y.split(":");const P=[];for(;T>0&&y.length;)P.push(y.shift()),T--;return y.length&&P.push(y.join(":")),P}function Jt(y,T,P,z){this.j=y,this.i=T,this.l=P,this.S=z||1,this.V=new wa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new lr}function lr(){this.i=null,this.g="",this.h=!1}var Qi={},cr={};function yi(y,T,P){y.M=1,y.A=cs(tn(T)),y.u=P,y.R=!0,is(y,null)}function is(y,T){y.F=Date.now(),as(y),y.B=tn(y.A);var P=y.B,z=y.S;Array.isArray(z)||(z=[String(z)]),Cm(P.i,"t",z),y.C=0,P=y.j.L,y.h=new lr,y.g=tu(y.j,P?T:null,!y.u),y.P>0&&(y.O=new Md(h(y.Y,y,y.g),y.P)),T=y.V,P=y.g,z=y.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(Kr[0]=Z.toString()),Z=Kr);for(let re=0;re<Z.length;re++){const _e=Ee(P,Z[re],z||T.handleEvent,!1,T.h||T);if(!_e)break;T.g[_e.key]=_e}T=y.J?le(y.J):{},y.u?(y.v||(y.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,T)):(y.v="GET",y.g.ea(y.B,y.v,null,T)),Ea(),co(y.i,y.v,y.B,y.l,y.S,y.u)}Jt.prototype.ba=function(y){y=y.target;const T=this.O;T&&ur(y)==3?T.j():this.Y(y)},Jt.prototype.Y=function(y){try{if(y==this.g)e:{const qe=ur(this.g),Vt=this.g.ya(),pt=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||Ol(this.g)))){this.K||qe!=4||Vt==7||(Vt==8||pt<=0?Ea(3):Ea(2)),xi(this);var T=this.g.ca();this.X=T;var P=Ta(this);if(this.o=T==200,El(this.i,this.v,this.B,this.l,this.S,qe,T),this.o){if(this.U&&!this.L){t:{if(this.g){var z,Z=this.g;if((z=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(z)){var re=z;break t}}re=null}if(y=re)Xi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,uo(this,y);else{this.o=!1,this.m=3,Qt(12),bi(this),ss(this);break e}}if(this.R){y=!0;let un;for(;!this.K&&this.C<P.length;)if(un=Ud(this,P),un==cr){qe==4&&(this.m=4,Qt(14),y=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(un==Qi){this.m=4,Qt(15),Xi(this.i,this.l,P,"[Invalid Chunk]"),y=!1;break}else Xi(this.i,this.l,un,null),uo(this,un);if(en(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||P.length!=0||this.h.h||(this.m=1,Qt(16),y=!1),this.o=this.o&&y,!y)Xi(this.i,this.l,P,"[Invalid Chunked Response]"),bi(this),ss(this);else if(P.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Xd(_e),_e.P=!0,Qt(11))}}else Xi(this.i,this.l,P,null),uo(this,P);qe==4&&bi(this),this.o&&!this.K&&(qe==4?Qd(this.j,this):(this.o=!1,as(this)))}else Il(this.g),T==400&&P.indexOf("Unknown SID")>0?(this.m=3,Qt(12)):(this.m=0,Qt(13)),bi(this),ss(this)}}}catch{}finally{}};function Ta(y){if(!en(y))return y.g.la();const T=Ol(y.g);if(T==="")return"";let P="";const z=T.length,Z=ur(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return bi(y),ss(y),"";y.h.i=new l.TextDecoder}for(let re=0;re<z;re++)y.h.h=!0,P+=y.h.i.decode(T[re],{stream:!(Z&&re==z-1)});return T.length=0,y.h.g+=P,y.C=0,y.h.g}function en(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Ud(y,T){var P=y.C,z=T.indexOf(`
`,P);return z==-1?cr:(P=Number(T.substring(P,z)),isNaN(P)?Qi:(z+=1,z+P>T.length?cr:(T=T.slice(z,z+P),y.C=z+P,T)))}Jt.prototype.cancel=function(){this.K=!0,bi(this)};function as(y){y.T=Date.now()+y.H,vi(y,y.H)}function vi(y,T){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Aa(h(y.aa,y),T)}function xi(y){y.D&&(l.clearTimeout(y.D),y.D=null)}Jt.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Vd(this.i,this.B),this.M!=2&&(Ea(),Qt(17)),bi(this),this.m=2,ss(this)):vi(this,this.T-y)};function ss(y){y.j.I==0||y.K||Qd(y.j,y)}function bi(y){xi(y);var T=y.O;T&&typeof T.dispose=="function"&&T.dispose(),y.O=null,wn(y.V),y.g&&(T=y.g,y.g=null,T.abort(),T.dispose())}function uo(y,T){try{var P=y.j;if(P.I!=0&&(P.g==y||Al(P.h,y))){if(!y.L&&Al(P.h,y)&&P.I==3){try{var z=P.Ba.g.parse(T)}catch{z=null}if(Array.isArray(z)&&z.length==3){var Z=z;if(Z[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<y.F)eu(P),Ca(P);else break e;Yd(P),Qt(18)}}else P.xa=Z[1],0<P.xa-P.K&&Z[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Aa(h(P.Va,P),6e3));kr(P.h)<=1&&P.ta&&(P.ta=void 0)}else fs(P,11)}else if((y.L||P.g==y)&&eu(P),!B(T))for(Z=P.Ba.g.parse(T),T=0;T<Z.length;T++){let pt=Z[T];const un=pt[0];if(!(un<=P.K))if(P.K=un,pt=pt[1],P.I==2)if(pt[0]=="c"){P.M=pt[1],P.ba=pt[2];const Wr=pt[3];Wr!=null&&(P.ka=Wr,P.j.info("VER="+P.ka));const Na=pt[4];Na!=null&&(P.za=Na,P.j.info("SVER="+P.za));const ea=pt[5];ea!=null&&typeof ea=="number"&&ea>0&&(z=1.5*ea,P.O=z,P.j.info("backChannelRequestTimeoutMs_="+z)),z=P;const ta=y.g;if(ta){const na=ta.g?ta.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var re=z.h;re.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Gc(re,re.h),re.h=null))}if(z.G){const Jd=ta.g?ta.g.getResponseHeader("X-HTTP-Session-Id"):null;Jd&&(z.wa=Jd,wt(z.J,z.G,Jd))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-y.F,P.j.info("Handshake RTT: "+P.T+"ms")),z=P;var _e=y;if(z.na=Mm(z,z.L?z.ba:null,z.W),_e.L){ls(z.h,_e);var qe=_e,Vt=z.O;Vt&&(qe.H=Vt),qe.D&&(xi(qe),as(qe)),z.g=_e}else Im(z);P.i.length>0&&Ml(P)}else pt[0]!="stop"&&pt[0]!="close"||fs(P,7);else P.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?fs(P,7):kl(P):pt[0]!="noop"&&P.l&&P.l.qa(pt),P.A=0)}}Ea(4)}catch{}}var Bd=class{constructor(y,T){this.g=y,this.map=T}};function os(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wi(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function kr(y){return y.h?1:y.g?y.g.size:0}function Al(y,T){return y.h?y.h==T:y.g?y.g.has(T):!1}function Gc(y,T){y.g?y.g.add(T):y.h=T}function ls(y,T){y.h&&y.h==T?y.h=null:y.g&&y.g.has(T)&&y.g.delete(T)}os.prototype.cancel=function(){if(this.i=Wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Wc(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let T=y.i;for(const P of y.g.values())T=T.concat(P.G);return T}return b(y.i)}var Yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function f0(y,T){if(y){y=y.split("&");for(let P=0;P<y.length;P++){const z=y[P].indexOf("=");let Z,re=null;z>=0?(Z=y[P].substring(0,z),re=y[P].substring(z+1)):Z=y[P],T(Z,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Zi(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;y instanceof Zi?(this.l=y.l,fo(this,y.j),this.o=y.o,this.g=y.g,Sl(this,y.u),this.h=y.h,ho(this,Nm(y.i)),this.m=y.m):y&&(T=String(y).match(Yc))?(this.l=!1,fo(this,T[1]||"",!0),this.o=Tl(T[2]||""),this.g=Tl(T[3]||"",!0),Sl(this,T[4]),this.h=Tl(T[5]||"",!0),ho(this,T[6]||"",!0),this.m=Tl(T[7]||"")):(this.l=!1,this.i=new _i(null,this.l))}Zi.prototype.toString=function(){const y=[];var T=this.j;T&&y.push($n(T,$d,!0),":");var P=this.g;return(P||T=="file")&&(y.push("//"),(T=this.o)&&y.push($n(T,$d,!0),"@"),y.push(Pe(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&y.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&y.push("/"),y.push($n(P,P.charAt(0)=="/"?mo:Fd,!0))),(P=this.i.toString())&&y.push("?",P),(P=this.m)&&y.push("#",$n(P,Tm)),y.join("")},Zi.prototype.resolve=function(y){const T=tn(this);let P=!!y.j;P?fo(T,y.j):P=!!y.o,P?T.o=y.o:P=!!y.g,P?T.g=y.g:P=y.u!=null;var z=y.h;if(P)Sl(T,y.u);else if(P=!!y.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var Z=T.h.lastIndexOf("/");Z!=-1&&(z=T.h.slice(0,Z+1)+z)}if(Z=z,Z==".."||Z==".")z="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){z=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const re=[];for(let _e=0;_e<Z.length;){const qe=Z[_e++];qe=="."?z&&_e==Z.length&&re.push(""):qe==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),z&&_e==Z.length&&re.push("")):(re.push(qe),z=!0)}z=re.join("/")}else z=Z}return P?T.h=z:P=y.i.toString()!=="",P?ho(T,Nm(y.i)):P=!!y.m,P&&(T.m=y.m),T};function tn(y){return new Zi(y)}function fo(y,T,P){y.j=P?Tl(T,!0):T,y.j&&(y.j=y.j.replace(/:$/,""))}function Sl(y,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);y.u=T}else y.u=null}function ho(y,T,P){T instanceof _i?(y.i=T,Kd(y.i,y.l)):(P||(T=$n(T,Sm)),y.i=new _i(T,y.l))}function wt(y,T,P){y.i.set(T,P)}function cs(y){return wt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Tl(y,T){return y?T?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function $n(y,T,P){return typeof y=="string"?(y=encodeURI(y).replace(T,zd),P&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function zd(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var $d=/[#\/\?@]/g,Fd=/[#\?:]/g,mo=/[#\?]/g,Sm=/[#\?@]/g,Tm=/#/g;function _i(y,T){this.h=this.g=null,this.i=y||null,this.j=!!T}function us(y){y.g||(y.g=new Map,y.h=0,y.i&&f0(y.i,function(T,P){y.add(decodeURIComponent(T.replace(/\+/g," ")),P)}))}t=_i.prototype,t.add=function(y,T){us(this),this.i=null,y=Ji(this,y);let P=this.g.get(y);return P||this.g.set(y,P=[]),P.push(T),this.h+=1,this};function qd(y,T){us(y),T=Ji(y,T),y.g.has(T)&&(y.i=null,y.h-=y.g.get(T).length,y.g.delete(T))}function Hd(y,T){return us(y),T=Ji(y,T),y.g.has(T)}t.forEach=function(y,T){us(this),this.g.forEach(function(P,z){P.forEach(function(Z){y.call(T,Z,z,this)},this)},this)};function Xc(y,T){us(y);let P=[];if(typeof T=="string")Hd(y,T)&&(P=P.concat(y.g.get(Ji(y,T))));else for(y=Array.from(y.g.values()),T=0;T<y.length;T++)P=P.concat(y[T]);return P}t.set=function(y,T){return us(this),this.i=null,y=Ji(this,y),Hd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[T]),this.h+=1,this},t.get=function(y,T){return y?(y=Xc(this,y),y.length>0?String(y[0]):T):T};function Cm(y,T,P){qd(y,T),P.length>0&&(y.i=null,y.g.set(Ji(y,T),b(P)),y.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],T=Array.from(this.g.keys());for(let z=0;z<T.length;z++){var P=T[z];const Z=Pe(P);P=Xc(this,P);for(let re=0;re<P.length;re++){let _e=Z;P[re]!==""&&(_e+="="+Pe(P[re])),y.push(_e)}}return this.i=y.join("&")};function Nm(y){const T=new _i;return T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),T}function Ji(y,T){return T=String(T),y.j&&(T=T.toLowerCase()),T}function Kd(y,T){T&&!y.j&&(us(y),y.i=null,y.g.forEach(function(P,z){const Z=z.toLowerCase();z!=Z&&(qd(this,z),Cm(this,Z,P))},y)),y.j=T}function Gd(y,T){const P=new Sa;if(l.Image){const z=new Image;z.onload=p(Sr,P,"TestLoadImage: loaded",!0,T,z),z.onerror=p(Sr,P,"TestLoadImage: error",!1,T,z),z.onabort=p(Sr,P,"TestLoadImage: abort",!1,T,z),z.ontimeout=p(Sr,P,"TestLoadImage: timeout",!1,T,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=y}else T(!1)}function po(y,T){const P=new Sa,z=new AbortController,Z=setTimeout(()=>{z.abort(),Sr(P,"TestPingServer: timeout",!1,T)},1e4);fetch(y,{signal:z.signal}).then(re=>{clearTimeout(Z),re.ok?Sr(P,"TestPingServer: ok",!0,T):Sr(P,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Z),Sr(P,"TestPingServer: error",!1,T)})}function Sr(y,T,P,z,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),z(P)}catch{}}function jm(){this.g=new Ld}function Cl(y){this.i=y.Sb||null,this.h=y.ab||!1}g(Cl,_r),Cl.prototype.g=function(){return new Nl(this.i,this.h)};function Nl(y,T){Xt.call(this),this.H=y,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Nl,Xt),t=Nl.prototype,t.open=function(y,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=T,this.readyState=1,ds(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(T.body=y),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ds(this)),this.g&&(this.readyState=3,ds(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;go(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function go(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var T=y.value?y.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!y.done}))&&(this.response=this.responseText+=T)}y.done?Tr(this):ds(this),this.readyState==3&&go(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,Tr(this))},t.Na=function(y){this.g&&(this.response=y,Tr(this))},t.ga=function(){this.g&&Tr(this)};function Tr(y){y.readyState=4,y.l=null,y.j=null,y.B=null,ds(y)}t.setRequestHeader=function(y,T){this.A.append(y,T)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],T=this.h.entries();for(var P=T.next();!P.done;)P=P.value,y.push(P[0]+": "+P[1]),P=T.next();return y.join(`\r
`)};function ds(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Nl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function yo(y){let T="";return ye(y,function(P,z){T+=z,T+=":",T+=P,T+=`\r
`}),T}function Ei(y,T,P){e:{for(z in P){var z=!1;break e}z=!0}z||(P=yo(P),typeof y=="string"?P!=null&&Pe(P):wt(y,T,P))}function Ot(y){Xt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Ot,Xt);var Qc=/^https?$/i,Pm=["POST","PUT"];t=Ot.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,T,P,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);T=T?T.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Y.g(),this.g.onreadystatechange=x(h(this.Ca,this));try{this.B=!0,this.g.open(T,String(y),!0),this.B=!1}catch(re){jl(this,re);return}if(y=P||"",P=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var Z in z)P.set(Z,z[Z]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const re of z.keys())P.set(re,z.get(re));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(P.keys()).find(re=>re.toLowerCase()=="content-type"),Z=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(Pm,T,void 0)>=0)||z||Z||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,_e]of P)this.g.setRequestHeader(re,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(re){jl(this,re)}};function jl(y,T){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=T,y.o=5,Pl(y),On(y)}function Pl(y){y.A||(y.A=!0,bn(y,"complete"),bn(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,bn(this,"complete"),bn(this,"abort"),On(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),Ot.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Wd(this):this.Xa())},t.Xa=function(){Wd(this)};function Wd(y){if(y.h&&typeof a<"u"){if(y.v&&ur(y)==4)setTimeout(y.Ca.bind(y),0);else if(bn(y,"readystatechange"),ur(y)==4){y.h=!1;try{const re=y.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var P;if(!(P=T)){var z;if(z=re===0){let _e=String(y.D).match(Yc)[1]||null;!_e&&l.self&&l.self.location&&(_e=l.self.location.protocol.slice(0,-1)),z=!Qc.test(_e?_e.toLowerCase():"")}P=z}if(P)bn(y,"complete"),bn(y,"success");else{y.o=6;try{var Z=ur(y)>2?y.g.statusText:""}catch{Z=""}y.l=Z+" ["+y.ca()+"]",Pl(y)}}finally{On(y)}}}}function On(y,T){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const P=y.g;y.g=null,T||bn(y,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ur(y){return y.g?y.g.readyState:0}t.ca=function(){try{return ur(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var T=this.g.responseText;return y&&T.indexOf(y)==0&&(T=T.substring(y.length)),Zn(T)}};function Ol(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Il(y){const T={};y=(y.g&&ur(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<y.length;z++){if(B(y[z]))continue;var P=bt(y[z]);const Z=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const re=T[Z]||[];T[Z]=re,re.push(P)}H(T,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rl(y,T,P){return P&&P.internalChannelParams&&P.internalChannelParams[y]||T}function Zc(y){this.za=0,this.i=[],this.j=new Sa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rl("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rl("baseRetryDelayMs",5e3,y),this.Za=Rl("retryDelaySeedMs",1e4,y),this.Ta=Rl("forwardChannelMaxRetries",2,y),this.va=Rl("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new os(y&&y.concurrentRequestLimit),this.Ba=new jm,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Zc.prototype,t.ka=8,t.I=1,t.connect=function(y,T,P,z){Qt(0),this.W=y,this.H=T||{},P&&z!==void 0&&(this.H.OSID=P,this.H.OAID=z),this.F=this.X,this.J=Mm(this,null,this.W),Ml(this)};function kl(y){if(Dl(y),y.I==3){var T=y.V++,P=tn(y.J);if(wt(P,"SID",y.M),wt(P,"RID",T),wt(P,"TYPE","terminate"),Ll(y,P),T=new Jt(y,y.j,T),T.M=2,T.A=cs(tn(P)),P=!1,l.navigator&&l.navigator.sendBeacon)try{P=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!P&&l.Image&&(new Image().src=T.A,P=!0),P||(T.g=tu(T.j,null),T.g.ea(T.A)),T.F=Date.now(),as(T)}Dm(y)}function Ca(y){y.g&&(Xd(y),y.g.cancel(),y.g=null)}function Dl(y){Ca(y),y.v&&(l.clearTimeout(y.v),y.v=null),eu(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function Ml(y){if(!wi(y.h)&&!y.m){y.m=!0;var T=y.Ea;M||I(),U||(M(),U=!0),R.add(T,y),y.D=0}}function h0(y,T){return kr(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=T.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Aa(h(y.Ea,y,T),km(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const Z=new Jt(this,this.j,y);let re=this.o;if(this.U&&(re?(re=le(re),oe(re,this.U)):re=this.U),this.u!==null||this.R||(Z.J=re,re=null),this.S)e:{for(var T=0,P=0;P<this.i.length;P++){t:{var z=this.i[P];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(T+=z,T>4096){T=P;break e}if(T===4096||P===this.i.length-1){T=P+1;break e}}T=1e3}else T=1e3;T=Jc(this,Z,T),P=tn(this.J),wt(P,"RID",y),wt(P,"CVER",22),this.G&&wt(P,"X-HTTP-Session-Id",this.G),Ll(this,P),re&&(this.R?T="headers="+Pe(yo(re))+"&"+T:this.u&&Ei(P,this.u,re)),Gc(this.h,Z),this.Ra&&wt(P,"TYPE","init"),this.S?(wt(P,"$req",T),wt(P,"SID","null"),Z.U=!0,yi(Z,P,null)):yi(Z,P,T),this.I=2}}else this.I==3&&(y?Om(this,y):this.i.length==0||wi(this.h)||Om(this))};function Om(y,T){var P;T?P=T.l:P=y.V++;const z=tn(y.J);wt(z,"SID",y.M),wt(z,"RID",P),wt(z,"AID",y.K),Ll(y,z),y.u&&y.o&&Ei(z,y.u,y.o),P=new Jt(y,y.j,P,y.D+1),y.u===null&&(P.J=y.o),T&&(y.i=T.G.concat(y.i)),T=Jc(y,P,1e3),P.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Gc(y.h,P),yi(P,z,T)}function Ll(y,T){y.H&&ye(y.H,function(P,z){wt(T,z,P)}),y.l&&ye({},function(P,z){wt(T,z,P)})}function Jc(y,T,P){P=Math.min(y.i.length,P);const z=y.l?h(y.l.Ka,y.l,y):null;e:{var Z=y.i;let qe=-1;for(;;){const Vt=["count="+P];qe==-1?P>0?(qe=Z[0].g,Vt.push("ofs="+qe)):qe=0:Vt.push("ofs="+qe);let pt=!0;for(let un=0;un<P;un++){var re=Z[un].g;const Wr=Z[un].map;if(re-=qe,re<0)qe=Math.max(0,Z[un].g-100),pt=!1;else try{re="req"+re+"_"||"";try{var _e=Wr instanceof Map?Wr:Object.entries(Wr);for(const[Na,ea]of _e){let ta=ea;u(ea)&&(ta=Rr(ea)),Vt.push(re+Na+"="+encodeURIComponent(ta))}}catch(Na){throw Vt.push(re+"type="+encodeURIComponent("_badmap")),Na}}catch{z&&z(Wr)}}if(pt){_e=Vt.join("&");break e}}_e=void 0}return y=y.i.splice(0,P),T.G=y,_e}function Im(y){if(!y.g&&!y.v){y.Y=1;var T=y.Da;M||I(),U||(M(),U=!0),R.add(T,y),y.A=0}}function Yd(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Aa(h(y.Da,y),km(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,Rm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Aa(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Qt(10),Ca(this),Rm(this))};function Xd(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function Rm(y){y.g=new Jt(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var T=tn(y.na);wt(T,"RID","rpc"),wt(T,"SID",y.M),wt(T,"AID",y.K),wt(T,"CI",y.F?"0":"1"),!y.F&&y.ia&&wt(T,"TO",y.ia),wt(T,"TYPE","xmlhttp"),Ll(y,T),y.u&&y.o&&Ei(T,y.u,y.o),y.O&&(y.g.H=y.O);var P=y.g;y=y.ba,P.M=1,P.A=cs(tn(T)),P.u=null,P.R=!0,is(P,y)}t.Va=function(){this.C!=null&&(this.C=null,Ca(this),Yd(this),Qt(19))};function eu(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function Qd(y,T){var P=null;if(y.g==T){eu(y),Xd(y),y.g=null;var z=2}else if(Al(y.h,T))P=T.G,ls(y.h,T),z=1;else return;if(y.I!=0){if(T.o)if(z==1){P=T.u?T.u.length:0,T=Date.now()-T.F;var Z=y.D;z=rs(),bn(z,new Kc(z,P)),Ml(y)}else Im(y);else if(Z=T.m,Z==3||Z==0&&T.X>0||!(z==1&&h0(y,T)||z==2&&Yd(y)))switch(P&&P.length>0&&(T=y.h,T.i=T.i.concat(P)),Z){case 1:fs(y,5);break;case 4:fs(y,10);break;case 3:fs(y,6);break;default:fs(y,2)}}}function km(y,T){let P=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(P*=2),P*T}function fs(y,T){if(y.j.info("Error code "+T),T==2){var P=h(y.bb,y),z=y.Ua;const Z=!z;z=new Zi(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||fo(z,"https"),cs(z),Z?Gd(z.toString(),P):po(z.toString(),P)}else Qt(2);y.I=0,y.l&&y.l.pa(T),Dm(y),Dl(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function Dm(y){if(y.I=0,y.ja=[],y.l){const T=Wc(y.h);(T.length!=0||y.i.length!=0)&&(A(y.ja,T),A(y.ja,y.i),y.h.i.length=0,b(y.i),y.i.length=0),y.l.oa()}}function Mm(y,T,P){var z=P instanceof Zi?tn(P):new Zi(P);if(z.g!="")T&&(z.g=T+"."+z.g),Sl(z,z.u);else{var Z=l.location;z=Z.protocol,T=T?T+"."+Z.hostname:Z.hostname,Z=+Z.port;const re=new Zi(null);z&&fo(re,z),T&&(re.g=T),Z&&Sl(re,Z),P&&(re.h=P),z=re}return P=y.G,T=y.wa,P&&T&&wt(z,P,T),wt(z,"VER",y.ka),Ll(y,z),z}function tu(y,T,P){if(T&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=y.Aa&&!y.ma?new Ot(new Cl({ab:P})):new Ot(y.ma),T.Fa(y.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lm(){}t=Lm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function nu(){}nu.prototype.g=function(y,T){return new Cr(y,T)};function Cr(y,T){Xt.call(this),this.g=new Zc(T),this.l=y,this.h=T&&T.messageUrlParams||null,y=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(y?y["X-WebChannel-Content-Type"]=T.messageContentType:y={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(y?y["X-WebChannel-Client-Profile"]=T.sa:y={"X-WebChannel-Client-Profile":T.sa}),this.g.U=y,(y=T&&T.Qb)&&!B(y)&&(this.g.u=y),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!B(T)&&(this.g.G=T,y=this.h,y!==null&&T in y&&(y=this.h,T in y&&delete y[T])),this.j=new vo(this)}g(Cr,Xt),Cr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cr.prototype.close=function(){kl(this.g)},Cr.prototype.o=function(y){var T=this.g;if(typeof y=="string"){var P={};P.__data__=y,y=P}else this.v&&(P={},P.__data__=Rr(y),y=P);T.i.push(new Bd(T.Ya++,y)),T.I==3&&Ml(T)},Cr.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,Cr.Z.N.call(this)};function Zd(y){_a.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var T=y.__sm__;if(T){e:{for(const P in T){y=P;break e}y=void 0}(this.i=y)&&(y=this.i,T=T!==null&&y in T?T[y]:void 0),this.data=T}else this.data=y}g(Zd,_a);function Vm(){Gr.call(this),this.status=1}g(Vm,Gr);function vo(y){this.g=y}g(vo,Lm),vo.prototype.ra=function(){bn(this.g,"a")},vo.prototype.qa=function(y){bn(this.g,new Zd(y))},vo.prototype.pa=function(y){bn(this.g,new Vm)},vo.prototype.oa=function(){bn(this.g,"b")},nu.prototype.createWebChannel=nu.prototype.g,Cr.prototype.send=Cr.prototype.o,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,eD=function(){return new nu},J4=function(){return rs()},Z4=Ar,v1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zt.NO_ERROR=0,Zt.TIMEOUT=8,Zt.HTTP_ERROR=6,vg=Zt,Pn.COMPLETE="complete",Q4=Pn,Er.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",Xt.prototype.listen=Xt.prototype.J,th=Er,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,X4=Ot}).apply(typeof zp<"u"?zp:typeof self<"u"?self:typeof window<"u"?window:{});const ij="@firebase/firestore",aj="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new $2("@firebase/firestore");function Iu(){return wc.logLevel}function Se(t,...e){if(wc.logLevel<=nt.DEBUG){const n=e.map(t_);wc.debug(`Firestore (${gd}): ${t}`,...n)}}function qs(t,...e){if(wc.logLevel<=nt.ERROR){const n=e.map(t_);wc.error(`Firestore (${gd}): ${t}`,...n)}}function Wu(t,...e){if(wc.logLevel<=nt.WARN){const n=e.map(t_);wc.warn(`Firestore (${gd}): ${t}`,...n)}}function t_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,tD(t,r,n)}function tD(t,e,n){let r=`FIRESTORE (${gd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qs(r),new Error(r)}function mt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||tD(e,i,r)}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Za{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pr.UNAUTHENTICATED)))}shutdown(){}}class BF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zF{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ds,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ds)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new nD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new pr(e)}}class $F{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $F(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){mt(this.o===void 0,3512);const r=a=>{a.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Se("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sj(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=HF(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function rt(t,e){return t<e?-1:t>e?1:0}function x1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return wb(i)===wb(a)?rt(i,a):wb(i)?1:-1}return rt(t.length,e.length)}const KF=55296,GF=57343;function wb(t){const e=t.charCodeAt(0);return e>=KF&&e<=GF}function Yu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="__name__";class ka{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ka.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ka?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ka.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return rt(e.length,n.length)}static compareSegments(e,n){const r=ka.isNumericId(e),i=ka.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ka.extractNumericId(e).compare(ka.extractNumericId(n)):x1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zo.fromString(e.substring(4,e.length-2))}}class kt extends ka{construct(e,n,r){return new kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new kt(n)}static emptyPath(){return new kt([])}}const WF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends ka{construct(e,n,r){return new ar(e,n,r)}static isValidIdentifier(e){return WF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oj}static keyField(){return new ar([oj])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ae(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ae(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new Ae(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(n)}static emptyPath(){return new ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(kt.fromString(e))}static fromName(e){return new ke(kt.fromString(e).popFirst(5))}static empty(){return new ke(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new kt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t,e,n){if(!n)throw new Ae(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YF(t,e,n,r){if(e===!0&&r===!0)throw new Ae(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lj(t){if(!ke.isDocumentKey(t))throw new Ae(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cj(t){if(ke.isDocumentKey(t))throw new Ae(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ev(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function ha(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ev(t);throw new Ae(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function qh(t,e){if(!iD(t))throw new Ae(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Ae(fe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=-62135596800,dj=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*dj);return new Bt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uj)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dj}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qh(e,Bt._jsonSchema))return new Bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bt._jsonSchemaVersion="firestore/timestamp/1.0",Bt._jsonSchema={type:Cn("string",Bt._jsonSchemaVersion),seconds:Cn("number"),nanoseconds:Cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Bt(0,0))}static max(){return new Fe(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=-1;function XF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new rl(i,ke.empty(),e)}function QF(t){return new rl(t.readTime,t.key,vh)}class rl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rl(Fe.min(),ke.empty(),vh)}static max(){return new rl(Fe.max(),ke.empty(),vh)}}function ZF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:rt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yd(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==JF)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.reject(n)}static resolve(e){return new pe(((n,r)=>{n(e)}))}static reject(e){return new pe(((n,r)=>{r(e)}))}static waitFor(e){return new pe(((n,r)=>{let i=0,a=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++a,l&&a===i&&n()}),(d=>r(d)))})),l=!0,a===i&&n()}))}static or(e){let n=pe.resolve(!1);for(const r of e)n=n.next((i=>i?pe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new pe(((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let d=0;d<a;d++){const h=d;n(e[h]).next((p=>{l[h]=p,++u,u===a&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new pe(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function tq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=-1;function nv(t){return t==null}function Mg(t){return t===0&&1/t==-1/0}function nq(t){return typeof t=="number"&&Number.isInteger(t)&&!Mg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="";function rq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fj(e)),e=iq(t.get(n),e);return fj(e)}function iq(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case aD:n+="";break;default:n+=a}}return n}function fj(t){return t+aD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ml(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){this.comparator=e,this.root=n||rr.EMPTY}insert(e,n){return new rn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $p(this.root,e,this.comparator,!1)}getReverseIterator(){return new $p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $p(this.root,e,this.comparator,!0)}}class $p{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??rr.RED,this.left=i??rr.EMPTY,this.right=a??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new rr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new rr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mj(this.data.getIterator())}getIteratorFrom(e){return new mj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mn(this.comparator);return n.data=e,n}}class mj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new oi([])}unionWith(e){let n=new Mn(ar.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new oi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new oD("Invalid base64 string: "+a):a}})(e);return new sr(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const aq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(t){if(mt(!!t,39018),typeof t=="string"){let e=0;const n=aq.exec(t);if(mt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pn(t.seconds),nanos:pn(t.nanos)}}function pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function al(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="server_timestamp",cD="__type__",uD="__previous_value__",dD="__local_write_time__";function i_(t){return(t?.mapValue?.fields||{})[cD]?.stringValue===lD}function rv(t){const e=t.mapValue.fields[uD];return i_(e)?rv(e):e}function xh(t){const e=il(t.mapValue.fields[dD].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e,n,r,i,a,l,u,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=p}}const Lg="(default)";class bh{constructor(e,n){this.projectId=e,this.database=n||Lg}static empty(){return new bh("","")}get isDefaultDatabase(){return this.database===Lg}isEqual(e){return e instanceof bh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="__type__",oq="__max__",Fp={mapValue:{}},hD="__vector__",Vg="value";function sl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i_(t)?4:cq(t)?9007199254740991:lq(t)?10:11:Be(28295,{value:t})}function Ha(t,e){if(t===e)return!0;const n=sl(t);if(n!==sl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xh(t).isEqual(xh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=il(i.timestampValue),u=il(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return al(i.bytesValue).isEqual(al(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return pn(i.geoPointValue.latitude)===pn(a.geoPointValue.latitude)&&pn(i.geoPointValue.longitude)===pn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return pn(i.integerValue)===pn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=pn(i.doubleValue),u=pn(a.doubleValue);return l===u?Mg(l)===Mg(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Yu(t.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(hj(l)!==hj(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Ha(l[d],u[d])))return!1;return!0})(t,e);default:return Be(52216,{left:t})}}function wh(t,e){return(t.values||[]).find((n=>Ha(n,e)))!==void 0}function Xu(t,e){if(t===e)return 0;const n=sl(t),r=sl(e);if(n!==r)return rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=pn(a.integerValue||a.doubleValue),d=pn(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return pj(t.timestampValue,e.timestampValue);case 4:return pj(xh(t),xh(e));case 5:return x1(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=al(a),d=al(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const p=rt(u[h],d[h]);if(p!==0)return p}return rt(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=rt(pn(a.latitude),pn(l.latitude));return u!==0?u:rt(pn(a.longitude),pn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return gj(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const u=a.fields||{},d=l.fields||{},h=u[Vg]?.arrayValue,p=d[Vg]?.arrayValue,g=rt(h?.values?.length||0,p?.values?.length||0);return g!==0?g:gj(h,p)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Fp.mapValue&&l===Fp.mapValue)return 0;if(a===Fp.mapValue)return 1;if(l===Fp.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const x=x1(d[g],p[g]);if(x!==0)return x;const b=Xu(u[d[g]],h[p[g]]);if(b!==0)return b}return rt(d.length,p.length)})(t.mapValue,e.mapValue);default:throw Be(23264,{he:n})}}function pj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);const n=il(t),r=il(e),i=rt(n.seconds,r.seconds);return i!==0?i:rt(n.nanos,r.nanos)}function gj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Xu(n[i],r[i]);if(a)return a}return rt(n.length,r.length)}function Qu(t){return b1(t)}function b1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=il(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return al(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=b1(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${b1(n.fields[l])}`;return i+"}"})(t.mapValue):Be(61005,{value:t})}function xg(t){switch(sl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rv(t);return e?16+xg(e):16;case 5:return 2*t.stringValue.length;case 6:return al(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+xg(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ml(r.fields,((a,l)=>{i+=a.length+xg(l)})),i})(t.mapValue);default:throw Be(13486,{value:t})}}function yj(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function w1(t){return!!t&&"integerValue"in t}function a_(t){return!!t&&"arrayValue"in t}function vj(t){return!!t&&"nullValue"in t}function xj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bg(t){return!!t&&"mapValue"in t}function lq(t){return(t?.mapValue?.fields||{})[fD]?.stringValue===hD}function ch(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ml(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ch(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ch(t.arrayValue.values[n]);return e}return{...t}}function cq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ch(n)}setAll(e){let n=ar.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=ch(l):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());bg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ml(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new $r(ch(this.value))}}function mD(t){const e=[];return ml(t.fields,((n,r)=>{const i=new ar([n]);if(bg(r)){const a=mD(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new oi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n,r,i,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new gr(e,0,Fe.min(),Fe.min(),Fe.min(),$r.empty(),0)}static newFoundDocument(e,n,r,i){return new gr(e,1,n,Fe.min(),r,i,0)}static newNoDocument(e,n){return new gr(e,2,n,Fe.min(),Fe.min(),$r.empty(),0)}static newUnknownDocument(e,n){return new gr(e,3,n,Fe.min(),Fe.min(),$r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.position=e,this.inclusive=n}}function bj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=ke.comparator(ke.fromName(l.referenceValue),n.key):r=Xu(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function wj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ha(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function uq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{}class Tn extends pD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fq(e,n,r):n==="array-contains"?new pq(e,r):n==="in"?new gq(e,r):n==="not-in"?new yq(e,r):n==="array-contains-any"?new vq(e,r):new Tn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hq(e,r):new mq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xu(n,this.value)):n!==null&&sl(this.value)===sl(n)&&this.matchesComparison(Xu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ma extends pD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ma(e,n)}matches(e){return gD(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gD(t){return t.op==="and"}function yD(t){return dq(t)&&gD(t)}function dq(t){for(const e of t.filters)if(e instanceof ma)return!1;return!0}function _1(t){if(t instanceof Tn)return t.field.canonicalString()+t.op.toString()+Qu(t.value);if(yD(t))return t.filters.map((e=>_1(e))).join(",");{const e=t.filters.map((n=>_1(n))).join(",");return`${t.op}(${e})`}}function vD(t,e){return t instanceof Tn?(function(r,i){return i instanceof Tn&&r.op===i.op&&r.field.isEqual(i.field)&&Ha(r.value,i.value)})(t,e):t instanceof ma?(function(r,i){return i instanceof ma&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,u)=>a&&vD(l,i.filters[u])),!0):!1})(t,e):void Be(19439)}function xD(t){return t instanceof Tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Qu(n.value)}`})(t):t instanceof ma?(function(n){return n.op.toString()+" {"+n.getFilters().map(xD).join(" ,")+"}"})(t):"Filter"}class fq extends Tn{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class hq extends Tn{constructor(e,n){super(e,"in",n),this.keys=bD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class mq extends Tn{constructor(e,n){super(e,"not-in",n),this.keys=bD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bD(t,e){return(e.arrayValue?.values||[]).map((n=>ke.fromName(n.referenceValue)))}class pq extends Tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return a_(n)&&wh(n.arrayValue,this.value)}}class gq extends Tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wh(this.value.arrayValue,n)}}class yq extends Tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wh(this.value.arrayValue,n)}}class vq extends Tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!a_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>wh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e,n=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function _j(t,e=null,n=[],r=[],i=null,a=null,l=null){return new xq(t,e,n,r,i,a,l)}function s_(t){const e=He(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>_1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),nv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Qu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Qu(r))).join(",")),e.Te=n}return e.Te}function o_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wj(t.startAt,e.startAt)&&wj(t.endAt,e.endAt)}function E1(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n=null,r=[],i=[],a=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bq(t,e,n,r,i,a,l,u){return new xd(t,e,n,r,i,a,l,u)}function l_(t){return new xd(t)}function Ej(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wD(t){return t.collectionGroup!==null}function uh(t){const e=He(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Mn(ar.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new _h(a,r))})),n.has(ar.keyField().canonicalString())||e.Ie.push(new _h(ar.keyField(),r))}return e.Ie}function Ba(t){const e=He(t);return e.Ee||(e.Ee=wq(e,uh(t))),e.Ee}function wq(t,e){if(t.limitType==="F")return _j(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new _h(i.field,a)}));const n=t.endAt?new Ug(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ug(t.startAt.position,t.startAt.inclusive):null;return _j(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function A1(t,e){const n=t.filters.concat([e]);return new xd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bg(t,e,n){return new xd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function iv(t,e){return o_(Ba(t),Ba(e))&&t.limitType===e.limitType}function _D(t){return`${s_(Ba(t))}|lt:${t.limitType}`}function Ru(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>xD(i))).join(", ")}]`),nv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Qu(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Qu(i))).join(",")),`Target(${r})`})(Ba(t))}; limitType=${t.limitType})`}function av(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of uh(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,d){const h=bj(l,u,d);return l.inclusive?h<=0:h<0})(r.startAt,uh(r),i)||r.endAt&&!(function(l,u,d){const h=bj(l,u,d);return l.inclusive?h>=0:h>0})(r.endAt,uh(r),i))})(t,e)}function _q(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ED(t){return(e,n)=>{let r=!1;for(const i of uh(t)){const a=Eq(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Eq(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(a,l,u){const d=l.data.field(a),h=u.data.field(a);return d!==null&&h!==null?Xu(d,h):Be(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ml(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return sD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq=new rn(ke.comparator);function Hs(){return Aq}const AD=new rn(ke.comparator);function nh(...t){let e=AD;for(const n of t)e=e.insert(n.key,n);return e}function SD(t){let e=AD;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function sc(){return dh()}function TD(){return dh()}function dh(){return new Dc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Sq=new rn(ke.comparator),Tq=new Mn(ke.comparator);function it(...t){let e=Tq;for(const n of t)e=e.add(n);return e}const Cq=new Mn(rt);function Nq(){return Cq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mg(e)?"-0":e}}function CD(t){return{integerValue:""+t}}function jq(t,e){return nq(e)?CD(e):c_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(){this._=void 0}}function Pq(t,e,n){return t instanceof zg?(function(i,a){const l={fields:{[cD]:{stringValue:lD},[dD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&i_(a)&&(a=rv(a)),a&&(l.fields[uD]=a),{mapValue:l}})(n,e):t instanceof Zu?jD(t,e):t instanceof Ju?PD(t,e):(function(i,a){const l=ND(i,a),u=Aj(l)+Aj(i.Ae);return w1(l)&&w1(i.Ae)?CD(u):c_(i.serializer,u)})(t,e)}function Oq(t,e,n){return t instanceof Zu?jD(t,e):t instanceof Ju?PD(t,e):n}function ND(t,e){return t instanceof $g?(function(r){return w1(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class zg extends sv{}class Zu extends sv{constructor(e){super(),this.elements=e}}function jD(t,e){const n=OD(e);for(const r of t.elements)n.some((i=>Ha(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Ju extends sv{constructor(e){super(),this.elements=e}}function PD(t,e){let n=OD(e);for(const r of t.elements)n=n.filter((i=>!Ha(i,r)));return{arrayValue:{values:n}}}class $g extends sv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Aj(t){return pn(t.integerValue||t.doubleValue)}function OD(t){return a_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.field=e,this.transform=n}}function Iq(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Zu&&i instanceof Zu||r instanceof Ju&&i instanceof Ju?Yu(r.elements,i.elements,Ha):r instanceof $g&&i instanceof $g?Ha(r.Ae,i.Ae):r instanceof zg&&i instanceof zg})(t.transform,e.transform)}class Rq{constructor(e,n){this.version=e,this.transformResults=n}}class Vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ov{}function RD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new u_(t.key,Vi.none()):new Hh(t.key,t.data,Vi.none());{const n=t.data,r=$r.empty();let i=new Mn(ar.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new pl(t.key,r,new oi(i.toArray()),Vi.none())}}function kq(t,e,n){t instanceof Hh?(function(i,a,l){const u=i.value.clone(),d=Tj(i.fieldTransforms,a,l.transformResults);u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof pl?(function(i,a,l){if(!wg(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=Tj(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(kD(i)),d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function fh(t,e,n,r){return t instanceof Hh?(function(a,l,u,d){if(!wg(a.precondition,l))return u;const h=a.value.clone(),p=Cj(a.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof pl?(function(a,l,u,d){if(!wg(a.precondition,l))return u;const h=Cj(a.fieldTransforms,d,l),p=l.data;return p.setAll(kD(a)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(a,l,u){return wg(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function Dq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=ND(r.transform,i||null);a!=null&&(n===null&&(n=$r.empty()),n.set(r.field,a))}return n||null}function Sj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yu(r,i,((a,l)=>Iq(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hh extends ov{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pl extends ov{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function kD(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Tj(t,e,n){const r=new Map;mt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,Oq(l,u,n[i]))}return r}function Cj(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,Pq(a,l,e))}return r}class u_ extends ov{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mq extends ov{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&kq(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TD();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(i.key)?null:u;const d=RD(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),it())}isEqual(e){return this.batchId===e.batchId&&Yu(this.mutations,e.mutations,((n,r)=>Sj(n,r)))&&Yu(this.baseMutations,e.baseMutations,((n,r)=>Sj(n,r)))}}class d_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){mt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Sq})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new d_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An,st;function Bq(t){switch(t){case fe.OK:return Be(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function DD(t){if(t===void 0)return qs("GRPC error has no .code"),fe.UNKNOWN;switch(t){case An.OK:return fe.OK;case An.CANCELLED:return fe.CANCELLED;case An.UNKNOWN:return fe.UNKNOWN;case An.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case An.INTERNAL:return fe.INTERNAL;case An.UNAVAILABLE:return fe.UNAVAILABLE;case An.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case An.NOT_FOUND:return fe.NOT_FOUND;case An.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case An.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case An.ABORTED:return fe.ABORTED;case An.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case An.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case An.DATA_LOSS:return fe.DATA_LOSS;default:return Be(39323,{code:t})}}(st=An||(An={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q=new Zo([4294967295,4294967295],0);function Nj(t){const e=zq().encode(t),n=new Y4;return n.update(e),new Uint8Array(n.digest())}function jj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Zo([n,r],0),new Zo([i,a],0)]}class f_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rh(`Invalid padding: ${n}`);if(r<0)throw new rh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Zo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Zo.fromNumber(r)));return i.compare($q)===1&&(i=new Zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Nj(e),[r,i]=jj(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new f_(a,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=Nj(e),[r,i]=jj(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lv(Fe.min(),i,new rn(rt),Hs(),it())}}class Kh{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kh(r,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class MD{constructor(e,n){this.targetId=e,this.Ce=n}}class LD{constructor(e,n,r=sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Pj{constructor(){this.ve=0,this.Fe=Oj(),this.Me=sr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),n=it(),r=it();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Be(38017,{changeType:a})}})),new Kh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Oj()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Fq{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hs(),this.Je=qp(),this.He=qp(),this.Ye=new rn(rt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(E1(a))if(r===0){const l=new ke(a.path);this.et(n,l,gr.newNoDocument(l,Fe.min()))}else mt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,u;try{l=al(r).toUint8Array()}catch(d){if(d instanceof oD)return Wu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new f_(l,i,a)}catch(d){return Wu(d instanceof rh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&E1(u.target)){const d=new ke(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,gr.newNoDocument(d,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=it();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new lv(e,n,this.Ye,this.je,r);return this.je=Hs(),this.Je=qp(),this.He=qp(),this.Ye=new rn(rt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Pj,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mn(rt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mn(rt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Pj),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qp(){return new rn(ke.comparator)}function Oj(){return new rn(ke.comparator)}const qq={asc:"ASCENDING",desc:"DESCENDING"},Hq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kq={and:"AND",or:"OR"};class Gq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function S1(t,e){return t.useProto3Json||nv(e)?e:{value:e}}function Fg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Wq(t,e){return Fg(t,e.toTimestamp())}function za(t){return mt(!!t,49232),Fe.fromTimestamp((function(n){const r=il(n);return new Bt(r.seconds,r.nanos)})(t))}function h_(t,e){return T1(t,e).canonicalString()}function T1(t,e){const n=(function(i){return new kt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function UD(t){const e=kt.fromString(t);return mt(qD(e),10190,{key:e.toString()}),e}function C1(t,e){return h_(t.databaseId,e.path)}function _b(t,e){const n=UD(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(zD(n))}function BD(t,e){return h_(t.databaseId,e)}function Yq(t){const e=UD(t);return e.length===4?kt.emptyPath():zD(e)}function N1(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zD(t){return mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Ij(t,e,n){return{name:C1(t,e),fields:n.value.mapValue.fields}}function Xq(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Be(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,p){return h.useProto3Json?(mt(p===void 0||typeof p=="string",58123),sr.fromBase64String(p||"")):(mt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),sr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(h){const p=h.code===void 0?fe.UNKNOWN:DD(h.code);return new Ae(p,h.message||"")})(l);n=new LD(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_b(t,r.document.name),a=za(r.document.updateTime),l=r.document.createTime?za(r.document.createTime):Fe.min(),u=new $r({mapValue:{fields:r.document.fields}}),d=gr.newFoundDocument(i,a,l,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new _g(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_b(t,r.document),a=r.readTime?za(r.readTime):Fe.min(),l=gr.newNoDocument(i,a),u=r.removedTargetIds||[];n=new _g([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_b(t,r.document),a=r.removedTargetIds||[];n=new _g([],a,i,null)}else{if(!("filter"in e))return Be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new Uq(i,a),u=r.targetId;n=new MD(u,l)}}return n}function Qq(t,e){let n;if(e instanceof Hh)n={update:Ij(t,e.key,e.value)};else if(e instanceof u_)n={delete:C1(t,e.key)};else if(e instanceof pl)n={update:Ij(t,e.key,e.data),updateMask:sH(e.fieldMask)};else{if(!(e instanceof Mq))return Be(16599,{Vt:e.type});n={verify:C1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof zg)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Zu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ju)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof $g)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Be(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Wq(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)})(t,e.precondition)),n}function Zq(t,e){return t&&t.length>0?(mt(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?za(i.updateTime):za(a);return l.isEqual(Fe.min())&&(l=za(a)),new Rq(l,i.transformResults||[])})(n,e)))):[]}function Jq(t,e){return{documents:[BD(t,e.path)]}}function eH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BD(t,i);const a=(function(h){if(h.length!==0)return FD(ma.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(h){if(h.length!==0)return h.map((p=>(function(x){return{field:ku(x.field),direction:rH(x.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=S1(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function tH(t){let e=Yq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];n.where&&(a=(function(g){const x=$D(g);return x instanceof ma&&yD(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((x=>(function(A){return new _h(Du(A.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(x)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let x;return x=typeof g=="object"?g.value:g,nv(x)?null:x})(n.limit));let d=null;n.startAt&&(d=(function(g){const x=!!g.before,b=g.values||[];return new Ug(b,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const x=!g.before,b=g.values||[];return new Ug(b,x)})(n.endAt)),bq(e,i,l,a,u,"F",d,h)}function nH(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $D(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Du(n.unaryFilter.field);return Tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Du(n.unaryFilter.field);return Tn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Du(n.unaryFilter.field);return Tn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Du(n.unaryFilter.field);return Tn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Tn.create(Du(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ma.create(n.compositeFilter.filters.map((r=>$D(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(n.compositeFilter.op))})(t):Be(30097,{filter:t})}function rH(t){return qq[t]}function iH(t){return Hq[t]}function aH(t){return Kq[t]}function ku(t){return{fieldPath:t.canonicalString()}}function Du(t){return ar.fromServerFormat(t.fieldPath)}function FD(t){return t instanceof Tn?(function(n){if(n.op==="=="){if(xj(n.value))return{unaryFilter:{field:ku(n.field),op:"IS_NAN"}};if(vj(n.value))return{unaryFilter:{field:ku(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xj(n.value))return{unaryFilter:{field:ku(n.field),op:"IS_NOT_NAN"}};if(vj(n.value))return{unaryFilter:{field:ku(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ku(n.field),op:iH(n.op),value:n.value}}})(t):t instanceof ma?(function(n){const r=n.getFilters().map((i=>FD(i)));return r.length===1?r[0]:{compositeFilter:{op:aH(n.op),filters:r}}})(t):Be(54877,{filter:t})}function sH(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function qD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n,r,i,a=Fe.min(),l=Fe.min(),u=sr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e){this.yt=e}}function lH(t){const e=tH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(){this.Cn=new uH}addToCollectionParentIndex(e,n){return this.Cn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(rl.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(rl.min())}updateCollectionGroup(e,n,r){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class uH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mn(kt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mn(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HD=41943040;class Ur{static withCacheSize(e){return new Ur(e,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur.DEFAULT_COLLECTION_PERCENTILE=10,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ur.DEFAULT=new Ur(HD,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ur.DISABLED=new Ur(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ed(0)}static cr(){return new ed(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="LruGarbageCollector",dH=1048576;function Dj([t,e],[n,r]){const i=rt(t,n);return i===0?rt(e,r):i}class fH{constructor(e){this.Ir=e,this.buffer=new Mn(Dj),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Dj(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Se(kj,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vd(n)?Se(kj,"Ignoring IndexedDB error during garbage collection: ",n):await yd(n)}await this.Vr(3e5)}))}}class mH{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return pe.resolve(tv.ce);const r=new fH(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(Rj)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rj):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,u,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Iu()<=nt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g}))))}}function pH(t,e){return new mH(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(){this.changes=new Dc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?pe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&fh(r.mutation,i,oi.empty(),Bt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,it()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=it()){const i=sc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=nh();return a.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=sc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,it())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let a=Hs();const l=dh(),u=(function(){return dh()})();return n.forEach(((d,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof pl)?a=a.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),fh(p.mutation,h,p.mutation.getFieldMask(),Bt.now())):l.set(h.key,oi.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>u.set(h,new yH(p,l.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=dh();let i=new rn(((l,u)=>l-u)),a=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let p=r.get(d)||oi.empty();p=u.applyToLocalView(h,p),r.set(d,p);const g=(i.get(u.batchId)||it()).add(d);i=i.insert(u.batchId,g)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,p=d.value,g=TD();p.forEach((x=>{if(!a.has(x)){const b=RD(n.get(x),r.get(x));b!==null&&g.set(x,b),a=a.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return pe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):pe.resolve(sc());let u=vh,d=a;return l.next((h=>pe.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(p)?pe.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{d=d.insert(p,x)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,d,h,it()))).next((p=>({batchId:u,changes:SD(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let i=nh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=nh();return this.indexManager.getCollectionParents(e,a).next((u=>pe.forEach(u,(d=>{const h=(function(g,x){return new xd(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,x)=>{l=l.insert(g,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,gr.newInvalidDocument(p)))}));let u=nh();return l.forEach(((d,h)=>{const p=a.get(d);p!==void 0&&fh(p.mutation,h,oi.empty(),Bt.now()),av(n,h)&&(u=u.insert(d,h))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return pe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:za(i.createTime)}})(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:lH(i.bundledQuery),readTime:za(i.readTime)}})(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(){this.overlays=new rn(ke.comparator),this.qr=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=sc();return pe.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),pe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),pe.resolve()}getOverlaysForCollection(e,n,r){const i=sc(),a=n.length+1,l=new ke(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new rn(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=a.get(h.largestBatchId);p===null&&(p=sc(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=sc(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=i)););return pe.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Vq(n,r));let a=this.qr.get(n);a===void 0&&(a=it(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.Qr=new Mn(Kn.$r),this.Ur=new Mn(Kn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Kn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Kn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ke(new kt([])),r=new Kn(n,e),i=new Kn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ke(new kt([])),r=new Kn(n,e),i=new Kn(n,e+1);let a=it();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Kn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ke.comparator(e.key,n.key)||rt(e.Yr,n.Yr)}static Kr(e,n){return rt(e.Yr,n.Yr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mn(Kn.$r)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Lq(a,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Kn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return pe.resolve(l)}lookupMutationBatch(e,n){return pe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return pe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?r_:this.tr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kn(n,0),i=new Kn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);a.push(u)})),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mn(rt);return n.forEach((i=>{const a=new Kn(i,0),l=new Kn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),pe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ke.isDocumentKey(a)||(a=a.child(""));const l=new Kn(new ke(a),0);let u=new Mn(rt);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Yr)),!0)}),l),pe.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){mt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return pe.forEach(n.mutations,(i=>{const a=new Kn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Kn(n,0),i=this.Zr.firstAfterOrEqual(r);return pe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e){this.ri=e,this.docs=(function(){return new rn(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return pe.resolve(r?r.document.mutableCopy():gr.newInvalidDocument(n))}getEntries(e,n){let r=Hs();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():gr.newInvalidDocument(i))})),pe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Hs();const l=n.path,u=new ke(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||ZF(QF(p),r)<=0||(i.has(p.key)||av(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return pe.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Be(9500)}ii(e,n){return pe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new AH(this)}getSize(e){return pe.resolve(this.size)}}class AH extends gH{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),pe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e){this.persistence=e,this.si=new Dc((n=>s_(n)),o_),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new m_,this.targetCount=0,this.ai=ed.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),pe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ed(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.Pr(n),pe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),pe.waitFor(a).next((()=>i))}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return pe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),pe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),pe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return pe.resolve(r)}containsKey(e,n){return pe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n){this.ui={},this.overlays={},this.ci=new tv(0),this.li=!1,this.li=!0,this.hi=new wH,this.referenceDelegate=e(this),this.Pi=new SH(this),this.indexManager=new cH,this.remoteDocumentCache=(function(i){return new EH(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new oH(n),this.Ii=new xH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new _H(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const i=new TH(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return pe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class TH extends eq{constructor(e){super(),this.currentSequenceNumber=e}}class p_{constructor(e){this.persistence=e,this.Ri=new m_,this.Vi=null}static mi(e){return new p_(e)}get fi(){if(this.Vi)return this.Vi;throw Be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),pe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.fi,(r=>{const i=ke.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Fe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return pe.or([()=>pe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class qg{constructor(e,n){this.persistence=e,this.pi=new Dc((r=>rq(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=pH(this,n)}static mi(e,n){return new qg(e,n)}Ei(){}di(e){return pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return pe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?pe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,a.removeEntry(l,Fe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),pe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),pe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xg(e.data.value)),n}br(e,n,r){return pe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return pe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=it(),i=it();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new g_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JU()?8:tq(xr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new CH;return this.Ss(e,n,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Iu()<=nt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Ru(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),pe.resolve()):(Iu()<=nt.DEBUG&&Se("QueryEngine","Query:",Ru(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Iu()<=nt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Ru(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ba(n))):pe.resolve())}ys(e,n){if(Ej(n))return pe.resolve(null);let r=Ba(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Bg(n,null,"F"),r=Ba(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=it(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,u);return this.Cs(n,h,l,d.readTime)?this.ys(e,Bg(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,i){return Ej(n)||i.isEqual(Fe.min())?pe.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?pe.resolve(null):(Iu()<=nt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ru(n)),this.vs(e,l,n,XF(i,vh)).next((u=>u)))}))}Ds(e,n){let r=new Mn(ED(e));return n.forEach(((i,a)=>{av(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Iu()<=nt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Ru(n)),this.ps.getDocumentsMatchingQuery(e,n,rl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="LocalStore",jH=3e8;class PH{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new rn(rt),this.xs=new Dc((a=>s_(a)),o_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vH(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function OH(t,e,n,r){return new PH(t,e,n,r)}async function GD(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let d=it();for(const h of i){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of a){u.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:u})))}))}))}function IH(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,h,p){const g=h.batch,x=g.keys();let b=pe.resolve();return x.forEach((A=>{b=b.next((()=>p.getEntry(d,A))).next((E=>{const S=h.docVersions.get(A);mt(S!==null,48541),E.version.compareTo(S)<0&&(g.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),p.addEntry(E)))}))})),b.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=it();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function WD(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function RH(t,e){const n=He(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const x=i.get(g);if(!x)return;u.push(n.Pi.removeMatchingKeys(a,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(a,p.addedDocuments,g))));let b=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(sr.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(g,b),(function(E,S,C){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=jH?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(x,b,p)&&u.push(n.Pi.updateTargetData(a,b))}));let d=Hs(),h=it();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))})),u.push(kH(a,l,e.documentUpdates).next((p=>{d=p.ks,h=p.qs}))),!r.isEqual(Fe.min())){const p=n.Pi.getLastRemoteSnapshotVersion(a).next((g=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(p)}return pe.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,h))).next((()=>d))})).then((a=>(n.Ms=i,a)))}function kH(t,e,n){let r=it(),i=it();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Hs();return n.forEach(((u,d)=>{const h=a.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Fe.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):Se(y_,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function DH(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=r_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function MH(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,pe.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Go(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function j1(t,e,n){const r=He(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!vd(l))throw l;Se(y_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Mj(t,e,n){const r=He(t);let i=Fe.min(),a=it();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,h,p){const g=He(d),x=g.xs.get(p);return x!==void 0?pe.resolve(g.Ms.get(x)):g.Pi.getTargetData(h,p)})(r,l,Ba(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Fe.min(),n?a:it()))).next((u=>(LH(r,_q(e),u),{documents:u,Qs:a})))))}function LH(t,e,n){let r=t.Os.get(e)||Fe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class Lj{constructor(){this.activeTargetIds=Nq()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VH{constructor(){this.Mo=new Lj,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Lj,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="ConnectivityMonitor";class Uj{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Se(Vj,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Se(Vj,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp=null;function P1(){return Hp===null?Hp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hp++,"0x"+Hp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="RestConnection",BH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zH{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Lg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=P1(),u=this.zo(e,n.toUriEncodedString());Se(Eb,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:h}=new URL(u),p=Ic(h);return this.Jo(e,u,d,r,p).then((g=>(Se(Eb,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw Wu(Eb,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=BH[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="WebChannelConnection";class FH extends zH{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=P1();return new Promise(((u,d)=>{const h=new X4;h.setWithCredentials(!0),h.listenOnce(Q4.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case vg.NO_ERROR:const g=h.getResponseJson();Se(hr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case vg.TIMEOUT:Se(hr,`RPC '${e}' ${l} timed out`),d(new Ae(fe.DEADLINE_EXCEEDED,"Request time out"));break;case vg.HTTP_ERROR:const x=h.getStatus();if(Se(hr,`RPC '${e}' ${l} failed with status:`,x,"response text:",h.getResponseText()),x>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const A=b?.error;if(A&&A.status&&A.message){const E=(function(C){const j=C.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(j)>=0?j:fe.UNKNOWN})(A.status);d(new Ae(E,A.message))}else d(new Ae(fe.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Ae(fe.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Se(hr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);Se(hr,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=P1(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=eD(),u=J4(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=a.join("");Se(hr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=l.createWebChannel(p,d);this.I_(g);let x=!1,b=!1;const A=new $H({Yo:S=>{b?Se(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(x||(Se(hr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),x=!0),Se(hr,`RPC '${e}' stream ${i} sending:`,S),g.send(S))},Zo:()=>g.close()}),E=(S,C,j)=>{S.listen(C,(N=>{try{j(N)}catch(L){setTimeout((()=>{throw L}),0)}}))};return E(g,th.EventType.OPEN,(()=>{b||(Se(hr,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),E(g,th.EventType.CLOSE,(()=>{b||(b=!0,Se(hr,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(g))})),E(g,th.EventType.ERROR,(S=>{b||(b=!0,Wu(hr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),A.a_(new Ae(fe.UNAVAILABLE,"The operation could not be completed")))})),E(g,th.EventType.MESSAGE,(S=>{if(!b){const C=S.data[0];mt(!!C,16349);const j=C,N=j?.error||j[0]?.error;if(N){Se(hr,`RPC '${e}' stream ${i} received error:`,N);const L=N.status;let M=(function(I){const k=An[I];if(k!==void 0)return DD(k)})(L),U=N.message;M===void 0&&(M=fe.INTERNAL,U="Unknown error status: "+L+" with message "+N.message),b=!0,A.a_(new Ae(M,U)),g.close()}else Se(hr,`RPC '${e}' stream ${i} received:`,C),A.u_(C)}})),E(u,Z4.STAT_EVENT,(S=>{S.stat===v1.PROXY?Se(hr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===v1.NOPROXY&&Se(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ab(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t){return new Gq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="PersistentStream";class XD{constructor(e,n,r,i,a,l,u,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(qs(n.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ae(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(Bj,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Se(Bj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qH extends XD{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Xq(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Fe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Fe.min():l.readTime?za(l.readTime):Fe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=N1(this.serializer),n.addTarget=(function(a,l){let u;const d=l.target;if(u=E1(d)?{documents:Jq(a,d)}:{query:eH(a,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=VD(a,l.resumeToken);const h=S1(a,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Fe.min())>0){u.readTime=Fg(a,l.snapshotVersion.toTimestamp());const h=S1(a,l.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=nH(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=N1(this.serializer),n.removeTarget=e,this.q_(n)}}class HH extends XD{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Zq(e.writeResults,e.commitTime),r=za(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=N1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Qq(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{}class GH extends KH{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ae(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,T1(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ae(fe.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,T1(n,r),i,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(fe.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class WH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qs(n),this.aa=!1):Se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c="RemoteStore";class YH{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Mc(this)&&(Se(_c,"Restarting streams for network reachability change."),await(async function(d){const h=He(d);h.Ea.add(4),await Gh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await uv(h)})(this))}))})),this.Ra=new WH(r,i)}}async function uv(t){if(Mc(t))for(const e of t.da)await e(!0)}async function Gh(t){for(const e of t.da)await e(!1)}function QD(t,e){const n=He(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),w_(n)?b_(n):bd(n).O_()&&x_(n,e))}function v_(t,e){const n=He(t),r=bd(n);n.Ia.delete(e),r.O_()&&ZD(n,e),n.Ia.size===0&&(r.O_()?r.L_():Mc(n)&&n.Ra.set("Unknown"))}function x_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bd(t).Y_(e)}function ZD(t,e){t.Va.Ue(e),bd(t).Z_(e)}function b_(t){t.Va=new Fq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),bd(t).start(),t.Ra.ua()}function w_(t){return Mc(t)&&!bd(t).x_()&&t.Ia.size>0}function Mc(t){return He(t).Ea.size===0}function JD(t){t.Va=void 0}async function XH(t){t.Ra.set("Online")}async function QH(t){t.Ia.forEach(((e,n)=>{x_(t,e)}))}async function ZH(t,e){JD(t),w_(t)?(t.Ra.ha(e),b_(t)):t.Ra.set("Unknown")}async function JH(t,e,n){if(t.Ra.set("Online"),e instanceof LD&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Se(_c,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hg(t,r)}else if(e instanceof _g?t.Va.Ze(e):e instanceof MD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const r=await WD(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.Ia.get(h);p&&a.Ia.set(h,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,h)=>{const p=a.Ia.get(d);if(!p)return;a.Ia.set(d,p.withResumeToken(sr.EMPTY_BYTE_STRING,p.snapshotVersion)),ZD(a,d);const g=new Go(p.target,d,h,p.sequenceNumber);x_(a,g)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Se(_c,"Failed to raise snapshot:",r),await Hg(t,r)}}async function Hg(t,e,n){if(!vd(e))throw e;t.Ea.add(1),await Gh(t),t.Ra.set("Offline"),n||(n=()=>WD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Se(_c,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await uv(t)}))}function e3(t,e){return e().catch((n=>Hg(t,n,e)))}async function dv(t){const e=He(t),n=ol(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:r_;for(;eK(e);)try{const i=await DH(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,tK(e,i)}catch(i){await Hg(e,i)}t3(e)&&n3(e)}function eK(t){return Mc(t)&&t.Ta.length<10}function tK(t,e){t.Ta.push(e);const n=ol(t);n.O_()&&n.X_&&n.ea(e.mutations)}function t3(t){return Mc(t)&&!ol(t).x_()&&t.Ta.length>0}function n3(t){ol(t).start()}async function nK(t){ol(t).ra()}async function rK(t){const e=ol(t);for(const n of t.Ta)e.ea(n.mutations)}async function iK(t,e,n){const r=t.Ta.shift(),i=d_.from(r,e,n);await e3(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await dv(t)}async function aK(t,e){e&&ol(t).X_&&await(async function(r,i){if((function(l){return Bq(l)&&l!==fe.ABORTED})(i.code)){const a=r.Ta.shift();ol(r).B_(),await e3(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await dv(r)}})(t,e),t3(t)&&n3(t)}async function zj(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Se(_c,"RemoteStore received new credentials");const r=Mc(n);n.Ea.add(3),await Gh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await uv(n)}async function sK(t,e){const n=He(t);e?(n.Ea.delete(2),await uv(n)):e||(n.Ea.add(2),await Gh(n),n.Ra.set("Unknown"))}function bd(t){return t.ma||(t.ma=(function(n,r,i){const a=He(n);return a.sa(),new qH(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:XH.bind(null,t),t_:QH.bind(null,t),r_:ZH.bind(null,t),H_:JH.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),w_(t)?b_(t):t.Ra.set("Unknown")):(await t.ma.stop(),JD(t))}))),t.ma}function ol(t){return t.fa||(t.fa=(function(n,r,i){const a=He(n);return a.sa(),new HH(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:nK.bind(null,t),r_:aK.bind(null,t),ta:rK.bind(null,t),na:iK.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await dv(t)):(await t.fa.stop(),t.Ta.length>0&&(Se(_c,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,u=new __(e,n,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E_(t,e){if(qs("AsyncQueue",`${e}: ${t}`),vd(t))return new Ae(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{static emptySet(e){return new Bu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=nh(),this.sortedSet=new rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this.ga=new rn(ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class td{constructor(e,n,r,i,a,l,u,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new td(e,n,Bu.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&iv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lK{constructor(){this.queries=Fj(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=He(n),a=i.queries;i.queries=Fj(),a.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new Ae(fe.ABORTED,"Firestore shutting down"))}}function Fj(){return new Dc((t=>_D(t)),iv)}async function r3(t,e){const n=He(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new oK,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=E_(l,`Initialization of query '${Ru(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&A_(n)}async function i3(t,e){const n=He(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cK(t,e){const n=He(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&A_(n)}function uK(t,e,n){const r=He(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function A_(t){t.Ca.forEach((e=>{e.next()}))}var O1,qj;(qj=O1||(O1={})).Ma="default",qj.Cache="cache";class a3{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new td(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==O1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.key=e}}class o3{constructor(e){this.key=e}}class dK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=it(),this.mutatedKeys=it(),this.eu=ED(e),this.tu=new Bu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new $j,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const x=i.get(p),b=av(this.query,g)?g:null,A=!!x&&this.mutatedKeys.has(x.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;x&&b?x.data.isEqual(b.data)?A!==E&&(r.track({type:3,doc:b}),S=!0):this.su(x,b)||(r.track({type:2,doc:b}),S=!0,(d&&this.eu(b,d)>0||h&&this.eu(b,h)<0)&&(u=!0)):!x&&b?(r.track({type:0,doc:b}),S=!0):x&&!b&&(r.track({type:1,doc:x}),S=!0,(d||h)&&(u=!0)),S&&(b?(l=l.add(b),a=E?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(b,A){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Rt:S})}};return E(b)-E(A)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,l.length!==0||h?{snapshot:new td(this.query,e.tu,a,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $j,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=it(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new o3(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new s3(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=it();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return td.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const S_="SyncEngine";class fK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hK{constructor(e){this.key=e,this.hu=!1}}class mK{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Dc((u=>_D(u)),iv),this.Iu=new Map,this.Eu=new Set,this.du=new rn(ke.comparator),this.Au=new Map,this.Ru=new m_,this.Vu={},this.mu=new Map,this.fu=ed.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pK(t,e,n=!0){const r=h3(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await l3(r,e,n,!0),i}async function gK(t,e){const n=h3(t);await l3(n,e,!0,!1)}async function l3(t,e,n,r){const i=await MH(t.localStore,Ba(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await yK(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&QD(t.remoteStore,i),u}async function yK(t,e,n,r,i){t.pu=(g,x,b)=>(async function(E,S,C,j){let N=S.view.ru(C);N.Cs&&(N=await Mj(E.localStore,S.query,!1).then((({documents:R})=>S.view.ru(R,N))));const L=j&&j.targetChanges.get(S.targetId),M=j&&j.targetMismatches.get(S.targetId)!=null,U=S.view.applyChanges(N,E.isPrimaryClient,L,M);return Kj(E,S.targetId,U.au),U.snapshot})(t,g,x,b);const a=await Mj(t.localStore,e,!0),l=new dK(e,a.Qs),u=l.ru(a.documents),d=Kh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(u,t.isPrimaryClient,d);Kj(t,n,h.au);const p=new fK(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function vK(t,e,n){const r=He(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!iv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await j1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&v_(r.remoteStore,i.targetId),I1(r,i.targetId)})).catch(yd)):(I1(r,i.targetId),await j1(r.localStore,i.targetId,!0))}async function xK(t,e){const n=He(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),v_(n.remoteStore,r.targetId))}async function bK(t,e,n){const r=CK(t);try{const i=await(function(l,u){const d=He(l),h=Bt.now(),p=u.reduce(((b,A)=>b.add(A.key)),it());let g,x;return d.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let A=Hs(),E=it();return d.Ns.getEntries(b,p).next((S=>{A=S,A.forEach(((C,j)=>{j.isValidDocument()||(E=E.add(C))}))})).next((()=>d.localDocuments.getOverlayedDocuments(b,A))).next((S=>{g=S;const C=[];for(const j of u){const N=Dq(j,g.get(j.key).overlayedDocument);N!=null&&C.push(new pl(j.key,N,mD(N.value.mapValue),Vi.exists(!0)))}return d.mutationQueue.addMutationBatch(b,h,C,u)})).next((S=>{x=S;const C=S.applyToLocalDocumentSet(g,E);return d.documentOverlayCache.saveOverlays(b,S.batchId,C)}))})).then((()=>({batchId:x.batchId,changes:SD(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let h=l.Vu[l.currentUser.toKey()];h||(h=new rn(rt)),h=h.insert(u,d),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await Wh(r,i.changes),await dv(r.remoteStore)}catch(i){const a=E_(i,"Failed to persist write");n.reject(a)}}async function c3(t,e){const n=He(t);try{const r=await RH(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?mt(l.hu,14607):i.removedDocuments.size>0&&(mt(l.hu,42227),l.hu=!1))})),await Wh(n,r,e)}catch(r){await yd(r)}}function Hj(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=He(l);d.onlineState=u;let h=!1;d.queries.forEach(((p,g)=>{for(const x of g.Sa)x.va(u)&&(h=!0)})),h&&A_(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wK(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new rn(ke.comparator);l=l.insert(a,gr.newNoDocument(a,Fe.min()));const u=it().add(a),d=new lv(Fe.min(),new Map,new rn(rt),l,u);await c3(r,d),r.du=r.du.remove(a),r.Au.delete(e),T_(r)}else await j1(r.localStore,e,!1).then((()=>I1(r,e,n))).catch(yd)}async function _K(t,e){const n=He(t),r=e.batch.batchId;try{const i=await IH(n.localStore,e);d3(n,r,null),u3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wh(n,i)}catch(i){await yd(i)}}async function EK(t,e,n){const r=He(t);try{const i=await(function(l,u){const d=He(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return d.mutationQueue.lookupMutationBatch(h,u).next((g=>(mt(g!==null,37113),p=g.keys(),d.mutationQueue.removeMutationBatch(h,g)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>d.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);d3(r,e,n),u3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wh(r,i)}catch(i){await yd(i)}}function u3(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function d3(t,e,n){const r=He(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function I1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||f3(t,r)}))}function f3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(v_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),T_(t))}function Kj(t,e,n){for(const r of n)r instanceof s3?(t.Ru.addReference(r.key,e),AK(t,r)):r instanceof o3?(Se(S_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||f3(t,r.key)):Be(19791,{wu:r})}function AK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Se(S_,"New document in limbo: "+n),t.Eu.add(r),T_(t))}function T_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(kt.fromString(e)),r=t.fu.next();t.Au.set(r,new hK(n)),t.du=t.du.insert(n,r),QD(t.remoteStore,new Go(Ba(l_(n.path)),r,"TargetPurposeLimboResolution",tv.ce))}}async function Wh(t,e,n){const r=He(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(h){i.push(h);const p=g_.As(d.targetId,h);a.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,h){const p=He(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>pe.forEach(h,(x=>pe.forEach(x.Es,(b=>p.persistence.referenceDelegate.addReference(g,x.targetId,b))).next((()=>pe.forEach(x.ds,(b=>p.persistence.referenceDelegate.removeReference(g,x.targetId,b)))))))))}catch(g){if(!vd(g))throw g;Se(y_,"Failed to update sequence numbers: "+g)}for(const g of h){const x=g.targetId;if(!g.fromCache){const b=p.Ms.get(x),A=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(A);p.Ms=p.Ms.insert(x,E)}}})(r.localStore,a))}async function SK(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Se(S_,"User change. New user:",e.toKey());const r=await GD(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((d=>{d.reject(new Ae(fe.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wh(n,r.Ls)}}function TK(t,e){const n=He(t),r=n.Au.get(e);if(r&&r.hu)return it().add(r.key);{let i=it();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function h3(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=c3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wK.bind(null,e),e.Pu.H_=cK.bind(null,e.eventManager),e.Pu.yu=uK.bind(null,e.eventManager),e}function CK(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_K.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EK.bind(null,e),e}class Kg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return OH(this.persistence,new NH,e.initialUser,this.serializer)}Cu(e){return new KD(p_.mi,this.serializer)}Du(e){return new VH}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kg.provider={build:()=>new Kg};class NK extends Kg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){mt(this.persistence.referenceDelegate instanceof qg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ur.withCacheSize(this.cacheSizeBytes):Ur.DEFAULT;return new KD((r=>qg.mi(r,n)),this.serializer)}}class R1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Hj(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SK.bind(null,this.syncEngine),await sK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lK})()}createDatastore(e){const n=cv(e.databaseInfo.databaseId),r=(function(a){return new FH(a)})(e.databaseInfo);return(function(a,l,u,d){return new GH(a,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,u){return new YH(r,i,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>Hj(this.syncEngine,n,0)),(function(){return Uj.v()?new Uj:new UH})())}createSyncEngine(e,n){return(function(i,a,l,u,d,h,p){const g=new mK(i,a,l,u,d,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=He(n);Se(_c,"RemoteStore shutting down."),r.Ea.add(5),await Gh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}R1.provider={build:()=>new R1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="FirestoreClient";class jK{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=n_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Se(ll,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Se(ll,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=E_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Sb(t,e){t.asyncQueue.verifyOperationInProgress(),Se(ll,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await GD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Gj(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PK(t);Se(ll,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>zj(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>zj(e.remoteStore,i))),t._onlineComponents=e}async function PK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(ll,"Using user provided OfflineComponentProvider");try{await Sb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Wu("Error using user provided cache. Falling back to memory cache: "+n),await Sb(t,new Kg)}}else Se(ll,"Using default OfflineComponentProvider"),await Sb(t,new NK(void 0));return t._offlineComponents}async function p3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(ll,"Using user provided OnlineComponentProvider"),await Gj(t,t._uninitializedComponentsProvider._online)):(Se(ll,"Using default OnlineComponentProvider"),await Gj(t,new R1))),t._onlineComponents}function OK(t){return p3(t).then((e=>e.syncEngine))}async function g3(t){const e=await p3(t),n=e.eventManager;return n.onListen=pK.bind(null,e.syncEngine),n.onUnlisten=vK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xK.bind(null,e.syncEngine),n}function IK(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,d,h){const p=new m3({next:x=>{p.Nu(),l.enqueueAndForget((()=>i3(a,g)));const b=x.docs.has(u);!b&&x.fromCache?h.reject(new Ae(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&x.fromCache&&d&&d.source==="server"?h.reject(new Ae(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new a3(l_(u.path),p,{includeMetadataChanges:!0,qa:!0});return r3(a,g)})(await g3(t),t.asyncQueue,e,n,r))),r.promise}function RK(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,d,h){const p=new m3({next:x=>{p.Nu(),l.enqueueAndForget((()=>i3(a,g))),x.fromCache&&d.source==="server"?h.reject(new Ae(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new a3(u,p,{includeMetadataChanges:!0,qa:!0});return r3(a,g)})(await g3(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="firestore.googleapis.com",Yj=!0;class Xj{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v3,this.ssl=Yj}else this.host=e.host,this.ssl=e.ssl??Yj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dH)throw new Ae(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new UF;switch(r.type){case"firstParty":return new FF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Wj.get(n);r&&(Se("ComponentProvider","Removing Datastore"),Wj.delete(n),r.terminate())})(this),Promise.resolve()}}function kK(t,e,n,r={}){t=ha(t,fv);const i=Ic(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(B2(`https://${u}`),z2("Firestore",!0)),a.host!==v3&&a.host!==u&&Wu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:u,ssl:i,emulatorOptions:r};if(!zs(d,l)&&(t._setSettings(d),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=pr.MOCK_USER;else{h=s4(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ae(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new pr(g)}t._authCredentials=new BF(new nD(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gl(this.firestore,e,this._query)}}class gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}toJSON(){return{type:gn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(qh(n,gn._jsonSchema))return new gn(e,r||null,new ke(kt.fromString(n.referencePath)))}}gn._jsonSchemaVersion="firestore/documentReference/1.0",gn._jsonSchema={type:Cn("string",gn._jsonSchemaVersion),referencePath:Cn("string")};class Jo extends gl{constructor(e,n,r){super(e,n,l_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new ke(e))}withConverter(e){return new Jo(this.firestore,e,this._path)}}function jt(t,e,...n){if(t=ln(t),rD("collection","path",e),t instanceof fv){const r=kt.fromString(e,...n);return cj(r),new Jo(t,null,r)}{if(!(t instanceof gn||t instanceof Jo))throw new Ae(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return cj(r),new Jo(t.firestore,null,r)}}function xt(t,e,...n){if(t=ln(t),arguments.length===1&&(e=n_.newId()),rD("doc","path",e),t instanceof fv){const r=kt.fromString(e,...n);return lj(r),new gn(t,null,new ke(r))}{if(!(t instanceof gn||t instanceof Jo))throw new Ae(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return lj(r),new gn(t.firestore,t instanceof Jo?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="AsyncQueue";class Zj{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YD(this,"async_queue_retry"),this._c=()=>{const r=Ab();r&&Se(Qj,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ab();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ab();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vd(e))throw e;Se(Qj,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qs("INTERNAL UNHANDLED ERROR: ",Jj(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=__.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Be(47125,{Pc:Jj(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Jj(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Lc extends fv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Zj,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zj(e),this._firestoreClient=void 0,await e}}}function DK(t,e){const n=typeof t=="object"?t:q2(),r=typeof t=="string"?t:Lg,i=Xy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=r4("firestore");a&&kK(i,...a)}return i}function C_(t){if(t._terminated)throw new Ae(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||MK(t),t._firestoreClient}function MK(t){const e=t._freezeSettings(),n=(function(i,a,l,u){return new sq(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,y3(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new jK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mi(sr.fromBase64String(e))}catch(n){throw new Ae(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mi(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qh(e,Mi._jsonSchema))return Mi.fromBase64String(e.bytes)}}Mi._jsonSchemaVersion="firestore/bytes/1.0",Mi._jsonSchema={type:Cn("string",Mi._jsonSchemaVersion),bytes:Cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$a._jsonSchemaVersion}}static fromJSON(e){if(qh(e,$a._jsonSchema))return new $a(e.latitude,e.longitude)}}$a._jsonSchemaVersion="firestore/geoPoint/1.0",$a._jsonSchema={type:Cn("string",$a._jsonSchemaVersion),latitude:Cn("number"),longitude:Cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qh(e,Fa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Fa(e.vectorValues);throw new Ae(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fa._jsonSchemaVersion="firestore/vectorValue/1.0",Fa._jsonSchema={type:Cn("string",Fa._jsonSchemaVersion),vectorValues:Cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK=/^__.*__$/;class VK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hh(e,this.data,n,this.fieldTransforms)}}class x3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function b3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ac:t})}}class mv{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(b3(this.Ac)&&LK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class UK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cv(e)}Cc(e,n,r,i=!1){return new mv({Ac:e,methodName:n,Dc:r,path:ar.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pv(t){const e=t._freezeSettings(),n=cv(t._databaseId);return new UK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function w3(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);P_("Data must be an object, but it was:",l,r);const u=E3(r,l);let d,h;if(a.merge)d=new oi(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const x=k1(e,g,n);if(!l.contains(x))throw new Ae(fe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);S3(p,x)||p.push(x)}d=new oi(p),h=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,h=l.fieldTransforms;return new VK(new $r(u),d,h)}class gv extends Yh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gv}}function _3(t,e,n){return new mv({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class N_ extends Yh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=_3(this,e,!0),r=this.vc.map((a=>Vc(a,n))),i=new Zu(r);return new ID(e.path,i)}isEqual(e){return e instanceof N_&&zs(this.vc,e.vc)}}class j_ extends Yh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=_3(this,e,!0),r=this.vc.map((a=>Vc(a,n))),i=new Ju(r);return new ID(e.path,i)}isEqual(e){return e instanceof j_&&zs(this.vc,e.vc)}}function BK(t,e,n,r){const i=t.Cc(1,e,n);P_("Data must be an object, but it was:",i,r);const a=[],l=$r.empty();ml(r,((d,h)=>{const p=O_(e,d,n);h=ln(h);const g=i.yc(p);if(h instanceof gv)a.push(p);else{const x=Vc(h,g);x!=null&&(a.push(p),l.set(p,x))}}));const u=new oi(a);return new x3(l,u,i.fieldTransforms)}function zK(t,e,n,r,i,a){const l=t.Cc(1,e,n),u=[k1(e,r,n)],d=[i];if(a.length%2!=0)throw new Ae(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)u.push(k1(e,a[x])),d.push(a[x+1]);const h=[],p=$r.empty();for(let x=u.length-1;x>=0;--x)if(!S3(h,u[x])){const b=u[x];let A=d[x];A=ln(A);const E=l.yc(b);if(A instanceof gv)h.push(b);else{const S=Vc(A,E);S!=null&&(h.push(b),p.set(b,S))}}const g=new oi(h);return new x3(p,g,l.fieldTransforms)}function $K(t,e,n,r=!1){return Vc(n,t.Cc(r?4:3,e))}function Vc(t,e){if(A3(t=ln(t)))return P_("Unsupported field value:",e,t),E3(t,e);if(t instanceof Yh)return(function(r,i){if(!b3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const u of r){let d=Vc(u,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Bt.fromDate(r);return{timestampValue:Fg(i.serializer,a)}}if(r instanceof Bt){const a=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fg(i.serializer,a)}}if(r instanceof $a)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mi)return{bytesValue:VD(i.serializer,r._byteString)};if(r instanceof gn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:h_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fa)return(function(l,u){return{mapValue:{fields:{[fD]:{stringValue:hD},[Vg]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return c_(u.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${ev(r)}`)})(t,e)}function E3(t,e){const n={};return sD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ml(t,((r,i)=>{const a=Vc(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function A3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof $a||t instanceof Mi||t instanceof gn||t instanceof Yh||t instanceof Fa)}function P_(t,e,n){if(!A3(n)||!iD(n)){const r=ev(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function k1(t,e,n){if((e=ln(e))instanceof hv)return e._internalPath;if(typeof e=="string")return O_(t,e);throw Gg("Field path arguments must be of type string or ",t,!1,void 0,n)}const FK=new RegExp("[~\\*/\\[\\]]");function O_(t,e,n){if(e.search(FK)>=0)throw Gg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hv(...e.split("."))._internalPath}catch{throw Gg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gg(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Ae(fe.INVALID_ARGUMENT,u+t+d)}function S3(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qK extends T3{data(){return super.data()}}function yv(t,e){return typeof e=="string"?O_(t,e):e instanceof hv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I_{}class R_ extends I_{}function pa(t,e,...n){let r=[];e instanceof I_&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((d=>d instanceof k_)).length,u=a.filter((d=>d instanceof vv)).length;if(l>1||l>0&&u>0)throw new Ae(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class vv extends R_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vv(e,n,r)}_apply(e){const n=this._parse(e);return C3(e._query,n),new gl(e.firestore,e.converter,A1(e._query,n))}_parse(e){const n=pv(e.firestore);return(function(a,l,u,d,h,p,g){let x;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ae(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){tP(g,p);const A=[];for(const E of g)A.push(eP(d,a,E));x={arrayValue:{values:A}}}else x=eP(d,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||tP(g,p),x=$K(u,l,g,p==="in"||p==="not-in");return Tn.create(h,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ks(t,e,n){const r=e,i=yv("where",t);return vv._create(i,r,n)}class k_ extends I_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new k_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ma.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const u=a.getFlattenedFilters();for(const d of u)C3(l,d),l=A1(l,d)})(e._query,n),new gl(e.firestore,e.converter,A1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class D_ extends R_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new D_(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new Ae(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ae(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _h(a,l)})(e._query,this._field,this._direction);return new gl(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new xd(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function yl(t,e="asc"){const n=e,r=yv("orderBy",t);return D_._create(r,n)}class M_ extends R_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new M_(e,n,r)}_apply(e){return new gl(e.firestore,e.converter,Bg(e._query,this._limit,this._limitType))}}function KK(t){return M_._create("limit",t,"F")}function eP(t,e,n){if(typeof(n=ln(n))=="string"){if(n==="")throw new Ae(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wD(e)&&n.indexOf("/")!==-1)throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(kt.fromString(n));if(!ke.isDocumentKey(r))throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yj(t,new ke(r))}if(n instanceof gn)return yj(t,n._key);throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ev(n)}.`)}function tP(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function C3(t,e){const n=(function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ae(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GK{convertValue(e,n="none"){switch(sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(al(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ml(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Vg].arrayValue?.values?.map((r=>pn(r.doubleValue)));return new Fa(n)}convertGeoPoint(e){return new $a(pn(e.latitude),pn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xh(e));default:return null}}convertTimestamp(e){const n=il(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kt.fromString(e);mt(qD(r),9688,{name:e});const i=new bh(r.get(1),r.get(3)),a=new ke(r.popFirst(5));return i.isEqual(n)||qs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ih{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fc extends T3{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fc._jsonSchemaVersion="firestore/documentSnapshot/1.0",fc._jsonSchema={type:Cn("string",fc._jsonSchemaVersion),bundleSource:Cn("string","DocumentSnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class Eg extends fc{data(e={}){return super.data(e)}}class zu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ih(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Eg(this._firestore,this._userDataWriter,r.key,r,new ih(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new Eg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ih(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const d=new Eg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ih(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:WK(u.type),doc:d,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=n_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t){t=ha(t,gn);const e=ha(t.firestore,Lc);return IK(C_(e),t._key).then((n=>YK(e,t,n)))}zu._jsonSchemaVersion="firestore/querySnapshot/1.0",zu._jsonSchema={type:Cn("string",zu._jsonSchemaVersion),bundleSource:Cn("string","QuerySnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class j3 extends GK{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function Ht(t){t=ha(t,gl);const e=ha(t.firestore,Lc),n=C_(e),r=new j3(e);return HK(t._query),RK(n,t._query).then((i=>new zu(e,r,t,i)))}function cl(t,e,n){t=ha(t,gn);const r=ha(t.firestore,Lc),i=N3(t.converter,e,n);return bv(r,[w3(pv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Vi.none())])}function sa(t,e,n,...r){t=ha(t,gn);const i=ha(t.firestore,Lc),a=pv(i);let l;return l=typeof(e=ln(e))=="string"||e instanceof hv?zK(a,"updateDoc",t._key,e,n,r):BK(a,"updateDoc",t._key,e),bv(i,[l.toMutation(t._key,Vi.exists(!0))])}function L_(t){return bv(ha(t.firestore,Lc),[new u_(t._key,Vi.none())])}function xv(t,e){const n=ha(t.firestore,Lc),r=xt(t),i=N3(t.converter,e);return bv(n,[w3(pv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Vi.exists(!1))]).then((()=>r))}function bv(t,e){return(function(r,i){const a=new Ds;return r.asyncQueue.enqueueAndForget((async()=>bK(await OK(r),i,a))),a.promise})(C_(t),e)}function YK(t,e,n){const r=n.docs.get(e._key),i=new j3(t);return new fc(t,i,e._key,r,new ih(n.hasPendingWrites,n.fromCache),e.converter)}function nP(...t){return new N_("arrayUnion",t)}function rP(...t){return new j_("arrayRemove",t)}(function(e,n=!0){(function(i){gd=i})(Rc),vc(new nl("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new Lc(new zF(r.getProvider("auth-internal")),new qF(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ae(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(h.options.projectId,p)})(l,i),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Va(ij,aj,e),Va(ij,aj,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="firebasestorage.googleapis.com",XK="storageBucket",QK=120*1e3,ZK=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Za{constructor(e,n,r=0){super(Tb(e),`Firebase Storage: ${n} (${Tb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,es.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ka;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ka||(Ka={}));function Tb(t){return"storage/"+t}function JK(){const t="An unknown error occurred, please check the error payload for server response.";return new es(Ka.UNKNOWN,t)}function eG(){return new es(Ka.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tG(){return new es(Ka.CANCELED,"User canceled the upload/download.")}function nG(t){return new es(Ka.INVALID_URL,"Invalid URL '"+t+"'.")}function rG(t){return new es(Ka.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function iP(t){return new es(Ka.INVALID_ARGUMENT,t)}function O3(){return new es(Ka.APP_DELETED,"The Firebase app was deleted.")}function iG(t){return new es(Ka.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ua.makeFromUrl(e,n)}catch{return new ua(e,"")}if(r.path==="")return r;throw rG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function h(L){L.path_=decodeURIComponent(L.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",b=new RegExp(`^https?://${g}/${p}/b/${i}/o${x}`,"i"),A={bucket:1,path:3},E=n===P3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",C=new RegExp(`^https?://${E}/${i}/${S}`,"i"),N=[{regex:u,indices:d,postModify:a},{regex:b,indices:A,postModify:h},{regex:C,indices:{bucket:1,path:2},postModify:h}];for(let L=0;L<N.length;L++){const M=N[L],U=M.regex.exec(e);if(U){const R=U[M.indices.bucket];let I=U[M.indices.path];I||(I=""),r=new ua(R,I),M.postModify(r);break}}if(r==null)throw nG(e);return r}}class aG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(t,e,n){let r=1,i=null,a=null,l=!1,u=0;function d(){return u===2}let h=!1;function p(...S){h||(h=!0,e.apply(null,S))}function g(S){i=setTimeout(()=>{i=null,t(b,d())},S)}function x(){a&&clearTimeout(a)}function b(S,...C){if(h){x();return}if(S){x(),p.call(null,S,...C);return}if(d()||l){x(),p.call(null,S,...C);return}r<64&&(r*=2);let N;u===1?(u=2,N=0):N=(r+Math.random())*1e3,g(N)}let A=!1;function E(S){A||(A=!0,x(),!h&&(i!==null?(S||(u=2),clearTimeout(i),g(0)):S||(u=1)))}return g(0),a=setTimeout(()=>{l=!0,E(!0)},n),E}function oG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(t){return t!==void 0}function aP(t,e,n,r){if(r<e)throw iP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw iP(`Invalid value for '${t}'. Expected ${n} or less.`)}function cG(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Wg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wg||(Wg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uG(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(e,n,r,i,a,l,u,d,h,p,g,x=!0,b=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=x,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,E)=>{this.resolve_=A,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Kp(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const d=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===Wg.NO_ERROR,d=a.getStatus();if(!u||uG(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===Wg.ABORT;r(!1,new Kp(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new Kp(h,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());lG(d)?a(d):a()}catch(d){l(d)}else if(u!==null){const d=JK();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(i.canceled){const d=this.appDelete_?O3():tG();l(d)}else{const d=eG();l(d)}};this.canceled_?n(!1,new Kp(!1,null,!0)):this.backoffId_=sG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&oG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function pG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function gG(t,e,n,r,i,a,l=!0,u=!1){const d=cG(t.urlParams),h=t.url+d,p=Object.assign({},t.headers);return mG(p,e),fG(p,n),hG(p,a),pG(p,r),new dG(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function vG(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this._service=e,n instanceof ua?this._location=n:this._location=ua.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yg(e,n)}get root(){const e=new ua(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vG(this._location.path)}get storage(){return this._service}get parent(){const e=yG(this._location.path);if(e===null)return null;const n=new ua(this._location.bucket,e);return new Yg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw iG(e)}}function sP(t,e){const n=e?.[XK];return n==null?null:ua.makeFromBucketSpec(n,t)}function xG(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ic(e);i&&(B2(`https://${t.host}/b`),z2("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:s4(a,t.app.options.projectId))}class bG{constructor(e,n,r,i,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=P3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QK,this._maxUploadRetryTime=ZK,this._requests=new Set,i!=null?this._bucket=ua.makeFromBucketSpec(i,this._host):this._bucket=sP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ua.makeFromBucketSpec(this._url,e):this._bucket=sP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yg(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new aG(O3());{const l=gG(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const oP="@firebase/storage",lP="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="storage";function wG(t=q2(),e){t=ln(t);const r=Xy(t,I3).getImmediate({identifier:e}),i=r4("storage");return i&&_G(r,...i),r}function _G(t,e,n,r={}){xG(t,e,n,r)}function EG(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new bG(n,r,i,e,Rc)}function AG(){vc(new nl(I3,EG,"PUBLIC").setMultipleInstances(!0)),Va(oP,lP,""),Va(oP,lP,"esm2020")}AG();const D1={apiKey:"AIzaSyDzEL20_gjVbq1gmskOJ2H2mFUocpamJzU",authDomain:"psgshop-62518.firebaseapp.com",projectId:"psgshop-62518",storageBucket:"psgshop-62518.firebasestorage.app",messagingSenderId:"951270215395",appId:"1:951270215395:web:d6c1ec0787e43351c17fd6"};console.log("Firebase config values:",{apiKey:"***",authDomain:"psgshop-62518.firebaseapp.com",projectId:"psgshop-62518",storageBucket:"psgshop-62518.firebasestorage.app",messagingSenderId:"951270215395",appId:"1:951270215395:web:d6c1ec0787e43351c17fd6"});const R3=Object.values(D1).every(t=>t&&t!=="");console.log("Is Firebase config valid:",R3);let Gp,Re,fa,SG;if(R3)try{console.log("Initializing Firebase app..."),Gp=c4(D1),console.log("Firebase app initialized successfully"),console.log("Initializing Firestore..."),Re=DK(Gp),console.log("Firestore initialized successfully"),console.log("Initializing Auth..."),fa=DF(Gp),E$(fa,V4).then(()=>{console.log("Auth persistence set to browser local storage")}).catch(t=>{console.error("Error setting auth persistence:",t)}),console.log("Auth initialized successfully"),console.log("Initializing Storage..."),SG=wG(Gp),console.log("Storage initialized successfully")}catch(t){console.error("Firebase initialization error:",t),console.error("Error code:",t.code),console.error("Error message:",t.message)}else{const t=Object.entries(D1).filter(([e,n])=>!n||n==="").map(([e])=>e);console.warn("Firebase configuration is missing or incomplete. Missing keys:",t),console.warn("Please check your .env file and ensure all Firebase config variables are set.")}const k3=_.createContext(),Hi=()=>_.useContext(k3),D3=_.createContext(),TG=(t,e)=>{switch(e.type){case"SET_CART":return{...t,items:e.payload.items||[],coupon:e.payload.coupon||null};case"ADD_TO_CART":const n=t.items.find(d=>d.id===e.payload.id);if(n){const d=n.quantity+(e.payload.quantity||1),h=e.payload.stock!==void 0?e.payload.stock:1/0;return d>h?t:{...t,items:t.items.map(p=>p.id===e.payload.id?{...p,quantity:d}:p)}}const r=e.payload.quantity||1,i=e.payload.stock!==void 0?e.payload.stock:1/0;return r>i?t:{...t,items:[...t.items,{...e.payload,quantity:r}]};case"REMOVE_FROM_CART":return{...t,items:t.items.filter(d=>d.id!==e.payload)};case"UPDATE_QUANTITY":const a=t.items.find(d=>d.id===e.payload.id);if(!a)return t;const l=a.stock!==void 0?a.stock:1/0,u=Math.min(e.payload.quantity,l);return u<=0?{...t,items:t.items.filter(d=>d.id!==e.payload.id)}:{...t,items:t.items.map(d=>d.id===e.payload.id?{...d,quantity:u}:d)};case"CLEAR_CART":return{...t,items:[],coupon:null};case"APPLY_COUPON":return{...t,coupon:e.payload};case"REMOVE_COUPON":return{...t,coupon:null};default:return t}},CG=({children:t})=>{const[e,n]=_.useReducer(TG,{items:[],coupon:null}),[r,i]=_.useState(!0),{currentUser:a}=Hi(),l=_.useRef(!0),u=C=>{if(C.imageUrls&&C.imageUrls.length>0){const j=C.imageUrls.filter(N=>N&&(typeof N=="string"||N.data&&typeof N.data=="string"));if(j.length>0){const N=C.primaryImageIndex||0,L=Math.min(N,j.length-1),M=j[L];if(typeof M=="string")return M;if(M&&M.data)return M.data}}return C.imageUrl||"https://via.placeholder.com/600x600.png?text=Moño"},d=_.useCallback(async()=>{if(i(!0),!a){console.log("No user logged in, clearing cart"),n({type:"SET_CART",payload:{items:[],coupon:null}}),i(!1);return}try{console.log("Attempting to load cart from Firestore for user:",a.uid);const C=xt(Re,"carts",a.uid),j=await ga(C);if(j.exists()){const N=j.data();console.log("Cart data loaded from Firestore:",N),n({type:"SET_CART",payload:{items:N.items||[],coupon:N.coupon||null}})}else console.log("No cart found for user, initializing empty cart"),n({type:"SET_CART",payload:{items:[],coupon:null}})}catch(C){console.error("Error loading cart from Firestore:",C),console.error("Error details:",C.code,C.message),n({type:"SET_CART",payload:{items:[],coupon:null}})}finally{i(!1)}},[a]);_.useEffect(()=>{console.log("CartProvider useEffect triggered with currentUser:",a),d()},[a,d]),_.useEffect(()=>{if(!a||r||l.current){l.current&&(console.log("Skipping save during initial cart load"),l.current=!1);return}const C=async()=>{console.log("Saving cart to Firestore:",{userId:a.uid,itemsCount:e.items.length,items:e.items,coupon:e.coupon});try{const N=xt(Re,"carts",a.uid),L={userId:a.uid,items:e.items.map(U=>({...U,lastUpdated:Date.now()})),coupon:e.coupon,updatedAt:new Date().toISOString(),timestamp:Date.now()};await cl(N,L,{merge:!0}),console.log("Successfully saved cart to Firestore with data:",L),(await ga(N)).exists()?console.log("Verification: Cart successfully saved and can be read back"):console.error("Verification: Failed to verify cart save")}catch(N){console.error("Error saving cart to Firestore:",N),console.error("Error details:",N.code,N.message)}},j=setTimeout(()=>{C()},500);return()=>clearTimeout(j)},[e.items,e.coupon,a,r]);const h=C=>{console.log("Adding to cart:",C);const j={...C,imageUrl:u(C)};n({type:"ADD_TO_CART",payload:j})},p=async C=>{if(console.log("Removing from cart:",C),n({type:"REMOVE_FROM_CART",payload:C}),a)try{const j=xt(Re,"carts",a.uid)}catch(j){console.error("Error removing item from Firestore cart:",j)}},g=(C,j)=>{if(console.log("Updating quantity:",C,j),j<=0){p(C);return}n({type:"UPDATE_QUANTITY",payload:{id:C,quantity:j}})},x=async()=>{if(n({type:"CLEAR_CART"}),a)try{const C=xt(Re,"carts",a.uid);await cl(C,{userId:a.uid,items:[],coupon:null,updatedAt:new Date})}catch(C){console.error("Error clearing cart in Firestore:",C)}},b=()=>e.items.reduce((C,j)=>C+j.quantity,0),A=()=>{const C=e.items.reduce((j,N)=>j+N.price*N.quantity,0);if(e.coupon){if(e.coupon.discountType==="percentage")return C*(1-e.coupon.discountValue/100);if(e.coupon.discountType==="fixed")return Math.max(0,C-e.coupon.discountValue)}return C},E=async C=>{try{const j=jt(Re,"coupons"),N=pa(j,Ks("code","==",C)),L=await Ht(N);if(L.empty)throw new Error("Cupón no válido");const M=L.docs[0],U={id:M.id,...M.data()};if(!U.isActive)throw new Error("Este cupón no está activo");const R=new Date;if(U.expiryDate&&R>U.expiryDate.toDate())throw new Error("Este cupón ha expirado");return n({type:"APPLY_COUPON",payload:U}),U}catch(j){throw console.error("Error applying coupon:",j),j}},S=()=>{n({type:"REMOVE_COUPON"})};return f.jsx(D3.Provider,{value:{items:e.items,coupon:e.coupon,loading:r,addToCart:h,removeFromCart:p,updateQuantity:g,clearCart:x,getTotalItems:b,getTotalPrice:A,applyCoupon:E,removeCoupon:S},children:t})},Uc=()=>{const t=_.useContext(D3);if(!t)throw new Error("useCart must be used within a CartProvider");return t},M3=_.createContext(),Xh=()=>_.useContext(M3),NG=({children:t})=>{const[e,n]=_.useState([]),[r,i]=_.useState(!0),{currentUser:a}=Hi(),l=_.useRef(!0),u=E=>{if(E.imageUrls&&E.imageUrls.length>0){const S=E.imageUrls.filter(C=>C&&(typeof C=="string"||C.data&&typeof C.data=="string"));if(S.length>0){const C=E.primaryImageIndex||0,j=Math.min(C,S.length-1),N=S[j];if(typeof N=="string")return N;if(N&&N.data)return N.data}}return E.imageUrl||"https://via.placeholder.com/600x600.png?text=Moño"},d=_.useCallback(async()=>{if(i(!0),!a){n([]),i(!1),l.current=!1;return}try{const E=xt(Re,"wishlists",a.uid),S=await ga(E);if(S.exists()){const C=S.data();n(C.items||[])}else n([])}catch(E){console.error("Error loading wishlist from Firestore:",E),n([])}finally{i(!1),l.current=!1}},[a]);_.useEffect(()=>{d()},[a,d]),_.useEffect(()=>{if(!a||r||l.current)return;const E=async()=>{try{const C=xt(Re,"wishlists",a.uid),j={userId:a.uid,items:e.map(L=>({...L,lastUpdated:Date.now()})),updatedAt:new Date().toISOString(),timestamp:Date.now()};await cl(C,j,{merge:!0}),(await ga(C)).exists()||console.error("Verification: Failed to verify wishlist save")}catch(C){console.error("Error saving wishlist to Firestore:",C)}},S=setTimeout(()=>{E()},500);return()=>clearTimeout(S)},[e,a,r]);const h=E=>{n(S=>{if(S.find(N=>N.id===E.id))return S;const j={...E,imageUrl:u(E)};return[...S,j]})},p=E=>{n(S=>S.filter(C=>C.id!==E))},g=E=>e.some(S=>S.id===E),x=async()=>{if(n([]),a)try{const E=xt(Re,"wishlists",a.uid);await cl(E,{userId:a.uid,items:[],updatedAt:new Date})}catch(E){console.error("Error clearing wishlist in Firestore:",E)}},b=()=>e.length,A=()=>{d()};return f.jsx(M3.Provider,{value:{items:e,loading:r,addToWishlist:h,removeFromWishlist:p,isInWishlist:g,clearWishlist:x,getTotalItems:b,refreshWishlist:A},children:t})},L3=async()=>{try{const t=jt(Re,"products");return(await Ht(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Error fetching products:",t),t}},jG=async t=>{try{const e=xt(Re,"products",t),n=await ga(e);if(n.exists())return{id:n.id,...n.data()};throw new Error("Product not found")}catch(e){throw console.error("Error fetching product:",e),e}},Eh=({rating:t,size:e="md"})=>{const n=Math.max(0,Math.min(5,t||0)),r=Math.floor(n),i=n-r,a={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=a[e]||a.md,u=[];for(let h=0;h<r;h++)u.push(f.jsx("svg",{className:`${l} text-yellow-400`,fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`full-${h}`));if(i>0){const h=i*100;u.push(f.jsxs("div",{className:"relative",children:[f.jsx("svg",{className:`${l} text-gray-300`,fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),f.jsx("div",{className:"absolute top-0 left-0 overflow-hidden",style:{width:`${h}%`},children:f.jsx("svg",{className:`${l} text-yellow-400`,fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]},"fractional"))}const d=u.length;for(let h=d;h<5;h++)u.push(f.jsx("svg",{className:`${l} text-gray-300`,fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`empty-${h}`));return f.jsxs("div",{className:"flex items-center",children:[u,f.jsx("span",{className:"ml-1 text-gray-600 text-sm",children:n.toFixed(1)})]})};/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function V3(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function PG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cP(t,e){return t.get(V3(t,e))}function OG(t,e,n){PG(t,e),e.set(t,n)}function IG(t,e,n){return t.set(V3(t,e),n),n}const RG=100,De={},kG=()=>{De.previousActiveElement instanceof HTMLElement?(De.previousActiveElement.focus(),De.previousActiveElement=null):document.body&&document.body.focus()},DG=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;De.restoreFocusTimeout=setTimeout(()=>{kG(),e()},RG),window.scrollTo(n,r)}),U3="swal2-",MG=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],se=MG.reduce((t,e)=>(t[e]=U3+e,t),{}),LG=["success","warning","info","question","error"],Xg=LG.reduce((t,e)=>(t[e]=U3+e,t),{}),B3="SweetAlert2:",V_=t=>t.charAt(0).toUpperCase()+t.slice(1),Or=t=>{console.warn(`${B3} ${typeof t=="object"?t.join(" "):t}`)},Bc=t=>{console.error(`${B3} ${t}`)},uP=[],VG=t=>{uP.includes(t)||(uP.push(t),Or(t))},z3=(t,e=null)=>{VG(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},wv=t=>typeof t=="function"?t():t,U_=t=>t&&typeof t.toPromise=="function",Qh=t=>U_(t)?t.toPromise():Promise.resolve(t),B_=t=>t&&Promise.resolve(t)===t,Ir=()=>document.body.querySelector(`.${se.container}`),Zh=t=>{const e=Ir();return e?e.querySelector(t):null},fi=t=>Zh(`.${t}`),ut=()=>fi(se.popup),wd=()=>fi(se.icon),UG=()=>fi(se["icon-content"]),$3=()=>fi(se.title),z_=()=>fi(se["html-container"]),F3=()=>fi(se.image),$_=()=>fi(se["progress-steps"]),_v=()=>fi(se["validation-message"]),Ga=()=>Zh(`.${se.actions} .${se.confirm}`),_d=()=>Zh(`.${se.actions} .${se.cancel}`),zc=()=>Zh(`.${se.actions} .${se.deny}`),BG=()=>fi(se["input-label"]),Ed=()=>Zh(`.${se.loader}`),Jh=()=>fi(se.actions),q3=()=>fi(se.footer),Ev=()=>fi(se["timer-progress-bar"]),F_=()=>fi(se.close),zG=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,q_=()=>{const t=ut();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,l)=>{const u=parseInt(a.getAttribute("tabindex")||"0"),d=parseInt(l.getAttribute("tabindex")||"0");return u>d?1:u<d?-1:0}),r=t.querySelectorAll(zG),i=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(i))].filter(a=>qr(a))},H_=()=>Ms(document.body,se.shown)&&!Ms(document.body,se["toast-shown"])&&!Ms(document.body,se["no-backdrop"]),Av=()=>{const t=ut();return t?Ms(t,se.toast):!1},$G=()=>{const t=ut();return t?t.hasAttribute("data-loading"):!1},hi=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),i=r.querySelector("head");i&&Array.from(i.childNodes).forEach(l=>{t.appendChild(l)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?t.appendChild(l.cloneNode(!0)):t.appendChild(l)})}},Ms=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},FG=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(se).includes(n)&&!Object.values(Xg).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},ui=(t,e,n)=>{if(FG(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Or(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}ht(t,r)}},Sv=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${se.popup} > .${se[e]}`);case"checkbox":return t.querySelector(`.${se.popup} > .${se.checkbox} input`);case"radio":return t.querySelector(`.${se.popup} > .${se.radio} input:checked`)||t.querySelector(`.${se.popup} > .${se.radio} input:first-child`);case"range":return t.querySelector(`.${se.popup} > .${se.range} input`);default:return t.querySelector(`.${se.popup} > .${se.input}`)}},H3=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},K3=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(i=>{n?i.classList.add(r):i.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},ht=(t,e)=>{K3(t,e,!0)},zi=(t,e)=>{K3(t,e,!1)},Wo=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const i=n[r];if(i instanceof HTMLElement&&Ms(i,e))return i}},hc=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Yn=(t,e="flex")=>{t&&(t.style.display=e)},br=t=>{t&&(t.style.display="none")},K_=(t,e="block")=>{t&&new MutationObserver(()=>{em(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},dP=(t,e,n,r)=>{const i=t.querySelector(e);i&&i.style.setProperty(n,r)},em=(t,e,n="flex")=>{e?Yn(t,n):br(t)},qr=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),qG=()=>!qr(Ga())&&!qr(zc())&&!qr(_d()),M1=t=>t.scrollHeight>t.clientHeight,HG=(t,e)=>{let n=t;for(;n&&n!==e;){if(M1(n))return!0;n=n.parentElement}return!1},G3=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},G_=(t,e=!1)=>{const n=Ev();n&&qr(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},KG=()=>{const t=Ev();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},GG=()=>typeof window>"u"||typeof document>"u",WG=`
 <div aria-labelledby="${se.title}" aria-describedby="${se["html-container"]}" class="${se.popup}" tabindex="-1">
   <button type="button" class="${se.close}"></button>
   <ul class="${se["progress-steps"]}"></ul>
   <div class="${se.icon}"></div>
   <img class="${se.image}" />
   <h2 class="${se.title}" id="${se.title}"></h2>
   <div class="${se["html-container"]}" id="${se["html-container"]}"></div>
   <input class="${se.input}" id="${se.input}" />
   <input type="file" class="${se.file}" />
   <div class="${se.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${se.select}" id="${se.select}"></select>
   <div class="${se.radio}"></div>
   <label class="${se.checkbox}">
     <input type="checkbox" id="${se.checkbox}" />
     <span class="${se.label}"></span>
   </label>
   <textarea class="${se.textarea}" id="${se.textarea}"></textarea>
   <div class="${se["validation-message"]}" id="${se["validation-message"]}"></div>
   <div class="${se.actions}">
     <div class="${se.loader}"></div>
     <button type="button" class="${se.confirm}"></button>
     <button type="button" class="${se.deny}"></button>
     <button type="button" class="${se.cancel}"></button>
   </div>
   <div class="${se.footer}"></div>
   <div class="${se["timer-progress-bar-container"]}">
     <div class="${se["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),YG=()=>{const t=Ir();return t?(t.remove(),zi([document.documentElement,document.body],[se["no-backdrop"],se["toast-shown"],se["has-column"]]),!0):!1},Jl=()=>{De.currentInstance.resetValidationMessage()},XG=()=>{const t=ut(),e=Wo(t,se.input),n=Wo(t,se.file),r=t.querySelector(`.${se.range} input`),i=t.querySelector(`.${se.range} output`),a=Wo(t,se.select),l=t.querySelector(`.${se.checkbox} input`),u=Wo(t,se.textarea);e.oninput=Jl,n.onchange=Jl,a.onchange=Jl,l.onchange=Jl,u.oninput=Jl,r.oninput=()=>{Jl(),i.value=r.value},r.onchange=()=>{Jl(),i.value=r.value}},QG=t=>typeof t=="string"?document.querySelector(t):t,ZG=t=>{const e=ut();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},JG=t=>{window.getComputedStyle(t).direction==="rtl"&&ht(Ir(),se.rtl)},eW=t=>{const e=YG();if(GG()){Bc("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=se.container,e&&ht(n,se["no-transition"]),hi(n,WG),n.dataset.swal2Theme=t.theme;const r=QG(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),ZG(t),JG(r),XG()},W_=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?tW(t,e):t&&hi(e,t)},tW=(t,e)=>{t.jquery?nW(e,t):hi(e,t.toString())},nW=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},rW=(t,e)=>{const n=Jh(),r=Ed();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?br(n):Yn(n),ui(n,e,"actions"),iW(n,r,e),hi(r,e.loaderHtml||""),ui(r,e,"loader"))};function iW(t,e,n){const r=Ga(),i=zc(),a=_d();!r||!i||!a||(Nb(r,"confirm",n),Nb(i,"deny",n),Nb(a,"cancel",n),aW(r,i,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(i,r)):(t.insertBefore(a,e),t.insertBefore(i,e),t.insertBefore(r,e))))}function aW(t,e,n,r){if(!r.buttonsStyling){zi([t,e,n],se.styled);return}ht([t,e,n],se.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Cb(t),Cb(e),Cb(n)}function Cb(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Nb(t,e,n){const r=V_(e);em(t,n[`show${r}Button`],"inline-block"),hi(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=se[e],ui(t,n,`${e}Button`)}const sW=(t,e)=>{const n=F_();n&&(hi(n,e.closeButtonHtml||""),ui(n,e,"closeButton"),em(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},oW=(t,e)=>{const n=Ir();n&&(lW(n,e.backdrop),cW(n,e.position),uW(n,e.grow),ui(n,e,"container"))};function lW(t,e){typeof e=="string"?t.style.background=e:e||ht([document.documentElement,document.body],se["no-backdrop"])}function cW(t,e){e&&(e in se?ht(t,se[e]):(Or('The "position" parameter is not valid, defaulting to "center"'),ht(t,se.center)))}function uW(t,e){e&&ht(t,se[`grow-${e}`])}var Dt={innerParams:new WeakMap,domCache:new WeakMap};const dW=["input","file","range","select","radio","checkbox","textarea"],fW=(t,e)=>{const n=ut();if(!n)return;const r=Dt.innerParams.get(t),i=!r||e.input!==r.input;dW.forEach(a=>{const l=Wo(n,se[a]);l&&(pW(a,e.inputAttributes),l.className=se[a],i&&br(l))}),e.input&&(i&&hW(e),gW(e))},hW=t=>{if(!t.input)return;if(!mn[t.input]){Bc(`Unexpected type of input! Expected ${Object.keys(mn).join(" | ")}, got "${t.input}"`);return}const e=W3(t.input);if(!e)return;const n=mn[t.input](e,t);Yn(e),t.inputAutoFocus&&setTimeout(()=>{H3(n)})},mW=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},pW=(t,e)=>{const n=ut();if(!n)return;const r=Sv(n,t);if(r){mW(r);for(const i in e)r.setAttribute(i,e[i])}},gW=t=>{if(!t.input)return;const e=W3(t.input);e&&ui(e,t,"input")},Y_=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},tm=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),i=se["input-label"];r.setAttribute("for",t.id),r.className=i,typeof n.customClass=="object"&&ht(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},W3=t=>{const e=ut();if(e)return Wo(e,se[t]||se.input)},Qg=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:B_(e)||Or(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},mn={};mn.text=mn.email=mn.password=mn.number=mn.tel=mn.url=mn.search=mn.date=mn["datetime-local"]=mn.time=mn.week=mn.month=(t,e)=>(Qg(t,e.inputValue),tm(t,t,e),Y_(t,e),t.type=e.input,t);mn.file=(t,e)=>(tm(t,t,e),Y_(t,e),t);mn.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Qg(n,e.inputValue),n.type=e.input,Qg(r,e.inputValue),tm(n,t,e),t};mn.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");hi(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return tm(t,t,e),t};mn.radio=t=>(t.textContent="",t);mn.checkbox=(t,e)=>{const n=Sv(ut(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return hi(r,e.inputPlaceholder||e.inputLabel),n};mn.textarea=(t,e)=>{Qg(t,e.inputValue),Y_(t,e),tm(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(ut()).width),i=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?ut().style.width=`${a}px`:hc(ut(),"width",e.width)};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const yW=(t,e)=>{const n=z_();n&&(K_(n),ui(n,e,"htmlContainer"),e.html?(W_(e.html,n),Yn(n,"block")):e.text?(n.textContent=e.text,Yn(n,"block")):br(n),fW(t,e))},vW=(t,e)=>{const n=q3();n&&(K_(n),em(n,e.footer,"block"),e.footer&&W_(e.footer,n),ui(n,e,"footer"))},xW=(t,e)=>{const n=Dt.innerParams.get(t),r=wd();if(!r)return;if(n&&e.icon===n.icon){hP(r,e),fP(r,e);return}if(!e.icon&&!e.iconHtml){br(r);return}if(e.icon&&Object.keys(Xg).indexOf(e.icon)===-1){Bc(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),br(r);return}Yn(r),hP(r,e),fP(r,e),ht(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Y3)},fP=(t,e)=>{for(const[n,r]of Object.entries(Xg))e.icon!==n&&zi(t,r);ht(t,e.icon&&Xg[e.icon]),_W(t,e),Y3(),ui(t,e,"icon")},Y3=()=>{const t=ut();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},bW=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,wW=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,hP=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=mP(e.iconHtml):e.icon==="success"?(r=bW(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=wW:e.icon&&(r=mP({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&hi(t,r)},_W=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])dP(t,n,"background-color",e.iconColor);dP(t,".swal2-success-ring","border-color",e.iconColor)}},mP=t=>`<div class="${se["icon-content"]}">${t}</div>`,EW=(t,e)=>{const n=F3();if(n){if(!e.imageUrl){br(n);return}Yn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),hc(n,"width",e.imageWidth),hc(n,"height",e.imageHeight),n.className=se.image,ui(n,e,"image")}};let X_=!1,X3=0,Q3=0,Z3=0,J3=0;const AW=t=>{t.addEventListener("mousedown",Zg),document.body.addEventListener("mousemove",Jg),t.addEventListener("mouseup",ey),t.addEventListener("touchstart",Zg),document.body.addEventListener("touchmove",Jg),t.addEventListener("touchend",ey)},SW=t=>{t.removeEventListener("mousedown",Zg),document.body.removeEventListener("mousemove",Jg),t.removeEventListener("mouseup",ey),t.removeEventListener("touchstart",Zg),document.body.removeEventListener("touchmove",Jg),t.removeEventListener("touchend",ey)},Zg=t=>{const e=ut();if(t.target===e||wd().contains(t.target)){X_=!0;const n=e6(t);X3=n.clientX,Q3=n.clientY,Z3=parseInt(e.style.insetInlineStart)||0,J3=parseInt(e.style.insetBlockStart)||0,ht(e,"swal2-dragging")}},Jg=t=>{const e=ut();if(X_){let{clientX:n,clientY:r}=e6(t);e.style.insetInlineStart=`${Z3+(n-X3)}px`,e.style.insetBlockStart=`${J3+(r-Q3)}px`}},ey=()=>{const t=ut();X_=!1,zi(t,"swal2-dragging")},e6=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},TW=(t,e)=>{const n=Ir(),r=ut();if(!(!n||!r)){if(e.toast){hc(n,"width",e.width),r.style.width="100%";const i=Ed();i&&r.insertBefore(i,wd())}else hc(r,"width",e.width);hc(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),br(_v()),CW(r,e),e.draggable&&!e.toast?(ht(r,se.draggable),AW(r)):(zi(r,se.draggable),SW(r))}},CW=(t,e)=>{const n=e.showClass||{};t.className=`${se.popup} ${qr(t)?n.popup:""}`,e.toast?(ht([document.documentElement,document.body],se["toast-shown"]),ht(t,se.toast)):ht(t,se.modal),ui(t,e,"popup"),typeof e.customClass=="string"&&ht(t,e.customClass),e.icon&&ht(t,se[`icon-${e.icon}`])},NW=(t,e)=>{const n=$_();if(!n)return;const{progressSteps:r,currentProgressStep:i}=e;if(!r||r.length===0||i===void 0){br(n);return}Yn(n),n.textContent="",i>=r.length&&Or("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,l)=>{const u=jW(a);if(n.appendChild(u),l===i&&ht(u,se["active-progress-step"]),l!==r.length-1){const d=PW(e);n.appendChild(d)}})},jW=t=>{const e=document.createElement("li");return ht(e,se["progress-step"]),hi(e,t),e},PW=t=>{const e=document.createElement("li");return ht(e,se["progress-step-line"]),t.progressStepsDistance&&hc(e,"width",t.progressStepsDistance),e},OW=(t,e)=>{const n=$3();n&&(K_(n),em(n,e.title||e.titleText,"block"),e.title&&W_(e.title,n),e.titleText&&(n.innerText=e.titleText),ui(n,e,"title"))},t6=(t,e)=>{TW(t,e),oW(t,e),NW(t,e),xW(t,e),EW(t,e),OW(t,e),sW(t,e),yW(t,e),rW(t,e),vW(t,e);const n=ut();typeof e.didRender=="function"&&n&&e.didRender(n),De.eventEmitter.emit("didRender",n)},IW=()=>qr(ut()),n6=()=>{var t;return(t=Ga())===null||t===void 0?void 0:t.click()},RW=()=>{var t;return(t=zc())===null||t===void 0?void 0:t.click()},kW=()=>{var t;return(t=_d())===null||t===void 0?void 0:t.click()},Ad=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),r6=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},DW=(t,e,n)=>{r6(t),e.toast||(t.keydownHandler=r=>LW(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:ut(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},L1=(t,e)=>{var n;const r=q_();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=ut())===null||n===void 0||n.focus()},i6=["ArrowRight","ArrowDown"],MW=["ArrowLeft","ArrowUp"],LW=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?VW(e,t):e.key==="Tab"?UW(e):[...i6,...MW].includes(e.key)?BW(e.key):e.key==="Escape"&&zW(e,t,n)))},VW=(t,e)=>{if(!wv(e.allowEnterKey))return;const n=Sv(ut(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;n6(),t.preventDefault()}},UW=t=>{const e=t.target,n=q_();let r=-1;for(let i=0;i<n.length;i++)if(e===n[i]){r=i;break}t.shiftKey?L1(r,-1):L1(r,1),t.stopPropagation(),t.preventDefault()},BW=t=>{const e=Jh(),n=Ga(),r=zc(),i=_d();if(!e||!n||!r||!i)return;const a=[n,r,i];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const l=i6.includes(t)?"nextElementSibling":"previousElementSibling";let u=document.activeElement;if(u){for(let d=0;d<e.children.length;d++){if(u=u[l],!u)return;if(u instanceof HTMLButtonElement&&qr(u))break}u instanceof HTMLButtonElement&&u.focus()}},zW=(t,e,n)=>{t.preventDefault(),wv(e.allowEscapeKey)&&n(Ad.esc)};var nd={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const $W=()=>{const t=Ir();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},a6=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},s6=typeof window<"u"&&!!window.GestureEvent,FW=()=>{if(s6&&!Ms(document.body,se.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,ht(document.body,se.iosfix),qW()}},qW=()=>{const t=Ir();if(!t)return;let e;t.ontouchstart=n=>{e=HW(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},HW=t=>{const e=t.target,n=Ir(),r=z_();return!n||!r||KW(t)||GW(t)?!1:e===n||!M1(n)&&e instanceof HTMLElement&&!HG(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(M1(r)&&r.contains(e))},KW=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",GW=t=>t.touches&&t.touches.length>1,WW=()=>{if(Ms(document.body,se.iosfix)){const t=parseInt(document.body.style.top,10);zi(document.body,se.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},YW=()=>{const t=document.createElement("div");t.className=se["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let $u=null;const XW=t=>{$u===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&($u=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${$u+YW()}px`)},QW=()=>{$u!==null&&(document.body.style.paddingRight=`${$u}px`,$u=null)};function o6(t,e,n,r){Av()?pP(t,r):(DG(n).then(()=>pP(t,r)),r6(De)),s6?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),H_()&&(QW(),WW(),a6()),ZW()}function ZW(){zi([document.documentElement,document.body],[se.shown,se["height-auto"],se["no-backdrop"],se["toast-shown"]])}function Yo(t){t=eY(t);const e=nd.swalPromiseResolve.get(this),n=JW(this);this.isAwaitingPromise?t.isDismissed||(nm(this),e(t)):n&&e(t)}const JW=t=>{const e=ut();if(!e)return!1;const n=Dt.innerParams.get(t);if(!n||Ms(e,n.hideClass.popup))return!1;zi(e,n.showClass.popup),ht(e,n.hideClass.popup);const r=Ir();return zi(r,n.showClass.backdrop),ht(r,n.hideClass.backdrop),tY(t,e,n),!0};function l6(t){const e=nd.swalPromiseReject.get(this);nm(this),e&&e(t)}const nm=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Dt.innerParams.get(t)||t._destroy())},eY=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),tY=(t,e,n)=>{var r;const i=Ir(),a=G3(e);typeof n.willClose=="function"&&n.willClose(e),(r=De.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?nY(t,e,i,n.returnFocus,n.didClose):o6(t,i,n.returnFocus,n.didClose)},nY=(t,e,n,r,i)=>{De.swalCloseEventFinishedCallback=o6.bind(null,t,n,r,i);const a=function(l){if(l.target===e){var u;(u=De.swalCloseEventFinishedCallback)===null||u===void 0||u.call(De),delete De.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},pP=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=De.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},rd=t=>{let e=ut();if(e||new Ie,e=ut(),!e)return;const n=Ed();Av()?br(wd()):rY(e,t),Yn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},rY=(t,e)=>{const n=Jh(),r=Ed();!n||!r||(!e&&qr(Ga())&&(e=Ga()),Yn(n),e&&(br(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),ht([t,n],se.loading))},iY=(t,e)=>{e.input==="select"||e.input==="radio"?cY(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(U_(e.inputValue)||B_(e.inputValue))&&(rd(Ga()),uY(t,e))},aY=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return sY(n);case"radio":return oY(n);case"file":return lY(n);default:return e.inputAutoTrim?n.value.trim():n.value}},sY=t=>t.checked?1:0,oY=t=>t.checked?t.value:null,lY=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,cY=(t,e)=>{const n=ut();if(!n)return;const r=i=>{e.input==="select"?dY(n,ty(i),e):e.input==="radio"&&fY(n,ty(i),e)};U_(e.inputOptions)||B_(e.inputOptions)?(rd(Ga()),Qh(e.inputOptions).then(i=>{t.hideLoading(),r(i)})):typeof e.inputOptions=="object"?r(e.inputOptions):Bc(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},uY=(t,e)=>{const n=t.getInput();n&&(br(n),Qh(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,Yn(n),n.focus(),t.hideLoading()}).catch(r=>{Bc(`Error in inputValue promise: ${r}`),n.value="",Yn(n),n.focus(),t.hideLoading()}))};function dY(t,e,n){const r=Wo(t,se.select);if(!r)return;const i=(a,l,u)=>{const d=document.createElement("option");d.value=u,hi(d,l),d.selected=c6(u,n.inputValue),a.appendChild(d)};e.forEach(a=>{const l=a[0],u=a[1];if(Array.isArray(u)){const d=document.createElement("optgroup");d.label=l,d.disabled=!1,r.appendChild(d),u.forEach(h=>i(d,h[1],h[0]))}else i(r,u,l)}),r.focus()}function fY(t,e,n){const r=Wo(t,se.radio);if(!r)return;e.forEach(a=>{const l=a[0],u=a[1],d=document.createElement("input"),h=document.createElement("label");d.type="radio",d.name=se.radio,d.value=l,c6(l,n.inputValue)&&(d.checked=!0);const p=document.createElement("span");hi(p,u),p.className=se.label,h.appendChild(d),h.appendChild(p),r.appendChild(h)});const i=r.querySelectorAll("input");i.length&&i[0].focus()}const ty=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let i=n;typeof i=="object"&&(i=ty(i)),e.push([r,i])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=ty(r)),e.push([n,r])}),e},c6=(t,e)=>!!e&&e.toString()===t.toString(),hY=t=>{const e=Dt.innerParams.get(t);t.disableButtons(),e.input?u6(t,"confirm"):Z_(t,!0)},mY=t=>{const e=Dt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?u6(t,"deny"):Q_(t,!1)},pY=(t,e)=>{t.disableButtons(),e(Ad.cancel)},u6=(t,e)=>{const n=Dt.innerParams.get(t);if(!n.input){Bc(`The "input" parameter is needed to be set when using returnInputValueOn${V_(e)}`);return}const r=t.getInput(),i=aY(t,n);n.inputValidator?gY(t,i,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?Q_(t,i):Z_(t,i)},gY=(t,e,n)=>{const r=Dt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Qh(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?Q_(t,e):Z_(t,e)})},Q_=(t,e)=>{const n=Dt.innerParams.get(t||void 0);n.showLoaderOnDeny&&rd(zc()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Qh(n.preDeny(e,n.validationMessage))).then(i=>{i===!1?(t.hideLoading(),nm(t)):t.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>d6(t||void 0,i))):t.close({isDenied:!0,value:e})},gP=(t,e)=>{t.close({isConfirmed:!0,value:e})},d6=(t,e)=>{t.rejectPromise(e)},Z_=(t,e)=>{const n=Dt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&rd(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Qh(n.preConfirm(e,n.validationMessage))).then(i=>{qr(_v())||i===!1?(t.hideLoading(),nm(t)):gP(t,typeof i>"u"?e:i)}).catch(i=>d6(t||void 0,i))):gP(t,e)};function ny(){const t=Dt.innerParams.get(this);if(!t)return;const e=Dt.domCache.get(this);br(e.loader),Av()?t.icon&&Yn(wd()):yY(e),zi([e.popup,e.actions],se.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const yY=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Yn(e[0],"inline-block"):qG()&&br(t.actions)};function f6(){const t=Dt.innerParams.get(this),e=Dt.domCache.get(this);return e?Sv(e.popup,t.input):null}function h6(t,e,n){const r=Dt.domCache.get(t);e.forEach(i=>{r[i].disabled=n})}function m6(t,e){const n=ut();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${se.radio}"]`);for(let i=0;i<r.length;i++)r[i].disabled=e}else t.disabled=e}function p6(){h6(this,["confirmButton","denyButton","cancelButton"],!1)}function g6(){h6(this,["confirmButton","denyButton","cancelButton"],!0)}function y6(){m6(this.getInput(),!1)}function v6(){m6(this.getInput(),!0)}function x6(t){const e=Dt.domCache.get(this),n=Dt.innerParams.get(this);hi(e.validationMessage,t),e.validationMessage.className=se["validation-message"],n.customClass&&n.customClass.validationMessage&&ht(e.validationMessage,n.customClass.validationMessage),Yn(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",se["validation-message"]),H3(r),ht(r,se.inputerror))}function b6(){const t=Dt.domCache.get(this);t.validationMessage&&br(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),zi(e,se.inputerror))}const Fu={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},vY=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],xY={allowEnterKey:void 0},bY=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],w6=t=>Object.prototype.hasOwnProperty.call(Fu,t),_6=t=>vY.indexOf(t)!==-1,E6=t=>xY[t],wY=t=>{w6(t)||Or(`Unknown parameter "${t}"`)},_Y=t=>{bY.includes(t)&&Or(`The parameter "${t}" is incompatible with toasts`)},EY=t=>{const e=E6(t);e&&z3(t,e)},A6=t=>{t.backdrop===!1&&t.allowOutsideClick&&Or('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Or(`Invalid theme "${t.theme}"`);for(const e in t)wY(e),t.toast&&_Y(e),EY(e)};function S6(t){const e=Ir(),n=ut(),r=Dt.innerParams.get(this);if(!n||Ms(n,r.hideClass.popup)){Or("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=AY(t),a=Object.assign({},r,i);A6(a),e.dataset.swal2Theme=a.theme,t6(this,a),Dt.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const AY=t=>{const e={};return Object.keys(t).forEach(n=>{_6(n)?e[n]=t[n]:Or(`Invalid parameter to update: ${n}`)}),e};function T6(){const t=Dt.domCache.get(this),e=Dt.innerParams.get(this);if(!e){C6(this);return}t.popup&&De.swalCloseEventFinishedCallback&&(De.swalCloseEventFinishedCallback(),delete De.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),De.eventEmitter.emit("didDestroy"),SY(this)}const SY=t=>{C6(t),delete t.params,delete De.keydownHandler,delete De.keydownTarget,delete De.currentInstance},C6=t=>{t.isAwaitingPromise?(jb(Dt,t),t.isAwaitingPromise=!0):(jb(nd,t),jb(Dt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},jb=(t,e)=>{for(const n in t)t[n].delete(e)};var TY=Object.freeze({__proto__:null,_destroy:T6,close:Yo,closeModal:Yo,closePopup:Yo,closeToast:Yo,disableButtons:g6,disableInput:v6,disableLoading:ny,enableButtons:p6,enableInput:y6,getInput:f6,handleAwaitingPromise:nm,hideLoading:ny,rejectPromise:l6,resetValidationMessage:b6,showValidationMessage:x6,update:S6});const CY=(t,e,n)=>{t.toast?NY(t,e,n):(PY(e),OY(e),IY(t,e,n))},NY=(t,e,n)=>{e.popup.onclick=()=>{t&&(jY(t)||t.timer||t.input)||n(Ad.close)}},jY=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let ry=!1;const PY=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(ry=!0)}}},OY=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(ry=!0)}}},IY=(t,e,n)=>{e.container.onclick=r=>{if(ry){ry=!1;return}r.target===e.container&&wv(t.allowOutsideClick)&&n(Ad.backdrop)}},RY=t=>typeof t=="object"&&t.jquery,yP=t=>t instanceof Element||RY(t),kY=t=>{const e={};return typeof t[0]=="object"&&!yP(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const i=t[r];typeof i=="string"||yP(i)?e[n]=i:i!==void 0&&Bc(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)}),e};function DY(...t){return new this(...t)}function MY(t){class e extends this{_main(r,i){return super._main(r,Object.assign({},t,i))}}return e}const LY=()=>De.timeout&&De.timeout.getTimerLeft(),N6=()=>{if(De.timeout)return KG(),De.timeout.stop()},j6=()=>{if(De.timeout){const t=De.timeout.start();return G_(t),t}},VY=()=>{const t=De.timeout;return t&&(t.running?N6():j6())},UY=t=>{if(De.timeout){const e=De.timeout.increase(t);return G_(e,!0),e}},BY=()=>!!(De.timeout&&De.timeout.isRunning());let vP=!1;const V1={};function zY(t="data-swal-template"){V1[t]=this,vP||(document.body.addEventListener("click",$Y),vP=!0)}const $Y=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in V1){const r=e.getAttribute(n);if(r){V1[n].fire({template:r});return}}};let FY=class{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...i)=>{this.removeListener(e,r),n.apply(this,i)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(i){console.error(i)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),i=r.indexOf(n);i>-1&&r.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}};De.eventEmitter=new FY;const qY=(t,e)=>{De.eventEmitter.on(t,e)},HY=(t,e)=>{De.eventEmitter.once(t,e)},KY=(t,e)=>{if(!t){De.eventEmitter.reset();return}e?De.eventEmitter.removeListener(t,e):De.eventEmitter.removeAllListeners(t)};var GY=Object.freeze({__proto__:null,argsToParams:kY,bindClickHandler:zY,clickCancel:kW,clickConfirm:n6,clickDeny:RW,enableLoading:rd,fire:DY,getActions:Jh,getCancelButton:_d,getCloseButton:F_,getConfirmButton:Ga,getContainer:Ir,getDenyButton:zc,getFocusableElements:q_,getFooter:q3,getHtmlContainer:z_,getIcon:wd,getIconContent:UG,getImage:F3,getInputLabel:BG,getLoader:Ed,getPopup:ut,getProgressSteps:$_,getTimerLeft:LY,getTimerProgressBar:Ev,getTitle:$3,getValidationMessage:_v,increaseTimer:UY,isDeprecatedParameter:E6,isLoading:$G,isTimerRunning:BY,isUpdatableParameter:_6,isValidParameter:w6,isVisible:IW,mixin:MY,off:KY,on:qY,once:HY,resumeTimer:j6,showLoading:rd,stopTimer:N6,toggleTimer:VY});class WY{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const P6=["swal-title","swal-html","swal-footer"],YY=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return rX(n),Object.assign(XY(n),QY(n),ZY(n),JY(n),eX(n),tX(n),nX(n,P6))},XY=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Ec(r,["name","value"]);const i=r.getAttribute("name"),a=r.getAttribute("value");!i||!a||(typeof Fu[i]=="boolean"?e[i]=a!=="false":typeof Fu[i]=="object"?e[i]=JSON.parse(a):e[i]=a)}),e},QY=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const i=r.getAttribute("name"),a=r.getAttribute("value");!i||!a||(e[i]=new Function(`return ${a}`)())}),e},ZY=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Ec(r,["type","color","aria-label"]);const i=r.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=r.innerHTML,e[`show${V_(i)}Button`]=!0,r.hasAttribute("color")&&(e[`${i}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},JY=t=>{const e={},n=t.querySelector("swal-image");return n&&(Ec(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},eX=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Ec(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},tX=t=>{const e={},n=t.querySelector("swal-input");n&&(Ec(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(i=>{Ec(i,["value"]);const a=i.getAttribute("value");if(!a)return;const l=i.innerHTML;e.inputOptions[a]=l})),e},nX=(t,e)=>{const n={};for(const r in e){const i=e[r],a=t.querySelector(i);a&&(Ec(a,[]),n[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},rX=t=>{const e=P6.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||Or(`Unrecognized element <${r}>`)})},Ec=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Or([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},O6=10,iX=t=>{const e=Ir(),n=ut();typeof t.willOpen=="function"&&t.willOpen(n),De.eventEmitter.emit("willOpen",n);const i=window.getComputedStyle(document.body).overflowY;oX(e,n,t),setTimeout(()=>{aX(e,n)},O6),H_()&&(sX(e,t.scrollbarPadding,i),$W()),!Av()&&!De.previousActiveElement&&(De.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),De.eventEmitter.emit("didOpen",n),zi(e,se["no-transition"])},iy=t=>{const e=ut();if(t.target!==e)return;const n=Ir();e.removeEventListener("animationend",iy),e.removeEventListener("transitionend",iy),n.style.overflowY="auto"},aX=(t,e)=>{G3(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",iy),e.addEventListener("transitionend",iy)):t.style.overflowY="auto"},sX=(t,e,n)=>{FW(),e&&n!=="hidden"&&XW(n),setTimeout(()=>{t.scrollTop=0})},oX=(t,e,n)=>{ht(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Yn(e,"grid"),setTimeout(()=>{ht(e,n.showClass.popup),e.style.removeProperty("opacity")},O6)):Yn(e,"grid"),ht([document.documentElement,document.body],se.shown),n.heightAuto&&n.backdrop&&!n.toast&&ht([document.documentElement,document.body],se["height-auto"])};var xP={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function lX(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=xP.email),t.input==="url"&&(t.inputValidator=xP.url))}function cX(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Or('Target parameter is not valid, defaulting to "body"'),t.target="body")}function uX(t){lX(t),t.showLoaderOnConfirm&&!t.preConfirm&&Or(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),cX(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),eW(t)}let Da;var Wp=new WeakMap;class yn{constructor(...e){if(OG(this,Wp,void 0),typeof window>"u")return;Da=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,IG(Wp,this,this._main(Da.params))}_main(e,n={}){if(A6(Object.assign({},n,e)),De.currentInstance){const a=nd.swalPromiseResolve.get(De.currentInstance),{isAwaitingPromise:l}=De.currentInstance;De.currentInstance._destroy(),l||a({isDismissed:!0}),H_()&&a6()}De.currentInstance=Da;const r=fX(e,n);uX(r),Object.freeze(r),De.timeout&&(De.timeout.stop(),delete De.timeout),clearTimeout(De.restoreFocusTimeout);const i=hX(Da);return t6(Da,r),Dt.innerParams.set(Da,r),dX(Da,i,r)}then(e){return cP(Wp,this).then(e)}finally(e){return cP(Wp,this).finally(e)}}const dX=(t,e,n)=>new Promise((r,i)=>{const a=l=>{t.close({isDismissed:!0,dismiss:l})};nd.swalPromiseResolve.set(t,r),nd.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{hY(t)},e.denyButton.onclick=()=>{mY(t)},e.cancelButton.onclick=()=>{pY(t,a)},e.closeButton.onclick=()=>{a(Ad.close)},CY(n,e,a),DW(De,n,a),iY(t,n),iX(n),mX(De,n,a),pX(e,n),setTimeout(()=>{e.container.scrollTop=0})}),fX=(t,e)=>{const n=YY(t),r=Object.assign({},Fu,e,n,t);return r.showClass=Object.assign({},Fu.showClass,r.showClass),r.hideClass=Object.assign({},Fu.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},hX=t=>{const e={popup:ut(),container:Ir(),actions:Jh(),confirmButton:Ga(),denyButton:zc(),cancelButton:_d(),loader:Ed(),closeButton:F_(),validationMessage:_v(),progressSteps:$_()};return Dt.domCache.set(t,e),e},mX=(t,e,n)=>{const r=Ev();br(r),e.timer&&(t.timeout=new WY(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Yn(r),ui(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&G_(e.timer)})))},pX=(t,e)=>{if(!e.toast){if(!wv(e.allowEnterKey)){z3("allowEnterKey"),vX();return}gX(t)||yX(t,e)||L1(-1,1)}},gX=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&qr(n))return n.focus(),!0;return!1},yX=(t,e)=>e.focusDeny&&qr(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&qr(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&qr(t.confirmButton)?(t.confirmButton.focus(),!0):!1,vX=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};yn.prototype.disableButtons=g6;yn.prototype.enableButtons=p6;yn.prototype.getInput=f6;yn.prototype.disableInput=v6;yn.prototype.enableInput=y6;yn.prototype.hideLoading=ny;yn.prototype.disableLoading=ny;yn.prototype.showValidationMessage=x6;yn.prototype.resetValidationMessage=b6;yn.prototype.close=Yo;yn.prototype.closePopup=Yo;yn.prototype.closeModal=Yo;yn.prototype.closeToast=Yo;yn.prototype.rejectPromise=l6;yn.prototype.update=S6;yn.prototype._destroy=T6;Object.assign(yn,GY);Object.keys(TY).forEach(t=>{yn[t]=function(...e){return Da&&Da[t]?Da[t](...e):null}});yn.DismissReason=Ad;yn.version="11.23.0";const Ie=yn;Ie.default=Ie;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const bP=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,a]=_.useState(null),{addToCart:l}=Uc(),{addToWishlist:u}=Xh(),{currentUser:d}=Hi();_.useEffect(()=>{(async()=>{try{r(!0);const S=[...await L3()].sort((C,j)=>(j.rating||0)-(C.rating||0)).slice(0,8);e(S)}catch(E){a("Failed to load products"),console.error("Error fetching products:",E)}finally{r(!1)}})()},[]);const h=A=>{if(A.imageUrls&&A.imageUrls.length>0){const E=A.imageUrls.filter(S=>S&&(typeof S=="string"||S.data&&typeof S.data=="string"));if(E.length>0){const S=A.primaryImageIndex||0,C=Math.min(S,E.length-1),j=E[C];if(typeof j=="string")return j;if(j&&j.data)return j.data}}return A.imageUrl||"https://via.placeholder.com/300x300.png?text=Moño"},p=A=>{if(!d){Ie.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos al carrito",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(C=>{C.isConfirmed&&(window.location.href="/login")});return}if((A.stock!==void 0?A.stock:1/0)===0){Ie.fire({title:"Producto agotado",text:"Este producto no está disponible actualmente.",icon:"error",confirmButtonText:"Aceptar"});return}const S=h(A);l({...A,imageUrl:S,quantity:1}),Ie.fire({title:"Producto agregado",text:"Producto agregado correctamente al carrito",icon:"success",confirmButtonText:"Aceptar"})},g=A=>{if(!d){Ie.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos a tu lista de deseos",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(S=>{S.isConfirmed&&(window.location.href="/login")});return}const E=h(A);u({...A,imageUrl:E}),Ie.fire({title:"Producto agregado",text:"Producto agregado correctamente a tu lista de deseos",icon:"success",confirmButtonText:"Aceptar"})},x=[{id:1,title:"Envío Gratis",description:"En pedidos superiores a $100.000 COP",icon:f.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{id:2,title:"Devolución Gratuita",description:"30 días para devoluciones sin complicaciones",icon:f.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},{id:3,title:"Soporte 24/7",description:"Asistencia dedicada en cualquier momento",icon:f.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})},{id:4,title:"Pago Seguro",description:"Protegemos tus datos de pago",icon:f.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}],b=[{id:1,name:"Moños Clásicos",image:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea"},{id:2,name:"Moños Modernos",image:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4"},{id:3,name:"Moños Infantiles",image:"https://images.unsplash.com/photo-1595173425119-1c5134b706b3"},{id:4,name:"Moños para Damas",image:"https://images.unsplash.com/photo-1611849785508-1f152a6489d4"}];return f.jsxs("div",{className:"bg-gray-50",children:[f.jsxs("div",{className:"relative bg-white overflow-hidden",children:[f.jsx("div",{className:"max-w-7xl mx-auto",children:f.jsx("div",{className:"relative z-10 pb-8 bg-gray-50 sm:pb-16 md:pb-20 lg:max-w-2xl lg:w-full lg:pb-28 xl:pb-32",children:f.jsx("main",{className:"mt-10 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28",children:f.jsxs("div",{className:"sm:text-center lg:text-left",children:[f.jsxs("h1",{className:"text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl",children:[f.jsx("span",{className:"block xl:inline",children:"Descubre la elegancia"})," ",f.jsx("span",{className:"block text-indigo-600 xl:inline",children:"en cada moño"})]}),f.jsx("p",{className:"mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0",children:"Colección exclusiva de moños para todas las ocasiones. Calidad premium, diseño único y entrega rápida."}),f.jsxs("div",{className:"mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start",children:[f.jsx("div",{className:"rounded-md shadow",children:f.jsx(Ge,{to:"/shop",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10",children:"Comprar Ahora"})}),f.jsx("div",{className:"mt-3 sm:mt-0 sm:ml-3",children:f.jsx(Ge,{to:"/shop",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 md:py-4 md:text-lg md:px-10",children:"Ver Catálogo"})})]})]})})})}),f.jsx("div",{className:"lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2",children:f.jsx("div",{className:"h-56 w-full sm:h-72 md:h-96 lg:w-full lg:h-full",children:f.jsx("img",{className:"w-full h-full object-cover",src:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea",alt:"Elegante colección de moños",onError:A=>{A.target.onerror=null,A.target.src="https://via.placeholder.com/1200x600.png?text=Elegante+Colecci%C3%B3n+de+Mo%C3%B1os"}})})})]}),f.jsx("div",{className:"py-12 bg-white",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"lg:text-center",children:[f.jsx("h2",{className:"text-base text-indigo-600 font-semibold tracking-wide uppercase",children:"Características"}),f.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Por qué elegirnos"}),f.jsx("p",{className:"mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto",children:"Comprometidos con la calidad y la satisfacción del cliente"})]}),f.jsx("div",{className:"mt-10",children:f.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:x.map(A=>f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"flex items-center justify-center mx-auto",children:A.icon}),f.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:A.title}),f.jsx("p",{className:"mt-2 text-base text-gray-500",children:A.description})]},A.id))})})]})}),f.jsx("div",{className:"bg-gray-50 py-12",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"lg:text-center",children:[f.jsx("h2",{className:"text-base text-indigo-600 font-semibold tracking-wide uppercase",children:"Categorías"}),f.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Nuestra colección"})]}),f.jsx("div",{className:"mt-10 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:b.map(A=>f.jsxs("div",{className:"group relative",children:[f.jsx("div",{className:"relative w-full h-80 bg-white rounded-lg overflow-hidden group-hover:opacity-75 sm:aspect-w-2 sm:aspect-h-1 sm:h-64 lg:aspect-w-1 lg:aspect-h-1",children:f.jsx("img",{src:A.image,alt:A.name,className:"w-full h-full object-center object-cover",onError:E=>{E.target.onerror=null,E.target.src="https://via.placeholder.com/500x500.png?text="+encodeURIComponent(A.name)}})}),f.jsx("h3",{className:"mt-6 text-sm text-gray-500",children:f.jsxs(Ge,{to:"/shop",children:[f.jsx("span",{className:"absolute inset-0"}),A.name]})})]},A.id))})]})}),f.jsx("div",{className:"bg-white py-12",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"lg:text-center",children:[f.jsx("h2",{className:"text-base text-indigo-600 font-semibold tracking-wide uppercase",children:"Productos Destacados"}),f.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Lo más vendido"})]}),n?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):i?f.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[f.jsx("strong",{className:"font-bold",children:"Error! "}),f.jsx("span",{className:"block sm:inline",children:i})]}):f.jsx("div",{className:"mt-10 grid grid-cols-1 gap-y-10 gap-x-6 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8",children:t.map(A=>f.jsxs("div",{className:"group relative bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[f.jsx(Ge,{to:`/product/${A.id}`,children:f.jsx("div",{className:"w-full min-h-80 bg-gray-200 aspect-w-1 aspect-h-1 rounded-md overflow-hidden group-hover:opacity-75 lg:h-80 lg:aspect-none",children:f.jsx("img",{src:h(A),alt:A.name,className:"w-full h-full object-center object-cover lg:w-full lg:h-full",onError:E=>{E.target.onerror=null,E.target.src="https://via.placeholder.com/300x300.png?text=Moño"}})})}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:A.category}),A.stock!==void 0&&A.stock<=5&&f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:A.stock>0?`Solo ${A.stock} disponibles`:"Agotado"})]}),f.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:f.jsxs(Ge,{to:`/product/${A.id}`,children:[f.jsx("span",{"aria-hidden":"true",className:"absolute inset-0"}),A.name]})}),A.rating>0&&f.jsx("div",{className:"mt-2",children:f.jsx(Eh,{rating:A.rating,size:"sm"})}),f.jsx("div",{className:"mt-2",children:f.jsxs("span",{className:"text-lg font-semibold text-indigo-600",children:["$",parseFloat(A.price).toLocaleString("es-CO")]})}),f.jsxs("div",{className:"mt-4 flex gap-2",children:[f.jsx("button",{className:"flex-1 bg-indigo-600 border border-transparent rounded-md py-2 px-4 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:E=>{E.preventDefault(),p(A)},children:"Agregar al Carrito"}),f.jsx("button",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:E=>{E.preventDefault(),E.stopPropagation(),g(A)},children:f.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4 4 0 000 6.364L12 20.364l7.682-7.682a4 4 0 00-6.364-6.364L12 7.636l-1.318-1.318a4 4 0 00-6.364 0z"})})})]})]})]},A.id))}),f.jsx("div",{className:"mt-12 text-center",children:f.jsx(Ge,{to:"/shop",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Ver todos los productos"})})]})}),f.jsx("div",{className:"bg-indigo-700 py-12",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"lg:text-center",children:[f.jsx("h2",{className:"text-base text-indigo-200 font-semibold tracking-wide uppercase",children:"Testimonios"}),f.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-white sm:text-4xl",children:"Lo que dicen nuestros clientes"})]}),f.jsx("div",{className:"mt-10",children:f.jsxs("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-16 h-16"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"María González"}),f.jsx("div",{className:"flex",children:[...Array(5)].map((A,E)=>f.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},E))})]})]}),f.jsx("p",{className:"mt-4 text-gray-600",children:'"Los moños son de excelente calidad y el envío fue rápido. ¡Definitivamente volveré a comprar!"'})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-16 h-16"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Carlos Rodríguez"}),f.jsx("div",{className:"flex",children:[...Array(5)].map((A,E)=>f.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},E))})]})]}),f.jsx("p",{className:"mt-4 text-gray-600",children:'"Excelente atención al cliente y productos de alta calidad. Muy recomendado para eventos especiales."'})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-16 h-16"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Ana Martínez"}),f.jsx("div",{className:"flex",children:[...Array(5)].map((A,E)=>f.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},E))})]})]}),f.jsx("p",{className:"mt-4 text-gray-600",children:'"Compré varios moños para una boda y todos quedaron hermosos. La calidad superó mis expectativas."'})]})]})})]})}),f.jsx("div",{className:"bg-white py-12",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"px-6 py-12 bg-indigo-700 rounded-3xl md:px-12 lg:flex lg:items-center",children:[f.jsxs("div",{className:"lg:w-0 lg:flex-1",children:[f.jsx("h2",{className:"text-3xl font-extrabold tracking-tight text-white sm:text-4xl",children:"Mantente al día"}),f.jsx("p",{className:"max-w-3xl mt-3 text-lg text-indigo-200",children:"Suscríbete a nuestro boletín para recibir ofertas especiales y novedades."})]}),f.jsxs("div",{className:"mt-8 lg:mt-0 lg:ml-8",children:[f.jsxs("form",{className:"sm:flex",children:[f.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Correo electrónico"}),f.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full px-5 py-3 placeholder-gray-500 focus:ring-2 focus:ring-offset-2 focus:ring-offset-indigo-700 focus:ring-white focus:outline-none rounded-md",placeholder:"Ingresa tu correo"}),f.jsx("button",{type:"submit",className:"flex items-center justify-center w-full mt-3 px-5 py-3 border border-transparent text-base font-medium text-indigo-600 bg-white hover:bg-indigo-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-indigo-700 focus:ring-white rounded-md sm:w-auto sm:ml-3 sm:flex-shrink-0",children:"Suscribirse"})]}),f.jsx("p",{className:"mt-3 text-sm text-indigo-200",children:"Prometemos no enviar spam. Puedes cancelar la suscripción en cualquier momento."})]})]})})})]})},xX=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,a]=_.useState(null),[l,u]=_.useState("all"),[d,h]=_.useState(""),{addToCart:p}=Uc(),{addToWishlist:g}=Xh(),{currentUser:x}=Hi();_.useEffect(()=>{(async()=>{try{r(!0);const N=await L3();e(N)}catch(N){a("Failed to load products"),console.error("Error fetching products:",N)}finally{r(!1)}})()},[]);const b=_.useMemo(()=>{let j=l==="all"?t:t.filter(N=>N.category===l);if(d){const N=d.toLowerCase();j=j.filter(L=>L.name.toLowerCase().includes(N)||L.description&&L.description.toLowerCase().includes(N)||L.category&&L.category.toLowerCase().includes(N)||L.material&&L.material.toLowerCase().includes(N)||L.color&&L.color.toLowerCase().includes(N))}return j},[t,l,d]),A=["all",...new Set(t.map(j=>j.category))],E=j=>{if(j.imageUrls&&j.imageUrls.length>0){const N=j.imageUrls.filter(L=>L&&(typeof L=="string"||L.data&&typeof L.data=="string"));if(N.length>0){const L=j.primaryImageIndex||0,M=Math.min(L,N.length-1),U=N[M];if(typeof U=="string")return U;if(U&&U.data)return U.data}}return j.imageUrl||"https://via.placeholder.com/300x300.png?text=Moño"},S=j=>{if(!x){Ie.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos al carrito",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(M=>{M.isConfirmed&&(window.location.href="/login")});return}if((j.stock!==void 0?j.stock:1/0)===0){Ie.fire({title:"Producto agotado",text:"Este producto no está disponible actualmente.",icon:"error",confirmButtonText:"Aceptar"});return}const L=E(j);p({...j,imageUrl:L,quantity:1}),Ie.fire({title:"Producto agregado",text:"Producto agregado correctamente al carrito",icon:"success",confirmButtonText:"Aceptar"})},C=j=>{if(!x){Ie.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos a tu lista de deseos",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(L=>{L.isConfirmed&&(window.location.href="/login")});return}const N=E(j);g({...j,imageUrl:N}),Ie.fire({title:"Producto agregado",text:"Producto agregado correctamente a tu lista de deseos",icon:"success",confirmButtonText:"Aceptar"})};return f.jsx("div",{children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Nuestra Colección"}),f.jsxs("div",{className:"mt-4 md:mt-0 flex flex-col sm:flex-row gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",placeholder:"Buscar productos...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 w-full sm:w-64",value:d,onChange:j=>h(j.target.value)}),f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"category-filter",className:"mr-2 text-sm font-medium text-gray-700",children:"Filtrar por:"}),f.jsx("select",{id:"category-filter",className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:l,onChange:j=>u(j.target.value),children:A.map(j=>f.jsx("option",{value:j,children:j==="all"?"Todos":j},j))})]})]})]}),n?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):i?f.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[f.jsx("strong",{className:"font-bold",children:"Error! "}),f.jsx("span",{className:"block sm:inline",children:i})]}):f.jsxs(f.Fragment,{children:[d&&f.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[b.length,' producto(s) encontrado(s) para "',d,'"']}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:b.map(j=>f.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[f.jsx(Ge,{to:`/product/${j.id}`,children:f.jsx("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden",children:f.jsx("img",{src:E(j),alt:j.name,className:"w-full h-64 object-cover",onError:N=>{N.target.onerror=null,N.target.src="https://via.placeholder.com/300x300.png?text=Moño"}})})}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:j.category}),j.stock!==void 0&&j.stock<=5&&f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:j.stock>0?`Solo ${j.stock} disponibles`:"Agotado"})]}),f.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:j.name}),j.rating>0&&f.jsx("div",{className:"mt-2",children:f.jsx(Eh,{rating:j.rating,size:"sm"})}),f.jsx("div",{className:"mt-2",children:f.jsxs("span",{className:"text-lg font-semibold text-indigo-600",children:["$",parseFloat(j.price).toLocaleString("es-CO")]})}),f.jsxs("div",{className:"mt-4 flex gap-2",children:[f.jsx("button",{className:"flex-1 bg-indigo-600 border border-transparent rounded-md py-2 px-4 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:N=>{N.preventDefault(),S(j)},children:"Agregar al Carrito"}),f.jsx("button",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:N=>{N.preventDefault(),N.stopPropagation(),C(j)},children:f.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4 4 0 000 6.364L12 20.364l7.682-7.682a4 4 0 00-6.364-6.364L12 7.636l-1.318-1.318a4 4 0 00-6.364 0z"})})})]})]})]},j.id))})]}),!n&&!i&&b.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No se encontraron productos"}),f.jsx("p",{className:"mt-1 text-gray-500",children:d?`No se encontraron productos que coincidan con "${d}".`:"No hay productos disponibles en esta categoría."}),d&&f.jsx("div",{className:"mt-6",children:f.jsx("button",{onClick:()=>{h(""),u("all")},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ver todos los productos"})})]})]})})},I6=async t=>{try{const e=jt(Re,"reviews");return{id:(await xv(e,{...t,createdAt:new Date,updatedAt:new Date})).id,...t,createdAt:new Date,updatedAt:new Date}}catch(e){throw console.error("Error creating review:",e),e}},wP=async t=>{try{const e=jt(Re,"reviews"),n=pa(e,Ks("productId","==",t),yl("createdAt","desc"));return(await Ht(n)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){if(console.error("Error fetching reviews:",e),e.code==="failed-precondition"||e.message&&e.message.includes("index"))try{const n=jt(Re,"reviews"),r=pa(n,Ks("productId","==",t));return(await Ht(r)).docs.map(u=>({id:u.id,...u.data()})).sort((u,d)=>{const h=u.createdAt?.toDate?u.createdAt.toDate():new Date(u.createdAt);return(d.createdAt?.toDate?d.createdAt.toDate():new Date(d.createdAt))-h})}catch(n){throw console.error("Error fetching reviews without index:",n),n}else throw e}},_P=async()=>{try{const t=jt(Re,"reviews"),e=pa(t,yl("createdAt","desc"));return(await Ht(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){if(console.error("Error fetching all reviews:",t),t.code==="failed-precondition"||t.message&&t.message.includes("index"))try{const e=jt(Re,"reviews");return(await Ht(e)).docs.map(a=>({id:a.id,...a.data()})).sort((a,l)=>{const u=a.createdAt?.toDate?a.createdAt.toDate():new Date(a.createdAt);return(l.createdAt?.toDate?l.createdAt.toDate():new Date(l.createdAt))-u})}catch(e){throw console.error("Error fetching all reviews without index:",e),e}else throw t}},bX=async(t,e)=>{try{const n=xt(Re,"reviews",t);return await sa(n,{...e,updatedAt:new Date}),{id:t,...e,updatedAt:new Date}}catch(n){throw console.error("Error updating review:",n),n}},wX=async t=>{try{const e=xt(Re,"reviews",t);return await L_(e),t}catch(e){throw console.error("Error deleting review:",e),e}},_X=()=>{const{id:t}=FV(),[e,n]=_.useState(null),[r,i]=_.useState(!0),[a,l]=_.useState(null),[u,d]=_.useState(1),[h,p]=_.useState(0),{addToCart:g}=Uc(),{addToWishlist:x}=Xh(),{currentUser:b}=Hi(),A=qi(),[E,S]=_.useState([]),[C,j]=_.useState(!0),[N,L]=_.useState({rating:0,comment:""}),[M,U]=_.useState(!1);_.useEffect(()=>{t&&(async()=>{try{i(!0);const ae=await jG(t);n(ae),p(0)}catch(ae){l("Failed to load product"),console.error("Error fetching product:",ae)}finally{i(!1)}})()},[t]),_.useEffect(()=>{(async()=>{if(t)try{j(!0);const ae=await wP(t);S(ae)}catch(ae){console.error("Error fetching reviews:",ae)}finally{j(!1)}})()},[t]);const R=W=>{if(W.imageUrls&&W.imageUrls.length>0){const ae=W.imageUrls.filter(ye=>ye&&(typeof ye=="string"||ye.data&&typeof ye.data=="string"));if(ae.length>0){const ye=W.primaryImageIndex||0,H=Math.min(ye,ae.length-1),le=ae[H];if(typeof le=="string")return le;if(le&&le.data)return le.data}}return W.imageUrl||"https://via.placeholder.com/600x600.png?text=Moño"},I=()=>{if(!b){Ie.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos al carrito",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(W=>{W.isConfirmed&&A("/login")});return}if(e){if((e.stock!==void 0?e.stock:1/0)===0){Ie.fire({title:"Producto agotado",text:"Este producto no está disponible actualmente.",icon:"error",confirmButtonText:"Aceptar"});return}const ae=R(e);g({...e,imageUrl:ae,quantity:1}),Ie.fire({title:"Producto agregado",text:"Producto agregado correctamente al carrito",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})}},k=()=>{if(!b){Ie.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos a tu lista de deseos",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(W=>{W.isConfirmed&&A("/login")});return}if(e){const W=R(e);x({...e,imageUrl:W}),Ie.fire({title:"Producto agregado",text:"Producto agregado correctamente a tu lista de deseos",icon:"success",confirmButtonText:"Aceptar"})}},$=()=>{if(e?.imageUrls&&Array.isArray(e.imageUrls)){const W=e.imageUrls.filter(ae=>ae&&(typeof ae=="string"||ae.data&&typeof ae.data=="string"));return W.length>0?W.map(ye=>typeof ye=="string"?ye:ye&&ye.data?ye.data:"https://via.placeholder.com/600x600.png?text=Moño"):["https://via.placeholder.com/600x600.png?text=Moño"]}return e?.imageUrl?[e.imageUrl]:["https://via.placeholder.com/600x600.png?text=Moño"]},V=()=>{const W=$();return W[h]||W[0]},F=W=>{const{name:ae,value:ye}=W.target;L(H=>({...H,[ae]:ye}))},B=W=>{L(ae=>({...ae,rating:W}))},ve=async W=>{if(W.preventDefault(),!b){Ie.fire({title:"Inicia sesión",text:"Debes iniciar sesión para dejar una reseña",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(ae=>{ae.isConfirmed&&A("/login")});return}if(N.rating===0){Ie.fire({title:"Error",text:"Por favor selecciona una calificación",icon:"error",confirmButtonText:"Aceptar"});return}if(N.comment.trim()===""){Ie.fire({title:"Error",text:"Por favor escribe un comentario",icon:"error",confirmButtonText:"Aceptar"});return}U(!0);try{const ae={productId:t,userId:b.uid,userEmail:b.email,userName:b.displayName||b.email.split("@")[0],rating:N.rating,comment:N.comment.trim()};await I6(ae),L({rating:0,comment:""});const ye=await wP(t);S(ye),Ie.fire({title:"Reseña enviada",text:"Tu reseña ha sido enviada correctamente",icon:"success",confirmButtonText:"Aceptar"})}catch(ae){console.error("Error submitting review:",ae),Ie.fire({title:"Error",text:"Hubo un error al enviar tu reseña. Por favor intenta nuevamente.",icon:"error",confirmButtonText:"Aceptar"})}finally{U(!1)}},ie=W=>W?W instanceof Date?W.toLocaleDateString("es-CO"):W.toDate?W.toDate().toLocaleDateString("es-CO"):"N/A":"N/A";if(r)return f.jsx("div",{children:f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"w-12 h-12 border-b-2 border-gray-900 rounded-full animate-spin"})})});if(a||!e)return f.jsx("div",{children:f.jsx("div",{className:"px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8",children:f.jsxs("div",{className:"relative px-4 py-3 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:[f.jsx("strong",{className:"font-bold",children:"Error! "}),f.jsx("span",{className:"block sm:inline",children:a||"Product not found"})]})})});const G=$();return f.jsx("div",{children:f.jsxs("div",{className:"px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[f.jsx("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:f.jsxs("ol",{className:"flex items-center space-x-2",children:[f.jsx("li",{children:f.jsx(Ge,{to:"/home",className:"text-gray-500 hover:text-gray-700",children:"Home"})}),f.jsx("li",{children:f.jsx("span",{className:"text-gray-500",children:"/"})}),f.jsx("li",{children:f.jsx(Ge,{to:"/shop",className:"text-gray-500 hover:text-gray-700",children:"Shop"})}),f.jsx("li",{children:f.jsx("span",{className:"text-gray-500",children:"/"})}),f.jsx("li",{children:f.jsx("span",{className:"text-gray-900",children:e.name})})]})}),f.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-x-8 lg:items-start",children:[f.jsxs("div",{className:"flex flex-col-reverse",children:[G.length>1&&f.jsx("div",{className:"w-full max-w-2xl mx-auto mt-6 lg:max-w-none",children:f.jsx("div",{className:"grid grid-cols-4 gap-6","aria-orientation":"horizontal",children:G.map((W,ae)=>f.jsxs("button",{className:`relative h-24 bg-white rounded-md flex items-center justify-center text-sm font-medium uppercase text-gray-900 cursor-pointer hover:bg-gray-50 focus:outline-none focus:ring focus:ring-offset-4 focus:ring-indigo-500 ${h===ae?"ring-2 ring-indigo-500":""}`,onClick:()=>p(ae),children:[f.jsxs("span",{className:"sr-only",children:["Imagen ",ae+1]}),f.jsx("span",{className:"absolute inset-0 overflow-hidden rounded-md",children:f.jsx("img",{src:W,alt:`Imagen ${ae+1}`,className:"object-cover w-full h-full",onError:ye=>{ye.target.onerror=null,ye.target.src="https://via.placeholder.com/100x100.png?text=Moño"}})}),h===ae&&f.jsx("span",{className:"absolute inset-0 rounded-md pointer-events-none ring-2 ring-offset-2 ring-indigo-500","aria-hidden":"true"})]},ae))})}),f.jsx("div",{className:"w-full aspect-w-1 aspect-h-1",children:f.jsx("img",{src:V(),alt:e.name,className:"object-cover object-center w-full h-full sm:rounded-lg",onError:W=>{W.target.onerror=null,W.target.src="https://via.placeholder.com/600x600.png?text=Moño"}})})]}),f.jsxs("div",{className:"px-4 mt-10 sm:px-0 sm:mt-16 lg:mt-0",children:[f.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:e.name}),f.jsxs("div",{className:"mt-3",children:[f.jsx("h2",{className:"sr-only",children:"Product information"}),f.jsxs("p",{className:"text-3xl text-gray-900",children:["$",parseFloat(e.price).toLocaleString("es-CO")]})]}),e.rating>0&&f.jsx("div",{className:"mt-2",children:f.jsx(Eh,{rating:e.rating,size:"lg"})}),f.jsxs("div",{className:"mt-6",children:[f.jsx("h3",{className:"sr-only",children:"Description"}),f.jsx("div",{className:"space-y-6 text-base text-gray-700",children:f.jsx("p",{children:e.description})})]}),f.jsxs("div",{className:"mt-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"mr-2 text-gray-700",children:"Categoría:"}),f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.category})]}),e.stock!==void 0&&f.jsxs("div",{className:"flex items-center mt-2",children:[f.jsx("span",{className:"mr-2 text-gray-700",children:"Stock:"}),f.jsx("span",{className:`font-medium ${e.stock>5?"text-green-600":e.stock>0?"text-yellow-600":"text-red-600"}`,children:e.stock>0?`${e.stock} disponibles`:"Agotado"})]}),e.material&&f.jsxs("div",{className:"flex items-center mt-2",children:[f.jsx("span",{className:"mr-2 text-gray-700",children:"Material:"}),f.jsx("span",{className:"text-gray-900",children:e.material})]}),e.color&&f.jsxs("div",{className:"flex items-center mt-2",children:[f.jsx("span",{className:"mr-2 text-gray-700",children:"Color:"}),f.jsx("span",{className:"text-gray-900",children:e.color})]}),e.size&&f.jsxs("div",{className:"flex items-center mt-2",children:[f.jsx("span",{className:"mr-2 text-gray-700",children:"Tamaño:"}),f.jsx("span",{className:"text-gray-900",children:e.size})]}),e.style&&f.jsxs("div",{className:"flex items-center mt-2",children:[f.jsx("span",{className:"mr-2 text-gray-700",children:"Estilo:"}),f.jsx("span",{className:"text-gray-900",children:e.style})]})]}),f.jsx("form",{className:"mt-6",children:f.jsxs("div",{className:"flex gap-3 mt-10 sm:flex-col1",children:[f.jsx("button",{type:"button",onClick:I,className:"flex items-center justify-center flex-1 max-w-xs px-8 py-3 text-base font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:w-full",disabled:e.stock===0,children:"Agregar al Carrito"}),f.jsxs("button",{type:"button",onClick:k,className:"flex items-center justify-center px-4 py-3 ml-4 text-gray-400 rounded-md hover:bg-gray-100 hover:text-gray-500",children:[f.jsx("svg",{className:"flex-shrink-0 w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),f.jsx("span",{className:"sr-only",children:"Add to favorites"})]})]})})]})]}),f.jsx("div",{className:"mt-16",children:f.jsxs("div",{className:"border-t border-gray-200 pt-10",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Reseñas de Clientes"}),b&&f.jsxs("div",{className:"mb-10",children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Deja tu reseña"}),f.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calificación"}),f.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(W=>f.jsx("button",{type:"button",onClick:()=>B(W),className:"text-2xl focus:outline-none",children:W<=N.rating?f.jsx("span",{className:"text-yellow-400",children:"★"}):f.jsx("span",{className:"text-gray-300",children:"☆"})},W)),f.jsx("span",{className:"ml-2 text-sm text-gray-500",children:N.rating>0?`${N.rating} de 5 estrellas`:"Selecciona una calificación"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Comentario"}),f.jsx("textarea",{id:"comment",name:"comment",rows:4,value:N.comment,onChange:F,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border border-gray-300 rounded-md p-3",placeholder:"Comparte tu experiencia con este producto..."})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:M,className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${M?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,children:M?"Enviando...":"Enviar Reseña"})})]})]}),f.jsx("div",{children:C?f.jsx("div",{className:"flex justify-center py-8",children:f.jsx("div",{className:"w-8 h-8 border-b-2 border-gray-900 rounded-full animate-spin"})}):E.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("p",{className:"text-gray-500",children:"No hay reseñas para este producto aún."}),!b&&f.jsx("p",{className:"mt-2 text-sm text-gray-500",children:f.jsx(Ge,{to:"/login",className:"text-indigo-600 hover:text-indigo-500",children:"Inicia sesión para dejar la primera reseña"})})]}):f.jsx("div",{className:"space-y-6",children:E.map(W=>f.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-medium text-gray-900",children:W.userName}),f.jsx("div",{className:"mt-1",children:f.jsx(Eh,{rating:W.rating,size:"sm"})})]}),f.jsx("p",{className:"text-sm text-gray-500",children:ie(W.createdAt)})]}),f.jsx("div",{className:"mt-4",children:f.jsx("p",{className:"text-gray-700",children:W.comment})})]},W.id))})})]})})]})})},EX=()=>{const{items:t,updateQuantity:e,removeFromCart:n,getTotalPrice:r,loading:i,coupon:a,applyCoupon:l,removeCoupon:u}=Uc(),d=qi(),[h,p]=_.useState(""),[g,x]=_.useState(""),[b,A]=_.useState(!1);if(i)return f.jsx("div",{children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})})});const E=()=>{d("/checkout")},S=async N=>{if(N.preventDefault(),!!h.trim()){A(!0),x("");try{await l(h.trim()),p("")}catch(L){x(L.message||"Error al aplicar el cupón")}finally{A(!1)}}},C=()=>{u(),p(""),x("")},j=t.reduce((N,L)=>N+L.price*L.quantity,0);return f.jsx("div",{children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Tu Carrito de Compras"}),t.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),f.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Tu carrito está vacío"}),f.jsx("p",{className:"mt-1 text-gray-500",children:"Empieza a agregar productos a tu carrito"}),f.jsx("div",{className:"mt-6",children:f.jsx(Ge,{to:"/shop",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Continuar Comprando"})})]}):f.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-12",children:[f.jsx("div",{className:"lg:col-span-8",children:f.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:f.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(N=>f.jsx("li",{className:"p-4 sm:p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden",children:f.jsx("img",{src:N.imageUrl||"https://via.placeholder.com/100x100.png?text=Moño",alt:N.name,className:"w-full h-full object-center object-cover",onError:L=>{L.target.onerror=null,L.target.src="https://via.placeholder.com/100x100.png?text=Moño"}})}),f.jsxs("div",{className:"ml-4 flex-1 flex flex-col",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[f.jsx("h3",{children:f.jsx(Ge,{to:`/product/${N.id}`,children:N.name})}),f.jsxs("p",{className:"ml-4",children:["$",parseFloat(N.price*N.quantity).toLocaleString("es-CO")]})]}),f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:N.category}),N.stock!==void 0&&f.jsx("p",{className:"mt-1 text-sm",children:f.jsx("span",{className:`font-medium ${N.stock>5?"text-green-600":N.stock>0?"text-yellow-600":"text-red-600"}`,children:N.stock>0?`Stock: ${N.stock} disponibles`:"Agotado"})})]}),f.jsxs("div",{className:"flex-1 flex items-end justify-between text-sm",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsxs("button",{onClick:()=>e(N.id,N.quantity-1),className:"text-gray-500 hover:text-gray-600",disabled:N.quantity<=1,children:[f.jsx("span",{className:"sr-only",children:"Remove one"}),f.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})})]}),f.jsx("span",{className:"mx-2 text-gray-500",children:N.quantity}),f.jsxs("button",{onClick:()=>{const L=N.stock!==void 0?N.stock:1/0;N.quantity<L&&e(N.id,N.quantity+1)},className:"text-gray-500 hover:text-gray-600",disabled:N.stock!==void 0&&N.quantity>=N.stock,children:[f.jsx("span",{className:"sr-only",children:"Add one"}),f.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})]}),f.jsx("div",{className:"flex",children:f.jsx("button",{type:"button",onClick:()=>n(N.id),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Eliminar"})})]})]})]})},N.id))})})}),f.jsx("div",{className:"mt-8 lg:mt-0 lg:col-span-4",children:f.jsxs("div",{className:"bg-gray-50 rounded-lg px-4 py-6 sm:p-6 lg:p-8",children:[f.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Resumen del Pedido"}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Cupón de Descuento"}),a?f.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-md",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-medium text-green-800",children:a.code}),f.jsx("span",{className:"ml-2 text-sm text-green-600",children:a.discountType==="percentage"?`-${a.discountValue}%`:`-$${a.discountValue.toLocaleString("es-CO")}`})]}),f.jsx("button",{onClick:C,className:"text-sm text-red-600 hover:text-red-800",children:"Eliminar"})]}):f.jsxs("form",{onSubmit:S,className:"flex space-x-2",children:[f.jsx("input",{type:"text",value:h,onChange:N=>p(N.target.value),placeholder:"Ingresa tu código",className:"flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",disabled:b}),f.jsx("button",{type:"submit",disabled:b||!h.trim(),className:`inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white ${b||!h.trim()?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:b?"Aplicando...":"Aplicar"})]}),g&&f.jsx("p",{className:"mt-2 text-sm text-red-600",children:g})]}),f.jsxs("dl",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("dt",{className:"text-sm text-gray-600",children:"Subtotal"}),f.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:["$",parseFloat(j).toLocaleString("es-CO")]})]}),a&&f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("dt",{className:"text-sm text-gray-600",children:["Descuento (",a.code,")"]}),f.jsxs("dd",{className:"text-sm font-medium text-green-600",children:["-$",parseFloat(j-r()).toLocaleString("es-CO")]})]}),f.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6",children:[f.jsx("dt",{className:"text-base font-medium text-gray-900",children:"Total del Pedido"}),f.jsxs("dd",{className:"text-base font-medium text-gray-900",children:["$",parseFloat(r()).toLocaleString("es-CO")]})]})]}),t.some(N=>N.stock!==void 0&&N.stock<N.quantity)&&f.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Algunos productos tienen stock limitado"}),f.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:f.jsx("p",{children:"La cantidad en tu carrito excede el stock disponible para algunos productos. Por favor, ajusta las cantidades."})})]})]})}),f.jsx("div",{className:"mt-6",children:f.jsx("button",{type:"button",onClick:E,className:"w-full bg-indigo-600 border border-transparent rounded-md shadow-sm py-3 px-4 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500",disabled:t.some(N=>N.stock!==void 0&&N.stock<N.quantity),children:"Proceder al Pago"})}),f.jsx("div",{className:"mt-4 text-center",children:f.jsx(Ge,{to:"/shop",className:"text-indigo-600 hover:text-indigo-500",children:"← Continuar Comprando"})})]})})]})]})})};/*!
 * react-paypal-js v8.9.2 (2025-10-02T20:17:55.069Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br;(function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"})(Br||(Br={}));var el;(function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"})(el||(el={}));var EP;(function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"})(EP||(EP={}));var Sn=function(){return Sn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sn.apply(this,arguments)};function R6(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AP(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Ah="data-react-paypal-script-id",oc={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},AX="Failed to load the PayPal JS SDK script.",k6="paypal",SX="usePayPalScriptReducer must be used within a PayPalScriptProvider";function TX(t){return t===void 0&&(t=k6),window[t]}function CX(t){for(var e="",n=0;n<t.length;n++){var r=t[n].charCodeAt(0)*n;t[n+1]&&(r+=t[n+1].charCodeAt(0)*(n-1)),e+=String.fromCharCode(97+Math.abs(r)%26)}return e}function NX(t){var e=t.reactComponentName,n=t.sdkComponentKey,r=t.sdkRequestedComponents,i=r===void 0?"":r,a=t.sdkDataNamespace,l=a===void 0?k6:a,u=n.charAt(0).toUpperCase().concat(n.substring(1)),d="Unable to render <".concat(e," /> because window.").concat(l,".").concat(u," is undefined."),h=typeof i=="string"?i:i.join(",");if(!h.includes(n)){var p=[h,n].filter(Boolean).join();d+=`
To fix the issue, add '`.concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(p,"'}}>`.")}return d}function D6(t){var e=t,n=Ah;e[n];var r=R6(e,[n+""]);return"react-paypal-js-".concat(CX(JSON.stringify(r)))}function jX(t){var e=self.document.querySelector("script[".concat(Ah,'="').concat(t,'"]'));e?.parentNode&&e.parentNode.removeChild(e)}function PX(t,e){var n,r;switch(e.type){case el.LOADING_STATUS:return typeof e.value=="object"?Sn(Sn({},t),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):Sn(Sn({},t),{loadingStatus:e.value});case el.RESET_OPTIONS:return jX(t.options[Ah]),Sn(Sn({},t),{loadingStatus:Br.PENDING,options:Sn(Sn((n={},n[oc.DATA_SDK_INTEGRATION_SOURCE]=oc.DATA_LIBRARY_VALUE,n),e.value),(r={},r[Ah]="".concat(D6(e.value)),r))});case el.SET_BRAINTREE_INSTANCE:return Sn(Sn({},t),{braintreePayPalCheckoutInstance:e.value});default:return t}}var M6=_.createContext(null);function OX(t){if(typeof t?.dispatch=="function"&&t.dispatch.length!==0)return t;throw new Error(SX)}function IX(){var t=OX(_.useContext(M6)),e=Sn(Sn({},t),{isInitial:t.loadingStatus===Br.INITIAL,isPending:t.loadingStatus===Br.PENDING,isResolved:t.loadingStatus===Br.RESOLVED,isRejected:t.loadingStatus===Br.REJECTED});return[e,t.dispatch]}_.createContext({});function RX(t){var e=_.useRef(new Proxy({},{get:function(n,r,i){return typeof n[r]=="function"?function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return n[r].apply(n,a)}:Reflect.get(n,r,i)}}));return e.current=Object.assign(e.current,t),e.current}var J_=function(t){var e,n=t.className,r=n===void 0?"":n,i=t.disabled,a=i===void 0?!1:i,l=t.children,u=t.forceReRender,d=u===void 0?[]:u,h=R6(t,["className","disabled","children","forceReRender"]),p=a?{opacity:.38}:{},g="".concat(r," ").concat(a?"paypal-buttons-disabled":"").trim(),x=_.useRef(null),b=_.useRef(null),A=RX(h),E=IX()[0],S=E.isResolved,C=E.options,j=_.useState(null),N=j[0],L=j[1],M=_.useState(!0),U=M[0],R=M[1],I=_.useState(null),k=I[1];function $(){b.current!==null&&b.current.close().catch(function(){})}return!((e=b.current)===null||e===void 0)&&e.updateProps&&b.current.updateProps({message:h.message}),_.useEffect(function(){if(S===!1)return $;var V=TX(C.dataNamespace);if(V===void 0||V.Buttons===void 0)return k(function(){throw new Error(NX({reactComponentName:J_.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:C.components,sdkDataNamespace:C[oc.DATA_NAMESPACE]}))}),$;var F=function(B,ve){L(ve),typeof h.onInit=="function"&&h.onInit(B,ve)};try{b.current=V.Buttons(Sn(Sn({},A),{onInit:F}))}catch(B){return k(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(B))})}return b.current.isEligible()===!1?(R(!1),$):(x.current&&b.current.render(x.current).catch(function(B){x.current===null||x.current.children.length===0||k(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(B))})}),$)},AP(AP([S],d,!0),[h.fundingSource],!1)),_.useEffect(function(){N!==null&&(a===!0?N.disable().catch(function(){}):N.enable().catch(function(){}))},[a,N]),li.createElement(li.Fragment,null,U?li.createElement("div",{ref:x,style:p,className:g}):l)};J_.displayName="PayPalButtons";function kX(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function DX(t,e){var n=document.querySelector('script[src="'.concat(t,'"]'));if(n===null)return null;var r=L6(t,e),i=n.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(r.dataset).length)return null;var a=!0;return Object.keys(i.dataset).forEach(function(l){i.dataset[l]!==r.dataset[l]&&(a=!1)}),a?n:null}function MX(t){var e=t.url,n=t.attributes,r=t.onSuccess,i=t.onError,a=L6(e,n);a.onerror=i,a.onload=r,document.head.insertBefore(a,document.head.firstElementChild)}function LX(t){var e=t.sdkBaseUrl,n=t.environment,r=kX(t,["sdkBaseUrl","environment"]),i=e||BX(n),a=r,l=Object.keys(a).filter(function(h){return typeof a[h]<"u"&&a[h]!==null&&a[h]!==""}).reduce(function(h,p){var g=a[p].toString();return p=VX(p),p.substring(0,4)==="data"||p==="crossorigin"?h.attributes[p]=g:h.queryParams[p]=g,h},{queryParams:{},attributes:{}}),u=l.queryParams,d=l.attributes;return u["merchant-id"]&&u["merchant-id"].indexOf(",")!==-1&&(d["data-merchant-id"]=u["merchant-id"],u["merchant-id"]="*"),{url:"".concat(i,"?").concat(UX(u)),attributes:d}}function VX(t){var e=function(n,r){return(r?"-":"")+n.toLowerCase()};return t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function UX(t){var e="";return Object.keys(t).forEach(function(n){e.length!==0&&(e+="&"),e+=n+"="+t[n]}),e}function BX(t){return t==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function L6(t,e){e===void 0&&(e={});var n=document.createElement("script");return n.src=t,Object.keys(e).forEach(function(r){n.setAttribute(r,e[r]),r==="data-csp-nonce"&&n.setAttribute("nonce",e["data-csp-nonce"])}),n}function zX(t,e){if(e===void 0&&(e=Promise),V6(t,e),typeof document>"u")return e.resolve(null);var n=LX(t),r=n.url,i=n.attributes,a=i["data-namespace"]||"paypal",l=SP(a);return i["data-js-sdk-library"]||(i["data-js-sdk-library"]="paypal-js"),DX(r,i)&&l?e.resolve(l):$X({url:r,attributes:i},e).then(function(){var u=SP(a);if(u)return u;throw new Error("The window.".concat(a," global variable is not available."))})}function $X(t,e){e===void 0&&(e=Promise),V6(t,e);var n=t.url,r=t.attributes;if(typeof n!="string"||n.length===0)throw new Error("Invalid url.");if(typeof r<"u"&&typeof r!="object")throw new Error("Expected attributes to be an object.");return new e(function(i,a){if(typeof document>"u")return i();MX({url:n,attributes:r,onSuccess:function(){return i()},onError:function(){var l=new Error('The script "'.concat(n,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return a(l)}})})}function SP(t){return window[t]}function V6(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");var n=t.environment;if(n&&n!=="production"&&n!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var FX=function(t){var e,n=t.options,r=n===void 0?{clientId:"test"}:n,i=t.children,a=t.deferLoading,l=a===void 0?!1:a,u=_.useReducer(PX,{options:Sn(Sn({},r),(e={},e[oc.DATA_JS_SDK_LIBRARY]=oc.DATA_LIBRARY_VALUE,e[oc.DATA_SDK_INTEGRATION_SOURCE]=oc.DATA_LIBRARY_VALUE,e[Ah]="".concat(D6(r)),e)),loadingStatus:l?Br.INITIAL:Br.PENDING}),d=u[0],h=u[1];return _.useEffect(function(){if(l===!1&&d.loadingStatus===Br.INITIAL)return h({type:el.LOADING_STATUS,value:Br.PENDING});if(d.loadingStatus===Br.PENDING){var p=!0;return zX(d.options).then(function(){p&&h({type:el.LOADING_STATUS,value:Br.RESOLVED})}).catch(function(g){console.error("".concat(AX," ").concat(g)),p&&h({type:el.LOADING_STATUS,value:{state:Br.REJECTED,message:String(g)}})}),function(){p=!1}}},[d.options,l,d.loadingStatus]),li.createElement(M6.Provider,{value:Sn(Sn({},d),{dispatch:h})},i)};function TP(){}_.createContext({cardFieldsForm:null,fields:{},registerField:TP,unregisterField:TP});const qX=()=>{const{items:t,getTotalPrice:e,loading:n,clearCart:r,coupon:i}=Uc(),{currentUser:a}=Hi(),l=qi(),u=28e-5,d=ie=>ie*u,h=ie=>{if(ie.imageUrls&&ie.imageUrls.length>0){const G=ie.imageUrls.filter(W=>W&&(typeof W=="string"||W.data&&typeof W.data=="string"));if(G.length>0){const W=ie.primaryImageIndex||0,ae=Math.min(W,G.length-1),ye=G[ae];if(typeof ye=="string")return ye;if(ye&&ye.data)return ye.data}}return ie.imageUrl||"https://via.placeholder.com/100x100.png?text=Moño"},[p,g]=_.useState([]),[x,b]=_.useState(null),[A,E]=_.useState({name:"",street:"",city:"",state:"",zipCode:"",country:"Colombia"}),[S,C]=_.useState(!1),[j,N]=_.useState(!0),[L,M]=_.useState(!1),U=t.reduce((ie,G)=>ie+G.price*G.quantity,0),R=i?U-e():0,I=e();_.useEffect(()=>{(async()=>{if(!a){l("/login");return}try{const G=xt(Re,"users",a.uid),W=await ga(G);if(W.exists()){const ye=W.data().addresses||[];g(ye);const H=ye.find(le=>le.isDefault);H?b(H):ye.length>0&&b(ye[0])}}catch(G){console.error("Error loading addresses:",G),Ie.fire({title:"Error",text:"Error al cargar las direcciones",icon:"error",confirmButtonText:"Aceptar"})}finally{N(!1)}})()},[a,l]);const k=ie=>{const{name:G,value:W}=ie.target;E(ae=>({...ae,[G]:W}))},$=async ie=>{if(ie.preventDefault(),!A.name||!A.street||!A.city||!A.state||!A.zipCode){Ie.fire({title:"Error",text:"Por favor completa todos los campos de la dirección",icon:"error",confirmButtonText:"Aceptar"});return}try{const G=xt(Re,"users",a.uid),W={...A,id:Date.now(),isDefault:p.length===0};await sa(G,{addresses:[...p,W]});const ae=[...p,W];g(ae),b(W),C(!1),E({name:"",street:"",city:"",state:"",zipCode:"",country:"Colombia"}),Ie.fire({title:"Dirección agregada",text:"La dirección se ha agregado correctamente",icon:"success",confirmButtonText:"Aceptar"})}catch(G){console.error("Error adding address:",G),Ie.fire({title:"Error",text:"Error al agregar la dirección: "+G.message,icon:"error",confirmButtonText:"Aceptar"})}},V=async(ie,G)=>{try{const W=d(I),ae={userId:a.uid,userEmail:a.email,items:t,subtotal:parseFloat(U),discount:parseFloat(R),totalAmount:parseFloat(I),totalAmountUSD:parseFloat(W.toFixed(2)),address:x,paymentMethod:ie,paymentStatus:G,orderStatus:"pending",coupon:i||null,createdAt:new Date,updatedAt:new Date},ye=jt(Re,"orders"),H=await xv(ye,ae);return console.log("Order created with ID:",H.id),H.id}catch(W){throw console.error("Error creating order:",W),W}},F=(ie,G)=>G.order.capture().then(async W=>{M(!0);try{await V("PayPal","completed"),r(),Ie.fire({title:"¡Pago exitoso!",text:`Gracias por tu compra, ${W.payer.name.given_name}!`,icon:"success",confirmButtonText:"Aceptar"}).then(()=>{l("/home")})}catch(ae){console.error("Error processing order:",ae),Ie.fire({title:"Error",text:"Hubo un error al procesar tu pedido. Por favor contacta al soporte.",icon:"error",confirmButtonText:"Aceptar"})}finally{M(!1)}}),B=ie=>{console.error("PayPal payment error:",ie),Ie.fire({title:"Error",text:"Hubo un error al procesar el pago con PayPal. Por favor intenta nuevamente.",icon:"error",confirmButtonText:"Aceptar"})},ve=async()=>{if(!x){Ie.fire({title:"Error",text:"Por favor selecciona una dirección de envío",icon:"error",confirmButtonText:"Aceptar"});return}M(!0);try{await V("Cash on Delivery","pending"),r(),Ie.fire({title:"Pedido confirmado",text:"Tu pedido ha sido confirmado. Pagarás contra entrega.",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{l("/home")})}catch(ie){console.error("Error processing order:",ie),Ie.fire({title:"Error",text:"Error al procesar el pedido: "+ie.message,icon:"error",confirmButtonText:"Aceptar"})}finally{M(!1)}};return n||j?f.jsx("div",{children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})})}):t.length===0?(l("/cart"),null):f.jsx("div",{children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Checkout"}),f.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-12",children:[f.jsxs("div",{className:"lg:col-span-8",children:[f.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-8",children:f.jsxs("div",{className:"px-4 py-6 sm:px-6",children:[f.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Dirección de Envío"}),p.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsxs("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),f.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay direcciones guardadas"}),f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Agrega una nueva dirección para continuar."})]}):f.jsx("div",{className:"space-y-4",children:p.map(ie=>f.jsx("div",{className:`border rounded-lg p-4 cursor-pointer ${x&&x.id===ie.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>b(ie),children:f.jsxs("div",{className:"flex items-start",children:[f.jsx("div",{className:"flex items-center h-5",children:f.jsx("input",{type:"radio",name:"address",checked:x&&x.id===ie.id,onChange:()=>b(ie),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"})}),f.jsxs("div",{className:"ml-3",children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[ie.name,ie.isDefault&&f.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Predeterminada"})]}),f.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:[f.jsx("p",{children:ie.street}),f.jsxs("p",{children:[ie.city,", ",ie.state," ",ie.zipCode]}),f.jsx("p",{children:ie.country})]})]})]})},ie.id))}),f.jsx("div",{className:"mt-6",children:f.jsxs("button",{type:"button",onClick:()=>C(!S),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[f.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),p.length===0?"Agregar Dirección":"Agregar Nueva Dirección"]})}),S&&f.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[f.jsx("h3",{className:"text-md font-medium text-gray-900 mb-4",children:p.length===0?"Agregar Dirección":"Nueva Dirección"}),f.jsxs("form",{onSubmit:$,children:[f.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre de la Dirección"}),f.jsx("input",{type:"text",name:"name",id:"name",value:A.name,onChange:k,placeholder:"Ej: Casa, Trabajo",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700",children:"Calle y Número"}),f.jsx("input",{type:"text",name:"street",id:"street",value:A.street,onChange:k,placeholder:"Ej: Av. Principal 123",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"Ciudad"}),f.jsx("input",{type:"text",name:"city",id:"city",value:A.city,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"Estado/Provincia"}),f.jsx("input",{type:"text",name:"state",id:"state",value:A.state,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700",children:"Código Postal"}),f.jsx("input",{type:"text",name:"zipCode",id:"zipCode",value:A.zipCode,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"País"}),f.jsx("input",{type:"text",name:"country",id:"country",value:A.country,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),f.jsxs("div",{className:"mt-6 flex space-x-3",children:[f.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Guardar Dirección"}),f.jsx("button",{type:"button",onClick:()=>C(!1),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"})]})]})]})]})}),f.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:f.jsxs("div",{className:"px-4 py-6 sm:px-6",children:[f.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Resumen del Pedido"}),f.jsx("div",{className:"flow-root",children:f.jsx("ul",{className:"-my-6 divide-y divide-gray-200",children:t.map(ie=>f.jsxs("li",{className:"py-6 flex",children:[f.jsx("div",{className:"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden",children:f.jsx("img",{src:h(ie),alt:ie.name,className:"w-full h-full object-center object-cover",onError:G=>{G.target.onerror=null,G.target.src="https://via.placeholder.com/100x100.png?text=Moño"}})}),f.jsxs("div",{className:"ml-4 flex-1 flex flex-col",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[f.jsx("h3",{children:ie.name}),f.jsxs("p",{className:"ml-4",children:["$",parseFloat(ie.price*ie.quantity).toLocaleString("es-CO")]})]}),f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:ie.category})]}),f.jsx("div",{className:"flex-1 flex items-end justify-between text-sm",children:f.jsxs("p",{className:"text-gray-500",children:["Cantidad: ",ie.quantity]})})]})]},ie.id))})})]})})]}),f.jsx("div",{className:"mt-8 lg:mt-0 lg:col-span-4",children:f.jsxs("div",{className:"bg-gray-50 rounded-lg px-4 py-6 sm:p-6 lg:p-8",children:[f.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Resumen del Pedido"}),f.jsxs("dl",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("dt",{className:"text-sm text-gray-600",children:"Subtotal"}),f.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:["$",parseFloat(U).toLocaleString("es-CO")]})]}),i&&f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("dt",{className:"text-sm text-gray-600",children:["Descuento (",i.code,")"]}),f.jsxs("dd",{className:"text-sm font-medium text-green-600",children:["-$",parseFloat(R).toLocaleString("es-CO")]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("dt",{className:"text-sm text-gray-600",children:"Envío"}),f.jsx("dd",{className:"text-sm font-medium text-gray-900",children:"$0"})]}),f.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6",children:[f.jsx("dt",{className:"text-base font-medium text-gray-900",children:"Total"}),f.jsxs("dd",{className:"text-base font-medium text-gray-900",children:["$",parseFloat(I).toLocaleString("es-CO")]})]})]}),x&&f.jsxs("div",{className:"mt-8 p-4 bg-white rounded-lg border border-gray-200",children:[f.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Dirección de Envío"}),f.jsxs("div",{className:"text-sm text-gray-500",children:[f.jsx("p",{className:"font-medium",children:x.name}),f.jsx("p",{children:x.street}),f.jsxs("p",{children:[x.city,", ",x.state," ",x.zipCode]}),f.jsx("p",{children:x.country})]})]}),f.jsxs("div",{className:"mt-8",children:[f.jsx("h3",{className:"text-md font-medium text-gray-900 mb-4",children:"Método de Pago"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"w-full",children:x?f.jsx(J_,{style:{layout:"vertical"},createOrder:(ie,G)=>{const W=d(I);return G.order.create({purchase_units:[{amount:{value:W.toFixed(2),currency_code:"USD"}}]})},onApprove:F,onError:B}):f.jsxs("button",{disabled:!0,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white opacity-50 cursor-not-allowed",children:[f.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 38 24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{fill:"#253b80",d:"M35.71 15.39c.27-.4.4-.87.36-1.35-.04-.48-.24-.93-.57-1.28-.33-.35-.76-.55-1.22-.56-.46 0-.89.19-1.22.53-.33.34-.52.8-.54 1.28-.02.48.12.94.4 1.33.28.39.68.67 1.14.8.46.13.95.1 1.4-.08.45-.18.84-.49 1.12-.89z"}),f.jsx("path",{fill:"#179bd7",d:"M13.34 15.96c.34-.46.52-1.02.51-1.59-.01-.57-.22-1.12-.59-1.54-.37-.42-.87-.67-1.41-.71-.54-.04-1.08.13-1.51.46-.43.33-.73.81-.85 1.35-.12.54-.07 1.11.14 1.62.21.51.57.94 1.03 1.23.46.29.99.42 1.53.37.54-.05 1.05-.27 1.47-.63z"}),f.jsx("path",{fill:"#253b80",d:"M22.72 16.11c.41-.36.67-.87.72-1.41.05-.54-.09-1.08-.31-1.55-.28-.42-.72-.81-1.23-.96-.51-.15-1-.08-1.46.09-.46.17-.85.49-1.11.89-.27.4-.37.93-.32 1.44.03.51.21.99.51 1.4.3.41.74.72 1.23.88.49.16 1.01.17 1.51.06.5-.12.94-.4 1.26-.78z"}),f.jsx("path",{fill:"#179bd7",d:"M30.21 16.26c.45-.31.75-.8.83-1.34.08-.54-.03-1.09-.31-1.55-.28-.42-.72-.81-1.23-.96-.51-.15-1-.08-1.46.09-.46.17-.85.49-1.11.89-.26.4-.37.88-.32 1.37.05.49.27.95.61 1.31.34.36.79.6 1.28.68.49.08 1-.01 1.44-.24z"}),f.jsx("path",{fill:"#253b80",d:"M5.39 16.39c.47-.23.81-.66.93-1.16.12-.5.03-1.03-.25-1.45-.28-.42-.71-.71-1.2-.82-.49-.11-1-.08-1.46.09-.46.17-.85.49-1.11.89-.26.4-.37.88-.32 1.37.05.49.27.95.61 1.31.34.36.79.6 1.28.68.49.08 1-.01 1.44-.24z"})]}),"Pagar con PayPal"]})}),f.jsxs("button",{onClick:ve,disabled:L||!x,className:`w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${L||!x?"opacity-50 cursor-not-allowed":""}`,children:[L?f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx("svg",{className:"mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pagar Contra Entrega"]})]})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("button",{onClick:()=>l("/cart"),className:"text-indigo-600 hover:text-indigo-500",children:"← Volver al Carrito"})})]})})]})]})})},HX=()=>{const{currentUser:t,userRole:e,refreshUserData:n}=Hi(),r=qi(),[i,a]=_.useState({displayName:"",email:"",phone:"",profileImage:""}),[l,u]=_.useState({currentPassword:"",newPassword:"",confirmNewPassword:""}),[d,h]=_.useState([]),[p,g]=_.useState({id:Date.now(),name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1}),[x,b]=_.useState(null),[A,E]=_.useState({id:null,name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1}),[S,C]=_.useState("profile"),[j,N]=_.useState(!0),[L,M]=_.useState(!1),[U,R]=_.useState(!1),[I,k]=_.useState(!1);_.useEffect(()=>{(async()=>{if(!t){r("/login");return}try{const he=xt(Re,"users",t.uid),xe=await ga(he);if(xe.exists()){const we=xe.data();a({displayName:we.displayName||t.displayName||"",email:t.email,phone:we.phone||"",profileImage:we.profileImage||t.photoURL||""}),h(we.addresses||[])}else a({displayName:t.displayName||"",email:t.email,phone:"",profileImage:t.photoURL||""}),h([])}catch(he){console.error("Error loading profile:",he),Ie.fire({title:"Error",text:"Error al cargar el perfil",icon:"error",confirmButtonText:"Aceptar"})}finally{N(!1)}})()},[t,r]);const $=oe=>{const{name:he,value:xe}=oe.target;a(we=>({...we,[he]:xe}))},V=oe=>{const{name:he,value:xe}=oe.target;u(we=>({...we,[he]:xe}))},F=oe=>{const{name:he,value:xe}=oe.target;g(we=>({...we,[he]:xe}))},B=oe=>{const{name:he,value:xe}=oe.target;E(we=>({...we,[he]:xe}))},ve=oe=>{const he=oe.target.files[0];if(he){if(he.size>2*1024*1024){Ie.fire({title:"Archivo muy grande",text:"La imagen debe ser menor a 2MB",icon:"warning",confirmButtonText:"Aceptar"});return}if(!he.type.match("image.*")){Ie.fire({title:"Tipo de archivo inválido",text:"Por favor selecciona una imagen",icon:"warning",confirmButtonText:"Aceptar"});return}const xe=new FileReader;xe.onload=we=>{a(We=>({...We,profileImage:we.target.result}))},xe.readAsDataURL(he)}},ie=async oe=>{oe.preventDefault(),M(!0);try{const he=xt(Re,"users",t.uid),xe=await ga(he);let we={...i,updatedAt:new Date};if(xe.exists()){const We=xe.data();We.hasOwnProperty("role")&&(we.role=We.role),We.hasOwnProperty("createdAt")&&(we.createdAt=We.createdAt),We.hasOwnProperty("addresses")&&(we.addresses=We.addresses)}else we.role="customer",we.createdAt=new Date,we.addresses=[];await cl(he,we),console.log("Profile saved, refreshing user data"),n(),Ie.fire({title:"Perfil actualizado",text:"Tu perfil se ha actualizado correctamente",icon:"success",confirmButtonText:"Aceptar"})}catch(he){console.error("Error saving profile:",he),Ie.fire({title:"Error",text:"Error al guardar el perfil: "+he.message,icon:"error",confirmButtonText:"Aceptar"})}finally{M(!1)}},G=async oe=>{if(oe.preventDefault(),R(!0),l.newPassword!==l.confirmNewPassword){Ie.fire({title:"Error",text:"Las contraseñas nuevas no coinciden",icon:"error",confirmButtonText:"Aceptar"}),R(!1);return}if(l.newPassword.length<6){Ie.fire({title:"Error",text:"La nueva contraseña debe tener al menos 6 caracteres",icon:"error",confirmButtonText:"Aceptar"}),R(!1);return}try{const he=kc.credential(t.email,l.currentPassword);await y$(t,he),await w$(t,l.newPassword),Ie.fire({title:"Contraseña actualizada",text:"Tu contraseña se ha actualizado correctamente",icon:"success",confirmButtonText:"Aceptar"}),u({currentPassword:"",newPassword:"",confirmNewPassword:""})}catch(he){console.error("Error changing password:",he);let xe="Error al cambiar la contraseña";switch(he.code){case"auth/wrong-password":xe="La contraseña actual es incorrecta";break;case"auth/too-many-requests":xe="Demasiados intentos. Por favor, inténtalo más tarde";break;default:xe="Error al cambiar la contraseña: "+he.message}Ie.fire({title:"Error",text:xe,icon:"error",confirmButtonText:"Aceptar"})}finally{R(!1)}},W=async oe=>{if(oe.preventDefault(),k(!0),!p.name||!p.street||!p.city||!p.state||!p.zipCode||!p.country){Ie.fire({title:"Error",text:"Por favor completa todos los campos de la dirección",icon:"error",confirmButtonText:"Aceptar"}),k(!1);return}try{const he=xt(Re,"users",t.uid),xe={...p,id:Date.now()};if(d.length===0||p.isDefault){xe.isDefault=!0;const we=d.map(We=>({...We,isDefault:!1}));h([...we,xe])}else h([...d,xe]);await sa(he,{addresses:nP(xe)}),Ie.fire({title:"Dirección agregada",text:"La dirección se ha agregado correctamente",icon:"success",confirmButtonText:"Aceptar"}),g({id:Date.now(),name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1})}catch(he){console.error("Error adding address:",he),Ie.fire({title:"Error",text:"Error al agregar la dirección: "+he.message,icon:"error",confirmButtonText:"Aceptar"})}finally{k(!1)}},ae=oe=>{b(oe.id),E({...oe})},ye=()=>{b(null),E({id:null,name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1})},H=async oe=>{if(oe.preventDefault(),k(!0),!A.name||!A.street||!A.city||!A.state||!A.zipCode||!A.country){Ie.fire({title:"Error",text:"Por favor completa todos los campos de la dirección",icon:"error",confirmButtonText:"Aceptar"}),k(!1);return}try{const he=xt(Re,"users",t.uid),xe=d.find(We=>We.id===A.id);xe&&await sa(he,{addresses:rP(xe)});const we={...A};await sa(he,{addresses:nP(we)}),h(d.map(We=>We.id===A.id?we:We)),Ie.fire({title:"Dirección actualizada",text:"La dirección se ha actualizado correctamente",icon:"success",confirmButtonText:"Aceptar"}),b(null),E({id:null,name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1})}catch(he){console.error("Error updating address:",he),Ie.fire({title:"Error",text:"Error al actualizar la dirección: "+he.message,icon:"error",confirmButtonText:"Aceptar"})}finally{k(!1)}},le=async oe=>{Ie.fire({title:"¿Estás seguro?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async he=>{if(he.isConfirmed)try{const xe=xt(Re,"users",t.uid),we=d.find(We=>We.id===oe);we&&(await sa(xe,{addresses:rP(we)}),h(d.filter(We=>We.id!==oe)),Ie.fire({title:"Dirección eliminada",text:"La dirección se ha eliminado correctamente",icon:"success",confirmButtonText:"Aceptar"}))}catch(xe){console.error("Error deleting address:",xe),Ie.fire({title:"Error",text:"Error al eliminar la dirección: "+xe.message,icon:"error",confirmButtonText:"Aceptar"})}})},ue=async oe=>{try{const he=xt(Re,"users",t.uid),xe=d.map(we=>({...we,isDefault:we.id===oe}));h(xe),await sa(he,{addresses:xe}),Ie.fire({title:"Dirección predeterminada",text:"La dirección se ha establecido como predeterminada",icon:"success",confirmButtonText:"Aceptar"})}catch(he){console.error("Error setting default address:",he),Ie.fire({title:"Error",text:"Error al establecer la dirección predeterminada: "+he.message,icon:"error",confirmButtonText:"Aceptar"})}};return j?f.jsx("div",{children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})})}):f.jsx("div",{children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsxs("div",{className:"max-w-5xl mx-auto",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Mi Perfil"}),f.jsx("div",{className:"border-b border-gray-200 mb-8",children:f.jsxs("nav",{className:"-mb-px flex space-x-8",children:[f.jsx("button",{onClick:()=>C("profile"),className:`py-4 px-1 border-b-2 font-medium text-sm ${S==="profile"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Perfil"}),f.jsx("button",{onClick:()=>C("security"),className:`py-4 px-1 border-b-2 font-medium text-sm ${S==="security"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Seguridad"}),f.jsx("button",{onClick:()=>C("addresses"),className:`py-4 px-1 border-b-2 font-medium text-sm ${S==="addresses"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Direcciones"})]})}),S==="profile"&&f.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:f.jsx("div",{className:"px-6 py-8",children:f.jsxs("form",{onSubmit:ie,children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Foto de Perfil"}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0",children:i.profileImage?f.jsx("img",{src:i.profileImage,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-gray-300"}):f.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 border-2 border-gray-300 flex items-center justify-center",children:f.jsx("span",{className:"text-gray-500 text-3xl font-bold",children:i.displayName?.charAt(0)||i.email?.charAt(0)||"U"})})}),f.jsxs("div",{className:"ml-6",children:[f.jsxs("label",{className:"block",children:[f.jsx("span",{className:"px-4 py-2 bg-white border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 cursor-pointer",children:"Cambiar foto"}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:ve})]}),f.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"JPG, GIF o PNG. Tamaño máximo 2MB"})]})]})]}),f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información Personal"}),f.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Nombre Completo"}),f.jsx("input",{type:"text",name:"displayName",id:"displayName",value:i.displayName,onChange:$,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo Electrónico"}),f.jsx("input",{type:"email",name:"email",id:"email",value:i.email,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 bg-gray-100"}),f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"El correo no puede ser modificado"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Teléfono"}),f.jsx("input",{type:"tel",name:"phone",id:"phone",value:i.phone,onChange:$,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Rol"}),f.jsx("input",{type:"text",name:"role",id:"role",value:e||"customer",disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 bg-gray-100"}),f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"El rol no puede ser modificado"})]})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"submit",disabled:L,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:L?"Guardando...":"Guardar Cambios"})})]})})}),S==="security"&&f.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:f.jsxs("div",{className:"px-6 py-8",children:[f.jsxs("form",{onSubmit:G,children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cambiar Contraseña"}),f.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:f.jsxs("div",{children:[f.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Contraseña Actual"}),f.jsx("input",{type:"password",name:"currentPassword",id:"currentPassword",value:l.currentPassword,onChange:V,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})}),f.jsxs("div",{className:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"Nueva Contraseña"}),f.jsx("input",{type:"password",name:"newPassword",id:"newPassword",value:l.newPassword,onChange:V,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirmNewPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmar Nueva Contraseña"}),f.jsx("input",{type:"password",name:"confirmNewPassword",id:"confirmNewPassword",value:l.confirmNewPassword,onChange:V,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"submit",disabled:U,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:U?"Guardando...":"Cambiar Contraseña"})})]}),f.jsxs("div",{className:"mt-12",children:[f.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Dispositivos Activos"}),f.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:f.jsx("svg",{className:"h-6 w-6 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Este dispositivo"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Última actividad: Ahora mismo"})]}),f.jsx("div",{className:"ml-auto",children:f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Activo"})})]})}),f.jsx("div",{className:"mt-4 text-sm text-gray-500",children:f.jsx("p",{children:"Para seguridad adicional, si ves un dispositivo que no reconoces, cierra la sesión en todos los dispositivos y cambia tu contraseña."})})]})]})}),S==="addresses"&&f.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:f.jsxs("div",{className:"px-6 py-8",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:x?"Editar Dirección":"Agregar Nueva Dirección"}),f.jsxs("form",{onSubmit:x?H:W,children:[f.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"addressName",className:"block text-sm font-medium text-gray-700",children:"Nombre de la Dirección"}),f.jsx("input",{type:"text",name:"name",id:"addressName",value:x?A.name:p.name,onChange:x?B:F,placeholder:"Ej: Casa, Trabajo",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"addressStreet",className:"block text-sm font-medium text-gray-700",children:"Calle y Número"}),f.jsx("input",{type:"text",name:"street",id:"addressStreet",value:x?A.street:p.street,onChange:x?B:F,placeholder:"Ej: Av. Principal 123",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"addressCity",className:"block text-sm font-medium text-gray-700",children:"Ciudad"}),f.jsx("input",{type:"text",name:"city",id:"addressCity",value:x?A.city:p.city,onChange:x?B:F,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"addressState",className:"block text-sm font-medium text-gray-700",children:"Estado/Provincia"}),f.jsx("input",{type:"text",name:"state",id:"addressState",value:x?A.state:p.state,onChange:x?B:F,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"addressZipCode",className:"block text-sm font-medium text-gray-700",children:"Código Postal"}),f.jsx("input",{type:"text",name:"zipCode",id:"addressZipCode",value:x?A.zipCode:p.zipCode,onChange:x?B:F,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"addressCountry",className:"block text-sm font-medium text-gray-700",children:"País"}),f.jsx("input",{type:"text",name:"country",id:"addressCountry",value:x?A.country:p.country,onChange:x?B:F,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"addressIsDefault",name:"isDefault",type:"checkbox",checked:x?A.isDefault:p.isDefault,onChange:oe=>x?E(he=>({...he,isDefault:oe.target.checked})):g(he=>({...he,isDefault:oe.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),f.jsx("label",{htmlFor:"addressIsDefault",className:"ml-2 block text-sm text-gray-900",children:"Establecer como dirección predeterminada"})]})]}),f.jsxs("div",{className:"mt-6 flex space-x-3",children:[f.jsx("button",{type:"submit",disabled:I,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:I?"Guardando...":x?"Guardar Cambios":"Agregar Dirección"}),x&&f.jsx("button",{type:"button",onClick:ye,className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"})]})]})]}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Direcciones Guardadas"}),d.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsxs("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),f.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay direcciones"}),f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Agrega tu primera dirección usando el formulario de arriba."})]}):f.jsx("div",{className:"space-y-4",children:d.map(oe=>f.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-900",children:oe.name}),f.jsx("p",{className:"text-sm text-gray-500",children:oe.street}),f.jsxs("p",{className:"text-sm text-gray-500",children:[oe.city,", ",oe.state," ",oe.zipCode]}),f.jsx("p",{className:"text-sm text-gray-500",children:oe.country}),oe.isDefault&&f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 mt-2",children:"Predeterminada"})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>ae(oe),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200",children:"Editar"}),f.jsx("button",{onClick:()=>ue(oe.id),disabled:oe.isDefault,className:`inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 ${oe.isDefault?"bg-gray-100":"bg-indigo-100 hover:bg-indigo-200"}`,children:oe.isDefault?"Predeterminada":"Hacer Predeterminada"}),f.jsx("button",{onClick:()=>le(oe.id),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200",children:"Eliminar"})]})]})},oe.id))})]})]})})]})})})},KX=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[i,a]=_.useState(""),[l,u]=_.useState(!1),d=qi(),{currentUser:h}=Hi();li.useEffect(()=>{h&&d("/home")},[h,d]);const p=async()=>{a(""),u(!0);try{const x=new Ma,A=(await G4(fa,x)).user,E=xt(Re,"users",A.uid);(await ga(E)).exists()||(await cl(E,{email:A.email,displayName:A.displayName||"",profileImage:A.photoURL||"",createdAt:new Date,role:"customer"}),console.log("User info stored successfully for Google user")),d("/home")}catch(x){console.error("Google sign-in error:",x),a("Error al iniciar sesión con Google. Por favor, inténtalo de nuevo.")}finally{u(!1)}},g=async x=>{x.preventDefault(),a(""),u(!0);try{await b$(fa,t,n),d("/home")}catch(b){switch(b.code){case"auth/user-not-found":a("No se encontró una cuenta con ese correo electrónico.");break;case"auth/wrong-password":a("Contraseña incorrecta.");break;case"auth/invalid-email":a("El correo electrónico no es válido.");break;case"auth/user-disabled":a("Esta cuenta ha sido deshabilitada.");break;default:a("Error al iniciar sesión. Por favor, verifica tus credenciales.")}}finally{u(!1)}};return f.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 py-12 bg-white sm:px-6 lg:px-8",children:f.jsxs("div",{className:"w-full max-w-md space-y-8",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-full",children:f.jsx("svg",{className:"w-6 h-6 text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Login"}),f.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"See your growth and get consulting support!"})]}),i&&f.jsx("div",{className:"relative px-4 py-3 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:f.jsx("span",{className:"block sm:inline",children:i})}),f.jsx("div",{children:f.jsxs("button",{onClick:p,disabled:l,className:"flex items-center justify-center w-full gap-3 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),f.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),f.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),f.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),f.jsx("span",{children:"Sign in with Google"})]})}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-gray-300"})}),f.jsx("div",{className:"relative flex justify-center text-sm",children:f.jsx("span",{className:"px-2 text-gray-500 bg-white",children:"or Sign in with Email"})})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email*"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"mail@website.com",value:t,onChange:x=>e(x.target.value),disabled:l})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password*"}),f.jsx("div",{className:"text-sm",children:f.jsx(Ge,{to:"/reset-password",className:"font-medium text-purple-600 hover:text-purple-500",children:"Forgot password?"})})]}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Min. 8 character",value:n,onChange:x=>r(x.target.value),disabled:l})})]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),f.jsx("label",{htmlFor:"remember-me",className:"block ml-2 text-sm text-gray-700",children:"Remember me"})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:l,className:"relative flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-purple-600 border border-transparent rounded-full group hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:l?"Logging in...":"Login"})})]}),f.jsx("div",{className:"text-center",children:f.jsxs("p",{className:"text-sm text-gray-500",children:["Not registered yet?"," ",f.jsx(Ge,{to:"/register",className:"font-medium text-purple-600 hover:text-purple-500",children:"Create an Account"})]})}),f.jsx("div",{className:"mt-8 text-center",children:f.jsx("p",{className:"text-xs text-gray-500",children:"©2020 Felix All rights reserved."})})]})})},GX=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[i,a]=_.useState(""),[l,u]=_.useState(""),[d,h]=_.useState(""),[p,g]=_.useState(!1),x=qi(),{firebaseError:b}=Hi(),A=async()=>{u(""),h(""),g(!0);try{const S=new Ma,j=(await G4(fa,S)).user,N=xt(Re,"users",j.uid);(await ga(N)).exists()||(await cl(N,{email:j.email,displayName:j.displayName||"",profileImage:j.photoURL||"",createdAt:new Date,role:"customer"}),console.log("User info stored successfully for Google user")),x("/home")}catch(S){console.error("Google sign-up error:",S),u("Error al registrarse con Google. Por favor, inténtalo de nuevo.")}finally{g(!1)}},E=async S=>{if(S.preventDefault(),u(""),h(""),b){u(b);return}if(!fa||!Re){u("Firebase no está configurado correctamente. Por favor, verifica tu archivo .env");return}if(n!==i){u("Las contraseñas no coinciden");return}if(n.length<6){u("La contraseña debe tener al menos 6 caracteres");return}g(!0);try{console.log("Attempting to create user with email:",t);const j=(await x$(fa,t,n)).user;console.log("User created successfully:",j),console.log("Storing user info in Firestore..."),await cl(xt(Re,"users",j.uid),{email:j.email,displayName:"",profileImage:"",createdAt:new Date,role:"customer"}),console.log("User info stored successfully"),h("Cuenta creada exitosamente. Redirigiendo..."),setTimeout(()=>{x("/home")},2e3)}catch(C){switch(console.error("Registration error:",C),console.error("Error code:",C.code),console.error("Error message:",C.message),C.code){case"auth/email-already-in-use":u("Este correo electrónico ya está registrado.");break;case"auth/invalid-email":u("El correo electrónico no es válido.");break;case"auth/operation-not-allowed":u("El registro de usuarios está deshabilitado. Por favor, habilita la autenticación en la consola de Firebase.");break;case"auth/weak-password":u("La contraseña es muy débil.");break;default:u(`Error al crear la cuenta: ${C.message}`)}}finally{g(!1)}};return f.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 py-12 bg-white sm:px-6 lg:px-8",children:f.jsxs("div",{className:"w-full max-w-md space-y-8",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-full",children:f.jsx("svg",{className:"w-6 h-6 text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Register"}),f.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Create an account to get started!"})]}),b&&f.jsxs("div",{className:"relative px-4 py-3 text-yellow-700 bg-yellow-100 border border-yellow-400 rounded",role:"alert",children:[f.jsx("strong",{className:"font-bold",children:"Configuración incompleta! "}),f.jsx("span",{className:"block sm:inline",children:b})]}),l&&f.jsx("div",{className:"relative px-4 py-3 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:f.jsx("span",{className:"block sm:inline",children:l})}),d&&f.jsx("div",{className:"relative px-4 py-3 text-green-700 bg-green-100 border border-green-400 rounded",role:"alert",children:f.jsx("span",{className:"block sm:inline",children:d})}),f.jsx("div",{children:f.jsxs("button",{onClick:A,disabled:p||b,className:"flex items-center justify-center w-full gap-3 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),f.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),f.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),f.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),f.jsx("span",{children:"Sign up with Google"})]})}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-gray-300"})}),f.jsx("div",{className:"relative flex justify-center text-sm",children:f.jsx("span",{className:"px-2 text-gray-500 bg-white",children:"or Sign up with Email"})})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:E,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email*"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"mail@website.com",value:t,onChange:S=>e(S.target.value),disabled:b||p})})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password*"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Min. 8 character",value:n,onChange:S=>r(S.target.value),disabled:b||p})})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm Password*"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Confirm your password",value:i,onChange:S=>a(S.target.value),disabled:b||p})})]})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:p||b,className:"relative flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-purple-600 border border-transparent rounded-full group hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:p?"Creating Account...":"Create Account"})})]}),f.jsx("div",{className:"text-center",children:f.jsxs("p",{className:"text-sm text-gray-500",children:["Already have an account?"," ",f.jsx(Ge,{to:"/login",className:"font-medium text-purple-600 hover:text-purple-500",children:"Sign in"})]})}),f.jsx("div",{className:"mt-8 text-center",children:f.jsx("p",{className:"text-xs text-gray-500",children:"©2020 Felix All rights reserved."})})]})})},WX=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[i,a]=_.useState(""),[l,u]=_.useState(!1);qi();const d=async h=>{h.preventDefault(),a(""),r(""),u(!0);try{await v$(fa,t),r("Se ha enviado un correo para restablecer tu contraseña. Revisa tu bandeja de entrada.")}catch(p){switch(p.code){case"auth/user-not-found":a("No se encontró una cuenta con ese correo electrónico.");break;case"auth/invalid-email":a("El correo electrónico no es válido.");break;default:a("Error al enviar el correo de restablecimiento. Por favor, inténtalo de nuevo.")}}finally{u(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white py-12 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs("div",{children:[f.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center",children:f.jsx("svg",{className:"h-6 w-6 text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),f.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Restablecer Contraseña"}),f.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Ingresa tu correo electrónico y te enviaremos un enlace para restablecer tu contraseña."})]}),n&&f.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:f.jsx("span",{className:"block sm:inline",children:n})}),i&&f.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:f.jsx("span",{className:"block sm:inline",children:i})}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700",children:"Correo Electrónico"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"mail@website.com",value:t,onChange:h=>e(h.target.value),disabled:l})})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-full text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:l?"Enviando...":"Enviar Enlace de Restablecimiento"})})]}),f.jsx("div",{className:"text-center",children:f.jsx(Ge,{to:"/login",className:"font-medium text-purple-600 hover:text-purple-500",children:"← Volver al inicio de sesión"})}),f.jsx("div",{className:"mt-8 text-center",children:f.jsx("p",{className:"text-xs text-gray-500",children:"©2020 Felix All rights reserved."})})]})})},CP=async()=>{try{const t=jt(Re,"users");return(await Ht(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Error fetching users:",t),t}},YX=async(t,e)=>{try{const n=xt(Re,"users",t);return await sa(n,{role:e}),{id:t,role:e}}catch(n){throw console.error("Error updating user role:",n),n}},Pb=t=>{switch(t){case"pending":return"Pendiente";case"processing":return"Procesando";case"shipped":return"Enviado";case"delivered":return"Entregado";case"cancelled":return"Cancelado";default:return t}},NP=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},XX=async t=>{try{const e=jt(Re,"orders"),n=pa(e,Ks("userId","==",t),yl("createdAt","desc"));return(await Ht(n)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){if(console.error("Error fetching orders:",e),e.code==="failed-precondition"||e.message&&e.message.includes("index"))try{const n=jt(Re,"orders"),r=pa(n,Ks("userId","==",t));return(await Ht(r)).docs.map(u=>({id:u.id,...u.data()})).sort((u,d)=>{const h=u.createdAt?.toDate?u.createdAt.toDate():new Date(u.createdAt);return(d.createdAt?.toDate?d.createdAt.toDate():new Date(d.createdAt))-h})}catch(n){throw console.error("Error fetching orders without index:",n),n}else throw e}},QX=async(t,e)=>{try{const n=xt(Re,"orders",t);return await sa(n,{orderStatus:e,updatedAt:new Date}),{id:t,status:e}}catch(n){throw console.error("Error updating order status:",n),n}},ZX=async()=>{try{const t=jt(Re,"orders"),e=pa(t,yl("createdAt","desc"));return(await Ht(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){if(console.error("Error fetching all orders:",t),t.code==="failed-precondition"||t.message&&t.message.includes("index"))try{const e=jt(Re,"orders");return(await Ht(e)).docs.map(a=>({id:a.id,...a.data()})).sort((a,l)=>{const u=a.createdAt?.toDate?a.createdAt.toDate():new Date(a.createdAt);return(l.createdAt?.toDate?l.createdAt.toDate():new Date(l.createdAt))-u})}catch(e){throw console.error("Error fetching all orders without index:",e),e}else throw t}},JX=async(t,e)=>{try{const n=jt(Re,"orders"),r=pa(n,Ks("createdAt",">=",t),Ks("createdAt","<=",e),yl("createdAt","desc")),a=(await Ht(r)).docs.map(p=>({id:p.id,...p.data()})),l={};let u=0,d=0;return a.forEach(p=>{const g=p.createdAt.toDate().toISOString().split("T")[0];l[g]||(l[g]={date:g,totalSales:0,orderCount:0,revenue:0});const x=p.totalAmount||0;l[g].totalSales+=x,l[g].orderCount+=1,l[g].revenue+=x,u+=x,d+=1}),{salesData:Object.values(l).sort((p,g)=>new Date(p.date)-new Date(g.date)),totalRevenue:u,totalOrders:d,averageOrderValue:d>0?u/d:0}}catch(n){throw console.error("Error fetching sales data:",n),n}},eQ=async()=>{try{const t=jt(Re,"products"),n=(await Ht(t)).docs.map(h=>({id:h.id,...h.data()})),r=jt(Re,"orders"),a=(await Ht(r)).docs.map(h=>({id:h.id,...h.data()})),l={};n.forEach(h=>{l[h.id]=h.category||"Sin categoría"});const u={};return a.forEach(h=>{h.items&&Array.isArray(h.items)&&h.items.forEach(p=>{const g=l[p.productId]||"Sin categoría";u[g]||(u[g]={category:g,sales:0,quantity:0,revenue:0});const x=(p.price||0)*(p.quantity||0);u[g].sales+=x,u[g].quantity+=p.quantity||0,u[g].revenue+=x})}),Object.values(u).sort((h,p)=>p.revenue-h.revenue)}catch(t){throw console.error("Error fetching sales by category:",t),t}},tQ=async()=>{try{const t=jt(Re,"orders"),n=(await Ht(t)).docs.map(a=>({id:a.id,...a.data()})),r={pending:0,processing:0,shipped:0,delivered:0,cancelled:0};return n.forEach(a=>{const l=a.orderStatus||"pending";l in r&&r[l]++}),Object.entries(r).map(([a,l])=>({status:a,count:l}))}catch(t){throw console.error("Error fetching order status distribution:",t),t}},nQ=async(t=10)=>{try{const e=jt(Re,"products"),r=(await Ht(e)).docs.map(p=>({id:p.id,...p.data()})),i=jt(Re,"orders"),l=(await Ht(i)).docs.map(p=>({id:p.id,...p.data()})),u={};r.forEach(p=>{u[p.id]=p.name||"Producto sin nombre"});const d={};return l.forEach(p=>{p.items&&Array.isArray(p.items)&&p.items.forEach(g=>{const x=g.productId;d[x]||(d[x]={productId:x,productName:u[x]||"Producto desconocido",sales:0,quantity:0,revenue:0});const b=(g.price||0)*(g.quantity||0);d[x].sales+=b,d[x].quantity+=g.quantity||0,d[x].revenue+=b})}),Object.values(d).sort((p,g)=>g.revenue-p.revenue).slice(0,t)}catch(e){throw console.error("Error fetching top selling products:",e),e}},rQ=async(t,e)=>{try{const n=jt(Re,"users"),r=pa(n,Ks("createdAt",">=",t),Ks("createdAt","<=",e),yl("createdAt","desc")),a=(await Ht(r)).docs.map(h=>({id:h.id,...h.data()})),l={};let u=0;return a.forEach(h=>{const p=h.createdAt.toDate().toISOString().split("T")[0];l[p]||(l[p]={date:p,registrations:0}),l[p].registrations+=1,u+=1}),{registrationData:Object.values(l).sort((h,p)=>new Date(h.date)-new Date(p.date)),totalUsers:u}}catch(n){throw console.error("Error fetching user registration data:",n),n}},iQ=async()=>{try{const t=jt(Re,"orders"),n=(await Ht(t)).docs.map(a=>({id:a.id,...a.data()})),r={};return n.forEach(a=>{const l=a.paymentMethod||"Desconocido",u=a.totalAmount||0;r[l]||(r[l]={method:l,revenue:0,count:0}),r[l].revenue+=u,r[l].count+=1}),Object.values(r)}catch(t){throw console.error("Error fetching revenue by payment method:",t),t}},aQ=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,a]=_.useState(null),[l,u]=_.useState(""),[d,h]=_.useState({code:"",discountType:"percentage",discountValue:"",isActive:!0,expiryDate:""}),[p,g]=_.useState(null),x=jt(Re,"coupons"),b=async()=>{try{const U=pa(x,yl("createdAt","desc")),R=await Ht(U);e(R.docs.map(I=>({...I.data(),id:I.id})))}catch(U){console.error("Firebase error fetching coupons: ",U),a("No se pudieron cargar los cupones. Revisa las reglas de seguridad de Firebase y la consola del navegador.")}r(!1)};_.useEffect(()=>{b()},[]);const A=U=>{u(U),setTimeout(()=>u(""),3e3)},E=U=>{const{name:R,value:I,type:k,checked:$}=U.target;h({...d,[R]:k==="checkbox"?$:I})},S=U=>{const{name:R,value:I,type:k,checked:$}=U.target;g({...p,[R]:k==="checkbox"?$:I})},C=async U=>{if(U.preventDefault(),!d.code||!d.discountValue){a("Por favor, completa todos los campos obligatorios.");return}if(d.discountType==="percentage"&&(d.discountValue<1||d.discountValue>100)){a("El porcentaje de descuento debe estar entre 1 y 100.");return}try{const R={code:d.code.toUpperCase(),discountType:d.discountType,discountValue:parseFloat(d.discountValue),isActive:d.isActive,createdAt:new Date,...d.expiryDate&&{expiryDate:new Date(d.expiryDate)}};await xv(x,R),h({code:"",discountType:"percentage",discountValue:"",isActive:!0,expiryDate:""}),a(null),A("Cupón creado exitosamente!"),b()}catch(R){console.error("Firebase error creating coupon: ",R),a("Error al crear el cupón. ¿Tienes permisos de escritura?")}},j=async(U,R)=>{if(window.confirm(`¿Estás seguro de que quieres eliminar el cupón "${R}"?`))try{const k=xt(Re,"coupons",U);await L_(k),e(t.filter($=>$.id!==U)),A("Cupón eliminado exitosamente!")}catch(k){console.error("Firebase error deleting coupon: ",k),a("Error al eliminar el cupón. ¿Tienes permisos de escritura?")}},N=async U=>{if(U.preventDefault(),!p.code||!p.discountValue){a("Por favor, completa todos los campos obligatorios.");return}if(p.discountType==="percentage"&&(p.discountValue<1||p.discountValue>100)){a("El porcentaje de descuento debe estar entre 1 y 100.");return}try{const R=xt(Re,"coupons",p.id),I={code:p.code.toUpperCase(),discountType:p.discountType,discountValue:parseFloat(p.discountValue),isActive:p.isActive,updatedAt:new Date,...p.expiryDate&&{expiryDate:new Date(p.expiryDate)}};await sa(R,I),g(null),a(null),A("Cupón actualizado exitosamente!"),b()}catch(R){console.error("Firebase error updating coupon: ",R),a("Error al actualizar el cupón. ¿Tienes permisos de escritura?")}},L=U=>U?U instanceof Date?U.toLocaleDateString("es-CO"):U.toDate?U.toDate().toLocaleDateString("es-CO"):"N/A":"N/A",M=U=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(U||0);return f.jsxs("div",{className:"mt-8",children:[l&&f.jsxs("div",{className:"relative px-4 py-3 mb-4 text-green-700 bg-green-100 border border-green-400 rounded",role:"alert",children:[f.jsx("strong",{className:"font-bold",children:"Éxito! "}),f.jsx("span",{className:"block sm:inline",children:l})]}),i&&f.jsxs("div",{className:"relative px-4 py-3 mb-4 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:[f.jsx("strong",{className:"font-bold",children:"Error! "}),f.jsx("span",{className:"block sm:inline",children:i})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-8",children:[f.jsx("div",{className:"px-4 py-5 border-b border-gray-200 sm:px-6",children:f.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:p?"Editar Cupón":"Agregar Nuevo Cupón"})}),f.jsx("div",{className:"px-4 py-5 sm:p-6",children:f.jsxs("form",{onSubmit:p?N:C,children:[f.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700",children:"Código del Cupón *"}),f.jsx("input",{type:"text",name:"code",id:"code",required:!0,value:p?p.code:d.code,onChange:p?S:E,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Ej: DESCUENTO10"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"discountType",className:"block text-sm font-medium text-gray-700",children:"Tipo de Descuento *"}),f.jsxs("select",{name:"discountType",id:"discountType",required:!0,value:p?p.discountType:d.discountType,onChange:p?S:E,className:"mt-1 block w-full bg-white border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[f.jsx("option",{value:"percentage",children:"Porcentaje"}),f.jsx("option",{value:"fixed",children:"Monto Fijo"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"discountValue",className:"block text-sm font-medium text-gray-700",children:"Valor del Descuento *"}),f.jsx("input",{type:"number",name:"discountValue",id:"discountValue",required:!0,min:"0",step:"0.01",value:p?p.discountValue:d.discountValue,onChange:p?S:E,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:p?p.discountType==="percentage"?"Ej: 15":"Ej: 5000":d.discountType==="percentage"?"Ej: 15":"Ej: 5000"}),f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:p?p.discountType==="percentage"?"Porcentaje de descuento (1-100%)":"Monto fijo en COP":d.discountType==="percentage"?"Porcentaje de descuento (1-100%)":"Monto fijo en COP"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"expiryDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de Expiración"}),f.jsx("input",{type:"date",name:"expiryDate",id:"expiryDate",value:p?p.expiryDate:d.expiryDate,onChange:p?S:E,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),f.jsx("div",{className:"sm:col-span-2",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"isActive",name:"isActive",type:"checkbox",checked:p?p.isActive:d.isActive,onChange:p?S:E,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),f.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Cupón Activo"})]})})]}),f.jsx("div",{className:"mt-6 flex space-x-3",children:p?f.jsxs(f.Fragment,{children:[f.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Guardar Cambios"}),f.jsx("button",{type:"button",onClick:()=>g(null),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"})]}):f.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Crear Cupón"})})]})})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[f.jsx("div",{className:"px-4 py-5 border-b border-gray-200 sm:px-6",children:f.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Cupones Existentes"})}),f.jsx("div",{className:"px-4 py-5 sm:px-6",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Código"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Tipo"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Valor"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Estado"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Expiración"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-right text-gray-500 uppercase",children:"Acciones"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:"w-6 h-6 border-b-2 border-gray-900 rounded-full animate-spin"})})})}):i?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-red-500",children:i})}):t.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No hay cupones disponibles"})}):t.map(U=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.code})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:U.discountType==="percentage"?"Porcentaje":"Monto Fijo"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.discountType==="percentage"?`${U.discountValue}%`:M(U.discountValue)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:U.isActive?f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Activo"}):f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactivo"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.expiryDate?L(U.expiryDate):"Nunca"}),f.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-right whitespace-nowrap",children:[f.jsx("button",{onClick:()=>g(U),className:"mr-3 text-indigo-600 hover:text-indigo-900",children:"Editar"}),f.jsx("button",{onClick:()=>j(U.id,U.code),className:"text-red-600 hover:text-red-900",children:"Eliminar"})]})]},U.id))})]})})})]})]})},U6=({order:t,isOpen:e,onClose:n,formatDate:r,formatCurrency:i,getOrderStatusText:a,getStatusBadgeClass:l})=>!e||!t?null:f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto bg-black bg-opacity-50",children:f.jsx("div",{className:"relative w-full max-w-2xl mx-auto my-8 bg-white rounded-lg shadow-xl",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Detalles de la Orden"}),f.jsx("button",{onClick:n,className:"text-2xl font-bold text-gray-400 hover:text-gray-500",children:"×"})]}),f.jsxs("div",{className:"mt-2 space-y-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Información de la Orden"}),f.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"ID de Orden"}),f.jsx("p",{className:"font-medium",children:t.id})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Fecha"}),f.jsx("p",{className:"font-medium",children:r(t.createdAt)})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Estado"}),f.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l(t.orderStatus||"pending")}`,children:a(t.orderStatus||"pending")})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Método de Pago"}),f.jsx("p",{className:"font-medium",children:t.paymentMethod||"N/A"}),f.jsx("p",{className:"text-sm text-gray-500",children:t.paymentStatus==="completed"?"Pagado":"Pendiente"})]})]})})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Información del Cliente"}),f.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Nombre"}),f.jsx("p",{className:"font-medium",children:t.userEmail||"N/A"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"ID de Usuario"}),f.jsx("p",{className:"font-medium",children:t.userId?.substring(0,8)||"N/A"})]})]})})]}),t.address&&f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Dirección de Envío"}),f.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[f.jsx("p",{className:"font-medium",children:t.address.name}),f.jsx("p",{children:t.address.street}),f.jsxs("p",{children:[t.address.city,", ",t.address.state," ",t.address.zipCode]}),f.jsx("p",{children:t.address.country})]})]}),t.coupon&&f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cupón de Descuento"}),f.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Código"}),f.jsx("p",{className:"font-medium",children:t.coupon.code})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Descuento"}),f.jsx("p",{className:"font-medium",children:t.coupon.discountType==="percentage"?`${t.coupon.discountValue}%`:i(t.coupon.discountValue)})]})]})})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Productos"}),f.jsx("div",{className:"bg-gray-50 rounded-lg divide-y divide-gray-200",children:t.items?.map((u,d)=>f.jsx("div",{className:"p-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0 w-16 h-16 border border-gray-200 rounded-md overflow-hidden",children:f.jsx("img",{src:u.imageUrl||"https://via.placeholder.com/64x64.png?text=Moño",alt:u.name,className:"w-full h-full object-center object-cover",onError:h=>{h.target.onerror=null,h.target.src="https://via.placeholder.com/64x64.png?text=Moño"}})}),f.jsxs("div",{className:"ml-4 flex-1",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("h5",{className:"font-medium text-gray-900",children:u.name}),f.jsx("p",{className:"font-medium",children:i(u.price*u.quantity)})]}),f.jsx("p",{className:"text-sm text-gray-500",children:u.category}),f.jsxs("div",{className:"flex justify-between mt-1",children:[f.jsxs("p",{className:"text-sm text-gray-500",children:["Cantidad: ",u.quantity]}),f.jsxs("p",{className:"text-sm text-gray-500",children:["Precio unitario: ",i(u.price)]})]})]})]})},d))})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Resumen del Pedido"}),f.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("p",{className:"text-gray-600",children:"Subtotal"}),f.jsx("p",{className:"font-medium",children:i(t.subtotal||0)})]}),t.coupon&&f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("p",{className:"text-gray-600",children:["Descuento (",t.coupon.code,")"]}),f.jsxs("p",{className:"font-medium text-green-600",children:["-",i(t.discount||0)]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("p",{className:"text-gray-600",children:"Envío"}),f.jsx("p",{className:"font-medium",children:"$0"})]}),f.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[f.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Total"}),f.jsx("p",{className:"text-lg font-medium text-gray-900",children:i(t.totalAmount||0)})]})]})]})]}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cerrar"})})]})})});function B6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=B6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ot(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=B6(t))&&(r&&(r+=" "),r+=e);return r}var Ob={},Ib={},jP;function sQ(){return jP||(jP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Ib)),Ib}var Rb={},PP;function z6(){return PP||(PP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Rb)),Rb}var kb={},OP;function $6(){return OP||(OP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(kb)),kb}var Db={},IP;function eE(){return IP||(IP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let a=0,l="",u="",d=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const h=n[a];u?h==="\\"&&a+1<i?(a++,l+=n[a]):h===u?u="":l+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,r.push(l),l=""):l+=h:h==="["?(d=!0,l&&(r.push(l),l="")):h==="."?l&&(r.push(l),l=""):l+=h,a++}return l&&r.push(l),r}t.toPath=e})(Db)),Db}var RP;function tE(){return RP||(RP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sQ(),n=z6(),r=$6(),i=eE();function a(u,d,h){if(u==null)return h;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?n.isDeepKey(d)?a(u,i.toPath(d),h):h:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=u[d];return p===void 0?h:p}default:{if(Array.isArray(d))return l(u,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?h:p}}}function l(u,d,h){if(d.length===0)return h;let p=u;for(let g=0;g<d.length;g++){if(p==null||e.isUnsafeProperty(d[g]))return h;p=p[d[g]]}return p===void 0?h:p}t.get=a})(Ob)),Ob}var Mb,kP;function oQ(){return kP||(kP=1,Mb=tE().get),Mb}var lQ=oQ();const Ac=Qs(lQ);var Lb={exports:{}},St={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DP;function cQ(){if(DP)return St;DP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function A(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case n:case i:case r:case d:case h:case x:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case g:case p:return E;case a:return E;default:return S}}case e:return S}}}return St.ContextConsumer=a,St.ContextProvider=l,St.Element=t,St.ForwardRef=u,St.Fragment=n,St.Lazy=g,St.Memo=p,St.Portal=e,St.Profiler=i,St.StrictMode=r,St.Suspense=d,St.SuspenseList=h,St.isContextConsumer=function(E){return A(E)===a},St.isContextProvider=function(E){return A(E)===l},St.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},St.isForwardRef=function(E){return A(E)===u},St.isFragment=function(E){return A(E)===n},St.isLazy=function(E){return A(E)===g},St.isMemo=function(E){return A(E)===p},St.isPortal=function(E){return A(E)===e},St.isProfiler=function(E){return A(E)===i},St.isStrictMode=function(E){return A(E)===r},St.isSuspense=function(E){return A(E)===d},St.isSuspenseList=function(E){return A(E)===h},St.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===l||E.$$typeof===a||E.$$typeof===u||E.$$typeof===b||E.getModuleId!==void 0)},St.typeOf=A,St}var MP;function uQ(){return MP||(MP=1,Lb.exports=cQ()),Lb.exports}var dQ=uQ(),Wn=t=>t===0?0:t>0?1:-1,Hr=t=>typeof t=="number"&&t!=+t,lc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,je=t=>(typeof t=="number"||t instanceof Number)&&!Hr(t),Wa=t=>je(t)||typeof t=="string",fQ=0,Sh=t=>{var e=++fQ;return"".concat(t||"").concat(e)},vr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&typeof e!="string")return r;var a;if(lc(e)){if(n==null)return r;var l=e.indexOf("%");a=n*parseFloat(e.slice(0,l))/100}else a=+e;return Hr(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},F6=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Tt(t,e,n){return je(t)&&je(e)?t+n*(e-t):e}function q6(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Ac(r,e))===n)}var zt=t=>t===null||typeof t>"u",rm=t=>zt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),hQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function nE(t){if(typeof t!="string")return!1;var e=hQ;return e.includes(t)}var mQ=["viewBox","children"],LP=["points","pathLength"],Vb={svg:mQ,polygon:LP,polyline:LP},rE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{nE(i)&&(r[i]=(a=>n[i](n,a)))}),r},pQ=(t,e,n)=>r=>(t(e,n,r),null),im=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];nE(i)&&typeof a=="function"&&(r||(r={}),r[i]=pQ(a,e,n))}),r},gQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function H6(t){if(typeof t!="string")return!1;var e=gQ;return e.includes(t)}function Ki(t){var e=Object.entries(t).filter(n=>{var[r]=n;return H6(r)});return Object.fromEntries(e)}var VP=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",UP=null,Ub=null,K6=t=>{if(t===UP&&Array.isArray(Ub))return Ub;var e=[];return _.Children.forEach(t,n=>{zt(n)||(dQ.isFragment(n)?e=e.concat(K6(n.props.children)):e.push(n))}),Ub=e,UP=t,e};function iE(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>VP(i)):r=[VP(e)],K6(t).forEach(i=>{var a=Ac(i,"type.displayName")||Ac(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var Tv=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,yQ=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&Vb?.[r])!==null&&i!==void 0?i:[],l=e.startsWith("data-"),u=typeof t!="function"&&(!!r&&a.includes(e)||H6(e)),d=!!n&&nE(e);return l||u||d},$t=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(_.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var l;yQ((l=r)===null||l===void 0?void 0:l[a],a,e,n)&&(i[a]=r[a])}),i},vQ=["children","width","height","viewBox","className","style","title","desc"];function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U1.apply(null,arguments)}function xQ(t,e){if(t==null)return{};var n,r,i=bQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var aE=_.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:d,desc:h}=t,p=xQ(t,vQ),g=a||{width:r,height:i,x:0,y:0},x=ot("recharts-surface",l);return _.createElement("svg",U1({},$t(p,!0,"svg"),{className:x,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),_.createElement("title",null,d),_.createElement("desc",null,h),n)}),wQ=["children","className"];function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(null,arguments)}function _Q(t,e){if(t==null)return{};var n,r,i=EQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function EQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cn=_.forwardRef((t,e)=>{var{children:n,className:r}=t,i=_Q(t,wQ),a=ot("recharts-layer",r);return _.createElement("g",B1({className:a},$t(i,!0),{ref:e}),n)}),G6=_.createContext(null),AQ=()=>_.useContext(G6);function Rt(t){return function(){return t}}const W6=Math.cos,ay=Math.sin,xa=Math.sqrt,sy=Math.PI,Cv=2*sy,z1=Math.PI,$1=2*z1,nc=1e-6,SQ=$1-nc;function Y6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function TQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Y6;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class CQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Y6:TQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,d=r-e,h=i-n,p=l-e,g=u-n,x=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>nc)if(!(Math.abs(g*d-h*p)>nc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-l,A=i-u,E=d*d+h*h,S=b*b+A*A,C=Math.sqrt(E),j=Math.sqrt(x),N=a*Math.tan((z1-Math.acos((E+x-S)/(2*C*j)))/2),L=N/j,M=N/C;Math.abs(L-1)>nc&&this._append`L${e+L*p},${n+L*g}`,this._append`A${a},${a},0,0,${+(g*b>p*A)},${this._x1=e+M*d},${this._y1=n+M*h}`}}arc(e,n,r,i,a,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),h=e+u,p=n+d,g=1^l,x=l?i-a:a-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>nc||Math.abs(this._y1-p)>nc)&&this._append`L${h},${p}`,r&&(x<0&&(x=x%$1+$1),x>SQ?this._append`A${r},${r},0,1,${g},${e-u},${n-d}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:x>nc&&this._append`A${r},${r},0,${+(x>=z1)},${g},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function sE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new CQ(e)}function oE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function X6(t){this._context=t}X6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Nv(t){return new X6(t)}function Q6(t){return t[0]}function Z6(t){return t[1]}function J6(t,e){var n=Rt(!0),r=null,i=Nv,a=null,l=sE(u);t=typeof t=="function"?t:t===void 0?Q6:Rt(t),e=typeof e=="function"?e:e===void 0?Z6:Rt(e);function u(d){var h,p=(d=oE(d)).length,g,x=!1,b;for(r==null&&(a=i(b=l())),h=0;h<=p;++h)!(h<p&&n(g=d[h],h,d))===x&&((x=!x)?a.lineStart():a.lineEnd()),x&&a.point(+t(g,h,d),+e(g,h,d));if(b)return a=null,b+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Rt(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Rt(+d),u):e},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Rt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),u):r},u}function Yp(t,e,n){var r=null,i=Rt(!0),a=null,l=Nv,u=null,d=sE(h);t=typeof t=="function"?t:t===void 0?Q6:Rt(+t),e=typeof e=="function"?e:Rt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Z6:Rt(+n);function h(g){var x,b,A,E=(g=oE(g)).length,S,C=!1,j,N=new Array(E),L=new Array(E);for(a==null&&(u=l(j=d())),x=0;x<=E;++x){if(!(x<E&&i(S=g[x],x,g))===C)if(C=!C)b=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=x-1;A>=b;--A)u.point(N[A],L[A]);u.lineEnd(),u.areaEnd()}C&&(N[x]=+t(S,x,g),L[x]=+e(S,x,g),u.point(r?+r(S,x,g):N[x],n?+n(S,x,g):L[x]))}if(j)return u=null,j+""||null}function p(){return J6().defined(i).curve(l).context(a)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Rt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Rt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Rt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Rt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Rt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Rt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Rt(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,a!=null&&(u=l(a)),h):l},h.context=function(g){return arguments.length?(g==null?a=u=null:u=l(a=g),h):a},h}class eM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function NQ(t){return new eM(t,!0)}function jQ(t){return new eM(t,!1)}const lE={draw(t,e){const n=xa(e/sy);t.moveTo(n,0),t.arc(0,0,n,0,Cv)}},PQ={draw(t,e){const n=xa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},tM=xa(1/3),OQ=tM*2,IQ={draw(t,e){const n=xa(e/OQ),r=n*tM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},RQ={draw(t,e){const n=xa(e),r=-n/2;t.rect(r,r,n,n)}},kQ=.8908130915292852,nM=ay(sy/10)/ay(7*sy/10),DQ=ay(Cv/10)*nM,MQ=-W6(Cv/10)*nM,LQ={draw(t,e){const n=xa(e*kQ),r=DQ*n,i=MQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const l=Cv*a/5,u=W6(l),d=ay(l);t.lineTo(d*n,-u*n),t.lineTo(u*r-d*i,d*r+u*i)}t.closePath()}},Bb=xa(3),VQ={draw(t,e){const n=-xa(e/(Bb*3));t.moveTo(0,n*2),t.lineTo(-Bb*n,-n),t.lineTo(Bb*n,-n),t.closePath()}},Oi=-.5,Ii=xa(3)/2,F1=1/xa(12),UQ=(F1/2+1)*3,BQ={draw(t,e){const n=xa(e/UQ),r=n/2,i=n*F1,a=r,l=n*F1+n,u=-a,d=l;t.moveTo(r,i),t.lineTo(a,l),t.lineTo(u,d),t.lineTo(Oi*r-Ii*i,Ii*r+Oi*i),t.lineTo(Oi*a-Ii*l,Ii*a+Oi*l),t.lineTo(Oi*u-Ii*d,Ii*u+Oi*d),t.lineTo(Oi*r+Ii*i,Oi*i-Ii*r),t.lineTo(Oi*a+Ii*l,Oi*l-Ii*a),t.lineTo(Oi*u+Ii*d,Oi*d-Ii*u),t.closePath()}};function zQ(t,e){let n=null,r=sE(i);t=typeof t=="function"?t:Rt(t||lE),e=typeof e=="function"?e:Rt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Rt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Rt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function oy(){}function ly(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function rM(t){this._context=t}rM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ly(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ly(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $Q(t){return new rM(t)}function iM(t){this._context=t}iM.prototype={areaStart:oy,areaEnd:oy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ly(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function FQ(t){return new iM(t)}function aM(t){this._context=t}aM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ly(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qQ(t){return new aM(t)}function sM(t){this._context=t}sM.prototype={areaStart:oy,areaEnd:oy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function HQ(t){return new sM(t)}function BP(t){return t<0?-1:1}function zP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(BP(a)+BP(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function $P(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function zb(t,e,n){var r=t._x0,i=t._y0,a=t._x1,l=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,l-u*n,a,l)}function cy(t){this._context=t}cy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zb(this,this._t0,$P(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zb(this,$P(this,n=zP(this,t,e)),n);break;default:zb(this,this._t0,n=zP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function oM(t){this._context=new lM(t)}(oM.prototype=Object.create(cy.prototype)).point=function(t,e){cy.prototype.point.call(this,e,t)};function lM(t){this._context=t}lM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function KQ(t){return new cy(t)}function GQ(t){return new oM(t)}function cM(t){this._context=t}cM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=FP(t),i=FP(e),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function FP(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function WQ(t){return new cM(t)}function jv(t,e){this._context=t,this._t=e}jv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function YQ(t){return new jv(t,.5)}function XQ(t){return new jv(t,0)}function QQ(t){return new jv(t,1)}function id(t,e){if((l=t.length)>1)for(var n=1,r,i,a=t[e[0]],l,u=a.length;n<l;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function q1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ZQ(t,e){return t[e]}function JQ(t){const e=[];return e.key=t,e}function eZ(){var t=Rt([]),e=q1,n=id,r=ZQ;function i(a){var l=Array.from(t.apply(this,arguments),JQ),u,d=l.length,h=-1,p;for(const g of a)for(u=0,++h;u<d;++u)(l[u][h]=[0,+r(g,l[u].key,h,a)]).data=g;for(u=0,p=oE(e(l));u<d;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Rt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Rt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?q1:typeof a=="function"?a:Rt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??id,i):n},i}function tZ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}id(t,e)}}function nZ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}id(t,e)}}function rZ(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,d=0,h=0;u<l;++u){for(var p=t[e[u]],g=p[r][1]||0,x=p[r-1][1]||0,b=(g-x)/2,A=0;A<u;++A){var E=t[e[A]],S=E[r][1]||0,C=E[r-1][1]||0;b+=S-C}d+=g,h+=b*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=h/d)}i[r-1][1]+=i[r-1][0]=n,id(t,e)}}var iZ=["type","size","sizeType"];function H1(){return H1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H1.apply(null,arguments)}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){aZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aZ(t,e,n){return(e=sZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sZ(t){var e=oZ(t,"string");return typeof e=="symbol"?e:e+""}function oZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lZ(t,e){if(t==null)return{};var n,r,i=cZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uM={symbolCircle:lE,symbolCross:PQ,symbolDiamond:IQ,symbolSquare:RQ,symbolStar:LQ,symbolTriangle:VQ,symbolWye:BQ},uZ=Math.PI/180,dZ=t=>{var e="symbol".concat(rm(t));return uM[e]||lE},fZ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*uZ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},hZ=(t,e)=>{uM["symbol".concat(rm(t))]=e},cE=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=lZ(t,iZ),a=HP(HP({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var x=dZ(l),b=zQ().type(x).size(fZ(n,r,l));return b()},{className:d,cx:h,cy:p}=a,g=$t(a,!0);return h===+h&&p===+p&&n===+n?_.createElement("path",H1({},g,{className:ot("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};cE.registerSymbol=hZ;function K1(){return K1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K1.apply(null,arguments)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){uE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uE(t,e,n){return(e=pZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pZ(t){var e=gZ(t,"string");return typeof e=="symbol"?e:e+""}function gZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ri=32;class dE extends _.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Ri/2,a=Ri/6,l=Ri/3,u=e.inactive?r:e.color,d=n??e.type;if(d==="none")return null;if(d==="plainline")return _.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Ri,y2:i,className:"recharts-legend-icon"});if(d==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ri,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return _.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Ri/8,"h").concat(Ri,"v").concat(Ri*3/4,"h").concat(-Ri,"z"),className:"recharts-legend-icon"});if(_.isValidElement(e.legendIcon)){var h=mZ({},e);return delete h.legendIcon,_.cloneElement(e.legendIcon,h)}return _.createElement(cE,{fill:u,cx:i,cy:i,size:Ri,sizeType:"diameter",type:d})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=this.props,u={x:0,y:0,width:Ri,height:Ri},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,g)=>{var x=p.formatter||i,b=ot({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var A=p.inactive?a:p.color,E=x?x(p.value,p,g):p.value;return _.createElement("li",K1({className:b,style:d,key:"legend-item-".concat(g)},im(this.props,p,g)),_.createElement(aE,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(E," legend icon")},this.renderIcon(p,l)),_.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},E))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}uE(dE,"displayName","Legend");uE(dE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var $b={},Fb={},GP;function yZ(){return GP||(GP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(Fb)),Fb}var qb={},WP;function dM(){return WP||(WP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(qb)),qb}var Hb={},Kb={},Gb={},YP;function vZ(){return YP||(YP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Gb)),Gb}var XP;function fE(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vZ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Kb)),Kb}var Wb={},QP;function xZ(){return QP||(QP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Wb)),Wb}var ZP;function bZ(){return ZP||(ZP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fE(),n=xZ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Hb)),Hb}var Yb={},Xb={},JP;function wZ(){return JP||(JP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Xb)),Xb}var Qb={},Zb={},Jb={},ew={},eO;function fM(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(ew)),ew}var tw={},tO;function hM(){return tO||(tO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(tw)),tw}var nw={},nO;function mM(){return nO||(nO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(nw)),nw}var rO;function _Z(){return rO||(rO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hE(),n=fM(),r=hM(),i=mM();function a(g,x,b){return typeof b!="function"?e.isMatch(g,x):l(g,x,function A(E,S,C,j,N,L){const M=b(E,S,C,j,N,L);return M!==void 0?!!M:l(E,S,A,L)},new Map)}function l(g,x,b,A){if(x===g)return!0;switch(typeof x){case"object":return u(g,x,b,A);case"function":return Object.keys(x).length>0?l(g,{...x},b,A):i.eq(g,x);default:return n.isObject(g)?typeof x=="string"?x==="":!0:i.eq(g,x)}}function u(g,x,b,A){if(x==null)return!0;if(Array.isArray(x))return h(g,x,b,A);if(x instanceof Map)return d(g,x,b,A);if(x instanceof Set)return p(g,x,b,A);const E=Object.keys(x);if(g==null)return E.length===0;if(E.length===0)return!0;if(A&&A.has(x))return A.get(x)===g;A&&A.set(x,g);try{for(let S=0;S<E.length;S++){const C=E[S];if(!r.isPrimitive(g)&&!(C in g)||x[C]===void 0&&g[C]!==void 0||x[C]===null&&g[C]!==null||!b(g[C],x[C],C,g,x,A))return!1}return!0}finally{A&&A.delete(x)}}function d(g,x,b,A){if(x.size===0)return!0;if(!(g instanceof Map))return!1;for(const[E,S]of x.entries()){const C=g.get(E);if(b(C,S,E,g,x,A)===!1)return!1}return!0}function h(g,x,b,A){if(x.length===0)return!0;if(!Array.isArray(g))return!1;const E=new Set;for(let S=0;S<x.length;S++){const C=x[S];let j=!1;for(let N=0;N<g.length;N++){if(E.has(N))continue;const L=g[N];let M=!1;if(b(L,C,S,g,x,A)&&(M=!0),M){E.add(N),j=!0;break}}if(!j)return!1}return!0}function p(g,x,b,A){return x.size===0?!0:g instanceof Set?h([...g],[...x],b,A):!1}t.isMatchWith=a,t.isSetMatch=p})(Jb)),Jb}var iO;function hE(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_Z();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Zb)),Zb}var rw={},iw={},aw={},aO;function EZ(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(aw)),aw}var sw={},sO;function pM(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(sw)),sw}var ow={},oO;function gM(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",x="[object ArrayBuffer]",b="[object Object]",A="[object Error]",E="[object DataView]",S="[object Uint8Array]",C="[object Uint8ClampedArray]",j="[object Uint16Array]",N="[object Uint32Array]",L="[object BigUint64Array]",M="[object Int8Array]",U="[object Int16Array]",R="[object Int32Array]",I="[object BigInt64Array]",k="[object Float32Array]",$="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=x,t.arrayTag=p,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=L,t.booleanTag=i,t.dataViewTag=E,t.dateTag=u,t.errorTag=A,t.float32ArrayTag=k,t.float64ArrayTag=$,t.functionTag=g,t.int16ArrayTag=U,t.int32ArrayTag=R,t.int8ArrayTag=M,t.mapTag=d,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=j,t.uint32ArrayTag=N,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=C})(ow)),ow}var lw={},lO;function AZ(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(lw)),lw}var cO;function yM(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EZ(),n=pM(),r=gM(),i=hM(),a=AZ();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,x,b=new Map,A=void 0){const E=A?.(p,g,x,b);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const S=new Array(p.length);b.set(p,S);for(let C=0;C<p.length;C++)S[C]=u(p[C],C,x,b,A);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;b.set(p,S);for(const[C,j]of p)S.set(C,u(j,C,x,b,A));return S}if(p instanceof Set){const S=new Set;b.set(p,S);for(const C of p)S.add(u(C,void 0,x,b,A));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(a.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,S);for(let C=0;C<p.length;C++)S[C]=u(p[C],C,x,b,A);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,S),d(S,p,x,b,A),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return b.set(p,S),d(S,p,x,b,A),S}if(p instanceof Blob){const S=new Blob([p],{type:p.type});return b.set(p,S),d(S,p,x,b,A),S}if(p instanceof Error){const S=new p.constructor;return b.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,d(S,p,x,b,A),S}if(typeof p=="object"&&h(p)){const S=Object.create(Object.getPrototypeOf(p));return b.set(p,S),d(S,p,x,b,A),S}return p}function d(p,g,x=p,b,A){const E=[...Object.keys(g),...e.getSymbols(g)];for(let S=0;S<E.length;S++){const C=E[S],j=Object.getOwnPropertyDescriptor(p,C);(j==null||j.writable)&&(p[C]=u(g[C],C,x,b,A))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=d})(iw)),iw}var uO;function SZ(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yM();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(rw)),rw}var dO;function TZ(){return dO||(dO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hE(),n=SZ();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(Qb)),Qb}var cw={},uw={},dw={},fO;function CZ(){return fO||(fO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yM(),n=gM();function r(i,a){return e.cloneDeepWith(i,(l,u,d,h)=>{const p=a?.(l,u,d,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(dw)),dw}var hO;function NZ(){return hO||(hO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CZ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(uw)),uw}var fw={},hw={},mO;function vM(){return mO||(mO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(hw)),hw}var mw={},pO;function jZ(){return pO||(pO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pM();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(mw)),mw}var gO;function PZ(){return gO||(gO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z6(),n=vM(),r=jZ(),i=eE();function a(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?d=i.toPath(u):d=[u],d.length===0)return!1;let h=l;for(let p=0;p<d.length;p++){const g=d[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=a})(fw)),fw}var yO;function OZ(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hE(),n=$6(),r=NZ(),i=tE(),a=PZ();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(h){const p=i.get(h,u);return p===void 0?a.has(h,u):d===void 0?p===void 0:e.isMatch(p,d)}}t.matchesProperty=l})(cw)),cw}var vO;function IZ(){return vO||(vO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dM(),n=wZ(),r=TZ(),i=OZ();function a(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=a})(Yb)),Yb}var xO;function RZ(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yZ(),n=dM(),r=bZ(),i=IZ();function a(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=a})($b)),$b}var pw,bO;function kZ(){return bO||(bO=1,pw=RZ().uniqBy),pw}var DZ=kZ();const wO=Qs(DZ);function xM(t,e,n){return e===!0?wO(t,n):typeof e=="function"?wO(t,e):t}var gw={exports:{}},yw={},vw={exports:{}},xw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _O;function MZ(){if(_O)return xw;_O=1;var t=hd();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function u(g,x){var b=x(),A=r({inst:{value:b,getSnapshot:x}}),E=A[0].inst,S=A[1];return a(function(){E.value=b,E.getSnapshot=x,d(E)&&S({inst:E})},[g,b,x]),i(function(){return d(E)&&S({inst:E}),g(function(){d(E)&&S({inst:E})})},[g]),l(b),b}function d(g){var x=g.getSnapshot;g=g.value;try{var b=x();return!n(g,b)}catch{return!0}}function h(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return xw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,xw}var EO;function LZ(){return EO||(EO=1,vw.exports=MZ()),vw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AO;function VZ(){if(AO)return yw;AO=1;var t=hd(),e=LZ();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return yw.useSyncExternalStoreWithSelector=function(h,p,g,x,b){var A=a(null);if(A.current===null){var E={hasValue:!1,value:null};A.current=E}else E=A.current;A=u(function(){function C(U){if(!j){if(j=!0,N=U,U=x(U),b!==void 0&&E.hasValue){var R=E.value;if(b(R,U))return L=R}return L=U}if(R=L,r(N,U))return R;var I=x(U);return b!==void 0&&b(R,I)?(N=U,R):(N=U,L=I)}var j=!1,N,L,M=g===void 0?null:g;return[function(){return C(p())},M===null?void 0:function(){return C(M())}]},[p,g,x,b]);var S=i(h,A[0],A[1]);return l(function(){E.hasValue=!0,E.value=S},[S]),d(S),S},yw}var SO;function UZ(){return SO||(SO=1,gw.exports=VZ()),gw.exports}var BZ=UZ(),mE=_.createContext(null),zZ=t=>t,an=()=>{var t=_.useContext(mE);return t?t.store.dispatch:zZ},Ag=()=>{},$Z=()=>Ag,FZ=(t,e)=>t===e;function Ne(t){var e=_.useContext(mE);return BZ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:$Z,e?e.store.getState:Ag,e?e.store.getState:Ag,e?t:Ag,FZ)}function qZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function HZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function KZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var TO=t=>Array.isArray(t)?t:[t];function GZ(t){const e=Array.isArray(t[0])?t[0]:t;return KZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function WZ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var YZ=class{constructor(t){this.value=t}deref(){return this.value}},XZ=typeof WeakRef<"u"?WeakRef:YZ,QZ=0,CO=1;function Xp(){return{s:QZ,v:void 0,o:null,p:null}}function bM(t,e={}){let n=Xp();const{resultEqualityCheck:r}=e;let i,a=0;function l(){let u=n;const{length:d}=arguments;for(let g=0,x=d;g<x;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let A=u.o;A===null&&(u.o=A=new WeakMap);const E=A.get(b);E===void 0?(u=Xp(),A.set(b,u)):u=E}else{let A=u.p;A===null&&(u.p=A=new Map);const E=A.get(b);E===void 0?(u=Xp(),A.set(b,u)):u=E}}const h=u;let p;if(u.s===CO)p=u.v;else if(p=t.apply(null,arguments),a++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,a!==0&&a--),i=typeof p=="object"&&p!==null||typeof p=="function"?new XZ(p):p}return h.s=CO,h.v=p,p}return l.clearCache=()=>{n=Xp(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function ZZ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,l=0,u,d={},h=i.pop();typeof h=="object"&&(d=h,h=i.pop()),qZ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...d},{memoize:g,memoizeOptions:x=[],argsMemoize:b=bM,argsMemoizeOptions:A=[]}=p,E=TO(x),S=TO(A),C=GZ(i),j=g(function(){return a++,h.apply(null,arguments)},...E),N=b(function(){l++;const M=WZ(C,arguments);return u=j.apply(null,M),u},...S);return Object.assign(N,{resultFunc:h,memoizedResultFunc:j,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var ee=ZZ(bM),JZ=Object.assign((t,e=ee)=>{HZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>JZ}),bw={},ww={},_w={},NO;function eJ(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};t.compareValues=n})(_w)),_w}var Ew={},Aw={},jO;function wM(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Aw)),Aw}var PO;function tJ(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}t.isKey=i})(Ew)),Ew}var OO;function nJ(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eJ(),n=tJ(),r=eE();function i(a,l,u,d){if(a==null)return[];u=d?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const h=(b,A)=>{let E=b;for(let S=0;S<A.length&&E!=null;++S)E=E[A[S]];return E},p=(b,A)=>A==null||b==null?A:typeof b=="object"&&"key"in b?Object.hasOwn(A,b.key)?A[b.key]:h(A,b.path):typeof b=="function"?b(A):Array.isArray(b)?h(A,b):typeof A=="object"?A[b]:A,g=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:g.map(A=>p(A,b))})).slice().sort((b,A)=>{for(let E=0;E<g.length;E++){const S=e.compareValues(b.criteria[E],A.criteria[E],u[E]);if(S!==0)return S}return 0}).map(b=>b.original)}t.orderBy=i})(ww)),ww}var Sw={},IO;function rJ(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),l=(u,d)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&d<a?l(p,d+1):i.push(p)}};return l(n,0),i}t.flatten=e})(Sw)),Sw}var Tw={},RO;function _M(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vM(),n=fE(),r=fM(),i=mM();function a(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&e.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}t.isIterateeCall=a})(Tw)),Tw}var kO;function iJ(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nJ(),n=rJ(),r=_M();function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(a,n.flatten(l),["asc"])}t.sortBy=i})(bw)),bw}var Cw,DO;function aJ(){return DO||(DO=1,Cw=iJ().sortBy),Cw}var sJ=aJ();const Pv=Qs(sJ);var EM=t=>t.legend.settings,oJ=t=>t.legend.size,lJ=t=>t.legend.payload,cJ=ee([lJ,EM],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Pv(r,n):r});function uJ(){return Ne(cJ)}var Qp=1;function AM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-e.height)>Qp||Math.abs(l.left-e.left)>Qp||Math.abs(l.top-e.top)>Qp||Math.abs(l.width-e.width)>Qp)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function nr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var dJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",MO=dJ,Nw=()=>Math.random().toString(36).substring(7).split("").join("."),fJ={INIT:`@@redux/INIT${Nw()}`,REPLACE:`@@redux/REPLACE${Nw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Nw()}`},uy=fJ;function pE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function SM(t,e,n){if(typeof t!="function")throw new Error(nr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nr(1));return n(SM)(t,e)}let r=t,i=e,a=new Map,l=a,u=0,d=!1;function h(){l===a&&(l=new Map,a.forEach((S,C)=>{l.set(C,S)}))}function p(){if(d)throw new Error(nr(3));return i}function g(S){if(typeof S!="function")throw new Error(nr(4));if(d)throw new Error(nr(5));let C=!0;h();const j=u++;return l.set(j,S),function(){if(C){if(d)throw new Error(nr(6));C=!1,h(),l.delete(j),a=null}}}function x(S){if(!pE(S))throw new Error(nr(7));if(typeof S.type>"u")throw new Error(nr(8));if(typeof S.type!="string")throw new Error(nr(17));if(d)throw new Error(nr(9));try{d=!0,i=r(i,S)}finally{d=!1}return(a=l).forEach(j=>{j()}),S}function b(S){if(typeof S!="function")throw new Error(nr(10));r=S,x({type:uy.REPLACE})}function A(){const S=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(nr(11));function j(){const L=C;L.next&&L.next(p())}return j(),{unsubscribe:S(j)}},[MO](){return this}}}return x({type:uy.INIT}),{dispatch:x,subscribe:g,getState:p,replaceReducer:b,[MO]:A}}function hJ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:uy.INIT})>"u")throw new Error(nr(12));if(typeof n(void 0,{type:uy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nr(13))})}function TM(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{hJ(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let d=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],x=n[g],b=l[g],A=x(b,u);if(typeof A>"u")throw u&&u.type,new Error(nr(14));h[g]=A,d=d||A!==b}return d=d||r.length!==Object.keys(l).length,d?h:l}}function dy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function mJ(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(nr(15))};const l={getState:i.getState,dispatch:(d,...h)=>a(d,...h)},u=t.map(d=>d(l));return a=dy(...u)(i.dispatch),{...i,dispatch:a}}}function CM(t){return pE(t)&&"type"in t&&typeof t.type=="string"}var NM=Symbol.for("immer-nothing"),LO=Symbol.for("immer-draftable"),di=Symbol.for("immer-state");function oa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ad=Object.getPrototypeOf;function Sc(t){return!!t&&!!t[di]}function Gs(t){return t?jM(t)||Array.isArray(t)||!!t[LO]||!!t.constructor?.[LO]||am(t)||Iv(t):!1}var pJ=Object.prototype.constructor.toString();function jM(t){if(!t||typeof t!="object")return!1;const e=ad(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===pJ}function fy(t,e){Ov(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Ov(t){const e=t[di];return e?e.type_:Array.isArray(t)?1:am(t)?2:Iv(t)?3:0}function G1(t,e){return Ov(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function PM(t,e,n){const r=Ov(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function gJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function am(t){return t instanceof Map}function Iv(t){return t instanceof Set}function rc(t){return t.copy_||t.base_}function W1(t,e){if(am(t))return new Map(t);if(Iv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=jM(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[di];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(ad(t),r)}else{const r=ad(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function gE(t,e=!1){return Rv(t)||Sc(t)||!Gs(t)||(Ov(t)>1&&Object.defineProperties(t,{set:{value:Zp},add:{value:Zp},clear:{value:Zp},delete:{value:Zp}}),Object.freeze(t),e&&Object.values(t).forEach(n=>gE(n,!0))),t}function Zp(){oa(2)}function Rv(t){return Object.isFrozen(t)}var yJ={};function Tc(t){const e=yJ[t];return e||oa(0,t),e}var Th;function OM(){return Th}function vJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function VO(t,e){e&&(Tc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Y1(t){X1(t),t.drafts_.forEach(xJ),t.drafts_=null}function X1(t){t===Th&&(Th=t.parent_)}function UO(t){return Th=vJ(Th,t)}function xJ(t){const e=t[di];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function BO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[di].modified_&&(Y1(e),oa(4)),Gs(t)&&(t=hy(e,t),e.parent_||my(e,t)),e.patches_&&Tc("Patches").generateReplacementPatches_(n[di].base_,t,e.patches_,e.inversePatches_)):t=hy(e,n,[]),Y1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==NM?t:void 0}function hy(t,e,n){if(Rv(e))return e;const r=e[di];if(!r)return fy(e,(i,a)=>zO(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return my(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,l=!1;r.type_===3&&(a=new Set(i),i.clear(),l=!0),fy(a,(u,d)=>zO(t,r,i,u,d,n,l)),my(t,i,!1),n&&t.patches_&&Tc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function zO(t,e,n,r,i,a,l){if(Sc(i)){const u=a&&e&&e.type_!==3&&!G1(e.assigned_,r)?a.concat(r):void 0,d=hy(t,i,u);if(PM(n,r,d),Sc(d))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Gs(i)&&!Rv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;hy(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(am(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&my(t,i)}}function my(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&gE(e,n)}function bJ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:OM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=yE;n&&(i=[r],a=Ch);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var yE={get(t,e){if(e===di)return t;const n=rc(t);if(!G1(n,e))return wJ(t,n,e);const r=n[e];return t.finalized_||!Gs(r)?r:r===jw(t.base_,e)?(Pw(t),t.copy_[e]=Z1(r,t)):r},has(t,e){return e in rc(t)},ownKeys(t){return Reflect.ownKeys(rc(t))},set(t,e,n){const r=IM(rc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=jw(rc(t),e),a=i?.[di];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(gJ(n,i)&&(n!==void 0||G1(t.base_,e)))return!0;Pw(t),Q1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return jw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Pw(t),Q1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=rc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){oa(11)},getPrototypeOf(t){return ad(t.base_)},setPrototypeOf(){oa(12)}},Ch={};fy(yE,(t,e)=>{Ch[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ch.deleteProperty=function(t,e){return Ch.set.call(this,t,e,void 0)};Ch.set=function(t,e,n){return yE.set.call(this,t[0],e,n,t[0])};function jw(t,e){const n=t[di];return(n?rc(n):t)[e]}function wJ(t,e,n){const r=IM(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function IM(t,e){if(!(e in t))return;let n=ad(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ad(n)}}function Q1(t){t.modified_||(t.modified_=!0,t.parent_&&Q1(t.parent_))}function Pw(t){t.copy_||(t.copy_=W1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var _J=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const l=this;return function(d=a,...h){return l.produce(d,p=>n.call(this,p,...h))}}typeof n!="function"&&oa(6),r!==void 0&&typeof r!="function"&&oa(7);let i;if(Gs(e)){const a=UO(this),l=Z1(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?Y1(a):X1(a)}return VO(a,r),BO(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===NM&&(i=void 0),this.autoFreeze_&&gE(i,!0),r){const a=[],l=[];Tc("Patches").generateReplacementPatches_(e,i,a,l),r(a,l)}return i}else oa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,d=>e(d,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Gs(t)||oa(8),Sc(t)&&(t=Ls(t));const e=UO(this),n=Z1(t,void 0);return n[di].isManual_=!0,X1(e),n}finishDraft(t,e){const n=t&&t[di];(!n||!n.isManual_)&&oa(9);const{scope_:r}=n;return VO(r,e),BO(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Tc("Patches").applyPatches_;return Sc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Z1(t,e){const n=am(t)?Tc("MapSet").proxyMap_(t,e):Iv(t)?Tc("MapSet").proxySet_(t,e):bJ(t,e);return(e?e.scope_:OM()).drafts_.push(n),n}function Ls(t){return Sc(t)||oa(10,t),RM(t)}function RM(t){if(!Gs(t)||Rv(t))return t;const e=t[di];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=W1(t,e.scope_.immer_.useStrictShallowCopy_)}else n=W1(t,!0);return fy(n,(r,i)=>{PM(n,r,RM(i))}),e&&(e.finalized_=!1),n}var EJ=new _J,kM=EJ.produce;function DM(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var AJ=DM(),SJ=DM,TJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dy:dy.apply(null,arguments)};function $i(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ci(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>CM(r)&&r.type===t,n}var MM=class ah extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ah.prototype)}static get[Symbol.species](){return ah}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ah(...e[0].concat(this)):new ah(...e.concat(this))}};function $O(t){return Gs(t)?kM(t,()=>{}):t}function Jp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function CJ(t){return typeof t=="boolean"}var NJ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new MM;return n&&(CJ(n)?l.push(AJ):l.push(SJ(n.extraArgument))),l},jJ="RTK_autoBatch",FO=t=>e=>{setTimeout(e,t)},PJ=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,l=!1;const u=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:FO(10):t.type==="callback"?t.queueNotification:FO(t.timeout),h=()=>{l=!1,a&&(a=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),x=r.subscribe(g);return u.add(p),()=>{x(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[jJ],a=!i,a&&(l||(l=!0,d(h))),r.dispatch(p)}finally{i=!0}}})},OJ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new MM(t);return r&&i.push(PJ(typeof r=="object"?r:void 0)),i};function IJ(t){const e=NJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(pE(n))u=TM(n);else throw new Error(ci(1));let d;typeof r=="function"?d=r(e):d=e();let h=dy;i&&(h=TJ({trace:!1,...typeof i=="object"&&i}));const p=mJ(...d),g=OJ(p);let x=typeof l=="function"?l(g):g();const b=h(...x);return SM(u,a,b)}function LM(t){const e={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(ci(28));if(u in e)throw new Error(ci(29));return e[u]=l,i},addAsyncThunk(a,l){return l.pending&&(e[a.pending.type]=l.pending),l.rejected&&(e[a.rejected.type]=l.rejected),l.fulfilled&&(e[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function RJ(t){return typeof t=="function"}function kJ(t,e){let[n,r,i]=LM(e),a;if(RJ(t))a=()=>$O(t());else{const u=$O(t);a=()=>u}function l(u=a(),d){let h=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(Sc(p)){const b=g(p,d);return b===void 0?p:b}else{if(Gs(p))return kM(p,x=>g(x,d));{const x=g(p,d);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},u)}return l.getInitialState=a,l}var DJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",MJ=(t=21)=>{let e="",n=t;for(;n--;)e+=DJ[Math.random()*64|0];return e},LJ=Symbol.for("rtk-slice-createasyncthunk");function VJ(t,e){return`${t}/${e}`}function UJ({creators:t}={}){const e=t?.asyncThunk?.[LJ];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(ci(11));const l=(typeof r.reducers=="function"?r.reducers(zJ()):r.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(N,L){const M=typeof N=="string"?N:N.type;if(!M)throw new Error(ci(12));if(M in d.sliceCaseReducersByType)throw new Error(ci(13));return d.sliceCaseReducersByType[M]=L,h},addMatcher(N,L){return d.sliceMatchers.push({matcher:N,reducer:L}),h},exposeAction(N,L){return d.actionCreators[N]=L,h},exposeCaseReducer(N,L){return d.sliceCaseReducersByName[N]=L,h}};u.forEach(N=>{const L=l[N],M={reducerName:N,type:VJ(i,N),createNotation:typeof r.reducers=="function"};FJ(L)?HJ(M,L,h,e):$J(M,L,h)});function p(){const[N={},L=[],M=void 0]=typeof r.extraReducers=="function"?LM(r.extraReducers):[r.extraReducers],U={...N,...d.sliceCaseReducersByType};return kJ(r.initialState,R=>{for(let I in U)R.addCase(I,U[I]);for(let I of d.sliceMatchers)R.addMatcher(I.matcher,I.reducer);for(let I of L)R.addMatcher(I.matcher,I.reducer);M&&R.addDefaultCase(M)})}const g=N=>N,x=new Map,b=new WeakMap;let A;function E(N,L){return A||(A=p()),A(N,L)}function S(){return A||(A=p()),A.getInitialState()}function C(N,L=!1){function M(R){let I=R[N];return typeof I>"u"&&L&&(I=Jp(b,M,S)),I}function U(R=g){const I=Jp(x,L,()=>new WeakMap);return Jp(I,R,()=>{const k={};for(const[$,V]of Object.entries(r.selectors??{}))k[$]=BJ(V,R,()=>Jp(b,R,S),L);return k})}return{reducerPath:N,getSelectors:U,get selectors(){return U(M)},selectSlice:M}}const j={name:i,reducer:E,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...C(a),injectInto(N,{reducerPath:L,...M}={}){const U=L??a;return N.inject({reducerPath:U,reducer:E},M),{...j,...C(U,!0)}}};return j}}function BJ(t,e,n,r){function i(a,...l){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var mi=UJ();function zJ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function $J({type:t,reducerName:e,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!qJ(r))throw new Error(ci(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?$i(t,l):$i(t))}function FJ(t){return t._reducerDefinitionType==="asyncThunk"}function qJ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function HJ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ci(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:d,settled:h,options:p}=n,g=i(t,a,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:l||eg,pending:u||eg,rejected:d||eg,settled:h||eg})}function eg(){}var KJ="task",VM="listener",UM="completed",vE="cancelled",GJ=`task-${vE}`,WJ=`task-${UM}`,J1=`${VM}-${vE}`,YJ=`${VM}-${UM}`,kv=class{constructor(t){this.code=t,this.message=`${KJ} ${vE} (reason: ${t})`}name="TaskAbortError";message},xE=(t,e)=>{if(typeof t!="function")throw new TypeError(ci(32))},py=()=>{},BM=(t,e=py)=>(t.catch(e),t),zM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),mc=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},pc=t=>{if(t.aborted){const{reason:e}=t;throw new kv(e)}};function $M(t,e){let n=py;return new Promise((r,i)=>{const a=()=>i(new kv(t.reason));if(t.aborted){a();return}n=zM(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=py})}var XJ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof kv?"cancelled":"rejected",error:n}}finally{e?.()}},gy=t=>e=>BM($M(t,e).then(n=>(pc(t),n))),FM=t=>{const e=gy(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:qu}=Object,qO={},Dv="listenerMiddleware",QJ=(t,e)=>{const n=r=>zM(t,()=>mc(r,t.reason));return(r,i)=>{xE(r);const a=new AbortController;n(a);const l=XJ(async()=>{pc(t),pc(a.signal);const u=await r({pause:gy(a.signal),delay:FM(a.signal),signal:a.signal});return pc(a.signal),u},()=>mc(a,WJ));return i?.autoJoin&&e.push(l.catch(py)),{result:gy(t)(l),cancel(){mc(a,GJ)}}}},ZJ=(t,e)=>{const n=async(r,i)=>{pc(e);let a=()=>{};const u=[new Promise((d,h)=>{let p=t({predicate:r,effect:(g,x)=>{x.unsubscribe(),d([g,x.getState(),x.getOriginalState()])}});a=()=>{p(),h()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await $M(e,Promise.race(u));return pc(e),d}finally{a()}};return(r,i)=>BM(n(r,i))},qM=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=$i(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ci(21));return xE(a),{predicate:i,type:e,effect:a}},HM=qu(t=>{const{type:e,predicate:n,effect:r}=qM(t);return{id:MJ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ci(22))}}},{withTypes:()=>HM}),HO=(t,e)=>{const{type:n,effect:r,predicate:i}=qM(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},e2=t=>{t.pending.forEach(e=>{mc(e,J1)})},JJ=t=>()=>{t.forEach(e2),t.clear()},KO=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},KM=qu($i(`${Dv}/add`),{withTypes:()=>KM}),eee=$i(`${Dv}/removeAll`),GM=qu($i(`${Dv}/remove`),{withTypes:()=>GM}),tee=(...t)=>{console.error(`${Dv}/error`,...t)},sm=(t={})=>{const e=new Map,{extra:n,onError:r=tee}=t;xE(r);const i=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),g=>{p.unsubscribe(),g?.cancelActive&&e2(p)}),a=p=>{const g=HO(e,p)??HM(p);return i(g)};qu(a,{withTypes:()=>a});const l=p=>{const g=HO(e,p);return g&&(g.unsubscribe(),p.cancelActive&&e2(g)),!!g};qu(l,{withTypes:()=>l});const u=async(p,g,x,b)=>{const A=new AbortController,E=ZJ(a,A.signal),S=[];try{p.pending.add(A),await Promise.resolve(p.effect(g,qu({},x,{getOriginalState:b,condition:(C,j)=>E(C,j).then(Boolean),take:E,delay:FM(A.signal),pause:gy(A.signal),extra:n,signal:A.signal,fork:QJ(A.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((C,j,N)=>{C!==A&&(mc(C,J1),N.delete(C))})},cancel:()=>{mc(A,J1),p.pending.delete(A)},throwIfCancelled:()=>{pc(A.signal)}})))}catch(C){C instanceof kv||KO(r,C,{raisedBy:"effect"})}finally{await Promise.all(S),mc(A,YJ),p.pending.delete(A)}},d=JJ(e);return{middleware:p=>g=>x=>{if(!CM(x))return g(x);if(KM.match(x))return a(x.payload);if(eee.match(x)){d();return}if(GM.match(x))return l(x.payload);let b=p.getState();const A=()=>{if(b===qO)throw new Error(ci(23));return b};let E;try{if(E=g(x),e.size>0){const S=p.getState(),C=Array.from(e.values());for(const j of C){let N=!1;try{N=j.predicate(x,S,b)}catch(L){N=!1,KO(r,L,{raisedBy:"predicate"})}N&&u(j,x,p,A)}}}finally{b=qO}return E},startListening:a,stopListening:l,clearListeners:d}};function ci(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var nee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},WM=mi({name:"chartLayout",initialState:nee,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:ree,setLayout:iee,setChartSize:aee,setScale:see}=WM.actions,oee=WM.reducer;function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){lee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lee(t,e,n){return(e=cee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cee(t){var e=uee(t,"string");return typeof e=="symbol"?e:e+""}function uee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yy=Math.PI/180,dee=t=>t*180/Math.PI,Nn=(t,e,n,r)=>({x:t+Math.cos(-yy*r)*n,y:e+Math.sin(-yy*r)*n}),YM=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},fee=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},hee=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,l=fee({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>a&&(d=2*Math.PI-d),{radius:l,angle:dee(d),angleInRadian:d}},mee=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},pee=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return t+l*360},gee=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=hee({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:h}=mee(e),p=a,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?WO(WO({},e),{},{radius:i,angle:pee(p,e)}):null};function XM(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){yee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yee(t,e,n){return(e=vee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vee(t){var e=xee(t,"string");return typeof e=="symbol"?e:e+""}function xee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ct(t,e,n){return zt(t)||zt(e)?n:Wa(e)?Ac(t,e,n):typeof e=="function"?e(t):n}var bee=(t,e,n,r,i)=>{var a,l=-1,u=(a=e?.length)!==null&&a!==void 0?a:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<u;d++){var h=d>0?n[d-1].coordinate:n[u-1].coordinate,p=n[d].coordinate,g=d>=u-1?n[0].coordinate:n[d+1].coordinate,x=void 0;if(Wn(p-h)!==Wn(g-p)){var b=[];if(Wn(g-p)===Wn(i[1]-i[0])){x=g;var A=p+i[1]-i[0];b[0]=Math.min(A,(A+h)/2),b[1]=Math.max(A,(A+h)/2)}else{x=h;var E=g+i[1]-i[0];b[0]=Math.min(p,(E+p)/2),b[1]=Math.max(p,(E+p)/2)}var S=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(t>S[0]&&t<=S[1]||t>=b[0]&&t<=b[1]){({index:l}=n[d]);break}}else{var C=Math.min(h,g),j=Math.max(h,g);if(t>(C+p)/2&&t<=(j+p)/2){({index:l}=n[d]);break}}}else if(e){for(var N=0;N<u;N++)if(N===0&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N>0&&N<u-1&&t>(e[N].coordinate+e[N-1].coordinate)/2&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N===u-1&&t>(e[N].coordinate+e[N-1].coordinate)/2){({index:l}=e[N]);break}}return l},wee=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&je(t[a]))return Di(Di({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&je(t[l]))return Di(Di({},t),{},{[l]:t[l]+(i||0)})}return t},ts=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",QM=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,a,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(e),a||l.push(n),l},ZM=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:x,axisType:b}=t;if(!l)return null;var A=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/A:0;if(E=b==="angleAxis"&&a&&a.length>=2?Wn(a[0]-a[1])*2*E:E,g||x){var S=(g||x||[]).map((C,j)=>{var N=r?r.indexOf(C):C;return{coordinate:l(N)+E,value:C,offset:E,index:j}});return S.filter(C=>!Hr(C.coordinate))}return d&&h?h.map((C,j)=>({coordinate:l(C)+E,value:C,index:j,offset:E})):l.ticks&&p!=null?l.ticks(p).map((C,j)=>({coordinate:l(C)+E,value:C,offset:E,index:j})):l.domain().map((C,j)=>({coordinate:l(C)+E,value:r?r[C]:C,index:j,offset:E}))},XO=1e-4,_ee=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-XO,a=Math.max(r[0],r[1])+XO,l=t(e[0]),u=t(e[n-1]);(l<i||l>a||u<i||u>a)&&t.domain([e[0],e[n-1]])}},Eee=(t,e)=>{if(!e||e.length!==2||!je(e[0])||!je(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!je(t[0])||t[0]<n)&&(i[0]=n),(!je(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Aee=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,l=0;l<e;++l){var u=Hr(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=i,t[l][n][1]=i+u,i=t[l][n][1]):(t[l][n][0]=a,t[l][n][1]=a+u,a=t[l][n][1])}},See=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var l=Hr(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},Tee={sign:Aee,expand:tZ,none:id,silhouette:nZ,wiggle:rZ,positive:See},Cee=(t,e,n)=>{var r=Tee[n],i=eZ().keys(e).value((a,l)=>+Ct(a,l,0)).order(q1).offset(r);return i(t)};function JM(t){return t==null?void 0:String(t)}function vy(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!zt(i[e.dataKey])){var u=q6(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var d=Ct(i,zt(l)?e.dataKey:l);return zt(d)?null:e.scale(d)}var QO=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=Ct(a,e.dataKey,e.scale.domain()[l]);return zt(u)?null:e.scale(u)-i/2+r},Nee=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},jee=t=>{var e=t.flat(2).filter(je);return[Math.min(...e),Math.max(...e)]},Pee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Oee=(t,e,n)=>{if(t!=null)return Pee(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:l}=a,u=l.reduce((d,h)=>{var p=XM(h,e,n),g=jee(p);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},ZO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cc=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Pv(e,p=>p.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var d=i[l],h=i[l-1];a=Math.min((d.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function eI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Di(Di({},e),{},{dataKey:n,payload:r,value:i,name:a})}function vl(t,e){if(t)return String(t);if(typeof e=="string")return e}function Iee(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?gee({x:t,y:e},r):null}var Ree=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:l}=r;return Di(Di(Di({},r),Nn(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:d}=r;return Di(Di(Di({},r),Nn(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{x:0,y:0}},kee=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,eo=t=>t.layout.width,to=t=>t.layout.height,Dee=t=>t.layout.scale,e5=t=>t.layout.margin,Mv=ee(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Lv=ee(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),t5="data-recharts-item-index",n5="data-recharts-item-data-key",om=60;function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){Mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mee(t,e,n){return(e=Lee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lee(t){var e=Vee(t,"string");return typeof e=="symbol"?e:e+""}function Vee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uee=t=>t.brush.height;function Bee(t){var e=Lv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:om;return n+i}return n},0)}function zee(t){var e=Lv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:om;return n+i}return n},0)}function $ee(t){var e=Mv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Fee(t){var e=Mv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ln=ee([eo,to,e5,Uee,Bee,zee,$ee,Fee,EM,oJ],(t,e,n,r,i,a,l,u,d,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+a},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},x=tg(tg({},g),p),b=x.bottom;x.bottom+=r,x=wee(x,d,h);var A=t-x.left-x.right,E=e-x.top-x.bottom;return tg(tg({brushBottom:b},x),{},{width:Math.max(A,0),height:Math.max(E,0)})}),qee=ee(Ln,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),bE=ee(eo,to,(t,e)=>({x:0,y:0,width:t,height:e})),Hee=_.createContext(null),wr=()=>_.useContext(Hee)!=null,Vv=t=>t.brush,Uv=ee([Vv,Ln,e5],(t,e,n)=>({height:t.height,x:je(t.x)?t.x:e.left,y:je(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:je(t.width)?t.width:e.width})),wE=()=>{var t,e=wr(),n=Ne(qee),r=Ne(Uv),i=(t=Ne(Vv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Kee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},r5=()=>{var t;return(t=Ne(Ln))!==null&&t!==void 0?t:Kee},_E=()=>Ne(eo),EE=()=>Ne(to),Gee=()=>Ne(t=>t.layout.margin),et=t=>t.layout.layoutType,lm=()=>Ne(et),Wee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},i5=mi({name:"legend",initialState:Wee,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Ls(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:nI,setLegendSettings:Yee,addLegendPayload:a5,removeLegendPayload:s5}=i5.actions,Xee=i5.reducer,Qee=["contextPayload"];function t2(){return t2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t2.apply(null,arguments)}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){AE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AE(t,e,n){return(e=Zee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zee(t){var e=Jee(t,"string");return typeof e=="symbol"?e:e+""}function Jee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ete(t,e){if(t==null)return{};var n,r,i=tte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nte(t){return t.value}function rte(t){var{contextPayload:e}=t,n=ete(t,Qee),r=xM(e,t.payloadUniqBy,nte),i=sd(sd({},n),{},{payload:r});return _.isValidElement(t.content)?_.cloneElement(t.content,i):typeof t.content=="function"?_.createElement(t.content,i):_.createElement(dE,i)}function ite(t,e,n,r,i,a){var{layout:l,align:u,verticalAlign:d}=e,h,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?h={left:((r||0)-a.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?p={top:((i||0)-a.height)/2}:p=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),sd(sd({},h),p)}function ate(t){var e=an();return _.useEffect(()=>{e(Yee(t))},[e,t]),null}function ste(t){var e=an();return _.useEffect(()=>(e(nI(t)),()=>{e(nI({width:0,height:0}))}),[e,t]),null}function ote(t){var e=uJ(),n=AQ(),r=Gee(),{width:i,height:a,wrapperStyle:l,portal:u}=t,[d,h]=AM([e]),p=_E(),g=EE();if(p==null||g==null)return null;var x=p-(r.left||0)-(r.right||0),b=xl.getWidthOrHeight(t.layout,a,i,x),A=u?l:sd(sd({position:"absolute",width:b?.width||i||"auto",height:b?.height||a||"auto"},ite(l,t,r,p,g,d)),l),E=u??n;if(E==null)return null;var S=_.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:h},_.createElement(ate,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),_.createElement(ste,{width:d.width,height:d.height}),_.createElement(rte,t2({},t,b,{margin:r,chartWidth:p,chartHeight:g,contextPayload:e})));return Zk.createPortal(S,E)}class xl extends _.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&je(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return _.createElement(ote,this.props)}}AE(xl,"displayName","Legend");AE(xl,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n2.apply(null,arguments)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ow(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){lte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lte(t,e,n){return(e=cte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cte(t){var e=ute(t,"string");return typeof e=="symbol"?e:e+""}function ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dte(t){return Array.isArray(t)&&Wa(t[0])&&Wa(t[1])?t.join(" ~ "):t}var fte=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:x=!1}=t,b=()=>{if(a&&a.length){var M={padding:0,margin:0},U=(u?Pv(a,u):a).map((R,I)=>{if(R.type==="none")return null;var k=R.formatter||l||dte,{value:$,name:V}=R,F=$,B=V;if(k){var ve=k($,V,R,I,a);if(Array.isArray(ve))[F,B]=ve;else if(ve!=null)F=ve;else return null}var ie=Ow({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:ie},Wa(B)?_.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Wa(B)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},F),_.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:M},U)}return null},A=Ow({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=Ow({margin:0},i),S=!zt(p),C=S?p:"",j=ot("recharts-default-tooltip",d),N=ot("recharts-tooltip-label",h);S&&g&&a!==void 0&&a!==null&&(C=g(p,a));var L=x?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",n2({className:j,style:A},L),_.createElement("p",{className:N,style:E},_.isValidElement(C)?C:"".concat(C)),b())},Hf="recharts-tooltip-wrapper",hte={visibility:"hidden"};function mte(t){var{coordinate:e,translateX:n,translateY:r}=t;return ot(Hf,{["".concat(Hf,"-right")]:je(n)&&e&&je(e.x)&&n>=e.x,["".concat(Hf,"-left")]:je(n)&&e&&je(e.x)&&n<e.x,["".concat(Hf,"-bottom")]:je(r)&&e&&je(e.y)&&r>=e.y,["".concat(Hf,"-top")]:je(r)&&e&&je(e.y)&&r<e.y})}function aI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:h}=t;if(a&&je(a[r]))return a[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?p:g;var x=d[r];if(x==null)return 0;if(l[r]){var b=p,A=x;return b<A?Math.max(g,x):Math.max(p,x)}if(h==null)return 0;var E=g+u,S=x+h;return E>S?Math.max(p,x):Math.max(g,x)}function pte(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function gte(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:u,viewBox:d}=t,h,p,g;return l.height>0&&l.width>0&&n?(p=aI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=aI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=pte({translateX:p,translateY:g,useTranslate3d:u})):h=hte,{cssProperties:h,cssClasses:mte({translateX:p,translateY:g,coordinate:n})}}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){r2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r2(t,e,n){return(e=yte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yte(t){var e=vte(t,"string");return typeof e=="symbol"?e:e+""}function vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xte extends _.PureComponent{constructor(){super(...arguments),r2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),r2(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:d,offset:h,position:p,reverseDirection:g,useTranslate3d:x,viewBox:b,wrapperStyle:A,lastBoundingBox:E,innerRef:S,hasPortalFromProps:C}=this.props,{cssClasses:j,cssProperties:N}=gte({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:x,viewBox:b}),L=C?{}:ng(ng({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),M=ng(ng({},L),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},A);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:M,ref:S},a)}}var bte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),no={devToolsEnabled:!1,isSsr:bte()},o5=()=>Ne(t=>t.rootProps.accessibilityLayer);function or(t){return Number.isFinite(t)}function od(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function i2(){return i2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i2.apply(null,arguments)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){wte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wte(t,e,n){return(e=_te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _te(t){var e=Ete(t,"string");return typeof e=="symbol"?e:e+""}function Ete(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cI={curveBasisClosed:FQ,curveBasisOpen:qQ,curveBasis:$Q,curveBumpX:NQ,curveBumpY:jQ,curveLinearClosed:HQ,curveLinear:Nv,curveMonotoneX:KQ,curveMonotoneY:GQ,curveNatural:WQ,curveStep:YQ,curveStepAfter:QQ,curveStepBefore:XQ},rg=t=>or(t.x)&&or(t.y),Kf=t=>t.x,Gf=t=>t.y,Ate=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(rm(t));return(n==="curveMonotone"||n==="curveBump")&&e?cI["".concat(n).concat(e==="vertical"?"Y":"X")]:cI[n]||Nv},Ste=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,l=Ate(e,i),u=a?n.filter(rg):n,d;if(Array.isArray(r)){var h=a?r.filter(g=>rg(g)):r,p=u.map((g,x)=>lI(lI({},g),{},{base:h[x]}));return i==="vertical"?d=Yp().y(Gf).x1(Kf).x0(g=>g.base.x):d=Yp().x(Kf).y1(Gf).y0(g=>g.base.y),d.defined(rg).curve(l),d(p)}return i==="vertical"&&je(r)?d=Yp().y(Gf).x1(Kf).x0(r):je(r)?d=Yp().x(Kf).y1(Gf).y0(r):d=J6().x(Kf).y(Gf),d.defined(rg).curve(l),d(u)},Hu=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Ste(t):r;return _.createElement("path",i2({},Ki(t),rE(t),{className:ot("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Tte=["x","y","top","left","width","height","className"];function a2(){return a2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a2.apply(null,arguments)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){Nte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nte(t,e,n){return(e=jte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jte(t){var e=Pte(t,"string");return typeof e=="symbol"?e:e+""}function Pte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ote(t,e){if(t==null)return{};var n,r,i=Ite(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ite(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rte=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),kte=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=t,d=Ote(t,Tte),h=Cte({x:e,y:n,top:r,left:i,width:a,height:l},d);return!je(e)||!je(n)||!je(a)||!je(l)||!je(r)||!je(i)?null:_.createElement("path",a2({},$t(h,!0),{className:ot("recharts-cross",u),d:Rte(e,n,a,l,r,i)}))};function Dte(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){Lte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lte(t,e,n){return(e=Vte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vte(t){var e=Ute(t,"string");return typeof e=="symbol"?e:e+""}function Ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vn(t,e){var n=Mte({},t),r=e,i=Object.keys(e),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}function Bte(){}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){zte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zte(t,e,n){return(e=$te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $te(t){var e=Fte(t,"string");return typeof e=="symbol"?e:e+""}function Fte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qte=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),l5=(t,e,n)=>t.map(r=>"".concat(qte(r)," ").concat(e,"ms ").concat(n)).join(","),Hte=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Nh=(t,e)=>Object.keys(e).reduce((n,r)=>hI(hI({},n),{},{[r]:t(r,e[r])}),{});function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){Kte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kte(t,e,n){return(e=Gte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gte(t){var e=Wte(t,"string");return typeof e=="symbol"?e:e+""}function Wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xy=(t,e,n)=>t+(e-t)*n,s2=t=>{var{from:e,to:n}=t;return e!==n},c5=(t,e,n)=>{var r=Nh((i,a)=>{if(s2(a)){var[l,u]=t(a.from,a.to,a.velocity);return ir(ir({},a),{},{from:l,velocity:u})}return a},e);return n<1?Nh((i,a)=>s2(a)?ir(ir({},a),{},{velocity:xy(a.velocity,r[i].velocity,n),from:xy(a.from,r[i].from,n)}):a,e):c5(t,r,n-1)};function Yte(t,e,n,r,i,a){var l,u=r.reduce((x,b)=>ir(ir({},x),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),d=()=>Nh((x,b)=>b.from,u),h=()=>!Object.values(u).filter(s2).length,p=null,g=x=>{l||(l=x);var b=x-l,A=b/n.dt;u=c5(n,u,A),i(ir(ir(ir({},t),e),d())),l=x,h()||(p=a.setTimeout(g))};return()=>(p=a.setTimeout(g),()=>{p()})}function Xte(t,e,n,r,i,a,l){var u=null,d=i.reduce((g,x)=>ir(ir({},g),{},{[x]:[t[x],e[x]]}),{}),h,p=g=>{h||(h=g);var x=(g-h)/r,b=Nh((E,S)=>xy(...S,n(x)),d);if(a(ir(ir(ir({},t),e),b)),x<1)u=l.setTimeout(p);else{var A=Nh((E,S)=>xy(...S,n(1)),d);a(ir(ir(ir({},t),e),A))}};return()=>(u=l.setTimeout(p),()=>{u()})}const Qte=(t,e,n,r,i,a)=>{var l=Hte(t,e);return n.isStepper===!0?Yte(t,e,n,l,i,a):Xte(t,e,n,r,l,i,a)};var by=1e-4,u5=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],d5=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),pI=(t,e)=>n=>{var r=u5(t,e);return d5(r,n)},Zte=(t,e)=>n=>{var r=u5(t,e),i=[...r.map((a,l)=>a*l).slice(1),0];return d5(i,n)},gI=function(){for(var e,n,r,i,a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([e,r,n,i]=d[1].split(")")[0].split(",").map(A=>parseFloat(A)))}}else l.length===4&&([e,r,n,i]=l);var h=pI(e,n),p=pI(r,i),g=Zte(e,n),x=A=>A>1?1:A<0?0:A,b=A=>{for(var E=A>1?1:A,S=E,C=0;C<8;++C){var j=h(S)-E,N=g(S);if(Math.abs(j-E)<by||N<by)return p(S);S=x(S-j/N)}return p(S)};return b.isStepper=!1,b},Jte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(l,u,d)=>{var h=-(l-u)*n,p=d*r,g=d+(h-p)*i/1e3,x=d*i/1e3+l;return Math.abs(x-u)<by&&Math.abs(g)<by?[u,0]:[x,g]};return a.isStepper=!0,a.dt=i,a},ene=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gI(t);case"spring":return Jte();default:if(t.split("(")[0]==="cubic-bezier")return gI(t)}return typeof t=="function"?t:null};function tne(t){var e,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...h]=u;if(typeof d=="number"){i=t.setTimeout(a.bind(null,h),d);return}a(d),i=t.setTimeout(a.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class nne{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function rne(){return tne(new nne)}var ine=_.createContext(rne);function ane(t,e){var n=_.useContext(ine);return _.useMemo(()=>e??n(t),[t,e,n])}var sne={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yI={t:0},Iw={t:1};function Sd(t){var e=Vn(t,sne),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:d,children:h}=e,p=ane(e.animationId,e.animationManager),[g,x]=_.useState(n?yI:Iw),b=_.useRef(null);return _.useEffect(()=>{n||x(Iw)},[n]),_.useEffect(()=>{if(!n||!r)return Bte;var A=Qte(yI,Iw,ene(a),i,x,p.getTimeoutController()),E=()=>{b.current=A()};return p.start([d,l,E,i,u]),()=>{p.stop(),b.current&&b.current(),u()}},[n,r,i,a,l,d,u,p]),h(g.t)}function Td(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Sh(e)),r=_.useRef(t);return r.current!==t&&(n.current=Sh(e),r.current=t),n.current}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){one(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function one(t,e,n){return(e=lne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lne(t){var e=cne(t,"string");return typeof e=="symbol"?e:e+""}function cne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wy(){return wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wy.apply(null,arguments)}var bI=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,h;if(a>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,x=4;g<x;g++)p[g]=i[g]>a?a:i[g];h="M".concat(t,",").concat(e+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(t+u*p[0],",").concat(e)),h+="L ".concat(t+n-u*p[1],",").concat(e),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(e+l*p[1])),h+="L ".concat(t+n,",").concat(e+r-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(t+n-u*p[2],",").concat(e+r)),h+="L ".concat(t+u*p[3],",").concat(e+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(e+r-l*p[3])),h+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);h="M ".concat(t,",").concat(e+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+u*b,",").concat(e,`
            L `).concat(t+n-u*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+n,",").concat(e+l*b,`
            L `).concat(t+n,",").concat(e+r-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+n-u*b,",").concat(e+r,`
            L `).concat(t+u*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t,",").concat(e+r-l*b," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},une={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},f5=t=>{var e=Vn(t,une),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ve=n.current.getTotalLength();ve&&i(ve)}catch{}},[]);var{x:a,y:l,width:u,height:d,radius:h,className:p}=e,{animationEasing:g,animationDuration:x,animationBegin:b,isAnimationActive:A,isUpdateAnimationActive:E}=e,S=_.useRef(u),C=_.useRef(d),j=_.useRef(a),N=_.useRef(l),L=_.useMemo(()=>({x:a,y:l,width:u,height:d,radius:h}),[a,l,u,d,h]),M=Td(L,"rectangle-");if(a!==+a||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var U=ot("recharts-rectangle",p);if(!E)return _.createElement("path",wy({},$t(e,!0),{className:U,d:bI(a,l,u,d,h)}));var R=S.current,I=C.current,k=j.current,$=N.current,V="0px ".concat(r===-1?1:r,"px"),F="".concat(r,"px 0px"),B=l5(["strokeDasharray"],x,typeof g=="string"?g:void 0);return _.createElement(Sd,{animationId:M,key:M,canBegin:r>0,duration:x,easing:g,isActive:E,begin:b},ve=>{var ie=Tt(R,u,ve),G=Tt(I,d,ve),W=Tt(k,a,ve),ae=Tt($,l,ve);n.current&&(S.current=ie,C.current=G,j.current=W,N.current=ae);var ye;return A?ve>0?ye={transition:B,strokeDasharray:F}:ye={strokeDasharray:V}:ye={strokeDasharray:F},_.createElement("path",wy({},$t(e,!0),{className:U,d:bI(W,ae,ie,G,h),ref:n,style:xI(xI({},ye),e.style)}))})};function h5(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,l=Nn(e,n,r,i),u=Nn(e,n,r,a);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function o2(){return o2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o2.apply(null,arguments)}var dne=(t,e)=>{var n=Wn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},ig=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:d}=t,h=u*(l?1:-1)+r,p=Math.asin(u/h)/yy,g=d?i:i+a*p,x=Nn(e,n,h,g),b=Nn(e,n,r,g),A=d?i-a*p:i,E=Nn(e,n,h*Math.cos(p*yy),A);return{center:x,circleTangency:b,lineTangency:E,theta:p}},m5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=t,u=dne(a,l),d=a+u,h=Nn(e,n,i,a),p=Nn(e,n,i,d),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var x=Nn(e,n,r,a),b=Nn(e,n,r,d);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},fne=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}=t,p=Wn(h-d),{circleTangency:g,lineTangency:x,theta:b}=ig({cx:e,cy:n,radius:i,angle:d,sign:p,cornerRadius:a,cornerIsExternal:u}),{circleTangency:A,lineTangency:E,theta:S}=ig({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:a,cornerIsExternal:u}),C=u?Math.abs(d-h):Math.abs(d-h)-b-S;if(C<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):m5({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:h});var j="M ".concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:N,lineTangency:L,theta:M}=ig({cx:e,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:U,lineTangency:R,theta:I}=ig({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),k=u?Math.abs(d-h):Math.abs(d-h)-M-I;if(k<0&&a===0)return"".concat(j,"L").concat(e,",").concat(n,"Z");j+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(p>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,"Z")}else j+="L".concat(e,",").concat(n,"Z");return j},hne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},p5=t=>{var e=Vn(t,hne),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p,className:g}=e;if(a<i||h===p)return null;var x=ot("recharts-sector",g),b=a-i,A=vr(l,b,0,!0),E;return A>0&&Math.abs(h-p)<360?E=fne({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(A,b/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p}):E=m5({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:p}),_.createElement("path",o2({},$t(e,!0),{className:x,d:E}))};function mne(t,e,n){var r,i,a,l;if(t==="horizontal")r=e.x,a=r,i=n.top,l=n.top+n.height;else if(t==="vertical")i=e.y,l=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:d,innerRadius:h,outerRadius:p,angle:g}=e,x=Nn(u,d,h,g),b=Nn(u,d,p,g);r=x.x,i=x.y,a=b.x,l=b.y}else return h5(e);return[{x:r,y:i},{x:a,y:l}]}var Rw={},kw={},Dw={},wI;function pne(){return wI||(wI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wM();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Dw)),Dw}var _I;function gne(){return _I||(_I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pne();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(kw)),kw}var EI;function yne(){return EI||(EI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_M(),n=gne();function r(i,a,l){l&&typeof l!="number"&&e.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),d=new Array(u);for(let h=0;h<u;h++)d[h]=i,i+=l;return d}t.range=r})(Rw)),Rw}var Mw,AI;function vne(){return AI||(AI=1,Mw=yne().range),Mw}var xne=vne();const g5=Qs(xne);function tl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function SE(t){let e,n,r;t.length!==2?(e=tl,n=(u,d)=>tl(t(u),d),r=(u,d)=>t(u)-d):(e=t===tl||t===bne?t:wne,n=t,r=t);function i(u,d,h=0,p=u.length){if(h<p){if(e(d,d)!==0)return p;do{const g=h+p>>>1;n(u[g],d)<0?h=g+1:p=g}while(h<p)}return h}function a(u,d,h=0,p=u.length){if(h<p){if(e(d,d)!==0)return p;do{const g=h+p>>>1;n(u[g],d)<=0?h=g+1:p=g}while(h<p)}return h}function l(u,d,h=0,p=u.length){const g=i(u,d,h,p-1);return g>h&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:l,right:a}}function wne(){return 0}function y5(t){return t===null?NaN:+t}function*_ne(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Ene=SE(tl),cm=Ene.right;SE(y5).center;class SI extends Map{constructor(e,n=Tne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(TI(this,e))}has(e){return super.has(TI(this,e))}set(e,n){return super.set(Ane(this,e),n)}delete(e){return super.delete(Sne(this,e))}}function TI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ane({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Sne({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Tne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Cne(t=tl){if(t===tl)return v5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function v5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Nne=Math.sqrt(50),jne=Math.sqrt(10),Pne=Math.sqrt(2);function _y(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=Nne?10:a>=jne?5:a>=Pne?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(t*h),d=Math.round(e*h),u/h<t&&++u,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*l,u=Math.round(t/h),d=Math.round(e/h),u*h<t&&++u,d*h>e&&--d),d<u&&.5<=n&&n<2?_y(t,e,n*2):[u,d,h]}function l2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,l]=r?_y(e,t,n):_y(t,e,n);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)d[h]=(a-h)/-l;else for(let h=0;h<u;++h)d[h]=(a-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(i+h)/-l;else for(let h=0;h<u;++h)d[h]=(i+h)*l;return d}function c2(t,e,n){return e=+e,t=+t,n=+n,_y(t,e,n)[2]}function u2(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?c2(e,t,n):c2(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function CI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function NI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function x5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?v5:Cne(i);r>n;){if(r-n>600){const d=r-n+1,h=e-n+1,p=Math.log(d),g=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*g*(d-g)/d)*(h-d/2<0?-1:1),b=Math.max(n,Math.floor(e-h*g/d+x)),A=Math.min(r,Math.floor(e+(d-h)*g/d+x));x5(t,e,b,A,i)}const a=t[e];let l=n,u=r;for(Wf(t,n,e),i(t[r],a)>0&&Wf(t,n,r);l<u;){for(Wf(t,l,u),++l,--u;i(t[l],a)<0;)++l;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?Wf(t,n,u):(++u,Wf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Wf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function One(t,e,n){if(t=Float64Array.from(_ne(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return NI(t);if(e>=1)return CI(t);var r,i=(r-1)*e,a=Math.floor(i),l=CI(x5(t,a).subarray(0,a+1)),u=NI(t.subarray(a+1));return l+(u-l)*(i-a)}}function Ine(t,e,n=y5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),l=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return l+(u-l)*(i-a)}}function Rne(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Gi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ro(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const d2=Symbol("implicit");function TE(){var t=new SI,e=[],n=[],r=d2;function i(a){let l=t.get(a);if(l===void 0){if(r!==d2)return r;t.set(a,l=e.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new SI;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return TE(e,n).unknown(r)},Gi.apply(i,arguments),i}function CE(){var t=TE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,l,u=!1,d=0,h=0,p=.5;delete t.unknown;function g(){var x=e().length,b=i<r,A=b?i:r,E=b?r:i;a=(E-A)/Math.max(1,x-d+h*2),u&&(a=Math.floor(a)),A+=(E-A-a*(x-d))*p,l=a*(1-d),u&&(A=Math.round(A),l=Math.round(l));var S=Rne(x).map(function(C){return A+a*C});return n(b?S.reverse():S)}return t.domain=function(x){return arguments.length?(e(x),g()):e()},t.range=function(x){return arguments.length?([r,i]=x,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(x){return[r,i]=x,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(x){return arguments.length?(u=!!x,g()):u},t.padding=function(x){return arguments.length?(d=Math.min(1,h=+x),g()):d},t.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),g()):d},t.paddingOuter=function(x){return arguments.length?(h=+x,g()):h},t.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),g()):p},t.copy=function(){return CE(e(),[r,i]).round(u).paddingInner(d).paddingOuter(h).align(p)},Gi.apply(g(),arguments)}function b5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return b5(e())},t}function kne(){return b5(CE.apply(null,arguments).paddingInner(1))}function NE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function w5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function um(){}var jh=.7,Ey=1/jh,Ku="\\s*([+-]?\\d+)\\s*",Ph="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dne=/^#([0-9a-f]{3,8})$/,Mne=new RegExp(`^rgb\\(${Ku},${Ku},${Ku}\\)$`),Lne=new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`),Vne=new RegExp(`^rgba\\(${Ku},${Ku},${Ku},${Ph}\\)$`),Une=new RegExp(`^rgba\\(${qa},${qa},${qa},${Ph}\\)$`),Bne=new RegExp(`^hsl\\(${Ph},${qa},${qa}\\)$`),zne=new RegExp(`^hsla\\(${Ph},${qa},${qa},${Ph}\\)$`),jI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NE(um,Oh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:PI,formatHex:PI,formatHex8:$ne,formatHsl:Fne,formatRgb:OI,toString:OI});function PI(){return this.rgb().formatHex()}function $ne(){return this.rgb().formatHex8()}function Fne(){return _5(this).formatHsl()}function OI(){return this.rgb().formatRgb()}function Oh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Dne.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?II(e):n===3?new Fr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ag(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ag(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Mne.exec(t))?new Fr(e[1],e[2],e[3],1):(e=Lne.exec(t))?new Fr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Vne.exec(t))?ag(e[1],e[2],e[3],e[4]):(e=Une.exec(t))?ag(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Bne.exec(t))?DI(e[1],e[2]/100,e[3]/100,1):(e=zne.exec(t))?DI(e[1],e[2]/100,e[3]/100,e[4]):jI.hasOwnProperty(t)?II(jI[t]):t==="transparent"?new Fr(NaN,NaN,NaN,0):null}function II(t){return new Fr(t>>16&255,t>>8&255,t&255,1)}function ag(t,e,n,r){return r<=0&&(t=e=n=NaN),new Fr(t,e,n,r)}function qne(t){return t instanceof um||(t=Oh(t)),t?(t=t.rgb(),new Fr(t.r,t.g,t.b,t.opacity)):new Fr}function f2(t,e,n,r){return arguments.length===1?qne(t):new Fr(t,e,n,r??1)}function Fr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}NE(Fr,f2,w5(um,{brighter(t){return t=t==null?Ey:Math.pow(Ey,t),new Fr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jh:Math.pow(jh,t),new Fr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Fr(gc(this.r),gc(this.g),gc(this.b),Ay(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RI,formatHex:RI,formatHex8:Hne,formatRgb:kI,toString:kI}));function RI(){return`#${cc(this.r)}${cc(this.g)}${cc(this.b)}`}function Hne(){return`#${cc(this.r)}${cc(this.g)}${cc(this.b)}${cc((isNaN(this.opacity)?1:this.opacity)*255)}`}function kI(){const t=Ay(this.opacity);return`${t===1?"rgb(":"rgba("}${gc(this.r)}, ${gc(this.g)}, ${gc(this.b)}${t===1?")":`, ${t})`}`}function Ay(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cc(t){return t=gc(t),(t<16?"0":"")+t.toString(16)}function DI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new la(t,e,n,r)}function _5(t){if(t instanceof la)return new la(t.h,t.s,t.l,t.opacity);if(t instanceof um||(t=Oh(t)),!t)return new la;if(t instanceof la)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,u=a-i,d=(a+i)/2;return u?(e===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-e)/u+2:l=(e-n)/u+4,u/=d<.5?a+i:2-a-i,l*=60):u=d>0&&d<1?0:l,new la(l,u,d,t.opacity)}function Kne(t,e,n,r){return arguments.length===1?_5(t):new la(t,e,n,r??1)}function la(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}NE(la,Kne,w5(um,{brighter(t){return t=t==null?Ey:Math.pow(Ey,t),new la(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jh:Math.pow(jh,t),new la(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Fr(Lw(t>=240?t-240:t+120,i,r),Lw(t,i,r),Lw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new la(MI(this.h),sg(this.s),sg(this.l),Ay(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ay(this.opacity);return`${t===1?"hsl(":"hsla("}${MI(this.h)}, ${sg(this.s)*100}%, ${sg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function MI(t){return t=(t||0)%360,t<0?t+360:t}function sg(t){return Math.max(0,Math.min(1,t||0))}function Lw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const jE=t=>()=>t;function Gne(t,e){return function(n){return t+n*e}}function Wne(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Yne(t){return(t=+t)==1?E5:function(e,n){return n-e?Wne(e,n,t):jE(isNaN(e)?n:e)}}function E5(t,e){var n=e-t;return n?Gne(t,n):jE(isNaN(t)?e:t)}const LI=(function t(e){var n=Yne(e);function r(i,a){var l=n((i=f2(i)).r,(a=f2(a)).r),u=n(i.g,a.g),d=n(i.b,a.b),h=E5(i.opacity,a.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function Xne(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Qne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Zne(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=Cd(t[l],e[l]);for(;l<n;++l)a[l]=e[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function Jne(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ere(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Cd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var h2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vw=new RegExp(h2.source,"g");function tre(t){return function(){return t}}function nre(t){return function(e){return t(e)+""}}function rre(t,e){var n=h2.lastIndex=Vw.lastIndex=0,r,i,a,l=-1,u=[],d=[];for(t=t+"",e=e+"";(r=h2.exec(t))&&(i=Vw.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:Sy(r,i)})),n=Vw.lastIndex;return n<e.length&&(a=e.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?d[0]?nre(d[0].x):tre(e):(e=d.length,function(h){for(var p=0,g;p<e;++p)u[(g=d[p]).i]=g.x(h);return u.join("")})}function Cd(t,e){var n=typeof e,r;return e==null||n==="boolean"?jE(e):(n==="number"?Sy:n==="string"?(r=Oh(e))?(e=r,LI):rre:e instanceof Oh?LI:e instanceof Date?Jne:Qne(e)?Xne:Array.isArray(e)?Zne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ere:Sy)(t,e)}function PE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ire(t,e){e===void 0&&(e=t,t=Cd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function are(t){return function(){return t}}function Ty(t){return+t}var VI=[0,1];function Pr(t){return t}function m2(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:are(isNaN(e)?NaN:.5)}function sre(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ore(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=m2(i,r),a=n(l,a)):(r=m2(r,i),a=n(a,l)),function(u){return a(r(u))}}function lre(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=m2(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(u){var d=cm(t,u,1,r)-1;return a[d](i[d](u))}}function dm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Bv(){var t=VI,e=VI,n=Cd,r,i,a,l=Pr,u,d,h;function p(){var x=Math.min(t.length,e.length);return l!==Pr&&(l=sre(t[0],t[x-1])),u=x>2?lre:ore,d=h=null,g}function g(x){return x==null||isNaN(x=+x)?a:(d||(d=u(t.map(r),e,n)))(r(l(x)))}return g.invert=function(x){return l(i((h||(h=u(e,t.map(r),Sy)))(x)))},g.domain=function(x){return arguments.length?(t=Array.from(x,Ty),p()):t.slice()},g.range=function(x){return arguments.length?(e=Array.from(x),p()):e.slice()},g.rangeRound=function(x){return e=Array.from(x),n=PE,p()},g.clamp=function(x){return arguments.length?(l=x?!0:Pr,p()):l!==Pr},g.interpolate=function(x){return arguments.length?(n=x,p()):n},g.unknown=function(x){return arguments.length?(a=x,g):a},function(x,b){return r=x,i=b,p()}}function OE(){return Bv()(Pr,Pr)}function cre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ld(t){return t=Cy(Math.abs(t)),t?t[1]:NaN}function ure(t,e){return function(n,r){for(var i=n.length,a=[],l=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),a.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=t[l=(l+1)%t.length];return a.reverse().join(e)}}function dre(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var fre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ih(t){if(!(e=fre.exec(t)))throw new Error("invalid format: "+t);var e;return new IE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ih.prototype=IE.prototype;function IE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}IE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var A5;function mre(t,e){var n=Cy(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(A5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Cy(t,Math.max(0,e+a-1))[0]}function UI(t,e){var n=Cy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const BI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:cre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>UI(t*100,e),r:UI,s:mre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function zI(t){return t}var $I=Array.prototype.map,FI=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function pre(t){var e=t.grouping===void 0||t.thousands===void 0?zI:ure($I.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?zI:dre($I.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(g){g=Ih(g);var x=g.fill,b=g.align,A=g.sign,E=g.symbol,S=g.zero,C=g.width,j=g.comma,N=g.precision,L=g.trim,M=g.type;M==="n"?(j=!0,M="g"):BI[M]||(N===void 0&&(N=12),L=!0,M="g"),(S||x==="0"&&b==="=")&&(S=!0,x="0",b="=");var U=E==="$"?n:E==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",R=E==="$"?r:/[%p]/.test(M)?l:"",I=BI[M],k=/[defgprs%]/.test(M);N=N===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function $(V){var F=U,B=R,ve,ie,G;if(M==="c")B=I(V)+B,V="";else{V=+V;var W=V<0||1/V<0;if(V=isNaN(V)?d:I(Math.abs(V),N),L&&(V=hre(V)),W&&+V==0&&A!=="+"&&(W=!1),F=(W?A==="("?A:u:A==="-"||A==="("?"":A)+F,B=(M==="s"?FI[8+A5/3]:"")+B+(W&&A==="("?")":""),k){for(ve=-1,ie=V.length;++ve<ie;)if(G=V.charCodeAt(ve),48>G||G>57){B=(G===46?i+V.slice(ve+1):V.slice(ve))+B,V=V.slice(0,ve);break}}}j&&!S&&(V=e(V,1/0));var ae=F.length+V.length+B.length,ye=ae<C?new Array(C-ae+1).join(x):"";switch(j&&S&&(V=e(ye+V,ye.length?C-B.length:1/0),ye=""),b){case"<":V=F+V+B+ye;break;case"=":V=F+ye+V+B;break;case"^":V=ye.slice(0,ae=ye.length>>1)+F+V+B+ye.slice(ae);break;default:V=ye+F+V+B;break}return a(V)}return $.toString=function(){return g+""},$}function p(g,x){var b=h((g=Ih(g),g.type="f",g)),A=Math.max(-8,Math.min(8,Math.floor(ld(x)/3)))*3,E=Math.pow(10,-A),S=FI[8+A/3];return function(C){return b(E*C)+S}}return{format:h,formatPrefix:p}}var og,RE,S5;gre({thousands:",",grouping:[3],currency:["$",""]});function gre(t){return og=pre(t),RE=og.format,S5=og.formatPrefix,og}function yre(t){return Math.max(0,-ld(Math.abs(t)))}function vre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ld(e)/3)))*3-ld(Math.abs(t)))}function xre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ld(e)-ld(t))+1}function T5(t,e,n,r){var i=u2(t,e,n),a;switch(r=Ih(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=vre(i,l))&&(r.precision=a),S5(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=xre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=yre(i))&&(r.precision=a-(r.type==="%")*2);break}}return RE(r)}function bl(t){var e=t.domain;return t.ticks=function(n){var r=e();return l2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return T5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,l=r[i],u=r[a],d,h,p=10;for(u<l&&(h=l,l=u,u=h,h=i,i=a,a=h);p-- >0;){if(h=c2(l,u,n),h===d)return r[i]=l,r[a]=u,e(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return t},t}function C5(){var t=OE();return t.copy=function(){return dm(t,C5())},Gi.apply(t,arguments),bl(t)}function N5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ty),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return N5(t).unknown(e)},t=arguments.length?Array.from(t,Ty):[0,1],bl(n)}function j5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function qI(t){return Math.log(t)}function HI(t){return Math.exp(t)}function bre(t){return-Math.log(-t)}function wre(t){return-Math.exp(-t)}function _re(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ere(t){return t===10?_re:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Are(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function KI(t){return(e,n)=>-t(-e,n)}function kE(t){const e=t(qI,HI),n=e.domain;let r=10,i,a;function l(){return i=Are(r),a=Ere(r),n()[0]<0?(i=KI(i),a=KI(a),t(bre,wre)):t(qI,HI),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const d=n();let h=d[0],p=d[d.length-1];const g=p<h;g&&([h,p]=[p,h]);let x=i(h),b=i(p),A,E;const S=u==null?10:+u;let C=[];if(!(r%1)&&b-x<S){if(x=Math.floor(x),b=Math.ceil(b),h>0){for(;x<=b;++x)for(A=1;A<r;++A)if(E=x<0?A/a(-x):A*a(x),!(E<h)){if(E>p)break;C.push(E)}}else for(;x<=b;++x)for(A=r-1;A>=1;--A)if(E=x>0?A/a(-x):A*a(x),!(E<h)){if(E>p)break;C.push(E)}C.length*2<S&&(C=l2(h,p,S))}else C=l2(x,b,Math.min(b-x,S)).map(a);return g?C.reverse():C},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Ih(d)).precision==null&&(d.trim=!0),d=RE(d)),u===1/0)return d;const h=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/a(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?d(p):""}},e.nice=()=>n(j5(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function P5(){const t=kE(Bv()).domain([1,10]);return t.copy=()=>dm(t,P5()).base(t.base()),Gi.apply(t,arguments),t}function GI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function WI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function DE(t){var e=1,n=t(GI(e),WI(e));return n.constant=function(r){return arguments.length?t(GI(e=+r),WI(e)):e},bl(n)}function O5(){var t=DE(Bv());return t.copy=function(){return dm(t,O5()).constant(t.constant())},Gi.apply(t,arguments)}function YI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Sre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Tre(t){return t<0?-t*t:t*t}function ME(t){var e=t(Pr,Pr),n=1;function r(){return n===1?t(Pr,Pr):n===.5?t(Sre,Tre):t(YI(n),YI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},bl(e)}function LE(){var t=ME(Bv());return t.copy=function(){return dm(t,LE()).exponent(t.exponent())},Gi.apply(t,arguments),t}function Cre(){return LE.apply(null,arguments).exponent(.5)}function XI(t){return Math.sign(t)*t*t}function Nre(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function I5(){var t=OE(),e=[0,1],n=!1,r;function i(a){var l=Nre(t(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return t.invert(XI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Ty)).map(XI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return I5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Gi.apply(i,arguments),bl(i)}function R5(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=Ine(t,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:e[cm(n,l)]}return a.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(tl),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return R5().domain(t).range(e).unknown(r)},Gi.apply(a,arguments)}function k5(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function l(d){return d!=null&&d<=d?i[cm(r,d,0,n)]:a}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(d){return arguments.length&&(a=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return k5().domain([t,e]).range(i).unknown(a)},Gi.apply(bl(l),arguments)}function D5(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[cm(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return D5().domain(t).range(e).unknown(n)},Gi.apply(i,arguments)}const Uw=new Date,Bw=new Date;function Un(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return d;let h;do d.push(h=new Date(+a)),e(a,u),t(a);while(h<a&&a<l);return d},i.filter=a=>Un(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!a(l););else for(;--u>=0;)for(;e(l,1),!a(l););}),n&&(i.count=(a,l)=>(Uw.setTime(+a),Bw.setTime(+l),t(Uw),t(Bw),Math.floor(n(Uw,Bw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const Ny=Un(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ny.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Un(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ny);Ny.range;const Ps=1e3,Li=Ps*60,Os=Li*60,Ws=Os*24,VE=Ws*7,QI=Ws*30,zw=Ws*365,uc=Un(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ps)},(t,e)=>(e-t)/Ps,t=>t.getUTCSeconds());uc.range;const UE=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ps)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getMinutes());UE.range;const BE=Un(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getUTCMinutes());BE.range;const zE=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ps-t.getMinutes()*Li)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getHours());zE.range;const $E=Un(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getUTCHours());$E.range;const fm=Un(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Li)/Ws,t=>t.getDate()-1);fm.range;const zv=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ws,t=>t.getUTCDate()-1);zv.range;const M5=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ws,t=>Math.floor(t/Ws));M5.range;function $c(t){return Un(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Li)/VE)}const $v=$c(0),jy=$c(1),jre=$c(2),Pre=$c(3),cd=$c(4),Ore=$c(5),Ire=$c(6);$v.range;jy.range;jre.range;Pre.range;cd.range;Ore.range;Ire.range;function Fc(t){return Un(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/VE)}const Fv=Fc(0),Py=Fc(1),Rre=Fc(2),kre=Fc(3),ud=Fc(4),Dre=Fc(5),Mre=Fc(6);Fv.range;Py.range;Rre.range;kre.range;ud.range;Dre.range;Mre.range;const FE=Un(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());FE.range;const qE=Un(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());qE.range;const Ys=Un(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ys.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ys.range;const Xs=Un(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Xs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Xs.range;function L5(t,e,n,r,i,a){const l=[[uc,1,Ps],[uc,5,5*Ps],[uc,15,15*Ps],[uc,30,30*Ps],[a,1,Li],[a,5,5*Li],[a,15,15*Li],[a,30,30*Li],[i,1,Os],[i,3,3*Os],[i,6,6*Os],[i,12,12*Os],[r,1,Ws],[r,2,2*Ws],[n,1,VE],[e,1,QI],[e,3,3*QI],[t,1,zw]];function u(h,p,g){const x=p<h;x&&([h,p]=[p,h]);const b=g&&typeof g.range=="function"?g:d(h,p,g),A=b?b.range(h,+p+1):[];return x?A.reverse():A}function d(h,p,g){const x=Math.abs(p-h)/g,b=SE(([,,S])=>S).right(l,x);if(b===l.length)return t.every(u2(h/zw,p/zw,g));if(b===0)return Ny.every(Math.max(u2(h,p,g),1));const[A,E]=l[x/l[b-1][2]<l[b][2]/x?b-1:b];return A.every(E)}return[u,d]}const[Lre,Vre]=L5(Xs,qE,Fv,M5,$E,BE),[Ure,Bre]=L5(Ys,FE,$v,fm,zE,UE);function $w(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function zre(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,h=Xf(i),p=Qf(i),g=Xf(a),x=Qf(a),b=Xf(l),A=Qf(l),E=Xf(u),S=Qf(u),C=Xf(d),j=Qf(d),N={a:W,A:ae,b:ye,B:H,c:null,d:rR,e:rR,f:uie,g:bie,G:_ie,H:oie,I:lie,j:cie,L:V5,m:die,M:fie,p:le,q:ue,Q:sR,s:oR,S:hie,u:mie,U:pie,V:gie,w:yie,W:vie,x:null,X:null,y:xie,Y:wie,Z:Eie,"%":aR},L={a:oe,A:he,b:xe,B:we,c:null,d:iR,e:iR,f:Cie,g:Lie,G:Uie,H:Aie,I:Sie,j:Tie,L:B5,m:Nie,M:jie,p:We,q:lt,Q:sR,s:oR,S:Pie,u:Oie,U:Iie,V:Rie,w:kie,W:Die,x:null,X:null,y:Mie,Y:Vie,Z:Bie,"%":aR},M={a:$,A:V,b:F,B,c:ve,d:tR,e:tR,f:rie,g:eR,G:JI,H:nR,I:nR,j:Jre,L:nie,m:Zre,M:eie,p:k,q:Qre,Q:aie,s:sie,S:tie,u:Kre,U:Gre,V:Wre,w:Hre,W:Yre,x:ie,X:G,y:eR,Y:JI,Z:Xre,"%":iie};N.x=U(n,N),N.X=U(r,N),N.c=U(e,N),L.x=U(n,L),L.X=U(r,L),L.c=U(e,L);function U(Ee,$e){return function(Ke){var ge=[],Le=-1,tt=0,xn=Ee.length,Yt,Lt,ns;for(Ke instanceof Date||(Ke=new Date(+Ke));++Le<xn;)Ee.charCodeAt(Le)===37&&(ge.push(Ee.slice(tt,Le)),(Lt=ZI[Yt=Ee.charAt(++Le)])!=null?Yt=Ee.charAt(++Le):Lt=Yt==="e"?" ":"0",(ns=$e[Yt])&&(Yt=ns(Ke,Lt)),ge.push(Yt),tt=Le+1);return ge.push(Ee.slice(tt,Le)),ge.join("")}}function R(Ee,$e){return function(Ke){var ge=Yf(1900,void 0,1),Le=I(ge,Ee,Ke+="",0),tt,xn;if(Le!=Ke.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if($e&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(tt=Fw(Yf(ge.y,0,1)),xn=tt.getUTCDay(),tt=xn>4||xn===0?Py.ceil(tt):Py(tt),tt=zv.offset(tt,(ge.V-1)*7),ge.y=tt.getUTCFullYear(),ge.m=tt.getUTCMonth(),ge.d=tt.getUTCDate()+(ge.w+6)%7):(tt=$w(Yf(ge.y,0,1)),xn=tt.getDay(),tt=xn>4||xn===0?jy.ceil(tt):jy(tt),tt=fm.offset(tt,(ge.V-1)*7),ge.y=tt.getFullYear(),ge.m=tt.getMonth(),ge.d=tt.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),xn="Z"in ge?Fw(Yf(ge.y,0,1)).getUTCDay():$w(Yf(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(xn+5)%7:ge.w+ge.U*7-(xn+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,Fw(ge)):$w(ge)}}function I(Ee,$e,Ke,ge){for(var Le=0,tt=$e.length,xn=Ke.length,Yt,Lt;Le<tt;){if(ge>=xn)return-1;if(Yt=$e.charCodeAt(Le++),Yt===37){if(Yt=$e.charAt(Le++),Lt=M[Yt in ZI?$e.charAt(Le++):Yt],!Lt||(ge=Lt(Ee,Ke,ge))<0)return-1}else if(Yt!=Ke.charCodeAt(ge++))return-1}return ge}function k(Ee,$e,Ke){var ge=h.exec($e.slice(Ke));return ge?(Ee.p=p.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function $(Ee,$e,Ke){var ge=b.exec($e.slice(Ke));return ge?(Ee.w=A.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function V(Ee,$e,Ke){var ge=g.exec($e.slice(Ke));return ge?(Ee.w=x.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function F(Ee,$e,Ke){var ge=C.exec($e.slice(Ke));return ge?(Ee.m=j.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function B(Ee,$e,Ke){var ge=E.exec($e.slice(Ke));return ge?(Ee.m=S.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function ve(Ee,$e,Ke){return I(Ee,e,$e,Ke)}function ie(Ee,$e,Ke){return I(Ee,n,$e,Ke)}function G(Ee,$e,Ke){return I(Ee,r,$e,Ke)}function W(Ee){return l[Ee.getDay()]}function ae(Ee){return a[Ee.getDay()]}function ye(Ee){return d[Ee.getMonth()]}function H(Ee){return u[Ee.getMonth()]}function le(Ee){return i[+(Ee.getHours()>=12)]}function ue(Ee){return 1+~~(Ee.getMonth()/3)}function oe(Ee){return l[Ee.getUTCDay()]}function he(Ee){return a[Ee.getUTCDay()]}function xe(Ee){return d[Ee.getUTCMonth()]}function we(Ee){return u[Ee.getUTCMonth()]}function We(Ee){return i[+(Ee.getUTCHours()>=12)]}function lt(Ee){return 1+~~(Ee.getUTCMonth()/3)}return{format:function(Ee){var $e=U(Ee+="",N);return $e.toString=function(){return Ee},$e},parse:function(Ee){var $e=R(Ee+="",!1);return $e.toString=function(){return Ee},$e},utcFormat:function(Ee){var $e=U(Ee+="",L);return $e.toString=function(){return Ee},$e},utcParse:function(Ee){var $e=R(Ee+="",!0);return $e.toString=function(){return Ee},$e}}}var ZI={"-":"",_:" ",0:"0"},Xn=/^\s*\d+/,$re=/^%/,Fre=/[\\^$*+?|[\]().{}]/g;function dt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function qre(t){return t.replace(Fre,"\\$&")}function Xf(t){return new RegExp("^(?:"+t.map(qre).join("|")+")","i")}function Qf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Hre(t,e,n){var r=Xn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Kre(t,e,n){var r=Xn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Gre(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Wre(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Yre(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function JI(t,e,n){var r=Xn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function eR(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Xre(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Qre(t,e,n){var r=Xn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Zre(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function tR(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Jre(t,e,n){var r=Xn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function nR(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function eie(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function tie(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function nie(t,e,n){var r=Xn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function rie(t,e,n){var r=Xn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function iie(t,e,n){var r=$re.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function aie(t,e,n){var r=Xn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function sie(t,e,n){var r=Xn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function rR(t,e){return dt(t.getDate(),e,2)}function oie(t,e){return dt(t.getHours(),e,2)}function lie(t,e){return dt(t.getHours()%12||12,e,2)}function cie(t,e){return dt(1+fm.count(Ys(t),t),e,3)}function V5(t,e){return dt(t.getMilliseconds(),e,3)}function uie(t,e){return V5(t,e)+"000"}function die(t,e){return dt(t.getMonth()+1,e,2)}function fie(t,e){return dt(t.getMinutes(),e,2)}function hie(t,e){return dt(t.getSeconds(),e,2)}function mie(t){var e=t.getDay();return e===0?7:e}function pie(t,e){return dt($v.count(Ys(t)-1,t),e,2)}function U5(t){var e=t.getDay();return e>=4||e===0?cd(t):cd.ceil(t)}function gie(t,e){return t=U5(t),dt(cd.count(Ys(t),t)+(Ys(t).getDay()===4),e,2)}function yie(t){return t.getDay()}function vie(t,e){return dt(jy.count(Ys(t)-1,t),e,2)}function xie(t,e){return dt(t.getFullYear()%100,e,2)}function bie(t,e){return t=U5(t),dt(t.getFullYear()%100,e,2)}function wie(t,e){return dt(t.getFullYear()%1e4,e,4)}function _ie(t,e){var n=t.getDay();return t=n>=4||n===0?cd(t):cd.ceil(t),dt(t.getFullYear()%1e4,e,4)}function Eie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function iR(t,e){return dt(t.getUTCDate(),e,2)}function Aie(t,e){return dt(t.getUTCHours(),e,2)}function Sie(t,e){return dt(t.getUTCHours()%12||12,e,2)}function Tie(t,e){return dt(1+zv.count(Xs(t),t),e,3)}function B5(t,e){return dt(t.getUTCMilliseconds(),e,3)}function Cie(t,e){return B5(t,e)+"000"}function Nie(t,e){return dt(t.getUTCMonth()+1,e,2)}function jie(t,e){return dt(t.getUTCMinutes(),e,2)}function Pie(t,e){return dt(t.getUTCSeconds(),e,2)}function Oie(t){var e=t.getUTCDay();return e===0?7:e}function Iie(t,e){return dt(Fv.count(Xs(t)-1,t),e,2)}function z5(t){var e=t.getUTCDay();return e>=4||e===0?ud(t):ud.ceil(t)}function Rie(t,e){return t=z5(t),dt(ud.count(Xs(t),t)+(Xs(t).getUTCDay()===4),e,2)}function kie(t){return t.getUTCDay()}function Die(t,e){return dt(Py.count(Xs(t)-1,t),e,2)}function Mie(t,e){return dt(t.getUTCFullYear()%100,e,2)}function Lie(t,e){return t=z5(t),dt(t.getUTCFullYear()%100,e,2)}function Vie(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function Uie(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ud(t):ud.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function Bie(){return"+0000"}function aR(){return"%"}function sR(t){return+t}function oR(t){return Math.floor(+t/1e3)}var Ou,$5,F5;zie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zie(t){return Ou=zre(t),$5=Ou.format,Ou.parse,F5=Ou.utcFormat,Ou.utcParse,Ou}function $ie(t){return new Date(t)}function Fie(t){return t instanceof Date?+t:+new Date(+t)}function HE(t,e,n,r,i,a,l,u,d,h){var p=OE(),g=p.invert,x=p.domain,b=h(".%L"),A=h(":%S"),E=h("%I:%M"),S=h("%I %p"),C=h("%a %d"),j=h("%b %d"),N=h("%B"),L=h("%Y");function M(U){return(d(U)<U?b:u(U)<U?A:l(U)<U?E:a(U)<U?S:r(U)<U?i(U)<U?C:j:n(U)<U?N:L)(U)}return p.invert=function(U){return new Date(g(U))},p.domain=function(U){return arguments.length?x(Array.from(U,Fie)):x().map($ie)},p.ticks=function(U){var R=x();return t(R[0],R[R.length-1],U??10)},p.tickFormat=function(U,R){return R==null?M:h(R)},p.nice=function(U){var R=x();return(!U||typeof U.range!="function")&&(U=e(R[0],R[R.length-1],U??10)),U?x(j5(R,U)):p},p.copy=function(){return dm(p,HE(t,e,n,r,i,a,l,u,d,h))},p}function qie(){return Gi.apply(HE(Ure,Bre,Ys,FE,$v,fm,zE,UE,uc,$5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Hie(){return Gi.apply(HE(Lre,Vre,Xs,qE,Fv,zv,$E,BE,uc,F5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qv(){var t=0,e=1,n,r,i,a,l=Pr,u=!1,d;function h(g){return g==null||isNaN(g=+g)?d:l(i===0?.5:(g=(a(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(x){var b,A;return arguments.length?([b,A]=x,l=g(b,A),h):[l(0),l(1)]}}return h.range=p(Cd),h.rangeRound=p(PE),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return a=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function wl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function q5(){var t=bl(qv()(Pr));return t.copy=function(){return wl(t,q5())},ro.apply(t,arguments)}function H5(){var t=kE(qv()).domain([1,10]);return t.copy=function(){return wl(t,H5()).base(t.base())},ro.apply(t,arguments)}function K5(){var t=DE(qv());return t.copy=function(){return wl(t,K5()).constant(t.constant())},ro.apply(t,arguments)}function KE(){var t=ME(qv());return t.copy=function(){return wl(t,KE()).exponent(t.exponent())},ro.apply(t,arguments)}function Kie(){return KE.apply(null,arguments).exponent(.5)}function G5(){var t=[],e=Pr;function n(r){if(r!=null&&!isNaN(r=+r))return e((cm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(tl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>One(t,a/r))},n.copy=function(){return G5(e).domain(t)},ro.apply(n,arguments)}function Hv(){var t=0,e=.5,n=1,r=1,i,a,l,u,d,h=Pr,p,g=!1,x;function b(E){return isNaN(E=+E)?x:(E=.5+((E=+p(E))-a)*(r*E<r*a?u:d),h(g?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,n]=E,i=p(t=+t),a=p(e=+e),l=p(n=+n),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(E){return arguments.length?(g=!!E,b):g},b.interpolator=function(E){return arguments.length?(h=E,b):h};function A(E){return function(S){var C,j,N;return arguments.length?([C,j,N]=S,h=ire(E,[C,j,N]),b):[h(0),h(.5),h(1)]}}return b.range=A(Cd),b.rangeRound=A(PE),b.unknown=function(E){return arguments.length?(x=E,b):x},function(E){return p=E,i=E(t),a=E(e),l=E(n),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,b}}function W5(){var t=bl(Hv()(Pr));return t.copy=function(){return wl(t,W5())},ro.apply(t,arguments)}function Y5(){var t=kE(Hv()).domain([.1,1,10]);return t.copy=function(){return wl(t,Y5()).base(t.base())},ro.apply(t,arguments)}function X5(){var t=DE(Hv());return t.copy=function(){return wl(t,X5()).constant(t.constant())},ro.apply(t,arguments)}function GE(){var t=ME(Hv());return t.copy=function(){return wl(t,GE()).exponent(t.exponent())},ro.apply(t,arguments)}function Gie(){return GE.apply(null,arguments).exponent(.5)}const sh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:CE,scaleDiverging:W5,scaleDivergingLog:Y5,scaleDivergingPow:GE,scaleDivergingSqrt:Gie,scaleDivergingSymlog:X5,scaleIdentity:N5,scaleImplicit:d2,scaleLinear:C5,scaleLog:P5,scaleOrdinal:TE,scalePoint:kne,scalePow:LE,scaleQuantile:R5,scaleQuantize:k5,scaleRadial:I5,scaleSequential:q5,scaleSequentialLog:H5,scaleSequentialPow:KE,scaleSequentialQuantile:G5,scaleSequentialSqrt:Kie,scaleSequentialSymlog:K5,scaleSqrt:Cre,scaleSymlog:O5,scaleThreshold:D5,scaleTime:qie,scaleUtc:Hie,tickFormat:T5},Symbol.toStringTag,{value:"Module"}));var _l=t=>t.chartData,WE=ee([_l],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),hm=(t,e,n,r)=>r?WE(t):_l(t);function dd(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(or(e)&&or(n))return!0}return!1}function lR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Wie(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(or(n))i=n;else if(typeof n=="function")return;if(or(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(dd(l))return l}}function Yie(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(dd(r))return lR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(je(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&ZO.test(i)){var d=ZO.exec(i);if(d==null||e==null)l=void 0;else{var h=+d[1];l=e[0]-h}}else l=e?.[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(je(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e?.[1]))}catch{}else if(typeof a=="string"&&JO.test(a)){var p=JO.exec(a);if(p==null||e==null)u=void 0;else{var g=+p[1];u=e[1]+g}}else u=e?.[1];var x=[l,u];if(dd(x))return e==null?x:lR(x,e,n)}}}var Nd=1e9,Xie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XE,Kt=!0,Fi="[DecimalError] ",yc=Fi+"Invalid argument: ",YE=Fi+"Exponent out of range: ",jd=Math.floor,ic=Math.pow,Qie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,si,Gn=1e7,Ut=7,Q5=9007199254740991,Oy=jd(Q5/Ut),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ut;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return Vs(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return Pt(Vs(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return jn(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(si))throw Error(Fi+"NaN");if(n.s<1)throw Error(Fi+(n.s?"NaN":"-Infinity"));return n.eq(si)?new r(0):(Kt=!1,e=Vs(Rh(n,a),Rh(t,a),a),Kt=!0,Pt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eL(e,t):Z5(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Fi+"NaN");return n.s?(Kt=!1,e=Vs(n,t,0,1).times(t),Kt=!0,n.minus(e)):Pt(new r(n),i)};Te.naturalExponential=Te.exp=function(){return J5(this)};Te.naturalLogarithm=Te.ln=function(){return Rh(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Z5(e,t):eL(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(yc+t);if(e=jn(i)+1,r=i.d.length-1,n=r*Ut+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,a,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Fi+"NaN")}for(t=jn(u),Kt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=La(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=jd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(a=r,r=a.plus(Vs(u,a,l+2)).times(.5),La(a.d).slice(0,l)===(e=La(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Pt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;l+=4}return Kt=!0,Pt(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,a,l,u,d,h,p=this,g=p.constructor,x=p.d,b=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,d=x.length,h=b.length,d<h&&(a=x,x=b,b=a,l=d,d=h,h=l),a=[],l=d+h,r=l;r--;)a.push(0);for(r=h;--r>=0;){for(e=0,i=d+r;i>r;)u=a[i]+b[r]*x[i-r-1]+e,a[i--]=u%Gn|0,e=u/Gn|0;a[i]=(a[i]+e)%Gn|0}for(;!a[--l];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Kt?Pt(t,g.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ya(t,0,Nd),e===void 0?e=r.rounding:Ya(e,0,8),Pt(n,t+jn(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Nc(r,!0):(Ya(t,0,Nd),e===void 0?e=i.rounding:Ya(e,0,8),r=Pt(new i(r),t+1,e),n=Nc(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Nc(i):(Ya(t,0,Nd),e===void 0?e=a.rounding:Ya(e,0,8),r=Pt(new a(i),t+jn(i)+1,e),n=Nc(r.abs(),!1,t+jn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return Pt(new e(t),jn(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,a,l,u=this,d=u.constructor,h=12,p=+(t=new d(t));if(!t.s)return new d(si);if(u=new d(u),!u.s){if(t.s<1)throw Error(Fi+"Infinity");return u}if(u.eq(si))return u;if(r=d.precision,t.eq(si))return Pt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,a=u.s,l){if((n=p<0?-p:p)<=Q5){for(i=new d(si),e=Math.ceil(r/Ut+4),Kt=!1;n%2&&(i=i.times(u),uR(i.d,e)),n=jd(n/2),n!==0;)u=u.times(u),uR(u.d,e);return Kt=!0,t.s<0?new d(si).div(i):Pt(i,r)}}else if(a<0)throw Error(Fi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Kt=!1,i=t.times(Rh(u,r+h)),Kt=!0,i=J5(i),i.s=a,i};Te.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=jn(i),r=Nc(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ya(t,1,Nd),e===void 0?e=a.rounding:Ya(e,0,8),i=Pt(new a(i),t,e),n=jn(i),r=Nc(i,t<=n||n<=a.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ya(t,1,Nd),e===void 0?e=r.rounding:Ya(e,0,8)),Pt(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=jn(t),n=t.constructor;return Nc(t,e<=n.toExpNeg||e>=n.toExpPos)};function Z5(t,e){var n,r,i,a,l,u,d,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Kt?Pt(e,g):e;if(d=t.d,h=e.d,l=t.e,i=e.e,d=d.slice(),a=l-i,a){for(a<0?(r=d,a=-a,u=h.length):(r=h,i=l,u=d.length),l=Math.ceil(g/Ut),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=d.length,a=h.length,u-a<0&&(a=u,r=h,h=d,d=r),n=0;a;)n=(d[--a]=d[a]+h[a]+n)/Gn|0,d[a]%=Gn;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,Kt?Pt(e,g):e}function Ya(t,e,n){if(t!==~~t||t<e||t>n)throw Error(yc+t)}function La(t){var e,n,r,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)r=t[e]+"",n=Ut-r.length,n&&(a+=zo(n)),a+=r;l=t[e],r=l+"",n=Ut-r.length,n&&(a+=zo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var Vs=(function(){function t(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%Gn|0,l=a/Gn|0;return l&&r.unshift(l),r}function e(r,i,a,l){var u,d;if(a!=l)d=a>l?1:-1;else for(u=d=0;u<a;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Gn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,d,h,p,g,x,b,A,E,S,C,j,N,L,M,U,R,I,k=r.constructor,$=r.s==i.s?1:-1,V=r.d,F=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Fi+"Division by zero");for(d=r.e-i.e,R=F.length,M=V.length,b=new k($),A=b.d=[],h=0;F[h]==(V[h]||0);)++h;if(F[h]>(V[h]||0)&&--d,a==null?j=a=k.precision:l?j=a+(jn(r)-jn(i))+1:j=a,j<0)return new k(0);if(j=j/Ut+2|0,h=0,R==1)for(p=0,F=F[0],j++;(h<M||p)&&j--;h++)N=p*Gn+(V[h]||0),A[h]=N/F|0,p=N%F|0;else{for(p=Gn/(F[0]+1)|0,p>1&&(F=t(F,p),V=t(V,p),R=F.length,M=V.length),L=R,E=V.slice(0,R),S=E.length;S<R;)E[S++]=0;I=F.slice(),I.unshift(0),U=F[0],F[1]>=Gn/2&&++U;do p=0,u=e(F,E,R,S),u<0?(C=E[0],R!=S&&(C=C*Gn+(E[1]||0)),p=C/U|0,p>1?(p>=Gn&&(p=Gn-1),g=t(F,p),x=g.length,S=E.length,u=e(g,E,x,S),u==1&&(p--,n(g,R<x?I:F,x))):(p==0&&(u=p=1),g=F.slice()),x=g.length,x<S&&g.unshift(0),n(E,g,S),u==-1&&(S=E.length,u=e(F,E,R,S),u<1&&(p++,n(E,R<S?I:F,S))),S=E.length):u===0&&(p++,E=[0]),A[h++]=p,u&&E[0]?E[S++]=V[L]||0:(E=[V[L]],S=1);while((L++<M||E[0]!==void 0)&&j--)}return A[0]||A.shift(),b.e=d,Pt(b,l?a+jn(b)+1:a)}})();function J5(t,e){var n,r,i,a,l,u,d=0,h=0,p=t.constructor,g=p.precision;if(jn(t)>16)throw Error(YE+jn(t));if(!t.s)return new p(si);for(Kt=!1,u=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(ic(2,h))/Math.LN10*2+5|0,u+=r,n=i=a=new p(si),p.precision=u;;){if(i=Pt(i.times(t),u),n=n.times(++d),l=a.plus(Vs(i,n,u)),La(l.d).slice(0,u)===La(a.d).slice(0,u)){for(;h--;)a=Pt(a.times(a),u);return p.precision=g,e==null?(Kt=!0,Pt(a,g)):a}a=l}}function jn(t){for(var e=t.e*Ut,n=t.d[0];n>=10;n/=10)e++;return e}function qw(t,e,n){if(e>t.LN10.sd())throw Kt=!0,n&&(t.precision=n),Error(Fi+"LN10 precision limit exceeded");return Pt(new t(t.LN10),e)}function zo(t){for(var e="";t--;)e+="0";return e}function Rh(t,e){var n,r,i,a,l,u,d,h,p,g=1,x=10,b=t,A=b.d,E=b.constructor,S=E.precision;if(b.s<1)throw Error(Fi+(b.s?"NaN":"-Infinity"));if(b.eq(si))return new E(0);if(e==null?(Kt=!1,h=S):h=e,b.eq(10))return e==null&&(Kt=!0),qw(E,h);if(h+=x,E.precision=h,n=La(A),r=n.charAt(0),a=jn(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=La(b.d),r=n.charAt(0),g++;a=jn(b),r>1?(b=new E("0."+n),a++):b=new E(r+"."+n.slice(1))}else return d=qw(E,h+2,S).times(a+""),b=Rh(new E(r+"."+n.slice(1)),h-x).plus(d),E.precision=S,e==null?(Kt=!0,Pt(b,S)):b;for(u=l=b=Vs(b.minus(si),b.plus(si),h),p=Pt(b.times(b),h),i=3;;){if(l=Pt(l.times(p),h),d=u.plus(Vs(l,new E(i),h)),La(d.d).slice(0,h)===La(u.d).slice(0,h))return u=u.times(2),a!==0&&(u=u.plus(qw(E,h+2,S).times(a+""))),u=Vs(u,new E(g),h),E.precision=S,e==null?(Kt=!0,Pt(u,S)):u;u=d,i+=2}}function cR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=jd(n/Ut),t.d=[],r=(n+1)%Ut,n<0&&(r+=Ut),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ut;r<i;)t.d.push(+e.slice(r,r+=Ut));e=e.slice(r),r=Ut-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Kt&&(t.e>Oy||t.e<-Oy))throw Error(YE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Pt(t,e,n){var r,i,a,l,u,d,h,p,g=t.d;for(l=1,a=g[0];a>=10;a/=10)l++;if(r=e-l,r<0)r+=Ut,i=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Ut),a=g.length,p>=a)return t;for(h=a=g[p],l=1;a>=10;a/=10)l++;r%=Ut,i=r-Ut+l}if(n!==void 0&&(a=ic(10,l-i-1),u=h/a%10|0,d=e<0||g[p+1]!==void 0||h%a,d=n<4?(u||d)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?h/ic(10,l-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return d?(a=jn(t),g.length=1,e=e-a-1,g[0]=ic(10,(Ut-e%Ut)%Ut),t.e=jd(-e/Ut)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,a=1,p--):(g.length=p+1,a=ic(10,Ut-r),g[p]=i>0?(h/ic(10,l-i)%ic(10,i)|0)*a:0),d)for(;;)if(p==0){(g[0]+=a)==Gn&&(g[0]=1,++t.e);break}else{if(g[p]+=a,g[p]!=Gn)break;g[p--]=0,a=1}for(r=g.length;g[--r]===0;)g.pop();if(Kt&&(t.e>Oy||t.e<-Oy))throw Error(YE+jn(t));return t}function eL(t,e){var n,r,i,a,l,u,d,h,p,g,x=t.constructor,b=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),Kt?Pt(e,b):e;if(d=t.d,g=e.d,r=e.e,h=t.e,d=d.slice(),l=h-r,l){for(p=l<0,p?(n=d,l=-l,u=g.length):(n=g,r=h,u=d.length),i=Math.max(Math.ceil(b/Ut),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}l=0}for(p&&(n=d,d=g,g=n,e.s=-e.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>l;){if(d[--i]<g[i]){for(a=i;a&&d[--a]===0;)d[a]=Gn-1;--d[a],d[i]+=Gn}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Kt?Pt(e,b):e):new x(0)}function Nc(t,e,n){var r,i=jn(t),a=La(t.d),l=a.length;return e?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+zo(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+zo(-i-1)+a,n&&(r=n-l)>0&&(a+=zo(r))):i>=l?(a+=zo(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+zo(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=zo(r))),t.s<0?"-"+a:a}function uR(t,e){if(t.length>e)return t.length=e,!0}function tL(t){var e,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(yc+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return cR(l,a.toString())}else if(typeof a!="string")throw Error(yc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,Qie.test(a))cR(l,a);else throw Error(yc+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tL,i.config=i.set=Zie,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Zie(t){if(!t||typeof t!="object")throw Error(Fi+"Object expected");var e,n,r,i=["precision",1,Nd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(jd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(yc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(yc+n+": "+r);return this}var XE=tL(Xie);si=new XE(1);const vt=XE;var Jie=t=>t,nL={},rL=t=>t===nL,dR=t=>function e(){return arguments.length===0||arguments.length===1&&rL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},iL=(t,e)=>t===1?e:dR(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==nL).length;return a>=t?e(...r):iL(t-a,dR(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=r.map(p=>rL(p)?u.shift():p);return e(...h,...u)}))}),Kv=t=>iL(t.length,t),p2=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},eae=Kv((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),tae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Jie;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),a(...arguments))}},g2=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),aL=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((l,u)=>{var d;return l===((d=e)===null||d===void 0?void 0:d[u])})||(e=i,n=t(...i)),n}};function sL(t){var e;return t===0?e=1:e=Math.floor(new vt(t).abs().log(10).toNumber())+1,e}function oL(t,e,n){for(var r=new vt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}Kv((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Kv((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Kv((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var lL=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},cL=(t,e,n)=>{if(t.lte(0))return new vt(0);var r=sL(t.toNumber()),i=new vt(10).pow(r),a=t.div(i),l=r!==1?.05:.1,u=new vt(Math.ceil(a.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return e?new vt(d.toNumber()):new vt(Math.ceil(d.toNumber()))},nae=(t,e,n)=>{var r=new vt(1),i=new vt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new vt(10).pow(sL(t)-1),i=new vt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new vt(Math.floor(t)))}else t===0?i=new vt(Math.floor((e-1)/2)):n||(i=new vt(Math.floor(t)));var l=Math.floor((e-1)/2),u=tae(eae(d=>i.add(new vt(d-l).mul(r)).toNumber()),p2);return u(0,e)},uL=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var l=cL(new vt(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new vt(0):(u=new vt(e).add(n).div(2),u=u.sub(new vt(u).mod(l)));var d=Math.ceil(u.sub(e).div(l).toNumber()),h=Math.ceil(new vt(n).sub(u).div(l).toNumber()),p=d+h+1;return p>r?uL(e,n,r,i,a+1):(p<r&&(h=n>0?h+(r-p):h,d=n>0?d:d+(r-p)),{step:l,tickMin:u.sub(new vt(d).mul(l)),tickMax:u.add(new vt(h).mul(l))})};function rae(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[l,u]=lL([e,n]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...p2(0,r-1).map(()=>1/0)]:[...p2(0,r-1).map(()=>-1/0),u];return e>n?g2(d):d}if(l===u)return nae(l,r,i);var{step:h,tickMin:p,tickMax:g}=uL(l,u,a,i,0),x=oL(p,g.add(new vt(.1).mul(h)),h);return e>n?g2(x):x}function iae(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=lL([n,r]);if(a===-1/0||l===1/0)return[n,r];if(a===l)return[a];var u=Math.max(e,2),d=cL(new vt(l).sub(a).div(u-1),i,0),h=[...oL(new vt(a),new vt(l),d),l];return i===!1&&(h=h.map(p=>Math.round(p))),n>r?g2(h):h}var aae=aL(rae),sae=aL(iae),dL=t=>t.rootProps.maxBarSize,oae=t=>t.rootProps.barGap,fL=t=>t.rootProps.barCategoryGap,lae=t=>t.rootProps.barSize,mm=t=>t.rootProps.stackOffset,QE=t=>t.options.chartName,ZE=t=>t.rootProps.syncId,hL=t=>t.rootProps.syncMethod,JE=t=>t.options.eventEmitter,Ts={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ii={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Gv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},cae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ts.angleAxisId,includeHidden:!1,name:void 0,reversed:Ts.reversed,scale:Ts.scale,tick:Ts.tick,tickCount:void 0,ticks:void 0,type:Ts.type,unit:void 0},uae={allowDataOverflow:ii.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ii.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ii.scale,tick:ii.tick,tickCount:ii.tickCount,ticks:void 0,type:ii.type,unit:void 0},dae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ts.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ts.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ts.scale,tick:Ts.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fae={allowDataOverflow:ii.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ii.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ii.scale,tick:ii.tick,tickCount:ii.tickCount,ticks:void 0,type:"category",unit:void 0},eA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?dae:cae,tA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?fae:uae,Wv=t=>t.polarOptions,nA=ee([eo,to,Ln],YM),mL=ee([Wv,nA],(t,e)=>{if(t!=null)return vr(t.innerRadius,e,0)}),pL=ee([Wv,nA],(t,e)=>{if(t!=null)return vr(t.outerRadius,e,e*.8)}),hae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},gL=ee([Wv],hae);ee([eA,gL],Gv);var yL=ee([nA,mL,pL],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ee([tA,yL],Gv);var vL=ee([et,Wv,mL,pL,eo,to],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:h}=e;return{cx:vr(l,i,i/2),cy:vr(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:h,clockWise:!1}}}),Wt=(t,e)=>e,pm=(t,e,n)=>n;function Yv(t){return t?.id}var Bn=t=>{var e=et(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Pd=t=>t.tooltip.settings.axisId,Qn=t=>{var e=Bn(t),n=Pd(t);return gm(t,e,n)},xL=ee([Qn],t=>t?.dataKey);function bL(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return t.forEach(u=>{var d,h=(d=u.data)!==null&&d!==void 0?d:r;if(!(h==null||h.length===0)){var p=Yv(u);h.forEach((g,x)=>{var b=a==null||i?x:String(Ct(g,a,null)),A=Ct(g,u.dataKey,0),E;l.has(b)?E=l.get(b):E={},Object.assign(E,{[p]:A}),l.set(b,E)})}}),Array.from(l.values())}function Xv(t){return t.stackId!=null&&t.dataKey!=null}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mae(t,e,n){return(e=pae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pae(t){var e=gae(t,"string");return typeof e=="symbol"?e:e+""}function gae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y2=[0,"auto"],ni={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},wL=(t,e)=>t.cartesianAxis.xAxis[e],io=(t,e)=>{var n=wL(t,e);return n??ni},ri={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:y2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:om},_L=(t,e)=>t.cartesianAxis.yAxis[e],ao=(t,e)=>{var n=_L(t,e);return n??ri},yae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},rA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??yae},vn=(t,e,n)=>{switch(e){case"xAxis":return io(t,n);case"yAxis":return ao(t,n);case"zAxis":return rA(t,n);case"angleAxis":return eA(t,n);case"radiusAxis":return tA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},vae=(t,e,n)=>{switch(e){case"xAxis":return io(t,n);case"yAxis":return ao(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},gm=(t,e,n)=>{switch(e){case"xAxis":return io(t,n);case"yAxis":return ao(t,n);case"angleAxis":return eA(t,n);case"radiusAxis":return tA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},EL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function iA(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var ym=t=>t.graphicalItems.cartesianItems,xae=ee([Wt,pm],iA),aA=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),vm=ee([ym,vn,xae],aA),AL=ee([vm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Xv)),SL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),TL=ee([vm],SL),sA=t=>t.map(e=>e.data).filter(Boolean).flat(1),bae=ee([vm],sA),oA=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},lA=ee([bae,hm],oA),cA=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Ct(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Ct(i,r)}))):t.map(r=>({value:r})),Qv=ee([lA,vn,vm],cA);function CL(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function qc(t){return t.filter(e=>Wa(e)||e instanceof Date).map(Number).filter(e=>Hr(e)===!1)}function wae(t,e,n){return!n||typeof e!="number"||Hr(e)?[]:n.length?qc(n.flatMap(r=>{var i=Ct(t,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!or(a)||!or(l)))return[e-a,e+l]})):[]}var _ae=ee([AL,hm,Qn],bL),NL=(t,e,n)=>{var r={},i=e.reduce((a,l)=>(l.stackId==null||(a[l.stackId]==null&&(a[l.stackId]=[]),a[l.stackId].push(l)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[l,u]=a,d=u.map(Yv);return[l,{stackedData:Cee(t,d,n),graphicalItems:u}]}))},kh=ee([_ae,AL,mm],NL),jL=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=Oee(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Eae=ee([kh,_l,Wt],jL),PL=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(l=>{var u,d,h=(u=r[l.id])===null||u===void 0?void 0:u.filter(g=>CL(i,g)),p=Ct(a,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey);return{value:p,errorDomain:wae(a,p,h)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:Ct(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),Zv=t=>t.errorBars,OL=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>CL(n,r));ee([TL,Zv,Wt],OL);var Aae=ee([lA,vn,TL,Zv,Wt],PL);function Sae(t){var{value:e}=t;if(Wa(e)||e instanceof Date)return e}var hR=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=qc(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Tae=(t,e,n)=>{var r=t.map(Sae).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&F6(r))?g5(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},uA=t=>{var e;if(t==null||!("domain"in t))return y2;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=qc(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:y2},Ry=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},IL=t=>t.referenceElements.dots,Od=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Cae=ee([IL,Wt,pm],Od),RL=t=>t.referenceElements.areas,Nae=ee([RL,Wt,pm],Od),kL=t=>t.referenceElements.lines,jae=ee([kL,Wt,pm],Od),DL=(t,e)=>{var n=qc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Pae=ee(Cae,Wt,DL),ML=(t,e)=>{var n=qc(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Oae=ee([Nae,Wt],ML),LL=(t,e)=>{var n=qc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Iae=ee(jae,Wt,LL),Rae=ee(Pae,Iae,Oae,(t,e,n)=>Ry(t,n,e)),VL=ee([vn],uA),dA=(t,e,n,r,i,a,l)=>{var u=Wie(e,t.allowDataOverflow);if(u!=null)return u;var d=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",h=d?Ry(n,i,hR(r)):Ry(i,hR(r));return Yie(e,h,t.allowDataOverflow)},kae=ee([vn,VL,Eae,Aae,Rae,et,Wt],dA),Dae=[0,1],fA=(t,e,n,r,i,a,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=t,h=ts(e,a);return h&&u==null?g5(0,n.length):d==="category"?Tae(r,t,h):i==="expand"?Dae:l}},hA=ee([vn,et,lA,Qv,mm,Wt,kae],fA),UL=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:l}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(rm(a));return u in sh?u:"point"}}},Id=ee([vn,et,EL,QE,Wt],UL);function Mae(t){if(t!=null){if(t in sh)return sh[t]();var e="scale".concat(rm(t));if(e in sh)return sh[e]()}}function mA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Mae(e);if(i!=null){var a=i.domain(n).range(r);return _ee(a),a}}}var pA=(t,e,n)=>{var r=uA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&dd(t))return aae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&dd(t))return sae(t,e.tickCount,e.allowDecimals)}},gA=ee([hA,gm,Id],pA),yA=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&dd(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,a),Math.max(l,u)]}return e},Lae=ee([vn,hA,gA,Wt],yA),Vae=ee(Qv,vn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(qc(t.map(u=>u.value))).sort((u,d)=>u-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/i}}),BL=ee(Vae,et,fL,Ln,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!or(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var l=vr(n,t*a),u=t*a/2;return u-l-(u-l)/a*l}return 0}),Uae=(t,e)=>{var n=io(t,e);return n==null||typeof n.padding!="string"?0:BL(t,"xAxis",e,n.padding)},Bae=(t,e)=>{var n=ao(t,e);return n==null||typeof n.padding!="string"?0:BL(t,"yAxis",e,n.padding)},zae=ee(io,Uae,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),$ae=ee(ao,Bae,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Fae=ee([Ln,zae,Uv,Vv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),qae=ee([Ln,et,$ae,Uv,Vv,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),xm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Fae(t,n,r);case"yAxis":return qae(t,n,r);case"zAxis":return(i=rA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return gL(t);case"radiusAxis":return yL(t,n);default:return}},zL=ee([vn,xm],Gv),Rd=ee([vn,Id,Lae,zL],mA);ee([vm,Zv,Wt],OL);function $L(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Jv=(t,e)=>e,e0=(t,e,n)=>n,Hae=ee(Mv,Jv,e0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort($L)),Kae=ee(Lv,Jv,e0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort($L)),FL=(t,e)=>({width:t.width,height:e.height}),Gae=(t,e)=>{var n=typeof e.width=="number"?e.width:om;return{width:n,height:t.height}},qL=ee(Ln,io,FL),Wae=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Yae=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Xae=ee(to,Ln,Hae,Jv,e0,(t,e,n,r,i)=>{var a={},l;return n.forEach(u=>{var d=FL(e,u);l==null&&(l=Wae(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(h)*d.height,l+=(h?-1:1)*d.height}),a}),Qae=ee(eo,Ln,Kae,Jv,e0,(t,e,n,r,i)=>{var a={},l;return n.forEach(u=>{var d=Gae(e,u);l==null&&(l=Yae(e,r,t));var h=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(h)*d.width,l+=(h?-1:1)*d.width}),a}),Zae=(t,e)=>{var n=io(t,e);if(n!=null)return Xae(t,n.orientation,n.mirror)},Jae=ee([Ln,io,Zae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),ese=(t,e)=>{var n=ao(t,e);if(n!=null)return Qae(t,n.orientation,n.mirror)},tse=ee([Ln,ao,ese,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),HL=ee(Ln,ao,(t,e)=>{var n=typeof e.width=="number"?e.width:om;return{width:n,height:t.height}}),mR=(t,e,n)=>{switch(e){case"xAxis":return qL(t,n).width;case"yAxis":return HL(t,n).height;default:return}},KL=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=ts(t,r),d=e.map(h=>h.value);if(l&&u&&a==="category"&&i&&F6(d))return d}},vA=ee([et,Qv,vn,Wt],KL),GL=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=ts(t,r);if(l&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},xA=ee([et,Qv,gm,Wt],GL),pR=ee([et,vae,Id,Rd,vA,xA,xm,gA,Wt],(t,e,n,r,i,a,l,u,d)=>{if(e==null)return null;var h=ts(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:u,range:l,realScaleType:n,scale:r}}),nse=(t,e,n,r,i,a,l,u,d)=>{if(!(e==null||r==null)){var h=ts(t,d),{type:p,ticks:g,tickCount:x}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,A=p==="category"&&r.bandwidth?r.bandwidth()/b:0;A=d==="angleAxis"&&a!=null&&a.length>=2?Wn(a[0]-a[1])*2*A:A;var E=g||i;if(E){var S=E.map((C,j)=>{var N=l?l.indexOf(C):C;return{index:j,coordinate:r(N)+A,value:C,offset:A}});return S.filter(C=>!Hr(C.coordinate))}return h&&u?u.map((C,j)=>({coordinate:r(C)+A,value:C,index:j,offset:A})):r.ticks?r.ticks(x).map(C=>({coordinate:r(C)+A,value:C,offset:A})):r.domain().map((C,j)=>({coordinate:r(C)+A,value:l?l[C]:C,index:j,offset:A}))}},WL=ee([et,gm,Id,Rd,gA,xm,vA,xA,Wt],nse),rse=(t,e,n,r,i,a,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=ts(t,l),{tickCount:d}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?Wn(r[0]-r[1])*2*h:h,u&&a?a.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}},Xa=ee([et,gm,Rd,xm,vA,xA,Wt],rse),Qa=ee(vn,Rd,(t,e)=>{if(!(t==null||e==null))return Iy(Iy({},t),{},{scale:e})}),ise=ee([vn,Id,hA,zL],mA);ee((t,e,n)=>rA(t,n),ise,(t,e)=>{if(!(t==null||e==null))return Iy(Iy({},t),{},{scale:e})});var ase=ee([et,Mv,Lv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),YL=t=>t.options.defaultTooltipEventType,XL=t=>t.options.validateTooltipEventTypes;function QL(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function bA(t,e){var n=YL(t),r=XL(t);return QL(e,n,r)}function sse(t){return Ne(e=>bA(e,t))}var ZL=(t,e)=>{var n,r=Number(e);if(!(Hr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},ose=t=>t.tooltip.settings,Ko={active:!1,index:null,dataKey:void 0,coordinate:void 0},lse={itemInteraction:{click:Ko,hover:Ko},axisInteraction:{click:Ko,hover:Ko},keyboardInteraction:Ko,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},JL=mi({name:"tooltip",initialState:lse,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Ls(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:cse,removeTooltipEntrySettings:use,setTooltipSettingsState:dse,setActiveMouseOverItemIndex:e9,mouseLeaveItem:fse,mouseLeaveChart:t9,setActiveClickItemIndex:hse,setMouseOverAxisIndex:n9,setMouseClickAxisIndex:mse,setSyncInteraction:v2,setKeyboardInteraction:x2}=JL.actions,pse=JL.reducer;function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){gse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gse(t,e,n){return(e=yse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yse(t){var e=vse(t,"string");return typeof e=="symbol"?e:e+""}function vse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xse(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function bse(t){return t.index!=null}var r9=(t,e,n,r)=>{if(e==null)return Ko;var i=xse(t,e,n);if(i==null)return Ko;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(bse(i)){if(a)return lg(lg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return lg(lg({},Ko),{},{coordinate:i.coordinate})},wA=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!or(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},i9=(t,e,n,r,i,a,l,u)=>{if(!(a==null||u==null)){var d=l[0],h=d==null?void 0:u(d.positions,a);if(h!=null)return h;var p=i?.[Number(a)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},a9=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},bm=t=>t.options.tooltipPayloadSearcher,kd=t=>t.tooltip;function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wse(t,e,n){return(e=_se(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _se(t){var e=Ese(t,"string");return typeof e=="symbol"?e:e+""}function Ese(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ase(t,e){return t??e}var s9=(t,e,n,r,i,a,l)=>{if(!(e==null||a==null)){var{chartData:u,computedData:d,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((x,b)=>{var A,{dataDefinedOnItem:E,settings:S}=b,C=Ase(E,u),j=Array.isArray(C)?XM(C,h,p):C,N=(A=S?.dataKey)!==null&&A!==void 0?A:r,L=S?.nameKey,M;if(r&&Array.isArray(j)&&!Array.isArray(j[0])&&l==="axis"?M=q6(j,r,i):M=a(j,e,d,L),Array.isArray(M))M.forEach(R=>{var I=vR(vR({},S),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});x.push(eI({tooltipEntrySettings:I,dataKey:R.dataKey,payload:R.payload,value:Ct(R.payload,R.dataKey),name:R.name}))});else{var U;x.push(eI({tooltipEntrySettings:S,dataKey:N,payload:M,value:Ct(M,N),name:(U=Ct(M,L))!==null&&U!==void 0?U:S?.name}))}return x},g)}},_A=ee([Qn,et,EL,QE,Bn],UL),Sse=ee([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Tse=ee([Bn,Pd],iA),wm=ee([Sse,Qn,Tse],aA),Cse=ee([wm],t=>t.filter(Xv)),Nse=ee([wm],sA),Dd=ee([Nse,_l],oA),jse=ee([Cse,_l,Qn],bL),EA=ee([Dd,Qn,wm],cA),Pse=ee([Qn],uA),Ose=ee([wm],t=>t.filter(Xv)),Ise=ee([jse,Ose,mm],NL),Rse=ee([Ise,_l,Bn],jL),kse=ee([wm],SL),Dse=ee([Dd,Qn,kse,Zv,Bn],PL),Mse=ee([IL,Bn,Pd],Od),Lse=ee([Mse,Bn],DL),Vse=ee([RL,Bn,Pd],Od),Use=ee([Vse,Bn],ML),Bse=ee([kL,Bn,Pd],Od),zse=ee([Bse,Bn],LL),$se=ee([Lse,zse,Use],Ry),Fse=ee([Qn,Pse,Rse,Dse,$se,et,Bn],dA),o9=ee([Qn,et,Dd,EA,mm,Bn,Fse],fA),qse=ee([o9,Qn,_A],pA),Hse=ee([Qn,o9,qse,Bn],yA),l9=t=>{var e=Bn(t),n=Pd(t),r=!1;return xm(t,e,n,r)},c9=ee([Qn,l9],Gv),u9=ee([Qn,_A,Hse,c9],mA),Kse=ee([et,EA,Qn,Bn],KL),Gse=ee([et,EA,Qn,Bn],GL),Wse=(t,e,n,r,i,a,l,u)=>{if(e){var{type:d}=e,h=ts(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?Wn(i[0]-i[1])*2*g:g,h&&l?l.map((x,b)=>({coordinate:r(x)+g,value:x,index:b,offset:g})):r.domain().map((x,b)=>({coordinate:r(x)+g,value:a?a[x]:x,index:b,offset:g}))}}},so=ee([et,Qn,_A,u9,l9,Kse,Gse,Bn],Wse),AA=ee([YL,XL,ose],(t,e,n)=>QL(n.shared,t,e)),d9=t=>t.tooltip.settings.trigger,SA=t=>t.tooltip.settings.defaultIndex,t0=ee([kd,AA,d9,SA],r9),ul=ee([t0,Dd],wA),f9=ee([so,ul],ZL),h9=ee([t0],t=>{if(t)return t.dataKey}),m9=ee([kd,AA,d9,SA],a9),Yse=ee([eo,to,et,Ln,so,SA,m9,bm],i9),Xse=ee([t0,Yse],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Qse=ee([t0],t=>t.active),Zse=ee([m9,ul,_l,xL,f9,bm,AA],s9),Jse=ee([Zse],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){eoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eoe(t,e,n){return(e=toe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function toe(t){var e=noe(t,"string");return typeof e=="symbol"?e:e+""}function noe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var roe=()=>Ne(Qn),ioe=()=>{var t=roe(),e=Ne(so),n=Ne(u9);return Cc(bR(bR({},t),{},{scale:n}),e)},p9=()=>Ne(QE),TA=(t,e)=>e,g9=(t,e,n)=>n,CA=(t,e,n,r)=>r,aoe=ee(so,t=>Pv(t,e=>e.coordinate)),NA=ee([kd,TA,g9,CA],r9),y9=ee([NA,Dd],wA),soe=(t,e,n)=>{if(e!=null){var r=kd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},v9=ee([kd,TA,g9,CA],a9),ky=ee([eo,to,et,Ln,so,CA,v9,bm],i9),ooe=ee([NA,ky],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),x9=ee(so,y9,ZL),loe=ee([v9,y9,_l,xL,x9,bm,TA],s9),coe=ee([NA],t=>({isActive:t.active,activeIndex:t.index})),uoe=(t,e,n,r,i,a,l,u)=>{if(!(!t||!e||!r||!i||!a)){var d=Iee(t.chartX,t.chartY,e,n,u);if(d){var h=kee(d,e),p=bee(h,l,a,r,i),g=Ree(e,a,p,d);return{activeIndex:String(p),activeCoordinate:g}}}};function b2(){return b2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b2.apply(null,arguments)}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){doe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function doe(t,e,n){return(e=foe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function foe(t){var e=hoe(t,"string");return typeof e=="symbol"?e:e+""}function hoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function moe(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:l,cursor:u,tooltipEventType:d,chartName:h}=t,p=e,g=n,x=r;if(!u||!p||h!=="ScatterChart"&&d!=="axis")return null;var b,A;if(h==="ScatterChart")b=p,A=kte;else if(h==="BarChart")b=Dte(l,p,i,a),A=f5;else if(l==="radial"){var{cx:E,cy:S,radius:C,startAngle:j,endAngle:N}=h5(p);b={cx:E,cy:S,startAngle:j,endAngle:N,innerRadius:C,outerRadius:C},A=p5}else b={points:mne(l,p,i)},A=Hu;var L=typeof u=="object"&&"className"in u?u.className:void 0,M=cg(cg(cg(cg({stroke:"#ccc",pointerEvents:"none"},i),b),$t(u,!1)),{},{payload:g,payloadIndex:x,className:ot("recharts-tooltip-cursor",L)});return _.isValidElement(u)?_.cloneElement(u,M):_.createElement(A,M)}function poe(t){var e=ioe(),n=r5(),r=lm(),i=p9();return _.createElement(moe,b2({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var b9=_.createContext(null),goe=()=>_.useContext(b9),Hw={exports:{}},_R;function yoe(){return _R||(_R=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function a(d,h,p,g,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,g||d,x),A=n?n+h:h;return d._events[A]?d._events[A].fn?d._events[A]=[d._events[A],b]:d._events[A].push(b):(d._events[A]=b,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new r:delete d._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,b=g.length,A=new Array(b);x<b;x++)A[x]=g[x].fn;return A},u.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,x,b,A){var E=n?n+h:h;if(!this._events[E])return!1;var S=this._events[E],C=arguments.length,j,N;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),C){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,x),!0;case 5:return S.fn.call(S.context,p,g,x,b),!0;case 6:return S.fn.call(S.context,p,g,x,b,A),!0}for(N=1,j=new Array(C-1);N<C;N++)j[N-1]=arguments[N];S.fn.apply(S.context,j)}else{var L=S.length,M;for(N=0;N<L;N++)switch(S[N].once&&this.removeListener(h,S[N].fn,void 0,!0),C){case 1:S[N].fn.call(S[N].context);break;case 2:S[N].fn.call(S[N].context,p);break;case 3:S[N].fn.call(S[N].context,p,g);break;case 4:S[N].fn.call(S[N].context,p,g,x);break;default:if(!j)for(M=1,j=new Array(C-1);M<C;M++)j[M-1]=arguments[M];S[N].fn.apply(S[N].context,j)}}return!0},u.prototype.on=function(h,p,g){return a(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return a(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,x){var b=n?n+h:h;if(!this._events[b])return this;if(!p)return l(this,b),this;var A=this._events[b];if(A.fn)A.fn===p&&(!x||A.once)&&(!g||A.context===g)&&l(this,b);else{for(var E=0,S=[],C=A.length;E<C;E++)(A[E].fn!==p||x&&!A[E].once||g&&A[E].context!==g)&&S.push(A[E]);S.length?this._events[b]=S.length===1?S[0]:S:l(this,b)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(Hw)),Hw.exports}var voe=yoe();const xoe=Qs(voe);var Dh=new xoe,w2="recharts.syncEvent.tooltip",ER="recharts.syncEvent.brush";function n0(t,e){if(e){var n=Number.parseInt(e,10);if(!Hr(n))return t?.[n]}}var boe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},w9=mi({name:"options",initialState:boe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),woe=w9.reducer,{createEventEmitter:_oe}=w9.actions;function Eoe(t){return t.tooltip.syncInteraction}var Aoe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},_9=mi({name:"chartData",initialState:Aoe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:AR,setDataStartEndIndexes:Soe,setComputedData:Zpe}=_9.actions,Toe=_9.reducer,Coe=["x","y"];function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){Noe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Noe(t,e,n){return(e=joe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function joe(t){var e=Poe(t,"string");return typeof e=="symbol"?e:e+""}function Poe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ooe(t,e){if(t==null)return{};var n,r,i=Ioe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ioe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var E9=()=>{};function Roe(){var t=Ne(ZE),e=Ne(JE),n=an(),r=Ne(hL),i=Ne(so),a=lm(),l=wE(),u=Ne(d=>d.rootProps.className);_.useEffect(()=>{if(t==null)return E9;var d=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var x;if(l&&p!==null&&p!==void 0&&(x=p.payload)!==null&&x!==void 0&&x.coordinate){var b=p.payload.coordinate,{x:A,y:E}=b,S=Ooe(b,Coe),C=ec(ec(ec({},S),typeof A=="number"&&{x:Math.max(l.x,Math.min(A,l.x+l.width))}),typeof E=="number"&&{y:Math.max(l.y,Math.min(E,l.y+l.height))}),j=ec(ec({},p),{},{payload:ec(ec({},p.payload),{},{coordinate:C})});n(j)}else n(p);return}if(i!=null){var N;if(typeof r=="function"){var L={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},M=r(i,L);N=i[M]}else r==="value"&&(N=i.find(B=>String(B.value)===p.payload.label));var{coordinate:U}=p.payload;if(N==null||p.payload.active===!1||U==null||l==null){n(v2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:R,y:I}=U,k=Math.min(R,l.x+l.width),$=Math.min(I,l.y+l.height),V={x:a==="horizontal"?N.coordinate:k,y:a==="horizontal"?$:N.coordinate},F=v2({active:p.payload.active,coordinate:V,dataKey:p.payload.dataKey,index:String(N.index),label:p.payload.label});n(F)}}};return Dh.on(w2,d),()=>{Dh.off(w2,d)}},[u,n,e,t,r,i,a,l])}function koe(){var t=Ne(ZE),e=Ne(JE),n=an();_.useEffect(()=>{if(t==null)return E9;var r=(i,a,l)=>{e!==l&&t===i&&n(Soe(a))};return Dh.on(ER,r),()=>{Dh.off(ER,r)}},[n,e,t])}function Doe(){var t=an();_.useEffect(()=>{t(_oe())},[t]),Roe(),koe()}function Moe(t,e,n,r,i,a){var l=Ne(x=>soe(x,t,e)),u=Ne(JE),d=Ne(ZE),h=Ne(hL),p=Ne(Eoe),g=p?.active;_.useEffect(()=>{if(!g&&d!=null&&u!=null){var x=v2({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});Dh.emit(w2,d,x,u)}},[g,n,l,i,r,u,d,h,a])}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){Loe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Loe(t,e,n){return(e=Voe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Voe(t){var e=Uoe(t,"string");return typeof e=="symbol"?e:e+""}function Uoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Boe(t){return t.dataKey}function zoe(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(fte,e)}var NR=[],$oe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!no.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function _m(t){var e=Vn(t,$oe),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:l,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:p,position:g,reverseDirection:x,useTranslate3d:b,wrapperStyle:A,cursor:E,shared:S,trigger:C,defaultIndex:j,portal:N,axisId:L}=e,M=an(),U=typeof j=="number"?String(j):j;_.useEffect(()=>{M(dse({shared:S,trigger:C,axisId:L,active:n,defaultIndex:U}))},[M,S,C,L,n,U]);var R=wE(),I=o5(),k=sse(S),{activeIndex:$,isActive:V}=Ne(xe=>coe(xe,k,C,U)),F=Ne(xe=>loe(xe,k,C,U)),B=Ne(xe=>x9(xe,k,C,U)),ve=Ne(xe=>ooe(xe,k,C,U)),ie=F,G=goe(),W=n??V,[ae,ye]=AM([ie,W]),H=k==="axis"?B:void 0;Moe(k,C,ve,H,$,W);var le=N??G;if(le==null)return null;var ue=ie??NR;W||(ue=NR),u&&ue.length&&(ue=xM(ie.filter(xe=>xe.value!=null&&(xe.hide!==!0||e.includeHidden)),p,Boe));var oe=ue.length>0,he=_.createElement(xte,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:d,active:W,coordinate:ve,hasPayload:oe,offset:h,position:g,reverseDirection:x,useTranslate3d:b,viewBox:R,wrapperStyle:A,lastBoundingBox:ae,innerRef:ye,hasPortalFromProps:!!N},zoe(l,CR(CR({},e),{},{payload:ue,label:H,active:W,coordinate:ve,accessibilityLayer:I})));return _.createElement(_.Fragment,null,Zk.createPortal(he,le),W&&_.createElement(poe,{cursor:E,tooltipEventType:k,coordinate:ve,payload:ie,index:$}))}var Kw={},Gw={},Ww={},jR;function Foe(){return jR||(jR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let l,u=null;const d=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{h&&p(),E()};let x=null;const b=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},r)},A=()=>{x!==null&&(clearTimeout(x),x=null)},E=()=>{A(),l=void 0,u=null},S=()=>{p()},C=function(...j){if(i?.aborted)return;l=this,u=j;const N=x==null;b(),d&&N&&p()};return C.schedule=b,C.cancel=E,C.flush=S,i?.addEventListener("abort",E,{once:!0}),C}t.debounce=e})(Ww)),Ww}var PR;function qoe(){return PR||(PR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Foe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:d}=a,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let p,g=null;const x=e.debounce(function(...E){p=r.apply(this,E),g=null},i,{edges:h}),b=function(...E){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(p=r.apply(this,E),g=Date.now(),x.cancel(),x.schedule(),p):(x.apply(this,E),p)},A=()=>(x.flush(),p);return b.cancel=x.cancel,b.flush=A,b}t.debounce=n})(Gw)),Gw}var OR;function Hoe(){return OR||(OR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qoe();function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(Kw)),Kw}var Yw,IR;function Koe(){return IR||(IR=1,Yw=Hoe().throttle),Yw}var Goe=Koe();const Woe=Qs(Goe);var hh=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){Yoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yoe(t,e,n){return(e=Xoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xoe(t){var e=Qoe(t,"string");return typeof e=="symbol"?e:e+""}function Qoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Em=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:l=0,minHeight:u,maxHeight:d,children:h,debounce:p=0,id:g,className:x,onResize:b,style:A={}}=t,E=_.useRef(null),S=_.useRef();S.current=b,_.useImperativeHandle(e,()=>E.current);var[C,j]=_.useState({containerWidth:r.width,containerHeight:r.height}),N=_.useCallback((M,U)=>{j(R=>{var I=Math.round(M),k=Math.round(U);return R.containerWidth===I&&R.containerHeight===k?R:{containerWidth:I,containerHeight:k}})},[]);_.useEffect(()=>{var M=k=>{var $,{width:V,height:F}=k[0].contentRect;N(V,F),($=S.current)===null||$===void 0||$.call(S,V,F)};p>0&&(M=Woe(M,p,{trailing:!0,leading:!1}));var U=new ResizeObserver(M),{width:R,height:I}=E.current.getBoundingClientRect();return N(R,I),U.observe(E.current),()=>{U.disconnect()}},[N,p]);var L=_.useMemo(()=>{var{containerWidth:M,containerHeight:U}=C;if(M<0||U<0)return null;hh(lc(i)||lc(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),hh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=lc(i)?M:i,I=lc(a)?U:a;return n&&n>0&&(R?I=R/n:I&&(R=I*n),d&&I>d&&(I=d)),hh(R>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,I,i,a,l,u,n),_.Children.map(h,k=>_.cloneElement(k,{width:R,height:I,style:Xw({width:R,height:I},k.props.style)}))},[n,h,a,d,u,l,C,i]);return _.createElement("div",{id:g?"".concat(g):void 0,className:ot("recharts-responsive-container",x),style:Xw(Xw({},A),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:d}),ref:E},_.createElement("div",{style:{width:0,height:0,overflow:"visible"}},L))}),Hc=t=>null;Hc.displayName="Cell";function Zoe(t,e,n){return(e=Joe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=ele(t,"string");return typeof e=="symbol"?e:e+""}function ele(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class tle{constructor(e){Zoe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rle(t,e,n){return(e=ile(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ile(t){var e=ale(t,"string");return typeof e=="symbol"?e:e+""}function ale(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sle={cacheSize:2e3,enableCache:!0},A9=nle({},sle),DR=new tle(A9.cacheSize),ole={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MR="recharts_measurement_span";function lle(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var LR=(t,e)=>{try{var n=document.getElementById(MR);n||(n=document.createElement("span"),n.setAttribute("id",MR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ole,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},mh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||no.isSsr)return{width:0,height:0};if(!A9.enableCache)return LR(e,n);var r=lle(e,n),i=DR.get(r);if(i)return i;var a=LR(e,n);return DR.set(r,a),a},VR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ule=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,S9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dle=Object.keys(S9),Mu="NaN";function fle(t,e){return t*S9[e]}class Vr{static parse(e){var n,[,r,i]=(n=ule.exec(e))!==null&&n!==void 0?n:[];return new Vr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Hr(e)&&(this.unit=""),n!==""&&!cle.test(n)&&(this.num=NaN,this.unit=""),dle.includes(n)&&(this.num=fle(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Vr(NaN,""):new Vr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Vr(NaN,""):new Vr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Vr(NaN,""):new Vr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Vr(NaN,""):new Vr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Hr(this.num)}}function T9(t){if(t.includes(Mu))return Mu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=VR.exec(e))!==null&&n!==void 0?n:[],l=Vr.parse(r??""),u=Vr.parse(a??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Mu;e=e.replace(VR,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,x]=(h=UR.exec(e))!==null&&h!==void 0?h:[],b=Vr.parse(p??""),A=Vr.parse(x??""),E=g==="+"?b.add(A):b.subtract(A);if(E.isNaN())return Mu;e=e.replace(UR,E.toString())}return e}var BR=/\(([^()]*)\)/;function hle(t){for(var e=t,n;(n=BR.exec(e))!=null;){var[,r]=n;e=e.replace(BR,T9(r))}return e}function mle(t){var e=t.replace(/\s+/g,"");return e=hle(e),e=T9(e),e}function ple(t){try{return mle(t)}catch{return Mu}}function Qw(t){var e=ple(t.slice(5,-1));return e===Mu?"":e}var gle=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yle=["dx","dy","angle","className","breakAll"];function _2(){return _2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_2.apply(null,arguments)}function zR(t,e){if(t==null)return{};var n,r,i=vle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var C9=/[ \f\n\r\t\v\u2028\u2029]+/,N9=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];zt(e)||(n?i=e.toString().split(""):i=e.toString().split(C9));var a=i.map(u=>({word:u,width:mh(u,r).width})),l=n?0:mh(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},xle=(t,e,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:d}=t,h=je(a),p=l,g=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce((F,B)=>{var{word:ve,width:ie}=B,G=F[F.length-1];if(G&&(r==null||i||G.width+ie+n<Number(r)))G.words.push(ve),G.width+=ie+n;else{var W={words:[ve],width:ie};F.push(W)}return F},[])},x=g(e),b=$=>$.reduce((V,F)=>V.width>F.width?V:F);if(!h||i)return x;var A=x.length>a||b(x).width>Number(r);if(!A)return x;for(var E="…",S=$=>{var V=p.slice(0,$),F=N9({breakAll:d,style:u,children:V+E}).wordsWithComputedWidth,B=g(F),ve=B.length>a||b(B).width>Number(r);return[ve,B]},C=0,j=p.length-1,N=0,L;C<=j&&N<=p.length-1;){var M=Math.floor((C+j)/2),U=M-1,[R,I]=S(U),[k]=S(M);if(!R&&!k&&(C=M+1),R&&k&&(j=M-1),!R&&k){L=I;break}N++}return L||x},$R=t=>{var e=zt(t)?[]:t.toString().split(C9);return[{words:e}]},ble=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=t;if((e||n)&&!no.isSsr){var u,d,h=N9({breakAll:a,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;u=p,d=g}else return $R(r);return xle({breakAll:a,children:r,maxLines:l,style:i},u,d,e,n)}return $R(r)},FR="#808080",r0=_.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:d="end",fill:h=FR}=t,p=zR(t,gle),g=_.useMemo(()=>ble({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:l,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,l,p.style,p.width]),{dx:x,dy:b,angle:A,className:E,breakAll:S}=p,C=zR(p,yle);if(!Wa(n)||!Wa(r)||g.length===0)return null;var j=n+(je(x)?x:0),N=r+(je(b)?b:0),L;switch(d){case"start":L=Qw("calc(".concat(a,")"));break;case"middle":L=Qw("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:L=Qw("calc(".concat(g.length-1," * -").concat(i,")"));break}var M=[];if(l){var U=g[0].width,{width:R}=p;M.push("scale(".concat(je(R)?R/U:1,")"))}return A&&M.push("rotate(".concat(A,", ").concat(j,", ").concat(N,")")),M.length&&(C.transform=M.join(" ")),_.createElement("text",_2({},$t(C,!0),{ref:e,x:j,y:N,className:ot("recharts-text",E),textAnchor:u,fill:h.includes("url")?FR:h}),g.map((I,k)=>{var $=I.words.join(S?"":" ");return _.createElement("tspan",{x:j,dy:k===0?L:i,key:"".concat($,"-").concat(k)},$)}))});r0.displayName="Text";var wle=["labelRef"];function _le(t,e){if(t==null)return{};var n,r,i=Ele(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ele(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){Ale(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ale(t,e,n){return(e=Sle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sle(t){var e=Tle(t,"string");return typeof e=="symbol"?e:e+""}function Tle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cs(){return Cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cs.apply(null,arguments)}var j9=_.createContext(null),Cle=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,l=_.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return _.createElement(j9.Provider,{value:l},a)},P9=()=>{var t=_.useContext(j9),e=wE();return t||e},Nle=_.createContext(null),jle=()=>{var t=_.useContext(Nle),e=Ne(vL);return t||e},Ple=t=>{var{value:e,formatter:n}=t,r=zt(t.children)?e:t.children;return typeof n=="function"?n(r):r},jA=t=>t!=null&&typeof t=="function",Ole=(t,e)=>{var n=Wn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Ile=(t,e,n,r,i)=>{var{offset:a,className:l}=t,{cx:u,cy:d,innerRadius:h,outerRadius:p,startAngle:g,endAngle:x,clockWise:b}=i,A=(h+p)/2,E=Ole(g,x),S=E>=0?1:-1,C,j;switch(e){case"insideStart":C=g+S*a,j=b;break;case"insideEnd":C=x-S*a,j=!b;break;case"end":C=x+S*a,j=b;break;default:throw new Error("Unsupported position ".concat(e))}j=E<=0?j:!j;var N=Nn(u,d,A,C),L=Nn(u,d,A,C+(j?1:-1)*359),M="M".concat(N.x,",").concat(N.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(j?0:1,`,
    `).concat(L.x,",").concat(L.y),U=zt(t.id)?Sh("recharts-radial-line-"):t.id;return _.createElement("text",Cs({},r,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",l)}),_.createElement("defs",null,_.createElement("path",{id:U,d:M})),_.createElement("textPath",{xlinkHref:"#".concat(U)},n))},Rle=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:d}=t,h=(u+d)/2;if(n==="outside"){var{x:p,y:g}=Nn(r,i,l+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var x=(a+l)/2,{x:b,y:A}=Nn(r,i,x,h);return{x:b,y:A,textAnchor:"middle",verticalAnchor:"middle"}},O9=t=>"cx"in t&&je(t.cx),kle=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!O9(n)&&(a=n);var{x:l,y:u,width:d,height:h}=e,p=h>=0?1:-1,g=p*r,x=p>0?"end":"start",b=p>0?"start":"end",A=d>=0?1:-1,E=A*r,S=A>0?"end":"start",C=A>0?"start":"end";if(i==="top"){var j={x:l+d/2,y:u-p*r,textAnchor:"middle",verticalAnchor:x};return hn(hn({},j),a?{height:Math.max(u-a.y,0),width:d}:{})}if(i==="bottom"){var N={x:l+d/2,y:u+h+g,textAnchor:"middle",verticalAnchor:b};return hn(hn({},N),a?{height:Math.max(a.y+a.height-(u+h),0),width:d}:{})}if(i==="left"){var L={x:l-E,y:u+h/2,textAnchor:S,verticalAnchor:"middle"};return hn(hn({},L),a?{width:Math.max(L.x-a.x,0),height:h}:{})}if(i==="right"){var M={x:l+d+E,y:u+h/2,textAnchor:C,verticalAnchor:"middle"};return hn(hn({},M),a?{width:Math.max(a.x+a.width-M.x,0),height:h}:{})}var U=a?{width:d,height:h}:{};return i==="insideLeft"?hn({x:l+E,y:u+h/2,textAnchor:C,verticalAnchor:"middle"},U):i==="insideRight"?hn({x:l+d-E,y:u+h/2,textAnchor:S,verticalAnchor:"middle"},U):i==="insideTop"?hn({x:l+d/2,y:u+g,textAnchor:"middle",verticalAnchor:b},U):i==="insideBottom"?hn({x:l+d/2,y:u+h-g,textAnchor:"middle",verticalAnchor:x},U):i==="insideTopLeft"?hn({x:l+E,y:u+g,textAnchor:C,verticalAnchor:b},U):i==="insideTopRight"?hn({x:l+d-E,y:u+g,textAnchor:S,verticalAnchor:b},U):i==="insideBottomLeft"?hn({x:l+E,y:u+h-g,textAnchor:C,verticalAnchor:x},U):i==="insideBottomRight"?hn({x:l+d-E,y:u+h-g,textAnchor:S,verticalAnchor:x},U):i&&typeof i=="object"&&(je(i.x)||lc(i.x))&&(je(i.y)||lc(i.y))?hn({x:l+vr(i.x,d),y:u+vr(i.y,h),textAnchor:"end",verticalAnchor:"end"},U):hn({x:l+d/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},U)},Dle={offset:5};function $o(t){var e=Vn(t,Dle),{viewBox:n,position:r,value:i,children:a,content:l,className:u="",textBreakAll:d,labelRef:h}=e,p=jle(),g=P9(),x=r==="center"?g:p??g,b=n||x;if(!b||zt(i)&&zt(a)&&!_.isValidElement(l)&&typeof l!="function")return null;var A=hn(hn({},e),{},{viewBox:b});if(_.isValidElement(l)){var{labelRef:E}=A,S=_le(A,wle);return _.cloneElement(l,S)}var C;if(typeof l=="function"){if(C=_.createElement(l,A),_.isValidElement(C))return C}else C=Ple(e);var j=O9(b),N=$t(e,!0);if(j&&(r==="insideStart"||r==="insideEnd"||r==="end"))return Ile(e,r,C,N,b);var L=j?Rle(b,e.offset,e.position):kle(e,b);return _.createElement(r0,Cs({ref:h,className:ot("recharts-label",u)},N,L,{breakAll:d}),C)}$o.displayName="Label";var Mle=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement($o,Cs({key:"label-implicit"},r)):Wa(t)?_.createElement($o,Cs({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===$o?_.cloneElement(t,hn({key:"label-implicit"},r)):_.createElement($o,Cs({key:"label-implicit",content:t},r)):jA(t)?_.createElement($o,Cs({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement($o,Cs({},t,{key:"label-implicit"},r)):null};function Lle(t){var{label:e}=t,n=P9();return Mle(e,n)||null}var Zw={},Jw={},HR;function Vle(){return HR||(HR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Jw)),Jw}var e1={},KR;function Ule(){return KR||(KR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(e1)),e1}var GR;function Ble(){return GR||(GR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vle(),n=Ule(),r=fE();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(Zw)),Zw}var t1,WR;function zle(){return WR||(WR=1,t1=Ble().last),t1}var $le=zle();const Fle=Qs($le);var qle=["valueAccessor"],Hle=["dataKey","clockWise","id","textBreakAll"];function Dy(){return Dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dy.apply(null,arguments)}function YR(t,e){if(t==null)return{};var n,r,i=Kle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Gle=t=>Array.isArray(t.value)?Fle(t.value):t.value,I9=_.createContext(void 0),PA=I9.Provider,R9=_.createContext(void 0),Wle=R9.Provider;function Yle(){return _.useContext(I9)}function Xle(){return _.useContext(R9)}function Sg(t){var{valueAccessor:e=Gle}=t,n=YR(t,qle),{dataKey:r,clockWise:i,id:a,textBreakAll:l}=n,u=YR(n,Hle),d=Yle(),h=Xle(),p=d||h;return!p||!p.length?null:_.createElement(cn,{className:"recharts-label-list"},p.map((g,x)=>{var b,A=zt(r)?e(g,x):Ct(g&&g.payload,r),E=zt(a)?{}:{id:"".concat(a,"-").concat(x)};return _.createElement($o,Dy({},$t(g,!0),u,E,{fill:(b=n.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:A,textBreakAll:l,viewBox:g.viewBox,key:"label-".concat(x),index:x}))}))}Sg.displayName="LabelList";function i0(t){var{label:e}=t;return e?e===!0?_.createElement(Sg,{key:"labelList-implicit"}):_.isValidElement(e)||jA(e)?_.createElement(Sg,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(Sg,Dy({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function E2(){return E2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E2.apply(null,arguments)}var OA=t=>{var{cx:e,cy:n,r,className:i}=t,a=ot("recharts-dot",i);return e===+e&&n===+n&&r===+r?_.createElement("circle",E2({},Ki(t),rE(t),{className:a,cx:e,cy:n,r})):null},k9=t=>t.graphicalItems.polarItems,Qle=ee([Wt,pm],iA),IA=ee([k9,vn,Qle],aA),Zle=ee([IA],sA),RA=ee([Zle,WE],oA),Jle=ee([RA,vn,IA],cA),ece=ee([RA,vn,IA],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,l=Ct(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:Ct(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),XR=()=>{},tce=ee([vn,VL,XR,ece,XR,et,Wt],dA),D9=ee([vn,et,RA,Jle,mm,Wt,tce],fA),nce=ee([D9,vn,Id],pA);ee([vn,D9,nce,Wt],yA);var rce={radiusAxis:{},angleAxis:{}},M9=mi({name:"polarAxis",initialState:rce,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Jpe,removeRadiusAxis:ege,addAngleAxis:tge,removeAngleAxis:nge}=M9.actions,ice=M9.reducer;function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){ace(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ace(t,e,n){return(e=sce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sce(t){var e=oce(t,"string");return typeof e=="symbol"?e:e+""}function oce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lce=(t,e)=>e,kA=ee([k9,lce],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),cce=[],DA=(t,e,n)=>n?.length===0?cce:n,L9=ee([WE,kA,DA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>ZR(ZR({},e.presentationProps),a.props))),i!=null)return i}}),uce=ee([L9,kA,DA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,l=Ct(r,e.nameKey,e.name),u;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:vl(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),dce=ee([L9,kA,DA,Ln],(t,e,n,r)=>{if(!(e==null||t==null))return lue({offset:r,pieSettings:e,displayedData:t,cells:n})}),n1={},JR;function fce(){return JR||(JR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(n1)),n1}var r1,ek;function hce(){return ek||(ek=1,r1=fce().isPlainObject),r1}var mce=hce();const pce=Qs(mce);function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gce(t,e,n){return(e=yce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yce(t){var e=vce(t,"string");return typeof e=="symbol"?e:e+""}function vce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function My(){return My=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(null,arguments)}var rk=(t,e,n,r,i)=>{var a=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-a/2,",").concat(e+i),l+="L ".concat(t+n-a/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},xce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bce=t=>{var e=Vn(t,xce),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:u}=e,{animationEasing:d,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,x=_.useRef(),[b,A]=_.useState(-1),E=_.useRef(i),S=_.useRef(a),C=_.useRef(l),j=_.useRef(n),N=_.useRef(r),L=Td(t,"trapezoid-");if(_.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var ve=x.current.getTotalLength();ve&&A(ve)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var M=ot("recharts-trapezoid",u);if(!g)return _.createElement("g",null,_.createElement("path",My({},$t(e,!0),{className:M,d:rk(n,r,i,a,l)})));var U=E.current,R=S.current,I=C.current,k=j.current,$=N.current,V="0px ".concat(b===-1?1:b,"px"),F="".concat(b,"px 0px"),B=l5(["strokeDasharray"],h,d);return _.createElement(Sd,{animationId:L,key:L,canBegin:b>0,duration:h,easing:d,isActive:g,begin:p},ve=>{var ie=Tt(U,i,ve),G=Tt(R,a,ve),W=Tt(I,l,ve),ae=Tt(k,n,ve),ye=Tt($,r,ve);x.current&&(E.current=ie,S.current=G,C.current=W,j.current=ae,N.current=ye);var H=ve>0?{transition:B,strokeDasharray:F}:{strokeDasharray:V};return _.createElement("path",My({},$t(e,!0),{className:M,d:rk(ae,ye,ie,G,W),ref:x,style:nk(nk({},H),e.style)}))})},wce=["option","shapeType","propTransformer","activeClassName","isActive"];function _ce(t,e){if(t==null)return{};var n,r,i=Ece(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ece(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){Ace(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ace(t,e,n){return(e=Sce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sce(t){var e=Tce(t,"string");return typeof e=="symbol"?e:e+""}function Tce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cce(t,e){return Ly(Ly({},e),t)}function Nce(t,e){return t==="symbols"}function ak(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(f5,n);case"trapezoid":return _.createElement(bce,n);case"sector":return _.createElement(p5,n);case"symbols":if(Nce(e))return _.createElement(cE,n);break;default:return null}}function jce(t){return _.isValidElement(t)?t.props:t}function V9(t){var{option:e,shapeType:n,propTransformer:r=Cce,activeClassName:i="recharts-active-shape",isActive:a}=t,l=_ce(t,wce),u;if(_.isValidElement(e))u=_.cloneElement(e,Ly(Ly({},l),jce(e)));else if(typeof e=="function")u=e(l);else if(pce(e)&&typeof e!="boolean"){var d=r(e,l);u=_.createElement(ak,{shapeType:n,elementProps:d})}else{var h=l;u=_.createElement(ak,{shapeType:n,elementProps:h})}return a?_.createElement(cn,{className:i},u):u}var MA=(t,e)=>{var n=an();return(r,i)=>a=>{t?.(r,i,a),n(e9({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},LA=t=>{var e=an();return(n,r)=>i=>{t?.(n,r,i),e(fse())}},VA=(t,e)=>{var n=an();return(r,i)=>a=>{t?.(r,i,a),n(hse({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function a0(t){var{fn:e,args:n}=t,r=an(),i=wr();return _.useEffect(()=>{if(!i){var a=e(n);return r(cse(a)),()=>{r(use(a))}}},[e,n,r,i]),null}var U9=()=>{};function UA(t){var{legendPayload:e}=t,n=an(),r=wr();return _.useEffect(()=>r?U9:(n(a5(e)),()=>{n(s5(e))}),[n,r,e]),null}function Pce(t){var{legendPayload:e}=t,n=an(),r=Ne(et);return _.useEffect(()=>r!=="centric"&&r!=="radial"?U9:(n(a5(e)),()=>{n(s5(e))}),[n,r,e]),null}var i1,Oce=()=>{var[t]=_.useState(()=>Sh("uid-"));return t},Ice=(i1=oV.useId)!==null&&i1!==void 0?i1:Oce;function Rce(t,e){var n=Ice();return e||(t?"".concat(t,"-").concat(n):n)}var kce=_.createContext(void 0),s0=t=>{var{id:e,type:n,children:r}=t,i=Rce("recharts-".concat(n),e);return _.createElement(kce.Provider,{value:i},r(i))},Dce={cartesianItems:[],polarItems:[]},B9=mi({name:"graphicalItems",initialState:Dce,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Ls(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Ls(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Ls(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Mce,replaceCartesianGraphicalItem:Lce,removeCartesianGraphicalItem:Vce,addPolarGraphicalItem:Uce,removePolarGraphicalItem:Bce}=B9.actions,zce=B9.reducer;function BA(t){var e=an(),n=_.useRef(null);return _.useEffect(()=>{n.current===null?e(Mce(t)):n.current!==t&&e(Lce({prev:n.current,next:t})),n.current=t},[e,t]),_.useEffect(()=>()=>{n.current&&(e(Vce(n.current)),n.current=null)},[e]),null}function $ce(t){var e=an();return _.useEffect(()=>(e(Uce(t)),()=>{e(Bce(t))}),[e,t]),null}var Fce=["onMouseEnter","onClick","onMouseLeave"],qce=["id"],Hce=["id"];function zA(t,e){if(t==null)return{};var n,r,i=Kce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){Gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gce(t,e,n){return(e=Wce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wce(t){var e=Yce(t,"string");return typeof e=="symbol"?e:e+""}function Yce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(null,arguments)}function Xce(t){var e=_.useMemo(()=>iE(t.children,Hc),[t.children]),n=Ne(r=>uce(r,t.id,e));return n==null?null:_.createElement(Pce,{legendPayload:n})}function Qce(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:l,name:u,hide:d,tooltipType:h}=t;return{dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:l,dataKey:e,nameKey:n,name:vl(u,e),hide:d,type:h,color:l,unit:""}}}var Zce=(t,e)=>t>e?"start":t<e?"end":"middle",Jce=(t,e,n)=>vr(typeof e=="function"?e(t):e,n,n*.8),eue=(t,e,n)=>{var{top:r,left:i,width:a,height:l}=e,u=YM(a,l),d=i+vr(t.cx,a,a/2),h=r+vr(t.cy,l,l/2),p=vr(t.innerRadius,u,0),g=Jce(n,t.outerRadius,u),x=t.maxRadius||Math.sqrt(a*a+l*l)/2;return{cx:d,cy:h,innerRadius:p,outerRadius:g,maxRadius:x}},tue=(t,e)=>{var n=Wn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function nue(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var rue=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var n=ot("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return _.createElement(Hu,dl({},e,{type:"linear",className:n}))},iue=(t,e,n)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),_.isValidElement(r)))return r;var i=ot("recharts-pie-label-text",nue(t));return _.createElement(r0,dl({},e,{alignmentBaseline:"middle",className:i}),r)};function aue(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:l}=n;if(!r||!i||!e)return null;var u=Ki(n),d=$t(i,!1),h=$t(a,!1),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((x,b)=>{var A=(x.startAngle+x.endAngle)/2,E=Nn(x.cx,x.cy,x.outerRadius+p,A),S=qt(qt(qt(qt({},u),x),{},{stroke:"none"},d),{},{index:b,textAnchor:Zce(E.x,x.cx)},E),C=qt(qt(qt(qt({},u),x),{},{fill:"none",stroke:x.fill},h),{},{index:b,points:[Nn(x.cx,x.cy,x.outerRadius,A),E],key:"line"});return _.createElement(cn,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},a&&rue(a,C),iue(i,S,Ct(x,l)))});return _.createElement(cn,{className:"recharts-pie-labels"},g)}function sue(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(i0,{label:i}):_.createElement(aue,{sectors:e,props:n,showLabels:r})}function oue(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=Ne(ul),{onMouseEnter:l,onClick:u,onMouseLeave:d}=i,h=zA(i,Fce),p=MA(l,i.dataKey),g=LA(d),x=VA(u,i.dataKey);return e==null||e.length===0?null:_.createElement(_.Fragment,null,e.map((b,A)=>{if(b?.startAngle===0&&b?.endAngle===0&&e.length!==1)return null;var E=n&&String(A)===a,S=a?r:null,C=E?n:S,j=qt(qt({},b),{},{stroke:b.stroke,tabIndex:-1,[t5]:A,[n5]:i.dataKey});return _.createElement(cn,dl({tabIndex:-1,className:"recharts-pie-sector"},im(h,b,A),{onMouseEnter:p(b,A),onMouseLeave:g(b,A),onClick:x(b,A),key:"sector-".concat(b?.startAngle,"-").concat(b?.endAngle,"-").concat(b.midAngle,"-").concat(A)}),_.createElement(V9,dl({option:C,isActive:E,shapeType:"sector"},j)))}))}function lue(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:h,nameKey:p,tooltipType:g}=n,x=Math.abs(n.minAngle),b=tue(u,d),A=Math.abs(b),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,S=r.filter(U=>Ct(U,h,0)!==0).length,C=(A>=360?S:S-1)*E,j=A-S*x-C,N=r.reduce((U,R)=>{var I=Ct(R,h,0);return U+(je(I)?I:0)},0),L;if(N>0){var M;L=r.map((U,R)=>{var I=Ct(U,h,0),k=Ct(U,p,R),$=eue(n,a,U),V=(je(I)?I:0)/N,F,B=qt(qt({},U),i&&i[R]&&i[R].props);R?F=M.endAngle+Wn(b)*E*(I!==0?1:0):F=u;var ve=F+Wn(b)*((I!==0?x:0)+V*j),ie=(F+ve)/2,G=($.innerRadius+$.outerRadius)/2,W=[{name:k,value:I,payload:B,dataKey:h,type:g}],ae=Nn($.cx,$.cy,G,ie);return M=qt(qt(qt(qt({},n.presentationProps),{},{percent:V,cornerRadius:l,name:k,tooltipPayload:W,midAngle:ie,middleRadius:G,tooltipPosition:ae},B),$),{},{value:I,startAngle:F,endAngle:ve,payload:B,paddingAngle:Wn(b)*E}),M})}return L}function cue(t){var{showLabels:e,sectors:n,children:r}=t,i=_.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return _.createElement(Wle,{value:e?i:void 0},r)}function uue(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:l,animationEasing:u,activeShape:d,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,x=Td(e,"recharts-pie-"),b=n.current,[A,E]=_.useState(!1),S=_.useCallback(()=>{typeof g=="function"&&g(),E(!1)},[g]),C=_.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return _.createElement(cue,{showLabels:!A,sectors:r},_.createElement(Sd,{animationId:x,begin:a,duration:l,isActive:i,easing:u,onAnimationStart:C,onAnimationEnd:S,key:x},j=>{var N=[],L=r&&r[0],M=L?.startAngle;return r?.forEach((U,R)=>{var I=b&&b[R],k=R>0?Ac(U,"paddingAngle",0):0;if(I){var $=Tt(I.endAngle-I.startAngle,U.endAngle-U.startAngle,j),V=qt(qt({},U),{},{startAngle:M+k,endAngle:M+$+k});N.push(V),M=V.endAngle}else{var{endAngle:F,startAngle:B}=U,ve=Tt(0,F-B,j),ie=qt(qt({},U),{},{startAngle:M+k,endAngle:M+ve+k});N.push(ie),M=ie.endAngle}}),n.current=N,_.createElement(cn,null,_.createElement(oue,{sectors:N,activeShape:d,inactiveShape:h,allOtherPieProps:e}))}),_.createElement(sue,{showLabels:!A,sectors:r,props:e}),e.children)}var due={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!no.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function fue(t){var{id:e}=t,n=zA(t,qce),{hide:r,className:i,rootTabIndex:a}=t,l=_.useMemo(()=>iE(t.children,Hc),[t.children]),u=Ne(p=>dce(p,e,l)),d=_.useRef(null),h=ot("recharts-pie",i);return r||u==null?(d.current=null,_.createElement(cn,{tabIndex:a,className:h})):_.createElement(_.Fragment,null,_.createElement(a0,{fn:Qce,args:qt(qt({},t),{},{sectors:u})}),_.createElement(cn,{tabIndex:a,className:h},_.createElement(uue,{props:qt(qt({},n),{},{sectors:u}),previousSectorsRef:d})))}function $A(t){var e=Vn(t,due),{id:n}=e,r=zA(e,Hce),i=Ki(r);return _.createElement(s0,{id:n,type:"pie"},a=>_.createElement(_.Fragment,null,_.createElement($ce,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),_.createElement(Xce,dl({},r,{id:a})),_.createElement(fue,dl({},r,{id:a}))))}$A.displayName="Pie";function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){hue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hue(t,e,n){return(e=mue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mue(t){var e=pue(t,"string");return typeof e=="symbol"?e:e+""}function pue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gue={xAxis:{},yAxis:{},zAxis:{}},z9=mi({name:"cartesianAxis",initialState:gue,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=lk(lk({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:yue,removeXAxis:vue,addYAxis:xue,removeYAxis:bue,addZAxis:rge,removeZAxis:ige,updateYAxisWidth:wue}=z9.actions,_ue=z9.reducer,Eue=ee([Ln],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Aue=ee([Eue,eo,to],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),o0=()=>Ne(Aue),Sue=()=>Ne(Jse);function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){Tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tue(t,e,n){return(e=Cue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cue(t){var e=Nue(t,"string");return typeof e=="symbol"?e:e+""}function Nue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jue=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l=uk(uk({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},$t(i,!1)),rE(i)),u;return _.isValidElement(i)?u=_.cloneElement(i,l):typeof i=="function"?u=i(l):u=_.createElement(OA,l),_.createElement(cn,{className:"recharts-active-dot"},u)};function A2(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=Ne(ul),l=Sue();if(e==null||l==null)return null;var u=e.find(d=>l.includes(d.payload));return zt(u)?null:jue({point:u,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var Pue="Invariant failed";function Oue(t,e){throw new Error(Pue)}var Iue=["x","y"];function S2(){return S2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S2.apply(null,arguments)}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){Rue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rue(t,e,n){return(e=kue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kue(t){var e=Due(t,"string");return typeof e=="symbol"?e:e+""}function Due(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mue(t,e){if(t==null)return{};var n,r,i=Lue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vue(t,e){var{x:n,y:r}=t,i=Mue(t,Iue),a="".concat(n),l=parseInt(a,10),u="".concat(r),d=parseInt(u,10),h="".concat(e.height||i.height),p=parseInt(h,10),g="".concat(e.width||i.width),x=parseInt(g,10);return Zf(Zf(Zf(Zf(Zf({},e),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:x,name:e.name,radius:e.radius})}function FA(t){return _.createElement(V9,S2({shapeType:"rectangle",propTransformer:Vue,activeClassName:"recharts-active-bar"},t))}var Uue=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(je(e))return e;var a=je(r)||zt(r);return a?e(r,i):(a||Oue(),n)}},Bue={},$9=mi({name:"errorBars",initialState:Bue,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:age,replaceErrorBar:sge,removeErrorBar:oge}=$9.actions,zue=$9.reducer,$ue=["children"];function Fue(t,e){if(t==null)return{};var n,r,i=que(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function que(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hue={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Kue=_.createContext(Hue);function F9(t){var{children:e}=t,n=Fue(t,$ue);return _.createElement(Kue.Provider,{value:n},e)}function l0(t,e){var n,r,i=Ne(h=>io(h,t)),a=Ne(h=>ao(h,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ni.allowDataOverflow,u=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:ri.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function qA(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=o0(),{needClipX:a,needClipY:l,needClip:u}=l0(e,n);if(!u)return null;var{x:d,y:h,width:p,height:g}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:a?d:d-p/2,y:l?h:h-g/2,width:a?p:p*2,height:l?g:g*2}))}var Gue=["onMouseEnter","onMouseLeave","onClick"],Wue=["value","background","tooltipPosition"],Yue=["id"],Xue=["onMouseEnter","onClick","onMouseLeave"];function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fl.apply(null,arguments)}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){Que(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Que(t,e,n){return(e=Zue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zue(t){var e=Jue(t,"string");return typeof e=="symbol"?e:e+""}function Jue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vy(t,e){if(t==null)return{};var n,r,i=ede(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ede(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tde=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:vl(n,e),payload:t}]};function nde(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:l,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:vl(a,e),hide:l,type:t.tooltipType,color:t.fill,unit:u}}}function rde(t){var e=Ne(ul),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:l,onMouseLeave:u,onClick:d}=a,h=Vy(a,Gue),p=MA(l,r),g=LA(u),x=VA(d,r);if(!i||n==null)return null;var b=$t(i,!1);return _.createElement(_.Fragment,null,n.map((A,E)=>{var{value:S,background:C,tooltipPosition:j}=A,N=Vy(A,Wue);if(!C)return null;var L=p(A,E),M=g(A,E),U=x(A,E),R=jr(jr(jr(jr(jr({option:i,isActive:String(E)===e},N),{},{fill:"#eee"},C),b),im(h,A,E)),{},{onMouseEnter:L,onMouseLeave:M,onClick:U,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return _.createElement(FA,fl({key:"background-bar-".concat(R.index)},R))}))}function ide(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(a=>{var l={x:a.x,y:a.y,width:a.width,height:a.height};return jr(jr({},l),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:l,fill:a.fill})});return _.createElement(PA,{value:e?i:void 0},n)}function ade(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:l}=t,u=Ne(ul),d=Ne(h9),h=n&&String(a)===u&&(d==null||l===d),p=h?n:e;return _.createElement(FA,fl({},r,i,{isActive:h,option:p,index:a,dataKey:l}))}function sde(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return _.createElement(FA,fl({},n,r,{isActive:!1,option:e,index:i,dataKey:a}))}function ode(t){var{data:e,props:n}=t,r=Ki(n),{id:i}=r,a=Vy(r,Yue),{shape:l,dataKey:u,activeBar:d}=n,{onMouseEnter:h,onClick:p,onMouseLeave:g}=n,x=Vy(n,Xue),b=MA(h,u),A=LA(g),E=VA(p,u);return e?_.createElement(_.Fragment,null,e.map((S,C)=>_.createElement(cn,fl({className:"recharts-bar-rectangle"},im(x,S,C),{onMouseEnter:b(S,C),onMouseLeave:A(S,C),onClick:E(S,C),key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(C)}),d?_.createElement(ade,{shape:l,activeBar:d,baseProps:a,entry:S,index:C,dataKey:u}):_.createElement(sde,{shape:l,baseProps:a,entry:S,index:C,dataKey:u})))):null}function lde(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,x=Td(e,"recharts-bar-"),[b,A]=_.useState(!1),E=!b,S=_.useCallback(()=>{typeof h=="function"&&h(),A(!1)},[h]),C=_.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return _.createElement(ide,{showLabels:E,rects:r},_.createElement(Sd,{animationId:x,begin:l,duration:u,isActive:a,easing:d,onAnimationEnd:S,onAnimationStart:C,key:x},j=>{var N=j===1?r:r?.map((L,M)=>{var U=g&&g[M];if(U)return jr(jr({},L),{},{x:Tt(U.x,L.x,j),y:Tt(U.y,L.y,j),width:Tt(U.width,L.width,j),height:Tt(U.height,L.height,j)});if(i==="horizontal"){var R=Tt(0,L.height,j);return jr(jr({},L),{},{y:L.y+L.height-R,height:R})}var I=Tt(0,L.width,j);return jr(jr({},L),{},{width:I})});return j>0&&(n.current=N??null),N==null?null:_.createElement(cn,null,_.createElement(ode,{props:e,data:N}))}),_.createElement(i0,{label:e.label}),e.children)}function cde(t){var e=_.useRef(null);return _.createElement(lde,{previousRectanglesRef:e,props:t})}var q9=0,ude=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Ct(t,e)}};class dde extends _.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:l,needClip:u,background:d,id:h}=this.props;if(e||n==null)return null;var p=ot("recharts-bar",i),g=h;return _.createElement(cn,{className:p,id:h},u&&_.createElement("defs",null,_.createElement(qA,{clipPathId:g,xAxisId:a,yAxisId:l})),_.createElement(cn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},_.createElement(rde,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),_.createElement(cde,this.props)))}}var fde={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!no.isSsr,legendType:"rect",minPointSize:q9,xAxisId:0,yAxisId:0};function hde(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=l0(e,n),x=lm(),b=wr(),A=iE(t.children,Hc),E=Ne(j=>zde(j,e,n,b,t.id,A));if(x!=="vertical"&&x!=="horizontal")return null;var S,C=E?.[0];return C==null||C.height==null||C.width==null?S=0:S=x==="vertical"?C.height/2:C.width/2,_.createElement(F9,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:ude,errorBarOffset:S},_.createElement(dde,fl({},t,{layout:x,needClip:g,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p})))}function mde(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:h,stackedData:p,displayedData:g,offset:x,cells:b,parentViewBox:A}=t,E=e==="horizontal"?u:l,S=p?E.scale.domain():null,C=Nee({numericAxis:E});return g.map((j,N)=>{var L,M,U,R,I,k;p?L=Eee(p[N],S):(L=Ct(j,n),Array.isArray(L)||(L=[C,L]));var $=Uue(r,q9)(L[1],N);if(e==="horizontal"){var V,[F,B]=[u.scale(L[0]),u.scale(L[1])];M=QO({axis:l,ticks:d,bandSize:a,offset:i.offset,entry:j,index:N}),U=(V=B??F)!==null&&V!==void 0?V:void 0,R=i.size;var ve=F-B;if(I=Hr(ve)?0:ve,k={x:M,y:x.top,width:R,height:x.height},Math.abs($)>0&&Math.abs(I)<Math.abs($)){var ie=Wn(I||$)*(Math.abs($)-Math.abs(I));U-=ie,I+=ie}}else{var[G,W]=[l.scale(L[0]),l.scale(L[1])];if(M=G,U=QO({axis:u,ticks:h,bandSize:a,offset:i.offset,entry:j,index:N}),R=W-G,I=i.size,k={x:x.left,y:U,width:x.width,height:I},Math.abs($)>0&&Math.abs(R)<Math.abs($)){var ae=Wn(R||$)*(Math.abs($)-Math.abs(R));R+=ae}}if(M==null||U==null||R==null||I==null)return null;var ye=jr(jr({},j),{},{x:M,y:U,width:R,height:I,value:p?L:L[1],payload:j,background:k,tooltipPosition:{x:M+R/2,y:U+I/2},parentViewBox:A},b&&b[N]&&b[N].props);return ye}).filter(Boolean)}function pde(t){var e=Vn(t,fde),n=wr();return _.createElement(s0,{id:e.id,type:"bar"},r=>_.createElement(_.Fragment,null,_.createElement(UA,{legendPayload:tde(e)}),_.createElement(a0,{fn:nde,args:e}),_.createElement(BA,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:JM(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),_.createElement(hde,fl({},e,{id:r}))))}var H9=_.memo(pde);H9.displayName="Bar";function hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(n),!0).forEach(function(r){gde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gde(t,e,n){return(e=yde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yde(t){var e=vde(t,"string");return typeof e=="symbol"?e:e+""}function vde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xde=(t,e)=>e,bde=(t,e,n)=>n,wde=(t,e,n,r)=>r,_de=(t,e,n,r,i)=>i,Am=ee([ym,_de],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Ede=ee([Am],t=>t?.maxBarSize),Ade=(t,e,n,r,i,a)=>a,mk=(t,e,n)=>{var r=n??t;if(!zt(r))return vr(r,e,0)},Sde=ee([et,ym,xde,bde,wde],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Tde=(t,e,n,r)=>{var i=et(t);return i==="horizontal"?kh(t,"yAxis",n,r):kh(t,"xAxis",e,r)},Cde=(t,e,n)=>{var r=et(t);return r==="horizontal"?mR(t,"xAxis",e):mR(t,"yAxis",n)},Nde=(t,e,n)=>{var r={},i=t.filter(Xv),a=t.filter(h=>h.stackId==null),l=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),u=Object.entries(l).map(h=>{var[p,g]=h,x=g.map(A=>A.dataKey),b=mk(e,n,g[0].barSize);return{stackId:p,dataKeys:x,barSize:b}}),d=a.map(h=>{var p=[h.dataKey].filter(x=>x!=null),g=mk(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...d]},jde=ee([Sde,lae,Cde],Nde),Pde=(t,e,n,r,i)=>{var a,l,u=Am(t,e,n,r,i);if(u!=null){var d=et(t),h=dL(t),{maxBarSize:p}=u,g=zt(p)?h:p,x,b;return d==="horizontal"?(x=Qa(t,"xAxis",e,r),b=Xa(t,"xAxis",e,r)):(x=Qa(t,"yAxis",n,r),b=Xa(t,"yAxis",n,r)),(a=(l=Cc(x,b,!0))!==null&&l!==void 0?l:g)!==null&&a!==void 0?a:0}},K9=(t,e,n,r)=>{var i=et(t),a,l;return i==="horizontal"?(a=Qa(t,"xAxis",e,r),l=Xa(t,"xAxis",e,r)):(a=Qa(t,"yAxis",n,r),l=Xa(t,"yAxis",n,r)),Cc(a,l)};function Ode(t,e,n,r,i){var a=r.length;if(!(a<1)){var l=vr(t,n,0,!0),u,d=[];if(or(r[0].barSize)){var h=!1,p=n/a,g=r.reduce((C,j)=>C+(j.barSize||0),0);g+=(a-1)*l,g>=n&&(g-=(a-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=a*p);var x=(n-g)/2>>0,b={offset:x-l,size:0};u=r.reduce((C,j)=>{var N,L={stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:b.offset+b.size+l,size:h?p:(N=j.barSize)!==null&&N!==void 0?N:0}},M=[...C,L];return b=M[M.length-1].position,M},d)}else{var A=vr(e,n,0,!0);n-2*A-(a-1)*l<=0&&(l=0);var E=(n-2*A-(a-1)*l)/a;E>1&&(E>>=0);var S=or(i)?Math.min(E,i):E;u=r.reduce((C,j,N)=>[...C,{stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:A+(E+l)*N+(E-S)/2,size:S}}],d)}return u}}var Ide=(t,e,n,r,i,a,l)=>{var u=zt(l)?e:l,d=Ode(n,r,i!==a?i:a,t,u);return i!==a&&d!=null&&(d=d.map(h=>ug(ug({},h),{},{position:ug(ug({},h.position),{},{offset:h.position.offset-i/2})}))),d},Rde=ee([jde,dL,oae,fL,Pde,K9,Ede],Ide),kde=(t,e,n,r)=>Qa(t,"xAxis",e,r),Dde=(t,e,n,r)=>Qa(t,"yAxis",n,r),Mde=(t,e,n,r)=>Xa(t,"xAxis",e,r),Lde=(t,e,n,r)=>Xa(t,"yAxis",n,r),Vde=ee([Rde,Am],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Ude=(t,e)=>{var n=Yv(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(l=>l.key===n)}}}},Bde=ee([Tde,Am],Ude),zde=ee([Ln,bE,kde,Dde,Mde,Lde,Vde,et,hm,K9,Bde,Am,Ade],(t,e,n,r,i,a,l,u,d,h,p,g,x)=>{var{chartData:b,dataStartIndex:A,dataEndIndex:E}=d;if(!(g==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||h==null)){var{data:S}=g,C;if(S!=null&&S.length>0?C=S:C=b?.slice(A,E+1),C!=null)return mde({layout:u,barSettings:g,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:p,displayedData:C,offset:t,cells:x})}}),G9=t=>{var{chartData:e}=t,n=an(),r=wr();return _.useEffect(()=>r?()=>{}:(n(AR(e)),()=>{n(AR(void 0))}),[e,n,r]),null},pk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},W9=mi({name:"brush",initialState:pk,reducers:{setBrushSettings(t,e){return e.payload==null?pk:e.payload}}}),{setBrushSettings:lge}=W9.actions,$de=W9.reducer;function Fde(t,e,n){return(e=qde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qde(t){var e=Hde(t,"string");return typeof e=="symbol"?e:e+""}function Hde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class HA{static create(e){return new HA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Fde(HA,"EPS",1e-4);function Kde(t){return(t%180+180)%180}var Gde=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Kde(i),l=a*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Wde={dots:[],areas:[],lines:[]},Y9=mi({name:"referenceElements",initialState:Wde,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ls(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ls(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ls(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:cge,removeDot:uge,addArea:dge,removeArea:fge,addLine:hge,removeLine:mge}=Y9.actions,Yde=Y9.reducer,Xde=_.createContext(void 0),Qde=t=>{var{children:e}=t,[n]=_.useState("".concat(Sh("recharts"),"-clip")),r=o0();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return _.createElement(Xde.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:a,height:u,width:l}))),e)};function fd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function X9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Zde(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Gde(r,n)}function Jde(t,e,n){var r=n==="width",{x:i,y:a,width:l,height:u}=t;return e===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function Uy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function efe(t,e){return X9(t,e+1)}function tfe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=e,d=0,h=1,p=l,g=function(){var A=r?.[d];if(A===void 0)return{v:X9(r,h)};var E=d,S,C=()=>(S===void 0&&(S=n(A,E)),S),j=A.coordinate,N=d===0||Uy(t,j,C,p,u);N||(d=0,p=l,h+=1),N&&(p=j+t*(C()/2+i),d+=h)},x;h<=a.length;)if(x=g(),x)return x.v;return[]}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){nfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nfe(t,e,n){return(e=rfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rfe(t){var e=ife(t,"string");return typeof e=="symbol"?e:e+""}function ife(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function afe(t,e,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=e,{end:d}=e,h=function(x){var b=a[x],A,E=()=>(A===void 0&&(A=n(b,x)),A);if(x===l-1){var S=t*(b.coordinate+t*E()/2-d);a[x]=b=mr(mr({},b),{},{tickCoord:S>0?b.coordinate-S*t:b.coordinate})}else a[x]=b=mr(mr({},b),{},{tickCoord:b.coordinate});var C=Uy(t,b.tickCoord,E,u,d);C&&(d=b.tickCoord-t*(E()/2+i),a[x]=mr(mr({},b),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return a}function sfe(t,e,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:d,end:h}=e;if(a){var p=r[u-1],g=n(p,u-1),x=t*(p.coordinate+t*g/2-h);l[u-1]=p=mr(mr({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate});var b=Uy(t,p.tickCoord,()=>g,d,h);b&&(h=p.tickCoord-t*(g/2+i),l[u-1]=mr(mr({},p),{},{isShow:!0}))}for(var A=a?u-1:u,E=function(j){var N=l[j],L,M=()=>(L===void 0&&(L=n(N,j)),L);if(j===0){var U=t*(N.coordinate-t*M()/2-d);l[j]=N=mr(mr({},N),{},{tickCoord:U<0?N.coordinate-U*t:N.coordinate})}else l[j]=N=mr(mr({},N),{},{tickCoord:N.coordinate});var R=Uy(t,N.tickCoord,M,d,h);R&&(d=N.tickCoord+t*(M()/2+i),l[j]=mr(mr({},N),{},{isShow:!0}))},S=0;S<A;S++)E(S);return l}function KA(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:d,tickFormatter:h,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(je(d)||no.isSsr){var x;return(x=efe(i,je(d)?d:0))!==null&&x!==void 0?x:[]}var b=[],A=u==="top"||u==="bottom"?"width":"height",E=p&&A==="width"?mh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(N,L)=>{var M=typeof h=="function"?h(N.value,L):N.value;return A==="width"?Zde(mh(M,{fontSize:e,letterSpacing:n}),E,g):mh(M,{fontSize:e,letterSpacing:n})[A]},C=i.length>=2?Wn(i[1].coordinate-i[0].coordinate):1,j=Jde(a,C,A);return d==="equidistantPreserveStart"?tfe(C,j,S,i,l):(d==="preserveStart"||d==="preserveStartEnd"?b=sfe(C,j,S,i,l,d==="preserveStartEnd"):b=afe(C,j,S,i,l),b.filter(N=>N.isShow))}var ofe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,l=0;if(e){e.forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+a,h=l+d+u+(n?r:0);return Math.round(h)}return 0},lfe=["axisLine","width","height","className","hide","ticks"],cfe=["viewBox"],ufe=["viewBox"];function T2(t,e){if(t==null)return{};var n,r,i=dfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(null,arguments)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){ffe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ffe(t,e,n){return(e=hfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hfe(t){var e=mfe(t,"string");return typeof e=="symbol"?e:e+""}function mfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GA={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function pfe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u,otherSvgProps:d}=t;if(!u)return null;var h=Dn(Dn(Dn({},d),$t(u,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var p=+(a==="top"&&!l||a==="bottom"&&l);h=Dn(Dn({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(a==="left"&&!l||a==="right"&&l);h=Dn(Dn({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return _.createElement("line",jc({},h,{className:ot("recharts-cartesian-axis-line",Ac(u,"className"))}))}function gfe(t,e,n,r,i,a,l,u,d){var h,p,g,x,b,A,E=u?-1:1,S=t.tickSize||l,C=je(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":h=p=t.coordinate,x=n+ +!u*i,g=x-E*S,A=g-E*d,b=C;break;case"left":g=x=t.coordinate,p=e+ +!u*r,h=p-E*S,b=h-E*d,A=C;break;case"right":g=x=t.coordinate,p=e+ +u*r,h=p+E*S,b=h+E*d,A=C;break;default:h=p=t.coordinate,x=n+ +u*i,g=x+E*S,A=g+E*d,b=C;break}return{line:{x1:h,y1:g,x2:p,y2:x},tick:{x:b,y:A}}}function yfe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function vfe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function xfe(t){var{option:e,tickProps:n,value:r}=t,i,a=ot(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,Dn(Dn({},n),{},{className:a}));else if(typeof e=="function")i=e(Dn(Dn({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=ot(l,e?.className)),i=_.createElement(r0,jc({},n,{className:l}),r)}return i}function bfe(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:l,padding:u,tickTextProps:d,orientation:h,mirror:p,x:g,y:x,width:b,height:A,tickSize:E,tickMargin:S,fontSize:C,letterSpacing:j,getTicksConfig:N,events:L}=t,M=KA(Dn(Dn({},N),{},{ticks:e}),C,j),U=yfe(h,p),R=vfe(h,p),I=Ki(N),k=$t(n,!1),$=Dn(Dn({},I),{},{fill:"none"},$t(r,!1)),V=M.map((F,B)=>{var{line:ve,tick:ie}=gfe(F,g,x,b,A,h,E,p,S),G=Dn(Dn(Dn(Dn({textAnchor:U,verticalAnchor:R},I),{},{stroke:"none",fill:i},k),ie),{},{index:B,payload:F,visibleTicksCount:M.length,tickFormatter:a,padding:u},d);return _.createElement(cn,jc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},im(L,F,B)),r&&_.createElement("line",jc({},$,ve,{className:ot("recharts-cartesian-axis-tick-line",Ac(r,"className"))})),n&&_.createElement(xfe,{option:n,tickProps:G,value:"".concat(typeof a=="function"?a(F.value,B):F.value).concat(l||"")}))});return V.length>0?_.createElement("g",{className:"recharts-cartesian-axis-ticks"},V):null}var wfe=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:u}=t,d=T2(t,lfe),[h,p]=_.useState(""),[g,x]=_.useState(""),b=_.useRef([]);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return ofe({ticks:b.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=_.useCallback(E=>{if(E){var S=E.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=Array.from(S);var C=S[0];if(C){var j=window.getComputedStyle(C),N=j.fontSize,L=j.letterSpacing;(N!==h||L!==g)&&(p(N),x(L))}}},[h,g]);return l||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(cn,{className:ot("recharts-cartesian-axis",a),ref:A},_.createElement(pfe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ki(t)}),_.createElement(bfe,{ticks:u,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:h,letterSpacing:g,getTicksConfig:t,events:d}),_.createElement(Cle,{x:t.x,y:t.y,width:t.width,height:t.height},_.createElement(Lle,{label:t.label}),t.children))}),_fe=_.memo(wfe,(t,e)=>{var{viewBox:n}=t,r=T2(t,cfe),{viewBox:i}=e,a=T2(e,ufe);return fd(n,i)&&fd(r,a)}),WA=_.forwardRef((t,e)=>{var n=Vn(t,GA);return _.createElement(_fe,jc({},n,{ref:e}))});WA.displayName="CartesianAxis";var Efe=["x1","y1","x2","y2","key"],Afe=["offset"],Sfe=["xAxisId","yAxisId"],Tfe=["xAxisId","yAxisId"];function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){Cfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cfe(t,e,n){return(e=Nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nfe(t){var e=jfe(t,"string");return typeof e=="symbol"?e:e+""}function jfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(null,arguments)}function By(t,e){if(t==null)return{};var n,r,i=Pfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ofe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=t;return _.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Q9(t,e){var n;if(_.isValidElement(t))n=_.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:l,key:u}=e,d=By(e,Efe),h=Ki(d),{offset:p}=h,g=By(h,Afe);n=_.createElement("line",dc({},g,{x1:r,y1:i,x2:a,y2:l,fill:"none",key:u}))}return n}function Ife(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,u=By(t,Sfe),d=i.map((h,p)=>{var g=yr(yr({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return Q9(r,g)});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Rfe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,u=By(t,Tfe),d=i.map((h,p)=>{var g=yr(yr({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return Q9(r,g)});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function kfe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:d=!0}=t;if(!d||!e||!e.length)return null;var h=u.map(g=>Math.round(g+i-i)).sort((g,x)=>g-x);i!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var b=!h[x+1],A=b?i+l-g:h[x+1]-g;if(A<=0)return null;var E=x%e.length;return _.createElement("rect",{key:"react-".concat(x),y:g,x:r,height:A,width:a,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Dfe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,x)=>g-x);i!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var b=!h[x+1],A=b?i+l-g:h[x+1]-g;if(A<=0)return null;var E=x%n.length;return _.createElement("rect",{key:"react-".concat(x),x:g,y:a,width:A,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Mfe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return QM(KA(yr(yr(yr({},GA),n),{},{ticks:ZM(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},Lfe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return QM(KA(yr(yr(yr({},GA),n),{},{ticks:ZM(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Vfe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function c0(t){var e=_E(),n=EE(),r=r5(),i=yr(yr({},Vn(t,Vfe)),{},{x:je(t.x)?t.x:r.left,y:je(t.y)?t.y:r.top,width:je(t.width)?t.width:r.width,height:je(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:d,width:h,height:p,syncWithTicks:g,horizontalValues:x,verticalValues:b}=i,A=wr(),E=Ne(k=>pR(k,"xAxis",a,A)),S=Ne(k=>pR(k,"yAxis",l,A));if(!je(h)||h<=0||!je(p)||p<=0||!je(u)||u!==+u||!je(d)||d!==+d)return null;var C=i.verticalCoordinatesGenerator||Mfe,j=i.horizontalCoordinatesGenerator||Lfe,{horizontalPoints:N,verticalPoints:L}=i;if((!N||!N.length)&&typeof j=="function"){var M=x&&x.length,U=j({yAxis:S?yr(yr({},S),{},{ticks:M?x:S.ticks}):void 0,width:e,height:n,offset:r},M?!0:g);hh(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(N=U)}if((!L||!L.length)&&typeof C=="function"){var R=b&&b.length,I=C({xAxis:E?yr(yr({},E),{},{ticks:R?b:E.ticks}):void 0,width:e,height:n,offset:r},R?!0:g);hh(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(L=I)}return _.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(Ofe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(kfe,dc({},i,{horizontalPoints:N})),_.createElement(Dfe,dc({},i,{verticalPoints:L})),_.createElement(Ife,dc({},i,{offset:r,horizontalPoints:N,xAxis:E,yAxis:S})),_.createElement(Rfe,dc({},i,{offset:r,verticalPoints:L,xAxis:E,yAxis:S})))}c0.displayName="CartesianGrid";var Z9=(t,e,n,r)=>Qa(t,"xAxis",e,r),J9=(t,e,n,r)=>Xa(t,"xAxis",e,r),e8=(t,e,n,r)=>Qa(t,"yAxis",n,r),t8=(t,e,n,r)=>Xa(t,"yAxis",n,r),Ufe=ee([et,Z9,e8,J9,t8],(t,e,n,r,i)=>ts(t,"xAxis")?Cc(e,r,!1):Cc(n,i,!1)),Bfe=(t,e,n,r,i)=>i;function zfe(t){return t.type==="line"}var $fe=ee([ym,Bfe],(t,e)=>t.filter(zfe).find(n=>n.id===e)),Ffe=ee([et,Z9,e8,J9,t8,$fe,Ufe,hm],(t,e,n,r,i,a,l,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:p}=u;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{dataKey:g,data:x}=a,b;if(x!=null&&x.length>0?b=x:b=d?.slice(h,p+1),b!=null)return dhe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:b})}}),qfe=["id"],Hfe=["type","layout","connectNulls","needClip"],Kfe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){Gfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gfe(t,e,n){return(e=Wfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wfe(t){var e=Yfe(t,"string");return typeof e=="symbol"?e:e+""}function Yfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YA(t,e){if(t==null)return{};var n,r,i=Xfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(null,arguments)}var Qfe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:vl(n,e),payload:t}]};function Zfe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:d}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:vl(l,e),hide:u,type:t.tooltipType,color:t.stroke,unit:d}}}var n8=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Jfe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var ehe=(t,e,n)=>{var r=n.reduce((g,x)=>g+x);if(!r)return n8(e,t);for(var i=Math.floor(t/r),a=t%r,l=e-t,u=[],d=0,h=0;d<n.length;h+=n[d],++d)if(h+n[d]>a){u=[...n.slice(0,d),a-h];break}var p=u.length%2===0?[0,l]:[l];return[...Jfe(n,i),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function the(t,e){var n;if(_.isValidElement(t))n=_.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=ot("recharts-line-dot",typeof t!="boolean"?t.className:"");n=_.createElement(OA,Pc({},e,{className:r}))}return n}function nhe(t,e){return t==null?!1:e?!0:t.length===1}function rhe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:l}=r;if(!nhe(n,i))return null;var{id:u}=r,d=YA(r,qfe),h=Tv(i),p=Ki(d),g=$t(i,!0),x=n.map((A,E)=>{var S=ai(ai(ai({key:"dot-".concat(E),r:3},p),g),{},{index:E,cx:A.x,cy:A.y,dataKey:a,value:A.value,payload:A.payload,points:n});return the(i,S)}),b={clipPath:l?"url(#clipPath-".concat(h?"":"dots-").concat(e,")"):void 0};return _.createElement(cn,Pc({className:"recharts-line-dots",key:"dots"},b),x)}function ihe(t){var{showLabels:e,children:n,points:r}=t,i=_.useMemo(()=>r?.map(a=>{var l={x:a.x,y:a.y,width:0,height:0};return ai(ai({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return _.createElement(PA,{value:e?i:null},n)}function bk(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:l,layout:u,connectNulls:d,needClip:h}=a,p=YA(a,Hfe),g=ai(ai({},$t(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i??a.strokeDasharray});return _.createElement(_.Fragment,null,r?.length>1&&_.createElement(Hu,Pc({},g,{pathRef:n})),_.createElement(rhe,{points:r,clipPathId:e,props:a}))}function ahe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function she(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:x,width:b,height:A,onAnimationEnd:E,onAnimationStart:S}=n,C=i.current,j=Td(n,"recharts-line-"),[N,L]=_.useState(!1),M=!N,U=_.useCallback(()=>{typeof E=="function"&&E(),L(!1)},[E]),R=_.useCallback(()=>{typeof S=="function"&&S(),L(!0)},[S]),I=ahe(r.current),k=a.current;return _.createElement(ihe,{points:l,showLabels:M},n.children,_.createElement(Sd,{animationId:j,begin:h,duration:p,isActive:d,easing:g,onAnimationEnd:U,onAnimationStart:R,key:j},$=>{var V=Tt(k,I+k,$),F=Math.min(V,I),B;if(d)if(u){var ve="".concat(u).split(/[,\s]+/gim).map(W=>parseFloat(W));B=ehe(F,I,ve)}else B=n8(I,F);else B=u==null?void 0:String(u);if(C){var ie=C.length/l.length,G=$===1?l:l.map((W,ae)=>{var ye=Math.floor(ae*ie);if(C[ye]){var H=C[ye];return ai(ai({},W),{},{x:Tt(H.x,W.x,$),y:Tt(H.y,W.y,$)})}return x?ai(ai({},W),{},{x:Tt(b*2,W.x,$),y:Tt(A/2,W.y,$)}):ai(ai({},W),{},{x:W.x,y:W.y})});return i.current=G,_.createElement(bk,{props:n,points:G,clipPathId:e,pathRef:r,strokeDasharray:B})}return $>0&&I>0&&(i.current=l,a.current=F),_.createElement(bk,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:B})}),_.createElement(i0,{label:n.label}))}function ohe(t){var{clipPathId:e,props:n}=t,r=_.useRef(null),i=_.useRef(0),a=_.useRef(null);return _.createElement(she,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var lhe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Ct(t.payload,e)});class che extends _.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:l,yAxisId:u,top:d,left:h,width:p,height:g,id:x,needClip:b}=this.props;if(n)return null;var A=ot("recharts-line",a),E=x,{r:S=3,strokeWidth:C=2}=(e=$t(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},j=Tv(r),N=S*2+C;return _.createElement(_.Fragment,null,_.createElement(cn,{className:A},b&&_.createElement("defs",null,_.createElement(qA,{clipPathId:E,xAxisId:l,yAxisId:u}),!j&&_.createElement("clipPath",{id:"clipPath-dots-".concat(E)},_.createElement("rect",{x:h-N/2,y:d-N/2,width:p+N,height:g+N}))),_.createElement(F9,{xAxisId:l,yAxisId:u,data:i,dataPointFormatter:lhe,errorBarOffset:0},_.createElement(ohe,{props:this.props,clipPathId:E}))),_.createElement(A2,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var r8={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!no.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function uhe(t){var e=Vn(t,r8),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:d,hide:h,isAnimationActive:p,label:g,legendType:x,xAxisId:b,yAxisId:A,id:E}=e,S=YA(e,Kfe),{needClip:C}=l0(b,A),j=o0(),N=lm(),L=wr(),M=Ne($=>Ffe($,b,A,L,E));if(N!=="horizontal"&&N!=="vertical"||M==null||j==null)return null;var{height:U,width:R,x:I,y:k}=j;return _.createElement(che,Pc({},S,{id:E,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:x,xAxisId:b,yAxisId:A,points:M,layout:N,height:U,width:R,left:I,top:k,needClip:C}))}function dhe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:u,displayedData:d}=t;return d.map((h,p)=>{var g=Ct(h,l);if(e==="horizontal"){var x=vy({axis:n,ticks:i,bandSize:u,entry:h,index:p}),b=zt(g)?null:r.scale(g);return{x,y:b,value:g,payload:h}}var A=zt(g)?null:n.scale(g),E=vy({axis:r,ticks:a,bandSize:u,entry:h,index:p});return A==null||E==null?null:{x:A,y:E,value:g,payload:h}}).filter(Boolean)}function fhe(t){var e=Vn(t,r8),n=wr();return _.createElement(s0,{id:e.id,type:"line"},r=>_.createElement(_.Fragment,null,_.createElement(UA,{legendPayload:Qfe(e)}),_.createElement(a0,{fn:Zfe,args:e}),_.createElement(BA,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),_.createElement(uhe,Pc({},e,{id:r}))))}var C2=_.memo(fhe);C2.displayName="Line";var i8=(t,e,n,r)=>Qa(t,"xAxis",e,r),a8=(t,e,n,r)=>Xa(t,"xAxis",e,r),s8=(t,e,n,r)=>Qa(t,"yAxis",n,r),o8=(t,e,n,r)=>Xa(t,"yAxis",n,r),hhe=ee([et,i8,s8,a8,o8],(t,e,n,r,i)=>ts(t,"xAxis")?Cc(e,r,!1):Cc(n,i,!1)),mhe=(t,e,n,r,i)=>i,l8=ee([ym,mhe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),phe=(t,e,n,r,i)=>{var a,l=l8(t,e,n,r,i);if(l!=null){var u=et(t),d=ts(u,"xAxis"),h;if(d?h=kh(t,"yAxis",n,r):h=kh(t,"xAxis",e,r),h!=null){var{stackId:p}=l,g=Yv(l);if(!(p==null||g==null)){var x=(a=h[p])===null||a===void 0?void 0:a.stackedData;return x?.find(b=>b.key===g)}}}},ghe=ee([et,i8,s8,a8,o8,phe,hm,hhe,l8],(t,e,n,r,i,a,l,u,d)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:g}=l;if(!(d==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:x}=d,b;if(x&&x.length>0?b=x:b=h?.slice(p,g+1),b!=null){var A=void 0;return Lhe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:d,stackedData:a,displayedData:b,chartBaseValue:A,bandSize:u})}}}),yhe=["id"],vhe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function c8(t,e){if(t==null)return{};var n,r,i=xhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bhe(t,e,n){return(e=whe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function whe(t){var e=_he(t,"string");return typeof e=="symbol"?e:e+""}function _he(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Us(){return Us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Us.apply(null,arguments)}function zy(t,e){return t&&t!=="none"?t:e}var Ehe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:l}=t;return[{inactive:l,dataKey:e,type:a,color:zy(r,i),value:vl(n,e),payload:t}]};function Ahe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:d}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:vl(l,e),hide:u,type:t.tooltipType,color:zy(r,a),unit:d}}}var She=(t,e)=>{var n;if(_.isValidElement(t))n=_.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=ot("recharts-area-dot",typeof t!="boolean"?t.className:"");n=_.createElement(OA,Us({},e,{className:r}))}return n};function The(t,e){return t==null?!1:e?!0:t.length===1}function Che(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:l}=r;if(!The(n,a))return null;var u=Tv(a),d=Ki(r),h=$t(a,!0),p=n.map((x,b)=>{var A=Is(Is(Is({key:"dot-".concat(b),r:3},d),h),{},{index:b,cx:x.x,cy:x.y,dataKey:l,value:x.value,payload:x.payload,points:n});return She(a,A)}),g={clipPath:i?"url(#clipPath-".concat(u?"":"dots-").concat(e,")"):void 0};return _.createElement(cn,Us({className:"recharts-area-dots"},g),p)}function Nhe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var l={x:a.x,y:a.y,width:0,height:0};return Is(Is({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return _.createElement(PA,{value:e?i:null},n)}function _k(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:l,type:u,stroke:d,connectNulls:h,isRange:p}=a,{id:g}=a,x=c8(a,yhe),b=Ki(x);return _.createElement(_.Fragment,null,e?.length>1&&_.createElement(cn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},_.createElement(Hu,Us({},b,{id:g,points:e,connectNulls:h,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&_.createElement(Hu,Us({},b,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:e})),d!=="none"&&p&&_.createElement(Hu,Us({},b,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:n}))),_.createElement(Che,{points:e,props:x,clipPathId:i}))}function jhe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].y,l=r[r.length-1].y;if(!or(a)||!or(l))return null;var u=e*Math.abs(a-l),d=Math.max(...r.map(h=>h.x||0));return je(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(h=>h.x||0),d)),je(d)?_.createElement("rect",{x:0,y:a<l?a:a-u,width:d+(i?parseInt("".concat(i),10):1),height:Math.floor(u)}):null}function Phe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].x,l=r[r.length-1].x;if(!or(a)||!or(l))return null;var u=e*Math.abs(a-l),d=Math.max(...r.map(h=>h.y||0));return je(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(h=>h.y||0),d)),je(d)?_.createElement("rect",{x:a<l?a:a-u,y:0,width:u,height:Math.floor(d+(i?parseInt("".concat(i),10):1))}):null}function Ohe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?_.createElement(jhe,{alpha:e,points:r,baseLine:i,strokeWidth:a}):_.createElement(Phe,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function Ihe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:l,baseLine:u,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:g,onAnimationStart:x,onAnimationEnd:b}=r,A=Td(r,"recharts-area-"),[E,S]=_.useState(!1),C=!E,j=_.useCallback(()=>{typeof b=="function"&&b(),S(!1)},[b]),N=_.useCallback(()=>{typeof x=="function"&&x(),S(!0)},[x]),L=i.current,M=a.current;return _.createElement(Nhe,{showLabels:C,points:l},r.children,_.createElement(Sd,{animationId:A,begin:h,duration:p,isActive:d,easing:g,onAnimationEnd:j,onAnimationStart:N,key:A},U=>{if(L){var R=L.length/l.length,I=U===1?l:l.map(($,V)=>{var F=Math.floor(V*R);if(L[F]){var B=L[F];return Is(Is({},$),{},{x:Tt(B.x,$.x,U),y:Tt(B.y,$.y,U)})}return $}),k;return je(u)?k=Tt(M,u,U):zt(u)||Hr(u)?k=Tt(M,0,U):k=u.map(($,V)=>{var F=Math.floor(V*R);if(Array.isArray(M)&&M[F]){var B=M[F];return Is(Is({},$),{},{x:Tt(B.x,$.x,U),y:Tt(B.y,$.y,U)})}return $}),U>0&&(i.current=I,a.current=k),_.createElement(_k,{points:I,baseLine:k,needClip:e,clipPathId:n,props:r})}return U>0&&(i.current=l,a.current=u),_.createElement(cn,null,d&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(n)},_.createElement(Ohe,{alpha:U,points:l,baseLine:u,layout:r.layout,strokeWidth:r.strokeWidth}))),_.createElement(cn,{clipPath:"url(#animationClipPath-".concat(n,")")},_.createElement(_k,{points:l,baseLine:u,needClip:e,clipPathId:n,props:r})))}),_.createElement(i0,{label:r.label}))}function Rhe(t){var{needClip:e,clipPathId:n,props:r}=t,i=_.useRef(null),a=_.useRef();return _.createElement(Ihe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class khe extends _.PureComponent{render(){var e,{hide:n,dot:r,points:i,className:a,top:l,left:u,needClip:d,xAxisId:h,yAxisId:p,width:g,height:x,id:b,baseLine:A}=this.props;if(n)return null;var E=ot("recharts-area",a),S=b,{r:C=3,strokeWidth:j=2}=(e=$t(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},N=Tv(r),L=C*2+j;return _.createElement(_.Fragment,null,_.createElement(cn,{className:E},d&&_.createElement("defs",null,_.createElement(qA,{clipPathId:S,xAxisId:h,yAxisId:p}),!N&&_.createElement("clipPath",{id:"clipPath-dots-".concat(S)},_.createElement("rect",{x:u-L/2,y:l-L/2,width:g+L,height:x+L}))),_.createElement(Rhe,{needClip:d,clipPathId:S,props:this.props})),_.createElement(A2,{points:i,mainColor:zy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(A)&&_.createElement(A2,{points:A,mainColor:zy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var u8={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!no.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Dhe(t){var e,n=Vn(t,u8),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:d,fill:h,fillOpacity:p,hide:g,isAnimationActive:x,legendType:b,stroke:A,xAxisId:E,yAxisId:S}=n,C=c8(n,vhe),j=lm(),N=p9(),{needClip:L}=l0(E,S),M=wr(),{points:U,isRange:R,baseLine:I}=(e=Ne(ve=>ghe(ve,E,S,M,t.id)))!==null&&e!==void 0?e:{},k=o0();if(j!=="horizontal"&&j!=="vertical"||k==null||N!=="AreaChart"&&N!=="ComposedChart")return null;var{height:$,width:V,x:F,y:B}=k;return!U||!U.length?null:_.createElement(khe,Us({},C,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:l,baseLine:I,connectNulls:u,dot:d,fill:h,fillOpacity:p,height:$,hide:g,layout:j,isAnimationActive:x,isRange:R,legendType:b,needClip:L,points:U,stroke:A,width:V,left:F,top:B,xAxisId:E,yAxisId:S}))}var Mhe=(t,e,n,r,i)=>{var a=n??e;if(je(a))return a;var l=t==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return a==="dataMin"?h:a==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]};function Lhe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:h,dataStartIndex:p,xAxisTicks:g,yAxisTicks:x,bandSize:b}=t,A=i&&i.length,E=Mhe(a,l,n,u,d),S=a==="horizontal",C=!1,j=h.map((L,M)=>{var U;A?U=i[p+M]:(U=Ct(L,r),Array.isArray(U)?C=!0:U=[E,U]);var R=U[1]==null||A&&!e&&Ct(L,r)==null;return S?{x:vy({axis:u,ticks:g,bandSize:b,entry:L,index:M}),y:R?null:d.scale(U[1]),value:U,payload:L}:{x:R?null:u.scale(U[1]),y:vy({axis:d,ticks:x,bandSize:b,entry:L,index:M}),value:U,payload:L}}),N;return A||C?N=j.map(L=>{var M=Array.isArray(L.value)?L.value[0]:null;return S?{x:L.x,y:M!=null&&L.y!=null?d.scale(M):null,payload:L.payload}:{x:M!=null?u.scale(M):null,y:L.y,payload:L.payload}}):N=S?d.scale(E):u.scale(E),{points:j,baseLine:N,isRange:C}}function Vhe(t){var e=Vn(t,u8),n=wr();return _.createElement(s0,{id:e.id,type:"area"},r=>_.createElement(_.Fragment,null,_.createElement(UA,{legendPayload:Ehe(e)}),_.createElement(a0,{fn:Ahe,args:e}),_.createElement(BA,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:JM(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),_.createElement(Dhe,Us({},e,{id:r}))))}var d8=_.memo(Vhe);d8.displayName="Area";var Uhe=["dangerouslySetInnerHTML","ticks"],Bhe=["id"],zhe=["domain"],$he=["domain"];function N2(){return N2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N2.apply(null,arguments)}function $y(t,e){if(t==null)return{};var n,r,i=Fhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qhe(t){var e=an();return _.useEffect(()=>(e(yue(t)),()=>{e(vue(t))}),[t,e]),null}var Hhe=t=>{var{xAxisId:e,className:n}=t,r=Ne(bE),i=wr(),a="xAxis",l=Ne(S=>Rd(S,a,e,i)),u=Ne(S=>WL(S,a,e,i)),d=Ne(S=>qL(S,e)),h=Ne(S=>Jae(S,e)),p=Ne(S=>wL(S,e));if(d==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=t,b=$y(t,Uhe),{id:A}=p,E=$y(p,Bhe);return _.createElement(WA,N2({},b,E,{scale:l,x:h.x,y:h.y,width:d.width,height:d.height,className:ot("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u}))},Khe={allowDataOverflow:ni.allowDataOverflow,allowDecimals:ni.allowDecimals,allowDuplicatedCategory:ni.allowDuplicatedCategory,height:ni.height,hide:!1,mirror:ni.mirror,orientation:ni.orientation,padding:ni.padding,reversed:ni.reversed,scale:ni.scale,tickCount:ni.tickCount,type:ni.type,xAxisId:0},Ghe=t=>{var e,n,r,i,a,l=Vn(t,Khe);return _.createElement(_.Fragment,null,_.createElement(qhe,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),_.createElement(Hhe,l))},Whe=(t,e)=>{var{domain:n}=t,r=$y(t,zhe),{domain:i}=e,a=$y(e,$he);return fd(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:fd({domain:n},{domain:i}):!1},u0=_.memo(Ghe,Whe);u0.displayName="XAxis";var Yhe=["dangerouslySetInnerHTML","ticks"],Xhe=["id"],Qhe=["domain"],Zhe=["domain"];function j2(){return j2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j2.apply(null,arguments)}function Fy(t,e){if(t==null)return{};var n,r,i=Jhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eme(t){var e=an();return _.useEffect(()=>(e(xue(t)),()=>{e(bue(t))}),[t,e]),null}var tme=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=_.useRef(null),l=_.useRef(null),u=Ne(bE),d=wr(),h=an(),p="yAxis",g=Ne(M=>Rd(M,p,e,d)),x=Ne(M=>HL(M,e)),b=Ne(M=>tse(M,e)),A=Ne(M=>WL(M,p,e,d)),E=Ne(M=>_L(M,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!x||jA(i)||_.isValidElement(i)||E==null)){var M=a.current;if(M){var U=M.getCalculatedWidth();Math.round(x.width)!==Math.round(U)&&h(wue({id:e,width:U}))}}},[A,x,h,i,e,r,E]),x==null||b==null||E==null)return null;var{dangerouslySetInnerHTML:S,ticks:C}=t,j=Fy(t,Yhe),{id:N}=E,L=Fy(E,Xhe);return _.createElement(WA,j2({},j,L,{ref:a,labelRef:l,scale:g,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:ot("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:A}))},nme={allowDataOverflow:ri.allowDataOverflow,allowDecimals:ri.allowDecimals,allowDuplicatedCategory:ri.allowDuplicatedCategory,hide:!1,mirror:ri.mirror,orientation:ri.orientation,padding:ri.padding,reversed:ri.reversed,scale:ri.scale,tickCount:ri.tickCount,type:ri.type,width:ri.width,yAxisId:0},rme=t=>{var e,n,r,i,a,l=Vn(t,nme);return _.createElement(_.Fragment,null,_.createElement(eme,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),_.createElement(tme,l))},ime=(t,e)=>{var{domain:n}=t,r=Fy(t,Qhe),{domain:i}=e,a=Fy(e,Zhe);return fd(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:fd({domain:n},{domain:i}):!1},d0=_.memo(rme,ime);d0.displayName="YAxis";var a1={exports:{}},s1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ek;function ame(){if(Ek)return s1;Ek=1;var t=hd();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return s1.useSyncExternalStoreWithSelector=function(d,h,p,g,x){var b=i(null);if(b.current===null){var A={hasValue:!1,value:null};b.current=A}else A=b.current;b=l(function(){function S(M){if(!C){if(C=!0,j=M,M=g(M),x!==void 0&&A.hasValue){var U=A.value;if(x(U,M))return N=U}return N=M}if(U=N,n(j,M))return U;var R=g(M);return x!==void 0&&x(U,R)?(j=M,U):(j=M,N=R)}var C=!1,j,N,L=p===void 0?null:p;return[function(){return S(h())},L===null?void 0:function(){return S(L())}]},[h,p,g,x]);var E=r(d,b[0],b[1]);return a(function(){A.hasValue=!0,A.value=E},[E]),u(E),E},s1}var Ak;function sme(){return Ak||(Ak=1,a1.exports=ame()),a1.exports}sme();function ome(t){t()}function lme(){let t=null,e=null;return{clear(){t=null,e=null},notify(){ome(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Sk={notify(){},get:()=>[]};function cme(t,e){let n,r=Sk,i=0,a=!1;function l(E){p();const S=r.subscribe(E);let C=!1;return()=>{C||(C=!0,S(),g())}}function u(){r.notify()}function d(){A.onStateChange&&A.onStateChange()}function h(){return a}function p(){i++,n||(n=t.subscribe(d),r=lme())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Sk)}function x(){a||(a=!0,p())}function b(){a&&(a=!1,g())}const A={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:x,tryUnsubscribe:b,getListeners:()=>r};return A}var ume=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dme=ume(),fme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",hme=fme(),mme=()=>dme||hme?_.useLayoutEffect:_.useEffect,pme=mme(),gme=Symbol.for("react-redux-context"),yme=typeof globalThis<"u"?globalThis:{};function vme(){if(!_.createContext)return{};const t=yme[gme]??=new Map;let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var xme=vme();function bme(t){const{children:e,context:n,serverState:r,store:i}=t,a=_.useMemo(()=>{const d=cme(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=_.useMemo(()=>i.getState(),[i]);pme(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,l]);const u=n||xme;return _.createElement(u.Provider,{value:a},e)}var wme=bme,_me=(t,e)=>e,XA=ee([_me,et,vL,Bn,c9,so,aoe,Ln],uoe),QA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},f8=$i("mouseClick"),h8=sm();h8.startListening({actionCreator:f8,effect:(t,e)=>{var n=t.payload,r=XA(e.getState(),QA(n));r?.activeIndex!=null&&e.dispatch(mse({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var P2=$i("mouseMove"),m8=sm();m8.startListening({actionCreator:P2,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=bA(r,r.tooltip.settings.shared),a=XA(r,QA(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(n9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(t9()))}});var Tk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},p8=mi({name:"rootProps",initialState:Tk,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Tk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Eme=p8.reducer,{updateOptions:Ame}=p8.actions,g8=mi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Sme}=g8.actions,Tme=g8.reducer,y8=$i("keyDown"),v8=$i("focus"),ZA=sm();ZA.startListening({actionCreator:y8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=Number(wA(i,Dd(n))),u=so(n);if(a==="Enter"){var d=ky(n,"axis","hover",String(i.index));e.dispatch(x2({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=ase(n),p=h==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,x=l+g*p;if(!(u==null||x>=u.length||x<0)){var b=ky(n,"axis","hover",String(x));e.dispatch(x2({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});ZA.startListening({actionCreator:v8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=ky(n,"axis","hover",String(a));e.dispatch(x2({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var ki=$i("externalEvent"),x8=sm();x8.startListening({actionCreator:ki,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Xse(n),activeDataKey:h9(n),activeIndex:ul(n),activeLabel:f9(n),activeTooltipIndex:ul(n),isTooltipActive:Qse(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Cme=ee([kd],t=>t.tooltipItemPayloads),Nme=ee([Cme,bm,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=e(a,n);return l}}}),b8=$i("touchMove"),w8=sm();w8.startListening({actionCreator:b8,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=bA(r,r.tooltip.settings.shared);if(i==="axis"){var a=XA(r,QA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(n9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0],d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(t5),p=(l=d.getAttribute(n5))!==null&&l!==void 0?l:void 0,g=Nme(e.getState(),h,p);e.dispatch(e9({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}});var jme=TM({brush:$de,cartesianAxis:_ue,chartData:Toe,errorBars:zue,graphicalItems:zce,layout:oee,legend:Xee,options:woe,polarAxis:ice,polarOptions:Tme,referenceElements:Yde,rootProps:Eme,tooltip:pse}),Pme=function(e){return IJ({reducer:jme,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([h8.middleware,m8.middleware,ZA.middleware,x8.middleware,w8.middleware]),devTools:no.devToolsEnabled})};function _8(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=wr(),a=_.useRef(null);if(i)return n;a.current==null&&(a.current=Pme(e));var l=mE;return _.createElement(wme,{context:l,store:a.current},n)}function E8(t){var{layout:e,width:n,height:r,margin:i}=t,a=an(),l=wr();return _.useEffect(()=>{l||(a(iee(e)),a(aee({width:n,height:r})),a(ree(i)))},[a,l,e,n,r,i]),null}function A8(t){var e=an();return _.useEffect(()=>{e(Ame(t))},[e,t]),null}var Ome=["children"];function Ime(t,e){if(t==null)return{};var n,r,i=Rme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(null,arguments)}var kme={width:"100%",height:"100%"},Dme=_.forwardRef((t,e)=>{var n=_E(),r=EE(),i=o5();if(!od(n)||!od(r))return null;var{children:a,otherAttributes:l,title:u,desc:d}=t,h,p;return typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0,_.createElement(aE,qy({},l,{title:u,desc:d,role:p,tabIndex:h,width:n,height:r,style:kme,ref:e}),a)}),Mme=t=>{var{children:e}=t,n=Ne(Uv);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return _.createElement(aE,{width:r,height:i,x:l,y:a},e)},Ck=_.forwardRef((t,e)=>{var{children:n}=t,r=Ime(t,Ome),i=wr();return i?_.createElement(Mme,null,n):_.createElement(Dme,qy({ref:e},r),n)});function Lme(){var t=an(),[e,n]=_.useState(null),r=Ne(Dee);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;or(a)&&a!==r&&t(see(a))}},[e,t,r]),n}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){Ume(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ume(t,e,n){return(e=Bme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bme(t){var e=zme(t,"string");return typeof e=="symbol"?e:e+""}function zme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $me=_.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:x,onTouchEnd:b,onTouchMove:A,onTouchStart:E,style:S,width:C}=t,j=an(),[N,L]=_.useState(null),[M,U]=_.useState(null);Doe();var R=Lme(),I=_.useCallback(ue=>{R(ue),typeof e=="function"&&e(ue),L(ue),U(ue)},[R,e,L,U]),k=_.useCallback(ue=>{j(f8(ue)),j(ki({handler:a,reactEvent:ue}))},[j,a]),$=_.useCallback(ue=>{j(P2(ue)),j(ki({handler:h,reactEvent:ue}))},[j,h]),V=_.useCallback(ue=>{j(t9()),j(ki({handler:p,reactEvent:ue}))},[j,p]),F=_.useCallback(ue=>{j(P2(ue)),j(ki({handler:g,reactEvent:ue}))},[j,g]),B=_.useCallback(()=>{j(v8())},[j]),ve=_.useCallback(ue=>{j(y8(ue.key))},[j]),ie=_.useCallback(ue=>{j(ki({handler:l,reactEvent:ue}))},[j,l]),G=_.useCallback(ue=>{j(ki({handler:u,reactEvent:ue}))},[j,u]),W=_.useCallback(ue=>{j(ki({handler:d,reactEvent:ue}))},[j,d]),ae=_.useCallback(ue=>{j(ki({handler:x,reactEvent:ue}))},[j,x]),ye=_.useCallback(ue=>{j(ki({handler:E,reactEvent:ue}))},[j,E]),H=_.useCallback(ue=>{j(b8(ue)),j(ki({handler:A,reactEvent:ue}))},[j,A]),le=_.useCallback(ue=>{j(ki({handler:b,reactEvent:ue}))},[j,b]);return _.createElement(b9.Provider,{value:N},_.createElement(G6.Provider,{value:M},_.createElement("div",{className:ot("recharts-wrapper",r),style:Vme({position:"relative",cursor:"default",width:C,height:i},S),onClick:k,onContextMenu:ie,onDoubleClick:G,onFocus:B,onKeyDown:ve,onMouseDown:W,onMouseEnter:$,onMouseLeave:V,onMouseMove:F,onMouseUp:ae,onTouchEnd:le,onTouchMove:H,onTouchStart:ye,ref:I},n)))}),Fme=["children","className","width","height","style","compact","title","desc"];function qme(t,e){if(t==null)return{};var n,r,i=Hme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var S8=_.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:l,compact:u,title:d,desc:h}=t,p=qme(t,Fme),g=Ki(p);return u?_.createElement(Ck,{otherAttributes:g,title:d,desc:h},n):_.createElement($me,{className:r,style:l,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(Ck,{otherAttributes:g,title:d,desc:h,ref:e},_.createElement(Qde,null,n)))}),Kme=["width","height"];function O2(){return O2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O2.apply(null,arguments)}function Gme(t,e){if(t==null)return{};var n,r,i=Wme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yme={top:5,right:5,bottom:5,left:5},Xme={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Yme,reverseStackOrder:!1,syncMethod:"index"},JA=_.forwardRef(function(e,n){var r,i=Vn(e.categoricalChartProps,Xme),{width:a,height:l}=i,u=Gme(i,Kme);if(!od(a)||!od(l))return null;var{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,categoricalChartProps:x}=e,b={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,eventEmitter:void 0};return _.createElement(_8,{preloadedState:{options:b},reduxStoreName:(r=x.id)!==null&&r!==void 0?r:d},_.createElement(G9,{chartData:x.data}),_.createElement(E8,{width:a,height:l,layout:i.layout,margin:i.margin}),_.createElement(A8,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(S8,O2({},u,{width:a,height:l,ref:n})))}),Qme=["axis"],Zme=_.forwardRef((t,e)=>_.createElement(JA,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qme,tooltipPayloadSearcher:n0,categoricalChartProps:t,ref:e})),Jme=["axis","item"],epe=_.forwardRef((t,e)=>_.createElement(JA,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Jme,tooltipPayloadSearcher:n0,categoricalChartProps:t,ref:e}));function tpe(t){var e=an();return _.useEffect(()=>{e(Sme(t))},[e,t]),null}var npe=["width","height","layout"];function I2(){return I2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I2.apply(null,arguments)}function rpe(t,e){if(t==null)return{};var n,r,i=ipe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ipe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ape={top:5,right:5,bottom:5,left:5},spe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ape,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},ope=_.forwardRef(function(e,n){var r,i=Vn(e.categoricalChartProps,spe),{width:a,height:l,layout:u}=i,d=rpe(i,npe);if(!od(a)||!od(l))return null;var{chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:x}=e,b={chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,eventEmitter:void 0};return _.createElement(_8,{preloadedState:{options:b},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:h},_.createElement(G9,{chartData:i.data}),_.createElement(E8,{width:a,height:l,layout:u,margin:i.margin}),_.createElement(A8,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(tpe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(S8,I2({width:a,height:l},d,{ref:n})))}),lpe=["item"],cpe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},T8=_.forwardRef((t,e)=>{var n=Vn(t,cpe);return _.createElement(ope,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:lpe,tooltipPayloadSearcher:n0,categoricalChartProps:n,ref:e})}),upe=["axis"],dpe=_.forwardRef((t,e)=>_.createElement(JA,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:upe,tooltipPayloadSearcher:n0,categoricalChartProps:t,ref:e}));const fpe=({data:t})=>{const e=t.map(r=>({date:r.date,Ventas:r.totalSales,Pedidos:r.orderCount})),n=r=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(r);return f.jsx(Em,{width:"100%",height:"100%",children:f.jsxs(Zme,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[f.jsx(c0,{strokeDasharray:"3 3"}),f.jsx(u0,{dataKey:"date",tick:{fontSize:12},tickFormatter:r=>new Date(r).toLocaleDateString("es-CO",{month:"short",day:"numeric"})}),f.jsx(d0,{tick:{fontSize:12},tickFormatter:r=>n(r)}),f.jsx(_m,{formatter:(r,i)=>i==="Ventas"?[n(r),"Ventas"]:[r,"Pedidos"],labelFormatter:r=>new Date(r).toLocaleDateString("es-CO",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),f.jsx(xl,{}),f.jsx(C2,{type:"monotone",dataKey:"Ventas",stroke:"#3b82f6",activeDot:{r:8},strokeWidth:2,name:"Ventas"}),f.jsx(C2,{type:"monotone",dataKey:"Pedidos",stroke:"#10b981",strokeWidth:2,name:"Pedidos"})]})})},hpe=({data:t})=>{const e=t.map(i=>({name:i.category,value:i.revenue,sales:i.sales,quantity:i.quantity})),n=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#f97316","#ec4899"],r=i=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(i);return f.jsx(Em,{width:"100%",height:"100%",children:f.jsxs(T8,{children:[f.jsx($A,{data:e,cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:i,percent:a})=>`${i}: ${(a*100).toFixed(0)}%`,children:e.map((i,a)=>f.jsx(Hc,{fill:n[a%n.length]},`cell-${a}`))}),f.jsx(_m,{formatter:i=>r(i),labelFormatter:i=>`Categoría: ${i}`}),f.jsx(xl,{})]})})},mpe=({data:t})=>{const e=i=>{switch(i){case"pending":return"Pendiente";case"processing":return"Procesando";case"shipped":return"Enviado";case"delivered":return"Entregado";case"cancelled":return"Cancelado";default:return i}},n=i=>{switch(i){case"pending":return"#f59e0b";case"processing":return"#3b82f6";case"shipped":return"#8b5cf6";case"delivered":return"#10b981";case"cancelled":return"#ef4444";default:return"#6b7280"}},r=t.map(i=>({name:e(i.status),value:i.count}));return f.jsx(Em,{width:"100%",height:"100%",children:f.jsxs(epe,{data:r,margin:{top:5,right:30,left:20,bottom:5},children:[f.jsx(c0,{strokeDasharray:"3 3"}),f.jsx(u0,{dataKey:"name",tick:{fontSize:12}}),f.jsx(d0,{tick:{fontSize:12}}),f.jsx(_m,{formatter:i=>[i,"Pedidos"],labelFormatter:i=>`Estado: ${i}`}),f.jsx(xl,{}),f.jsx(H9,{dataKey:"value",name:"Número de Pedidos",children:r.map((i,a)=>f.jsx(Hc,{fill:n(t[a].status)},`cell-${a}`))})]})})},ppe=({data:t})=>{const e=t.map(i=>({name:i.method,value:i.revenue,count:i.count})),n=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#f97316","#ec4899"],r=i=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(i);return f.jsx(Em,{width:"100%",height:"100%",children:f.jsxs(T8,{children:[f.jsx($A,{data:e,cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:i,percent:a})=>`${i}: ${(a*100).toFixed(0)}%`,children:e.map((i,a)=>f.jsx(Hc,{fill:n[a%n.length]},`cell-${a}`))}),f.jsx(_m,{formatter:(i,a,l)=>a==="value"?[r(i),"Ingresos"]:[i,"Pedidos"],labelFormatter:i=>`Método: ${i}`}),f.jsx(xl,{})]})})},gpe=({data:t})=>{const e=t.map(n=>({date:n.date,Registros:n.registrations}));return f.jsx(Em,{width:"100%",height:"100%",children:f.jsxs(dpe,{data:e,margin:{top:10,right:30,left:0,bottom:0},children:[f.jsx(c0,{strokeDasharray:"3 3"}),f.jsx(u0,{dataKey:"date",tick:{fontSize:12},tickFormatter:n=>new Date(n).toLocaleDateString("es-CO",{month:"short",day:"numeric"})}),f.jsx(d0,{tick:{fontSize:12}}),f.jsx(_m,{labelFormatter:n=>new Date(n).toLocaleDateString("es-CO",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),f.jsx(xl,{}),f.jsx(d8,{type:"monotone",dataKey:"Registros",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.3,strokeWidth:2})]})})};var C8={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jk=li.createContext&&li.createContext(C8),ype=["attr","size","title"];function vpe(t,e){if(t==null)return{};var n=xpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(this,arguments)}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ky(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){bpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bpe(t,e,n){return e=wpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wpe(t){var e=_pe(t,"string");return typeof e=="symbol"?e:e+""}function _pe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N8(t){return t&&t.map((e,n)=>li.createElement(e.tag,Ky({key:n},e.attr),N8(e.child)))}function Mt(t){return e=>li.createElement(Epe,Hy({attr:Ky({},t.attr)},e),N8(t.child))}function Epe(t){var e=n=>{var{attr:r,size:i,title:a}=t,l=vpe(t,ype),u=i||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),li.createElement("svg",Hy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:d,style:Ky(Ky({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&li.createElement("title",null,a),t.children)};return jk!==void 0?li.createElement(jk.Consumer,null,n=>e(n)):e(C8)}function Ok(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function Ik(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function Ape(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Spe(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function Tpe(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function Rk(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function Cpe(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function dg(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(t)}function Npe(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function jpe(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function kk(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function Dk(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function o1(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Ppe=()=>{const{currentUser:t,isAdmin:e}=Hi(),n=qi(),[r,i]=_.useState(!1),[a,l]=_.useState("analytics"),[u,d]=_.useState({totalProducts:0,totalOrders:0,totalUsers:0,totalReviews:0,totalRevenue:0,recentOrders:[],recentUsers:[],salesData:[],salesByCategory:[],orderStatusData:[],topSellingProducts:[],userRegistrationData:[],paymentMethodData:[],dateRange:"last30days"}),[h,p]=_.useState(!1),[g,x]=_.useState([]),[b,A]=_.useState(!1),[E,S]=_.useState({name:"",description:"",price:"",imageUrls:[],primaryImageIndex:0,category:"",material:"",color:"",size:"",style:"",stock:0,rating:0}),[C,j]=_.useState(null),[N,L]=_.useState(!1),[M,U]=_.useState("add"),[R,I]=_.useState([]),[k,$]=_.useState(!1),[V,F]=_.useState([]),[B,ve]=_.useState(!1),[ie,G]=_.useState(null),[W,ae]=_.useState(!1),[ye,H]=_.useState([]),[le,ue]=_.useState(!1),[oe,he]=_.useState(null),[xe,we]=_.useState(!1),[We,lt]=_.useState({}),[Ee,$e]=_.useState(!1),Ke=_.useRef(null),[ge,Le]=_.useState(null),[tt,xn]=_.useState(""),[Yt,Lt]=_.useState(!1);_.useEffect(()=>{const Y=be=>{Ke.current&&!Ke.current.contains(be.target)&&$e(!1)};return document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[]);const ns=()=>{$e(!Ee)},Xt=()=>{$e(!1)},bn=async()=>{try{await D4(fa),Xt(),n("/login")}catch(Y){console.error("Error signing out:",Y),Le("Error al cerrar sesión")}},zn=Y=>{xn(Y),setTimeout(()=>xn(""),3e3)},ba=Y=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(Y||0),Wi=Y=>Y?Y instanceof Date?Y.toLocaleDateString("es-CO"):Y.toDate?Y.toDate().toLocaleDateString("es-CO"):"N/A":"N/A",Md=async(Y,be)=>{try{lt(Pe=>({...Pe,[Y]:!0})),await QX(Y,be),H(ye.map(Pe=>Pe.id===Y?{...Pe,orderStatus:be,updatedAt:new Date}:Pe)),oe&&oe.id===Y&&he({...oe,orderStatus:be,updatedAt:new Date}),zn(`Estado del pedido actualizado a ${Pb(be)}`)}catch(Pe){console.error("Error updating order status:",Pe),Le("Error al actualizar el estado del pedido")}finally{lt(Pe=>({...Pe,[Y]:!1}))}},wa=async()=>{try{p(!0);const Y=new Date;let be=new Date;switch(u.dateRange){case"last7days":be.setDate(be.getDate()-7);break;case"last30days":be.setDate(be.getDate()-30);break;case"last90days":be.setDate(be.getDate()-90);break;case"lastYear":be.setFullYear(be.getFullYear()-1);break;default:be.setDate(be.getDate()-30)}const bt=(await Ht(jt(Re,"products"))).size,Jt=await Ht(jt(Re,"orders")),lr=Jt.size;let Qi=0;Jt.docs.forEach(wi=>{const kr=wi.data();Qi+=kr.totalAmount||0});const cr=await CP(),yi=cr.length,Ta=(await _P()).length,en=pa(jt(Re,"orders"),yl("createdAt","desc"),KK(5)),as=(await Ht(en)).docs.map(wi=>({id:wi.id,...wi.data()})),vi=cr.slice(0,5),xi=await JX(be,Y),ss=await eQ(),bi=await tQ(),uo=await nQ(10),Bd=await rQ(be,Y),os=await iQ();d({totalProducts:bt,totalOrders:lr,totalUsers:yi,totalReviews:Ta,totalRevenue:Qi,recentOrders:as,recentUsers:vi,salesData:xi.salesData,salesByCategory:ss,orderStatusData:bi,topSellingProducts:uo,userRegistrationData:Bd.registrationData,paymentMethodData:os,dateRange:u.dateRange})}catch(Y){console.error("Error fetching dashboard stats:",Y),Le("Error al cargar las estadísticas del dashboard")}finally{p(!1)}},Kr=Y=>{d(be=>({...be,dateRange:Y}))},wn=async()=>{try{A(!0);const be=(await Ht(jt(Re,"products"))).docs.map(Pe=>({id:Pe.id,...Pe.data()}));x(be)}catch(Y){console.error("Error fetching products:",Y),Le("Error al cargar los productos")}finally{A(!1)}},Rr=async()=>{try{$(!0);const Y=await CP();I(Y)}catch(Y){console.error("Error fetching users:",Y),Le("Error al cargar los usuarios")}finally{$(!1)}},Zn=async()=>{try{ve(!0);const Y=await _P();F(Y)}catch(Y){console.error("Error fetching reviews:",Y),Le("Error al cargar las reseñas")}finally{ve(!1)}},Ld=async()=>{try{ue(!0);const Y=await ZX();H(Y)}catch(Y){console.error("Error fetching orders:",Y),Le("Error al cargar los pedidos")}finally{ue(!1)}};_.useEffect(()=>{if(e)switch(p(!1),A(!1),$(!1),ve(!1),ue(!1),a){case"analytics":wa();break;case"products":A(!0),wn();break;case"users":$(!0),Rr();break;case"reviews":ve(!0),Zn();break;case"orders":ue(!0),Ld();break;default:wa()}},[a,e]);const _r=Y=>{S({...E,[Y.target.name]:Y.target.value})},Er=Y=>{j({...C,[Y.target.name]:Y.target.value})},pi=async Y=>{if(!Y)return null;if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(Y.type))return Le("Por favor, sube una imagen válida (JPEG, JPG, PNG, GIF)."),null;if(Y.size>1024*1024)return Le("La imagen debe ser menor a 1MB."),null;try{Lt(!0);const Pe=await _a(Y);return{name:Y.name,type:Y.type,data:Pe,timestamp:Date.now()}}catch(Pe){return console.error("Error converting file to base64:",Pe),Le("Error al procesar la imagen: "+Pe.message),null}finally{Lt(!1)}},_a=Y=>new Promise((be,Pe)=>{const bt=new FileReader;bt.readAsDataURL(Y),bt.onload=()=>be(bt.result),bt.onerror=Jt=>Pe(Jt)}),Gr=async(Y=!1)=>{const be=document.createElement("input");be.type="file",be.accept="image/*",be.multiple=!0,be.onchange=async Pe=>{const bt=Array.from(Pe.target.files);if(!bt.length)return;const Jt=Y?C.imageUrls:E.imageUrls;if(Jt.length+bt.length>4){Le(`Solo puedes subir un máximo de 4 imágenes. Actualmente tienes ${Jt.length} imágenes.`);return}const lr=[];for(const Qi of bt){const cr=await pi(Qi);cr&&lr.push(cr)}lr.length>0&&(Y?j({...C,imageUrls:[...C.imageUrls,...lr]}):S({...E,imageUrls:[...E.imageUrls,...lr]}),zn(`${lr.length} imagen(es) subida(s) exitosamente!`))},be.click()},Ar=(Y,be=!1)=>{if(be){const Pe=[...C.imageUrls];Pe.splice(Y,1),j({...C,imageUrls:Pe})}else{const Pe=[...E.imageUrls];Pe.splice(Y,1),S({...E,imageUrls:Pe})}},Yi=(Y,be=!1)=>{be?j({...C,primaryImageIndex:Y}):S({...E,primaryImageIndex:Y})},rs=async Y=>{if(Y.preventDefault(),!E.name||!E.price){Le("Por favor, introduce al menos un nombre y un precio.");return}try{const be=parseFloat(E.price);if(isNaN(be)){Le("El precio debe ser un número válido.");return}const Pe=parseInt(E.stock);if(isNaN(Pe)){Le("El stock debe ser un número válido.");return}const bt=parseFloat(E.rating);if(isNaN(bt)||bt<0||bt>5){Le("La calificación debe ser un número entre 0 y 5.");return}await xv(jt(Re,"products"),{...E,price:be,stock:Pe,rating:bt,createdAt:new Date}),S({name:"",description:"",price:"",stock:0,rating:0,imageUrls:[],primaryImageIndex:0,category:"",material:"",color:"",size:"",style:""}),zn("Producto añadido exitosamente!"),L(!1),wn()}catch(be){console.error("Firebase error: ",be),Le("Error al crear el producto. ¿Tienes permisos de escritura?")}},oo=async Y=>{if(Y.preventDefault(),!C.name||!C.price){Le("Por favor, introduce al menos un nombre y un precio.");return}try{const be=parseFloat(C.price);if(isNaN(be)){Le("El precio debe ser un número válido.");return}const Pe=parseInt(C.stock);if(isNaN(Pe)){Le("El stock debe ser un número válido.");return}const bt=parseFloat(C.rating);if(isNaN(bt)||bt<0||bt>5){Le("La calificación debe ser un número entre 0 y 5.");return}const Jt=xt(Re,"products",C.id);await sa(Jt,{...C,price:be,stock:Pe,rating:bt,updatedAt:new Date}),zn("Producto actualizado exitosamente!"),L(!1),j(null),wn()}catch(be){console.error("Firebase error: ",be),Le("Error al actualizar el producto. ¿Tienes permisos de escritura?")}},Ea=async(Y,be)=>{if(window.confirm(`¿Estás seguro de que quieres eliminar el producto "${be}"?`))try{const bt=xt(Re,"products",Y);await L_(bt),x(g.filter(Jt=>Jt.id!==Y)),zn("Producto eliminado exitosamente!")}catch(bt){console.error("Firebase error: ",bt),Le("Error al eliminar el producto. ¿Tienes permisos de escritura?")}},lo=()=>{S({name:"",description:"",price:"",imageUrls:[],primaryImageIndex:0,category:"",material:"",color:"",size:"",style:"",stock:0,rating:0}),U("add"),L(!0)},Qt=Y=>{j({...Y}),U("edit"),L(!0)},Kc=async(Y,be)=>{try{await YX(Y,be),I(R.map(Pe=>Pe.id===Y?{...Pe,role:be,updatedAt:new Date}:Pe)),zn(`Usuario actualizado a ${be==="admin"?"administrador":"cliente"} exitosamente!`)}catch(Pe){console.error("Firebase error updating user role: ",Pe),Le("Error al actualizar el rol del usuario. ¿Tienes permisos de escritura?")}},Aa=Y=>{const{name:be,value:Pe}=Y.target;G({...ie,[be]:Pe})},Sa=Y=>{G({...ie,rating:Y})},co=async Y=>{if(Y.preventDefault(),ie.rating<1||ie.rating>5){Le("La calificación debe estar entre 1 y 5 estrellas.");return}if(!ie.comment||ie.comment.trim()===""){Le("El comentario no puede estar vacío.");return}try{await bX(ie.id,{rating:ie.rating,comment:ie.comment.trim()}),F(V.map(be=>be.id===ie.id?{...be,rating:ie.rating,comment:ie.comment.trim()}:be)),G(null),ae(!1),zn("Reseña actualizada exitosamente!")}catch(be){console.error("Firebase error: ",be),Le("Error al actualizar la reseña. ¿Tienes permisos de escritura?")}},El=async Y=>{if(window.confirm("¿Estás seguro de que quieres eliminar esta reseña?"))try{await wX(Y),F(V.filter(Pe=>Pe.id!==Y)),zn("Reseña eliminada exitosamente!")}catch(Pe){console.error("Firebase error: ",Pe),Le("Error al eliminar la reseña. ¿Tienes permisos de escritura?")}},Xi=Y=>{G({...Y}),ae(!0)},Vd=Y=>{he(Y),we(!0)},gi=()=>{we(!1),he(null)},Zt=[{id:"analytics",label:"Analytics",icon:f.jsx(Ok,{})},{id:"products",label:"Productos",icon:f.jsx(dg,{})},{id:"users",label:"Usuarios",icon:f.jsx(Dk,{})},{id:"reviews",label:"Reviews",icon:f.jsx(Tpe,{})},{id:"coupons",label:"Códigos Promocionales",icon:f.jsx(jpe,{})},{id:"orders",label:"Pedidos",icon:f.jsx(Rk,{})}],Pn=()=>{switch(a){case"analytics":return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-6 bg-white shadow-sm rounded-xl",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analíticas"}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsx("button",{onClick:()=>Kr("last7days"),className:`px-4 py-2 text-sm rounded-lg ${u.dateRange==="last7days"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Últimos 7 días"}),f.jsx("button",{onClick:()=>Kr("last30days"),className:`px-4 py-2 text-sm rounded-lg ${u.dateRange==="last30days"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Últimos 30 días"}),f.jsx("button",{onClick:()=>Kr("last90days"),className:`px-4 py-2 text-sm rounded-lg ${u.dateRange==="last90days"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Últimos 90 días"}),f.jsx("button",{onClick:()=>Kr("lastYear"),className:`px-4 py-2 text-sm rounded-lg ${u.dateRange==="lastYear"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Último año"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[f.jsx("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:f.jsx(dg,{className:"text-blue-600",size:24})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Productos"}),f.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:u.totalProducts})]})]})}),f.jsx("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:f.jsx(Rk,{className:"text-green-600",size:24})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pedidos"}),f.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:u.totalOrders})]})]})}),f.jsx("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:f.jsx(Dk,{className:"text-purple-600",size:24})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Usuarios"}),f.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:u.totalUsers})]})]})}),f.jsx("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:f.jsx(Ok,{className:"text-indigo-600",size:24})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos Totales"}),f.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ba(u.totalRevenue)})]})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[f.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[f.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Tendencia de Ventas"}),f.jsx("div",{className:"h-80",children:f.jsx(fpe,{data:u.salesData})})]}),f.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[f.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Ventas por Categoría"}),f.jsx("div",{className:"h-80",children:f.jsx(hpe,{data:u.salesByCategory})})]}),f.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[f.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Distribución de Estados de Pedido"}),f.jsx("div",{className:"h-80",children:f.jsx(mpe,{data:u.orderStatusData})})]}),f.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[f.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Ingresos por Método de Pago"}),f.jsx("div",{className:"h-80",children:f.jsx(ppe,{data:u.paymentMethodData})})]})]}),f.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[f.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Productos Más Vendidos"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Producto"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Cantidad Vendida"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Ingresos"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.topSellingProducts.map((Y,be)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:Y.productName}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Y.quantity}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:ba(Y.revenue)})]},be))})]})})]}),f.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[f.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Tendencia de Registro de Usuarios"}),f.jsx("div",{className:"h-80",children:f.jsx(gpe,{data:u.userRegistrationData})})]}),f.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[f.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Pedidos Recientes"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"ID"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Cliente"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Fecha"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Total"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Estado"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.recentOrders.map(Y=>f.jsxs("tr",{children:[f.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:[Y.id.substring(0,8),"..."]}),f.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:Y.userEmail||"N/A"}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Wi(Y.createdAt)}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:ba(Y.totalAmount||0)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${NP(Y.orderStatus||"pending")}`,children:Pb(Y.orderStatus||"pending")})})]},Y.id))})]})})]}),f.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[f.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Usuarios Recientes"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Nombre"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Email"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Rol"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Fecha de Registro"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.recentUsers.map(Y=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:Y.name||Y.email}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Y.email}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Y.role==="admin"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:Y.role==="admin"?"Administrador":"Cliente"})}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Wi(Y.createdAt)})]},Y.id))})]})})]})]});case"products":return f.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gestión de Productos"}),f.jsxs("button",{onClick:lo,className:"flex items-center px-4 py-2 text-white transition-colors bg-blue-600 rounded-lg hover:bg-blue-700",children:[f.jsx(Cpe,{className:"mr-2"}),"Añadir Producto"]})]}),b?f.jsx("div",{className:"flex justify-center py-8",children:f.jsx("div",{className:"w-8 h-8 border-b-2 border-blue-600 rounded-full animate-spin"})}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Imagen"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Nombre"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Stock"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Precio"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Acciones"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(Y=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"flex-shrink-0 w-10 h-10",children:Y.imageUrls&&Y.imageUrls.length>0?f.jsx("img",{className:"object-cover w-10 h-10 rounded-md",src:typeof Y.imageUrls[Y.primaryImageIndex]=="string"?Y.imageUrls[Y.primaryImageIndex]:Y.imageUrls[Y.primaryImageIndex]?.data||Y.imageUrls[0],alt:Y.name,onError:be=>{be.target.onerror=null,be.target.src="https://via.placeholder.com/40x40.png?text=Moño"}}):f.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-200 rounded-md",children:f.jsx(dg,{className:"text-gray-500"})})})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.name})}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Y.stock}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:ba(Y.price)}),f.jsxs("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap",children:[f.jsx("button",{onClick:()=>Qt(Y),className:"mr-3 text-blue-600 hover:text-blue-900",title:"Editar producto",children:f.jsx(Ik,{})}),f.jsx("button",{onClick:()=>Ea(Y.id,Y.name),className:"text-red-600 hover:text-red-900",title:"Eliminar producto",children:f.jsx(kk,{})})]})]},Y.id))})]})})]});case"users":return f.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[f.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-900",children:"Gestión de Usuarios"}),k?f.jsx("div",{className:"flex justify-center py-8",children:f.jsx("div",{className:"w-8 h-8 border-b-2 border-blue-600 rounded-full animate-spin"})}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Email"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Rol"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Acciones"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(Y=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Y.email}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Y.role==="admin"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:Y.role==="admin"?"Administrador":"Cliente"})}),f.jsx("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap",children:f.jsx("button",{onClick:()=>{const be=Y.role==="admin"?"customer":"admin";Kc(Y.id,be)},className:`px-3 py-1 text-xs rounded-md ${Y.role==="admin"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-blue-100 text-blue-800 hover:bg-blue-200"}`,children:Y.role==="admin"?"Hacer Cliente":"Hacer Administrador"})})]},Y.id))})]})})]});case"reviews":return f.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[f.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-900",children:"Gestión de Reseñas"}),B?f.jsx("div",{className:"flex justify-center py-8",children:f.jsx("div",{className:"w-8 h-8 border-b-2 border-blue-600 rounded-full animate-spin"})}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Producto"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Usuario"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Calificación"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Fecha"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Acciones"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(Y=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Y.productId||"N/A"}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.userName||"N/A"}),f.jsx("div",{className:"text-sm text-gray-500",children:Y.userEmail||"N/A"})]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx(Eh,{rating:Y.rating})}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Wi(Y.createdAt)}),f.jsxs("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap",children:[f.jsx("button",{onClick:()=>Xi(Y),className:"mr-3 text-blue-600 hover:text-blue-900",title:"Editar reseña",children:f.jsx(Ik,{})}),f.jsx("button",{onClick:()=>El(Y.id),className:"text-red-600 hover:text-red-900",title:"Eliminar reseña",children:f.jsx(kk,{})})]})]},Y.id))})]})})]});case"coupons":return f.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[f.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-900",children:"Gestión de Códigos Promocionales"}),f.jsx(aQ,{})]});case"orders":return f.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[f.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-900",children:"Gestión de Pedidos"}),le?f.jsx("div",{className:"flex justify-center py-8",children:f.jsx("div",{className:"w-8 h-8 border-b-2 border-blue-600 rounded-full animate-spin"})}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"ID"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Cliente"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Fecha"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Total"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Estado"}),f.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Acciones"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ye.map(Y=>f.jsxs("tr",{children:[f.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:[Y.id.substring(0,8),"..."]}),f.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:Y.userEmail||"N/A"}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Wi(Y.createdAt)}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:ba(Y.totalAmount||0)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("select",{value:Y.orderStatus||"pending",onChange:be=>Md(Y.id,be.target.value),className:"px-2 py-1 text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:We[Y.id],children:[f.jsx("option",{value:"pending",children:"Pendiente"}),f.jsx("option",{value:"processing",children:"Procesando"}),f.jsx("option",{value:"shipped",children:"Enviado"}),f.jsx("option",{value:"delivered",children:"Entregado"}),f.jsx("option",{value:"cancelled",children:"Cancelado"})]})}),f.jsx("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap",children:f.jsx("button",{onClick:()=>Vd(Y),className:"text-blue-600 hover:text-blue-900",children:"Ver Detalles"})})]},Y.id))})]})})]});default:return f.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[f.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900",children:"Dashboard"}),f.jsx("p",{className:"text-gray-600",children:"Bienvenido al panel de administración moderno."})]})}};return e?f.jsxs("div",{className:"flex h-screen bg-gray-50",children:[r&&f.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>i(!1)}),f.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${r?"translate-x-0":"-translate-x-full"}`,children:[f.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(dg,{className:"text-blue-600",size:24}),f.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"Ecommerce Admin"})]}),f.jsx("button",{className:"p-1 rounded-md lg:hidden",onClick:()=>i(!1),children:f.jsx(o1,{size:24})})]}),f.jsx("nav",{className:"mt-6",children:Zt.map(Y=>f.jsxs("button",{className:`flex items-center w-full px-6 py-3 text-left transition-colors duration-200 ${a===Y.id?"bg-blue-50 border-l-4 border-blue-500 text-blue-600":"text-gray-600 hover:bg-gray-50"}`,onClick:()=>{l(Y.id),i(!1)},children:[f.jsx("span",{className:"mr-3",children:Y.icon}),f.jsx("span",{className:"font-medium",children:Y.label})]},Y.id))})]}),f.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[f.jsxs("header",{className:"flex items-center justify-between h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("button",{className:"p-2 mr-2 rounded-md lg:hidden",onClick:()=>i(!0),children:f.jsx(Spe,{size:24})}),f.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Panel de Administración"})]}),f.jsx("div",{className:"flex items-center space-x-4",children:f.jsxs("div",{className:"relative",ref:Ke,children:[f.jsxs("div",{className:"flex items-center px-3 py-1 text-sm bg-gray-100 rounded-full cursor-pointer",onClick:ns,children:[f.jsx("div",{className:"flex items-center justify-center w-8 h-8 mr-2 font-semibold text-white bg-blue-500 rounded-full",children:t?.email?.charAt(0).toUpperCase()||"A"}),f.jsx("span",{className:"font-medium text-gray-700",children:"Administrador"})]}),Ee&&f.jsx("div",{className:"absolute right-0 z-50 w-48 mt-2 bg-white rounded-md shadow-lg",children:f.jsxs("div",{className:"py-1",children:[f.jsxs("button",{onClick:()=>{n("/shop"),Xt()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[f.jsx(Npe,{className:"mr-3 text-gray-400"}),"Ir a la tienda"]}),f.jsxs("button",{onClick:()=>{bn(),Xt()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[f.jsx(Ape,{className:"mr-3 text-gray-400"}),"Cerrar sesión"]})]})})]})})]}),tt&&f.jsx("div",{className:"p-4 mx-4 mt-4 border-l-4 border-green-500 bg-green-50 lg:mx-6",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("span",{className:"text-green-500",children:"✓"})}),f.jsx("div",{className:"ml-3",children:f.jsx("p",{className:"text-sm text-green-700",children:tt})})]})}),ge&&f.jsx("div",{className:"p-4 mx-4 mt-4 border-l-4 border-red-500 bg-red-50 lg:mx-6",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("span",{className:"text-red-500",children:"✕"})}),f.jsx("div",{className:"ml-3",children:f.jsx("p",{className:"text-sm text-red-700",children:ge})})]})}),f.jsx("main",{className:"flex-1 p-4 overflow-y-auto lg:p-6 bg-gray-50",children:a==="analytics"&&h?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"w-8 h-8 border-b-2 border-blue-600 rounded-full animate-spin"})}):Pn()})]}),N&&f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:f.jsxs("div",{className:"flex items-end justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[f.jsx("div",{className:"fixed transition-opacity bg-opacity-75 bg-white-500","aria-hidden":"true",onClick:()=>L(!1)}),f.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),f.jsxs("div",{className:"z-50 inline-block overflow-hidden text-left align-bottom transition-all transform bg-white shadow-xl rounded-2xl sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full",style:{boxShadow:"0 10px 30px rgba(0,0,0,0.1)",width:"650px"},children:[f.jsxs("div",{className:"px-8 py-8",children:[f.jsxs("div",{className:"mb-8 text-center",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:M==="add"?"Añadir Producto":"Editar Producto"}),f.jsx("p",{className:"mt-2 text-sm text-gray-500",children:M==="add"?"Ingresa los detalles del nuevo producto":"Modifica la información del producto"})]}),f.jsx("div",{className:"mt-2",children:f.jsxs("form",{onSubmit:M==="add"?rs:oo,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Nombre del Producto"}),f.jsx("input",{type:"text",name:"name",value:M==="add"?E.name:C?.name,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Nombre del producto",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Descripción"}),f.jsx("textarea",{name:"description",value:M==="add"?E.description:C?.description,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",rows:"4",placeholder:"Descripción del producto"})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Precio (COP)"}),f.jsx("input",{type:"number",name:"price",step:"0.01",min:"0",value:M==="add"?E.price:C?.price,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"0.00",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Stock"}),f.jsx("input",{type:"number",name:"stock",min:"0",value:M==="add"?E.stock:C?.stock,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Cantidad disponible"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Calificación"}),f.jsx("input",{type:"number",name:"rating",step:"0.1",min:"0",max:"5",value:M==="add"?E.rating:C?.rating,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"0.0 - 5.0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Material"}),f.jsx("input",{type:"text",name:"material",value:M==="add"?E.material:C?.material,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Material del producto"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Color"}),f.jsx("input",{type:"text",name:"color",value:M==="add"?E.color:C?.color,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Color del producto"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Tamaño"}),f.jsx("input",{type:"text",name:"size",value:M==="add"?E.size:C?.size,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Tamaño del producto"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Estilo"}),f.jsx("input",{type:"text",name:"style",value:M==="add"?E.style:C?.style,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Estilo del producto"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Categoría"}),f.jsxs("select",{name:"category",value:M==="add"?E.category:C?.category,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",children:[f.jsx("option",{value:"",children:"Seleccionar categoría"}),f.jsx("option",{value:"Moños Elegantes",children:"Moños Elegantes"}),f.jsx("option",{value:"Moños Infantiles",children:"Moños Infantiles"}),f.jsx("option",{value:"Moños Deportivos",children:"Moños Deportivos"}),f.jsx("option",{value:"Moños Casuales",children:"Moños Casuales"}),f.jsx("option",{value:"Moños de Novia",children:"Moños de Novia"}),f.jsx("option",{value:"Moños de Gala",children:"Moños de Gala"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Imágenes"}),f.jsxs("div",{className:"mt-3",children:[f.jsx("button",{type:"button",onClick:()=>Gr(M==="edit"),className:"inline-flex items-center px-4 py-2.5 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all",disabled:Yt||(M==="add"?E.imageUrls.length>=4:C?.imageUrls.length>=4),children:Yt?"Subiendo...":`Añadir Imagen${M==="add"?E.imageUrls.length>0?` (${E.imageUrls.length}/4)`:"":C?.imageUrls.length>0?` (${C?.imageUrls.length}/4)`:""}`}),(M==="add"?E.imageUrls.length>=4:C?.imageUrls.length>=4)&&f.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Has alcanzado el límite máximo de 4 imágenes."}),Yt&&f.jsx("div",{className:"mt-4",children:f.jsx("div",{className:"w-8 h-8 border-b-2 border-gray-900 rounded-full animate-spin"})}),M==="add"?E.imageUrls.length>0&&f.jsx("div",{className:"grid grid-cols-2 gap-4 mt-5",children:E.imageUrls.map((Y,be)=>f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:typeof Y=="string"?Y:Y.data,alt:`Preview ${be}`,className:"object-cover w-full h-32 rounded-lg",onError:Pe=>{Pe.target.onerror=null,Pe.target.src="https://via.placeholder.com/150x150.png?text=Imagen"}}),f.jsx("button",{type:"button",onClick:()=>Ar(be),className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full p-1.5 hover:bg-red-700 transition-colors shadow-md",children:f.jsx(o1,{size:14})}),f.jsx("button",{type:"button",onClick:()=>Yi(be),className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 text-xs px-2.5 py-1 rounded-full shadow-sm ${E.primaryImageIndex===be?"bg-gray-900 text-white":"bg-white text-gray-800 border border-gray-300"}`,children:"Principal"})]},be))}):C?.imageUrls.length>0&&f.jsx("div",{className:"grid grid-cols-2 gap-4 mt-5",children:C.imageUrls.map((Y,be)=>f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:typeof Y=="string"?Y:Y.data,alt:`Preview ${be}`,className:"object-cover w-full h-32 rounded-lg",onError:Pe=>{Pe.target.onerror=null,Pe.target.src="https://via.placeholder.com/150x150.png?text=Imagen"}}),f.jsx("button",{type:"button",onClick:()=>Ar(be,!0),className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full p-1.5 hover:bg-red-700 transition-colors shadow-md",children:f.jsx(o1,{size:14})}),f.jsx("button",{type:"button",onClick:()=>Yi(be,!0),className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 text-xs px-2.5 py-1 rounded-full shadow-sm ${C.primaryImageIndex===be?"bg-gray-900 text-white":"bg-white text-gray-800 border border-gray-300"}`,children:"Principal"})]},be))})]})]})]})})]}),f.jsxs("div",{className:"flex justify-between px-8 py-5 bg-white border-t border-gray-200",children:[f.jsx("button",{type:"button",onClick:()=>L(!1),className:"inline-flex justify-center px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all",children:"Cancelar"}),f.jsx("button",{type:"button",onClick:M==="add"?rs:oo,className:"inline-flex justify-center px-5 py-2.5 text-sm font-medium text-white bg-gray-900 border border-transparent rounded-lg hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all",children:M==="add"?"Añadir Producto":"Actualizar Producto"})]})]})]})}),W&&ie&&f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:f.jsxs("div",{className:"flex items-end justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[f.jsx("div",{className:"fixed transition-opacity bg-gray-500 bg-opacity-75","aria-hidden":"true",onClick:()=>ae(!1)}),f.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),f.jsxs("div",{className:"z-50 inline-block overflow-hidden text-left align-bottom transition-all transform bg-white shadow-xl rounded-2xl sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",style:{boxShadow:"0 10px 30px rgba(0,0,0,0.1)",width:"650px"},children:[f.jsxs("div",{className:"px-8 py-8",children:[f.jsxs("div",{className:"mb-8 text-center",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:"Editar Reseña"}),f.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Modifica la calificación y el comentario de la reseña"})]}),f.jsx("div",{className:"mt-2",children:f.jsxs("form",{onSubmit:co,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block mb-4 text-sm font-medium text-gray-700",children:"Calificación"}),f.jsx("div",{className:"flex items-center justify-center space-x-2",children:[1,2,3,4,5].map(Y=>f.jsx("button",{type:"button",onClick:()=>Sa(Y),className:"text-4xl transition-transform focus:outline-none hover:scale-110",children:Y<=ie.rating?f.jsx("span",{className:"text-yellow-400",children:"★"}):f.jsx("span",{className:"text-gray-300",children:"☆"})},Y))}),f.jsx("div",{className:"mt-3 text-center",children:f.jsxs("span",{className:"text-sm text-gray-500",children:[ie.rating," de 5 estrellas"]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Comentario"}),f.jsx("textarea",{name:"comment",rows:6,value:ie.comment,onChange:Aa,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Escribe tu reseña aquí..."})]})]})})]}),f.jsxs("div",{className:"flex justify-between px-8 py-5 bg-white border-t border-gray-200",children:[f.jsx("button",{type:"button",onClick:()=>ae(!1),className:"inline-flex justify-center px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all",children:"Cancelar"}),f.jsx("button",{type:"button",onClick:co,className:"inline-flex justify-center px-5 py-2.5 text-sm font-medium text-white bg-gray-900 border border-transparent rounded-lg hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all",children:"Guardar Cambios"})]})]})]})}),xe&&oe&&f.jsx(U6,{order:oe,isOpen:xe,onClose:gi,formatDate:Wi,formatCurrency:ba,getOrderStatusText:Pb,getStatusBadgeClass:NP})]}):f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Acceso Denegado"}),f.jsx("p",{className:"mt-2 text-gray-600",children:"No tienes permisos para acceder a esta sección."})]})})},Ope=()=>{const{currentUser:t}=Hi(),e=qi(),[n,r]=_.useState([]),[i,a]=_.useState(!0),[l,u]=_.useState(null),[d,h]=_.useState(null),[p,g]=_.useState(!1),[x,b]=_.useState(null),A=I=>{switch(I){case"pending":return"Pendiente";case"processing":return"Procesando";case"shipped":return"Enviado";case"delivered":return"Entregado";case"cancelled":return"Cancelado";default:return I}},E=I=>{switch(I){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=I=>I?I instanceof Date?I.toLocaleDateString("es-CO"):I.toDate?I.toDate().toLocaleDateString("es-CO"):"N/A":"N/A",C=I=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(I||0),j=I=>{h(I),g(!0)},N=()=>{g(!1),h(null)},L=I=>{b({productId:I.id,productName:I.name,rating:0,comment:""})},M=I=>{const{name:k,value:$}=I.target;b(V=>({...V,[k]:$}))},U=I=>{b(k=>({...k,rating:I}))},R=async()=>{if(x.rating===0){Ie.fire({title:"Error",text:"Por favor selecciona una calificación",icon:"error",confirmButtonText:"Aceptar"});return}if(x.comment.trim()===""){Ie.fire({title:"Error",text:"Por favor escribe un comentario",icon:"error",confirmButtonText:"Aceptar"});return}try{const I={productId:x.productId,userId:t.uid,userEmail:t.email,userName:t.displayName||t.email.split("@")[0],rating:x.rating,comment:x.comment.trim()};await I6(I),Ie.fire({title:"Reseña enviada",text:"Tu reseña ha sido enviada correctamente",icon:"success",confirmButtonText:"Aceptar"}),b(null)}catch(I){console.error("Error submitting review:",I),Ie.fire({title:"Error",text:"Hubo un error al enviar tu reseña. Por favor intenta nuevamente.",icon:"error",confirmButtonText:"Aceptar"})}};return _.useEffect(()=>{(async()=>{if(!t){e("/login");return}try{const k=await XX(t.uid);r(k)}catch(k){console.error("Error fetching user orders:",k),u("No se pudieron cargar tus órdenes. Por favor, intenta nuevamente.")}finally{a(!1)}})()},[t,e]),i?f.jsx("div",{children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})})}):f.jsxs("div",{children:[f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Pedidos"}),f.jsx("p",{className:"mt-2 text-gray-600",children:"Consulta el estado de tus pedidos recientes"})]}),l&&f.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-6",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),f.jsx("div",{className:"ml-3",children:f.jsx("h3",{className:"text-sm font-medium text-red-800",children:l})})]})}),n.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002-2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),f.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No tienes pedidos"}),f.jsx("p",{className:"mt-1 text-gray-500",children:"Aún no has realizado ningún pedido."}),f.jsx("div",{className:"mt-6",children:f.jsx(Ge,{to:"/shop",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Comprar ahora"})})]}):f.jsx("div",{className:"space-y-6",children:n.map(I=>f.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[f.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Pedido #",I.id.substring(0,8)]}),f.jsxs("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:["Realizado el ",S(I.createdAt)]})]}),f.jsxs("div",{className:"mt-4 md:mt-0 flex items-center space-x-2",children:[f.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${E(I.orderStatus)}`,children:A(I.orderStatus)}),f.jsx("button",{onClick:()=>j(I),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ver detalles"})]})]})}),f.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[f.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),f.jsx("p",{className:"text-lg font-medium text-gray-900",children:C(I.totalAmount)})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Productos"}),f.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[I.items?.length||0," ",I.items?.length===1?"producto":"productos"]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Método de Pago"}),f.jsx("p",{className:"text-lg font-medium text-gray-900",children:I.paymentMethod||"N/A"})]})]}),f.jsxs("div",{className:"mt-6",children:[f.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Productos en este pedido"}),f.jsx("div",{className:"space-y-4",children:I.items?.map((k,$)=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0 w-16 h-16 border border-gray-200 rounded-md overflow-hidden",children:f.jsx("img",{src:k.imageUrl||"https://via.placeholder.com/64x64.png?text=Moño",alt:k.name,className:"w-full h-full object-center object-cover",onError:V=>{V.target.onerror=null,V.target.src="https://via.placeholder.com/64x64.png?text=Moño"}})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("h5",{className:"text-sm font-medium text-gray-900",children:k.name}),f.jsxs("p",{className:"text-sm text-gray-500",children:["Cantidad: ",k.quantity]})]})]}),f.jsx("button",{onClick:()=>L(k),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Dejar reseña"})]},$))})]})]})]},I.id))})]}),x&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto bg-black bg-opacity-50",children:f.jsx("div",{className:"relative w-full max-w-md mx-auto my-8 bg-white rounded-lg shadow-xl",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Dejar una reseña"}),f.jsx("button",{onClick:()=>b(null),className:"text-2xl font-bold text-gray-400 hover:text-gray-500",children:"×"})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("h4",{className:"font-medium text-gray-900",children:x.productName}),f.jsxs("div",{className:"mt-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calificación"}),f.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(I=>f.jsx("button",{type:"button",onClick:()=>U(I),className:"text-2xl focus:outline-none",children:I<=x.rating?f.jsx("span",{className:"text-yellow-400",children:"★"}):f.jsx("span",{className:"text-gray-300",children:"☆"})},I)),f.jsx("span",{className:"ml-2 text-sm text-gray-500",children:x.rating>0?`${x.rating} de 5 estrellas`:"Selecciona una calificación"})]})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("label",{htmlFor:"review-comment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Comentario"}),f.jsx("textarea",{id:"review-comment",name:"comment",rows:4,value:x.comment,onChange:M,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border border-gray-300 rounded-md p-3",placeholder:"Comparte tu experiencia con este producto..."})]}),f.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[f.jsx("button",{type:"button",onClick:()=>b(null),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),f.jsx("button",{onClick:R,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Enviar Reseña"})]})]})]})})}),f.jsx(U6,{order:d,isOpen:p,onClose:N,formatDate:S,formatCurrency:C,getOrderStatusText:A,getStatusBadgeClass:E})]})};function Ipe(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function Rpe(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function kpe(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Dpe(t){return Mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function Mpe(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function Lpe(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function Vpe(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function Upe(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function Bpe(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function zpe(t){return Mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function $pe(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Fpe(t){return Mt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Mk(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const j8=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState(!1),{currentUser:i,isAdmin:a,userProfile:l}=Hi(),{items:u}=Uc(),{items:d}=Xh(),h=qi(),p=_.useRef(null);_.useEffect(()=>{console.log("Navbar isAdmin value:",a)},[a]),_.useEffect(()=>{const N=L=>{p.current&&!p.current.contains(L.target)&&r(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const g=()=>{e(!t)},x=()=>{console.log("Toggling profile menu, current state:",n),r(!n)},b=()=>{console.log("Closing profile menu"),r(!1)},A=async()=>{try{await D4(fa),b(),h("/home")}catch(N){console.error("Error signing out:",N)}},E="text-slate-600 hover:text-slate-900 transition-colors duration-300",S="relative text-slate-600 hover:text-slate-900 transition-colors duration-300 cursor-pointer",C=u.reduce((N,L)=>N+L.quantity,0),j=d.length;return f.jsxs(f.Fragment,{children:[f.jsx("header",{className:"sticky top-0 z-50 font-sans bg-white shadow-sm",children:f.jsxs("nav",{className:"flex items-center justify-between p-4 mx-auto max-w-7xl",children:[f.jsx("div",{className:"text-2xl font-bold text-slate-800",children:f.jsx(Ge,{to:"/home",children:"PSGSHOP"})}),f.jsxs("ul",{className:"items-center hidden space-x-8 md:flex",children:[f.jsx("li",{children:f.jsx(Ge,{to:"/home",className:E,children:"Inicio"})}),f.jsx("li",{children:f.jsx(Ge,{to:"/shop",className:E,children:"Productos"})}),f.jsx("li",{children:f.jsx(Ge,{to:"/blog",className:E,children:"Blog"})}),f.jsx("li",{children:f.jsx(Ge,{to:"/contact",className:E,children:"Contacto"})})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:`hidden md:block ${S} text-xl`,children:f.jsx(Bpe,{})}),f.jsxs(Ge,{to:"/wishlist",className:`${S} text-xl flex items-center justify-center relative`,children:[f.jsx(Vpe,{}),j>0&&f.jsx("span",{className:"absolute flex items-center justify-center w-5 h-5 text-xs font-semibold text-white bg-green-500 rounded-full -top-2 -right-3",children:j})]}),f.jsxs(Ge,{to:"/cart",className:`${S} text-xl flex items-center justify-center relative`,children:[f.jsx(zpe,{}),C>0&&f.jsx("span",{className:"absolute flex items-center justify-center w-5 h-5 text-xs font-semibold text-white bg-green-500 rounded-full -top-2 -right-3",children:C})]}),f.jsxs("div",{className:"relative",ref:p,children:[i?f.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 border border-gray-300 rounded-full cursor-pointer",onClick:x,children:l?.profileImage?f.jsx("img",{src:l.profileImage,alt:"Profile",className:"object-cover w-full h-full rounded-full"}):f.jsx("span",{className:"text-xs font-bold text-gray-600",children:l?.displayName?.charAt(0).toUpperCase()||i.email?.charAt(0).toUpperCase()||"U"})}):f.jsx(Ge,{to:"/login",className:"flex items-center justify-center w-8 h-8 bg-gray-200 border border-gray-300 rounded-full cursor-pointer",children:f.jsx(Mk,{className:"text-gray-600"})}),i&&n&&f.jsxs("div",{className:"absolute right-0 z-50 w-64 mt-2 bg-gray-800 rounded-lg shadow-lg",children:[f.jsx("div",{className:"p-4 border-b border-gray-700",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-200 border border-gray-300 rounded-full",children:l?.profileImage?f.jsx("img",{src:l.profileImage,alt:"Profile",className:"object-cover w-full h-full rounded-full"}):f.jsx("span",{className:"text-sm font-bold text-gray-600",children:l?.displayName?.charAt(0).toUpperCase()||i.email?.charAt(0).toUpperCase()||"U"})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("p",{className:"text-sm font-bold text-white",children:l?.displayName||i.email?.split("@")[0]||"Usuario"}),f.jsx("p",{className:"text-xs text-gray-400",children:i.email})]})]})}),f.jsxs("div",{className:"py-1",children:[console.log("Rendering admin link, isAdmin:",a),a&&f.jsxs(Ge,{to:"/admin",className:"flex items-center px-4 py-2 text-sm text-white hover:bg-gray-700",onClick:b,children:[f.jsx(Lpe,{className:"mr-3 text-gray-400"}),f.jsx("span",{children:"Administrar página"})]}),f.jsxs(Ge,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-white hover:bg-gray-700",onClick:b,children:[f.jsx(Mk,{className:"mr-3 text-gray-400"}),f.jsx("span",{children:"Editar perfil"})]}),f.jsx("div",{className:"border-t border-gray-700",children:f.jsxs(Ge,{to:"/orders",className:"flex items-center px-4 py-2 text-sm text-white hover:bg-gray-700",onClick:b,children:[f.jsx(Upe,{className:"mr-3 text-gray-400"}),f.jsx("span",{children:"Mis Pedidos"})]})}),f.jsxs("button",{onClick:A,className:"flex items-center w-full px-4 py-2 text-sm text-left text-white hover:bg-gray-700",children:[f.jsx($pe,{className:"mr-3 text-gray-400"}),f.jsx("span",{children:"Cerrar sesión"})]})]})]})]}),f.jsxs("div",{className:"ml-3 text-2xl cursor-pointer md:hidden text-slate-800",onClick:g,children:[f.jsx(Mpe,{}),f.jsx("span",{className:"absolute flex items-center justify-center w-5 h-5 text-xs font-semibold text-white bg-green-500 rounded-full -top-1 -right-1",children:"11"})]})]})]})}),f.jsxs(f.Fragment,{children:[t&&f.jsx("div",{className:"fixed inset-0 z-40 bg-black/40",onClick:g}),f.jsxs("aside",{className:`fixed top-0 left-0 h-full w-72 bg-white shadow-xl transform ${t?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 p-5 flex flex-col font-sans`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-10",children:[f.jsx("div",{className:"text-xl font-bold text-slate-800",children:"BOWSHOP"}),f.jsx("button",{onClick:g,className:"text-2xl cursor-pointer text-slate-600 hover:text-slate-900",children:f.jsx(Fpe,{})})]}),f.jsxs("ul",{className:"flex-grow space-y-4",children:[f.jsx("li",{children:f.jsx(Ge,{to:"/home",className:`text-lg ${E}`,onClick:g,children:"Inicio"})}),f.jsx("li",{children:f.jsx(Ge,{to:"/shop",className:`text-lg ${E}`,onClick:g,children:"Productos"})}),f.jsx("li",{children:f.jsx(Ge,{to:"/blog",className:`text-lg ${E}`,onClick:g,children:"Blog"})}),f.jsx("li",{children:f.jsx(Ge,{to:"/contact",className:`text-lg ${E}`,onClick:g,children:"Contacto"})}),f.jsx("li",{children:f.jsx(Ge,{to:"/cart",className:`text-lg ${E}`,onClick:g,children:"Carrito"})}),f.jsx("li",{children:f.jsx(Ge,{to:"/wishlist",className:`text-lg ${E}`,onClick:g,children:"Favoritos"})}),i&&a&&f.jsx("li",{children:f.jsx(Ge,{to:"/admin",className:"text-lg font-medium text-blue-600",onClick:g,children:"Panel administrativo"})})]}),f.jsx("div",{className:"mt-4",children:i?f.jsx("button",{onClick:()=>{A(),g()},className:"w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cerrar Sesión"}):f.jsx(Ge,{to:"/login",className:"block w-full px-4 py-2 text-sm font-medium text-center text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:g,children:"Iniciar Sesión"})}),f.jsxs("div",{className:"flex justify-center p-5 mt-auto space-x-6",children:[f.jsx("a",{href:"#",className:`text-2xl ${S}`,children:f.jsx(Dpe,{})}),f.jsx("a",{href:"#",className:`text-2xl ${S}`,children:f.jsx(Rpe,{})}),f.jsx("a",{href:"#",className:`text-2xl ${S}`,children:f.jsx(Ipe,{})}),f.jsx("a",{href:"#",className:`text-2xl ${S}`,children:f.jsx(kpe,{})})]})]})]})]})},qpe=()=>{const{applyCoupon:t,removeCoupon:e,coupon:n}=Uc(),r=async()=>{try{const a=await t("DESCUENTO10");console.log("Coupon applied successfully:",a),alert("Coupon applied successfully!")}catch(a){console.error("Error applying coupon:",a),alert("Error applying coupon: "+a.message)}},i=()=>{e(),alert("Coupon removed!")};return f.jsxs("div",{children:[f.jsx(j8,{}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Prueba de Cupones"}),f.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden p-6",children:[f.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-4",children:"Funcionalidad de Cupones"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Estado Actual"}),n?f.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:[f.jsxs("p",{className:"font-medium text-green-800",children:["Cupón Aplicado: ",n.code]}),f.jsxs("p",{className:"text-sm text-green-600",children:["Descuento: ",n.discountType==="percentage"?`${n.discountValue}%`:`$${n.discountValue}`]})]}):f.jsx("p",{className:"text-gray-500",children:"No hay cupón aplicado"})]}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("button",{onClick:r,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Aplicar Cupón de Prueba (DESCUENTO10)"}),f.jsx("button",{onClick:i,disabled:!n,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white ${n?"bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500":"bg-gray-400 cursor-not-allowed"}`,children:"Remover Cupón"})]}),f.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[f.jsx("h3",{className:"text-md font-medium text-blue-800 mb-2",children:"Instrucciones"}),f.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-700 space-y-1",children:[f.jsx("li",{children:"Primero, asegúrate de haber creado un cupón de prueba en Firestore"}),f.jsx("li",{children:'Haz clic en "Aplicar Cupón de Prueba" para probar la funcionalidad'}),f.jsx("li",{children:"Verifica que el cupón se aplique correctamente"}),f.jsx("li",{children:'Haz clic en "Remover Cupón" para eliminarlo'})]})]})]})]})]})]})},Hpe=()=>{const{items:t,removeFromWishlist:e,loading:n}=Xh(),r=i=>{if(i.imageUrls&&i.imageUrls.length>0){const a=i.imageUrls.filter(l=>l&&(typeof l=="string"||l.data&&typeof l.data=="string"));if(a.length>0){const l=i.primaryImageIndex||0,u=Math.min(l,a.length-1),d=a[u];if(typeof d=="string")return d;if(d&&d.data)return d.data}}return i.imageUrl||"https://via.placeholder.com/300x300.png?text=Moño"};return n?f.jsx("div",{children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Mi Lista de Deseos"}),f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})]})}):f.jsx("div",{children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Mi Lista de Deseos"}),t.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),f.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Tu lista de deseos está vacía"}),f.jsx("p",{className:"mt-1 text-gray-500",children:"Empieza a agregar productos a tu lista de deseos"}),f.jsx("div",{className:"mt-6",children:f.jsx(Ge,{to:"/shop",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Explorar Productos"})})]}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(i=>f.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[f.jsx(Ge,{to:`/product/${i.id}`,children:f.jsx("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden",children:f.jsx("img",{src:r(i),alt:i.name,className:"w-full h-64 object-cover",onError:a=>{a.target.onerror=null,a.target.src="https://via.placeholder.com/300x300.png?text=Moño"}})})}),f.jsxs("div",{className:"p-4",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:i.category})}),f.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:i.name}),i.rating>0&&f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((a,l)=>f.jsx("svg",{className:`w-4 h-4 ${l<Math.floor(i.rating)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},l)),f.jsx("span",{className:"ml-1 text-sm text-gray-600",children:i.rating})]})}),f.jsx("div",{className:"mt-2",children:f.jsxs("span",{className:"text-lg font-semibold text-indigo-600",children:["$",parseFloat(i.price).toLocaleString("es-CO")]})}),f.jsxs("div",{className:"mt-4 flex gap-2",children:[f.jsx(Ge,{to:`/product/${i.id}`,className:"flex-1 bg-indigo-600 border border-transparent rounded-md py-2 px-4 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 text-center",children:"Ver Detalles"}),f.jsx("button",{onClick:()=>e(i.id),className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:f.jsx("svg",{className:"h-5 w-5 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},i.id))})]})})},Kpe=()=>f.jsx("footer",{className:"bg-gray-800 text-white py-8",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Tienda de Moños"}),f.jsx("p",{className:"text-gray-300",children:"La mejor selección de moños para todas las ocasiones."})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Enlaces Rápidos"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsx("li",{children:f.jsx("a",{href:"/home",className:"text-gray-300 hover:text-white",children:"Inicio"})}),f.jsx("li",{children:f.jsx("a",{href:"/cart",className:"text-gray-300 hover:text-white",children:"Carrito"})}),f.jsx("li",{children:f.jsx("a",{href:"/login",className:"text-gray-300 hover:text-white",children:"Iniciar Sesión"})}),f.jsx("li",{children:f.jsx("a",{href:"/register",className:"text-gray-300 hover:text-white",children:"Registrarse"})})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contacto"}),f.jsxs("address",{className:"text-gray-300 not-italic",children:[f.jsx("p",{children:"Email: psgmoños@gmail.com"}),f.jsx("p",{children:"Teléfono: (123) 456-7890"})]})]})]}),f.jsx("div",{className:"border-t border-gray-700 mt-8 pt-6 text-center text-gray-400",children:f.jsxs("p",{children:["© ",new Date().getFullYear()," Tienda de Moños. Todos los derechos reservados."]})})]})});function Gpe(){const[t,e]=_.useState(null),[n,r]=_.useState(null),[i,a]=_.useState(!0),[l,u]=_.useState(!1);_.useEffect(()=>T$(fa,async x=>{if(e(x),x)try{const b=xt(Re,"users",x.uid),A=await ga(b);if(A.exists()){const E=A.data();r(E),u(E.role==="admin")}else r(null),u(!1)}catch(b){console.error("Error fetching user profile:",b),r(null),u(!1)}else r(null),u(!1);a(!1)}),[]);const d={currentUser:t,userProfile:n,isAdmin:l};if(i)return f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx("div",{className:"w-12 h-12 border-b-2 border-indigo-600 rounded-full animate-spin"})});const h=({children:g,adminOnly:x=!1})=>t?x&&!l?f.jsx(db,{to:"/home"}):g:f.jsx(db,{to:"/login"}),p=({children:g})=>t?f.jsx(db,{to:"/home"}):g;return f.jsx(k3.Provider,{value:d,children:f.jsx(CG,{children:f.jsx(NG,{children:f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsxs(fb,{children:[f.jsx(kn,{path:"/admin/*",element:null}),f.jsx(kn,{path:"*",element:f.jsx(j8,{})})]}),f.jsx("main",{className:"flex-grow",children:f.jsxs(fb,{children:[f.jsx(kn,{path:"/",element:f.jsx(bP,{})}),f.jsx(kn,{path:"/home",element:f.jsx(bP,{})}),f.jsx(kn,{path:"/shop",element:f.jsx(xX,{})}),f.jsx(kn,{path:"/product/:id",element:f.jsx(_X,{})}),f.jsx(kn,{path:"/cart",element:f.jsx(EX,{})}),f.jsx(kn,{path:"/wishlist",element:f.jsx(Hpe,{})}),f.jsx(kn,{path:"/checkout",element:f.jsx(h,{children:f.jsx(qX,{})})}),f.jsx(kn,{path:"/profile",element:f.jsx(h,{children:f.jsx(HX,{})})}),f.jsx(kn,{path:"/orders",element:f.jsx(h,{children:f.jsx(Ope,{})})}),f.jsx(kn,{path:"/login",element:f.jsx(p,{children:f.jsx(KX,{})})}),f.jsx(kn,{path:"/register",element:f.jsx(p,{children:f.jsx(GX,{})})}),f.jsx(kn,{path:"/reset-password",element:f.jsx(p,{children:f.jsx(WX,{})})}),f.jsx(kn,{path:"/admin/*",element:f.jsx(h,{adminOnly:!0,children:f.jsx(Ppe,{})})}),f.jsx(kn,{path:"/coupon-test",element:f.jsx(h,{adminOnly:!0,children:f.jsx(qpe,{})})})]})}),f.jsxs(fb,{children:[f.jsx(kn,{path:"/admin/*",element:null}),f.jsx(kn,{path:"*",element:f.jsx(Kpe,{})})]})]})})})})}const Wpe={"client-id":"AdgxAW2HZC5B-yzBWZKimJnJH8W5r-PwL5_lppQOw1w43p_mlpg5FzCDl2trocXC23YuwZhhjyiJIOEf",currency:"USD",intent:"capture"};hV.createRoot(document.getElementById("root")).render(f.jsx(_.StrictMode,{children:f.jsx(FX,{options:Wpe,children:f.jsx(TU,{children:f.jsx(Gpe,{})})})}));
