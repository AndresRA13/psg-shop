function nV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Qs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ix={exports:{}},$f={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hN;function rV(){if(hN)return $f;hN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return $f.Fragment=e,$f.jsx=n,$f.jsxs=n,$f}var mN;function iV(){return mN||(mN=1,ix.exports=rV()),ix.exports}var m=iV(),ax={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN;function aV(){if(pN)return We;pN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function b(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function S(H,le,ue){this.props=H,this.context=le,this.refs=E,this.updater=ue||x}S.prototype.isReactComponent={},S.prototype.setState=function(H,le){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,le,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=S.prototype;function P(H,le,ue){this.props=H,this.context=le,this.refs=E,this.updater=ue||x}var N=P.prototype=new C;N.constructor=P,A(N,S.prototype),N.isPureReactComponent=!0;var L=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function R(H,le,ue,oe,he,be){return ue=be.ref,{$$typeof:t,type:H,key:le,ref:ue!==void 0?ue:null,props:be}}function I(H,le){return R(H.type,le,void 0,void 0,void 0,H.props)}function k(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function $(H){var le={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ue){return le[ue]})}var V=/\/+/g;function F(H,le){return typeof H=="object"&&H!==null&&H.key!=null?$(""+H.key):le.toString(36)}function B(){}function ve(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(B,B):(H.status="pending",H.then(function(le){H.status==="pending"&&(H.status="fulfilled",H.value=le)},function(le){H.status==="pending"&&(H.status="rejected",H.reason=le)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ie(H,le,ue,oe,he){var be=typeof H;(be==="undefined"||be==="boolean")&&(H=null);var we=!1;if(H===null)we=!0;else switch(be){case"bigint":case"string":case"number":we=!0;break;case"object":switch(H.$$typeof){case t:case e:we=!0;break;case p:return we=H._init,ie(we(H._payload),le,ue,oe,he)}}if(we)return he=he(H),we=oe===""?"."+F(H,0):oe,L(he)?(ue="",we!=null&&(ue=we.replace(V,"$&/")+"/"),ie(he,le,ue,"",function(Ee){return Ee})):he!=null&&(k(he)&&(he=I(he,ue+(he.key==null||H&&H.key===he.key?"":(""+he.key).replace(V,"$&/")+"/")+we)),le.push(he)),1;we=0;var Ge=oe===""?".":oe+":";if(L(H))for(var lt=0;lt<H.length;lt++)oe=H[lt],be=Ge+F(oe,lt),we+=ie(oe,le,ue,be,he);else if(lt=b(H),typeof lt=="function")for(H=lt.call(H),lt=0;!(oe=H.next()).done;)oe=oe.value,be=Ge+F(oe,lt++),we+=ie(oe,le,ue,be,he);else if(be==="object"){if(typeof H.then=="function")return ie(ve(H),le,ue,oe,he);throw le=String(H),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return we}function G(H,le,ue){if(H==null)return H;var oe=[],he=0;return ie(H,oe,"","",function(be){return le.call(ue,be,he++)}),oe}function W(H){if(H._status===-1){var le=H._result;le=le(),le.then(function(ue){(H._status===0||H._status===-1)&&(H._status=1,H._result=ue)},function(ue){(H._status===0||H._status===-1)&&(H._status=2,H._result=ue)}),H._status===-1&&(H._status=0,H._result=le)}if(H._status===1)return H._result.default;throw H._result}var ae=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function ye(){}return We.Children={map:G,forEach:function(H,le,ue){G(H,function(){le.apply(this,arguments)},ue)},count:function(H){var le=0;return G(H,function(){le++}),le},toArray:function(H){return G(H,function(le){return le})||[]},only:function(H){if(!k(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},We.Component=S,We.Fragment=n,We.Profiler=i,We.PureComponent=P,We.StrictMode=r,We.Suspense=d,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,We.__COMPILER_RUNTIME={__proto__:null,c:function(H){return M.H.useMemoCache(H)}},We.cache=function(H){return function(){return H.apply(null,arguments)}},We.cloneElement=function(H,le,ue){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var oe=A({},H.props),he=H.key,be=void 0;if(le!=null)for(we in le.ref!==void 0&&(be=void 0),le.key!==void 0&&(he=""+le.key),le)!U.call(le,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&le.ref===void 0||(oe[we]=le[we]);var we=arguments.length-2;if(we===1)oe.children=ue;else if(1<we){for(var Ge=Array(we),lt=0;lt<we;lt++)Ge[lt]=arguments[lt+2];oe.children=Ge}return R(H.type,he,void 0,void 0,be,oe)},We.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},We.createElement=function(H,le,ue){var oe,he={},be=null;if(le!=null)for(oe in le.key!==void 0&&(be=""+le.key),le)U.call(le,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(he[oe]=le[oe]);var we=arguments.length-2;if(we===1)he.children=ue;else if(1<we){for(var Ge=Array(we),lt=0;lt<we;lt++)Ge[lt]=arguments[lt+2];he.children=Ge}if(H&&H.defaultProps)for(oe in we=H.defaultProps,we)he[oe]===void 0&&(he[oe]=we[oe]);return R(H,be,void 0,void 0,null,he)},We.createRef=function(){return{current:null}},We.forwardRef=function(H){return{$$typeof:u,render:H}},We.isValidElement=k,We.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:W}},We.memo=function(H,le){return{$$typeof:f,type:H,compare:le===void 0?null:le}},We.startTransition=function(H){var le=M.T,ue={};M.T=ue;try{var oe=H(),he=M.S;he!==null&&he(ue,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ye,ae)}catch(be){ae(be)}finally{M.T=le}},We.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},We.use=function(H){return M.H.use(H)},We.useActionState=function(H,le,ue){return M.H.useActionState(H,le,ue)},We.useCallback=function(H,le){return M.H.useCallback(H,le)},We.useContext=function(H){return M.H.useContext(H)},We.useDebugValue=function(){},We.useDeferredValue=function(H,le){return M.H.useDeferredValue(H,le)},We.useEffect=function(H,le,ue){var oe=M.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(H,le)},We.useId=function(){return M.H.useId()},We.useImperativeHandle=function(H,le,ue){return M.H.useImperativeHandle(H,le,ue)},We.useInsertionEffect=function(H,le){return M.H.useInsertionEffect(H,le)},We.useLayoutEffect=function(H,le){return M.H.useLayoutEffect(H,le)},We.useMemo=function(H,le){return M.H.useMemo(H,le)},We.useOptimistic=function(H,le){return M.H.useOptimistic(H,le)},We.useReducer=function(H,le,ue){return M.H.useReducer(H,le,ue)},We.useRef=function(H){return M.H.useRef(H)},We.useState=function(H){return M.H.useState(H)},We.useSyncExternalStore=function(H,le,ue){return M.H.useSyncExternalStore(H,le,ue)},We.useTransition=function(){return M.H.useTransition()},We.version="19.1.1",We}var gN;function fd(){return gN||(gN=1,ax.exports=aV()),ax.exports}var _=fd();const li=Qs(_),sV=nV({__proto__:null,default:li},[_]);var sx={exports:{}},Ff={},ox={exports:{}},lx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN;function oV(){return yN||(yN=1,(function(t){function e(G,W){var ae=G.length;G.push(W);e:for(;0<ae;){var ye=ae-1>>>1,H=G[ye];if(0<i(H,W))G[ye]=W,G[ae]=H,ae=ye;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var W=G[0],ae=G.pop();if(ae!==W){G[0]=ae;e:for(var ye=0,H=G.length,le=H>>>1;ye<le;){var ue=2*(ye+1)-1,oe=G[ue],he=ue+1,be=G[he];if(0>i(oe,ae))he<H&&0>i(be,oe)?(G[ye]=be,G[he]=ae,ye=he):(G[ye]=oe,G[ue]=ae,ye=ue);else if(he<H&&0>i(be,ae))G[ye]=be,G[he]=ae,ye=he;else break e}}return W}function i(G,W){var ae=G.sortIndex-W.sortIndex;return ae!==0?ae:G.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,g=null,b=3,x=!1,A=!1,E=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function L(G){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=G)r(f),W.sortIndex=W.expirationTime,e(d,W);else break;W=n(f)}}function M(G){if(E=!1,L(G),!A)if(n(d)!==null)A=!0,U||(U=!0,F());else{var W=n(f);W!==null&&ie(M,W.startTime-G)}}var U=!1,R=-1,I=5,k=-1;function $(){return S?!0:!(t.unstable_now()-k<I)}function V(){if(S=!1,U){var G=t.unstable_now();k=G;var W=!0;try{e:{A=!1,E&&(E=!1,P(R),R=-1),x=!0;var ae=b;try{t:{for(L(G),g=n(d);g!==null&&!(g.expirationTime>G&&$());){var ye=g.callback;if(typeof ye=="function"){g.callback=null,b=g.priorityLevel;var H=ye(g.expirationTime<=G);if(G=t.unstable_now(),typeof H=="function"){g.callback=H,L(G),W=!0;break t}g===n(d)&&r(d),L(G)}else r(d);g=n(d)}if(g!==null)W=!0;else{var le=n(f);le!==null&&ie(M,le.startTime-G),W=!1}}break e}finally{g=null,b=ae,x=!1}W=void 0}}finally{W?F():U=!1}}}var F;if(typeof N=="function")F=function(){N(V)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ve=B.port2;B.port1.onmessage=V,F=function(){ve.postMessage(null)}}else F=function(){C(V,0)};function ie(G,W){R=C(function(){G(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(G){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var ae=b;b=W;try{return G()}finally{b=ae}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=b;b=G;try{return W()}finally{b=ae}},t.unstable_scheduleCallback=function(G,W,ae){var ye=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ye+ae:ye):ae=ye,G){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ae+H,G={id:p++,callback:W,priorityLevel:G,startTime:ae,expirationTime:H,sortIndex:-1},ae>ye?(G.sortIndex=ae,e(f,G),n(d)===null&&G===n(f)&&(E?(P(R),R=-1):E=!0,ie(M,ae-ye))):(G.sortIndex=H,e(d,G),A||x||(A=!0,U||(U=!0,F()))),G},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(G){var W=b;return function(){var ae=b;b=W;try{return G.apply(this,arguments)}finally{b=ae}}}})(lx)),lx}var vN;function lV(){return vN||(vN=1,ox.exports=oV()),ox.exports}var cx={exports:{}},fr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function cV(){if(bN)return fr;bN=1;var t=fd();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return fr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fr.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,p)},fr.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},fr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},fr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},fr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:x}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},fr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},fr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},fr.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},fr.requestFormReset=function(d){r.d.r(d)},fr.unstable_batchedUpdates=function(d,f){return d(f)},fr.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},fr.useFormStatus=function(){return l.H.useHostTransitionStatus()},fr.version="19.1.1",fr}var xN;function Lk(){if(xN)return cx.exports;xN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cx.exports=cV(),cx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wN;function uV(){if(wN)return Ff;wN=1;var t=lV(),e=fd(),n=Lk();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function d(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var c=s,h=o;;){var v=c.return;if(v===null)break;var w=v.alternate;if(w===null){if(h=v.return,h!==null){c=h;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===c)return u(v),s;if(w===h)return u(v),o;w=w.sibling}throw Error(r(188))}if(c.return!==h.return)c=v,h=w;else{for(var O=!1,D=v.child;D;){if(D===c){O=!0,c=v,h=w;break}if(D===h){O=!0,h=v,c=w;break}D=D.sibling}if(!O){for(D=w.child;D;){if(D===c){O=!0,c=w,h=v;break}if(D===h){O=!0,h=w,c=v;break}D=D.sibling}if(!O)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:o}function f(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=f(s),o!==null)return o;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var B=Symbol.for("react.client.reference");function ve(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===B?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case U:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case x:return"Portal";case N:return(s.displayName||"Context")+".Provider";case P:return(s._context.displayName||"Context")+".Consumer";case L:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return o=s.displayName||null,o!==null?o:ve(s.type)||"Memo";case I:o=s._payload,s=s._init;try{return ve(s(o))}catch{}}return null}var ie=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ye=[],H=-1;function le(s){return{current:s}}function ue(s){0>H||(s.current=ye[H],ye[H]=null,H--)}function oe(s,o){H++,ye[H]=s.current,s.current=o}var he=le(null),be=le(null),we=le(null),Ge=le(null);function lt(s,o){switch(oe(we,o),oe(be,s),oe(he,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?zC(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=zC(o),s=$C(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ue(he),oe(he,s)}function Ee(){ue(he),ue(be),ue(we)}function $e(s){s.memoizedState!==null&&oe(Ge,s);var o=he.current,c=$C(o,s.type);o!==c&&(oe(be,s),oe(he,c))}function Ke(s){be.current===s&&(ue(he),ue(be)),Ge.current===s&&(ue(Ge),Lf._currentValue=ae)}var ge=Object.prototype.hasOwnProperty,Le=t.unstable_scheduleCallback,et=t.unstable_cancelCallback,bn=t.unstable_shouldYield,Yt=t.unstable_requestPaint,Lt=t.unstable_now,ns=t.unstable_getCurrentPriorityLevel,Xt=t.unstable_ImmediatePriority,xn=t.unstable_UserBlockingPriority,zn=t.unstable_NormalPriority,xa=t.unstable_LowPriority,Gi=t.unstable_IdlePriority,Md=t.log,wa=t.unstable_setDisableYieldValue,Kr=null,wn=null;function Rr(s){if(typeof Md=="function"&&wa(s),wn&&typeof wn.setStrictMode=="function")try{wn.setStrictMode(Kr,s)}catch{}}var Zn=Math.clz32?Math.clz32:Er,Ld=Math.log,_r=Math.LN2;function Er(s){return s>>>=0,s===0?32:31-(Ld(s)/_r|0)|0}var pi=256,_a=4194304;function Gr(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ar(s,o,c){var h=s.pendingLanes;if(h===0)return 0;var v=0,w=s.suspendedLanes,O=s.pingedLanes;s=s.warmLanes;var D=h&134217727;return D!==0?(h=D&~w,h!==0?v=Gr(h):(O&=D,O!==0?v=Gr(O):c||(c=D&~s,c!==0&&(v=Gr(c))))):(D=h&~w,D!==0?v=Gr(D):O!==0?v=Gr(O):c||(c=h&~s,c!==0&&(v=Gr(c)))),v===0?0:o!==0&&o!==v&&(o&w)===0&&(w=v&-v,c=o&-o,w>=c||w===32&&(c&4194048)!==0)?o:v}function Wi(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function rs(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var s=pi;return pi<<=1,(pi&4194048)===0&&(pi=256),s}function Ea(){var s=_a;return _a<<=1,(_a&62914560)===0&&(_a=4194304),s}function lo(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Qt(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Hc(s,o,c,h,v,w){var O=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var D=s.entanglements,q=s.expirationTimes,J=s.hiddenUpdates;for(c=O&~c;0<c;){var ce=31-Zn(c),me=1<<ce;D[ce]=0,q[ce]=-1;var te=J[ce];if(te!==null)for(J[ce]=null,ce=0;ce<te.length;ce++){var ne=te[ce];ne!==null&&(ne.lane&=-536870913)}c&=~me}h!==0&&Aa(s,h,0),w!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=w&~(O&~o))}function Aa(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var h=31-Zn(o);s.entangledLanes|=o,s.entanglements[h]=s.entanglements[h]|1073741824|c&4194090}function Sa(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-Zn(c),v=1<<h;v&o|s[h]&o&&(s[h]|=o),c&=~v}}function co(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function El(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Yi(){var s=W.p;return s!==0?s:(s=window.event,s===void 0?32:oN(s.type))}function Vd(s,o){var c=W.p;try{return W.p=s,o()}finally{W.p=c}}var gi=Math.random().toString(36).slice(2),Zt="__reactFiber$"+gi,jn="__reactProps$"+gi,Y="__reactContainer$"+gi,xe="__reactEvents$"+gi,je="__reactListeners$"+gi,xt="__reactHandles$"+gi,Jt="__reactResources$"+gi,lr="__reactMarker$"+gi;function Xi(s){delete s[Zt],delete s[jn],delete s[xe],delete s[je],delete s[xt]}function cr(s){var o=s[Zt];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Y]||c[Zt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=KC(s);s!==null;){if(c=s[Zt])return c;s=KC(s)}return o}s=c,c=s.parentNode}return null}function yi(s){if(s=s[Zt]||s[Y]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function is(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function Ta(s){var o=s[Jt];return o||(o=s[Jt]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function en(s){s[lr]=!0}var Ud=new Set,as={};function vi(s,o){bi(s,o),bi(s+"Capture",o)}function bi(s,o){for(as[s]=o,s=0;s<o.length;s++)Ud.add(o[s])}var ss=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xi={},uo={};function Bd(s){return ge.call(uo,s)?!0:ge.call(xi,s)?!1:ss.test(s)?uo[s]=!0:(xi[s]=!0,!1)}function os(s,o,c){if(Bd(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function wi(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function kr(s,o,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+h)}}var Al,Kc;function ls(s){if(Al===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Al=o&&o[1]||"",Kc=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Al+s+Kc}var Gc=!1;function Wc(s,o){if(!s||Gc)return"";Gc=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ne){var te=ne}Reflect.construct(s,[],me)}else{try{me.call()}catch(ne){te=ne}s.call(me.prototype)}}else{try{throw Error()}catch(ne){te=ne}(me=s())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),O=w[0],D=w[1];if(O&&D){var q=O.split(`
`),J=D.split(`
`);for(v=h=0;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;for(;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;if(h===q.length||v===J.length)for(h=q.length-1,v=J.length-1;1<=h&&0<=v&&q[h]!==J[v];)v--;for(;1<=h&&0<=v;h--,v--)if(q[h]!==J[v]){if(h!==1||v!==1)do if(h--,v--,0>v||q[h]!==J[v]){var ce=`
`+q[h].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=h&&0<=v);break}}}finally{Gc=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?ls(c):""}function f0(s){switch(s.tag){case 26:case 27:case 5:return ls(s.type);case 16:return ls("Lazy");case 13:return ls("Suspense");case 19:return ls("SuspenseList");case 0:case 15:return Wc(s.type,!1);case 11:return Wc(s.type.render,!1);case 1:return Wc(s.type,!0);case 31:return ls("Activity");default:return""}}function Qi(s){try{var o="";do o+=f0(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function tn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function fo(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Sl(s){var o=fo(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,w=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return v.call(this)},set:function(O){h=""+O,w.call(this,O)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(O){h=""+O},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ho(s){s._valueTracker||(s._valueTracker=Sl(s))}function wt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=fo(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function cs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Tl=/[\n"\\]/g;function $n(s){return s.replace(Tl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function zd(s,o,c,h,v,w,O,D){s.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.type=O:s.removeAttribute("type"),o!=null?O==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+tn(o)):s.value!==""+tn(o)&&(s.value=""+tn(o)):O!=="submit"&&O!=="reset"||s.removeAttribute("value"),o!=null?Fd(s,O,tn(o)):c!=null?Fd(s,O,tn(c)):h!=null&&s.removeAttribute("value"),v==null&&w!=null&&(s.defaultChecked=!!w),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.name=""+tn(D):s.removeAttribute("name")}function $d(s,o,c,h,v,w,O,D){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),o!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;c=c!=null?""+tn(c):"",o=o!=null?""+tn(o):c,D||o===s.value||(s.value=o),s.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=D?s.checked:!!h,s.defaultChecked=!!h,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.name=O)}function Fd(s,o,c){o==="number"&&cs(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function mo(s,o,c,h){if(s=s.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=o.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&h&&(s[c].defaultSelected=!0)}else{for(c=""+tn(c),o=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,h&&(s[v].defaultSelected=!0);return}o!==null||s[v].disabled||(o=s[v])}o!==null&&(o.selected=!0)}}function Em(s,o,c){if(o!=null&&(o=""+tn(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+tn(c):""}function Am(s,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(r(92));if(ie(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=tn(o),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h)}function _i(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var us=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qd(s,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":h?s.setProperty(o,c):typeof c!="number"||c===0||us.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function Hd(s,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&c[v]!==h&&qd(s,v,h)}else for(var w in o)o.hasOwnProperty(w)&&qd(s,w,o[w])}function Yc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zi(s){return Tm.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Kd=null;function Gd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var po=null,Sr=null;function Cm(s){var o=yi(s);if(o&&(s=o.stateNode)){var c=s[jn]||null;e:switch(s=o.stateNode,o.type){case"input":if(zd(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+$n(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var v=h[jn]||null;if(!v)throw Error(r(90));zd(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===s.form&&wt(h)}break e;case"textarea":Em(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&mo(s,!!c.multiple,o,!1)}}}var Cl=!1;function Nl(s,o,c){if(Cl)return s(o,c);Cl=!0;try{var h=s(o);return h}finally{if(Cl=!1,(po!==null||Sr!==null)&&(gp(),po&&(o=po,s=Sr,Sr=po=null,Cm(o),s)))for(o=0;o<s.length;o++)Cm(s[o])}}function go(s,o){var c=s.stateNode;if(c===null)return null;var h=c[jn]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ds=!1;if(Tr)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){ds=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{ds=!1}var Ei=null,Ot=null,Xc=null;function Nm(){if(Xc)return Xc;var s,o=Ot,c=o.length,h,v="value"in Ei?Ei.value:Ei.textContent,w=v.length;for(s=0;s<c&&o[s]===v[s];s++);var O=c-s;for(h=1;h<=O&&o[c-h]===v[w-h];h++);return Xc=v.slice(s,1<h?1-h:void 0)}function Pl(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function jl(){return!0}function Wd(){return!1}function On(s){function o(c,h,v,w,O){this._reactName=c,this._targetInst=v,this.type=h,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(c=s[D],this[D]=c?c(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?jl:Wd,this.isPropagationStopped=Wd,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),o}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=On(ur),Il=p({},ur,{view:0,detail:0}),Rl=On(Il),Qc,kl,Ca,Dl=p({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ca&&(Ca&&s.type==="mousemove"?(Qc=s.screenX-Ca.screenX,kl=s.screenY-Ca.screenY):kl=Qc=0,Ca=s),Qc)},movementY:function(s){return"movementY"in s?s.movementY:kl}}),Ml=On(Dl),h0=p({},Dl,{dataTransfer:0}),Pm=On(h0),Ll=p({},Il,{relatedTarget:0}),Zc=On(Ll),jm=p({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Yd=On(jm),Xd=p({},ur,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Om=On(Xd),Jc=p({},ur,{data:0}),Qd=On(Jc),Im={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function km(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Rm[s])?!!o[s]:!1}function eu(){return km}var Dm=p({},Il,{key:function(s){if(s.key){var o=Im[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Pl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?fs[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eu,charCode:function(s){return s.type==="keypress"?Pl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Pl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),tu=On(Dm),Cr=p({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=On(Cr),Mm=p({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eu}),vo=On(Mm),y=p({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=On(y),j=p({},Dl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),z=On(j),Z=p({},ur,{newState:0,oldState:0}),re=On(Z),_e=[9,13,27,32],qe=Tr&&"CompositionEvent"in window,Vt=null;Tr&&"documentMode"in document&&(Vt=document.documentMode);var pt=Tr&&"TextEvent"in window&&!Vt,un=Tr&&(!qe||Vt&&8<Vt&&11>=Vt),Wr=" ",Na=!1;function Ji(s,o){switch(s){case"keyup":return _e.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ea(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ta=!1;function Jd(s,o){switch(s){case"compositionend":return ea(o);case"keypress":return o.which!==32?null:(Na=!0,Wr);case"textInput":return s=o.data,s===Wr&&Na?null:s;default:return null}}function P8(s,o){if(ta)return s==="compositionend"||!qe&&Ji(s,o)?(s=Nm(),Xc=Ot=Ei=null,ta=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return un&&o.locale!=="ko"?null:o.data;default:return null}}var j8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tS(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!j8[s.type]:o==="textarea"}function nS(s,o,c,h){po?Sr?Sr.push(h):Sr=[h]:po=h,o=_p(o,"onChange"),0<o.length&&(c=new Ol("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var ef=null,tf=null;function O8(s){MC(s,0)}function Lm(s){var o=is(s);if(wt(o))return s}function rS(s,o){if(s==="change")return o}var iS=!1;if(Tr){var m0;if(Tr){var p0="oninput"in document;if(!p0){var aS=document.createElement("div");aS.setAttribute("oninput","return;"),p0=typeof aS.oninput=="function"}m0=p0}else m0=!1;iS=m0&&(!document.documentMode||9<document.documentMode)}function sS(){ef&&(ef.detachEvent("onpropertychange",oS),tf=ef=null)}function oS(s){if(s.propertyName==="value"&&Lm(tf)){var o=[];nS(o,tf,s,Gd(s)),Nl(O8,o)}}function I8(s,o,c){s==="focusin"?(sS(),ef=o,tf=c,ef.attachEvent("onpropertychange",oS)):s==="focusout"&&sS()}function R8(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lm(tf)}function k8(s,o){if(s==="click")return Lm(o)}function D8(s,o){if(s==="input"||s==="change")return Lm(o)}function M8(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Yr=typeof Object.is=="function"?Object.is:M8;function nf(s,o){if(Yr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var v=c[h];if(!ge.call(o,v)||!Yr(s[v],o[v]))return!1}return!0}function lS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function cS(s,o){var c=lS(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=lS(c)}}function uS(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?uS(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function dS(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=cs(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=cs(s.document)}return o}function g0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var L8=Tr&&"documentMode"in document&&11>=document.documentMode,nu=null,y0=null,rf=null,v0=!1;function fS(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;v0||nu==null||nu!==cs(h)||(h=nu,"selectionStart"in h&&g0(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),rf&&nf(rf,h)||(rf=h,h=_p(y0,"onSelect"),0<h.length&&(o=new Ol("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=nu)))}function Vl(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var ru={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionrun:Vl("Transition","TransitionRun"),transitionstart:Vl("Transition","TransitionStart"),transitioncancel:Vl("Transition","TransitionCancel"),transitionend:Vl("Transition","TransitionEnd")},b0={},hS={};Tr&&(hS=document.createElement("div").style,"AnimationEvent"in window||(delete ru.animationend.animation,delete ru.animationiteration.animation,delete ru.animationstart.animation),"TransitionEvent"in window||delete ru.transitionend.transition);function Ul(s){if(b0[s])return b0[s];if(!ru[s])return s;var o=ru[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in hS)return b0[s]=o[c];return s}var mS=Ul("animationend"),pS=Ul("animationiteration"),gS=Ul("animationstart"),V8=Ul("transitionrun"),U8=Ul("transitionstart"),B8=Ul("transitioncancel"),yS=Ul("transitionend"),vS=new Map,x0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");x0.push("scrollEnd");function na(s,o){vS.set(s,o),vi(o,[s])}var bS=new WeakMap;function Ai(s,o){if(typeof s=="object"&&s!==null){var c=bS.get(s);return c!==void 0?c:(o={value:s,source:o,stack:Qi(o)},bS.set(s,o),o)}return{value:s,source:o,stack:Qi(o)}}var Si=[],iu=0,w0=0;function Vm(){for(var s=iu,o=w0=iu=0;o<s;){var c=Si[o];Si[o++]=null;var h=Si[o];Si[o++]=null;var v=Si[o];Si[o++]=null;var w=Si[o];if(Si[o++]=null,h!==null&&v!==null){var O=h.pending;O===null?v.next=v:(v.next=O.next,O.next=v),h.pending=v}w!==0&&xS(c,v,w)}}function Um(s,o,c,h){Si[iu++]=s,Si[iu++]=o,Si[iu++]=c,Si[iu++]=h,w0|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function _0(s,o,c,h){return Um(s,o,c,h),Bm(s)}function au(s,o){return Um(s,null,null,o),Bm(s)}function xS(s,o,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var v=!1,w=s.return;w!==null;)w.childLanes|=c,h=w.alternate,h!==null&&(h.childLanes|=c),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(v=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,v&&o!==null&&(v=31-Zn(c),s=w.hiddenUpdates,h=s[v],h===null?s[v]=[o]:h.push(o),o.lane=c|536870912),w):null}function Bm(s){if(50<Pf)throw Pf=0,Nb=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var su={};function z8(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(s,o,c,h){return new z8(s,o,c,h)}function E0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hs(s,o){var c=s.alternate;return c===null?(c=Xr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function wS(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function zm(s,o,c,h,v,w){var O=0;if(h=s,typeof s=="function")E0(s)&&(O=1);else if(typeof s=="string")O=F7(s,c,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case k:return s=Xr(31,c,o,v),s.elementType=k,s.lanes=w,s;case A:return Bl(c.children,v,w,o);case E:O=8,v|=24;break;case S:return s=Xr(12,c,o,v|2),s.elementType=S,s.lanes=w,s;case M:return s=Xr(13,c,o,v),s.elementType=M,s.lanes=w,s;case U:return s=Xr(19,c,o,v),s.elementType=U,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case C:case N:O=10;break e;case P:O=9;break e;case L:O=11;break e;case R:O=14;break e;case I:O=16,h=null;break e}O=29,c=Error(r(130,s===null?"null":typeof s,"")),h=null}return o=Xr(O,c,o,v),o.elementType=s,o.type=h,o.lanes=w,o}function Bl(s,o,c,h){return s=Xr(7,s,h,o),s.lanes=c,s}function A0(s,o,c){return s=Xr(6,s,null,o),s.lanes=c,s}function S0(s,o,c){return o=Xr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var ou=[],lu=0,$m=null,Fm=0,Ti=[],Ci=0,zl=null,ms=1,ps="";function $l(s,o){ou[lu++]=Fm,ou[lu++]=$m,$m=s,Fm=o}function _S(s,o,c){Ti[Ci++]=ms,Ti[Ci++]=ps,Ti[Ci++]=zl,zl=s;var h=ms;s=ps;var v=32-Zn(h)-1;h&=~(1<<v),c+=1;var w=32-Zn(o)+v;if(30<w){var O=v-v%5;w=(h&(1<<O)-1).toString(32),h>>=O,v-=O,ms=1<<32-Zn(o)+v|c<<v|h,ps=w+s}else ms=1<<w|c<<v|h,ps=s}function T0(s){s.return!==null&&($l(s,1),_S(s,1,0))}function C0(s){for(;s===$m;)$m=ou[--lu],ou[lu]=null,Fm=ou[--lu],ou[lu]=null;for(;s===zl;)zl=Ti[--Ci],Ti[Ci]=null,ps=Ti[--Ci],Ti[Ci]=null,ms=Ti[--Ci],Ti[Ci]=null}var Nr=null,sn=null,ft=!1,Fl=null,Pa=!1,N0=Error(r(519));function ql(s){var o=Error(r(418,""));throw of(Ai(o,s)),N0}function ES(s){var o=s.stateNode,c=s.type,h=s.memoizedProps;switch(o[Zt]=s,o[jn]=h,c){case"dialog":Ze("cancel",o),Ze("close",o);break;case"iframe":case"object":case"embed":Ze("load",o);break;case"video":case"audio":for(c=0;c<Of.length;c++)Ze(Of[c],o);break;case"source":Ze("error",o);break;case"img":case"image":case"link":Ze("error",o),Ze("load",o);break;case"details":Ze("toggle",o);break;case"input":Ze("invalid",o),$d(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),ho(o);break;case"select":Ze("invalid",o);break;case"textarea":Ze("invalid",o),Am(o,h.value,h.defaultValue,h.children),ho(o)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||BC(o.textContent,c)?(h.popover!=null&&(Ze("beforetoggle",o),Ze("toggle",o)),h.onScroll!=null&&Ze("scroll",o),h.onScrollEnd!=null&&Ze("scrollend",o),h.onClick!=null&&(o.onclick=Ep),o=!0):o=!1,o||ql(s)}function AS(s){for(Nr=s.return;Nr;)switch(Nr.tag){case 5:case 13:Pa=!1;return;case 27:case 3:Pa=!0;return;default:Nr=Nr.return}}function af(s){if(s!==Nr)return!1;if(!ft)return AS(s),ft=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||qb(s.type,s.memoizedProps)),c=!c),c&&sn&&ql(s),AS(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){sn=ia(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}sn=null}}else o===27?(o=sn,ko(s.type)?(s=Wb,Wb=null,sn=s):sn=o):sn=Nr?ia(s.stateNode.nextSibling):null;return!0}function sf(){sn=Nr=null,ft=!1}function SS(){var s=Fl;return s!==null&&(Lr===null?Lr=s:Lr.push.apply(Lr,s),Fl=null),s}function of(s){Fl===null?Fl=[s]:Fl.push(s)}var P0=le(null),Hl=null,gs=null;function bo(s,o,c){oe(P0,o._currentValue),o._currentValue=c}function ys(s){s._currentValue=P0.current,ue(P0)}function j0(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function O0(s,o,c,h){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var w=v.dependencies;if(w!==null){var O=v.child;w=w.firstContext;e:for(;w!==null;){var D=w;w=v;for(var q=0;q<o.length;q++)if(D.context===o[q]){w.lanes|=c,D=w.alternate,D!==null&&(D.lanes|=c),j0(w.return,c,s),h||(O=null);break e}w=D.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(r(341));O.lanes|=c,w=O.alternate,w!==null&&(w.lanes|=c),j0(O,c,s),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===s){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function lf(s,o,c,h){s=null;for(var v=o,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var D=v.type;Yr(v.pendingProps.value,O.value)||(s!==null?s.push(D):s=[D])}}else if(v===Ge.current){if(O=v.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(Lf):s=[Lf])}v=v.return}s!==null&&O0(o,s,c,h),o.flags|=262144}function qm(s){for(s=s.firstContext;s!==null;){if(!Yr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Kl(s){Hl=s,gs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function dr(s){return TS(Hl,s)}function Hm(s,o){return Hl===null&&Kl(s),TS(s,o)}function TS(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},gs===null){if(s===null)throw Error(r(308));gs=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else gs=gs.next=o;return c}var $8=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},F8=t.unstable_scheduleCallback,q8=t.unstable_NormalPriority,In={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function I0(){return{controller:new $8,data:new Map,refCount:0}}function cf(s){s.refCount--,s.refCount===0&&F8(q8,function(){s.controller.abort()})}var uf=null,R0=0,cu=0,uu=null;function H8(s,o){if(uf===null){var c=uf=[];R0=0,cu=Db(),uu={status:"pending",value:void 0,then:function(h){c.push(h)}}}return R0++,o.then(CS,CS),o}function CS(){if(--R0===0&&uf!==null){uu!==null&&(uu.status="fulfilled");var s=uf;uf=null,cu=0,uu=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function K8(s,o){var c=[],h={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return s.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),h}var NS=G.S;G.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&H8(s,o),NS!==null&&NS(s,o)};var Gl=le(null);function k0(){var s=Gl.current;return s!==null?s:It.pooledCache}function Km(s,o){o===null?oe(Gl,Gl.current):oe(Gl,o.pool)}function PS(){var s=k0();return s===null?null:{parent:In._currentValue,pool:s}}var df=Error(r(460)),jS=Error(r(474)),Gm=Error(r(542)),D0={then:function(){}};function OS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Wm(){}function IS(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(Wm,Wm),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,kS(s),s;default:if(typeof o.status=="string")o.then(Wm,Wm);else{if(s=It,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,kS(s),s}throw ff=o,df}}var ff=null;function RS(){if(ff===null)throw Error(r(459));var s=ff;return ff=null,s}function kS(s){if(s===df||s===Gm)throw Error(r(483))}var xo=!1;function M0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function L0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function wo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function _o(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(gt&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=Bm(s),xS(s,null,c),o}return Um(s,h,o,c),Bm(s)}function hf(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Sa(s,c)}}function V0(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var v=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?v=w=O:w=w.next=O,c=c.next}while(c!==null);w===null?v=w=o:w=w.next=o}else v=w=o;c={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var U0=!1;function mf(){if(U0){var s=uu;if(s!==null)throw s}}function pf(s,o,c,h){U0=!1;var v=s.updateQueue;xo=!1;var w=v.firstBaseUpdate,O=v.lastBaseUpdate,D=v.shared.pending;if(D!==null){v.shared.pending=null;var q=D,J=q.next;q.next=null,O===null?w=J:O.next=J,O=q;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,D=ce.lastBaseUpdate,D!==O&&(D===null?ce.firstBaseUpdate=J:D.next=J,ce.lastBaseUpdate=q))}if(w!==null){var me=v.baseState;O=0,ce=J=q=null,D=w;do{var te=D.lane&-536870913,ne=te!==D.lane;if(ne?(at&te)===te:(h&te)===te){te!==0&&te===cu&&(U0=!0),ce!==null&&(ce=ce.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var ze=s,Me=D;te=o;var At=c;switch(Me.tag){case 1:if(ze=Me.payload,typeof ze=="function"){me=ze.call(At,me,te);break e}me=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Me.payload,te=typeof ze=="function"?ze.call(At,me,te):ze,te==null)break e;me=p({},me,te);break e;case 2:xo=!0}}te=D.callback,te!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ce===null?(J=ce=ne,q=me):ce=ce.next=ne,O|=te;if(D=D.next,D===null){if(D=v.shared.pending,D===null)break;ne=D,D=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);ce===null&&(q=me),v.baseState=q,v.firstBaseUpdate=J,v.lastBaseUpdate=ce,w===null&&(v.shared.lanes=0),jo|=O,s.lanes=O,s.memoizedState=me}}function DS(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function MS(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)DS(c[s],o)}var du=le(null),Ym=le(0);function LS(s,o){s=As,oe(Ym,s),oe(du,o),As=s|o.baseLanes}function B0(){oe(Ym,As),oe(du,du.current)}function z0(){As=Ym.current,ue(du),ue(Ym)}var Eo=0,Ye=null,_t=null,_n=null,Xm=!1,fu=!1,Wl=!1,Qm=0,gf=0,hu=null,G8=0;function dn(){throw Error(r(321))}function $0(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Yr(s[c],o[c]))return!1;return!0}function F0(s,o,c,h,v,w){return Eo=w,Ye=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=s===null||s.memoizedState===null?xT:wT,Wl=!1,w=c(h,v),Wl=!1,fu&&(w=US(o,c,h,v)),VS(s),w}function VS(s){G.H=rp;var o=_t!==null&&_t.next!==null;if(Eo=0,_n=_t=Ye=null,Xm=!1,gf=0,hu=null,o)throw Error(r(300));s===null||Fn||(s=s.dependencies,s!==null&&qm(s)&&(Fn=!0))}function US(s,o,c,h){Ye=s;var v=0;do{if(fu&&(hu=null),gf=0,fu=!1,25<=v)throw Error(r(301));if(v+=1,_n=_t=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}G.H=e7,w=o(c,h)}while(fu);return w}function W8(){var s=G.H,o=s.useState()[0];return o=typeof o.then=="function"?yf(o):o,s=s.useState()[0],(_t!==null?_t.memoizedState:null)!==s&&(Ye.flags|=1024),o}function q0(){var s=Qm!==0;return Qm=0,s}function H0(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function K0(s){if(Xm){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Xm=!1}Eo=0,_n=_t=Ye=null,fu=!1,gf=Qm=0,hu=null}function Dr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Ye.memoizedState=_n=s:_n=_n.next=s,_n}function En(){if(_t===null){var s=Ye.alternate;s=s!==null?s.memoizedState:null}else s=_t.next;var o=_n===null?Ye.memoizedState:_n.next;if(o!==null)_n=o,_t=s;else{if(s===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));_t=s,s={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},_n===null?Ye.memoizedState=_n=s:_n=_n.next=s}return _n}function G0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yf(s){var o=gf;return gf+=1,hu===null&&(hu=[]),s=IS(hu,s,o),o=Ye,(_n===null?o.memoizedState:_n.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?xT:wT),s}function Zm(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return yf(s);if(s.$$typeof===N)return dr(s)}throw Error(r(438,String(s)))}function W0(s){var o=null,c=Ye.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=Ye.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=G0(),Ye.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),h=0;h<s;h++)c[h]=$;return o.index++,c}function vs(s,o){return typeof o=="function"?o(s):o}function Jm(s){var o=En();return Y0(o,_t,s)}function Y0(s,o,c){var h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var v=s.baseQueue,w=h.pending;if(w!==null){if(v!==null){var O=v.next;v.next=w.next,w.next=O}o.baseQueue=v=w,h.pending=null}if(w=s.baseState,v===null)s.memoizedState=w;else{o=v.next;var D=O=null,q=null,J=o,ce=!1;do{var me=J.lane&-536870913;if(me!==J.lane?(at&me)===me:(Eo&me)===me){var te=J.revertLane;if(te===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),me===cu&&(ce=!0);else if((Eo&te)===te){J=J.next,te===cu&&(ce=!0);continue}else me={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(D=q=me,O=w):q=q.next=me,Ye.lanes|=te,jo|=te;me=J.action,Wl&&c(w,me),w=J.hasEagerState?J.eagerState:c(w,me)}else te={lane:me,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(D=q=te,O=w):q=q.next=te,Ye.lanes|=me,jo|=me;J=J.next}while(J!==null&&J!==o);if(q===null?O=w:q.next=D,!Yr(w,s.memoizedState)&&(Fn=!0,ce&&(c=uu,c!==null)))throw c;s.memoizedState=w,s.baseState=O,s.baseQueue=q,h.lastRenderedState=w}return v===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function X0(s){var o=En(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var h=c.dispatch,v=c.pending,w=o.memoizedState;if(v!==null){c.pending=null;var O=v=v.next;do w=s(w,O.action),O=O.next;while(O!==v);Yr(w,o.memoizedState)||(Fn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,h]}function BS(s,o,c){var h=Ye,v=En(),w=ft;if(w){if(c===void 0)throw Error(r(407));c=c()}else c=o();var O=!Yr((_t||v).memoizedState,c);O&&(v.memoizedState=c,Fn=!0),v=v.queue;var D=FS.bind(null,h,v,s);if(vf(2048,8,D,[s]),v.getSnapshot!==o||O||_n!==null&&_n.memoizedState.tag&1){if(h.flags|=2048,mu(9,ep(),$S.bind(null,h,v,c,o),null),It===null)throw Error(r(349));w||(Eo&124)!==0||zS(h,o,c)}return c}function zS(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Ye.updateQueue,o===null?(o=G0(),Ye.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function $S(s,o,c,h){o.value=c,o.getSnapshot=h,qS(o)&&HS(s)}function FS(s,o,c){return c(function(){qS(o)&&HS(s)})}function qS(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Yr(s,c)}catch{return!0}}function HS(s){var o=au(s,2);o!==null&&ti(o,s,2)}function Q0(s){var o=Dr();if(typeof s=="function"){var c=s;if(s=c(),Wl){Rr(!0);try{c()}finally{Rr(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:s},o}function KS(s,o,c,h){return s.baseState=c,Y0(s,_t,typeof h=="function"?h:vs)}function Y8(s,o,c,h,v){if(np(s))throw Error(r(485));if(s=o.action,s!==null){var w={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};G.T!==null?c(!0):w.isTransition=!1,h(w),c=o.pending,c===null?(w.next=o.pending=w,GS(o,w)):(w.next=c.next,o.pending=c.next=w)}}function GS(s,o){var c=o.action,h=o.payload,v=s.state;if(o.isTransition){var w=G.T,O={};G.T=O;try{var D=c(v,h),q=G.S;q!==null&&q(O,D),WS(s,o,D)}catch(J){Z0(s,o,J)}finally{G.T=w}}else try{w=c(v,h),WS(s,o,w)}catch(J){Z0(s,o,J)}}function WS(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){YS(s,o,h)},function(h){return Z0(s,o,h)}):YS(s,o,c)}function YS(s,o,c){o.status="fulfilled",o.value=c,XS(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,GS(s,c)))}function Z0(s,o,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,XS(o),o=o.next;while(o!==h)}s.action=null}function XS(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function QS(s,o){return o}function ZS(s,o){if(ft){var c=It.formState;if(c!==null){e:{var h=Ye;if(ft){if(sn){t:{for(var v=sn,w=Pa;v.nodeType!==8;){if(!w){v=null;break t}if(v=ia(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){sn=ia(v.nextSibling),h=v.data==="F!";break e}}ql(h)}h=!1}h&&(o=c[0])}}return c=Dr(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:QS,lastRenderedState:o},c.queue=h,c=yT.bind(null,Ye,h),h.dispatch=c,h=Q0(!1),w=rb.bind(null,Ye,!1,h.queue),h=Dr(),v={state:o,dispatch:null,action:s,pending:null},h.queue=v,c=Y8.bind(null,Ye,v,w,c),v.dispatch=c,h.memoizedState=s,[o,c,!1]}function JS(s){var o=En();return eT(o,_t,s)}function eT(s,o,c){if(o=Y0(s,o,QS)[0],s=Jm(vs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=yf(o)}catch(O){throw O===df?Gm:O}else h=o;o=En();var v=o.queue,w=v.dispatch;return c!==o.memoizedState&&(Ye.flags|=2048,mu(9,ep(),X8.bind(null,v,c),null)),[h,w,s]}function X8(s,o){s.action=o}function tT(s){var o=En(),c=_t;if(c!==null)return eT(o,c,s);En(),o=o.memoizedState,c=En();var h=c.queue.dispatch;return c.memoizedState=s,[o,h,!1]}function mu(s,o,c,h){return s={tag:s,create:c,deps:h,inst:o,next:null},o=Ye.updateQueue,o===null&&(o=G0(),Ye.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s),s}function ep(){return{destroy:void 0,resource:void 0}}function nT(){return En().memoizedState}function tp(s,o,c,h){var v=Dr();h=h===void 0?null:h,Ye.flags|=s,v.memoizedState=mu(1|o,ep(),c,h)}function vf(s,o,c,h){var v=En();h=h===void 0?null:h;var w=v.memoizedState.inst;_t!==null&&h!==null&&$0(h,_t.memoizedState.deps)?v.memoizedState=mu(o,w,c,h):(Ye.flags|=s,v.memoizedState=mu(1|o,w,c,h))}function rT(s,o){tp(8390656,8,s,o)}function iT(s,o){vf(2048,8,s,o)}function aT(s,o){return vf(4,2,s,o)}function sT(s,o){return vf(4,4,s,o)}function oT(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function lT(s,o,c){c=c!=null?c.concat([s]):null,vf(4,4,oT.bind(null,o,s),c)}function J0(){}function cT(s,o){var c=En();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&$0(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function uT(s,o){var c=En();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&$0(o,h[1]))return h[0];if(h=s(),Wl){Rr(!0);try{s()}finally{Rr(!1)}}return c.memoizedState=[h,o],h}function eb(s,o,c){return c===void 0||(Eo&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=hC(),Ye.lanes|=s,jo|=s,c)}function dT(s,o,c,h){return Yr(c,o)?c:du.current!==null?(s=eb(s,c,h),Yr(s,o)||(Fn=!0),s):(Eo&42)===0?(Fn=!0,s.memoizedState=c):(s=hC(),Ye.lanes|=s,jo|=s,o)}function fT(s,o,c,h,v){var w=W.p;W.p=w!==0&&8>w?w:8;var O=G.T,D={};G.T=D,rb(s,!1,o,c);try{var q=v(),J=G.S;if(J!==null&&J(D,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ce=K8(q,h);bf(s,o,ce,ei(s))}else bf(s,o,h,ei(s))}catch(me){bf(s,o,{then:function(){},status:"rejected",reason:me},ei())}finally{W.p=w,G.T=O}}function Q8(){}function tb(s,o,c,h){if(s.tag!==5)throw Error(r(476));var v=hT(s).queue;fT(s,v,o,ae,c===null?Q8:function(){return mT(s),c(h)})}function hT(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:ae},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function mT(s){var o=hT(s).next.queue;bf(s,o,{},ei())}function nb(){return dr(Lf)}function pT(){return En().memoizedState}function gT(){return En().memoizedState}function Z8(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=ei();s=wo(c);var h=_o(o,s,c);h!==null&&(ti(h,o,c),hf(h,o,c)),o={cache:I0()},s.payload=o;return}o=o.return}}function J8(s,o,c){var h=ei();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},np(s)?vT(o,c):(c=_0(s,o,c,h),c!==null&&(ti(c,s,h),bT(c,o,h)))}function yT(s,o,c){var h=ei();bf(s,o,c,h)}function bf(s,o,c,h){var v={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(np(s))vT(o,v);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var O=o.lastRenderedState,D=w(O,c);if(v.hasEagerState=!0,v.eagerState=D,Yr(D,O))return Um(s,o,v,0),It===null&&Vm(),!1}catch{}finally{}if(c=_0(s,o,v,h),c!==null)return ti(c,s,h),bT(c,o,h),!0}return!1}function rb(s,o,c,h){if(h={lane:2,revertLane:Db(),action:h,hasEagerState:!1,eagerState:null,next:null},np(s)){if(o)throw Error(r(479))}else o=_0(s,c,h,2),o!==null&&ti(o,s,2)}function np(s){var o=s.alternate;return s===Ye||o!==null&&o===Ye}function vT(s,o){fu=Xm=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function bT(s,o,c){if((c&4194048)!==0){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Sa(s,c)}}var rp={readContext:dr,use:Zm,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn},xT={readContext:dr,use:Zm,useCallback:function(s,o){return Dr().memoizedState=[s,o===void 0?null:o],s},useContext:dr,useEffect:rT,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,tp(4194308,4,oT.bind(null,o,s),c)},useLayoutEffect:function(s,o){return tp(4194308,4,s,o)},useInsertionEffect:function(s,o){tp(4,2,s,o)},useMemo:function(s,o){var c=Dr();o=o===void 0?null:o;var h=s();if(Wl){Rr(!0);try{s()}finally{Rr(!1)}}return c.memoizedState=[h,o],h},useReducer:function(s,o,c){var h=Dr();if(c!==void 0){var v=c(o);if(Wl){Rr(!0);try{c(o)}finally{Rr(!1)}}}else v=o;return h.memoizedState=h.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},h.queue=s,s=s.dispatch=J8.bind(null,Ye,s),[h.memoizedState,s]},useRef:function(s){var o=Dr();return s={current:s},o.memoizedState=s},useState:function(s){s=Q0(s);var o=s.queue,c=yT.bind(null,Ye,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:J0,useDeferredValue:function(s,o){var c=Dr();return eb(c,s,o)},useTransition:function(){var s=Q0(!1);return s=fT.bind(null,Ye,s.queue,!0,!1),Dr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var h=Ye,v=Dr();if(ft){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),It===null)throw Error(r(349));(at&124)!==0||zS(h,o,c)}v.memoizedState=c;var w={value:c,getSnapshot:o};return v.queue=w,rT(FS.bind(null,h,w,s),[s]),h.flags|=2048,mu(9,ep(),$S.bind(null,h,w,c,o),null),c},useId:function(){var s=Dr(),o=It.identifierPrefix;if(ft){var c=ps,h=ms;c=(h&~(1<<32-Zn(h)-1)).toString(32)+c,o="«"+o+"R"+c,c=Qm++,0<c&&(o+="H"+c.toString(32)),o+="»"}else c=G8++,o="«"+o+"r"+c.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:nb,useFormState:ZS,useActionState:ZS,useOptimistic:function(s){var o=Dr();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=rb.bind(null,Ye,!0,c),c.dispatch=o,[s,o]},useMemoCache:W0,useCacheRefresh:function(){return Dr().memoizedState=Z8.bind(null,Ye)}},wT={readContext:dr,use:Zm,useCallback:cT,useContext:dr,useEffect:iT,useImperativeHandle:lT,useInsertionEffect:aT,useLayoutEffect:sT,useMemo:uT,useReducer:Jm,useRef:nT,useState:function(){return Jm(vs)},useDebugValue:J0,useDeferredValue:function(s,o){var c=En();return dT(c,_t.memoizedState,s,o)},useTransition:function(){var s=Jm(vs)[0],o=En().memoizedState;return[typeof s=="boolean"?s:yf(s),o]},useSyncExternalStore:BS,useId:pT,useHostTransitionStatus:nb,useFormState:JS,useActionState:JS,useOptimistic:function(s,o){var c=En();return KS(c,_t,s,o)},useMemoCache:W0,useCacheRefresh:gT},e7={readContext:dr,use:Zm,useCallback:cT,useContext:dr,useEffect:iT,useImperativeHandle:lT,useInsertionEffect:aT,useLayoutEffect:sT,useMemo:uT,useReducer:X0,useRef:nT,useState:function(){return X0(vs)},useDebugValue:J0,useDeferredValue:function(s,o){var c=En();return _t===null?eb(c,s,o):dT(c,_t.memoizedState,s,o)},useTransition:function(){var s=X0(vs)[0],o=En().memoizedState;return[typeof s=="boolean"?s:yf(s),o]},useSyncExternalStore:BS,useId:pT,useHostTransitionStatus:nb,useFormState:tT,useActionState:tT,useOptimistic:function(s,o){var c=En();return _t!==null?KS(c,_t,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:W0,useCacheRefresh:gT},pu=null,xf=0;function ip(s){var o=xf;return xf+=1,pu===null&&(pu=[]),IS(pu,s,o)}function wf(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function ap(s,o){throw o.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function _T(s){var o=s._init;return o(s._payload)}function ET(s){function o(X,K){if(s){var Q=X.deletions;Q===null?(X.deletions=[K],X.flags|=16):Q.push(K)}}function c(X,K){if(!s)return null;for(;K!==null;)o(X,K),K=K.sibling;return null}function h(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function v(X,K){return X=hs(X,K),X.index=0,X.sibling=null,X}function w(X,K,Q){return X.index=Q,s?(Q=X.alternate,Q!==null?(Q=Q.index,Q<K?(X.flags|=67108866,K):Q):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function O(X){return s&&X.alternate===null&&(X.flags|=67108866),X}function D(X,K,Q,de){return K===null||K.tag!==6?(K=A0(Q,X.mode,de),K.return=X,K):(K=v(K,Q),K.return=X,K)}function q(X,K,Q,de){var Ce=Q.type;return Ce===A?ce(X,K,Q.props.children,de,Q.key):K!==null&&(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===I&&_T(Ce)===K.type)?(K=v(K,Q.props),wf(K,Q),K.return=X,K):(K=zm(Q.type,Q.key,Q.props,null,X.mode,de),wf(K,Q),K.return=X,K)}function J(X,K,Q,de){return K===null||K.tag!==4||K.stateNode.containerInfo!==Q.containerInfo||K.stateNode.implementation!==Q.implementation?(K=S0(Q,X.mode,de),K.return=X,K):(K=v(K,Q.children||[]),K.return=X,K)}function ce(X,K,Q,de,Ce){return K===null||K.tag!==7?(K=Bl(Q,X.mode,de,Ce),K.return=X,K):(K=v(K,Q),K.return=X,K)}function me(X,K,Q){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=A0(""+K,X.mode,Q),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return Q=zm(K.type,K.key,K.props,null,X.mode,Q),wf(Q,K),Q.return=X,Q;case x:return K=S0(K,X.mode,Q),K.return=X,K;case I:var de=K._init;return K=de(K._payload),me(X,K,Q)}if(ie(K)||F(K))return K=Bl(K,X.mode,Q,null),K.return=X,K;if(typeof K.then=="function")return me(X,ip(K),Q);if(K.$$typeof===N)return me(X,Hm(X,K),Q);ap(X,K)}return null}function te(X,K,Q,de){var Ce=K!==null?K.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ce!==null?null:D(X,K,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===Ce?q(X,K,Q,de):null;case x:return Q.key===Ce?J(X,K,Q,de):null;case I:return Ce=Q._init,Q=Ce(Q._payload),te(X,K,Q,de)}if(ie(Q)||F(Q))return Ce!==null?null:ce(X,K,Q,de,null);if(typeof Q.then=="function")return te(X,K,ip(Q),de);if(Q.$$typeof===N)return te(X,K,Hm(X,Q),de);ap(X,Q)}return null}function ne(X,K,Q,de,Ce){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return X=X.get(Q)||null,D(K,X,""+de,Ce);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case b:return X=X.get(de.key===null?Q:de.key)||null,q(K,X,de,Ce);case x:return X=X.get(de.key===null?Q:de.key)||null,J(K,X,de,Ce);case I:var Xe=de._init;return de=Xe(de._payload),ne(X,K,Q,de,Ce)}if(ie(de)||F(de))return X=X.get(Q)||null,ce(K,X,de,Ce,null);if(typeof de.then=="function")return ne(X,K,Q,ip(de),Ce);if(de.$$typeof===N)return ne(X,K,Q,Hm(K,de),Ce);ap(K,de)}return null}function ze(X,K,Q,de){for(var Ce=null,Xe=null,Oe=K,Ve=K=0,Hn=null;Oe!==null&&Ve<Q.length;Ve++){Oe.index>Ve?(Hn=Oe,Oe=null):Hn=Oe.sibling;var ct=te(X,Oe,Q[Ve],de);if(ct===null){Oe===null&&(Oe=Hn);break}s&&Oe&&ct.alternate===null&&o(X,Oe),K=w(ct,K,Ve),Xe===null?Ce=ct:Xe.sibling=ct,Xe=ct,Oe=Hn}if(Ve===Q.length)return c(X,Oe),ft&&$l(X,Ve),Ce;if(Oe===null){for(;Ve<Q.length;Ve++)Oe=me(X,Q[Ve],de),Oe!==null&&(K=w(Oe,K,Ve),Xe===null?Ce=Oe:Xe.sibling=Oe,Xe=Oe);return ft&&$l(X,Ve),Ce}for(Oe=h(Oe);Ve<Q.length;Ve++)Hn=ne(Oe,X,Ve,Q[Ve],de),Hn!==null&&(s&&Hn.alternate!==null&&Oe.delete(Hn.key===null?Ve:Hn.key),K=w(Hn,K,Ve),Xe===null?Ce=Hn:Xe.sibling=Hn,Xe=Hn);return s&&Oe.forEach(function(Uo){return o(X,Uo)}),ft&&$l(X,Ve),Ce}function Me(X,K,Q,de){if(Q==null)throw Error(r(151));for(var Ce=null,Xe=null,Oe=K,Ve=K=0,Hn=null,ct=Q.next();Oe!==null&&!ct.done;Ve++,ct=Q.next()){Oe.index>Ve?(Hn=Oe,Oe=null):Hn=Oe.sibling;var Uo=te(X,Oe,ct.value,de);if(Uo===null){Oe===null&&(Oe=Hn);break}s&&Oe&&Uo.alternate===null&&o(X,Oe),K=w(Uo,K,Ve),Xe===null?Ce=Uo:Xe.sibling=Uo,Xe=Uo,Oe=Hn}if(ct.done)return c(X,Oe),ft&&$l(X,Ve),Ce;if(Oe===null){for(;!ct.done;Ve++,ct=Q.next())ct=me(X,ct.value,de),ct!==null&&(K=w(ct,K,Ve),Xe===null?Ce=ct:Xe.sibling=ct,Xe=ct);return ft&&$l(X,Ve),Ce}for(Oe=h(Oe);!ct.done;Ve++,ct=Q.next())ct=ne(Oe,X,Ve,ct.value,de),ct!==null&&(s&&ct.alternate!==null&&Oe.delete(ct.key===null?Ve:ct.key),K=w(ct,K,Ve),Xe===null?Ce=ct:Xe.sibling=ct,Xe=ct);return s&&Oe.forEach(function(tV){return o(X,tV)}),ft&&$l(X,Ve),Ce}function At(X,K,Q,de){if(typeof Q=="object"&&Q!==null&&Q.type===A&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var Ce=Q.key;K!==null;){if(K.key===Ce){if(Ce=Q.type,Ce===A){if(K.tag===7){c(X,K.sibling),de=v(K,Q.props.children),de.return=X,X=de;break e}}else if(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===I&&_T(Ce)===K.type){c(X,K.sibling),de=v(K,Q.props),wf(de,Q),de.return=X,X=de;break e}c(X,K);break}else o(X,K);K=K.sibling}Q.type===A?(de=Bl(Q.props.children,X.mode,de,Q.key),de.return=X,X=de):(de=zm(Q.type,Q.key,Q.props,null,X.mode,de),wf(de,Q),de.return=X,X=de)}return O(X);case x:e:{for(Ce=Q.key;K!==null;){if(K.key===Ce)if(K.tag===4&&K.stateNode.containerInfo===Q.containerInfo&&K.stateNode.implementation===Q.implementation){c(X,K.sibling),de=v(K,Q.children||[]),de.return=X,X=de;break e}else{c(X,K);break}else o(X,K);K=K.sibling}de=S0(Q,X.mode,de),de.return=X,X=de}return O(X);case I:return Ce=Q._init,Q=Ce(Q._payload),At(X,K,Q,de)}if(ie(Q))return ze(X,K,Q,de);if(F(Q)){if(Ce=F(Q),typeof Ce!="function")throw Error(r(150));return Q=Ce.call(Q),Me(X,K,Q,de)}if(typeof Q.then=="function")return At(X,K,ip(Q),de);if(Q.$$typeof===N)return At(X,K,Hm(X,Q),de);ap(X,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,K!==null&&K.tag===6?(c(X,K.sibling),de=v(K,Q),de.return=X,X=de):(c(X,K),de=A0(Q,X.mode,de),de.return=X,X=de),O(X)):c(X,K)}return function(X,K,Q,de){try{xf=0;var Ce=At(X,K,Q,de);return pu=null,Ce}catch(Oe){if(Oe===df||Oe===Gm)throw Oe;var Xe=Xr(29,Oe,null,X.mode);return Xe.lanes=de,Xe.return=X,Xe}finally{}}}var gu=ET(!0),AT=ET(!1),Ni=le(null),ja=null;function Ao(s){var o=s.alternate;oe(Rn,Rn.current&1),oe(Ni,s),ja===null&&(o===null||du.current!==null||o.memoizedState!==null)&&(ja=s)}function ST(s){if(s.tag===22){if(oe(Rn,Rn.current),oe(Ni,s),ja===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(ja=s)}}else So()}function So(){oe(Rn,Rn.current),oe(Ni,Ni.current)}function bs(s){ue(Ni),ja===s&&(ja=null),ue(Rn)}var Rn=le(0);function sp(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Gb(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function ib(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:p({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var ab={enqueueSetState:function(s,o,c){s=s._reactInternals;var h=ei(),v=wo(h);v.payload=o,c!=null&&(v.callback=c),o=_o(s,v,h),o!==null&&(ti(o,s,h),hf(o,s,h))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=ei(),v=wo(h);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=_o(s,v,h),o!==null&&(ti(o,s,h),hf(o,s,h))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=ei(),h=wo(c);h.tag=2,o!=null&&(h.callback=o),o=_o(s,h,c),o!==null&&(ti(o,s,c),hf(o,s,c))}};function TT(s,o,c,h,v,w,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,w,O):o.prototype&&o.prototype.isPureReactComponent?!nf(c,h)||!nf(v,w):!0}function CT(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&ab.enqueueReplaceState(o,o.state,null)}function Yl(s,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(s=s.defaultProps){c===o&&(c=p({},c));for(var v in s)c[v]===void 0&&(c[v]=s[v])}return c}var op=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function NT(s){op(s)}function PT(s){console.error(s)}function jT(s){op(s)}function lp(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function OT(s,o,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function sb(s,o,c){return c=wo(c),c.tag=3,c.payload={element:null},c.callback=function(){lp(s,o)},c}function IT(s){return s=wo(s),s.tag=3,s}function RT(s,o,c,h){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var w=h.value;s.payload=function(){return v(w)},s.callback=function(){OT(o,c,h)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(s.callback=function(){OT(o,c,h),typeof v!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function t7(s,o,c,h,v){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&lf(o,c,v,!0),c=Ni.current,c!==null){switch(c.tag){case 13:return ja===null?jb():c.alternate===null&&on===0&&(on=3),c.flags&=-257,c.flags|=65536,c.lanes=v,h===D0?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),Ib(s,h,v)),!1;case 22:return c.flags|=65536,h===D0?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),Ib(s,h,v)),!1}throw Error(r(435,c.tag))}return Ib(s,h,v),jb(),!1}if(ft)return o=Ni.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==N0&&(s=Error(r(422),{cause:h}),of(Ai(s,c)))):(h!==N0&&(o=Error(r(423),{cause:h}),of(Ai(o,c))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,h=Ai(h,c),v=sb(s.stateNode,h,v),V0(s,v),on!==4&&(on=2)),!1;var w=Error(r(520),{cause:h});if(w=Ai(w,c),Nf===null?Nf=[w]:Nf.push(w),on!==4&&(on=2),o===null)return!0;h=Ai(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=v&-v,c.lanes|=s,s=sb(c.stateNode,h,s),V0(c,s),!1;case 1:if(o=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Oo===null||!Oo.has(w))))return c.flags|=65536,v&=-v,c.lanes|=v,v=IT(v),RT(v,s,c,h),V0(c,v),!1}c=c.return}while(c!==null);return!1}var kT=Error(r(461)),Fn=!1;function Jn(s,o,c,h){o.child=s===null?AT(o,null,c,h):gu(o,s.child,c,h)}function DT(s,o,c,h,v){c=c.render;var w=o.ref;if("ref"in h){var O={};for(var D in h)D!=="ref"&&(O[D]=h[D])}else O=h;return Kl(o),h=F0(s,o,c,O,w,v),D=q0(),s!==null&&!Fn?(H0(s,o,v),xs(s,o,v)):(ft&&D&&T0(o),o.flags|=1,Jn(s,o,h,v),o.child)}function MT(s,o,c,h,v){if(s===null){var w=c.type;return typeof w=="function"&&!E0(w)&&w.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=w,LT(s,o,w,h,v)):(s=zm(c.type,null,h,o,o.mode,v),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!mb(s,v)){var O=w.memoizedProps;if(c=c.compare,c=c!==null?c:nf,c(O,h)&&s.ref===o.ref)return xs(s,o,v)}return o.flags|=1,s=hs(w,h),s.ref=o.ref,s.return=o,o.child=s}function LT(s,o,c,h,v){if(s!==null){var w=s.memoizedProps;if(nf(w,h)&&s.ref===o.ref)if(Fn=!1,o.pendingProps=h=w,mb(s,v))(s.flags&131072)!==0&&(Fn=!0);else return o.lanes=s.lanes,xs(s,o,v)}return ob(s,o,c,h,v)}function VT(s,o,c){var h=o.pendingProps,v=h.children,w=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((o.flags&128)!==0){if(h=w!==null?w.baseLanes|c:c,s!==null){for(v=o.child=s.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;o.childLanes=w&~h}else o.childLanes=0,o.child=null;return UT(s,o,h,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Km(o,w!==null?w.cachePool:null),w!==null?LS(o,w):B0(),ST(o);else return o.lanes=o.childLanes=536870912,UT(s,o,w!==null?w.baseLanes|c:c,c)}else w!==null?(Km(o,w.cachePool),LS(o,w),So(),o.memoizedState=null):(s!==null&&Km(o,null),B0(),So());return Jn(s,o,v,c),o.child}function UT(s,o,c,h){var v=k0();return v=v===null?null:{parent:In._currentValue,pool:v},o.memoizedState={baseLanes:c,cachePool:v},s!==null&&Km(o,null),B0(),ST(o),s!==null&&lf(s,o,h,!0),null}function cp(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function ob(s,o,c,h,v){return Kl(o),c=F0(s,o,c,h,void 0,v),h=q0(),s!==null&&!Fn?(H0(s,o,v),xs(s,o,v)):(ft&&h&&T0(o),o.flags|=1,Jn(s,o,c,v),o.child)}function BT(s,o,c,h,v,w){return Kl(o),o.updateQueue=null,c=US(o,h,c,v),VS(s),h=q0(),s!==null&&!Fn?(H0(s,o,w),xs(s,o,w)):(ft&&h&&T0(o),o.flags|=1,Jn(s,o,c,w),o.child)}function zT(s,o,c,h,v){if(Kl(o),o.stateNode===null){var w=su,O=c.contextType;typeof O=="object"&&O!==null&&(w=dr(O)),w=new c(h,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=ab,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=h,w.state=o.memoizedState,w.refs={},M0(o),O=c.contextType,w.context=typeof O=="object"&&O!==null?dr(O):su,w.state=o.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(ib(o,c,O,h),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&ab.enqueueReplaceState(w,w.state,null),pf(o,h,w,v),mf(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(s===null){w=o.stateNode;var D=o.memoizedProps,q=Yl(c,D);w.props=q;var J=w.context,ce=c.contextType;O=su,typeof ce=="object"&&ce!==null&&(O=dr(ce));var me=c.getDerivedStateFromProps;ce=typeof me=="function"||typeof w.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,ce||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D||J!==O)&&CT(o,w,h,O),xo=!1;var te=o.memoizedState;w.state=te,pf(o,h,w,v),mf(),J=o.memoizedState,D||te!==J||xo?(typeof me=="function"&&(ib(o,c,me,h),J=o.memoizedState),(q=xo||TT(o,c,q,h,te,J,O))?(ce||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=J),w.props=h,w.state=J,w.context=O,h=q):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{w=o.stateNode,L0(s,o),O=o.memoizedProps,ce=Yl(c,O),w.props=ce,me=o.pendingProps,te=w.context,J=c.contextType,q=su,typeof J=="object"&&J!==null&&(q=dr(J)),D=c.getDerivedStateFromProps,(J=typeof D=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==me||te!==q)&&CT(o,w,h,q),xo=!1,te=o.memoizedState,w.state=te,pf(o,h,w,v),mf();var ne=o.memoizedState;O!==me||te!==ne||xo||s!==null&&s.dependencies!==null&&qm(s.dependencies)?(typeof D=="function"&&(ib(o,c,D,h),ne=o.memoizedState),(ce=xo||TT(o,c,ce,h,te,ne,q)||s!==null&&s.dependencies!==null&&qm(s.dependencies))?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ne,q),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ne,q)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ne),w.props=h,w.state=ne,w.context=q,h=ce):(typeof w.componentDidUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),h=!1)}return w=h,cp(s,o),h=(o.flags&128)!==0,w||h?(w=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,s!==null&&h?(o.child=gu(o,s.child,null,v),o.child=gu(o,null,c,v)):Jn(s,o,c,v),o.memoizedState=w.state,s=o.child):s=xs(s,o,v),s}function $T(s,o,c,h){return sf(),o.flags|=256,Jn(s,o,c,h),o.child}var lb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cb(s){return{baseLanes:s,cachePool:PS()}}function ub(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=Pi),s}function FT(s,o,c){var h=o.pendingProps,v=!1,w=(o.flags&128)!==0,O;if((O=w)||(O=s!==null&&s.memoizedState===null?!1:(Rn.current&2)!==0),O&&(v=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,s===null){if(ft){if(v?Ao(o):So(),ft){var D=sn,q;if(q=D){e:{for(q=D,D=Pa;q.nodeType!==8;){if(!D){D=null;break e}if(q=ia(q.nextSibling),q===null){D=null;break e}}D=q}D!==null?(o.memoizedState={dehydrated:D,treeContext:zl!==null?{id:ms,overflow:ps}:null,retryLane:536870912,hydrationErrors:null},q=Xr(18,null,null,0),q.stateNode=D,q.return=o,o.child=q,Nr=o,sn=null,q=!0):q=!1}q||ql(o)}if(D=o.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Gb(D)?o.lanes=32:o.lanes=536870912,null;bs(o)}return D=h.children,h=h.fallback,v?(So(),v=o.mode,D=up({mode:"hidden",children:D},v),h=Bl(h,v,c,null),D.return=o,h.return=o,D.sibling=h,o.child=D,v=o.child,v.memoizedState=cb(c),v.childLanes=ub(s,O,c),o.memoizedState=lb,h):(Ao(o),db(o,D))}if(q=s.memoizedState,q!==null&&(D=q.dehydrated,D!==null)){if(w)o.flags&256?(Ao(o),o.flags&=-257,o=fb(s,o,c)):o.memoizedState!==null?(So(),o.child=s.child,o.flags|=128,o=null):(So(),v=h.fallback,D=o.mode,h=up({mode:"visible",children:h.children},D),v=Bl(v,D,c,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,gu(o,s.child,null,c),h=o.child,h.memoizedState=cb(c),h.childLanes=ub(s,O,c),o.memoizedState=lb,o=v);else if(Ao(o),Gb(D)){if(O=D.nextSibling&&D.nextSibling.dataset,O)var J=O.dgst;O=J,h=Error(r(419)),h.stack="",h.digest=O,of({value:h,source:null,stack:null}),o=fb(s,o,c)}else if(Fn||lf(s,o,c,!1),O=(c&s.childLanes)!==0,Fn||O){if(O=It,O!==null&&(h=c&-c,h=(h&42)!==0?1:co(h),h=(h&(O.suspendedLanes|c))!==0?0:h,h!==0&&h!==q.retryLane))throw q.retryLane=h,au(s,h),ti(O,s,h),kT;D.data==="$?"||jb(),o=fb(s,o,c)}else D.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=q.treeContext,sn=ia(D.nextSibling),Nr=o,ft=!0,Fl=null,Pa=!1,s!==null&&(Ti[Ci++]=ms,Ti[Ci++]=ps,Ti[Ci++]=zl,ms=s.id,ps=s.overflow,zl=o),o=db(o,h.children),o.flags|=4096);return o}return v?(So(),v=h.fallback,D=o.mode,q=s.child,J=q.sibling,h=hs(q,{mode:"hidden",children:h.children}),h.subtreeFlags=q.subtreeFlags&65011712,J!==null?v=hs(J,v):(v=Bl(v,D,c,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,D=s.child.memoizedState,D===null?D=cb(c):(q=D.cachePool,q!==null?(J=In._currentValue,q=q.parent!==J?{parent:J,pool:J}:q):q=PS(),D={baseLanes:D.baseLanes|c,cachePool:q}),v.memoizedState=D,v.childLanes=ub(s,O,c),o.memoizedState=lb,h):(Ao(o),c=s.child,s=c.sibling,c=hs(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,s!==null&&(O=o.deletions,O===null?(o.deletions=[s],o.flags|=16):O.push(s)),o.child=c,o.memoizedState=null,c)}function db(s,o){return o=up({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function up(s,o){return s=Xr(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function fb(s,o,c){return gu(o,s.child,null,c),s=db(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function qT(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),j0(s.return,o,c)}function hb(s,o,c,h,v){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:v}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=c,w.tailMode=v)}function HT(s,o,c){var h=o.pendingProps,v=h.revealOrder,w=h.tail;if(Jn(s,o,h.children,c),h=Rn.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&qT(s,c,o);else if(s.tag===19)qT(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(oe(Rn,h),v){case"forwards":for(c=o.child,v=null;c!==null;)s=c.alternate,s!==null&&sp(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),hb(o,!1,v,c,w);break;case"backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(s=v.alternate,s!==null&&sp(s)===null){o.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}hb(o,!0,c,null,w);break;case"together":hb(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function xs(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),jo|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(lf(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,c=hs(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=hs(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function mb(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&qm(s)))}function n7(s,o,c){switch(o.tag){case 3:lt(o,o.stateNode.containerInfo),bo(o,In,s.memoizedState.cache),sf();break;case 27:case 5:$e(o);break;case 4:lt(o,o.stateNode.containerInfo);break;case 10:bo(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(Ao(o),o.flags|=128,null):(c&o.child.childLanes)!==0?FT(s,o,c):(Ao(o),s=xs(s,o,c),s!==null?s.sibling:null);Ao(o);break;case 19:var v=(s.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(lf(s,o,c,!1),h=(c&o.childLanes)!==0),v){if(h)return HT(s,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),oe(Rn,Rn.current),h)break;return null;case 22:case 23:return o.lanes=0,VT(s,o,c);case 24:bo(o,In,s.memoizedState.cache)}return xs(s,o,c)}function KT(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)Fn=!0;else{if(!mb(s,c)&&(o.flags&128)===0)return Fn=!1,n7(s,o,c);Fn=(s.flags&131072)!==0}else Fn=!1,ft&&(o.flags&1048576)!==0&&_S(o,Fm,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var h=o.elementType,v=h._init;if(h=v(h._payload),o.type=h,typeof h=="function")E0(h)?(s=Yl(h,s),o.tag=1,o=zT(null,o,h,s,c)):(o.tag=0,o=ob(null,o,h,s,c));else{if(h!=null){if(v=h.$$typeof,v===L){o.tag=11,o=DT(null,o,h,s,c);break e}else if(v===R){o.tag=14,o=MT(null,o,h,s,c);break e}}throw o=ve(h)||h,Error(r(306,o,""))}}return o;case 0:return ob(s,o,o.type,o.pendingProps,c);case 1:return h=o.type,v=Yl(h,o.pendingProps),zT(s,o,h,v,c);case 3:e:{if(lt(o,o.stateNode.containerInfo),s===null)throw Error(r(387));h=o.pendingProps;var w=o.memoizedState;v=w.element,L0(s,o),pf(o,h,null,c);var O=o.memoizedState;if(h=O.cache,bo(o,In,h),h!==w.cache&&O0(o,[In],c,!0),mf(),h=O.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=$T(s,o,h,c);break e}else if(h!==v){v=Ai(Error(r(424)),o),of(v),o=$T(s,o,h,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(sn=ia(s.firstChild),Nr=o,ft=!0,Fl=null,Pa=!0,c=AT(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(sf(),h===v){o=xs(s,o,c);break e}Jn(s,o,h,c)}o=o.child}return o;case 26:return cp(s,o),s===null?(c=XC(o.type,null,o.pendingProps,null))?o.memoizedState=c:ft||(c=o.type,s=o.pendingProps,h=Ap(we.current).createElement(c),h[Zt]=o,h[jn]=s,tr(h,c,s),en(h),o.stateNode=h):o.memoizedState=XC(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return $e(o),s===null&&ft&&(h=o.stateNode=GC(o.type,o.pendingProps,we.current),Nr=o,Pa=!0,v=sn,ko(o.type)?(Wb=v,sn=ia(h.firstChild)):sn=v),Jn(s,o,o.pendingProps.children,c),cp(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&ft&&((v=h=sn)&&(h=j7(h,o.type,o.pendingProps,Pa),h!==null?(o.stateNode=h,Nr=o,sn=ia(h.firstChild),Pa=!1,v=!0):v=!1),v||ql(o)),$e(o),v=o.type,w=o.pendingProps,O=s!==null?s.memoizedProps:null,h=w.children,qb(v,w)?h=null:O!==null&&qb(v,O)&&(o.flags|=32),o.memoizedState!==null&&(v=F0(s,o,W8,null,null,c),Lf._currentValue=v),cp(s,o),Jn(s,o,h,c),o.child;case 6:return s===null&&ft&&((s=c=sn)&&(c=O7(c,o.pendingProps,Pa),c!==null?(o.stateNode=c,Nr=o,sn=null,s=!0):s=!1),s||ql(o)),null;case 13:return FT(s,o,c);case 4:return lt(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=gu(o,null,h,c):Jn(s,o,h,c),o.child;case 11:return DT(s,o,o.type,o.pendingProps,c);case 7:return Jn(s,o,o.pendingProps,c),o.child;case 8:return Jn(s,o,o.pendingProps.children,c),o.child;case 12:return Jn(s,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,bo(o,o.type,h.value),Jn(s,o,h.children,c),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,Kl(o),v=dr(v),h=h(v),o.flags|=1,Jn(s,o,h,c),o.child;case 14:return MT(s,o,o.type,o.pendingProps,c);case 15:return LT(s,o,o.type,o.pendingProps,c);case 19:return HT(s,o,c);case 31:return h=o.pendingProps,c=o.mode,h={mode:h.mode,children:h.children},s===null?(c=up(h,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=hs(s.child,h),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return VT(s,o,c);case 24:return Kl(o),h=dr(In),s===null?(v=k0(),v===null&&(v=It,w=I0(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=c),v=w),o.memoizedState={parent:h,cache:v},M0(o),bo(o,In,v)):((s.lanes&c)!==0&&(L0(s,o),pf(o,null,null,c),mf()),v=s.memoizedState,w=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),bo(o,In,h)):(h=w.cache,bo(o,In,h),h!==v.cache&&O0(o,[In],c,!0))),Jn(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ws(s){s.flags|=4}function GT(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!tN(o)){if(o=Ni.current,o!==null&&((at&4194048)===at?ja!==null:(at&62914560)!==at&&(at&536870912)===0||o!==ja))throw ff=D0,jS;s.flags|=8192}}function dp(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Ea():536870912,s.lanes|=o,xu|=o)}function _f(s,o){if(!ft)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function nn(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function r7(s,o,c){var h=o.pendingProps;switch(C0(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(o),null;case 1:return nn(o),null;case 3:return c=o.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ys(In),Ee(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(af(o)?ws(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,SS())),nn(o),null;case 26:return c=o.memoizedState,s===null?(ws(o),c!==null?(nn(o),GT(o,c)):(nn(o),o.flags&=-16777217)):c?c!==s.memoizedState?(ws(o),nn(o),GT(o,c)):(nn(o),o.flags&=-16777217):(s.memoizedProps!==h&&ws(o),nn(o),o.flags&=-16777217),null;case 27:Ke(o),c=we.current;var v=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==h&&ws(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return nn(o),null}s=he.current,af(o)?ES(o):(s=GC(v,h,c),o.stateNode=s,ws(o))}return nn(o),null;case 5:if(Ke(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&ws(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return nn(o),null}if(s=he.current,af(o))ES(o);else{switch(v=Ap(we.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?v.createElement("select",{is:h.is}):v.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?v.createElement(c,{is:h.is}):v.createElement(c)}}s[Zt]=o,s[jn]=h;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=s;e:switch(tr(s,c,h),c){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ws(o)}}return nn(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==h&&ws(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(s=we.current,af(o)){if(s=o.stateNode,c=o.memoizedProps,h=null,v=Nr,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}s[Zt]=o,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||BC(s.nodeValue,c)),s||ql(o)}else s=Ap(s).createTextNode(h),s[Zt]=o,o.stateNode=s}return nn(o),null;case 13:if(h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=af(o),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Zt]=o}else sf(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;nn(o),v=!1}else v=SS(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(bs(o),o):(bs(o),null)}if(bs(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=h!==null,s=s!==null&&s.memoizedState!==null,c){h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool);var w=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==v&&(h.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),dp(o,o.updateQueue),nn(o),null;case 4:return Ee(),s===null&&Ub(o.stateNode.containerInfo),nn(o),null;case 10:return ys(o.type),nn(o),null;case 19:if(ue(Rn),v=o.memoizedState,v===null)return nn(o),null;if(h=(o.flags&128)!==0,w=v.rendering,w===null)if(h)_f(v,!1);else{if(on!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(w=sp(s),w!==null){for(o.flags|=128,_f(v,!1),s=w.updateQueue,o.updateQueue=s,dp(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)wS(c,s),c=c.sibling;return oe(Rn,Rn.current&1|2),o.child}s=s.sibling}v.tail!==null&&Lt()>mp&&(o.flags|=128,h=!0,_f(v,!1),o.lanes=4194304)}else{if(!h)if(s=sp(w),s!==null){if(o.flags|=128,h=!0,s=s.updateQueue,o.updateQueue=s,dp(o,s),_f(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!ft)return nn(o),null}else 2*Lt()-v.renderingStartTime>mp&&c!==536870912&&(o.flags|=128,h=!0,_f(v,!1),o.lanes=4194304);v.isBackwards?(w.sibling=o.child,o.child=w):(s=v.last,s!==null?s.sibling=w:o.child=w,v.last=w)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Lt(),o.sibling=null,s=Rn.current,oe(Rn,h?s&1|2:s&1),o):(nn(o),null);case 22:case 23:return bs(o),z0(),h=o.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(nn(o),o.subtreeFlags&6&&(o.flags|=8192)):nn(o),c=o.updateQueue,c!==null&&dp(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),s!==null&&ue(Gl),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ys(In),nn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function i7(s,o){switch(C0(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ys(In),Ee(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Ke(o),null;case 13:if(bs(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));sf()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ue(Rn),null;case 4:return Ee(),null;case 10:return ys(o.type),null;case 22:case 23:return bs(o),z0(),s!==null&&ue(Gl),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return ys(In),null;case 25:return null;default:return null}}function WT(s,o){switch(C0(o),o.tag){case 3:ys(In),Ee();break;case 26:case 27:case 5:Ke(o);break;case 4:Ee();break;case 13:bs(o);break;case 19:ue(Rn);break;case 10:ys(o.type);break;case 22:case 23:bs(o),z0(),s!==null&&ue(Gl);break;case 24:ys(In)}}function Ef(s,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var v=h.next;c=v;do{if((c.tag&s)===s){h=void 0;var w=c.create,O=c.inst;h=w(),O.destroy=h}c=c.next}while(c!==v)}}catch(D){Nt(o,o.return,D)}}function To(s,o,c){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var w=v.next;h=w;do{if((h.tag&s)===s){var O=h.inst,D=O.destroy;if(D!==void 0){O.destroy=void 0,v=o;var q=c,J=D;try{J()}catch(ce){Nt(v,q,ce)}}}h=h.next}while(h!==w)}}catch(ce){Nt(o,o.return,ce)}}function YT(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{MS(o,c)}catch(h){Nt(s,s.return,h)}}}function XT(s,o,c){c.props=Yl(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){Nt(s,o,h)}}function Af(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(v){Nt(s,o,v)}}function Oa(s,o){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(v){Nt(s,o,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Nt(s,o,v)}else c.current=null}function QT(s){var o=s.type,c=s.memoizedProps,h=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(v){Nt(s,s.return,v)}}function pb(s,o,c){try{var h=s.stateNode;S7(h,s.type,c,o),h[jn]=o}catch(v){Nt(s,s.return,v)}}function ZT(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ko(s.type)||s.tag===4}function gb(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ZT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ko(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function yb(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Ep));else if(h!==4&&(h===27&&ko(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(yb(s,o,c),s=s.sibling;s!==null;)yb(s,o,c),s=s.sibling}function fp(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(h===27&&ko(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(fp(s,o,c),s=s.sibling;s!==null;)fp(s,o,c),s=s.sibling}function JT(s){var o=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);tr(o,h,c),o[Zt]=s,o[jn]=c}catch(w){Nt(s,s.return,w)}}var _s=!1,fn=!1,vb=!1,eC=typeof WeakSet=="function"?WeakSet:Set,qn=null;function a7(s,o){if(s=s.containerInfo,$b=jp,s=dS(s),g0(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var v=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var O=0,D=-1,q=-1,J=0,ce=0,me=s,te=null;t:for(;;){for(var ne;me!==c||v!==0&&me.nodeType!==3||(D=O+v),me!==w||h!==0&&me.nodeType!==3||(q=O+h),me.nodeType===3&&(O+=me.nodeValue.length),(ne=me.firstChild)!==null;)te=me,me=ne;for(;;){if(me===s)break t;if(te===c&&++J===v&&(D=O),te===w&&++ce===h&&(q=O),(ne=me.nextSibling)!==null)break;me=te,te=me.parentNode}me=ne}c=D===-1||q===-1?null:{start:D,end:q}}else c=null}c=c||{start:0,end:0}}else c=null;for(Fb={focusedElem:s,selectionRange:c},jp=!1,qn=o;qn!==null;)if(o=qn,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,qn=s;else for(;qn!==null;){switch(o=qn,w=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,c=o,v=w.memoizedProps,w=w.memoizedState,h=c.stateNode;try{var ze=Yl(c.type,v,c.elementType===c.type);s=h.getSnapshotBeforeUpdate(ze,w),h.__reactInternalSnapshotBeforeUpdate=s}catch(Me){Nt(c,c.return,Me)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)Kb(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Kb(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,qn=s;break}qn=o.return}}function tC(s,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Co(s,c),h&4&&Ef(5,c);break;case 1:if(Co(s,c),h&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(O){Nt(c,c.return,O)}else{var v=Yl(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(v,o,s.__reactInternalSnapshotBeforeUpdate)}catch(O){Nt(c,c.return,O)}}h&64&&YT(c),h&512&&Af(c,c.return);break;case 3:if(Co(s,c),h&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{MS(s,o)}catch(O){Nt(c,c.return,O)}}break;case 27:o===null&&h&4&&JT(c);case 26:case 5:Co(s,c),o===null&&h&4&&QT(c),h&512&&Af(c,c.return);break;case 12:Co(s,c);break;case 13:Co(s,c),h&4&&iC(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=m7.bind(null,c),I7(s,c))));break;case 22:if(h=c.memoizedState!==null||_s,!h){o=o!==null&&o.memoizedState!==null||fn,v=_s;var w=fn;_s=h,(fn=o)&&!w?No(s,c,(c.subtreeFlags&8772)!==0):Co(s,c),_s=v,fn=w}break;case 30:break;default:Co(s,c)}}function nC(s){var o=s.alternate;o!==null&&(s.alternate=null,nC(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Xi(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ft=null,Mr=!1;function Es(s,o,c){for(c=c.child;c!==null;)rC(s,o,c),c=c.sibling}function rC(s,o,c){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Kr,c)}catch{}switch(c.tag){case 26:fn||Oa(c,o),Es(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:fn||Oa(c,o);var h=Ft,v=Mr;ko(c.type)&&(Ft=c.stateNode,Mr=!1),Es(s,o,c),Rf(c.stateNode),Ft=h,Mr=v;break;case 5:fn||Oa(c,o);case 6:if(h=Ft,v=Mr,Ft=null,Es(s,o,c),Ft=h,Mr=v,Ft!==null)if(Mr)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(c.stateNode)}catch(w){Nt(c,o,w)}else try{Ft.removeChild(c.stateNode)}catch(w){Nt(c,o,w)}break;case 18:Ft!==null&&(Mr?(s=Ft,HC(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),zf(s)):HC(Ft,c.stateNode));break;case 4:h=Ft,v=Mr,Ft=c.stateNode.containerInfo,Mr=!0,Es(s,o,c),Ft=h,Mr=v;break;case 0:case 11:case 14:case 15:fn||To(2,c,o),fn||To(4,c,o),Es(s,o,c);break;case 1:fn||(Oa(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&XT(c,o,h)),Es(s,o,c);break;case 21:Es(s,o,c);break;case 22:fn=(h=fn)||c.memoizedState!==null,Es(s,o,c),fn=h;break;default:Es(s,o,c)}}function iC(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{zf(s)}catch(c){Nt(o,o.return,c)}}function s7(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new eC),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new eC),o;default:throw Error(r(435,s.tag))}}function bb(s,o){var c=s7(s);o.forEach(function(h){var v=p7.bind(null,s,h);c.has(h)||(c.add(h),h.then(v,v))})}function Qr(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var v=c[h],w=s,O=o,D=O;e:for(;D!==null;){switch(D.tag){case 27:if(ko(D.type)){Ft=D.stateNode,Mr=!1;break e}break;case 5:Ft=D.stateNode,Mr=!1;break e;case 3:case 4:Ft=D.stateNode.containerInfo,Mr=!0;break e}D=D.return}if(Ft===null)throw Error(r(160));rC(w,O,v),Ft=null,Mr=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)aC(o,s),o=o.sibling}var ra=null;function aC(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Qr(o,s),Zr(s),h&4&&(To(3,s,s.return),Ef(3,s),To(5,s,s.return));break;case 1:Qr(o,s),Zr(s),h&512&&(fn||c===null||Oa(c,c.return)),h&64&&_s&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var v=ra;if(Qr(o,s),Zr(s),h&512&&(fn||c===null||Oa(c,c.return)),h&4){var w=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){e:{h=s.type,c=s.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":w=v.getElementsByTagName("title")[0],(!w||w[lr]||w[Zt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(h),v.head.insertBefore(w,v.querySelector("head > title"))),tr(w,h,c),w[Zt]=s,en(w),h=w;break e;case"link":var O=JC("link","href",v).get(h+(c.href||""));if(O){for(var D=0;D<O.length;D++)if(w=O[D],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(D,1);break t}}w=v.createElement(h),tr(w,h,c),v.head.appendChild(w);break;case"meta":if(O=JC("meta","content",v).get(h+(c.content||""))){for(D=0;D<O.length;D++)if(w=O[D],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(D,1);break t}}w=v.createElement(h),tr(w,h,c),v.head.appendChild(w);break;default:throw Error(r(468,h))}w[Zt]=s,en(w),h=w}s.stateNode=h}else eN(v,s.type,s.stateNode);else s.stateNode=ZC(v,h,s.memoizedProps);else w!==h?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,h===null?eN(v,s.type,s.stateNode):ZC(v,h,s.memoizedProps)):h===null&&s.stateNode!==null&&pb(s,s.memoizedProps,c.memoizedProps)}break;case 27:Qr(o,s),Zr(s),h&512&&(fn||c===null||Oa(c,c.return)),c!==null&&h&4&&pb(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Qr(o,s),Zr(s),h&512&&(fn||c===null||Oa(c,c.return)),s.flags&32){v=s.stateNode;try{_i(v,"")}catch(ne){Nt(s,s.return,ne)}}h&4&&s.stateNode!=null&&(v=s.memoizedProps,pb(s,v,c!==null?c.memoizedProps:v)),h&1024&&(vb=!0);break;case 6:if(Qr(o,s),Zr(s),h&4){if(s.stateNode===null)throw Error(r(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(ne){Nt(s,s.return,ne)}}break;case 3:if(Cp=null,v=ra,ra=Sp(o.containerInfo),Qr(o,s),ra=v,Zr(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{zf(o.containerInfo)}catch(ne){Nt(s,s.return,ne)}vb&&(vb=!1,sC(s));break;case 4:h=ra,ra=Sp(s.stateNode.containerInfo),Qr(o,s),Zr(s),ra=h;break;case 12:Qr(o,s),Zr(s);break;case 13:Qr(o,s),Zr(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Sb=Lt()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,bb(s,h)));break;case 22:v=s.memoizedState!==null;var q=c!==null&&c.memoizedState!==null,J=_s,ce=fn;if(_s=J||v,fn=ce||q,Qr(o,s),fn=ce,_s=J,Zr(s),h&8192)e:for(o=s.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(c===null||q||_s||fn||Xl(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){q=c=o;try{if(w=q.stateNode,v)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{D=q.stateNode;var me=q.memoizedProps.style,te=me!=null&&me.hasOwnProperty("display")?me.display:null;D.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){Nt(q,q.return,ne)}}}else if(o.tag===6){if(c===null){q=o;try{q.stateNode.nodeValue=v?"":q.memoizedProps}catch(ne){Nt(q,q.return,ne)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,bb(s,c))));break;case 19:Qr(o,s),Zr(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,bb(s,h)));break;case 30:break;case 21:break;default:Qr(o,s),Zr(s)}}function Zr(s){var o=s.flags;if(o&2){try{for(var c,h=s.return;h!==null;){if(ZT(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,w=gb(s);fp(s,w,v);break;case 5:var O=c.stateNode;c.flags&32&&(_i(O,""),c.flags&=-33);var D=gb(s);fp(s,D,O);break;case 3:case 4:var q=c.stateNode.containerInfo,J=gb(s);yb(s,J,q);break;default:throw Error(r(161))}}catch(ce){Nt(s,s.return,ce)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function sC(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;sC(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Co(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)tC(s,o.alternate,o),o=o.sibling}function Xl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:To(4,o,o.return),Xl(o);break;case 1:Oa(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&XT(o,o.return,c),Xl(o);break;case 27:Rf(o.stateNode);case 26:case 5:Oa(o,o.return),Xl(o);break;case 22:o.memoizedState===null&&Xl(o);break;case 30:Xl(o);break;default:Xl(o)}s=s.sibling}}function No(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=s,w=o,O=w.flags;switch(w.tag){case 0:case 11:case 15:No(v,w,c),Ef(4,w);break;case 1:if(No(v,w,c),h=w,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(J){Nt(h,h.return,J)}if(h=w,v=h.updateQueue,v!==null){var D=h.stateNode;try{var q=v.shared.hiddenCallbacks;if(q!==null)for(v.shared.hiddenCallbacks=null,v=0;v<q.length;v++)DS(q[v],D)}catch(J){Nt(h,h.return,J)}}c&&O&64&&YT(w),Af(w,w.return);break;case 27:JT(w);case 26:case 5:No(v,w,c),c&&h===null&&O&4&&QT(w),Af(w,w.return);break;case 12:No(v,w,c);break;case 13:No(v,w,c),c&&O&4&&iC(v,w);break;case 22:w.memoizedState===null&&No(v,w,c),Af(w,w.return);break;case 30:break;default:No(v,w,c)}o=o.sibling}}function xb(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&cf(c))}function wb(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&cf(s))}function Ia(s,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)oC(s,o,c,h),o=o.sibling}function oC(s,o,c,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Ia(s,o,c,h),v&2048&&Ef(9,o);break;case 1:Ia(s,o,c,h);break;case 3:Ia(s,o,c,h),v&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&cf(s)));break;case 12:if(v&2048){Ia(s,o,c,h),s=o.stateNode;try{var w=o.memoizedProps,O=w.id,D=w.onPostCommit;typeof D=="function"&&D(O,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(q){Nt(o,o.return,q)}}else Ia(s,o,c,h);break;case 13:Ia(s,o,c,h);break;case 23:break;case 22:w=o.stateNode,O=o.alternate,o.memoizedState!==null?w._visibility&2?Ia(s,o,c,h):Sf(s,o):w._visibility&2?Ia(s,o,c,h):(w._visibility|=2,yu(s,o,c,h,(o.subtreeFlags&10256)!==0)),v&2048&&xb(O,o);break;case 24:Ia(s,o,c,h),v&2048&&wb(o.alternate,o);break;default:Ia(s,o,c,h)}}function yu(s,o,c,h,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=s,O=o,D=c,q=h,J=O.flags;switch(O.tag){case 0:case 11:case 15:yu(w,O,D,q,v),Ef(8,O);break;case 23:break;case 22:var ce=O.stateNode;O.memoizedState!==null?ce._visibility&2?yu(w,O,D,q,v):Sf(w,O):(ce._visibility|=2,yu(w,O,D,q,v)),v&&J&2048&&xb(O.alternate,O);break;case 24:yu(w,O,D,q,v),v&&J&2048&&wb(O.alternate,O);break;default:yu(w,O,D,q,v)}o=o.sibling}}function Sf(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,h=o,v=h.flags;switch(h.tag){case 22:Sf(c,h),v&2048&&xb(h.alternate,h);break;case 24:Sf(c,h),v&2048&&wb(h.alternate,h);break;default:Sf(c,h)}o=o.sibling}}var Tf=8192;function vu(s){if(s.subtreeFlags&Tf)for(s=s.child;s!==null;)lC(s),s=s.sibling}function lC(s){switch(s.tag){case 26:vu(s),s.flags&Tf&&s.memoizedState!==null&&H7(ra,s.memoizedState,s.memoizedProps);break;case 5:vu(s);break;case 3:case 4:var o=ra;ra=Sp(s.stateNode.containerInfo),vu(s),ra=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Tf,Tf=16777216,vu(s),Tf=o):vu(s));break;default:vu(s)}}function cC(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Cf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];qn=h,dC(h,s)}cC(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)uC(s),s=s.sibling}function uC(s){switch(s.tag){case 0:case 11:case 15:Cf(s),s.flags&2048&&To(9,s,s.return);break;case 3:Cf(s);break;case 12:Cf(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,hp(s)):Cf(s);break;default:Cf(s)}}function hp(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];qn=h,dC(h,s)}cC(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:To(8,o,o.return),hp(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,hp(o));break;default:hp(o)}s=s.sibling}}function dC(s,o){for(;qn!==null;){var c=qn;switch(c.tag){case 0:case 11:case 15:To(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:cf(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,qn=h;else e:for(c=s;qn!==null;){h=qn;var v=h.sibling,w=h.return;if(nC(h),h===c){qn=null;break e}if(v!==null){v.return=w,qn=v;break e}qn=w}}}var o7={getCacheForType:function(s){var o=dr(In),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},l7=typeof WeakMap=="function"?WeakMap:Map,gt=0,It=null,Qe=null,at=0,yt=0,Jr=null,Po=!1,bu=!1,_b=!1,As=0,on=0,jo=0,Ql=0,Eb=0,Pi=0,xu=0,Nf=null,Lr=null,Ab=!1,Sb=0,mp=1/0,pp=null,Oo=null,er=0,Io=null,wu=null,_u=0,Tb=0,Cb=null,fC=null,Pf=0,Nb=null;function ei(){if((gt&2)!==0&&at!==0)return at&-at;if(G.T!==null){var s=cu;return s!==0?s:Db()}return Yi()}function hC(){Pi===0&&(Pi=(at&536870912)===0||ft?oo():536870912);var s=Ni.current;return s!==null&&(s.flags|=32),Pi}function ti(s,o,c){(s===It&&(yt===2||yt===9)||s.cancelPendingCommit!==null)&&(Eu(s,0),Ro(s,at,Pi,!1)),Qt(s,c),((gt&2)===0||s!==It)&&(s===It&&((gt&2)===0&&(Ql|=c),on===4&&Ro(s,at,Pi,!1)),Ra(s))}function mC(s,o,c){if((gt&6)!==0)throw Error(r(327));var h=!c&&(o&124)===0&&(o&s.expiredLanes)===0||Wi(s,o),v=h?d7(s,o):Ob(s,o,!0),w=h;do{if(v===0){bu&&!h&&Ro(s,o,0,!1);break}else{if(c=s.current.alternate,w&&!c7(c)){v=Ob(s,o,!1),w=!1;continue}if(v===2){if(w=o,s.errorRecoveryDisabledLanes&w)var O=0;else O=s.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var D=s;v=Nf;var q=D.current.memoizedState.isDehydrated;if(q&&(Eu(D,O).flags|=256),O=Ob(D,O,!1),O!==2){if(_b&&!q){D.errorRecoveryDisabledLanes|=w,Ql|=w,v=4;break e}w=Lr,Lr=v,w!==null&&(Lr===null?Lr=w:Lr.push.apply(Lr,w))}v=O}if(w=!1,v!==2)continue}}if(v===1){Eu(s,0),Ro(s,o,0,!0);break}e:{switch(h=s,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ro(h,o,Pi,!Po);break e;case 2:Lr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=Sb+300-Lt(),10<v)){if(Ro(h,o,Pi,!Po),Ar(h,0,!0)!==0)break e;h.timeoutHandle=FC(pC.bind(null,h,c,Lr,pp,Ab,o,Pi,Ql,xu,Po,w,2,-0,0),v);break e}pC(h,c,Lr,pp,Ab,o,Pi,Ql,xu,Po,w,0,-0,0)}}break}while(!0);Ra(s)}function pC(s,o,c,h,v,w,O,D,q,J,ce,me,te,ne){if(s.timeoutHandle=-1,me=o.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(Mf={stylesheets:null,count:0,unsuspend:q7},lC(o),me=K7(),me!==null)){s.cancelPendingCommit=me(_C.bind(null,s,o,w,c,h,v,O,D,q,ce,1,te,ne)),Ro(s,w,O,!J);return}_C(s,o,w,c,h,v,O,D,q)}function c7(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var v=c[h],w=v.getSnapshot;v=v.value;try{if(!Yr(w(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ro(s,o,c,h){o&=~Eb,o&=~Ql,s.suspendedLanes|=o,s.pingedLanes&=~o,h&&(s.warmLanes|=o),h=s.expirationTimes;for(var v=o;0<v;){var w=31-Zn(v),O=1<<w;h[w]=-1,v&=~O}c!==0&&Aa(s,c,o)}function gp(){return(gt&6)===0?(jf(0),!1):!0}function Pb(){if(Qe!==null){if(yt===0)var s=Qe.return;else s=Qe,gs=Hl=null,K0(s),pu=null,xf=0,s=Qe;for(;s!==null;)WT(s.alternate,s),s=s.return;Qe=null}}function Eu(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,C7(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Pb(),It=s,Qe=c=hs(s.current,null),at=o,yt=0,Jr=null,Po=!1,bu=Wi(s,o),_b=!1,xu=Pi=Eb=Ql=jo=on=0,Lr=Nf=null,Ab=!1,(o&8)!==0&&(o|=o&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=o;0<h;){var v=31-Zn(h),w=1<<v;o|=s[v],h&=~w}return As=o,Vm(),c}function gC(s,o){Ye=null,G.H=rp,o===df||o===Gm?(o=RS(),yt=3):o===jS?(o=RS(),yt=4):yt=o===kT?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Jr=o,Qe===null&&(on=1,lp(s,Ai(o,s.current)))}function yC(){var s=G.H;return G.H=rp,s===null?rp:s}function vC(){var s=G.A;return G.A=o7,s}function jb(){on=4,Po||(at&4194048)!==at&&Ni.current!==null||(bu=!0),(jo&134217727)===0&&(Ql&134217727)===0||It===null||Ro(It,at,Pi,!1)}function Ob(s,o,c){var h=gt;gt|=2;var v=yC(),w=vC();(It!==s||at!==o)&&(pp=null,Eu(s,o)),o=!1;var O=on;e:do try{if(yt!==0&&Qe!==null){var D=Qe,q=Jr;switch(yt){case 8:Pb(),O=6;break e;case 3:case 2:case 9:case 6:Ni.current===null&&(o=!0);var J=yt;if(yt=0,Jr=null,Au(s,D,q,J),c&&bu){O=0;break e}break;default:J=yt,yt=0,Jr=null,Au(s,D,q,J)}}u7(),O=on;break}catch(ce){gC(s,ce)}while(!0);return o&&s.shellSuspendCounter++,gs=Hl=null,gt=h,G.H=v,G.A=w,Qe===null&&(It=null,at=0,Vm()),O}function u7(){for(;Qe!==null;)bC(Qe)}function d7(s,o){var c=gt;gt|=2;var h=yC(),v=vC();It!==s||at!==o?(pp=null,mp=Lt()+500,Eu(s,o)):bu=Wi(s,o);e:do try{if(yt!==0&&Qe!==null){o=Qe;var w=Jr;t:switch(yt){case 1:yt=0,Jr=null,Au(s,o,w,1);break;case 2:case 9:if(OS(w)){yt=0,Jr=null,xC(o);break}o=function(){yt!==2&&yt!==9||It!==s||(yt=7),Ra(s)},w.then(o,o);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:OS(w)?(yt=0,Jr=null,xC(o)):(yt=0,Jr=null,Au(s,o,w,7));break;case 5:var O=null;switch(Qe.tag){case 26:O=Qe.memoizedState;case 5:case 27:var D=Qe;if(!O||tN(O)){yt=0,Jr=null;var q=D.sibling;if(q!==null)Qe=q;else{var J=D.return;J!==null?(Qe=J,yp(J)):Qe=null}break t}}yt=0,Jr=null,Au(s,o,w,5);break;case 6:yt=0,Jr=null,Au(s,o,w,6);break;case 8:Pb(),on=6;break e;default:throw Error(r(462))}}f7();break}catch(ce){gC(s,ce)}while(!0);return gs=Hl=null,G.H=h,G.A=v,gt=c,Qe!==null?0:(It=null,at=0,Vm(),on)}function f7(){for(;Qe!==null&&!bn();)bC(Qe)}function bC(s){var o=KT(s.alternate,s,As);s.memoizedProps=s.pendingProps,o===null?yp(s):Qe=o}function xC(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=BT(c,o,o.pendingProps,o.type,void 0,at);break;case 11:o=BT(c,o,o.pendingProps,o.type.render,o.ref,at);break;case 5:K0(o);default:WT(c,o),o=Qe=wS(o,As),o=KT(c,o,As)}s.memoizedProps=s.pendingProps,o===null?yp(s):Qe=o}function Au(s,o,c,h){gs=Hl=null,K0(o),pu=null,xf=0;var v=o.return;try{if(t7(s,v,o,c,at)){on=1,lp(s,Ai(c,s.current)),Qe=null;return}}catch(w){if(v!==null)throw Qe=v,w;on=1,lp(s,Ai(c,s.current)),Qe=null;return}o.flags&32768?(ft||h===1?s=!0:bu||(at&536870912)!==0?s=!1:(Po=s=!0,(h===2||h===9||h===3||h===6)&&(h=Ni.current,h!==null&&h.tag===13&&(h.flags|=16384))),wC(o,s)):yp(o)}function yp(s){var o=s;do{if((o.flags&32768)!==0){wC(o,Po);return}s=o.return;var c=r7(o.alternate,o,As);if(c!==null){Qe=c;return}if(o=o.sibling,o!==null){Qe=o;return}Qe=o=s}while(o!==null);on===0&&(on=5)}function wC(s,o){do{var c=i7(s.alternate,s);if(c!==null){c.flags&=32767,Qe=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){Qe=s;return}Qe=s=c}while(s!==null);on=6,Qe=null}function _C(s,o,c,h,v,w,O,D,q){s.cancelPendingCommit=null;do vp();while(er!==0);if((gt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(w=o.lanes|o.childLanes,w|=w0,Hc(s,c,w,O,D,q),s===It&&(Qe=It=null,at=0),wu=o,Io=s,_u=c,Tb=w,Cb=v,fC=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,g7(zn,function(){return CC(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=G.T,G.T=null,v=W.p,W.p=2,O=gt,gt|=4;try{a7(s,o,c)}finally{gt=O,W.p=v,G.T=h}}er=1,EC(),AC(),SC()}}function EC(){if(er===1){er=0;var s=Io,o=wu,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=G.T,G.T=null;var h=W.p;W.p=2;var v=gt;gt|=4;try{aC(o,s);var w=Fb,O=dS(s.containerInfo),D=w.focusedElem,q=w.selectionRange;if(O!==D&&D&&D.ownerDocument&&uS(D.ownerDocument.documentElement,D)){if(q!==null&&g0(D)){var J=q.start,ce=q.end;if(ce===void 0&&(ce=J),"selectionStart"in D)D.selectionStart=J,D.selectionEnd=Math.min(ce,D.value.length);else{var me=D.ownerDocument||document,te=me&&me.defaultView||window;if(te.getSelection){var ne=te.getSelection(),ze=D.textContent.length,Me=Math.min(q.start,ze),At=q.end===void 0?Me:Math.min(q.end,ze);!ne.extend&&Me>At&&(O=At,At=Me,Me=O);var X=cS(D,Me),K=cS(D,At);if(X&&K&&(ne.rangeCount!==1||ne.anchorNode!==X.node||ne.anchorOffset!==X.offset||ne.focusNode!==K.node||ne.focusOffset!==K.offset)){var Q=me.createRange();Q.setStart(X.node,X.offset),ne.removeAllRanges(),Me>At?(ne.addRange(Q),ne.extend(K.node,K.offset)):(Q.setEnd(K.node,K.offset),ne.addRange(Q))}}}}for(me=[],ne=D;ne=ne.parentNode;)ne.nodeType===1&&me.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<me.length;D++){var de=me[D];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}jp=!!$b,Fb=$b=null}finally{gt=v,W.p=h,G.T=c}}s.current=o,er=2}}function AC(){if(er===2){er=0;var s=Io,o=wu,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=G.T,G.T=null;var h=W.p;W.p=2;var v=gt;gt|=4;try{tC(s,o.alternate,o)}finally{gt=v,W.p=h,G.T=c}}er=3}}function SC(){if(er===4||er===3){er=0,Yt();var s=Io,o=wu,c=_u,h=fC;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?er=5:(er=0,wu=Io=null,TC(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(Oo=null),El(c),o=o.stateNode,wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Kr,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=G.T,v=W.p,W.p=2,G.T=null;try{for(var w=s.onRecoverableError,O=0;O<h.length;O++){var D=h[O];w(D.value,{componentStack:D.stack})}}finally{G.T=o,W.p=v}}(_u&3)!==0&&vp(),Ra(s),v=s.pendingLanes,(c&4194090)!==0&&(v&42)!==0?s===Nb?Pf++:(Pf=0,Nb=s):Pf=0,jf(0)}}function TC(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,cf(o)))}function vp(s){return EC(),AC(),SC(),CC()}function CC(){if(er!==5)return!1;var s=Io,o=Tb;Tb=0;var c=El(_u),h=G.T,v=W.p;try{W.p=32>c?32:c,G.T=null,c=Cb,Cb=null;var w=Io,O=_u;if(er=0,wu=Io=null,_u=0,(gt&6)!==0)throw Error(r(331));var D=gt;if(gt|=4,uC(w.current),oC(w,w.current,O,c),gt=D,jf(0,!1),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Kr,w)}catch{}return!0}finally{W.p=v,G.T=h,TC(s,o)}}function NC(s,o,c){o=Ai(c,o),o=sb(s.stateNode,o,2),s=_o(s,o,2),s!==null&&(Qt(s,2),Ra(s))}function Nt(s,o,c){if(s.tag===3)NC(s,s,c);else for(;o!==null;){if(o.tag===3){NC(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Oo===null||!Oo.has(h))){s=Ai(c,s),c=IT(2),h=_o(o,c,2),h!==null&&(RT(c,h,o,s),Qt(h,2),Ra(h));break}}o=o.return}}function Ib(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new l7;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(c)||(_b=!0,v.add(c),s=h7.bind(null,s,o,c),o.then(s,s))}function h7(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,It===s&&(at&c)===c&&(on===4||on===3&&(at&62914560)===at&&300>Lt()-Sb?(gt&2)===0&&Eu(s,0):Eb|=c,xu===at&&(xu=0)),Ra(s)}function PC(s,o){o===0&&(o=Ea()),s=au(s,o),s!==null&&(Qt(s,o),Ra(s))}function m7(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),PC(s,c)}function p7(s,o){var c=0;switch(s.tag){case 13:var h=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),PC(s,c)}function g7(s,o){return Le(s,o)}var bp=null,Su=null,Rb=!1,xp=!1,kb=!1,Zl=0;function Ra(s){s!==Su&&s.next===null&&(Su===null?bp=Su=s:Su=Su.next=s),xp=!0,Rb||(Rb=!0,v7())}function jf(s,o){if(!kb&&xp){kb=!0;do for(var c=!1,h=bp;h!==null;){if(s!==0){var v=h.pendingLanes;if(v===0)var w=0;else{var O=h.suspendedLanes,D=h.pingedLanes;w=(1<<31-Zn(42|s)+1)-1,w&=v&~(O&~D),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,RC(h,w))}else w=at,w=Ar(h,h===It?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||Wi(h,w)||(c=!0,RC(h,w));h=h.next}while(c);kb=!1}}function y7(){jC()}function jC(){xp=Rb=!1;var s=0;Zl!==0&&(T7()&&(s=Zl),Zl=0);for(var o=Lt(),c=null,h=bp;h!==null;){var v=h.next,w=OC(h,o);w===0?(h.next=null,c===null?bp=v:c.next=v,v===null&&(Su=c)):(c=h,(s!==0||(w&3)!==0)&&(xp=!0)),h=v}jf(s)}function OC(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,v=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var O=31-Zn(w),D=1<<O,q=v[O];q===-1?((D&c)===0||(D&h)!==0)&&(v[O]=rs(D,o)):q<=o&&(s.expiredLanes|=D),w&=~D}if(o=It,c=at,c=Ar(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===o&&(yt===2||yt===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&et(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Wi(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(h!==null&&et(h),El(c)){case 2:case 8:c=xn;break;case 32:c=zn;break;case 268435456:c=Gi;break;default:c=zn}return h=IC.bind(null,s),c=Le(c,h),s.callbackPriority=o,s.callbackNode=c,o}return h!==null&&h!==null&&et(h),s.callbackPriority=2,s.callbackNode=null,2}function IC(s,o){if(er!==0&&er!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(vp()&&s.callbackNode!==c)return null;var h=at;return h=Ar(s,s===It?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(mC(s,h,o),OC(s,Lt()),s.callbackNode!=null&&s.callbackNode===c?IC.bind(null,s):null)}function RC(s,o){if(vp())return null;mC(s,o,!0)}function v7(){N7(function(){(gt&6)!==0?Le(Xt,y7):jC()})}function Db(){return Zl===0&&(Zl=oo()),Zl}function kC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Zi(""+s)}function DC(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function b7(s,o,c,h,v){if(o==="submit"&&c&&c.stateNode===v){var w=kC((v[jn]||null).action),O=h.submitter;O&&(o=(o=O[jn]||null)?kC(o.formAction):O.getAttribute("formAction"),o!==null&&(w=o,O=null));var D=new Ol("action","action",null,h,v);s.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Zl!==0){var q=O?DC(v,O):new FormData(v);tb(c,{pending:!0,data:q,method:v.method,action:w},null,q)}}else typeof w=="function"&&(D.preventDefault(),q=O?DC(v,O):new FormData(v),tb(c,{pending:!0,data:q,method:v.method,action:w},w,q))},currentTarget:v}]})}}for(var Mb=0;Mb<x0.length;Mb++){var Lb=x0[Mb],x7=Lb.toLowerCase(),w7=Lb[0].toUpperCase()+Lb.slice(1);na(x7,"on"+w7)}na(mS,"onAnimationEnd"),na(pS,"onAnimationIteration"),na(gS,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(V8,"onTransitionRun"),na(U8,"onTransitionStart"),na(B8,"onTransitionCancel"),na(yS,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Of));function MC(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],v=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var O=h.length-1;0<=O;O--){var D=h[O],q=D.instance,J=D.currentTarget;if(D=D.listener,q!==w&&v.isPropagationStopped())break e;w=D,v.currentTarget=J;try{w(v)}catch(ce){op(ce)}v.currentTarget=null,w=q}else for(O=0;O<h.length;O++){if(D=h[O],q=D.instance,J=D.currentTarget,D=D.listener,q!==w&&v.isPropagationStopped())break e;w=D,v.currentTarget=J;try{w(v)}catch(ce){op(ce)}v.currentTarget=null,w=q}}}}function Ze(s,o){var c=o[xe];c===void 0&&(c=o[xe]=new Set);var h=s+"__bubble";c.has(h)||(LC(o,s,2,!1),c.add(h))}function Vb(s,o,c){var h=0;o&&(h|=4),LC(c,s,h,o)}var wp="_reactListening"+Math.random().toString(36).slice(2);function Ub(s){if(!s[wp]){s[wp]=!0,Ud.forEach(function(c){c!=="selectionchange"&&(_7.has(c)||Vb(c,!1,s),Vb(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[wp]||(o[wp]=!0,Vb("selectionchange",!1,o))}}function LC(s,o,c,h){switch(oN(o)){case 2:var v=Y7;break;case 8:v=X7;break;default:v=Jb}c=v.bind(null,o,c,s),v=void 0,!ds||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?s.addEventListener(o,c,{capture:!0,passive:v}):s.addEventListener(o,c,!0):v!==void 0?s.addEventListener(o,c,{passive:v}):s.addEventListener(o,c,!1)}function Bb(s,o,c,h,v){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var D=h.stateNode.containerInfo;if(D===v)break;if(O===4)for(O=h.return;O!==null;){var q=O.tag;if((q===3||q===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;D!==null;){if(O=cr(D),O===null)return;if(q=O.tag,q===5||q===6||q===26||q===27){h=w=O;continue e}D=D.parentNode}}h=h.return}Nl(function(){var J=w,ce=Gd(c),me=[];e:{var te=vS.get(s);if(te!==void 0){var ne=Ol,ze=s;switch(s){case"keypress":if(Pl(c)===0)break e;case"keydown":case"keyup":ne=tu;break;case"focusin":ze="focus",ne=Zc;break;case"focusout":ze="blur",ne=Zc;break;case"beforeblur":case"afterblur":ne=Zc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Pm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=vo;break;case mS:case pS:case gS:ne=Yd;break;case yS:ne=T;break;case"scroll":case"scrollend":ne=Rl;break;case"wheel":ne=z;break;case"copy":case"cut":case"paste":ne=Om;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Zd;break;case"toggle":case"beforetoggle":ne=re}var Me=(o&4)!==0,At=!Me&&(s==="scroll"||s==="scrollend"),X=Me?te!==null?te+"Capture":null:te;Me=[];for(var K=J,Q;K!==null;){var de=K;if(Q=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||Q===null||X===null||(de=go(K,X),de!=null&&Me.push(If(K,de,Q))),At)break;K=K.return}0<Me.length&&(te=new ne(te,ze,null,c,ce),me.push({event:te,listeners:Me}))}}if((o&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",te&&c!==Kd&&(ze=c.relatedTarget||c.fromElement)&&(cr(ze)||ze[Y]))break e;if((ne||te)&&(te=ce.window===ce?ce:(te=ce.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(ze=c.relatedTarget||c.toElement,ne=J,ze=ze?cr(ze):null,ze!==null&&(At=a(ze),Me=ze.tag,ze!==At||Me!==5&&Me!==27&&Me!==6)&&(ze=null)):(ne=null,ze=J),ne!==ze)){if(Me=Ml,de="onMouseLeave",X="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Me=Zd,de="onPointerLeave",X="onPointerEnter",K="pointer"),At=ne==null?te:is(ne),Q=ze==null?te:is(ze),te=new Me(de,K+"leave",ne,c,ce),te.target=At,te.relatedTarget=Q,de=null,cr(ce)===J&&(Me=new Me(X,K+"enter",ze,c,ce),Me.target=Q,Me.relatedTarget=At,de=Me),At=de,ne&&ze)t:{for(Me=ne,X=ze,K=0,Q=Me;Q;Q=Tu(Q))K++;for(Q=0,de=X;de;de=Tu(de))Q++;for(;0<K-Q;)Me=Tu(Me),K--;for(;0<Q-K;)X=Tu(X),Q--;for(;K--;){if(Me===X||X!==null&&Me===X.alternate)break t;Me=Tu(Me),X=Tu(X)}Me=null}else Me=null;ne!==null&&VC(me,te,ne,Me,!1),ze!==null&&At!==null&&VC(me,At,ze,Me,!0)}}e:{if(te=J?is(J):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ce=rS;else if(tS(te))if(iS)Ce=D8;else{Ce=R8;var Xe=I8}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&Yc(J.elementType)&&(Ce=rS):Ce=k8;if(Ce&&(Ce=Ce(s,J))){nS(me,Ce,c,ce);break e}Xe&&Xe(s,te,J),s==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&Fd(te,"number",te.value)}switch(Xe=J?is(J):window,s){case"focusin":(tS(Xe)||Xe.contentEditable==="true")&&(nu=Xe,y0=J,rf=null);break;case"focusout":rf=y0=nu=null;break;case"mousedown":v0=!0;break;case"contextmenu":case"mouseup":case"dragend":v0=!1,fS(me,c,ce);break;case"selectionchange":if(L8)break;case"keydown":case"keyup":fS(me,c,ce)}var Oe;if(qe)e:{switch(s){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ta?Ji(s,c)&&(Ve="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ve="onCompositionStart");Ve&&(un&&c.locale!=="ko"&&(ta||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ta&&(Oe=Nm()):(Ei=ce,Ot="value"in Ei?Ei.value:Ei.textContent,ta=!0)),Xe=_p(J,Ve),0<Xe.length&&(Ve=new Qd(Ve,s,null,c,ce),me.push({event:Ve,listeners:Xe}),Oe?Ve.data=Oe:(Oe=ea(c),Oe!==null&&(Ve.data=Oe)))),(Oe=pt?Jd(s,c):P8(s,c))&&(Ve=_p(J,"onBeforeInput"),0<Ve.length&&(Xe=new Qd("onBeforeInput","beforeinput",null,c,ce),me.push({event:Xe,listeners:Ve}),Xe.data=Oe)),b7(me,s,J,c,ce)}MC(me,o)})}function If(s,o,c){return{instance:s,listener:o,currentTarget:c}}function _p(s,o){for(var c=o+"Capture",h=[];s!==null;){var v=s,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=go(s,c),v!=null&&h.unshift(If(s,v,w)),v=go(s,o),v!=null&&h.push(If(s,v,w))),s.tag===3)return h;s=s.return}return[]}function Tu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function VC(s,o,c,h,v){for(var w=o._reactName,O=[];c!==null&&c!==h;){var D=c,q=D.alternate,J=D.stateNode;if(D=D.tag,q!==null&&q===h)break;D!==5&&D!==26&&D!==27||J===null||(q=J,v?(J=go(c,w),J!=null&&O.unshift(If(c,J,q))):v||(J=go(c,w),J!=null&&O.push(If(c,J,q)))),c=c.return}O.length!==0&&s.push({event:o,listeners:O})}var E7=/\r\n?/g,A7=/\u0000|\uFFFD/g;function UC(s){return(typeof s=="string"?s:""+s).replace(E7,`
`).replace(A7,"")}function BC(s,o){return o=UC(o),UC(s)===o}function Ep(){}function Et(s,o,c,h,v,w){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||_i(s,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&_i(s,""+h);break;case"className":wi(s,"class",h);break;case"tabIndex":wi(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":wi(s,c,h);break;case"style":Hd(s,h,w);break;case"data":if(o!=="object"){wi(s,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Zi(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(o!=="input"&&Et(s,o,"name",v.name,v,null),Et(s,o,"formEncType",v.formEncType,v,null),Et(s,o,"formMethod",v.formMethod,v,null),Et(s,o,"formTarget",v.formTarget,v,null)):(Et(s,o,"encType",v.encType,v,null),Et(s,o,"method",v.method,v,null),Et(s,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Zi(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=Ep);break;case"onScroll":h!=null&&Ze("scroll",s);break;case"onScrollEnd":h!=null&&Ze("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=Zi(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Ze("beforetoggle",s),Ze("toggle",s),os(s,"popover",h);break;case"xlinkActuate":kr(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":kr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":kr(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":kr(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":kr(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":kr(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":kr(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":kr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":kr(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":os(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Sm.get(c)||c,os(s,c,h))}}function zb(s,o,c,h,v,w){switch(c){case"style":Hd(s,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof h=="string"?_i(s,h):(typeof h=="number"||typeof h=="bigint")&&_i(s,""+h);break;case"onScroll":h!=null&&Ze("scroll",s);break;case"onScrollEnd":h!=null&&Ze("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Ep);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!as.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),w=s[jn]||null,w=w!=null?w[c]:null,typeof w=="function"&&s.removeEventListener(o,w,v),typeof h=="function")){typeof w!="function"&&w!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,h,v);break e}c in s?s[c]=h:h===!0?s.setAttribute(c,""):os(s,c,h)}}}function tr(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",s),Ze("load",s);var h=!1,v=!1,w;for(w in c)if(c.hasOwnProperty(w)){var O=c[w];if(O!=null)switch(w){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Et(s,o,w,O,c,null)}}v&&Et(s,o,"srcSet",c.srcSet,c,null),h&&Et(s,o,"src",c.src,c,null);return;case"input":Ze("invalid",s);var D=w=O=v=null,q=null,J=null;for(h in c)if(c.hasOwnProperty(h)){var ce=c[h];if(ce!=null)switch(h){case"name":v=ce;break;case"type":O=ce;break;case"checked":q=ce;break;case"defaultChecked":J=ce;break;case"value":w=ce;break;case"defaultValue":D=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:Et(s,o,h,ce,c,null)}}$d(s,w,D,q,J,O,v,!1),ho(s);return;case"select":Ze("invalid",s),h=O=w=null;for(v in c)if(c.hasOwnProperty(v)&&(D=c[v],D!=null))switch(v){case"value":w=D;break;case"defaultValue":O=D;break;case"multiple":h=D;default:Et(s,o,v,D,c,null)}o=w,c=O,s.multiple=!!h,o!=null?mo(s,!!h,o,!1):c!=null&&mo(s,!!h,c,!0);return;case"textarea":Ze("invalid",s),w=v=h=null;for(O in c)if(c.hasOwnProperty(O)&&(D=c[O],D!=null))switch(O){case"value":h=D;break;case"defaultValue":v=D;break;case"children":w=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:Et(s,o,O,D,c,null)}Am(s,h,v,w),ho(s);return;case"option":for(q in c)if(c.hasOwnProperty(q)&&(h=c[q],h!=null))switch(q){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Et(s,o,q,h,c,null)}return;case"dialog":Ze("beforetoggle",s),Ze("toggle",s),Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":Ze("load",s);break;case"video":case"audio":for(h=0;h<Of.length;h++)Ze(Of[h],s);break;case"image":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"embed":case"source":case"link":Ze("error",s),Ze("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(h=c[J],h!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Et(s,o,J,h,c,null)}return;default:if(Yc(o)){for(ce in c)c.hasOwnProperty(ce)&&(h=c[ce],h!==void 0&&zb(s,o,ce,h,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(h=c[D],h!=null&&Et(s,o,D,h,c,null))}function S7(s,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,O=null,D=null,q=null,J=null,ce=null;for(ne in c){var me=c[ne];if(c.hasOwnProperty(ne)&&me!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":q=me;default:h.hasOwnProperty(ne)||Et(s,o,ne,null,h,me)}}for(var te in h){var ne=h[te];if(me=c[te],h.hasOwnProperty(te)&&(ne!=null||me!=null))switch(te){case"type":w=ne;break;case"name":v=ne;break;case"checked":J=ne;break;case"defaultChecked":ce=ne;break;case"value":O=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:ne!==me&&Et(s,o,te,ne,h,me)}}zd(s,O,D,q,J,ce,w,v);return;case"select":ne=O=D=te=null;for(w in c)if(q=c[w],c.hasOwnProperty(w)&&q!=null)switch(w){case"value":break;case"multiple":ne=q;default:h.hasOwnProperty(w)||Et(s,o,w,null,h,q)}for(v in h)if(w=h[v],q=c[v],h.hasOwnProperty(v)&&(w!=null||q!=null))switch(v){case"value":te=w;break;case"defaultValue":D=w;break;case"multiple":O=w;default:w!==q&&Et(s,o,v,w,h,q)}o=D,c=O,h=ne,te!=null?mo(s,!!c,te,!1):!!h!=!!c&&(o!=null?mo(s,!!c,o,!0):mo(s,!!c,c?[]:"",!1));return;case"textarea":ne=te=null;for(D in c)if(v=c[D],c.hasOwnProperty(D)&&v!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Et(s,o,D,null,h,v)}for(O in h)if(v=h[O],w=c[O],h.hasOwnProperty(O)&&(v!=null||w!=null))switch(O){case"value":te=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&Et(s,o,O,v,h,w)}Em(s,te,ne);return;case"option":for(var ze in c)if(te=c[ze],c.hasOwnProperty(ze)&&te!=null&&!h.hasOwnProperty(ze))switch(ze){case"selected":s.selected=!1;break;default:Et(s,o,ze,null,h,te)}for(q in h)if(te=h[q],ne=c[q],h.hasOwnProperty(q)&&te!==ne&&(te!=null||ne!=null))switch(q){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Et(s,o,q,te,h,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in c)te=c[Me],c.hasOwnProperty(Me)&&te!=null&&!h.hasOwnProperty(Me)&&Et(s,o,Me,null,h,te);for(J in h)if(te=h[J],ne=c[J],h.hasOwnProperty(J)&&te!==ne&&(te!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:Et(s,o,J,te,h,ne)}return;default:if(Yc(o)){for(var At in c)te=c[At],c.hasOwnProperty(At)&&te!==void 0&&!h.hasOwnProperty(At)&&zb(s,o,At,void 0,h,te);for(ce in h)te=h[ce],ne=c[ce],!h.hasOwnProperty(ce)||te===ne||te===void 0&&ne===void 0||zb(s,o,ce,te,h,ne);return}}for(var X in c)te=c[X],c.hasOwnProperty(X)&&te!=null&&!h.hasOwnProperty(X)&&Et(s,o,X,null,h,te);for(me in h)te=h[me],ne=c[me],!h.hasOwnProperty(me)||te===ne||te==null&&ne==null||Et(s,o,me,te,h,ne)}var $b=null,Fb=null;function Ap(s){return s.nodeType===9?s:s.ownerDocument}function zC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $C(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function qb(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hb=null;function T7(){var s=window.event;return s&&s.type==="popstate"?s===Hb?!1:(Hb=s,!0):(Hb=null,!1)}var FC=typeof setTimeout=="function"?setTimeout:void 0,C7=typeof clearTimeout=="function"?clearTimeout:void 0,qC=typeof Promise=="function"?Promise:void 0,N7=typeof queueMicrotask=="function"?queueMicrotask:typeof qC<"u"?function(s){return qC.resolve(null).then(s).catch(P7)}:FC;function P7(s){setTimeout(function(){throw s})}function ko(s){return s==="head"}function HC(s,o){var c=o,h=0,v=0;do{var w=c.nextSibling;if(s.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(0<h&&8>h){c=h;var O=s.ownerDocument;if(c&1&&Rf(O.documentElement),c&2&&Rf(O.body),c&4)for(c=O.head,Rf(c),O=c.firstChild;O;){var D=O.nextSibling,q=O.nodeName;O[lr]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&O.rel.toLowerCase()==="stylesheet"||c.removeChild(O),O=D}}if(v===0){s.removeChild(w),zf(o);return}v--}else c==="$"||c==="$?"||c==="$!"?v++:h=c.charCodeAt(0)-48;else h=0;c=w}while(c);zf(o)}function Kb(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Kb(c),Xi(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function j7(s,o,c,h){for(;s.nodeType===1;){var v=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[lr])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=ia(s.nextSibling),s===null)break}return null}function O7(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ia(s.nextSibling),s===null))return null;return s}function Gb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function I7(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function ia(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var Wb=null;function KC(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function GC(s,o,c){switch(o=Ap(c),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Rf(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Xi(s)}var ji=new Map,WC=new Set;function Sp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ss=W.d;W.d={f:R7,r:k7,D:D7,C:M7,L:L7,m:V7,X:B7,S:U7,M:z7};function R7(){var s=Ss.f(),o=gp();return s||o}function k7(s){var o=yi(s);o!==null&&o.tag===5&&o.type==="form"?mT(o):Ss.r(s)}var Cu=typeof document>"u"?null:document;function YC(s,o,c){var h=Cu;if(h&&typeof o=="string"&&o){var v=$n(o);v='link[rel="'+s+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),WC.has(v)||(WC.add(v),s={rel:s,crossOrigin:c,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),tr(o,"link",s),en(o),h.head.appendChild(o)))}}function D7(s){Ss.D(s),YC("dns-prefetch",s,null)}function M7(s,o){Ss.C(s,o),YC("preconnect",s,o)}function L7(s,o,c){Ss.L(s,o,c);var h=Cu;if(h&&s&&o){var v='link[rel="preload"][as="'+$n(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+$n(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+$n(c.imageSizes)+'"]')):v+='[href="'+$n(s)+'"]';var w=v;switch(o){case"style":w=Nu(s);break;case"script":w=Pu(s)}ji.has(w)||(s=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),ji.set(w,s),h.querySelector(v)!==null||o==="style"&&h.querySelector(kf(w))||o==="script"&&h.querySelector(Df(w))||(o=h.createElement("link"),tr(o,"link",s),en(o),h.head.appendChild(o)))}}function V7(s,o){Ss.m(s,o);var c=Cu;if(c&&s){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+$n(h)+'"][href="'+$n(s)+'"]',w=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Pu(s)}if(!ji.has(w)&&(s=p({rel:"modulepreload",href:s},o),ji.set(w,s),c.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Df(w)))return}h=c.createElement("link"),tr(h,"link",s),en(h),c.head.appendChild(h)}}}function U7(s,o,c){Ss.S(s,o,c);var h=Cu;if(h&&s){var v=Ta(h).hoistableStyles,w=Nu(s);o=o||"default";var O=v.get(w);if(!O){var D={loading:0,preload:null};if(O=h.querySelector(kf(w)))D.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":o},c),(c=ji.get(w))&&Yb(s,c);var q=O=h.createElement("link");en(q),tr(q,"link",s),q._p=new Promise(function(J,ce){q.onload=J,q.onerror=ce}),q.addEventListener("load",function(){D.loading|=1}),q.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Tp(O,o,h)}O={type:"stylesheet",instance:O,count:1,state:D},v.set(w,O)}}}function B7(s,o){Ss.X(s,o);var c=Cu;if(c&&s){var h=Ta(c).hoistableScripts,v=Pu(s),w=h.get(v);w||(w=c.querySelector(Df(v)),w||(s=p({src:s,async:!0},o),(o=ji.get(v))&&Xb(s,o),w=c.createElement("script"),en(w),tr(w,"link",s),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function z7(s,o){Ss.M(s,o);var c=Cu;if(c&&s){var h=Ta(c).hoistableScripts,v=Pu(s),w=h.get(v);w||(w=c.querySelector(Df(v)),w||(s=p({src:s,async:!0,type:"module"},o),(o=ji.get(v))&&Xb(s,o),w=c.createElement("script"),en(w),tr(w,"link",s),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function XC(s,o,c,h){var v=(v=we.current)?Sp(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Nu(c.href),c=Ta(v).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Nu(c.href);var w=Ta(v).hoistableStyles,O=w.get(s);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,O),(w=v.querySelector(kf(s)))&&!w._p&&(O.instance=w,O.state.loading=5),ji.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ji.set(s,c),w||$7(v,s,c,O.state))),o&&h===null)throw Error(r(528,""));return O}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Pu(c),c=Ta(v).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Nu(s){return'href="'+$n(s)+'"'}function kf(s){return'link[rel="stylesheet"]['+s+"]"}function QC(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function $7(s,o,c,h){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=s.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),tr(o,"link",c),en(o),s.head.appendChild(o))}function Pu(s){return'[src="'+$n(s)+'"]'}function Df(s){return"script[async]"+s}function ZC(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=s.querySelector('style[data-href~="'+$n(c.href)+'"]');if(h)return o.instance=h,en(h),h;var v=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),en(h),tr(h,"style",v),Tp(h,c.precedence,s),o.instance=h;case"stylesheet":v=Nu(c.href);var w=s.querySelector(kf(v));if(w)return o.state.loading|=4,o.instance=w,en(w),w;h=QC(c),(v=ji.get(v))&&Yb(h,v),w=(s.ownerDocument||s).createElement("link"),en(w);var O=w;return O._p=new Promise(function(D,q){O.onload=D,O.onerror=q}),tr(w,"link",h),o.state.loading|=4,Tp(w,c.precedence,s),o.instance=w;case"script":return w=Pu(c.src),(v=s.querySelector(Df(w)))?(o.instance=v,en(v),v):(h=c,(v=ji.get(w))&&(h=p({},c),Xb(h,v)),s=s.ownerDocument||s,v=s.createElement("script"),en(v),tr(v,"link",h),s.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Tp(h,c.precedence,s));return o.instance}function Tp(s,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,w=v,O=0;O<h.length;O++){var D=h[O];if(D.dataset.precedence===o)w=D;else if(w!==v)break}w?w.parentNode.insertBefore(s,w.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function Yb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Xb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Cp=null;function JC(s,o,c){if(Cp===null){var h=new Map,v=Cp=new Map;v.set(c,h)}else v=Cp,h=v.get(c),h||(h=new Map,v.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),v=0;v<c.length;v++){var w=c[v];if(!(w[lr]||w[Zt]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(o)||"";O=s+O;var D=h.get(O);D?D.push(w):h.set(O,[w])}}return h}function eN(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function F7(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function tN(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Mf=null;function q7(){}function H7(s,o,c){if(Mf===null)throw Error(r(475));var h=Mf;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=Nu(c.href),w=s.querySelector(kf(v));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=Np.bind(h),s.then(h,h)),o.state.loading|=4,o.instance=w,en(w);return}w=s.ownerDocument||s,c=QC(c),(v=ji.get(v))&&Yb(c,v),w=w.createElement("link"),en(w);var O=w;O._p=new Promise(function(D,q){O.onload=D,O.onerror=q}),tr(w,"link",c),o.instance=w}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(h.count++,o=Np.bind(h),s.addEventListener("load",o),s.addEventListener("error",o))}}function K7(){if(Mf===null)throw Error(r(475));var s=Mf;return s.stylesheets&&s.count===0&&Qb(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&Qb(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Np(){if(this.count--,this.count===0){if(this.stylesheets)Qb(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Pp=null;function Qb(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Pp=new Map,o.forEach(G7,s),Pp=null,Np.call(s))}function G7(s,o){if(!(o.state.loading&4)){var c=Pp.get(s);if(c)var h=c.get(null);else{c=new Map,Pp.set(s,c);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var O=v[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),h=O)}h&&c.set(null,h)}v=o.instance,O=v.getAttribute("data-precedence"),w=c.get(O)||h,w===h&&c.set(null,v),c.set(O,v),this.count++,h=Np.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),w?w.parentNode.insertBefore(v,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),o.state.loading|=4}}var Lf={$$typeof:N,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function W7(s,o,c,h,v,w,O,D){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.hiddenUpdates=lo(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function nN(s,o,c,h,v,w,O,D,q,J,ce,me){return s=new W7(s,o,c,O,D,q,J,me),o=1,w===!0&&(o|=24),w=Xr(3,null,null,o),s.current=w,w.stateNode=s,o=I0(),o.refCount++,s.pooledCache=o,o.refCount++,w.memoizedState={element:h,isDehydrated:c,cache:o},M0(w),s}function rN(s){return s?(s=su,s):su}function iN(s,o,c,h,v,w){v=rN(v),h.context===null?h.context=v:h.pendingContext=v,h=wo(o),h.payload={element:c},w=w===void 0?null:w,w!==null&&(h.callback=w),c=_o(s,h,o),c!==null&&(ti(c,s,o),hf(c,s,o))}function aN(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Zb(s,o){aN(s,o),(s=s.alternate)&&aN(s,o)}function sN(s){if(s.tag===13){var o=au(s,67108864);o!==null&&ti(o,s,67108864),Zb(s,67108864)}}var jp=!0;function Y7(s,o,c,h){var v=G.T;G.T=null;var w=W.p;try{W.p=2,Jb(s,o,c,h)}finally{W.p=w,G.T=v}}function X7(s,o,c,h){var v=G.T;G.T=null;var w=W.p;try{W.p=8,Jb(s,o,c,h)}finally{W.p=w,G.T=v}}function Jb(s,o,c,h){if(jp){var v=ex(h);if(v===null)Bb(s,o,h,Op,c),lN(s,h);else if(Z7(v,s,o,c,h))h.stopPropagation();else if(lN(s,h),o&4&&-1<Q7.indexOf(s)){for(;v!==null;){var w=yi(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=Gr(w.pendingLanes);if(O!==0){var D=w;for(D.pendingLanes|=2,D.entangledLanes|=2;O;){var q=1<<31-Zn(O);D.entanglements[1]|=q,O&=~q}Ra(w),(gt&6)===0&&(mp=Lt()+500,jf(0))}}break;case 13:D=au(w,2),D!==null&&ti(D,w,2),gp(),Zb(w,2)}if(w=ex(h),w===null&&Bb(s,o,h,Op,c),w===v)break;v=w}v!==null&&h.stopPropagation()}else Bb(s,o,h,null,c)}}function ex(s){return s=Gd(s),tx(s)}var Op=null;function tx(s){if(Op=null,s=cr(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Op=s,null}function oN(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ns()){case Xt:return 2;case xn:return 8;case zn:case xa:return 32;case Gi:return 268435456;default:return 32}default:return 32}}var nx=!1,Do=null,Mo=null,Lo=null,Vf=new Map,Uf=new Map,Vo=[],Q7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lN(s,o){switch(s){case"focusin":case"focusout":Do=null;break;case"dragenter":case"dragleave":Mo=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":Vf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uf.delete(o.pointerId)}}function Bf(s,o,c,h,v,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[v]},o!==null&&(o=yi(o),o!==null&&sN(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),s)}function Z7(s,o,c,h,v){switch(o){case"focusin":return Do=Bf(Do,s,o,c,h,v),!0;case"dragenter":return Mo=Bf(Mo,s,o,c,h,v),!0;case"mouseover":return Lo=Bf(Lo,s,o,c,h,v),!0;case"pointerover":var w=v.pointerId;return Vf.set(w,Bf(Vf.get(w)||null,s,o,c,h,v)),!0;case"gotpointercapture":return w=v.pointerId,Uf.set(w,Bf(Uf.get(w)||null,s,o,c,h,v)),!0}return!1}function cN(s){var o=cr(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,Vd(s.priority,function(){if(c.tag===13){var h=ei();h=co(h);var v=au(c,h);v!==null&&ti(v,c,h),Zb(c,h)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ip(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=ex(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Kd=h,c.target.dispatchEvent(h),Kd=null}else return o=yi(c),o!==null&&sN(o),s.blockedOn=c,!1;o.shift()}return!0}function uN(s,o,c){Ip(s)&&c.delete(o)}function J7(){nx=!1,Do!==null&&Ip(Do)&&(Do=null),Mo!==null&&Ip(Mo)&&(Mo=null),Lo!==null&&Ip(Lo)&&(Lo=null),Vf.forEach(uN),Uf.forEach(uN)}function Rp(s,o){s.blockedOn===o&&(s.blockedOn=null,nx||(nx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,J7)))}var kp=null;function dN(s){kp!==s&&(kp=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kp===s&&(kp=null);for(var o=0;o<s.length;o+=3){var c=s[o],h=s[o+1],v=s[o+2];if(typeof h!="function"){if(tx(h||c)===null)continue;break}var w=yi(c);w!==null&&(s.splice(o,3),o-=3,tb(w,{pending:!0,data:v,method:c.method,action:h},h,v))}}))}function zf(s){function o(q){return Rp(q,s)}Do!==null&&Rp(Do,s),Mo!==null&&Rp(Mo,s),Lo!==null&&Rp(Lo,s),Vf.forEach(o),Uf.forEach(o);for(var c=0;c<Vo.length;c++){var h=Vo[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Vo.length&&(c=Vo[0],c.blockedOn===null);)cN(c),c.blockedOn===null&&Vo.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var v=c[h],w=c[h+1],O=v[jn]||null;if(typeof w=="function")O||dN(c);else if(O){var D=null;if(w&&w.hasAttribute("formAction")){if(v=w,O=w[jn]||null)D=O.formAction;else if(tx(v)!==null)continue}else D=O.action;typeof D=="function"?c[h+1]=D:(c.splice(h,3),h-=3),dN(c)}}}function rx(s){this._internalRoot=s}Dp.prototype.render=rx.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,h=ei();iN(c,h,s,o,null,null)},Dp.prototype.unmount=rx.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;iN(s.current,2,null,s,null,null),gp(),o[Y]=null}};function Dp(s){this._internalRoot=s}Dp.prototype.unstable_scheduleHydration=function(s){if(s){var o=Yi();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Vo.length&&o!==0&&o<Vo[c].priority;c++);Vo.splice(c,0,s),c===0&&cN(s)}};var fN=e.version;if(fN!=="19.1.1")throw Error(r(527,fN,"19.1.1"));W.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(o),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var eV={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mp.isDisabled&&Mp.supportsFiber)try{Kr=Mp.inject(eV),wn=Mp}catch{}}return Ff.createRoot=function(s,o){if(!i(s))throw Error(r(299));var c=!1,h="",v=NT,w=PT,O=jT,D=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks)),o=nN(s,1,!1,null,null,c,h,v,w,O,D,null),s[Y]=o.current,Ub(s),new rx(o)},Ff.hydrateRoot=function(s,o,c){if(!i(s))throw Error(r(299));var h=!1,v="",w=NT,O=PT,D=jT,q=null,J=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(q=c.unstable_transitionCallbacks),c.formState!==void 0&&(J=c.formState)),o=nN(s,1,!0,o,c??null,h,v,w,O,D,q,J),o.context=rN(null),c=o.current,h=ei(),h=co(h),v=wo(h),v.callback=null,_o(c,v,h),c=h,o.current.lanes=c,Qt(o,c),Ra(o),s[Y]=o.current,Ub(s),new Dp(o)},Ff.version="19.1.1",Ff}var _N;function dV(){if(_N)return sx.exports;_N=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sx.exports=uV(),sx.exports}var fV=dV();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var EN="popstate";function hV(t={}){function e(i,a){let{pathname:l="/",search:u="",hash:d=""}=Oc(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),c1("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof a=="string"?a:ph(a))}function r(i,a){Ui(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return pV(e,n,r,t)}function Gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ui(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mV(){return Math.random().toString(36).substring(2,10)}function AN(t,e){return{usr:t.state,key:t.key,idx:e}}function c1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Oc(e):e,state:n,key:e&&e.key||r||mV()}}function ph({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function pV(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let S=p(),C=S==null?null:S-f;f=S,d&&d({action:u,location:E.location,delta:C})}function b(S,C){u="PUSH";let P=c1(E.location,S,C);n&&n(P,S),f=p()+1;let N=AN(P,f),L=E.createHref(P);try{l.pushState(N,"",L)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(L)}a&&d&&d({action:u,location:E.location,delta:1})}function x(S,C){u="REPLACE";let P=c1(E.location,S,C);n&&n(P,S),f=p();let N=AN(P,f),L=E.createHref(P);l.replaceState(N,"",L),a&&d&&d({action:u,location:E.location,delta:0})}function A(S){return gV(S)}let E={get action(){return u},get location(){return t(i,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(EN,g),d=S,()=>{i.removeEventListener(EN,g),d=null}},createHref(S){return e(i,S)},createURL:A,encodeLocation(S){let C=A(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:x,go(S){return l.go(S)}};return E}function gV(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ph(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Vk(t,e,n="/"){return yV(t,e,n,!1)}function yV(t,e,n,r){let i=typeof e=="string"?Oc(e):e,a=Bs(i.pathname||"/",n);if(a==null)return null;let l=Uk(t);vV(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=PV(a);u=CV(l[d],f,r)}return u}function Uk(t,e=[],n=[],r="",i=!1){let a=(l,u,d=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;Gt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Rs([r,p.relativePath]),b=n.concat(p);l.children&&l.children.length>0&&(Gt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Uk(l.children,e,b,g,d)),!(l.path==null&&!l.index)&&e.push({path:g,score:SV(g,l.index),routesMeta:b})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let d of Bk(l.path))a(l,u,!0,d)}),e}function Bk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=Bk(r.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function vV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var bV=/^:[\w-]+$/,xV=3,wV=2,_V=1,EV=10,AV=-2,SN=t=>t==="*";function SV(t,e){let n=t.split("/"),r=n.length;return n.some(SN)&&(r+=AV),e&&(r+=wV),n.filter(i=>!SN(i)).reduce((i,a)=>i+(bV.test(a)?xV:a===""?_V:EV),r)}function TV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CV(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=Ag({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),b=d.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=Ag({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Rs([a,g.pathname]),pathnameBase:RV(Rs([a,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(a=Rs([a,g.pathnameBase]))}return l}function Ag(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=NV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:g},b)=>{if(p==="*"){let A=u[b]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const x=u[b];return g&&!x?f[p]=void 0:f[p]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:t}}function NV(t,e=!1,n=!0){Ui(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function PV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ui(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function jV(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Oc(t):t;return{pathname:n?n.startsWith("/")?n:OV(n,e):e,search:kV(r),hash:DV(i)}}function OV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ux(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function k2(t){let e=IV(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function D2(t,e,n,r=!1){let i;typeof t=="string"?i=Oc(t):(i={...t},Gt(!i.pathname||!i.pathname.includes("?"),ux("?","pathname","search",i)),Gt(!i.pathname||!i.pathname.includes("#"),ux("#","pathname","hash",i)),Gt(!i.search||!i.search.includes("#"),ux("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}u=g>=0?e[g]:"/"}let d=jV(i,u),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Rs=t=>t.join("/").replace(/\/\/+/g,"/"),RV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var zk=["POST","PUT","PATCH","DELETE"];new Set(zk);var LV=["GET",...zk];new Set(LV);var hd=_.createContext(null);hd.displayName="DataRouter";var Ky=_.createContext(null);Ky.displayName="DataRouterState";_.createContext(!1);var $k=_.createContext({isTransitioning:!1});$k.displayName="ViewTransition";var VV=_.createContext(new Map);VV.displayName="Fetchers";var UV=_.createContext(null);UV.displayName="Await";var ga=_.createContext(null);ga.displayName="Navigation";var Dh=_.createContext(null);Dh.displayName="Location";var ya=_.createContext({outlet:null,matches:[],isDataRoute:!1});ya.displayName="Route";var M2=_.createContext(null);M2.displayName="RouteError";function BV(t,{relative:e}={}){Gt(md(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(ga),{hash:i,pathname:a,search:l}=Mh(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:Rs([n,a])),r.createHref({pathname:u,search:l,hash:i})}function md(){return _.useContext(Dh)!=null}function hl(){return Gt(md(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Dh).location}var Fk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qk(t){_.useContext(ga).static||_.useLayoutEffect(t)}function qi(){let{isDataRoute:t}=_.useContext(ya);return t?eU():zV()}function zV(){Gt(md(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(hd),{basename:e,navigator:n}=_.useContext(ga),{matches:r}=_.useContext(ya),{pathname:i}=hl(),a=JSON.stringify(k2(r)),l=_.useRef(!1);return qk(()=>{l.current=!0}),_.useCallback((d,f={})=>{if(Ui(l.current,Fk),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=D2(d,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Rs([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,a,i,t])}_.createContext(null);function $V(){let{matches:t}=_.useContext(ya),e=t[t.length-1];return e?e.params:{}}function Mh(t,{relative:e}={}){let{matches:n}=_.useContext(ya),{pathname:r}=hl(),i=JSON.stringify(k2(n));return _.useMemo(()=>D2(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function FV(t,e){return Hk(t,e)}function Hk(t,e,n,r,i){Gt(md(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(ga),{matches:l}=_.useContext(ya),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let P=g&&g.path||"";Kk(f,!g||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let b=hl(),x;if(e){let P=typeof e=="string"?Oc(e):e;Gt(p==="/"||P.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${P.pathname}" was given in the \`location\` prop.`),x=P}else x=b;let A=x.pathname||"/",E=A;if(p!=="/"){let P=p.replace(/^\//,"").split("/");E="/"+A.replace(/^\//,"").split("/").slice(P.length).join("/")}let S=Vk(t,{pathname:E});Ui(g||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ui(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=WV(S&&S.map(P=>Object.assign({},P,{params:Object.assign({},d,P.params),pathname:Rs([p,a.encodeLocation?a.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:Rs([p,a.encodeLocation?a.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),l,n,r,i);return e&&C?_.createElement(Dh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function qV(){let t=JV(),e=MV(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,l)}var HV=_.createElement(qV,null),KV=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?_.createElement(ya.Provider,{value:this.props.routeContext},_.createElement(M2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GV({routeContext:t,match:e,children:n}){let r=_.useContext(hd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(ya.Provider,{value:t},n)}function WV(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let f=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Gt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:b}=n,x=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||x){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,p,g)=>{let b,x=!1,A=null,E=null;n&&(b=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||HV,u&&(d<0&&g===0?(Kk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):d===g&&(x=!0,E=p.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,g+1)),C=()=>{let P;return b?P=A:x?P=E:p.route.Component?P=_.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=f,_.createElement(GV,{match:p,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:P})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?_.createElement(KV,{location:n.location,revalidation:n.revalidation,component:A,error:b,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):C()},null)}function L2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YV(t){let e=_.useContext(hd);return Gt(e,L2(t)),e}function XV(t){let e=_.useContext(Ky);return Gt(e,L2(t)),e}function QV(t){let e=_.useContext(ya);return Gt(e,L2(t)),e}function V2(t){let e=QV(t),n=e.matches[e.matches.length-1];return Gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ZV(){return V2("useRouteId")}function JV(){let t=_.useContext(M2),e=XV("useRouteError"),n=V2("useRouteError");return t!==void 0?t:e.errors?.[n]}function eU(){let{router:t}=YV("useNavigate"),e=V2("useNavigate"),n=_.useRef(!1);return qk(()=>{n.current=!0}),_.useCallback(async(i,a={})=>{Ui(n.current,Fk),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var TN={};function Kk(t,e,n){!e&&!TN[t]&&(TN[t]=!0,Ui(!1,n))}_.memo(tU);function tU({routes:t,future:e,state:n,unstable_onError:r}){return Hk(t,void 0,n,r,e)}function dx({to:t,replace:e,state:n,relative:r}){Gt(md(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(ga);Ui(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(ya),{pathname:l}=hl(),u=qi(),d=D2(t,k2(a),l,r==="path"),f=JSON.stringify(d);return _.useEffect(()=>{u(JSON.parse(f),{replace:e,state:n,relative:r})},[u,f,r,e,n]),null}function kn(t){Gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nU({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Gt(!md(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=Oc(n));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:b="default"}=n,x=_.useMemo(()=>{let A=Bs(d,l);return A==null?null:{location:{pathname:A,search:f,hash:p,state:g,key:b},navigationType:r}},[l,d,f,p,g,b,r]);return Ui(x!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:_.createElement(ga.Provider,{value:u},_.createElement(Dh.Provider,{children:e,value:x}))}function fx({children:t,location:e}){return FV(u1(t),e)}function u1(t,e=[]){let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let a=[...e,i];if(r.type===_.Fragment){n.push.apply(n,u1(r.props.children,a));return}Gt(r.type===kn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=u1(r.props.children,a)),n.push(l)}),n}var ug="get",dg="application/x-www-form-urlencoded";function Gy(t){return t!=null&&typeof t.tagName=="string"}function rU(t){return Gy(t)&&t.tagName.toLowerCase()==="button"}function iU(t){return Gy(t)&&t.tagName.toLowerCase()==="form"}function aU(t){return Gy(t)&&t.tagName.toLowerCase()==="input"}function sU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oU(t,e){return t.button===0&&(!e||e==="_self")&&!sU(t)}var Lp=null;function lU(){if(Lp===null)try{new FormData(document.createElement("form"),0),Lp=!1}catch{Lp=!0}return Lp}var cU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hx(t){return t!=null&&!cU.has(t)?(Ui(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dg}"`),null):t}function uU(t,e){let n,r,i,a,l;if(iU(t)){let u=t.getAttribute("action");r=u?Bs(u,e):null,n=t.getAttribute("method")||ug,i=hx(t.getAttribute("enctype"))||dg,a=new FormData(t)}else if(rU(t)||aU(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?Bs(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||ug,i=hx(t.getAttribute("formenctype"))||hx(u.getAttribute("enctype"))||dg,a=new FormData(u,t),!lU()){let{name:f,type:p,value:g}=t;if(p==="image"){let b=f?`${f}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else f&&a.append(f,g)}}else{if(Gy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ug,r=null,i=dg,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function U2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dU(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Bs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function fU(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mU(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await fU(a,n);return l.links?l.links():[]}return[]}));return vU(r.flat(1).filter(hU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function CN(t,e,n,r,i,a){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):a==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function pU(t,e,{includeHydrateFallback:n}={}){return gU(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function gU(t){return[...new Set(t)]}function yU(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function vU(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(yU(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function Gk(){let t=_.useContext(hd);return U2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bU(){let t=_.useContext(Ky);return U2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var B2=_.createContext(void 0);B2.displayName="FrameworkContext";function Wk(){let t=_.useContext(B2);return U2(t,"You must render this element inside a <HydratedRouter> element"),t}function xU(t,e){let n=_.useContext(B2),[r,i]=_.useState(!1),[a,l]=_.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,b=_.useRef(null);_.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=C=>{C.forEach(P=>{l(P.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[t]),_.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let x=()=>{i(!0)},A=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,b,{}]:[a,b,{onFocus:qf(u,x),onBlur:qf(d,A),onMouseEnter:qf(f,x),onMouseLeave:qf(p,A),onTouchStart:qf(g,x)}]:[!1,b,{}]}function qf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function wU({page:t,...e}){let{router:n}=Gk(),r=_.useMemo(()=>Vk(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(EU,{page:t,matches:r,...e}):null}function _U(t){let{manifest:e,routeModules:n}=Wk(),[r,i]=_.useState([]);return _.useEffect(()=>{let a=!1;return mU(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function EU({page:t,matches:e,...n}){let r=hl(),{manifest:i,routeModules:a}=Wk(),{basename:l}=Gk(),{loaderData:u,matches:d}=bU(),f=_.useMemo(()=>CN(t,e,d,i,r,"data"),[t,e,d,i,r]),p=_.useMemo(()=>CN(t,e,d,i,r,"assets"),[t,e,d,i,r]),g=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,E=!1;if(e.forEach(C=>{let P=i.routes[C.route.id];!P||!P.hasLoader||(!f.some(N=>N.route.id===C.route.id)&&C.route.id in u&&a[C.route.id]?.shouldRevalidate||P.hasClientLoader?E=!0:A.add(C.route.id))}),A.size===0)return[];let S=dU(t,l,"data");return E&&A.size>0&&S.searchParams.set("_routes",e.filter(C=>A.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[l,u,r,i,f,e,t,a]),b=_.useMemo(()=>pU(p,i),[p,i]),x=_U(p);return _.createElement(_.Fragment,null,g.map(A=>_.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),b.map(A=>_.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),x.map(({key:A,link:E})=>_.createElement("link",{key:A,nonce:n.nonce,...E})))}function AU(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Yk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yk&&(window.__reactRouterVersion="7.9.1")}catch{}function SU({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=hV({window:n,v5Compat:!0}));let i=r.current,[a,l]=_.useState({action:i.action,location:i.location}),u=_.useCallback(d=>{_.startTransition(()=>l(d))},[l]);return _.useLayoutEffect(()=>i.listen(u),[i,u]),_.createElement(nU,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var Xk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:g,...b},x){let{basename:A}=_.useContext(ga),E=typeof f=="string"&&Xk.test(f),S,C=!1;if(typeof f=="string"&&E&&(S=f,Yk))try{let k=new URL(window.location.href),$=f.startsWith("//")?new URL(k.protocol+f):new URL(f),V=Bs($.pathname,A);$.origin===k.origin&&V!=null?f=V+$.search+$.hash:C=!0}catch{Ui(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=BV(f,{relative:i}),[N,L,M]=xU(r,b),U=PU(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:g});function R(k){e&&e(k),k.defaultPrevented||U(k)}let I=_.createElement("a",{...b,...M,href:S||P,onClick:C||a?e:R,ref:AU(x,L),target:d,"data-discover":!E&&n==="render"?"true":void 0});return N&&!E?_.createElement(_.Fragment,null,I,_.createElement(wU,{page:P})):I});tt.displayName="Link";var TU=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:d,...f},p){let g=Mh(l,{relative:f.relative}),b=hl(),x=_.useContext(Ky),{navigator:A,basename:E}=_.useContext(ga),S=x!=null&&kU(g)&&u===!0,C=A.encodeLocation?A.encodeLocation(g).pathname:g.pathname,P=b.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(P=P.toLowerCase(),N=N?N.toLowerCase():null,C=C.toLowerCase()),N&&E&&(N=Bs(N,E)||N);const L=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let M=P===C||!i&&P.startsWith(C)&&P.charAt(L)==="/",U=N!=null&&(N===C||!i&&N.startsWith(C)&&N.charAt(C.length)==="/"),R={isActive:M,isPending:U,isTransitioning:S},I=M?e:void 0,k;typeof r=="function"?k=r(R):k=[r,M?"active":null,U?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let $=typeof a=="function"?a(R):a;return _.createElement(tt,{...f,"aria-current":I,className:k,ref:p,style:$,to:l,viewTransition:u},typeof d=="function"?d(R):d)});TU.displayName="NavLink";var CU=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=ug,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,...b},x)=>{let A=IU(),E=RU(u,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&Xk.test(u),P=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let L=N.nativeEvent.submitter,M=L?.getAttribute("formmethod")||l;A(L||N.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:g})};return _.createElement("form",{ref:x,method:S,action:E,onSubmit:r?d:P,...b,"data-discover":!C&&t==="render"?"true":void 0})});CU.displayName="Form";function NU(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qk(t){let e=_.useContext(hd);return Gt(e,NU(t)),e}function PU(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=qi(),d=hl(),f=Mh(t,{relative:a});return _.useCallback(p=>{if(oU(p,e)){p.preventDefault();let g=n!==void 0?n:ph(d)===ph(f);u(t,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[d,u,f,n,r,e,t,i,a,l])}var jU=0,OU=()=>`__${String(++jU)}__`;function IU(){let{router:t}=Qk("useSubmit"),{basename:e}=_.useContext(ga),n=ZV();return _.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:d,body:f}=uU(r,e);if(i.navigate===!1){let p=i.fetcherKey||OU();await t.fetch(p,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function RU(t,{relative:e}={}){let{basename:n}=_.useContext(ga),r=_.useContext(ya);Gt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Mh(t||".",{relative:e})},l=hl();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Rs([n,a.pathname])),ph(a)}function kU(t,{relative:e}={}){let n=_.useContext($k);Gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Qk("useViewTransitionState"),i=Mh(t,{relative:e});if(!n.isTransitioning)return!1;let a=Bs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Bs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ag(i.pathname,l)!=null||Ag(i.pathname,a)!=null}var Zk=Lk();const DU=()=>{};var NN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},MU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},eD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,p=a>>2,g=(a&3)<<4|u>>4;let b=(u&15)<<2|f>>6,x=f&63;d||(x=64,l||(b=64)),r.push(n[p],n[g],n[b],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Jk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||g==null)throw new LU;const b=a<<2|u>>4;if(r.push(b),f!==64){const x=u<<4&240|f>>2;if(r.push(x),g!==64){const A=f<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VU=function(t){const e=Jk(t);return eD.encodeByteArray(e,!0)},Sg=function(t){return VU(t).replace(/\./g,"")},tD=function(t){try{return eD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=()=>UU().__FIREBASE_DEFAULTS__,zU=()=>{if(typeof process>"u"||typeof NN>"u")return;const t=NN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$U=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tD(t[1]);return e&&JSON.parse(e)},Wy=()=>{try{return DU()||BU()||zU()||$U()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nD=t=>Wy()?.emulatorHosts?.[t],rD=t=>{const e=nD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iD=()=>Wy()?.config,aD=t=>Wy()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Sg(JSON.stringify(n)),Sg(JSON.stringify(l)),""].join(".")}const oh={};function qU(){const t={prod:[],emulator:[]};for(const e of Object.keys(oh))oh[e]?t.emulator.push(e):t.prod.push(e);return t}function HU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let PN=!1;function $2(t,e){if(typeof window>"u"||typeof document>"u"||!Ic(window.location.host)||oh[t]===e||oh[t]||PN)return;oh[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",a=qU().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{PN=!0,l()},b}function p(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=HU(r),x=n("text"),A=document.getElementById(x)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),C=n("preprendIcon"),P=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const N=b.element;u(N),p(S,E);const L=f();d(P,C),N.append(P,A,S,L),document.body.appendChild(N)}a?(A.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(br())}function GU(){const t=Wy()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QU(){const t=br();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZU(){return!GU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JU(){try{return typeof indexedDB=="object"}catch{return!1}}function eB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB="FirebaseError";class Za extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tB,Object.setPrototypeOf(this,Za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lh.prototype.create)}}class Lh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?nB(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Za(i,u,r)}}function nB(t,e){return t.replace(rB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rB=/\{\$([^}]+)}/g;function iB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(jN(a)&&jN(l)){if(!zs(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function eh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aB(t,e){const n=new sB(t,e);return n.subscribe.bind(n)}class sB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mx),i.error===void 0&&(i.error=mx),i.complete===void 0&&(i.complete=mx);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){return t&&t._delegate?t._delegate:t}class nl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lB=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new FU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uB(e))try{this.getOrInitializeService({instanceIdentifier:tc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=tc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tc){return this.instances.has(e)}getOptions(e=tc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tc){return this.component?this.component.multipleInstances?e:tc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cB(t){return t===tc?void 0:t}function uB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const fB={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},hB=nt.INFO,mB={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},pB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=mB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class F2{constructor(e){this.name=e,this._logLevel=hB,this._logHandler=pB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const gB=(t,e)=>e.some(n=>t instanceof n);let ON,IN;function yB(){return ON||(ON=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vB(){return IN||(IN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oD=new WeakMap,d1=new WeakMap,lD=new WeakMap,px=new WeakMap,q2=new WeakMap;function bB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Xo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&oD.set(n,t)}).catch(()=>{}),q2.set(e,t),e}function xB(t){if(d1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});d1.set(t,e)}let f1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return d1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wB(t){f1=t(f1)}function _B(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gx(this),e,...n);return lD.set(r,e.sort?e.sort():[e]),Xo(r)}:vB().includes(t)?function(...e){return t.apply(gx(this),e),Xo(oD.get(this))}:function(...e){return Xo(t.apply(gx(this),e))}}function EB(t){return typeof t=="function"?_B(t):(t instanceof IDBTransaction&&xB(t),gB(t,yB())?new Proxy(t,f1):t)}function Xo(t){if(t instanceof IDBRequest)return bB(t);if(px.has(t))return px.get(t);const e=EB(t);return e!==t&&(px.set(t,e),q2.set(e,t)),e}const gx=t=>q2.get(t);function AB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=Xo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Xo(l.result),d.oldVersion,d.newVersion,Xo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const SB=["get","getKey","getAll","getAllKeys","count"],TB=["put","add","delete","clear"],yx=new Map;function RN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yx.get(e))return yx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SB.includes(n)))return;const a=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&d.done]))[0]};return yx.set(e,a),a}wB(t=>({...t,get:(e,n,r)=>RN(e,n)||t.get(e,n,r),has:(e,n)=>!!RN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NB(t){return t.getComponent()?.type==="VERSION"}const h1="@firebase/app",kN="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new F2("@firebase/app"),PB="@firebase/app-compat",jB="@firebase/analytics-compat",OB="@firebase/analytics",IB="@firebase/app-check-compat",RB="@firebase/app-check",kB="@firebase/auth",DB="@firebase/auth-compat",MB="@firebase/database",LB="@firebase/data-connect",VB="@firebase/database-compat",UB="@firebase/functions",BB="@firebase/functions-compat",zB="@firebase/installations",$B="@firebase/installations-compat",FB="@firebase/messaging",qB="@firebase/messaging-compat",HB="@firebase/performance",KB="@firebase/performance-compat",GB="@firebase/remote-config",WB="@firebase/remote-config-compat",YB="@firebase/storage",XB="@firebase/storage-compat",QB="@firebase/firestore",ZB="@firebase/ai",JB="@firebase/firestore-compat",ez="firebase",tz="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="[DEFAULT]",nz={[h1]:"fire-core",[PB]:"fire-core-compat",[OB]:"fire-analytics",[jB]:"fire-analytics-compat",[RB]:"fire-app-check",[IB]:"fire-app-check-compat",[kB]:"fire-auth",[DB]:"fire-auth-compat",[MB]:"fire-rtdb",[LB]:"fire-data-connect",[VB]:"fire-rtdb-compat",[UB]:"fire-fn",[BB]:"fire-fn-compat",[zB]:"fire-iid",[$B]:"fire-iid-compat",[FB]:"fire-fcm",[qB]:"fire-fcm-compat",[HB]:"fire-perf",[KB]:"fire-perf-compat",[GB]:"fire-rc",[WB]:"fire-rc-compat",[YB]:"fire-gcs",[XB]:"fire-gcs-compat",[QB]:"fire-fst",[JB]:"fire-fst-compat",[ZB]:"fire-vertex","fire-js":"fire-js",[ez]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=new Map,rz=new Map,p1=new Map;function DN(t,e){try{t.container.addComponent(e)}catch(n){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vc(t){const e=t.name;if(p1.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;p1.set(e,t);for(const n of Tg.values())DN(n,t);for(const n of rz.values())DN(n,t);return!0}function Yy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qo=new Lh("app","Firebase",iz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=tz;function cD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:m1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Qo.create("bad-app-name",{appName:String(i)});if(n||(n=iD()),!n)throw Qo.create("no-options");const a=Tg.get(i);if(a){if(zs(n,a.options)&&zs(r,a.config))return a;throw Qo.create("duplicate-app",{appName:i})}const l=new dB(i);for(const d of p1.values())l.addComponent(d);const u=new az(n,r,l);return Tg.set(i,u),u}function H2(t=m1){const e=Tg.get(t);if(!e&&t===m1&&iD())return cD();if(!e)throw Qo.create("no-app",{appName:t});return e}function Va(t,e,n){let r=nz[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(l.join(" "));return}vc(new nl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz="firebase-heartbeat-database",oz=1,gh="firebase-heartbeat-store";let vx=null;function uD(){return vx||(vx=AB(sz,oz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qo.create("idb-open",{originalErrorMessage:t.message})})),vx}async function lz(t){try{const n=(await uD()).transaction(gh),r=await n.objectStore(gh).get(dD(t));return await n.done,r}catch(e){if(e instanceof Za)$s.warn(e.message);else{const n=Qo.create("idb-get",{originalErrorMessage:e?.message});$s.warn(n.message)}}}async function MN(t,e){try{const r=(await uD()).transaction(gh,"readwrite");await r.objectStore(gh).put(e,dD(t)),await r.done}catch(n){if(n instanceof Za)$s.warn(n.message);else{const r=Qo.create("idb-set",{originalErrorMessage:n?.message});$s.warn(r.message)}}}function dD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=1024,uz=30;class dz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=LN();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>uz){const i=mz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=LN(),{heartbeatsToSend:n,unsentEntries:r}=fz(this._heartbeatsCache.heartbeats),i=Sg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return $s.warn(e),""}}}function LN(){return new Date().toISOString().substring(0,10)}function fz(t,e=cz){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),VN(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),VN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JU()?eB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lz(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return MN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return MN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function VN(t){return Sg(JSON.stringify({version:2,heartbeats:t})).length}function mz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(t){vc(new nl("platform-logger",e=>new CB(e),"PRIVATE")),vc(new nl("heartbeat",e=>new dz(e),"PRIVATE")),Va(h1,kN,t),Va(h1,kN,"esm2020"),Va("fire-js","")}pz("");function fD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gz=fD,hD=new Lh("auth","Firebase",fD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=new F2("@firebase/auth");function yz(t,...e){Cg.logLevel<=nt.WARN&&Cg.warn(`Auth (${Rc}): ${t}`,...e)}function fg(t,...e){Cg.logLevel<=nt.ERROR&&Cg.error(`Auth (${Rc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,...e){throw G2(t,...e)}function ua(t,...e){return G2(t,...e)}function K2(t,e,n){const r={...gz(),[e]:n};return new Lh("auth","Firebase",r).create(e,{appName:t.name})}function ks(t){return K2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Bi(t,"argument-error"),K2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function G2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hD.create(t,...e)}function Ue(t,e,...n){if(!t)throw G2(e,...n)}function Ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fg(e),new Error(e)}function Fs(t,e){t||Ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){return typeof self<"u"&&self.location?.href||""}function bz(){return UN()==="http:"||UN()==="https:"}function UN(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bz()||YU()||"connection"in navigator)?navigator.onLine:!0}function wz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=KU()||XU()}get(){return xz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t,e){Fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Az=new Uh(3e4,6e4);function Zs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ja(t,e,n,r,i={}){return pD(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Vh({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...a};return WU()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Ic(t.emulatorConfig.host)&&(f.credentials="include"),mD.fetch()(await gD(t,t.config.apiHost,n,u),f)})}async function pD(t,e,n){t._canInitEmulator=!1;const r={..._z,...e};try{const i=new Tz(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Vp(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vp(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Vp(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Vp(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw K2(t,p,f);Bi(t,p)}}catch(i){if(i instanceof Za)throw i;Bi(t,"network-request-failed",{message:String(i)})}}async function Bh(t,e,n,r,i={}){const a=await Ja(t,e,n,r,i);return"mfaPendingCredential"in a&&Bi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function gD(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?W2(t.config,i):`${t.config.apiScheme}://${i}`;return Ez.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function Sz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Tz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ua(this.auth,"network-request-failed")),Az.get())})}}function Vp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ua(t,e,r);return i.customData._tokenResponse=n,i}function BN(t){return t!==void 0&&t.enterprise!==void 0}class Cz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Sz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Nz(t,e){return Ja(t,"GET","/v2/recaptchaConfig",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pz(t,e){return Ja(t,"POST","/v1/accounts:delete",e)}async function Ng(t,e){return Ja(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jz(t,e=!1){const n=ln(t),r=await n.getIdToken(e),i=Y2(r);Ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:lh(bx(i.auth_time)),issuedAtTime:lh(bx(i.iat)),expirationTime:lh(bx(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function bx(t){return Number(t)*1e3}function Y2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fg("JWT malformed, contained fewer than 3 sections"),null;try{const i=tD(n);return i?JSON.parse(i):(fg("Failed to decode base64 JWT payload"),null)}catch(i){return fg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function zN(t){const e=Y2(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Za&&Oz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Oz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lh(this.lastLoginAt),this.creationTime=lh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pg(t){const e=t.auth,n=await t.getIdToken(),r=await Ku(t,Ng(e,{idToken:n}));Ue(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?yD(i.providerUserInfo):[],l=kz(t.providerData,a),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,f=u?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new y1(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function Rz(t){const e=ln(t);await Pg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dz(t,e){const n=await pD(t,{},async()=>{const r=Vh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await gD(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&Ic(t.emulatorConfig.host)&&(d.credentials="include"),mD.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Mz(t,e){return Ja(t,"POST","/v2/accounts:revokeToken",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=zN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Dz(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Mu;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ue(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ue(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mu,this.toJSON())}_performRefresh(){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class la{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Iz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new y1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ku(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jz(this,e)}reload(){return Rz(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new la({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zr(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await Ku(this,Pz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:b,isAnonymous:x,providerData:A,stsTokenManager:E}=n;Ue(g&&E,e,"internal-error");const S=Mu.fromJSON(this.name,E);Ue(typeof g=="string",e,"internal-error"),Bo(r,e.name),Bo(i,e.name),Ue(typeof b=="boolean",e,"internal-error"),Ue(typeof x=="boolean",e,"internal-error"),Bo(a,e.name),Bo(l,e.name),Bo(u,e.name),Bo(d,e.name),Bo(f,e.name),Bo(p,e.name);const C=new la({uid:g,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:x,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:S,createdAt:f,lastLoginAt:p});return A&&Array.isArray(A)&&(C.providerData=A.map(P=>({...P}))),d&&(C._redirectEventId=d),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Mu;i.updateFromServerResponse(n);const a=new la({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ue(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?yD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,u=new Mu;u.updateFromIdToken(r);const d=new la({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new y1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new Map;function Ps(t){Fs(t instanceof Function,"Expected a class definition");let e=$N.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$N.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vD.type="NONE";const FN=vD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t,e,n){return`firebase:${t}:${e}:${n}`}class Lu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=hg(this.userKey,i.apiKey,a),this.fullPersistenceKey=hg("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ng(this.auth,{idToken:e}).catch(()=>{});return n?la._fromGetAccountInfoResponse(this.auth,n,e):null}return la._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Lu(Ps(FN),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Ps(FN);const l=hg(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const p=await f._get(l);if(p){let g;if(typeof p=="string"){const b=await Ng(e,{idToken:p}).catch(()=>{});if(!b)break;g=await la._fromGetAccountInfoResponse(e,b,p)}else g=la._fromJSON(e,p);f!==a&&(u=g),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Lu(a,e,r):(a=d[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Lu(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_D(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AD(e))return"Blackberry";if(SD(e))return"Webos";if(xD(e))return"Safari";if((e.includes("chrome/")||wD(e))&&!e.includes("edge/"))return"Chrome";if(ED(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function bD(t=br()){return/firefox\//i.test(t)}function xD(t=br()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wD(t=br()){return/crios\//i.test(t)}function _D(t=br()){return/iemobile/i.test(t)}function ED(t=br()){return/android/i.test(t)}function AD(t=br()){return/blackberry/i.test(t)}function SD(t=br()){return/webos/i.test(t)}function X2(t=br()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Lz(t=br()){return X2(t)&&!!window.navigator?.standalone}function Vz(){return QU()&&document.documentMode===10}function TD(t=br()){return X2(t)||ED(t)||SD(t)||AD(t)||/windows phone/i.test(t)||_D(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t,e=[]){let n;switch(t){case"Browser":n=qN(br());break;case"Worker":n=`${qN(br())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const d=e(a);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bz(t,e={}){return Ja(t,"GET","/v2/passwordPolicy",Zs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=6;class $z{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zz,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HN(this),this.idTokenSubscription=new HN(this),this.beforeStateQueue=new Uz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Lu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ng(this,{idToken:e}),r=await la._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zr(this.app))return Promise.reject(ks(this));const n=e?ln(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zr(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zr(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Bz(this),n=new $z(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Mz(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ps(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await Lu.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yz(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Js(t){return ln(t)}class HN{constructor(e){this.auth=e,this.observer=null,this.addObserver=aB(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qz(t){Xy=t}function ND(t){return Xy.loadJS(t)}function Hz(){return Xy.recaptchaEnterpriseScript}function Kz(){return Xy.gapiScript}function Gz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Wz{constructor(){this.enterprise=new Yz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Yz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Xz="recaptcha-enterprise",PD="NO_RECAPTCHA";class Qz{constructor(e){this.type=Xz,this.auth=Js(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{Nz(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new Cz(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function i(a,l,u){const d=window.grecaptcha;BN(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(PD)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Wz().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&BN(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Hz();d.length!==0&&(d+=u),ND(d).then(()=>{i(u,a,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function KN(t,e,n,r=!1,i=!1){const a=new Qz(t);let l;if(i)l=PD;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function jg(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await KN(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await KN(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t,e){const n=Yy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(zs(a,e??{}))return i;Bi(i,"already-initialized")}return n.initialize({options:e})}function Jz(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ps);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function e$(t,e,n){const r=Js(t);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=jD(e),{host:l,port:u}=t$(e),d=u===null?"":`:${u}`,f={url:`${a}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(zs(f,r.config.emulator)&&zs(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Ic(l)?(z2(`${a}//${l}${d}`),$2("Auth",!0)):n$()}function jD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function t$(t){const e=jD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:GN(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:GN(l)}}}function GN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function n$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,n){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function r$(t,e){return Ja(t,"POST","/v1/accounts:update",e)}async function i$(t,e){return Ja(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a$(t,e){return Bh(t,"POST","/v1/accounts:signInWithPassword",Zs(t,e))}async function s$(t,e){return Ja(t,"POST","/v1/accounts:sendOobCode",Zs(t,e))}async function o$(t,e){return s$(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l$(t,e){return Bh(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}async function c$(t,e){return Bh(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends Q2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new yh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jg(e,n,"signInWithPassword",a$);case"emailLink":return l$(e,{email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jg(e,r,"signUpPassword",i$);case"emailLink":return c$(e,{idToken:n,email:this._email,oobCode:this._password});default:Bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(t,e){return Bh(t,"POST","/v1/accounts:signInWithIdp",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$="http://localhost";class bc extends Q2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new bc(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Vu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vu(e,n)}buildRequest(){const e={requestUri:u$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function f$(t){const e=Jf(eh(t)).link,n=e?Jf(eh(e)).deep_link_id:null,r=Jf(eh(t)).deep_link_id;return(r?Jf(eh(r)).link:null)||r||n||e||t}class Z2{constructor(e){const n=Jf(eh(e)),r=n.apiKey??null,i=n.oobCode??null,a=d$(n.mode??null);Ue(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=f$(e);try{return new Z2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this.providerId=kc.PROVIDER_ID}static credential(e,n){return yh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Z2.parseLink(n);return Ue(r,"argument-error"),yh._fromEmailAndCode(e,r.code,r.tenantId)}}kc.PROVIDER_ID="password";kc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends J2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends zh{constructor(){super("facebook.com")}static credential(e){return bc._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fo.credential(e.oauthAccessToken)}catch{return null}}}Fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends zh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bc._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ma.credential(n,r)}catch{return null}}}Ma.GOOGLE_SIGN_IN_METHOD="google.com";Ma.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends zh{constructor(){super("github.com")}static credential(e){return bc._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qo.credential(e.oauthAccessToken)}catch{return null}}}qo.GITHUB_SIGN_IN_METHOD="github.com";qo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends zh{constructor(){super("twitter.com")}static credential(e,n){return bc._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ho.credential(n,r)}catch{return null}}}Ho.TWITTER_SIGN_IN_METHOD="twitter.com";Ho.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h$(t,e){return Bh(t,"POST","/v1/accounts:signUp",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await la._fromIdTokenResponse(e,r,i),l=WN(r);return new xc({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=WN(r);return new xc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function WN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og extends Za{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Og.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Og(e,n,r,i)}}function OD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Og._fromErrorAndOperation(t,a,e,r):a})}async function m$(t,e,n=!1){const r=await Ku(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(t,e,n=!1){const{auth:r}=t;if(zr(r.app))return Promise.reject(ks(r));const i="reauthenticate";try{const a=await Ku(t,OD(r,i,e,t),n);Ue(a.idToken,r,"internal-error");const l=Y2(a.idToken);Ue(l,r,"internal-error");const{sub:u}=l;return Ue(t.uid===u,r,"user-mismatch"),xc._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Bi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(t,e,n=!1){if(zr(t.app))return Promise.reject(ks(t));const r="signIn",i=await OD(t,r,e),a=await xc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function p$(t,e){return RD(Js(t),e)}async function g$(t,e){return ID(ln(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t){const e=Js(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function y$(t,e,n){const r=Js(t);await jg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",o$)}async function v$(t,e,n){if(zr(t.app))return Promise.reject(ks(t));const r=Js(t),l=await jg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",h$).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&kD(t),d}),u=await xc._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function b$(t,e,n){return zr(t.app)?Promise.reject(ks(t)):p$(ln(t),kc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kD(t),r})}function x$(t,e){return w$(ln(t),null,e)}async function w$(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const l=await Ku(t,r$(r,a));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t,e){return ln(t).setPersistence(e)}function E$(t,e,n,r){return ln(t).onIdTokenChanged(e,n,r)}function A$(t,e,n){return ln(t).beforeAuthStateChanged(e,n)}function S$(t,e,n,r){return ln(t).onAuthStateChanged(e,n,r)}function DD(t){return ln(t).signOut()}const Ig="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ig,"1"),this.storage.removeItem(Ig),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=1e3,C$=10;class LD extends MD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);Vz()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,C$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},T$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LD.type="LOCAL";const VD=LD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD extends MD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UD.type="SESSION";const BD=UD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Qy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(n.origin,a)),d=await N$(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,d)=>{const f=e_("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const b=g;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(b.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(){return window}function j$(t){Ua().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(){return typeof Ua().WorkerGlobalScope<"u"&&typeof Ua().importScripts=="function"}async function O$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I$(){return navigator?.serviceWorker?.controller||null}function R$(){return zD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="firebaseLocalStorageDb",k$=1,Rg="firebaseLocalStorage",FD="fbase_key";class $h{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zy(t,e){return t.transaction([Rg],e?"readwrite":"readonly").objectStore(Rg)}function D$(){const t=indexedDB.deleteDatabase($D);return new $h(t).toPromise()}function v1(){const t=indexedDB.open($D,k$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rg,{keyPath:FD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rg)?e(r):(r.close(),await D$(),e(await v1()))})})}async function YN(t,e,n){const r=Zy(t,!0).put({[FD]:e,value:n});return new $h(r).toPromise()}async function M$(t,e){const n=Zy(t,!1).get(e),r=await new $h(n).toPromise();return r===void 0?null:r.value}function XN(t,e){const n=Zy(t,!0).delete(e);return new $h(n).toPromise()}const L$=800,V$=3;class qD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>V$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qy._getInstance(R$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await O$(),!this.activeServiceWorker)return;this.sender=new P$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await v1();return await YN(e,Ig,"1"),await XN(e,Ig),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>M$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Zy(i,!1).getAll();return new $h(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qD.type="LOCAL";const U$=qD;new Uh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t,e){return e?Ps(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_ extends Q2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B$(t){return RD(t.auth,new t_(t),t.bypassAuthState)}function z$(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),ID(n,new t_(t),t.bypassAuthState)}async function $$(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),m$(n,new t_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B$;case"linkViaPopup":case"linkViaRedirect":return $$;case"reauthViaPopup":case"reauthViaRedirect":return z$;default:Bi(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$=new Uh(2e3,1e4);async function GD(t,e,n){if(zr(t.app))return Promise.reject(ua(t,"operation-not-supported-in-this-environment"));const r=Js(t);vz(t,e,J2);const i=HD(r,n);return new ac(r,"signInViaPopup",e,i).executeNotNull()}class ac extends KD{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ac.currentPopupAction&&ac.currentPopupAction.cancel(),ac.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const e=e_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ua(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ua(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ac.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ua(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F$.get())};e()}}ac.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="pendingRedirect",mg=new Map;class H$ extends KD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mg.get(this.auth._key());if(!e){try{const r=await K$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mg.set(this.auth._key(),e)}return this.bypassAuthState||mg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K$(t,e){const n=Y$(e),r=W$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function G$(t,e){mg.set(t._key(),e)}function W$(t){return Ps(t._redirectPersistence)}function Y$(t){return hg(q$,t.config.apiKey,t.name)}async function X$(t,e,n=!1){if(zr(t.app))return Promise.reject(ks(t));const r=Js(t),i=HD(r,e),l=await new H$(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$=600*1e3;class Z${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!WD(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ua(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q$&&this.cachedEventUids.clear(),this.cachedEventUids.has(QN(e))}saveEventToCache(e){this.cachedEventUids.add(QN(e)),this.lastProcessedEventTime=Date.now()}}function QN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function J$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eF(t,e={}){return Ja(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nF=/^https?/;async function rF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eF(t);for(const n of e)try{if(iF(n))return}catch{}Bi(t,"unauthorized-domain")}function iF(t){const e=g1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!nF.test(n))return!1;if(tF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=new Uh(3e4,6e4);function ZN(){const t=Ua().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sF(t){return new Promise((e,n)=>{function r(){ZN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZN(),n(ua(t,"network-request-failed"))},timeout:aF.get()})}if(Ua().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ua().gapi?.load)r();else{const i=Gz("iframefcb");return Ua()[i]=()=>{gapi.load?r():n(ua(t,"network-request-failed"))},ND(`${Kz()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw pg=null,e})}let pg=null;function oF(t){return pg=pg||sF(t),pg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=new Uh(5e3,15e3),cF="__/auth/iframe",uF="emulator/auth/iframe",dF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hF(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?W2(e,uF):`https://${t.config.authDomain}/${cF}`,r={apiKey:e.apiKey,appName:t.name,v:Rc},i=fF.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Vh(r).slice(1)}`}async function mF(t){const e=await oF(t),n=Ua().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:hF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dF,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=ua(t,"network-request-failed"),u=Ua().setTimeout(()=>{a(l)},lF.get());function d(){Ua().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gF=500,yF=600,vF="_blank",bF="http://localhost";class JN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xF(t,e,n,r=gF,i=yF){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...pF,width:r.toString(),height:i.toString(),top:a,left:l},f=br().toLowerCase();n&&(u=wD(f)?vF:n),bD(f)&&(e=e||bF,d.scrollbars="yes");const p=Object.entries(d).reduce((b,[x,A])=>`${b}${x}=${A},`,"");if(Lz(f)&&u!=="_self")return wF(e||"",u),new JN(null);const g=window.open(e||"",u,p);Ue(g,t,"popup-blocked");try{g.focus()}catch{}return new JN(g)}function wF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F="__/auth/handler",EF="emulator/auth/handler",AF=encodeURIComponent("fac");async function eP(t,e,n,r,i,a){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Rc,eventId:i};if(e instanceof J2){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",iB(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof zh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),f=d?`#${AF}=${encodeURIComponent(d)}`:"";return`${SF(t)}?${Vh(u).slice(1)}${f}`}function SF({config:t}){return t.emulator?W2(t,EF):`https://${t.authDomain}/${_F}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="webStorageSupport";class TF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BD,this._completeRedirectFn=X$,this._overrideRedirectResult=G$}async _openPopup(e,n,r,i){Fs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await eP(e,n,r,g1(),i);return xF(e,a,e_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await eP(e,n,r,g1(),i);return j$(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Fs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await mF(e),r=new Z$(e);return n.register("authEvent",i=>(Ue(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xx,{type:xx},i=>{const a=i?.[0]?.[xx];a!==void 0&&n(!!a),Bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TD()||xD()||X2()}}const CF=TF;var tP="@firebase/auth",nP="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jF(t){vc(new nl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ue(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CD(t)},f=new Fz(r,i,a,d);return Jz(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vc(new nl("auth-internal",e=>{const n=Js(e.getProvider("auth").getImmediate());return(r=>new NF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Va(tP,nP,PF(t)),Va(tP,nP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=300,IF=aD("authIdTokenMaxAge")||OF;let rP=null;const RF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>IF)return;const i=n?.token;rP!==i&&(rP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kF(t=H2()){const e=Yy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Zz(t,{popupRedirectResolver:CF,persistence:[U$,VD,BD]}),r=aD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=RF(a.toString());A$(n,l,()=>l(n.currentUser)),E$(n,u=>l(u))}}const i=nD("auth");return i&&e$(n,`http://${i}`),n}function DF(){return document.getElementsByTagName("head")?.[0]??document}qz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=ua("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",DF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jF("Browser");var MF="firebase",LF="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Va(MF,LF,"app");var iP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zo,YD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function k(){}k.prototype=I.prototype,R.F=I.prototype,R.prototype=new k,R.prototype.constructor=R,R.D=function($,V,F){for(var B=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)B[ve-2]=arguments[ve];return I.prototype[V].apply($,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,I,k){k||(k=0);const $=Array(16);if(typeof I=="string")for(var V=0;V<16;++V)$[V]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(V=0;V<16;++V)$[V]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=R.g[0],k=R.g[1],V=R.g[2];let F=R.g[3],B;B=I+(F^k&(V^F))+$[0]+3614090360&4294967295,I=k+(B<<7&4294967295|B>>>25),B=F+(V^I&(k^V))+$[1]+3905402710&4294967295,F=I+(B<<12&4294967295|B>>>20),B=V+(k^F&(I^k))+$[2]+606105819&4294967295,V=F+(B<<17&4294967295|B>>>15),B=k+(I^V&(F^I))+$[3]+3250441966&4294967295,k=V+(B<<22&4294967295|B>>>10),B=I+(F^k&(V^F))+$[4]+4118548399&4294967295,I=k+(B<<7&4294967295|B>>>25),B=F+(V^I&(k^V))+$[5]+1200080426&4294967295,F=I+(B<<12&4294967295|B>>>20),B=V+(k^F&(I^k))+$[6]+2821735955&4294967295,V=F+(B<<17&4294967295|B>>>15),B=k+(I^V&(F^I))+$[7]+4249261313&4294967295,k=V+(B<<22&4294967295|B>>>10),B=I+(F^k&(V^F))+$[8]+1770035416&4294967295,I=k+(B<<7&4294967295|B>>>25),B=F+(V^I&(k^V))+$[9]+2336552879&4294967295,F=I+(B<<12&4294967295|B>>>20),B=V+(k^F&(I^k))+$[10]+4294925233&4294967295,V=F+(B<<17&4294967295|B>>>15),B=k+(I^V&(F^I))+$[11]+2304563134&4294967295,k=V+(B<<22&4294967295|B>>>10),B=I+(F^k&(V^F))+$[12]+1804603682&4294967295,I=k+(B<<7&4294967295|B>>>25),B=F+(V^I&(k^V))+$[13]+4254626195&4294967295,F=I+(B<<12&4294967295|B>>>20),B=V+(k^F&(I^k))+$[14]+2792965006&4294967295,V=F+(B<<17&4294967295|B>>>15),B=k+(I^V&(F^I))+$[15]+1236535329&4294967295,k=V+(B<<22&4294967295|B>>>10),B=I+(V^F&(k^V))+$[1]+4129170786&4294967295,I=k+(B<<5&4294967295|B>>>27),B=F+(k^V&(I^k))+$[6]+3225465664&4294967295,F=I+(B<<9&4294967295|B>>>23),B=V+(I^k&(F^I))+$[11]+643717713&4294967295,V=F+(B<<14&4294967295|B>>>18),B=k+(F^I&(V^F))+$[0]+3921069994&4294967295,k=V+(B<<20&4294967295|B>>>12),B=I+(V^F&(k^V))+$[5]+3593408605&4294967295,I=k+(B<<5&4294967295|B>>>27),B=F+(k^V&(I^k))+$[10]+38016083&4294967295,F=I+(B<<9&4294967295|B>>>23),B=V+(I^k&(F^I))+$[15]+3634488961&4294967295,V=F+(B<<14&4294967295|B>>>18),B=k+(F^I&(V^F))+$[4]+3889429448&4294967295,k=V+(B<<20&4294967295|B>>>12),B=I+(V^F&(k^V))+$[9]+568446438&4294967295,I=k+(B<<5&4294967295|B>>>27),B=F+(k^V&(I^k))+$[14]+3275163606&4294967295,F=I+(B<<9&4294967295|B>>>23),B=V+(I^k&(F^I))+$[3]+4107603335&4294967295,V=F+(B<<14&4294967295|B>>>18),B=k+(F^I&(V^F))+$[8]+1163531501&4294967295,k=V+(B<<20&4294967295|B>>>12),B=I+(V^F&(k^V))+$[13]+2850285829&4294967295,I=k+(B<<5&4294967295|B>>>27),B=F+(k^V&(I^k))+$[2]+4243563512&4294967295,F=I+(B<<9&4294967295|B>>>23),B=V+(I^k&(F^I))+$[7]+1735328473&4294967295,V=F+(B<<14&4294967295|B>>>18),B=k+(F^I&(V^F))+$[12]+2368359562&4294967295,k=V+(B<<20&4294967295|B>>>12),B=I+(k^V^F)+$[5]+4294588738&4294967295,I=k+(B<<4&4294967295|B>>>28),B=F+(I^k^V)+$[8]+2272392833&4294967295,F=I+(B<<11&4294967295|B>>>21),B=V+(F^I^k)+$[11]+1839030562&4294967295,V=F+(B<<16&4294967295|B>>>16),B=k+(V^F^I)+$[14]+4259657740&4294967295,k=V+(B<<23&4294967295|B>>>9),B=I+(k^V^F)+$[1]+2763975236&4294967295,I=k+(B<<4&4294967295|B>>>28),B=F+(I^k^V)+$[4]+1272893353&4294967295,F=I+(B<<11&4294967295|B>>>21),B=V+(F^I^k)+$[7]+4139469664&4294967295,V=F+(B<<16&4294967295|B>>>16),B=k+(V^F^I)+$[10]+3200236656&4294967295,k=V+(B<<23&4294967295|B>>>9),B=I+(k^V^F)+$[13]+681279174&4294967295,I=k+(B<<4&4294967295|B>>>28),B=F+(I^k^V)+$[0]+3936430074&4294967295,F=I+(B<<11&4294967295|B>>>21),B=V+(F^I^k)+$[3]+3572445317&4294967295,V=F+(B<<16&4294967295|B>>>16),B=k+(V^F^I)+$[6]+76029189&4294967295,k=V+(B<<23&4294967295|B>>>9),B=I+(k^V^F)+$[9]+3654602809&4294967295,I=k+(B<<4&4294967295|B>>>28),B=F+(I^k^V)+$[12]+3873151461&4294967295,F=I+(B<<11&4294967295|B>>>21),B=V+(F^I^k)+$[15]+530742520&4294967295,V=F+(B<<16&4294967295|B>>>16),B=k+(V^F^I)+$[2]+3299628645&4294967295,k=V+(B<<23&4294967295|B>>>9),B=I+(V^(k|~F))+$[0]+4096336452&4294967295,I=k+(B<<6&4294967295|B>>>26),B=F+(k^(I|~V))+$[7]+1126891415&4294967295,F=I+(B<<10&4294967295|B>>>22),B=V+(I^(F|~k))+$[14]+2878612391&4294967295,V=F+(B<<15&4294967295|B>>>17),B=k+(F^(V|~I))+$[5]+4237533241&4294967295,k=V+(B<<21&4294967295|B>>>11),B=I+(V^(k|~F))+$[12]+1700485571&4294967295,I=k+(B<<6&4294967295|B>>>26),B=F+(k^(I|~V))+$[3]+2399980690&4294967295,F=I+(B<<10&4294967295|B>>>22),B=V+(I^(F|~k))+$[10]+4293915773&4294967295,V=F+(B<<15&4294967295|B>>>17),B=k+(F^(V|~I))+$[1]+2240044497&4294967295,k=V+(B<<21&4294967295|B>>>11),B=I+(V^(k|~F))+$[8]+1873313359&4294967295,I=k+(B<<6&4294967295|B>>>26),B=F+(k^(I|~V))+$[15]+4264355552&4294967295,F=I+(B<<10&4294967295|B>>>22),B=V+(I^(F|~k))+$[6]+2734768916&4294967295,V=F+(B<<15&4294967295|B>>>17),B=k+(F^(V|~I))+$[13]+1309151649&4294967295,k=V+(B<<21&4294967295|B>>>11),B=I+(V^(k|~F))+$[4]+4149444226&4294967295,I=k+(B<<6&4294967295|B>>>26),B=F+(k^(I|~V))+$[11]+3174756917&4294967295,F=I+(B<<10&4294967295|B>>>22),B=V+(I^(F|~k))+$[2]+718787259&4294967295,V=F+(B<<15&4294967295|B>>>17),B=k+(F^(V|~I))+$[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(V+(B<<21&4294967295|B>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+F&4294967295}r.prototype.v=function(R,I){I===void 0&&(I=R.length);const k=I-this.blockSize,$=this.C;let V=this.h,F=0;for(;F<I;){if(V==0)for(;F<=k;)i(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<I;)if($[V++]=R.charCodeAt(F++),V==this.blockSize){i(this,$),V=0;break}}else for(;F<I;)if($[V++]=R[F++],V==this.blockSize){i(this,$),V=0;break}}this.h=V,this.o+=I},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;I=this.o*8;for(var k=R.length-8;k<R.length;++k)R[k]=I&255,I/=256;for(this.v(R),R=Array(16),I=0,k=0;k<4;++k)for(let $=0;$<32;$+=8)R[I++]=this.g[k]>>>$&255;return R};function a(R,I){var k=u;return Object.prototype.hasOwnProperty.call(k,R)?k[R]:k[R]=I(R)}function l(R,I){this.h=I;const k=[];let $=!0;for(let V=R.length-1;V>=0;V--){const F=R[V]|0;$&&F==I||(k[V]=F,$=!1)}this.g=k}var u={};function d(R){return-128<=R&&R<128?a(R,function(I){return new l([I|0],I<0?-1:0)}):new l([R|0],R<0?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return g;if(R<0)return S(f(-R));const I=[];let k=1;for(let $=0;R>=k;$++)I[$]=R/k|0,k*=4294967296;return new l(I,0)}function p(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return S(p(R.substring(1),I));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=f(Math.pow(I,8));let $=g;for(let F=0;F<R.length;F+=8){var V=Math.min(8,R.length-F);const B=parseInt(R.substring(F,F+V),I);V<8?(V=f(Math.pow(I,V)),$=$.j(V).add(f(B))):($=$.j(k),$=$.add(f(B)))}return $}var g=d(0),b=d(1),x=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-S(this).m();let R=0,I=1;for(let k=0;k<this.g.length;k++){const $=this.i(k);R+=($>=0?$:4294967296+$)*I,I*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(A(this))return"0";if(E(this))return"-"+S(this).toString(R);const I=f(Math.pow(R,6));var k=this;let $="";for(;;){const V=L(k,I).g;k=C(k,V.j(I));let F=((k.g.length>0?k.g[0]:k.h)>>>0).toString(R);if(k=V,A(k))return F+$;for(;F.length<6;)F="0"+F;$=F+$}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function A(R){if(R.h!=0)return!1;for(let I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function E(R){return R.h==-1}t.l=function(R){return R=C(this,R),E(R)?-1:A(R)?0:1};function S(R){const I=R.g.length,k=[];for(let $=0;$<I;$++)k[$]=~R.g[$];return new l(k,~R.h).add(b)}t.abs=function(){return E(this)?S(this):this},t.add=function(R){const I=Math.max(this.g.length,R.g.length),k=[];let $=0;for(let V=0;V<=I;V++){let F=$+(this.i(V)&65535)+(R.i(V)&65535),B=(F>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);$=B>>>16,F&=65535,B&=65535,k[V]=B<<16|F}return new l(k,k[k.length-1]&-2147483648?-1:0)};function C(R,I){return R.add(S(I))}t.j=function(R){if(A(this)||A(R))return g;if(E(this))return E(R)?S(this).j(S(R)):S(S(this).j(R));if(E(R))return S(this.j(S(R)));if(this.l(x)<0&&R.l(x)<0)return f(this.m()*R.m());const I=this.g.length+R.g.length,k=[];for(var $=0;$<2*I;$++)k[$]=0;for($=0;$<this.g.length;$++)for(let V=0;V<R.g.length;V++){const F=this.i($)>>>16,B=this.i($)&65535,ve=R.i(V)>>>16,ie=R.i(V)&65535;k[2*$+2*V]+=B*ie,P(k,2*$+2*V),k[2*$+2*V+1]+=F*ie,P(k,2*$+2*V+1),k[2*$+2*V+1]+=B*ve,P(k,2*$+2*V+1),k[2*$+2*V+2]+=F*ve,P(k,2*$+2*V+2)}for(R=0;R<I;R++)k[R]=k[2*R+1]<<16|k[2*R];for(R=I;R<2*I;R++)k[R]=0;return new l(k,0)};function P(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function N(R,I){this.g=R,this.h=I}function L(R,I){if(A(I))throw Error("division by zero");if(A(R))return new N(g,g);if(E(R))return I=L(S(R),I),new N(S(I.g),S(I.h));if(E(I))return I=L(R,S(I)),new N(S(I.g),I.h);if(R.g.length>30){if(E(R)||E(I))throw Error("slowDivide_ only works with positive integers.");for(var k=b,$=I;$.l(R)<=0;)k=M(k),$=M($);var V=U(k,1),F=U($,1);for($=U($,2),k=U(k,2);!A($);){var B=F.add($);B.l(R)<=0&&(V=V.add(k),F=B),$=U($,1),k=U(k,1)}return I=C(R,V.j(I)),new N(V,I)}for(V=g;R.l(I)>=0;){for(k=Math.max(1,Math.floor(R.m()/I.m())),$=Math.ceil(Math.log(k)/Math.LN2),$=$<=48?1:Math.pow(2,$-48),F=f(k),B=F.j(I);E(B)||B.l(R)>0;)k-=$,F=f(k),B=F.j(I);A(F)&&(F=b),V=V.add(F),R=C(R,B)}return new N(V,R)}t.B=function(R){return L(this,R).h},t.and=function(R){const I=Math.max(this.g.length,R.g.length),k=[];for(let $=0;$<I;$++)k[$]=this.i($)&R.i($);return new l(k,this.h&R.h)},t.or=function(R){const I=Math.max(this.g.length,R.g.length),k=[];for(let $=0;$<I;$++)k[$]=this.i($)|R.i($);return new l(k,this.h|R.h)},t.xor=function(R){const I=Math.max(this.g.length,R.g.length),k=[];for(let $=0;$<I;$++)k[$]=this.i($)^R.i($);return new l(k,this.h^R.h)};function M(R){const I=R.g.length+1,k=[];for(let $=0;$<I;$++)k[$]=R.i($)<<1|R.i($-1)>>>31;return new l(k,R.h)}function U(R,I){const k=I>>5;I%=32;const $=R.g.length-k,V=[];for(let F=0;F<$;F++)V[F]=I>0?R.i(F+k)>>>I|R.i(F+k+1)<<32-I:R.i(F+k);return new l(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YD=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,Zo=l}).apply(typeof iP<"u"?iP:typeof self<"u"?self:typeof window<"u"?window:{});var Up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XD,th,QD,gg,b1,ZD,JD,e4;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Up=="object"&&Up];for(var T=0;T<y.length;++T){var j=y[T];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(y,T){if(T)e:{var j=r;y=y.split(".");for(var z=0;z<y.length-1;z++){var Z=y[z];if(!(Z in j))break e;j=j[Z]}y=y[y.length-1],z=j[y],T=T(z),T!=z&&T!=null&&e(j,y,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(T){var j=[],z;for(z in T)Object.prototype.hasOwnProperty.call(T,z)&&j.push([z,T[z]]);return j}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(y){var T=typeof y;return T=="object"&&y!=null||T=="function"}function d(y,T,j){return y.call.apply(y.bind,arguments)}function f(y,T,j){return f=d,f.apply(null,arguments)}function p(y,T){var j=Array.prototype.slice.call(arguments,1);return function(){var z=j.slice();return z.push.apply(z,arguments),y.apply(this,z)}}function g(y,T){function j(){}j.prototype=T.prototype,y.Z=T.prototype,y.prototype=new j,y.prototype.constructor=y,y.Ob=function(z,Z,re){for(var _e=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)_e[qe-2]=arguments[qe];return T.prototype[Z].apply(z,_e)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function x(y){const T=y.length;if(T>0){const j=Array(T);for(let z=0;z<T;z++)j[z]=y[z];return j}return[]}function A(y,T){for(let z=1;z<arguments.length;z++){const Z=arguments[z];var j=typeof Z;if(j=j!="object"?j:Z?Array.isArray(Z)?"array":j:"null",j=="array"||j=="object"&&typeof Z.length=="number"){j=y.length||0;const re=Z.length||0;y.length=j+re;for(let _e=0;_e<re;_e++)y[j+_e]=Z[_e]}else y.push(Z)}}class E{constructor(T,j){this.i=T,this.j=j,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function S(y){l.setTimeout(()=>{throw y},0)}function C(){var y=R;let T=null;return y.g&&(T=y.g,y.g=y.g.next,y.g||(y.h=null),T.next=null),T}class P{constructor(){this.h=this.g=null}add(T,j){const z=N.get();z.set(T,j),this.h?this.h.next=z:this.g=z,this.h=z}}var N=new E(()=>new L,y=>y.reset());class L{constructor(){this.next=this.g=this.h=null}set(T,j){this.h=T,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let M,U=!1,R=new P,I=()=>{const y=Promise.resolve(void 0);M=()=>{y.then(k)}};function k(){for(var y;y=C();){try{y.h.call(y.g)}catch(j){S(j)}var T=N;T.j(y),T.h<100&&(T.h++,y.next=T.g,T.g=y)}U=!1}function $(){this.u=this.u,this.C=this.C}$.prototype.u=!1,$.prototype.dispose=function(){this.u||(this.u=!0,this.N())},$.prototype[Symbol.dispose]=function(){this.dispose()},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(y,T){this.type=y,this.g=this.target=T,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,T=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const j=()=>{};l.addEventListener("test",j,T),l.removeEventListener("test",j,T)}catch{}return y})();function B(y){return/^[\s\xa0]*$/.test(y)}function ve(y,T){V.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,T)}g(ve,V),ve.prototype.init=function(y,T){const j=this.type=y.type,z=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=T,T=y.relatedTarget,T||(j=="mouseover"?T=y.fromElement:j=="mouseout"&&(T=y.toElement)),this.relatedTarget=T,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),G=0;function W(y,T,j,z,Z){this.listener=y,this.proxy=null,this.src=T,this.type=j,this.capture=!!z,this.ha=Z,this.key=++G,this.da=this.fa=!1}function ae(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ye(y,T,j){for(const z in y)T.call(j,y[z],z,y)}function H(y,T){for(const j in y)T.call(void 0,y[j],j,y)}function le(y){const T={};for(const j in y)T[j]=y[j];return T}const ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(y,T){let j,z;for(let Z=1;Z<arguments.length;Z++){z=arguments[Z];for(j in z)y[j]=z[j];for(let re=0;re<ue.length;re++)j=ue[re],Object.prototype.hasOwnProperty.call(z,j)&&(y[j]=z[j])}}function he(y){this.src=y,this.g={},this.h=0}he.prototype.add=function(y,T,j,z,Z){const re=y.toString();y=this.g[re],y||(y=this.g[re]=[],this.h++);const _e=we(y,T,z,Z);return _e>-1?(T=y[_e],j||(T.fa=!1)):(T=new W(T,this.src,re,!!z,Z),T.fa=j,y.push(T)),T};function be(y,T){const j=T.type;if(j in y.g){var z=y.g[j],Z=Array.prototype.indexOf.call(z,T,void 0),re;(re=Z>=0)&&Array.prototype.splice.call(z,Z,1),re&&(ae(T),y.g[j].length==0&&(delete y.g[j],y.h--))}}function we(y,T,j,z){for(let Z=0;Z<y.length;++Z){const re=y[Z];if(!re.da&&re.listener==T&&re.capture==!!j&&re.ha==z)return Z}return-1}var Ge="closure_lm_"+(Math.random()*1e6|0),lt={};function Ee(y,T,j,z,Z){if(Array.isArray(T)){for(let re=0;re<T.length;re++)Ee(y,T[re],j,z,Z);return null}return j=ns(j),y&&y[ie]?y.J(T,j,u(z)?!!z.capture:!1,Z):$e(y,T,j,!1,z,Z)}function $e(y,T,j,z,Z,re){if(!T)throw Error("Invalid event type");const _e=u(Z)?!!Z.capture:!!Z;let qe=Yt(y);if(qe||(y[Ge]=qe=new he(y)),j=qe.add(T,j,z,_e,re),j.proxy)return j;if(z=Ke(),j.proxy=z,z.src=y,z.listener=j,y.addEventListener)F||(Z=_e),Z===void 0&&(Z=!1),y.addEventListener(T.toString(),z,Z);else if(y.attachEvent)y.attachEvent(et(T.toString()),z);else if(y.addListener&&y.removeListener)y.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return j}function Ke(){function y(j){return T.call(y.src,y.listener,j)}const T=bn;return y}function ge(y,T,j,z,Z){if(Array.isArray(T))for(var re=0;re<T.length;re++)ge(y,T[re],j,z,Z);else z=u(z)?!!z.capture:!!z,j=ns(j),y&&y[ie]?(y=y.i,re=String(T).toString(),re in y.g&&(T=y.g[re],j=we(T,j,z,Z),j>-1&&(ae(T[j]),Array.prototype.splice.call(T,j,1),T.length==0&&(delete y.g[re],y.h--)))):y&&(y=Yt(y))&&(T=y.g[T.toString()],y=-1,T&&(y=we(T,j,z,Z)),(j=y>-1?T[y]:null)&&Le(j))}function Le(y){if(typeof y!="number"&&y&&!y.da){var T=y.src;if(T&&T[ie])be(T.i,y);else{var j=y.type,z=y.proxy;T.removeEventListener?T.removeEventListener(j,z,y.capture):T.detachEvent?T.detachEvent(et(j),z):T.addListener&&T.removeListener&&T.removeListener(z),(j=Yt(T))?(be(j,y),j.h==0&&(j.src=null,T[Ge]=null)):ae(y)}}}function et(y){return y in lt?lt[y]:lt[y]="on"+y}function bn(y,T){if(y.da)y=!0;else{T=new ve(T,this);const j=y.listener,z=y.ha||y.src;y.fa&&Le(y),y=j.call(z,T)}return y}function Yt(y){return y=y[Ge],y instanceof he?y:null}var Lt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ns(y){return typeof y=="function"?y:(y[Lt]||(y[Lt]=function(T){return y.handleEvent(T)}),y[Lt])}function Xt(){$.call(this),this.i=new he(this),this.M=this,this.G=null}g(Xt,$),Xt.prototype[ie]=!0,Xt.prototype.removeEventListener=function(y,T,j,z){ge(this,y,T,j,z)};function xn(y,T){var j,z=y.G;if(z)for(j=[];z;z=z.G)j.push(z);if(y=y.M,z=T.type||T,typeof T=="string")T=new V(T,y);else if(T instanceof V)T.target=T.target||y;else{var Z=T;T=new V(z,y),oe(T,Z)}Z=!0;let re,_e;if(j)for(_e=j.length-1;_e>=0;_e--)re=T.g=j[_e],Z=zn(re,z,!0,T)&&Z;if(re=T.g=y,Z=zn(re,z,!0,T)&&Z,Z=zn(re,z,!1,T)&&Z,j)for(_e=0;_e<j.length;_e++)re=T.g=j[_e],Z=zn(re,z,!1,T)&&Z}Xt.prototype.N=function(){if(Xt.Z.N.call(this),this.i){var y=this.i;for(const T in y.g){const j=y.g[T];for(let z=0;z<j.length;z++)ae(j[z]);delete y.g[T],y.h--}}this.G=null},Xt.prototype.J=function(y,T,j,z){return this.i.add(String(y),T,!1,j,z)},Xt.prototype.K=function(y,T,j,z){return this.i.add(String(y),T,!0,j,z)};function zn(y,T,j,z){if(T=y.i.g[String(T)],!T)return!0;T=T.concat();let Z=!0;for(let re=0;re<T.length;++re){const _e=T[re];if(_e&&!_e.da&&_e.capture==j){const qe=_e.listener,Vt=_e.ha||_e.src;_e.fa&&be(y.i,_e),Z=qe.call(Vt,z)!==!1&&Z}}return Z&&!z.defaultPrevented}function xa(y,T){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(y,T||0)}function Gi(y){y.g=xa(()=>{y.g=null,y.i&&(y.i=!1,Gi(y))},y.l);const T=y.h;y.h=null,y.m.apply(null,T)}class Md extends ${constructor(T,j){super(),this.m=T,this.l=j,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Gi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wa(y){$.call(this),this.h=y,this.g={}}g(wa,$);var Kr=[];function wn(y){ye(y.g,function(T,j){this.g.hasOwnProperty(j)&&Le(T)},y),y.g={}}wa.prototype.N=function(){wa.Z.N.call(this),wn(this)},wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rr=l.JSON.stringify,Zn=l.JSON.parse,Ld=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function _r(){}function Er(){}var pi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _a(){V.call(this,"d")}g(_a,V);function Gr(){V.call(this,"c")}g(Gr,V);var Ar={},Wi=null;function rs(){return Wi=Wi||new Xt}Ar.Ia="serverreachability";function oo(y){V.call(this,Ar.Ia,y)}g(oo,V);function Ea(y){const T=rs();xn(T,new oo(T))}Ar.STAT_EVENT="statevent";function lo(y,T){V.call(this,Ar.STAT_EVENT,y),this.stat=T}g(lo,V);function Qt(y){const T=rs();xn(T,new lo(T,y))}Ar.Ja="timingevent";function Hc(y,T){V.call(this,Ar.Ja,y),this.size=T}g(Hc,V);function Aa(y,T){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},T)}function Sa(){this.g=!0}Sa.prototype.ua=function(){this.g=!1};function co(y,T,j,z,Z,re){y.info(function(){if(y.g)if(re){var _e="",qe=re.split("&");for(let pt=0;pt<qe.length;pt++){var Vt=qe[pt].split("=");if(Vt.length>1){const un=Vt[0];Vt=Vt[1];const Wr=un.split("_");_e=Wr.length>=2&&Wr[1]=="type"?_e+(un+"="+Vt+"&"):_e+(un+"=redacted&")}}}else _e=null;else _e=re;return"XMLHTTP REQ ("+z+") [attempt "+Z+"]: "+T+`
`+j+`
`+_e})}function El(y,T,j,z,Z,re,_e){y.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+Z+"]: "+T+`
`+j+`
`+re+" "+_e})}function Yi(y,T,j,z){y.info(function(){return"XMLHTTP TEXT ("+T+"): "+gi(y,j)+(z?" "+z:"")})}function Vd(y,T){y.info(function(){return"TIMEOUT: "+T})}Sa.prototype.info=function(){};function gi(y,T){if(!y.g)return T;if(!T)return null;try{const re=JSON.parse(T);if(re){for(y=0;y<re.length;y++)if(Array.isArray(re[y])){var j=re[y];if(!(j.length<2)){var z=j[1];if(Array.isArray(z)&&!(z.length<1)){var Z=z[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let _e=1;_e<z.length;_e++)z[_e]=""}}}}return Rr(re)}catch{return T}}var Zt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Y;function xe(){}g(xe,_r),xe.prototype.g=function(){return new XMLHttpRequest},Y=new xe;function je(y){return encodeURIComponent(String(y))}function xt(y){var T=1;y=y.split(":");const j=[];for(;T>0&&y.length;)j.push(y.shift()),T--;return y.length&&j.push(y.join(":")),j}function Jt(y,T,j,z){this.j=y,this.i=T,this.l=j,this.S=z||1,this.V=new wa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new lr}function lr(){this.i=null,this.g="",this.h=!1}var Xi={},cr={};function yi(y,T,j){y.M=1,y.A=cs(tn(T)),y.u=j,y.R=!0,is(y,null)}function is(y,T){y.F=Date.now(),as(y),y.B=tn(y.A);var j=y.B,z=y.S;Array.isArray(z)||(z=[String(z)]),Sm(j.i,"t",z),y.C=0,j=y.j.L,y.h=new lr,y.g=eu(y.j,j?T:null,!y.u),y.P>0&&(y.O=new Md(f(y.Y,y,y.g),y.P)),T=y.V,j=y.g,z=y.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(Kr[0]=Z.toString()),Z=Kr);for(let re=0;re<Z.length;re++){const _e=Ee(j,Z[re],z||T.handleEvent,!1,T.h||T);if(!_e)break;T.g[_e.key]=_e}T=y.J?le(y.J):{},y.u?(y.v||(y.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,T)):(y.v="GET",y.g.ea(y.B,y.v,null,T)),Ea(),co(y.i,y.v,y.B,y.l,y.S,y.u)}Jt.prototype.ba=function(y){y=y.target;const T=this.O;T&&ur(y)==3?T.j():this.Y(y)},Jt.prototype.Y=function(y){try{if(y==this.g)e:{const qe=ur(this.g),Vt=this.g.ya(),pt=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||Ol(this.g)))){this.K||qe!=4||Vt==7||(Vt==8||pt<=0?Ea(3):Ea(2)),bi(this);var T=this.g.ca();this.X=T;var j=Ta(this);if(this.o=T==200,El(this.i,this.v,this.B,this.l,this.S,qe,T),this.o){if(this.U&&!this.L){t:{if(this.g){var z,Z=this.g;if((z=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(z)){var re=z;break t}}re=null}if(y=re)Yi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,uo(this,y);else{this.o=!1,this.m=3,Qt(12),xi(this),ss(this);break e}}if(this.R){y=!0;let un;for(;!this.K&&this.C<j.length;)if(un=Ud(this,j),un==cr){qe==4&&(this.m=4,Qt(14),y=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(un==Xi){this.m=4,Qt(15),Yi(this.i,this.l,j,"[Invalid Chunk]"),y=!1;break}else Yi(this.i,this.l,un,null),uo(this,un);if(en(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||j.length!=0||this.h.h||(this.m=1,Qt(16),y=!1),this.o=this.o&&y,!y)Yi(this.i,this.l,j,"[Invalid Chunked Response]"),xi(this),ss(this);else if(j.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Xd(_e),_e.P=!0,Qt(11))}}else Yi(this.i,this.l,j,null),uo(this,j);qe==4&&xi(this),this.o&&!this.K&&(qe==4?Qd(this.j,this):(this.o=!1,as(this)))}else Il(this.g),T==400&&j.indexOf("Unknown SID")>0?(this.m=3,Qt(12)):(this.m=0,Qt(13)),xi(this),ss(this)}}}catch{}finally{}};function Ta(y){if(!en(y))return y.g.la();const T=Ol(y.g);if(T==="")return"";let j="";const z=T.length,Z=ur(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return xi(y),ss(y),"";y.h.i=new l.TextDecoder}for(let re=0;re<z;re++)y.h.h=!0,j+=y.h.i.decode(T[re],{stream:!(Z&&re==z-1)});return T.length=0,y.h.g+=j,y.C=0,y.h.g}function en(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Ud(y,T){var j=y.C,z=T.indexOf(`
`,j);return z==-1?cr:(j=Number(T.substring(j,z)),isNaN(j)?Xi:(z+=1,z+j>T.length?cr:(T=T.slice(z,z+j),y.C=z+j,T)))}Jt.prototype.cancel=function(){this.K=!0,xi(this)};function as(y){y.T=Date.now()+y.H,vi(y,y.H)}function vi(y,T){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Aa(f(y.aa,y),T)}function bi(y){y.D&&(l.clearTimeout(y.D),y.D=null)}Jt.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Vd(this.i,this.B),this.M!=2&&(Ea(),Qt(17)),xi(this),this.m=2,ss(this)):vi(this,this.T-y)};function ss(y){y.j.I==0||y.K||Qd(y.j,y)}function xi(y){bi(y);var T=y.O;T&&typeof T.dispose=="function"&&T.dispose(),y.O=null,wn(y.V),y.g&&(T=y.g,y.g=null,T.abort(),T.dispose())}function uo(y,T){try{var j=y.j;if(j.I!=0&&(j.g==y||Al(j.h,y))){if(!y.L&&Al(j.h,y)&&j.I==3){try{var z=j.Ba.g.parse(T)}catch{z=null}if(Array.isArray(z)&&z.length==3){var Z=z;if(Z[0]==0){e:if(!j.v){if(j.g)if(j.g.F+3e3<y.F)Jc(j),Ca(j);else break e;Yd(j),Qt(18)}}else j.xa=Z[1],0<j.xa-j.K&&Z[2]<37500&&j.F&&j.A==0&&!j.C&&(j.C=Aa(f(j.Va,j),6e3));kr(j.h)<=1&&j.ta&&(j.ta=void 0)}else fs(j,11)}else if((y.L||j.g==y)&&Jc(j),!B(T))for(Z=j.Ba.g.parse(T),T=0;T<Z.length;T++){let pt=Z[T];const un=pt[0];if(!(un<=j.K))if(j.K=un,pt=pt[1],j.I==2)if(pt[0]=="c"){j.M=pt[1],j.ba=pt[2];const Wr=pt[3];Wr!=null&&(j.ka=Wr,j.j.info("VER="+j.ka));const Na=pt[4];Na!=null&&(j.za=Na,j.j.info("SVER="+j.za));const Ji=pt[5];Ji!=null&&typeof Ji=="number"&&Ji>0&&(z=1.5*Ji,j.O=z,j.j.info("backChannelRequestTimeoutMs_="+z)),z=j;const ea=y.g;if(ea){const ta=ea.g?ea.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var re=z.h;re.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Kc(re,re.h),re.h=null))}if(z.G){const Jd=ea.g?ea.g.getResponseHeader("X-HTTP-Session-Id"):null;Jd&&(z.wa=Jd,wt(z.J,z.G,Jd))}}j.I=3,j.l&&j.l.ra(),j.aa&&(j.T=Date.now()-y.F,j.j.info("Handshake RTT: "+j.T+"ms")),z=j;var _e=y;if(z.na=km(z,z.L?z.ba:null,z.W),_e.L){ls(z.h,_e);var qe=_e,Vt=z.O;Vt&&(qe.H=Vt),qe.D&&(bi(qe),as(qe)),z.g=_e}else jm(z);j.i.length>0&&Ml(j)}else pt[0]!="stop"&&pt[0]!="close"||fs(j,7);else j.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?fs(j,7):kl(j):pt[0]!="noop"&&j.l&&j.l.qa(pt),j.A=0)}}Ea(4)}catch{}}var Bd=class{constructor(y,T){this.g=y,this.map=T}};function os(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wi(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function kr(y){return y.h?1:y.g?y.g.size:0}function Al(y,T){return y.h?y.h==T:y.g?y.g.has(T):!1}function Kc(y,T){y.g?y.g.add(T):y.h=T}function ls(y,T){y.h&&y.h==T?y.h=null:y.g&&y.g.has(T)&&y.g.delete(T)}os.prototype.cancel=function(){if(this.i=Gc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Gc(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let T=y.i;for(const j of y.g.values())T=T.concat(j.G);return T}return x(y.i)}var Wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function f0(y,T){if(y){y=y.split("&");for(let j=0;j<y.length;j++){const z=y[j].indexOf("=");let Z,re=null;z>=0?(Z=y[j].substring(0,z),re=y[j].substring(z+1)):Z=y[j],T(Z,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Qi(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;y instanceof Qi?(this.l=y.l,fo(this,y.j),this.o=y.o,this.g=y.g,Sl(this,y.u),this.h=y.h,ho(this,Tm(y.i)),this.m=y.m):y&&(T=String(y).match(Wc))?(this.l=!1,fo(this,T[1]||"",!0),this.o=Tl(T[2]||""),this.g=Tl(T[3]||"",!0),Sl(this,T[4]),this.h=Tl(T[5]||"",!0),ho(this,T[6]||"",!0),this.m=Tl(T[7]||"")):(this.l=!1,this.i=new _i(null,this.l))}Qi.prototype.toString=function(){const y=[];var T=this.j;T&&y.push($n(T,$d,!0),":");var j=this.g;return(j||T=="file")&&(y.push("//"),(T=this.o)&&y.push($n(T,$d,!0),"@"),y.push(je(j).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.u,j!=null&&y.push(":",String(j))),(j=this.h)&&(this.g&&j.charAt(0)!="/"&&y.push("/"),y.push($n(j,j.charAt(0)=="/"?mo:Fd,!0))),(j=this.i.toString())&&y.push("?",j),(j=this.m)&&y.push("#",$n(j,Am)),y.join("")},Qi.prototype.resolve=function(y){const T=tn(this);let j=!!y.j;j?fo(T,y.j):j=!!y.o,j?T.o=y.o:j=!!y.g,j?T.g=y.g:j=y.u!=null;var z=y.h;if(j)Sl(T,y.u);else if(j=!!y.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var Z=T.h.lastIndexOf("/");Z!=-1&&(z=T.h.slice(0,Z+1)+z)}if(Z=z,Z==".."||Z==".")z="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){z=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const re=[];for(let _e=0;_e<Z.length;){const qe=Z[_e++];qe=="."?z&&_e==Z.length&&re.push(""):qe==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),z&&_e==Z.length&&re.push("")):(re.push(qe),z=!0)}z=re.join("/")}else z=Z}return j?T.h=z:j=y.i.toString()!=="",j?ho(T,Tm(y.i)):j=!!y.m,j&&(T.m=y.m),T};function tn(y){return new Qi(y)}function fo(y,T,j){y.j=j?Tl(T,!0):T,y.j&&(y.j=y.j.replace(/:$/,""))}function Sl(y,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);y.u=T}else y.u=null}function ho(y,T,j){T instanceof _i?(y.i=T,Kd(y.i,y.l)):(j||(T=$n(T,Em)),y.i=new _i(T,y.l))}function wt(y,T,j){y.i.set(T,j)}function cs(y){return wt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Tl(y,T){return y?T?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function $n(y,T,j){return typeof y=="string"?(y=encodeURI(y).replace(T,zd),j&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function zd(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var $d=/[#\/\?@]/g,Fd=/[#\?:]/g,mo=/[#\?]/g,Em=/[#\?@]/g,Am=/#/g;function _i(y,T){this.h=this.g=null,this.i=y||null,this.j=!!T}function us(y){y.g||(y.g=new Map,y.h=0,y.i&&f0(y.i,function(T,j){y.add(decodeURIComponent(T.replace(/\+/g," ")),j)}))}t=_i.prototype,t.add=function(y,T){us(this),this.i=null,y=Zi(this,y);let j=this.g.get(y);return j||this.g.set(y,j=[]),j.push(T),this.h+=1,this};function qd(y,T){us(y),T=Zi(y,T),y.g.has(T)&&(y.i=null,y.h-=y.g.get(T).length,y.g.delete(T))}function Hd(y,T){return us(y),T=Zi(y,T),y.g.has(T)}t.forEach=function(y,T){us(this),this.g.forEach(function(j,z){j.forEach(function(Z){y.call(T,Z,z,this)},this)},this)};function Yc(y,T){us(y);let j=[];if(typeof T=="string")Hd(y,T)&&(j=j.concat(y.g.get(Zi(y,T))));else for(y=Array.from(y.g.values()),T=0;T<y.length;T++)j=j.concat(y[T]);return j}t.set=function(y,T){return us(this),this.i=null,y=Zi(this,y),Hd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[T]),this.h+=1,this},t.get=function(y,T){return y?(y=Yc(this,y),y.length>0?String(y[0]):T):T};function Sm(y,T,j){qd(y,T),j.length>0&&(y.i=null,y.g.set(Zi(y,T),x(j)),y.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],T=Array.from(this.g.keys());for(let z=0;z<T.length;z++){var j=T[z];const Z=je(j);j=Yc(this,j);for(let re=0;re<j.length;re++){let _e=Z;j[re]!==""&&(_e+="="+je(j[re])),y.push(_e)}}return this.i=y.join("&")};function Tm(y){const T=new _i;return T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),T}function Zi(y,T){return T=String(T),y.j&&(T=T.toLowerCase()),T}function Kd(y,T){T&&!y.j&&(us(y),y.i=null,y.g.forEach(function(j,z){const Z=z.toLowerCase();z!=Z&&(qd(this,z),Sm(this,Z,j))},y)),y.j=T}function Gd(y,T){const j=new Sa;if(l.Image){const z=new Image;z.onload=p(Sr,j,"TestLoadImage: loaded",!0,T,z),z.onerror=p(Sr,j,"TestLoadImage: error",!1,T,z),z.onabort=p(Sr,j,"TestLoadImage: abort",!1,T,z),z.ontimeout=p(Sr,j,"TestLoadImage: timeout",!1,T,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=y}else T(!1)}function po(y,T){const j=new Sa,z=new AbortController,Z=setTimeout(()=>{z.abort(),Sr(j,"TestPingServer: timeout",!1,T)},1e4);fetch(y,{signal:z.signal}).then(re=>{clearTimeout(Z),re.ok?Sr(j,"TestPingServer: ok",!0,T):Sr(j,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Z),Sr(j,"TestPingServer: error",!1,T)})}function Sr(y,T,j,z,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),z(j)}catch{}}function Cm(){this.g=new Ld}function Cl(y){this.i=y.Sb||null,this.h=y.ab||!1}g(Cl,_r),Cl.prototype.g=function(){return new Nl(this.i,this.h)};function Nl(y,T){Xt.call(this),this.H=y,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Nl,Xt),t=Nl.prototype,t.open=function(y,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=T,this.readyState=1,ds(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(T.body=y),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ds(this)),this.g&&(this.readyState=3,ds(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;go(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function go(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var T=y.value?y.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!y.done}))&&(this.response=this.responseText+=T)}y.done?Tr(this):ds(this),this.readyState==3&&go(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,Tr(this))},t.Na=function(y){this.g&&(this.response=y,Tr(this))},t.ga=function(){this.g&&Tr(this)};function Tr(y){y.readyState=4,y.l=null,y.j=null,y.B=null,ds(y)}t.setRequestHeader=function(y,T){this.A.append(y,T)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],T=this.h.entries();for(var j=T.next();!j.done;)j=j.value,y.push(j[0]+": "+j[1]),j=T.next();return y.join(`\r
`)};function ds(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Nl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function yo(y){let T="";return ye(y,function(j,z){T+=z,T+=":",T+=j,T+=`\r
`}),T}function Ei(y,T,j){e:{for(z in j){var z=!1;break e}z=!0}z||(j=yo(j),typeof y=="string"?j!=null&&je(j):wt(y,T,j))}function Ot(y){Xt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Ot,Xt);var Xc=/^https?$/i,Nm=["POST","PUT"];t=Ot.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,T,j,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);T=T?T.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Y.g(),this.g.onreadystatechange=b(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(y),!0),this.B=!1}catch(re){Pl(this,re);return}if(y=j||"",j=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var Z in z)j.set(Z,z[Z]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const re of z.keys())j.set(re,z.get(re));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(j.keys()).find(re=>re.toLowerCase()=="content-type"),Z=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(Nm,T,void 0)>=0)||z||Z||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,_e]of j)this.g.setRequestHeader(re,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(re){Pl(this,re)}};function Pl(y,T){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=T,y.o=5,jl(y),On(y)}function jl(y){y.A||(y.A=!0,xn(y,"complete"),xn(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,xn(this,"complete"),xn(this,"abort"),On(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),Ot.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Wd(this):this.Xa())},t.Xa=function(){Wd(this)};function Wd(y){if(y.h&&typeof a<"u"){if(y.v&&ur(y)==4)setTimeout(y.Ca.bind(y),0);else if(xn(y,"readystatechange"),ur(y)==4){y.h=!1;try{const re=y.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var j;if(!(j=T)){var z;if(z=re===0){let _e=String(y.D).match(Wc)[1]||null;!_e&&l.self&&l.self.location&&(_e=l.self.location.protocol.slice(0,-1)),z=!Xc.test(_e?_e.toLowerCase():"")}j=z}if(j)xn(y,"complete"),xn(y,"success");else{y.o=6;try{var Z=ur(y)>2?y.g.statusText:""}catch{Z=""}y.l=Z+" ["+y.ca()+"]",jl(y)}}finally{On(y)}}}}function On(y,T){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const j=y.g;y.g=null,T||xn(y,"ready");try{j.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ur(y){return y.g?y.g.readyState:0}t.ca=function(){try{return ur(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var T=this.g.responseText;return y&&T.indexOf(y)==0&&(T=T.substring(y.length)),Zn(T)}};function Ol(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Il(y){const T={};y=(y.g&&ur(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<y.length;z++){if(B(y[z]))continue;var j=xt(y[z]);const Z=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const re=T[Z]||[];T[Z]=re,re.push(j)}H(T,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rl(y,T,j){return j&&j.internalChannelParams&&j.internalChannelParams[y]||T}function Qc(y){this.za=0,this.i=[],this.j=new Sa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rl("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rl("baseRetryDelayMs",5e3,y),this.Za=Rl("retryDelaySeedMs",1e4,y),this.Ta=Rl("forwardChannelMaxRetries",2,y),this.va=Rl("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new os(y&&y.concurrentRequestLimit),this.Ba=new Cm,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Qc.prototype,t.ka=8,t.I=1,t.connect=function(y,T,j,z){Qt(0),this.W=y,this.H=T||{},j&&z!==void 0&&(this.H.OSID=j,this.H.OAID=z),this.F=this.X,this.J=km(this,null,this.W),Ml(this)};function kl(y){if(Dl(y),y.I==3){var T=y.V++,j=tn(y.J);if(wt(j,"SID",y.M),wt(j,"RID",T),wt(j,"TYPE","terminate"),Ll(y,j),T=new Jt(y,y.j,T),T.M=2,T.A=cs(tn(j)),j=!1,l.navigator&&l.navigator.sendBeacon)try{j=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!j&&l.Image&&(new Image().src=T.A,j=!0),j||(T.g=eu(T.j,null),T.g.ea(T.A)),T.F=Date.now(),as(T)}Rm(y)}function Ca(y){y.g&&(Xd(y),y.g.cancel(),y.g=null)}function Dl(y){Ca(y),y.v&&(l.clearTimeout(y.v),y.v=null),Jc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function Ml(y){if(!wi(y.h)&&!y.m){y.m=!0;var T=y.Ea;M||I(),U||(M(),U=!0),R.add(T,y),y.D=0}}function h0(y,T){return kr(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=T.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Aa(f(y.Ea,y,T),Im(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const Z=new Jt(this,this.j,y);let re=this.o;if(this.U&&(re?(re=le(re),oe(re,this.U)):re=this.U),this.u!==null||this.R||(Z.J=re,re=null),this.S)e:{for(var T=0,j=0;j<this.i.length;j++){t:{var z=this.i[j];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(T+=z,T>4096){T=j;break e}if(T===4096||j===this.i.length-1){T=j+1;break e}}T=1e3}else T=1e3;T=Zc(this,Z,T),j=tn(this.J),wt(j,"RID",y),wt(j,"CVER",22),this.G&&wt(j,"X-HTTP-Session-Id",this.G),Ll(this,j),re&&(this.R?T="headers="+je(yo(re))+"&"+T:this.u&&Ei(j,this.u,re)),Kc(this.h,Z),this.Ra&&wt(j,"TYPE","init"),this.S?(wt(j,"$req",T),wt(j,"SID","null"),Z.U=!0,yi(Z,j,null)):yi(Z,j,T),this.I=2}}else this.I==3&&(y?Pm(this,y):this.i.length==0||wi(this.h)||Pm(this))};function Pm(y,T){var j;T?j=T.l:j=y.V++;const z=tn(y.J);wt(z,"SID",y.M),wt(z,"RID",j),wt(z,"AID",y.K),Ll(y,z),y.u&&y.o&&Ei(z,y.u,y.o),j=new Jt(y,y.j,j,y.D+1),y.u===null&&(j.J=y.o),T&&(y.i=T.G.concat(y.i)),T=Zc(y,j,1e3),j.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Kc(y.h,j),yi(j,z,T)}function Ll(y,T){y.H&&ye(y.H,function(j,z){wt(T,z,j)}),y.l&&ye({},function(j,z){wt(T,z,j)})}function Zc(y,T,j){j=Math.min(y.i.length,j);const z=y.l?f(y.l.Ka,y.l,y):null;e:{var Z=y.i;let qe=-1;for(;;){const Vt=["count="+j];qe==-1?j>0?(qe=Z[0].g,Vt.push("ofs="+qe)):qe=0:Vt.push("ofs="+qe);let pt=!0;for(let un=0;un<j;un++){var re=Z[un].g;const Wr=Z[un].map;if(re-=qe,re<0)qe=Math.max(0,Z[un].g-100),pt=!1;else try{re="req"+re+"_"||"";try{var _e=Wr instanceof Map?Wr:Object.entries(Wr);for(const[Na,Ji]of _e){let ea=Ji;u(Ji)&&(ea=Rr(Ji)),Vt.push(re+Na+"="+encodeURIComponent(ea))}}catch(Na){throw Vt.push(re+"type="+encodeURIComponent("_badmap")),Na}}catch{z&&z(Wr)}}if(pt){_e=Vt.join("&");break e}}_e=void 0}return y=y.i.splice(0,j),T.G=y,_e}function jm(y){if(!y.g&&!y.v){y.Y=1;var T=y.Da;M||I(),U||(M(),U=!0),R.add(T,y),y.A=0}}function Yd(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Aa(f(y.Da,y),Im(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,Om(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Aa(f(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Qt(10),Ca(this),Om(this))};function Xd(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function Om(y){y.g=new Jt(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var T=tn(y.na);wt(T,"RID","rpc"),wt(T,"SID",y.M),wt(T,"AID",y.K),wt(T,"CI",y.F?"0":"1"),!y.F&&y.ia&&wt(T,"TO",y.ia),wt(T,"TYPE","xmlhttp"),Ll(y,T),y.u&&y.o&&Ei(T,y.u,y.o),y.O&&(y.g.H=y.O);var j=y.g;y=y.ba,j.M=1,j.A=cs(tn(T)),j.u=null,j.R=!0,is(j,y)}t.Va=function(){this.C!=null&&(this.C=null,Ca(this),Yd(this),Qt(19))};function Jc(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function Qd(y,T){var j=null;if(y.g==T){Jc(y),Xd(y),y.g=null;var z=2}else if(Al(y.h,T))j=T.G,ls(y.h,T),z=1;else return;if(y.I!=0){if(T.o)if(z==1){j=T.u?T.u.length:0,T=Date.now()-T.F;var Z=y.D;z=rs(),xn(z,new Hc(z,j)),Ml(y)}else jm(y);else if(Z=T.m,Z==3||Z==0&&T.X>0||!(z==1&&h0(y,T)||z==2&&Yd(y)))switch(j&&j.length>0&&(T=y.h,T.i=T.i.concat(j)),Z){case 1:fs(y,5);break;case 4:fs(y,10);break;case 3:fs(y,6);break;default:fs(y,2)}}}function Im(y,T){let j=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(j*=2),j*T}function fs(y,T){if(y.j.info("Error code "+T),T==2){var j=f(y.bb,y),z=y.Ua;const Z=!z;z=new Qi(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||fo(z,"https"),cs(z),Z?Gd(z.toString(),j):po(z.toString(),j)}else Qt(2);y.I=0,y.l&&y.l.pa(T),Rm(y),Dl(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function Rm(y){if(y.I=0,y.ja=[],y.l){const T=Gc(y.h);(T.length!=0||y.i.length!=0)&&(A(y.ja,T),A(y.ja,y.i),y.h.i.length=0,x(y.i),y.i.length=0),y.l.oa()}}function km(y,T,j){var z=j instanceof Qi?tn(j):new Qi(j);if(z.g!="")T&&(z.g=T+"."+z.g),Sl(z,z.u);else{var Z=l.location;z=Z.protocol,T=T?T+"."+Z.hostname:Z.hostname,Z=+Z.port;const re=new Qi(null);z&&fo(re,z),T&&(re.g=T),Z&&Sl(re,Z),j&&(re.h=j),z=re}return j=y.G,T=y.wa,j&&T&&wt(z,j,T),wt(z,"VER",y.ka),Ll(y,z),z}function eu(y,T,j){if(T&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=y.Aa&&!y.ma?new Ot(new Cl({ab:j})):new Ot(y.ma),T.Fa(y.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dm(){}t=Dm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function tu(){}tu.prototype.g=function(y,T){return new Cr(y,T)};function Cr(y,T){Xt.call(this),this.g=new Qc(T),this.l=y,this.h=T&&T.messageUrlParams||null,y=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(y?y["X-WebChannel-Content-Type"]=T.messageContentType:y={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(y?y["X-WebChannel-Client-Profile"]=T.sa:y={"X-WebChannel-Client-Profile":T.sa}),this.g.U=y,(y=T&&T.Qb)&&!B(y)&&(this.g.u=y),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!B(T)&&(this.g.G=T,y=this.h,y!==null&&T in y&&(y=this.h,T in y&&delete y[T])),this.j=new vo(this)}g(Cr,Xt),Cr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cr.prototype.close=function(){kl(this.g)},Cr.prototype.o=function(y){var T=this.g;if(typeof y=="string"){var j={};j.__data__=y,y=j}else this.v&&(j={},j.__data__=Rr(y),y=j);T.i.push(new Bd(T.Ya++,y)),T.I==3&&Ml(T)},Cr.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,Cr.Z.N.call(this)};function Zd(y){_a.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var T=y.__sm__;if(T){e:{for(const j in T){y=j;break e}y=void 0}(this.i=y)&&(y=this.i,T=T!==null&&y in T?T[y]:void 0),this.data=T}else this.data=y}g(Zd,_a);function Mm(){Gr.call(this),this.status=1}g(Mm,Gr);function vo(y){this.g=y}g(vo,Dm),vo.prototype.ra=function(){xn(this.g,"a")},vo.prototype.qa=function(y){xn(this.g,new Zd(y))},vo.prototype.pa=function(y){xn(this.g,new Mm)},vo.prototype.oa=function(){xn(this.g,"b")},tu.prototype.createWebChannel=tu.prototype.g,Cr.prototype.send=Cr.prototype.o,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,e4=function(){return new tu},JD=function(){return rs()},ZD=Ar,b1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zt.NO_ERROR=0,Zt.TIMEOUT=8,Zt.HTTP_ERROR=6,gg=Zt,jn.COMPLETE="complete",QD=jn,Er.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",Xt.prototype.listen=Xt.prototype.J,th=Er,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,XD=Ot}).apply(typeof Up<"u"?Up:typeof self<"u"?self:typeof window<"u"?window:{});const aP="@firebase/firestore",sP="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new F2("@firebase/firestore");function Ou(){return wc.logLevel}function Se(t,...e){if(wc.logLevel<=nt.DEBUG){const n=e.map(n_);wc.debug(`Firestore (${pd}): ${t}`,...n)}}function qs(t,...e){if(wc.logLevel<=nt.ERROR){const n=e.map(n_);wc.error(`Firestore (${pd}): ${t}`,...n)}}function Gu(t,...e){if(wc.logLevel<=nt.WARN){const n=e.map(n_);wc.warn(`Firestore (${pd}): ${t}`,...n)}}function n_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,t4(t,r,n)}function t4(t,e,n){let r=`FIRESTORE (${pd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qs(r),new Error(r)}function mt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||t4(e,i,r)}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Za{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pr.UNAUTHENTICATED)))}shutdown(){}}class UF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class BF{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ds,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ds)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new n4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new pr(e)}}class zF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $F{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new zF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class oP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){mt(this.o===void 0,3512);const r=a=>{a.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Se("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new oP(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new oP(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=qF(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function rt(t,e){return t<e?-1:t>e?1:0}function x1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return wx(i)===wx(a)?rt(i,a):wx(i)?1:-1}return rt(t.length,e.length)}const HF=55296,KF=57343;function wx(t){const e=t.charCodeAt(0);return e>=HF&&e<=KF}function Wu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="__name__";class ka{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ka.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ka?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ka.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return rt(e.length,n.length)}static compareSegments(e,n){const r=ka.isNumericId(e),i=ka.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ka.extractNumericId(e).compare(ka.extractNumericId(n)):x1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zo.fromString(e.substring(4,e.length-2))}}class kt extends ka{construct(e,n,r){return new kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new kt(n)}static emptyPath(){return new kt([])}}const GF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends ka{construct(e,n,r){return new ar(e,n,r)}static isValidIdentifier(e){return GF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lP}static keyField(){return new ar([lP])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ae(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ae(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new Ae(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(n)}static emptyPath(){return new ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(kt.fromString(e))}static fromName(e){return new Re(kt.fromString(e).popFirst(5))}static empty(){return new Re(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new kt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t,e,n){if(!n)throw new Ae(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WF(t,e,n,r){if(e===!0&&r===!0)throw new Ae(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cP(t){if(!Re.isDocumentKey(t))throw new Ae(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uP(t){if(Re.isDocumentKey(t))throw new Ae(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function i4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function fa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jy(t);throw new Ae(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Fh(t,e){if(!i4(t))throw new Ae(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Ae(fe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=-62135596800,fP=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*fP);return new Bt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dP)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fP}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fh(e,Bt._jsonSchema))return new Bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bt._jsonSchemaVersion="firestore/timestamp/1.0",Bt._jsonSchema={type:Cn("string",Bt._jsonSchemaVersion),seconds:Cn("number"),nanoseconds:Cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Bt(0,0))}static max(){return new Fe(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=-1;function YF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new rl(i,Re.empty(),e)}function XF(t){return new rl(t.readTime,t.key,vh)}class rl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rl(Fe.min(),Re.empty(),vh)}static max(){return new rl(Fe.max(),Re.empty(),vh)}}function QF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:rt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==ZF)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.reject(n)}static resolve(e){return new pe(((n,r)=>{n(e)}))}static reject(e){return new pe(((n,r)=>{r(e)}))}static waitFor(e){return new pe(((n,r)=>{let i=0,a=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++a,l&&a===i&&n()}),(d=>r(d)))})),l=!0,a===i&&n()}))}static or(e){let n=pe.resolve(!1);for(const r of e)n=n.next((i=>i?pe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new pe(((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let d=0;d<a;d++){const f=d;n(e[f]).next((p=>{l[f]=p,++u,u===a&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new pe(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function eq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ev.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=-1;function tv(t){return t==null}function kg(t){return t===0&&1/t==-1/0}function tq(t){return typeof t=="number"&&Number.isInteger(t)&&!kg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="";function nq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=hP(e)),e=rq(t.get(n),e);return hP(e)}function rq(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case a4:n+="";break;default:n+=a}}return n}function hP(t){return t+a4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ml(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function s4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){this.comparator=e,this.root=n||rr.EMPTY}insert(e,n){return new rn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bp(this.root,e,this.comparator,!0)}}class Bp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??rr.RED,this.left=i??rr.EMPTY,this.right=a??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new rr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new rr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pP(this.data.getIterator())}getIteratorFrom(e){return new pP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mn(this.comparator);return n.data=e,n}}class pP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new oi([])}unionWith(e){let n=new Mn(ar.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new oi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new o4("Invalid base64 string: "+a):a}})(e);return new sr(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const iq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(t){if(mt(!!t,39018),typeof t=="string"){let e=0;const n=iq.exec(t);if(mt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pn(t.seconds),nanos:pn(t.nanos)}}function pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function al(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="server_timestamp",c4="__type__",u4="__previous_value__",d4="__local_write_time__";function a_(t){return(t?.mapValue?.fields||{})[c4]?.stringValue===l4}function nv(t){const e=t.mapValue.fields[u4];return a_(e)?nv(e):e}function bh(t){const e=il(t.mapValue.fields[d4].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e,n,r,i,a,l,u,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p}}const Dg="(default)";class xh{constructor(e,n){this.projectId=e,this.database=n||Dg}static empty(){return new xh("","")}get isDefaultDatabase(){return this.database===Dg}isEqual(e){return e instanceof xh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="__type__",sq="__max__",zp={mapValue:{}},h4="__vector__",Mg="value";function sl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a_(t)?4:lq(t)?9007199254740991:oq(t)?10:11:Be(28295,{value:t})}function Ha(t,e){if(t===e)return!0;const n=sl(t);if(n!==sl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bh(t).isEqual(bh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=il(i.timestampValue),u=il(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return al(i.bytesValue).isEqual(al(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return pn(i.geoPointValue.latitude)===pn(a.geoPointValue.latitude)&&pn(i.geoPointValue.longitude)===pn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return pn(i.integerValue)===pn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=pn(i.doubleValue),u=pn(a.doubleValue);return l===u?kg(l)===kg(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Wu(t.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(mP(l)!==mP(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Ha(l[d],u[d])))return!1;return!0})(t,e);default:return Be(52216,{left:t})}}function wh(t,e){return(t.values||[]).find((n=>Ha(n,e)))!==void 0}function Yu(t,e){if(t===e)return 0;const n=sl(t),r=sl(e);if(n!==r)return rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=pn(a.integerValue||a.doubleValue),d=pn(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return gP(t.timestampValue,e.timestampValue);case 4:return gP(bh(t),bh(e));case 5:return x1(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=al(a),d=al(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const p=rt(u[f],d[f]);if(p!==0)return p}return rt(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=rt(pn(a.latitude),pn(l.latitude));return u!==0?u:rt(pn(a.longitude),pn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return yP(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const u=a.fields||{},d=l.fields||{},f=u[Mg]?.arrayValue,p=d[Mg]?.arrayValue,g=rt(f?.values?.length||0,p?.values?.length||0);return g!==0?g:yP(f,p)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===zp.mapValue&&l===zp.mapValue)return 0;if(a===zp.mapValue)return 1;if(l===zp.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const b=x1(d[g],p[g]);if(b!==0)return b;const x=Yu(u[d[g]],f[p[g]]);if(x!==0)return x}return rt(d.length,p.length)})(t.mapValue,e.mapValue);default:throw Be(23264,{he:n})}}function gP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);const n=il(t),r=il(e),i=rt(n.seconds,r.seconds);return i!==0?i:rt(n.nanos,r.nanos)}function yP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Yu(n[i],r[i]);if(a)return a}return rt(n.length,r.length)}function Xu(t){return w1(t)}function w1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=il(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return al(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=w1(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${w1(n.fields[l])}`;return i+"}"})(t.mapValue):Be(61005,{value:t})}function yg(t){switch(sl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nv(t);return e?16+yg(e):16;case 5:return 2*t.stringValue.length;case 6:return al(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+yg(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ml(r.fields,((a,l)=>{i+=a.length+yg(l)})),i})(t.mapValue);default:throw Be(13486,{value:t})}}function vP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _1(t){return!!t&&"integerValue"in t}function s_(t){return!!t&&"arrayValue"in t}function bP(t){return!!t&&"nullValue"in t}function xP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vg(t){return!!t&&"mapValue"in t}function oq(t){return(t?.mapValue?.fields||{})[f4]?.stringValue===h4}function ch(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ml(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ch(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ch(t.arrayValue.values[n]);return e}return{...t}}function lq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===sq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ch(n)}setAll(e){let n=ar.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=ch(l):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());vg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ml(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new $r(ch(this.value))}}function m4(t){const e=[];return ml(t.fields,((n,r)=>{const i=new ar([n]);if(vg(r)){const a=m4(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new oi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n,r,i,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new gr(e,0,Fe.min(),Fe.min(),Fe.min(),$r.empty(),0)}static newFoundDocument(e,n,r,i){return new gr(e,1,n,Fe.min(),r,i,0)}static newNoDocument(e,n){return new gr(e,2,n,Fe.min(),Fe.min(),$r.empty(),0)}static newUnknownDocument(e,n){return new gr(e,3,n,Fe.min(),Fe.min(),$r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.position=e,this.inclusive=n}}function wP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Re.comparator(Re.fromName(l.referenceValue),n.key):r=Yu(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function _P(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ha(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function cq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{}class Tn extends p4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dq(e,n,r):n==="array-contains"?new mq(e,r):n==="in"?new pq(e,r):n==="not-in"?new gq(e,r):n==="array-contains-any"?new yq(e,r):new Tn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fq(e,r):new hq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yu(n,this.value)):n!==null&&sl(this.value)===sl(n)&&this.matchesComparison(Yu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ha extends p4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ha(e,n)}matches(e){return g4(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function g4(t){return t.op==="and"}function y4(t){return uq(t)&&g4(t)}function uq(t){for(const e of t.filters)if(e instanceof ha)return!1;return!0}function E1(t){if(t instanceof Tn)return t.field.canonicalString()+t.op.toString()+Xu(t.value);if(y4(t))return t.filters.map((e=>E1(e))).join(",");{const e=t.filters.map((n=>E1(n))).join(",");return`${t.op}(${e})`}}function v4(t,e){return t instanceof Tn?(function(r,i){return i instanceof Tn&&r.op===i.op&&r.field.isEqual(i.field)&&Ha(r.value,i.value)})(t,e):t instanceof ha?(function(r,i){return i instanceof ha&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,u)=>a&&v4(l,i.filters[u])),!0):!1})(t,e):void Be(19439)}function b4(t){return t instanceof Tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Xu(n.value)}`})(t):t instanceof ha?(function(n){return n.op.toString()+" {"+n.getFilters().map(b4).join(" ,")+"}"})(t):"Filter"}class dq extends Tn{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class fq extends Tn{constructor(e,n){super(e,"in",n),this.keys=x4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hq extends Tn{constructor(e,n){super(e,"not-in",n),this.keys=x4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function x4(t,e){return(e.arrayValue?.values||[]).map((n=>Re.fromName(n.referenceValue)))}class mq extends Tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s_(n)&&wh(n.arrayValue,this.value)}}class pq extends Tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wh(this.value.arrayValue,n)}}class gq extends Tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wh(this.value.arrayValue,n)}}class yq extends Tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>wh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e,n=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function EP(t,e=null,n=[],r=[],i=null,a=null,l=null){return new vq(t,e,n,r,i,a,l)}function o_(t){const e=He(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>E1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),tv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Xu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Xu(r))).join(",")),e.Te=n}return e.Te}function l_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!v4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_P(t.startAt,e.startAt)&&_P(t.endAt,e.endAt)}function A1(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n=null,r=[],i=[],a=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bq(t,e,n,r,i,a,l,u){return new vd(t,e,n,r,i,a,l,u)}function c_(t){return new vd(t)}function AP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function w4(t){return t.collectionGroup!==null}function uh(t){const e=He(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Mn(ar.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new _h(a,r))})),n.has(ar.keyField().canonicalString())||e.Ie.push(new _h(ar.keyField(),r))}return e.Ie}function Ba(t){const e=He(t);return e.Ee||(e.Ee=xq(e,uh(t))),e.Ee}function xq(t,e){if(t.limitType==="F")return EP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new _h(i.field,a)}));const n=t.endAt?new Lg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lg(t.startAt.position,t.startAt.inclusive):null;return EP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function S1(t,e){const n=t.filters.concat([e]);return new vd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vg(t,e,n){return new vd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rv(t,e){return l_(Ba(t),Ba(e))&&t.limitType===e.limitType}function _4(t){return`${o_(Ba(t))}|lt:${t.limitType}`}function Iu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>b4(i))).join(", ")}]`),tv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Xu(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Xu(i))).join(",")),`Target(${r})`})(Ba(t))}; limitType=${t.limitType})`}function iv(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Re.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of uh(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,d){const f=wP(l,u,d);return l.inclusive?f<=0:f<0})(r.startAt,uh(r),i)||r.endAt&&!(function(l,u,d){const f=wP(l,u,d);return l.inclusive?f>=0:f>0})(r.endAt,uh(r),i))})(t,e)}function wq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function E4(t){return(e,n)=>{let r=!1;for(const i of uh(t)){const a=_q(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function _q(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(a,l,u){const d=l.data.field(a),f=u.data.field(a);return d!==null&&f!==null?Yu(d,f):Be(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ml(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return s4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq=new rn(Re.comparator);function Hs(){return Eq}const A4=new rn(Re.comparator);function nh(...t){let e=A4;for(const n of t)e=e.insert(n.key,n);return e}function S4(t){let e=A4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function sc(){return dh()}function T4(){return dh()}function dh(){return new Dc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Aq=new rn(Re.comparator),Sq=new Mn(Re.comparator);function it(...t){let e=Sq;for(const n of t)e=e.add(n);return e}const Tq=new Mn(rt);function Cq(){return Tq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kg(e)?"-0":e}}function C4(t){return{integerValue:""+t}}function Nq(t,e){return tq(e)?C4(e):u_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this._=void 0}}function Pq(t,e,n){return t instanceof Ug?(function(i,a){const l={fields:{[c4]:{stringValue:l4},[d4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&a_(a)&&(a=nv(a)),a&&(l.fields[u4]=a),{mapValue:l}})(n,e):t instanceof Qu?P4(t,e):t instanceof Zu?j4(t,e):(function(i,a){const l=N4(i,a),u=SP(l)+SP(i.Ae);return _1(l)&&_1(i.Ae)?C4(u):u_(i.serializer,u)})(t,e)}function jq(t,e,n){return t instanceof Qu?P4(t,e):t instanceof Zu?j4(t,e):n}function N4(t,e){return t instanceof Bg?(function(r){return _1(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Ug extends av{}class Qu extends av{constructor(e){super(),this.elements=e}}function P4(t,e){const n=O4(e);for(const r of t.elements)n.some((i=>Ha(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Zu extends av{constructor(e){super(),this.elements=e}}function j4(t,e){let n=O4(e);for(const r of t.elements)n=n.filter((i=>!Ha(i,r)));return{arrayValue:{values:n}}}class Bg extends av{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function SP(t){return pn(t.integerValue||t.doubleValue)}function O4(t){return s_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n){this.field=e,this.transform=n}}function Oq(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Qu&&i instanceof Qu||r instanceof Zu&&i instanceof Zu?Wu(r.elements,i.elements,Ha):r instanceof Bg&&i instanceof Bg?Ha(r.Ae,i.Ae):r instanceof Ug&&i instanceof Ug})(t.transform,e.transform)}class Iq{constructor(e,n){this.version=e,this.transformResults=n}}class Vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sv{}function R4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new d_(t.key,Vi.none()):new qh(t.key,t.data,Vi.none());{const n=t.data,r=$r.empty();let i=new Mn(ar.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new pl(t.key,r,new oi(i.toArray()),Vi.none())}}function Rq(t,e,n){t instanceof qh?(function(i,a,l){const u=i.value.clone(),d=CP(i.fieldTransforms,a,l.transformResults);u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof pl?(function(i,a,l){if(!bg(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=CP(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(k4(i)),d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function fh(t,e,n,r){return t instanceof qh?(function(a,l,u,d){if(!bg(a.precondition,l))return u;const f=a.value.clone(),p=NP(a.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof pl?(function(a,l,u,d){if(!bg(a.precondition,l))return u;const f=NP(a.fieldTransforms,d,l),p=l.data;return p.setAll(k4(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(a,l,u){return bg(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function kq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=N4(r.transform,i||null);a!=null&&(n===null&&(n=$r.empty()),n.set(r.field,a))}return n||null}function TP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wu(r,i,((a,l)=>Oq(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qh extends sv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pl extends sv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function k4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function CP(t,e,n){const r=new Map;mt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,jq(l,u,n[i]))}return r}function NP(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,Pq(a,l,e))}return r}class d_ extends sv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dq extends sv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Rq(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=T4();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(i.key)?null:u;const d=R4(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),it())}isEqual(e){return this.batchId===e.batchId&&Wu(this.mutations,e.mutations,((n,r)=>TP(n,r)))&&Wu(this.baseMutations,e.baseMutations,((n,r)=>TP(n,r)))}}class f_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){mt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Aq})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new f_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An,st;function Uq(t){switch(t){case fe.OK:return Be(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function D4(t){if(t===void 0)return qs("GRPC error has no .code"),fe.UNKNOWN;switch(t){case An.OK:return fe.OK;case An.CANCELLED:return fe.CANCELLED;case An.UNKNOWN:return fe.UNKNOWN;case An.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case An.INTERNAL:return fe.INTERNAL;case An.UNAVAILABLE:return fe.UNAVAILABLE;case An.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case An.NOT_FOUND:return fe.NOT_FOUND;case An.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case An.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case An.ABORTED:return fe.ABORTED;case An.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case An.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case An.DATA_LOSS:return fe.DATA_LOSS;default:return Be(39323,{code:t})}}(st=An||(An={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq=new Zo([4294967295,4294967295],0);function PP(t){const e=Bq().encode(t),n=new YD;return n.update(e),new Uint8Array(n.digest())}function jP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Zo([n,r],0),new Zo([i,a],0)]}class h_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rh(`Invalid padding: ${n}`);if(r<0)throw new rh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Zo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Zo.fromNumber(r)));return i.compare(zq)===1&&(i=new Zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=PP(e),[r,i]=jP(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new h_(a,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=PP(e),[r,i]=jP(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Hh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ov(Fe.min(),i,new rn(rt),Hs(),it())}}class Hh{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hh(r,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class M4{constructor(e,n){this.targetId=e,this.Ce=n}}class L4{constructor(e,n,r=sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class OP{constructor(){this.ve=0,this.Fe=IP(),this.Me=sr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),n=it(),r=it();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Be(38017,{changeType:a})}})),new Hh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=IP()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $q{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hs(),this.Je=$p(),this.He=$p(),this.Ye=new rn(rt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(A1(a))if(r===0){const l=new Re(a.path);this.et(n,l,gr.newNoDocument(l,Fe.min()))}else mt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,u;try{l=al(r).toUint8Array()}catch(d){if(d instanceof o4)return Gu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new h_(l,i,a)}catch(d){return Gu(d instanceof rh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&A1(u.target)){const d=new Re(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,gr.newNoDocument(d,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=it();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new ov(e,n,this.Ye,this.je,r);return this.je=Hs(),this.Je=$p(),this.He=$p(),this.Ye=new rn(rt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new OP,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mn(rt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mn(rt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new OP),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $p(){return new rn(Re.comparator)}function IP(){return new rn(Re.comparator)}const Fq={asc:"ASCENDING",desc:"DESCENDING"},qq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hq={and:"AND",or:"OR"};class Kq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function T1(t,e){return t.useProto3Json||tv(e)?e:{value:e}}function zg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Gq(t,e){return zg(t,e.toTimestamp())}function za(t){return mt(!!t,49232),Fe.fromTimestamp((function(n){const r=il(n);return new Bt(r.seconds,r.nanos)})(t))}function m_(t,e){return C1(t,e).canonicalString()}function C1(t,e){const n=(function(i){return new kt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function U4(t){const e=kt.fromString(t);return mt(q4(e),10190,{key:e.toString()}),e}function N1(t,e){return m_(t.databaseId,e.path)}function _x(t,e){const n=U4(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(z4(n))}function B4(t,e){return m_(t.databaseId,e)}function Wq(t){const e=U4(t);return e.length===4?kt.emptyPath():z4(e)}function P1(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function z4(t){return mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function RP(t,e,n){return{name:N1(t,e),fields:n.value.mapValue.fields}}function Yq(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Be(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,p){return f.useProto3Json?(mt(p===void 0||typeof p=="string",58123),sr.fromBase64String(p||"")):(mt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),sr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(f){const p=f.code===void 0?fe.UNKNOWN:D4(f.code);return new Ae(p,f.message||"")})(l);n=new L4(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_x(t,r.document.name),a=za(r.document.updateTime),l=r.document.createTime?za(r.document.createTime):Fe.min(),u=new $r({mapValue:{fields:r.document.fields}}),d=gr.newFoundDocument(i,a,l,u),f=r.targetIds||[],p=r.removedTargetIds||[];n=new xg(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_x(t,r.document),a=r.readTime?za(r.readTime):Fe.min(),l=gr.newNoDocument(i,a),u=r.removedTargetIds||[];n=new xg([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_x(t,r.document),a=r.removedTargetIds||[];n=new xg([],a,i,null)}else{if(!("filter"in e))return Be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new Vq(i,a),u=r.targetId;n=new M4(u,l)}}return n}function Xq(t,e){let n;if(e instanceof qh)n={update:RP(t,e.key,e.value)};else if(e instanceof d_)n={delete:N1(t,e.key)};else if(e instanceof pl)n={update:RP(t,e.key,e.data),updateMask:aH(e.fieldMask)};else{if(!(e instanceof Dq))return Be(16599,{Vt:e.type});n={verify:N1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof Ug)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Qu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Zu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Bg)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Be(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Gq(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)})(t,e.precondition)),n}function Qq(t,e){return t&&t.length>0?(mt(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?za(i.updateTime):za(a);return l.isEqual(Fe.min())&&(l=za(a)),new Iq(l,i.transformResults||[])})(n,e)))):[]}function Zq(t,e){return{documents:[B4(t,e.path)]}}function Jq(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=B4(t,i);const a=(function(f){if(f.length!==0)return F4(ha.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(f){if(f.length!==0)return f.map((p=>(function(b){return{field:Ru(b.field),direction:nH(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=T1(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function eH(t){let e=Wq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];n.where&&(a=(function(g){const b=$4(g);return b instanceof ha&&y4(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((b=>(function(A){return new _h(ku(A.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(b)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let b;return b=typeof g=="object"?g.value:g,tv(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(g){const b=!!g.before,x=g.values||[];return new Lg(x,b)})(n.startAt));let f=null;return n.endAt&&(f=(function(g){const b=!g.before,x=g.values||[];return new Lg(x,b)})(n.endAt)),bq(e,i,l,a,u,"F",d,f)}function tH(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ku(n.unaryFilter.field);return Tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ku(n.unaryFilter.field);return Tn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ku(n.unaryFilter.field);return Tn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ku(n.unaryFilter.field);return Tn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Tn.create(ku(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ha.create(n.compositeFilter.filters.map((r=>$4(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(n.compositeFilter.op))})(t):Be(30097,{filter:t})}function nH(t){return Fq[t]}function rH(t){return qq[t]}function iH(t){return Hq[t]}function Ru(t){return{fieldPath:t.canonicalString()}}function ku(t){return ar.fromServerFormat(t.fieldPath)}function F4(t){return t instanceof Tn?(function(n){if(n.op==="=="){if(xP(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NAN"}};if(bP(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xP(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NOT_NAN"}};if(bP(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(n.field),op:rH(n.op),value:n.value}}})(t):t instanceof ha?(function(n){const r=n.getFilters().map((i=>F4(i)));return r.length===1?r[0]:{compositeFilter:{op:iH(n.op),filters:r}}})(t):Be(54877,{filter:t})}function aH(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function q4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n,r,i,a=Fe.min(),l=Fe.min(),u=sr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e){this.yt=e}}function oH(t){const e=eH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(){this.Cn=new cH}addToCollectionParentIndex(e,n){return this.Cn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(rl.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(rl.min())}updateCollectionGroup(e,n,r){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class cH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mn(kt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mn(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H4=41943040;class Ur{static withCacheSize(e){return new Ur(e,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur.DEFAULT_COLLECTION_PERCENTILE=10,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ur.DEFAULT=new Ur(H4,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ur.DISABLED=new Ur(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ju(0)}static cr(){return new Ju(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="LruGarbageCollector",uH=1048576;function MP([t,e],[n,r]){const i=rt(t,n);return i===0?rt(e,r):i}class dH{constructor(e){this.Ir=e,this.buffer=new Mn(MP),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();MP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Se(DP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yd(n)?Se(DP,"Ignoring IndexedDB error during garbage collection: ",n):await gd(n)}await this.Vr(3e5)}))}}class hH{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return pe.resolve(ev.ce);const r=new dH(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(kP)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kP):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,u,d,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(f=Date.now(),Ou()<=nt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g}))))}}function mH(t,e){return new hH(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(){this.changes=new Dc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?pe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&fh(r.mutation,i,oi.empty(),Bt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,it()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=it()){const i=sc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=nh();return a.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=sc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,it())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let a=Hs();const l=dh(),u=(function(){return dh()})();return n.forEach(((d,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof pl)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),fh(p.mutation,f,p.mutation.getFieldMask(),Bt.now())):l.set(f.key,oi.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((f,p)=>l.set(f,p))),n.forEach(((f,p)=>u.set(f,new gH(p,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=dh();let i=new rn(((l,u)=>l-u)),a=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let p=r.get(d)||oi.empty();p=u.applyToLocalView(f,p),r.set(d,p);const g=(i.get(u.batchId)||it()).add(d);i=i.insert(u.batchId,g)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,p=d.value,g=T4();p.forEach((b=>{if(!a.has(b)){const x=R4(n.get(b),r.get(b));x!==null&&g.set(b,x),a=a.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return pe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Re.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):pe.resolve(sc());let u=vh,d=a;return l.next((f=>pe.forEach(f,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(p)?pe.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{d=d.insert(p,b)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,d,f,it()))).next((p=>({batchId:u,changes:S4(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((r=>{let i=nh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=nh();return this.indexManager.getCollectionParents(e,a).next((u=>pe.forEach(u,(d=>{const f=(function(g,b){return new vd(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((p=>{p.forEach(((g,b)=>{l=l.insert(g,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,gr.newInvalidDocument(p)))}));let u=nh();return l.forEach(((d,f)=>{const p=a.get(d);p!==void 0&&fh(p.mutation,f,oi.empty(),Bt.now()),iv(n,f)&&(u=u.insert(d,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return pe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:za(i.createTime)}})(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:oH(i.bundledQuery),readTime:za(i.readTime)}})(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(){this.overlays=new rn(Re.comparator),this.qr=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=sc();return pe.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),pe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),pe.resolve()}getOverlaysForCollection(e,n,r){const i=sc(),a=n.length+1,l=new Re(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new rn(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=a.get(f.largestBatchId);p===null&&(p=sc(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=sc(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,p)=>u.set(f,p))),!(u.size()>=i)););return pe.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Lq(n,r));let a=this.qr.get(n);a===void 0&&(a=it(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.Qr=new Mn(Kn.$r),this.Ur=new Mn(Kn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Kn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Kn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Re(new kt([])),r=new Kn(n,e),i=new Kn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Re(new kt([])),r=new Kn(n,e),i=new Kn(n,e+1);let a=it();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Kn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Re.comparator(e.key,n.key)||rt(e.Yr,n.Yr)}static Kr(e,n){return rt(e.Yr,n.Yr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mn(Kn.$r)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Mq(a,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Kn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return pe.resolve(l)}lookupMutationBatch(e,n){return pe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return pe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?i_:this.tr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kn(n,0),i=new Kn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);a.push(u)})),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mn(rt);return n.forEach((i=>{const a=new Kn(i,0),l=new Kn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),pe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Re.isDocumentKey(a)||(a=a.child(""));const l=new Kn(new Re(a),0);let u=new Mn(rt);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.Yr)),!0)}),l),pe.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){mt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return pe.forEach(n.mutations,(i=>{const a=new Kn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Kn(n,0),i=this.Zr.firstAfterOrEqual(r);return pe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e){this.ri=e,this.docs=(function(){return new rn(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return pe.resolve(r?r.document.mutableCopy():gr.newInvalidDocument(n))}getEntries(e,n){let r=Hs();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():gr.newInvalidDocument(i))})),pe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Hs();const l=n.path,u=new Re(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||QF(XF(p),r)<=0||(i.has(p.key)||iv(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return pe.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Be(9500)}ii(e,n){return pe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new EH(this)}getSize(e){return pe.resolve(this.size)}}class EH extends pH{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),pe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e){this.persistence=e,this.si=new Dc((n=>o_(n)),l_),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new p_,this.targetCount=0,this.ai=Ju.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),pe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ju(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.Pr(n),pe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),pe.waitFor(a).next((()=>i))}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return pe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),pe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),pe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return pe.resolve(r)}containsKey(e,n){return pe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n){this.ui={},this.overlays={},this.ci=new ev(0),this.li=!1,this.li=!0,this.hi=new xH,this.referenceDelegate=e(this),this.Pi=new AH(this),this.indexManager=new lH,this.remoteDocumentCache=(function(i){return new _H(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new sH(n),this.Ii=new vH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new wH(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const i=new SH(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return pe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class SH extends JF{constructor(e){super(),this.currentSequenceNumber=e}}class g_{constructor(e){this.persistence=e,this.Ri=new p_,this.Vi=null}static mi(e){return new g_(e)}get fi(){if(this.Vi)return this.Vi;throw Be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),pe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.fi,(r=>{const i=Re.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Fe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return pe.or([()=>pe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $g{constructor(e,n){this.persistence=e,this.pi=new Dc((r=>nq(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=mH(this,n)}static mi(e,n){return new $g(e,n)}Ei(){}di(e){return pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return pe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?pe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,a.removeEntry(l,Fe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),pe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),pe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yg(e.data.value)),n}br(e,n,r){return pe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return pe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=it(),i=it();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new y_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZU()?8:eq(br())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new TH;return this.Ss(e,n,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ou()<=nt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Iu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),pe.resolve()):(Ou()<=nt.DEBUG&&Se("QueryEngine","Query:",Iu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ou()<=nt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Iu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ba(n))):pe.resolve())}ys(e,n){if(AP(n))return pe.resolve(null);let r=Ba(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Vg(n,null,"F"),r=Ba(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=it(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,u);return this.Cs(n,f,l,d.readTime)?this.ys(e,Vg(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,i){return AP(n)||i.isEqual(Fe.min())?pe.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?pe.resolve(null):(Ou()<=nt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Iu(n)),this.vs(e,l,n,YF(i,vh)).next((u=>u)))}))}Ds(e,n){let r=new Mn(E4(e));return n.forEach(((i,a)=>{iv(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Ou()<=nt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Iu(n)),this.ps.getDocumentsMatchingQuery(e,n,rl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="LocalStore",NH=3e8;class PH{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new rn(rt),this.xs=new Dc((a=>o_(a)),l_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yH(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function jH(t,e,n,r){return new PH(t,e,n,r)}async function G4(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let d=it();for(const f of i){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of a){u.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function OH(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,p){const g=f.batch,b=g.keys();let x=pe.resolve();return b.forEach((A=>{x=x.next((()=>p.getEntry(d,A))).next((E=>{const S=f.docVersions.get(A);mt(S!==null,48541),E.version.compareTo(S)<0&&(g.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),p.addEntry(E)))}))})),x.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=it();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function W4(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function IH(t,e){const n=He(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const b=i.get(g);if(!b)return;u.push(n.Pi.removeMatchingKeys(a,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(a,p.addedDocuments,g))));let x=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(sr.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,r)),i=i.insert(g,x),(function(E,S,C){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=NH?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(b,x,p)&&u.push(n.Pi.updateTargetData(a,x))}));let d=Hs(),f=it();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))})),u.push(RH(a,l,e.documentUpdates).next((p=>{d=p.ks,f=p.qs}))),!r.isEqual(Fe.min())){const p=n.Pi.getLastRemoteSnapshotVersion(a).next((g=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(p)}return pe.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,f))).next((()=>d))})).then((a=>(n.Ms=i,a)))}function RH(t,e,n){let r=it(),i=it();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Hs();return n.forEach(((u,d)=>{const f=a.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Fe.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):Se(v_,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function kH(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=i_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function DH(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,pe.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Go(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function j1(t,e,n){const r=He(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!yd(l))throw l;Se(v_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function LP(t,e,n){const r=He(t);let i=Fe.min(),a=it();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,p){const g=He(d),b=g.xs.get(p);return b!==void 0?pe.resolve(g.Ms.get(b)):g.Pi.getTargetData(f,p)})(r,l,Ba(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Fe.min(),n?a:it()))).next((u=>(MH(r,wq(e),u),{documents:u,Qs:a})))))}function MH(t,e,n){let r=t.Os.get(e)||Fe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class VP{constructor(){this.activeTargetIds=Cq()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LH{constructor(){this.Mo=new VP,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new VP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="ConnectivityMonitor";class BP{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Se(UP,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Se(UP,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp=null;function O1(){return Fp===null?Fp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fp++,"0x"+Fp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="RestConnection",UH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BH{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Dg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=O1(),u=this.zo(e,n.toUriEncodedString());Se(Ex,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:f}=new URL(u),p=Ic(f);return this.Jo(e,u,d,r,p).then((g=>(Se(Ex,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw Gu(Ex,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=UH[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="WebChannelConnection";class $H extends BH{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=O1();return new Promise(((u,d)=>{const f=new XD;f.setWithCredentials(!0),f.listenOnce(QD.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case gg.NO_ERROR:const g=f.getResponseJson();Se(hr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case gg.TIMEOUT:Se(hr,`RPC '${e}' ${l} timed out`),d(new Ae(fe.DEADLINE_EXCEEDED,"Request time out"));break;case gg.HTTP_ERROR:const b=f.getStatus();if(Se(hr,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const A=x?.error;if(A&&A.status&&A.message){const E=(function(C){const P=C.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(P)>=0?P:fe.UNKNOWN})(A.status);d(new Ae(E,A.message))}else d(new Ae(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Ae(fe.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Se(hr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);Se(hr,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=O1(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=e4(),u=JD(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=a.join("");Se(hr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=l.createWebChannel(p,d);this.I_(g);let b=!1,x=!1;const A=new zH({Yo:S=>{x?Se(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(b||(Se(hr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),Se(hr,`RPC '${e}' stream ${i} sending:`,S),g.send(S))},Zo:()=>g.close()}),E=(S,C,P)=>{S.listen(C,(N=>{try{P(N)}catch(L){setTimeout((()=>{throw L}),0)}}))};return E(g,th.EventType.OPEN,(()=>{x||(Se(hr,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),E(g,th.EventType.CLOSE,(()=>{x||(x=!0,Se(hr,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(g))})),E(g,th.EventType.ERROR,(S=>{x||(x=!0,Gu(hr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),A.a_(new Ae(fe.UNAVAILABLE,"The operation could not be completed")))})),E(g,th.EventType.MESSAGE,(S=>{if(!x){const C=S.data[0];mt(!!C,16349);const P=C,N=P?.error||P[0]?.error;if(N){Se(hr,`RPC '${e}' stream ${i} received error:`,N);const L=N.status;let M=(function(I){const k=An[I];if(k!==void 0)return D4(k)})(L),U=N.message;M===void 0&&(M=fe.INTERNAL,U="Unknown error status: "+L+" with message "+N.message),x=!0,A.a_(new Ae(M,U)),g.close()}else Se(hr,`RPC '${e}' stream ${i} received:`,C),A.u_(C)}})),E(u,ZD.STAT_EVENT,(S=>{S.stat===b1.PROXY?Se(hr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===b1.NOPROXY&&Se(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ax(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){return new Kq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="PersistentStream";class X4{constructor(e,n,r,i,a,l,u,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(qs(n.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ae(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(zP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Se(zP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FH extends X4{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Yq(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Fe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Fe.min():l.readTime?za(l.readTime):Fe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=P1(this.serializer),n.addTarget=(function(a,l){let u;const d=l.target;if(u=A1(d)?{documents:Zq(a,d)}:{query:Jq(a,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=V4(a,l.resumeToken);const f=T1(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Fe.min())>0){u.readTime=zg(a,l.snapshotVersion.toTimestamp());const f=T1(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=tH(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=P1(this.serializer),n.removeTarget=e,this.q_(n)}}class qH extends X4{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Qq(e.writeResults,e.commitTime),r=za(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=P1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Xq(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{}class KH extends HH{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ae(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,C1(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ae(fe.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,C1(n,r),i,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(fe.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qs(n),this.aa=!1):Se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c="RemoteStore";class WH{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Mc(this)&&(Se(_c,"Restarting streams for network reachability change."),await(async function(d){const f=He(d);f.Ea.add(4),await Kh(f),f.Ra.set("Unknown"),f.Ea.delete(4),await cv(f)})(this))}))})),this.Ra=new GH(r,i)}}async function cv(t){if(Mc(t))for(const e of t.da)await e(!0)}async function Kh(t){for(const e of t.da)await e(!1)}function Q4(t,e){const n=He(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),__(n)?w_(n):bd(n).O_()&&x_(n,e))}function b_(t,e){const n=He(t),r=bd(n);n.Ia.delete(e),r.O_()&&Z4(n,e),n.Ia.size===0&&(r.O_()?r.L_():Mc(n)&&n.Ra.set("Unknown"))}function x_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bd(t).Y_(e)}function Z4(t,e){t.Va.Ue(e),bd(t).Z_(e)}function w_(t){t.Va=new $q({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),bd(t).start(),t.Ra.ua()}function __(t){return Mc(t)&&!bd(t).x_()&&t.Ia.size>0}function Mc(t){return He(t).Ea.size===0}function J4(t){t.Va=void 0}async function YH(t){t.Ra.set("Online")}async function XH(t){t.Ia.forEach(((e,n)=>{x_(t,e)}))}async function QH(t,e){J4(t),__(t)?(t.Ra.ha(e),w_(t)):t.Ra.set("Unknown")}async function ZH(t,e,n){if(t.Ra.set("Online"),e instanceof L4&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Se(_c,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fg(t,r)}else if(e instanceof xg?t.Va.Ze(e):e instanceof M4?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const r=await W4(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.Ia.get(f);p&&a.Ia.set(f,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,f)=>{const p=a.Ia.get(d);if(!p)return;a.Ia.set(d,p.withResumeToken(sr.EMPTY_BYTE_STRING,p.snapshotVersion)),Z4(a,d);const g=new Go(p.target,d,f,p.sequenceNumber);x_(a,g)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Se(_c,"Failed to raise snapshot:",r),await Fg(t,r)}}async function Fg(t,e,n){if(!yd(e))throw e;t.Ea.add(1),await Kh(t),t.Ra.set("Offline"),n||(n=()=>W4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Se(_c,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await cv(t)}))}function eM(t,e){return e().catch((n=>Fg(t,n,e)))}async function uv(t){const e=He(t),n=ol(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:i_;for(;JH(e);)try{const i=await kH(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,eK(e,i)}catch(i){await Fg(e,i)}tM(e)&&nM(e)}function JH(t){return Mc(t)&&t.Ta.length<10}function eK(t,e){t.Ta.push(e);const n=ol(t);n.O_()&&n.X_&&n.ea(e.mutations)}function tM(t){return Mc(t)&&!ol(t).x_()&&t.Ta.length>0}function nM(t){ol(t).start()}async function tK(t){ol(t).ra()}async function nK(t){const e=ol(t);for(const n of t.Ta)e.ea(n.mutations)}async function rK(t,e,n){const r=t.Ta.shift(),i=f_.from(r,e,n);await eM(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await uv(t)}async function iK(t,e){e&&ol(t).X_&&await(async function(r,i){if((function(l){return Uq(l)&&l!==fe.ABORTED})(i.code)){const a=r.Ta.shift();ol(r).B_(),await eM(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await uv(r)}})(t,e),tM(t)&&nM(t)}async function $P(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Se(_c,"RemoteStore received new credentials");const r=Mc(n);n.Ea.add(3),await Kh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cv(n)}async function aK(t,e){const n=He(t);e?(n.Ea.delete(2),await cv(n)):e||(n.Ea.add(2),await Kh(n),n.Ra.set("Unknown"))}function bd(t){return t.ma||(t.ma=(function(n,r,i){const a=He(n);return a.sa(),new FH(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:YH.bind(null,t),t_:XH.bind(null,t),r_:QH.bind(null,t),H_:ZH.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),__(t)?w_(t):t.Ra.set("Unknown")):(await t.ma.stop(),J4(t))}))),t.ma}function ol(t){return t.fa||(t.fa=(function(n,r,i){const a=He(n);return a.sa(),new qH(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:tK.bind(null,t),r_:iK.bind(null,t),ta:nK.bind(null,t),na:rK.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await uv(t)):(await t.fa.stop(),t.Ta.length>0&&(Se(_c,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,u=new E_(e,n,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A_(t,e){if(qs("AsyncQueue",`${e}: ${t}`),yd(t))return new Ae(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{static emptySet(e){return new Uu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=nh(),this.sortedSet=new rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(){this.ga=new rn(Re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ed{constructor(e,n,r,i,a,l,u,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new ed(e,n,Uu.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class oK{constructor(){this.queries=qP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=He(n),a=i.queries;i.queries=qP(),a.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new Ae(fe.ABORTED,"Firestore shutting down"))}}function qP(){return new Dc((t=>_4(t)),rv)}async function rM(t,e){const n=He(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new sK,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=A_(l,`Initialization of query '${Iu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&S_(n)}async function iM(t,e){const n=He(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lK(t,e){const n=He(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&S_(n)}function cK(t,e,n){const r=He(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function S_(t){t.Ca.forEach((e=>{e.next()}))}var I1,HP;(HP=I1||(I1={})).Ma="default",HP.Cache="cache";class aM{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ed(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ed.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==I1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.key=e}}class oM{constructor(e){this.key=e}}class uK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=it(),this.mutatedKeys=it(),this.eu=E4(e),this.tu=new Uu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new FP,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const b=i.get(p),x=iv(this.query,g)?g:null,A=!!b&&this.mutatedKeys.has(b.key),E=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;b&&x?b.data.isEqual(x.data)?A!==E&&(r.track({type:3,doc:x}),S=!0):this.su(b,x)||(r.track({type:2,doc:x}),S=!0,(d&&this.eu(x,d)>0||f&&this.eu(x,f)<0)&&(u=!0)):!b&&x?(r.track({type:0,doc:x}),S=!0):b&&!x&&(r.track({type:1,doc:b}),S=!0,(d||f)&&(u=!0)),S&&(x?(l=l.add(x),a=E?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(x,A){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Rt:S})}};return E(x)-E(A)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new ed(this.query,e.tu,a,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new FP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=it(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new oM(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new sM(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=it();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ed.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const T_="SyncEngine";class dK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fK{constructor(e){this.key=e,this.hu=!1}}class hK{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Dc((u=>_4(u)),rv),this.Iu=new Map,this.Eu=new Set,this.du=new rn(Re.comparator),this.Au=new Map,this.Ru=new p_,this.Vu={},this.mu=new Map,this.fu=Ju.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mK(t,e,n=!0){const r=hM(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await lM(r,e,n,!0),i}async function pK(t,e){const n=hM(t);await lM(n,e,!0,!1)}async function lM(t,e,n,r){const i=await DH(t.localStore,Ba(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await gK(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Q4(t.remoteStore,i),u}async function gK(t,e,n,r,i){t.pu=(g,b,x)=>(async function(E,S,C,P){let N=S.view.ru(C);N.Cs&&(N=await LP(E.localStore,S.query,!1).then((({documents:R})=>S.view.ru(R,N))));const L=P&&P.targetChanges.get(S.targetId),M=P&&P.targetMismatches.get(S.targetId)!=null,U=S.view.applyChanges(N,E.isPrimaryClient,L,M);return GP(E,S.targetId,U.au),U.snapshot})(t,g,b,x);const a=await LP(t.localStore,e,!0),l=new uK(e,a.Qs),u=l.ru(a.documents),d=Hh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(u,t.isPrimaryClient,d);GP(t,n,f.au);const p=new dK(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function yK(t,e,n){const r=He(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!rv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await j1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&b_(r.remoteStore,i.targetId),R1(r,i.targetId)})).catch(gd)):(R1(r,i.targetId),await j1(r.localStore,i.targetId,!0))}async function vK(t,e){const n=He(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),b_(n.remoteStore,r.targetId))}async function bK(t,e,n){const r=TK(t);try{const i=await(function(l,u){const d=He(l),f=Bt.now(),p=u.reduce(((x,A)=>x.add(A.key)),it());let g,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let A=Hs(),E=it();return d.Ns.getEntries(x,p).next((S=>{A=S,A.forEach(((C,P)=>{P.isValidDocument()||(E=E.add(C))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,A))).next((S=>{g=S;const C=[];for(const P of u){const N=kq(P,g.get(P.key).overlayedDocument);N!=null&&C.push(new pl(P.key,N,m4(N.value.mapValue),Vi.exists(!0)))}return d.mutationQueue.addMutationBatch(x,f,C,u)})).next((S=>{b=S;const C=S.applyToLocalDocumentSet(g,E);return d.documentOverlayCache.saveOverlays(x,S.batchId,C)}))})).then((()=>({batchId:b.batchId,changes:S4(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new rn(rt)),f=f.insert(u,d),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await Gh(r,i.changes),await uv(r.remoteStore)}catch(i){const a=A_(i,"Failed to persist write");n.reject(a)}}async function cM(t,e){const n=He(t);try{const r=await IH(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?mt(l.hu,14607):i.removedDocuments.size>0&&(mt(l.hu,42227),l.hu=!1))})),await Gh(n,r,e)}catch(r){await gd(r)}}function KP(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=He(l);d.onlineState=u;let f=!1;d.queries.forEach(((p,g)=>{for(const b of g.Sa)b.va(u)&&(f=!0)})),f&&S_(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xK(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new rn(Re.comparator);l=l.insert(a,gr.newNoDocument(a,Fe.min()));const u=it().add(a),d=new ov(Fe.min(),new Map,new rn(rt),l,u);await cM(r,d),r.du=r.du.remove(a),r.Au.delete(e),C_(r)}else await j1(r.localStore,e,!1).then((()=>R1(r,e,n))).catch(gd)}async function wK(t,e){const n=He(t),r=e.batch.batchId;try{const i=await OH(n.localStore,e);dM(n,r,null),uM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gh(n,i)}catch(i){await gd(i)}}async function _K(t,e,n){const r=He(t);try{const i=await(function(l,u){const d=He(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return d.mutationQueue.lookupMutationBatch(f,u).next((g=>(mt(g!==null,37113),p=g.keys(),d.mutationQueue.removeMutationBatch(f,g)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>d.localDocuments.getDocuments(f,p)))}))})(r.localStore,e);dM(r,e,n),uM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gh(r,i)}catch(i){await gd(i)}}function uM(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function dM(t,e,n){const r=He(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function R1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||fM(t,r)}))}function fM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(b_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),C_(t))}function GP(t,e,n){for(const r of n)r instanceof sM?(t.Ru.addReference(r.key,e),EK(t,r)):r instanceof oM?(Se(T_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||fM(t,r.key)):Be(19791,{wu:r})}function EK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Se(T_,"New document in limbo: "+n),t.Eu.add(r),C_(t))}function C_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Re(kt.fromString(e)),r=t.fu.next();t.Au.set(r,new fK(n)),t.du=t.du.insert(n,r),Q4(t.remoteStore,new Go(Ba(c_(n.path)),r,"TargetPurposeLimboResolution",ev.ce))}}async function Gh(t,e,n){const r=He(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(f){i.push(f);const p=y_.As(d.targetId,f);a.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,f){const p=He(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>pe.forEach(f,(b=>pe.forEach(b.Es,(x=>p.persistence.referenceDelegate.addReference(g,b.targetId,x))).next((()=>pe.forEach(b.ds,(x=>p.persistence.referenceDelegate.removeReference(g,b.targetId,x)))))))))}catch(g){if(!yd(g))throw g;Se(v_,"Failed to update sequence numbers: "+g)}for(const g of f){const b=g.targetId;if(!g.fromCache){const x=p.Ms.get(b),A=x.snapshotVersion,E=x.withLastLimboFreeSnapshotVersion(A);p.Ms=p.Ms.insert(b,E)}}})(r.localStore,a))}async function AK(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Se(T_,"User change. New user:",e.toKey());const r=await G4(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((d=>{d.reject(new Ae(fe.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gh(n,r.Ls)}}function SK(t,e){const n=He(t),r=n.Au.get(e);if(r&&r.hu)return it().add(r.key);{let i=it();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function hM(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xK.bind(null,e),e.Pu.H_=lK.bind(null,e.eventManager),e.Pu.yu=cK.bind(null,e.eventManager),e}function TK(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_K.bind(null,e),e}class qg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return jH(this.persistence,new CH,e.initialUser,this.serializer)}Cu(e){return new K4(g_.mi,this.serializer)}Du(e){return new LH}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qg.provider={build:()=>new qg};class CK extends qg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){mt(this.persistence.referenceDelegate instanceof $g,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ur.withCacheSize(this.cacheSizeBytes):Ur.DEFAULT;return new K4((r=>$g.mi(r,n)),this.serializer)}}class k1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AK.bind(null,this.syncEngine),await aK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oK})()}createDatastore(e){const n=lv(e.databaseInfo.databaseId),r=(function(a){return new $H(a)})(e.databaseInfo);return(function(a,l,u,d){return new KH(a,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,u){return new WH(r,i,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>KP(this.syncEngine,n,0)),(function(){return BP.v()?new BP:new VH})())}createSyncEngine(e,n){return(function(i,a,l,u,d,f,p){const g=new hK(i,a,l,u,d,f);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=He(n);Se(_c,"RemoteStore shutting down."),r.Ea.add(5),await Kh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}k1.provider={build:()=>new k1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="FirestoreClient";class NK{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=r_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Se(ll,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Se(ll,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=A_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Sx(t,e){t.asyncQueue.verifyOperationInProgress(),Se(ll,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await G4(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function WP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PK(t);Se(ll,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>$P(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>$P(e.remoteStore,i))),t._onlineComponents=e}async function PK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(ll,"Using user provided OfflineComponentProvider");try{await Sx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Gu("Error using user provided cache. Falling back to memory cache: "+n),await Sx(t,new qg)}}else Se(ll,"Using default OfflineComponentProvider"),await Sx(t,new CK(void 0));return t._offlineComponents}async function pM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(ll,"Using user provided OnlineComponentProvider"),await WP(t,t._uninitializedComponentsProvider._online)):(Se(ll,"Using default OnlineComponentProvider"),await WP(t,new k1))),t._onlineComponents}function jK(t){return pM(t).then((e=>e.syncEngine))}async function gM(t){const e=await pM(t),n=e.eventManager;return n.onListen=mK.bind(null,e.syncEngine),n.onUnlisten=yK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vK.bind(null,e.syncEngine),n}function OK(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,d,f){const p=new mM({next:b=>{p.Nu(),l.enqueueAndForget((()=>iM(a,g)));const x=b.docs.has(u);!x&&b.fromCache?f.reject(new Ae(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&d&&d.source==="server"?f.reject(new Ae(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),g=new aM(c_(u.path),p,{includeMetadataChanges:!0,qa:!0});return rM(a,g)})(await gM(t),t.asyncQueue,e,n,r))),r.promise}function IK(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,d,f){const p=new mM({next:b=>{p.Nu(),l.enqueueAndForget((()=>iM(a,g))),b.fromCache&&d.source==="server"?f.reject(new Ae(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),g=new aM(u,p,{includeMetadataChanges:!0,qa:!0});return rM(a,g)})(await gM(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="firestore.googleapis.com",XP=!0;class QP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vM,this.ssl=XP}else this.host=e.host,this.ssl=e.ssl??XP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uH)throw new Ae(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yM(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new VF;switch(r.type){case"firstParty":return new $F(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=YP.get(n);r&&(Se("ComponentProvider","Removing Datastore"),YP.delete(n),r.terminate())})(this),Promise.resolve()}}function RK(t,e,n,r={}){t=fa(t,dv);const i=Ic(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(z2(`https://${u}`),$2("Firestore",!0)),a.host!==vM&&a.host!==u&&Gu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:u,ssl:i,emulatorOptions:r};if(!zs(d,l)&&(t._setSettings(d),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=pr.MOCK_USER;else{f=sD(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ae(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new pr(g)}t._authCredentials=new UF(new n4(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gl(this.firestore,e,this._query)}}class gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}toJSON(){return{type:gn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Fh(n,gn._jsonSchema))return new gn(e,r||null,new Re(kt.fromString(n.referencePath)))}}gn._jsonSchemaVersion="firestore/documentReference/1.0",gn._jsonSchema={type:Cn("string",gn._jsonSchemaVersion),referencePath:Cn("string")};class Jo extends gl{constructor(e,n,r){super(e,n,c_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new Re(e))}withConverter(e){return new Jo(this.firestore,e,this._path)}}function Pt(t,e,...n){if(t=ln(t),r4("collection","path",e),t instanceof dv){const r=kt.fromString(e,...n);return uP(r),new Jo(t,null,r)}{if(!(t instanceof gn||t instanceof Jo))throw new Ae(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return uP(r),new Jo(t.firestore,null,r)}}function bt(t,e,...n){if(t=ln(t),arguments.length===1&&(e=r_.newId()),r4("doc","path",e),t instanceof dv){const r=kt.fromString(e,...n);return cP(r),new gn(t,null,new Re(r))}{if(!(t instanceof gn||t instanceof Jo))throw new Ae(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return cP(r),new gn(t.firestore,t instanceof Jo?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="AsyncQueue";class JP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y4(this,"async_queue_retry"),this._c=()=>{const r=Ax();r&&Se(ZP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ax();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ax();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yd(e))throw e;Se(ZP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qs("INTERNAL UNHANDLED ERROR: ",ej(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=E_.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Be(47125,{Pc:ej(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ej(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Lc extends dv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new JP,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JP(e),this._firestoreClient=void 0,await e}}}function kK(t,e){const n=typeof t=="object"?t:H2(),r=typeof t=="string"?t:Dg,i=Yy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=rD("firestore");a&&RK(i,...a)}return i}function N_(t){if(t._terminated)throw new Ae(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||DK(t),t._firestoreClient}function DK(t){const e=t._freezeSettings(),n=(function(i,a,l,u){return new aq(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,yM(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new NK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mi(sr.fromBase64String(e))}catch(n){throw new Ae(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mi(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fh(e,Mi._jsonSchema))return Mi.fromBase64String(e.bytes)}}Mi._jsonSchemaVersion="firestore/bytes/1.0",Mi._jsonSchema={type:Cn("string",Mi._jsonSchemaVersion),bytes:Cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$a._jsonSchemaVersion}}static fromJSON(e){if(Fh(e,$a._jsonSchema))return new $a(e.latitude,e.longitude)}}$a._jsonSchemaVersion="firestore/geoPoint/1.0",$a._jsonSchema={type:Cn("string",$a._jsonSchemaVersion),latitude:Cn("number"),longitude:Cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fh(e,Fa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Fa(e.vectorValues);throw new Ae(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fa._jsonSchemaVersion="firestore/vectorValue/1.0",Fa._jsonSchema={type:Cn("string",Fa._jsonSchemaVersion),vectorValues:Cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MK=/^__.*__$/;class LK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pl(e,this.data,this.fieldMask,n,this.fieldTransforms):new qh(e,this.data,n,this.fieldTransforms)}}class bM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ac:t})}}class hv{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xM(this.Ac)&&MK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lv(e)}Cc(e,n,r,i=!1){return new hv({Ac:e,methodName:n,Dc:r,path:ar.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mv(t){const e=t._freezeSettings(),n=lv(t._databaseId);return new VK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wM(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);O_("Data must be an object, but it was:",l,r);const u=EM(r,l);let d,f;if(a.merge)d=new oi(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const b=D1(e,g,n);if(!l.contains(b))throw new Ae(fe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);SM(p,b)||p.push(b)}d=new oi(p),f=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,f=l.fieldTransforms;return new LK(new $r(u),d,f)}class pv extends Wh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pv}}function _M(t,e,n){return new hv({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class P_ extends Wh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=_M(this,e,!0),r=this.vc.map((a=>Vc(a,n))),i=new Qu(r);return new I4(e.path,i)}isEqual(e){return e instanceof P_&&zs(this.vc,e.vc)}}class j_ extends Wh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=_M(this,e,!0),r=this.vc.map((a=>Vc(a,n))),i=new Zu(r);return new I4(e.path,i)}isEqual(e){return e instanceof j_&&zs(this.vc,e.vc)}}function UK(t,e,n,r){const i=t.Cc(1,e,n);O_("Data must be an object, but it was:",i,r);const a=[],l=$r.empty();ml(r,((d,f)=>{const p=I_(e,d,n);f=ln(f);const g=i.yc(p);if(f instanceof pv)a.push(p);else{const b=Vc(f,g);b!=null&&(a.push(p),l.set(p,b))}}));const u=new oi(a);return new bM(l,u,i.fieldTransforms)}function BK(t,e,n,r,i,a){const l=t.Cc(1,e,n),u=[D1(e,r,n)],d=[i];if(a.length%2!=0)throw new Ae(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)u.push(D1(e,a[b])),d.push(a[b+1]);const f=[],p=$r.empty();for(let b=u.length-1;b>=0;--b)if(!SM(f,u[b])){const x=u[b];let A=d[b];A=ln(A);const E=l.yc(x);if(A instanceof pv)f.push(x);else{const S=Vc(A,E);S!=null&&(f.push(x),p.set(x,S))}}const g=new oi(f);return new bM(p,g,l.fieldTransforms)}function zK(t,e,n,r=!1){return Vc(n,t.Cc(r?4:3,e))}function Vc(t,e){if(AM(t=ln(t)))return O_("Unsupported field value:",e,t),EM(t,e);if(t instanceof Wh)return(function(r,i){if(!xM(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const u of r){let d=Vc(u,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Nq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Bt.fromDate(r);return{timestampValue:zg(i.serializer,a)}}if(r instanceof Bt){const a=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zg(i.serializer,a)}}if(r instanceof $a)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mi)return{bytesValue:V4(i.serializer,r._byteString)};if(r instanceof gn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:m_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fa)return(function(l,u){return{mapValue:{fields:{[f4]:{stringValue:h4},[Mg]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return u_(u.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Jy(r)}`)})(t,e)}function EM(t,e){const n={};return s4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ml(t,((r,i)=>{const a=Vc(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function AM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof $a||t instanceof Mi||t instanceof gn||t instanceof Wh||t instanceof Fa)}function O_(t,e,n){if(!AM(n)||!i4(n)){const r=Jy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function D1(t,e,n){if((e=ln(e))instanceof fv)return e._internalPath;if(typeof e=="string")return I_(t,e);throw Hg("Field path arguments must be of type string or ",t,!1,void 0,n)}const $K=new RegExp("[~\\*/\\[\\]]");function I_(t,e,n){if(e.search($K)>=0)throw Hg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fv(...e.split("."))._internalPath}catch{throw Hg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hg(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Ae(fe.INVALID_ARGUMENT,u+t+d)}function SM(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FK extends TM{data(){return super.data()}}function gv(t,e){return typeof e=="string"?I_(t,e):e instanceof fv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R_{}class k_ extends R_{}function ma(t,e,...n){let r=[];e instanceof R_&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((d=>d instanceof D_)).length,u=a.filter((d=>d instanceof yv)).length;if(l>1||l>0&&u>0)throw new Ae(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class yv extends k_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yv(e,n,r)}_apply(e){const n=this._parse(e);return CM(e._query,n),new gl(e.firestore,e.converter,S1(e._query,n))}_parse(e){const n=mv(e.firestore);return(function(a,l,u,d,f,p,g){let b;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ae(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){nj(g,p);const A=[];for(const E of g)A.push(tj(d,a,E));b={arrayValue:{values:A}}}else b=tj(d,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||nj(g,p),b=zK(u,l,g,p==="in"||p==="not-in");return Tn.create(f,p,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ks(t,e,n){const r=e,i=gv("where",t);return yv._create(i,r,n)}class D_ extends R_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new D_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ha.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const u=a.getFlattenedFilters();for(const d of u)CM(l,d),l=S1(l,d)})(e._query,n),new gl(e.firestore,e.converter,S1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class M_ extends k_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new M_(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new Ae(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ae(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _h(a,l)})(e._query,this._field,this._direction);return new gl(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new vd(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function yl(t,e="asc"){const n=e,r=gv("orderBy",t);return M_._create(r,n)}class L_ extends k_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new L_(e,n,r)}_apply(e){return new gl(e.firestore,e.converter,Vg(e._query,this._limit,this._limitType))}}function HK(t){return L_._create("limit",t,"F")}function tj(t,e,n){if(typeof(n=ln(n))=="string"){if(n==="")throw new Ae(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w4(e)&&n.indexOf("/")!==-1)throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(kt.fromString(n));if(!Re.isDocumentKey(r))throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vP(t,new Re(r))}if(n instanceof gn)return vP(t,n._key);throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jy(n)}.`)}function nj(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CM(t,e){const n=(function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ae(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KK{convertValue(e,n="none"){switch(sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(al(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ml(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Mg].arrayValue?.values?.map((r=>pn(r.doubleValue)));return new Fa(n)}convertGeoPoint(e){return new $a(pn(e.latitude),pn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bh(e));default:return null}}convertTimestamp(e){const n=il(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kt.fromString(e);mt(q4(r),9688,{name:e});const i=new xh(r.get(1),r.get(3)),a=new Re(r.popFirst(5));return i.isEqual(n)||qs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ih{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fc extends TM{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fc._jsonSchemaVersion="firestore/documentSnapshot/1.0",fc._jsonSchema={type:Cn("string",fc._jsonSchemaVersion),bundleSource:Cn("string","DocumentSnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class wg extends fc{data(e={}){return super.data(e)}}class Bu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ih(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new wg(this._firestore,this._userDataWriter,r.key,r,new ih(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new wg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ih(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const d=new wg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ih(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:GK(u.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=r_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){t=fa(t,gn);const e=fa(t.firestore,Lc);return OK(N_(e),t._key).then((n=>WK(e,t,n)))}Bu._jsonSchemaVersion="firestore/querySnapshot/1.0",Bu._jsonSchema={type:Cn("string",Bu._jsonSchemaVersion),bundleSource:Cn("string","QuerySnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class PM extends KK{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function Ht(t){t=fa(t,gl);const e=fa(t.firestore,Lc),n=N_(e),r=new PM(e);return qK(t._query),IK(n,t._query).then((i=>new Bu(e,r,t,i)))}function cl(t,e,n){t=fa(t,gn);const r=fa(t.firestore,Lc),i=NM(t.converter,e,n);return bv(r,[wM(mv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Vi.none())])}function aa(t,e,n,...r){t=fa(t,gn);const i=fa(t.firestore,Lc),a=mv(i);let l;return l=typeof(e=ln(e))=="string"||e instanceof fv?BK(a,"updateDoc",t._key,e,n,r):UK(a,"updateDoc",t._key,e),bv(i,[l.toMutation(t._key,Vi.exists(!0))])}function V_(t){return bv(fa(t.firestore,Lc),[new d_(t._key,Vi.none())])}function vv(t,e){const n=fa(t.firestore,Lc),r=bt(t),i=NM(t.converter,e);return bv(n,[wM(mv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Vi.exists(!1))]).then((()=>r))}function bv(t,e){return(function(r,i){const a=new Ds;return r.asyncQueue.enqueueAndForget((async()=>bK(await jK(r),i,a))),a.promise})(N_(t),e)}function WK(t,e,n){const r=n.docs.get(e._key),i=new PM(t);return new fc(t,i,e._key,r,new ih(n.hasPendingWrites,n.fromCache),e.converter)}function rj(...t){return new P_("arrayUnion",t)}function ij(...t){return new j_("arrayRemove",t)}(function(e,n=!0){(function(i){pd=i})(Rc),vc(new nl("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new Lc(new BF(r.getProvider("auth-internal")),new FF(l,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ae(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xh(f.options.projectId,p)})(l,i),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Va(aP,sP,e),Va(aP,sP,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="firebasestorage.googleapis.com",YK="storageBucket",XK=120*1e3,QK=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Za{constructor(e,n,r=0){super(Tx(e),`Firebase Storage: ${n} (${Tx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,es.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ka;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ka||(Ka={}));function Tx(t){return"storage/"+t}function ZK(){const t="An unknown error occurred, please check the error payload for server response.";return new es(Ka.UNKNOWN,t)}function JK(){return new es(Ka.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eG(){return new es(Ka.CANCELED,"User canceled the upload/download.")}function tG(t){return new es(Ka.INVALID_URL,"Invalid URL '"+t+"'.")}function nG(t){return new es(Ka.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function aj(t){return new es(Ka.INVALID_ARGUMENT,t)}function OM(){return new es(Ka.APP_DELETED,"The Firebase app was deleted.")}function rG(t){return new es(Ka.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ca.makeFromUrl(e,n)}catch{return new ca(e,"")}if(r.path==="")return r;throw nG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function f(L){L.path_=decodeURIComponent(L.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",x=new RegExp(`^https?://${g}/${p}/b/${i}/o${b}`,"i"),A={bucket:1,path:3},E=n===jM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",C=new RegExp(`^https?://${E}/${i}/${S}`,"i"),N=[{regex:u,indices:d,postModify:a},{regex:x,indices:A,postModify:f},{regex:C,indices:{bucket:1,path:2},postModify:f}];for(let L=0;L<N.length;L++){const M=N[L],U=M.regex.exec(e);if(U){const R=U[M.indices.bucket];let I=U[M.indices.path];I||(I=""),r=new ca(R,I),M.postModify(r);break}}if(r==null)throw tG(e);return r}}class iG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aG(t,e,n){let r=1,i=null,a=null,l=!1,u=0;function d(){return u===2}let f=!1;function p(...S){f||(f=!0,e.apply(null,S))}function g(S){i=setTimeout(()=>{i=null,t(x,d())},S)}function b(){a&&clearTimeout(a)}function x(S,...C){if(f){b();return}if(S){b(),p.call(null,S,...C);return}if(d()||l){b(),p.call(null,S,...C);return}r<64&&(r*=2);let N;u===1?(u=2,N=0):N=(r+Math.random())*1e3,g(N)}let A=!1;function E(S){A||(A=!0,b(),!f&&(i!==null?(S||(u=2),clearTimeout(i),g(0)):S||(u=1)))}return g(0),a=setTimeout(()=>{l=!0,E(!0)},n),E}function sG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oG(t){return t!==void 0}function sj(t,e,n,r){if(r<e)throw aj(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw aj(`Invalid value for '${t}'. Expected ${n} or less.`)}function lG(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Kg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Kg||(Kg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cG(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,n,r,i,a,l,u,d,f,p,g,b=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=g,this.retry=b,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,E)=>{this.resolve_=A,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new qp(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const d=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===Kg.NO_ERROR,d=a.getStatus();if(!u||cG(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===Kg.ABORT;r(!1,new qp(!1,null,p));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new qp(f,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());oG(d)?a(d):a()}catch(d){l(d)}else if(u!==null){const d=ZK();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(i.canceled){const d=this.appDelete_?OM():eG();l(d)}else{const d=JK();l(d)}};this.canceled_?n(!1,new qp(!1,null,!0)):this.backoffId_=aG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function dG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function fG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function mG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function pG(t,e,n,r,i,a,l=!0,u=!1){const d=lG(t.urlParams),f=t.url+d,p=Object.assign({},t.headers);return hG(p,e),dG(p,n),fG(p,a),mG(p,r),new uG(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function yG(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this._service=e,n instanceof ca?this._location=n:this._location=ca.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gg(e,n)}get root(){const e=new ca(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yG(this._location.path)}get storage(){return this._service}get parent(){const e=gG(this._location.path);if(e===null)return null;const n=new ca(this._location.bucket,e);return new Gg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rG(e)}}function oj(t,e){const n=e?.[YK];return n==null?null:ca.makeFromBucketSpec(n,t)}function vG(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ic(e);i&&(z2(`https://${t.host}/b`),$2("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:sD(a,t.app.options.projectId))}class bG{constructor(e,n,r,i,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=jM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XK,this._maxUploadRetryTime=QK,this._requests=new Set,i!=null?this._bucket=ca.makeFromBucketSpec(i,this._host):this._bucket=oj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ca.makeFromBucketSpec(this._url,e):this._bucket=oj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gg(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new iG(OM());{const l=pG(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const lj="@firebase/storage",cj="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="storage";function xG(t=H2(),e){t=ln(t);const r=Yy(t,IM).getImmediate({identifier:e}),i=rD("storage");return i&&wG(r,...i),r}function wG(t,e,n,r={}){vG(t,e,n,r)}function _G(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new bG(n,r,i,e,Rc)}function EG(){vc(new nl(IM,_G,"PUBLIC").setMultipleInstances(!0)),Va(lj,cj,""),Va(lj,cj,"esm2020")}EG();const M1={apiKey:"AIzaSyDzEL20_gjVbq1gmskOJ2H2mFUocpamJzU",authDomain:"psgshop-62518.firebaseapp.com",projectId:"psgshop-62518",storageBucket:"psgshop-62518.firebasestorage.app",messagingSenderId:"951270215395",appId:"1:951270215395:web:d6c1ec0787e43351c17fd6"};console.log("Firebase config values:",{apiKey:"***",authDomain:"psgshop-62518.firebaseapp.com",projectId:"psgshop-62518",storageBucket:"psgshop-62518.firebasestorage.app",messagingSenderId:"951270215395",appId:"1:951270215395:web:d6c1ec0787e43351c17fd6"});const RM=Object.values(M1).every(t=>t&&t!=="");console.log("Is Firebase config valid:",RM);let Hp,Ie,da,AG;if(RM)try{console.log("Initializing Firebase app..."),Hp=cD(M1),console.log("Firebase app initialized successfully"),console.log("Initializing Firestore..."),Ie=kK(Hp),console.log("Firestore initialized successfully"),console.log("Initializing Auth..."),da=kF(Hp),_$(da,VD).then(()=>{console.log("Auth persistence set to browser local storage")}).catch(t=>{console.error("Error setting auth persistence:",t)}),console.log("Auth initialized successfully"),console.log("Initializing Storage..."),AG=xG(Hp),console.log("Storage initialized successfully")}catch(t){console.error("Firebase initialization error:",t),console.error("Error code:",t.code),console.error("Error message:",t.message)}else{const t=Object.entries(M1).filter(([e,n])=>!n||n==="").map(([e])=>e);console.warn("Firebase configuration is missing or incomplete. Missing keys:",t),console.warn("Please check your .env file and ensure all Firebase config variables are set.")}const kM=_.createContext(),va=()=>_.useContext(kM),DM=_.createContext(),SG=(t,e)=>{switch(e.type){case"SET_CART":return{...t,items:e.payload.items||[],coupon:e.payload.coupon||null};case"ADD_TO_CART":const n=t.items.find(d=>d.id===e.payload.id);if(n){const d=n.quantity+(e.payload.quantity||1),f=e.payload.stock!==void 0?e.payload.stock:1/0;return d>f?t:{...t,items:t.items.map(p=>p.id===e.payload.id?{...p,quantity:d}:p)}}const r=e.payload.quantity||1,i=e.payload.stock!==void 0?e.payload.stock:1/0;return r>i?t:{...t,items:[...t.items,{...e.payload,quantity:r}]};case"REMOVE_FROM_CART":return{...t,items:t.items.filter(d=>d.id!==e.payload)};case"UPDATE_QUANTITY":const a=t.items.find(d=>d.id===e.payload.id);if(!a)return t;const l=a.stock!==void 0?a.stock:1/0,u=Math.min(e.payload.quantity,l);return u<=0?{...t,items:t.items.filter(d=>d.id!==e.payload.id)}:{...t,items:t.items.map(d=>d.id===e.payload.id?{...d,quantity:u}:d)};case"CLEAR_CART":return{...t,items:[],coupon:null};case"APPLY_COUPON":return{...t,coupon:e.payload};case"REMOVE_COUPON":return{...t,coupon:null};default:return t}},TG=({children:t})=>{const[e,n]=_.useReducer(SG,{items:[],coupon:null}),[r,i]=_.useState(!0),{currentUser:a}=va(),l=_.useRef(!0),u=C=>{if(C.imageUrls&&C.imageUrls.length>0){const P=C.imageUrls.filter(N=>N&&(typeof N=="string"||N.data&&typeof N.data=="string"));if(P.length>0){const N=C.primaryImageIndex||0,L=Math.min(N,P.length-1),M=P[L];if(typeof M=="string")return M;if(M&&M.data)return M.data}}return C.imageUrl||"https://via.placeholder.com/600x600.png?text=Moño"},d=_.useCallback(async()=>{if(i(!0),!a){console.log("No user logged in, clearing cart"),n({type:"SET_CART",payload:{items:[],coupon:null}}),i(!1);return}try{console.log("Attempting to load cart from Firestore for user:",a.uid);const C=bt(Ie,"carts",a.uid),P=await pa(C);if(P.exists()){const N=P.data();console.log("Cart data loaded from Firestore:",N),n({type:"SET_CART",payload:{items:N.items||[],coupon:N.coupon||null}})}else console.log("No cart found for user, initializing empty cart"),n({type:"SET_CART",payload:{items:[],coupon:null}})}catch(C){console.error("Error loading cart from Firestore:",C),console.error("Error details:",C.code,C.message),n({type:"SET_CART",payload:{items:[],coupon:null}})}finally{i(!1)}},[a]);_.useEffect(()=>{console.log("CartProvider useEffect triggered with currentUser:",a),d()},[a,d]),_.useEffect(()=>{if(!a||r||l.current){l.current&&(console.log("Skipping save during initial cart load"),l.current=!1);return}const C=async()=>{console.log("Saving cart to Firestore:",{userId:a.uid,itemsCount:e.items.length,items:e.items,coupon:e.coupon});try{const N=bt(Ie,"carts",a.uid),L={userId:a.uid,items:e.items.map(U=>({...U,lastUpdated:Date.now()})),coupon:e.coupon,updatedAt:new Date().toISOString(),timestamp:Date.now()};await cl(N,L,{merge:!0}),console.log("Successfully saved cart to Firestore with data:",L),(await pa(N)).exists()?console.log("Verification: Cart successfully saved and can be read back"):console.error("Verification: Failed to verify cart save")}catch(N){console.error("Error saving cart to Firestore:",N),console.error("Error details:",N.code,N.message)}},P=setTimeout(()=>{C()},500);return()=>clearTimeout(P)},[e.items,e.coupon,a,r]);const f=C=>{console.log("Adding to cart:",C);const P={...C,imageUrl:u(C)};n({type:"ADD_TO_CART",payload:P})},p=async C=>{if(console.log("Removing from cart:",C),n({type:"REMOVE_FROM_CART",payload:C}),a)try{const P=bt(Ie,"carts",a.uid)}catch(P){console.error("Error removing item from Firestore cart:",P)}},g=(C,P)=>{if(console.log("Updating quantity:",C,P),P<=0){p(C);return}n({type:"UPDATE_QUANTITY",payload:{id:C,quantity:P}})},b=async()=>{if(n({type:"CLEAR_CART"}),a)try{const C=bt(Ie,"carts",a.uid);await cl(C,{userId:a.uid,items:[],coupon:null,updatedAt:new Date})}catch(C){console.error("Error clearing cart in Firestore:",C)}},x=()=>e.items.reduce((C,P)=>C+P.quantity,0),A=()=>{const C=e.items.reduce((P,N)=>P+N.price*N.quantity,0);if(e.coupon){if(e.coupon.discountType==="percentage")return C*(1-e.coupon.discountValue/100);if(e.coupon.discountType==="fixed")return Math.max(0,C-e.coupon.discountValue)}return C},E=async C=>{try{const P=Pt(Ie,"coupons"),N=ma(P,Ks("code","==",C)),L=await Ht(N);if(L.empty)throw new Error("Cupón no válido");const M=L.docs[0],U={id:M.id,...M.data()};if(!U.isActive)throw new Error("Este cupón no está activo");const R=new Date;if(U.expiryDate&&R>U.expiryDate.toDate())throw new Error("Este cupón ha expirado");return n({type:"APPLY_COUPON",payload:U}),U}catch(P){throw console.error("Error applying coupon:",P),P}},S=()=>{n({type:"REMOVE_COUPON"})};return m.jsx(DM.Provider,{value:{items:e.items,coupon:e.coupon,loading:r,addToCart:f,removeFromCart:p,updateQuantity:g,clearCart:b,getTotalItems:x,getTotalPrice:A,applyCoupon:E,removeCoupon:S},children:t})},xd=()=>{const t=_.useContext(DM);if(!t)throw new Error("useCart must be used within a CartProvider");return t},MM=_.createContext(),xv=()=>_.useContext(MM),CG=({children:t})=>{const[e,n]=_.useState([]),[r,i]=_.useState(!0),{currentUser:a}=va(),l=_.useRef(!0),u=E=>{if(E.imageUrls&&E.imageUrls.length>0){const S=E.imageUrls.filter(C=>C&&(typeof C=="string"||C.data&&typeof C.data=="string"));if(S.length>0){const C=E.primaryImageIndex||0,P=Math.min(C,S.length-1),N=S[P];if(typeof N=="string")return N;if(N&&N.data)return N.data}}return E.imageUrl||"https://via.placeholder.com/600x600.png?text=Moño"},d=_.useCallback(async()=>{if(i(!0),!a){n([]),i(!1),l.current=!1;return}try{const E=bt(Ie,"wishlists",a.uid),S=await pa(E);if(S.exists()){const C=S.data();n(C.items||[])}else n([])}catch(E){console.error("Error loading wishlist from Firestore:",E),n([])}finally{i(!1),l.current=!1}},[a]);_.useEffect(()=>{d()},[a,d]),_.useEffect(()=>{if(!a||r||l.current)return;const E=async()=>{try{const C=bt(Ie,"wishlists",a.uid),P={userId:a.uid,items:e.map(L=>({...L,lastUpdated:Date.now()})),updatedAt:new Date().toISOString(),timestamp:Date.now()};await cl(C,P,{merge:!0}),(await pa(C)).exists()||console.error("Verification: Failed to verify wishlist save")}catch(C){console.error("Error saving wishlist to Firestore:",C)}},S=setTimeout(()=>{E()},500);return()=>clearTimeout(S)},[e,a,r]);const f=E=>{n(S=>{if(S.find(N=>N.id===E.id))return S;const P={...E,imageUrl:u(E)};return[...S,P]})},p=E=>{n(S=>S.filter(C=>C.id!==E))},g=E=>e.some(S=>S.id===E),b=async()=>{if(n([]),a)try{const E=bt(Ie,"wishlists",a.uid);await cl(E,{userId:a.uid,items:[],updatedAt:new Date})}catch(E){console.error("Error clearing wishlist in Firestore:",E)}},x=()=>e.length,A=()=>{d()};return m.jsx(MM.Provider,{value:{items:e,loading:r,addToWishlist:f,removeFromWishlist:p,isInWishlist:g,clearWishlist:b,getTotalItems:x,refreshWishlist:A},children:t})},NG=async()=>{try{const t=Pt(Ie,"products");return(await Ht(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Error fetching products:",t),t}},PG=async t=>{try{const e=bt(Ie,"products",t),n=await pa(e);if(n.exists())return{id:n.id,...n.data()};throw new Error("Product not found")}catch(e){throw console.error("Error fetching product:",e),e}},Wg=({rating:t,size:e="md"})=>{const n=Math.max(0,Math.min(5,t||0)),r=Math.floor(n),i=n-r,a={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=a[e]||a.md,u=[];for(let f=0;f<r;f++)u.push(m.jsx("svg",{className:`${l} text-yellow-400`,fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`full-${f}`));if(i>0){const f=i*100;u.push(m.jsxs("div",{className:"relative",children:[m.jsx("svg",{className:`${l} text-gray-300`,fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),m.jsx("div",{className:"absolute top-0 left-0 overflow-hidden",style:{width:`${f}%`},children:m.jsx("svg",{className:`${l} text-yellow-400`,fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]},"fractional"))}const d=u.length;for(let f=d;f<5;f++)u.push(m.jsx("svg",{className:`${l} text-gray-300`,fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`empty-${f}`));return m.jsxs("div",{className:"flex items-center",children:[u,m.jsx("span",{className:"ml-1 text-gray-600 text-sm",children:n.toFixed(1)})]})};/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function LM(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function jG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function uj(t,e){return t.get(LM(t,e))}function OG(t,e,n){jG(t,e),e.set(t,n)}function IG(t,e,n){return t.set(LM(t,e),n),n}const RG=100,De={},kG=()=>{De.previousActiveElement instanceof HTMLElement?(De.previousActiveElement.focus(),De.previousActiveElement=null):document.body&&document.body.focus()},DG=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;De.restoreFocusTimeout=setTimeout(()=>{kG(),e()},RG),window.scrollTo(n,r)}),VM="swal2-",MG=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],se=MG.reduce((t,e)=>(t[e]=VM+e,t),{}),LG=["success","warning","info","question","error"],Yg=LG.reduce((t,e)=>(t[e]=VM+e,t),{}),UM="SweetAlert2:",U_=t=>t.charAt(0).toUpperCase()+t.slice(1),Or=t=>{console.warn(`${UM} ${typeof t=="object"?t.join(" "):t}`)},Uc=t=>{console.error(`${UM} ${t}`)},dj=[],VG=t=>{dj.includes(t)||(dj.push(t),Or(t))},BM=(t,e=null)=>{VG(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},wv=t=>typeof t=="function"?t():t,B_=t=>t&&typeof t.toPromise=="function",Yh=t=>B_(t)?t.toPromise():Promise.resolve(t),z_=t=>t&&Promise.resolve(t)===t,Ir=()=>document.body.querySelector(`.${se.container}`),Xh=t=>{const e=Ir();return e?e.querySelector(t):null},fi=t=>Xh(`.${t}`),ut=()=>fi(se.popup),wd=()=>fi(se.icon),UG=()=>fi(se["icon-content"]),zM=()=>fi(se.title),$_=()=>fi(se["html-container"]),$M=()=>fi(se.image),F_=()=>fi(se["progress-steps"]),_v=()=>fi(se["validation-message"]),Ga=()=>Xh(`.${se.actions} .${se.confirm}`),_d=()=>Xh(`.${se.actions} .${se.cancel}`),Bc=()=>Xh(`.${se.actions} .${se.deny}`),BG=()=>fi(se["input-label"]),Ed=()=>Xh(`.${se.loader}`),Qh=()=>fi(se.actions),FM=()=>fi(se.footer),Ev=()=>fi(se["timer-progress-bar"]),q_=()=>fi(se.close),zG=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,H_=()=>{const t=ut();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,l)=>{const u=parseInt(a.getAttribute("tabindex")||"0"),d=parseInt(l.getAttribute("tabindex")||"0");return u>d?1:u<d?-1:0}),r=t.querySelectorAll(zG),i=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(i))].filter(a=>qr(a))},K_=()=>Ms(document.body,se.shown)&&!Ms(document.body,se["toast-shown"])&&!Ms(document.body,se["no-backdrop"]),Av=()=>{const t=ut();return t?Ms(t,se.toast):!1},$G=()=>{const t=ut();return t?t.hasAttribute("data-loading"):!1},hi=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),i=r.querySelector("head");i&&Array.from(i.childNodes).forEach(l=>{t.appendChild(l)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?t.appendChild(l.cloneNode(!0)):t.appendChild(l)})}},Ms=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},FG=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(se).includes(n)&&!Object.values(Yg).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},ui=(t,e,n)=>{if(FG(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Or(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}ht(t,r)}},Sv=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${se.popup} > .${se[e]}`);case"checkbox":return t.querySelector(`.${se.popup} > .${se.checkbox} input`);case"radio":return t.querySelector(`.${se.popup} > .${se.radio} input:checked`)||t.querySelector(`.${se.popup} > .${se.radio} input:first-child`);case"range":return t.querySelector(`.${se.popup} > .${se.range} input`);default:return t.querySelector(`.${se.popup} > .${se.input}`)}},qM=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},HM=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(i=>{n?i.classList.add(r):i.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},ht=(t,e)=>{HM(t,e,!0)},zi=(t,e)=>{HM(t,e,!1)},Wo=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const i=n[r];if(i instanceof HTMLElement&&Ms(i,e))return i}},hc=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Yn=(t,e="flex")=>{t&&(t.style.display=e)},xr=t=>{t&&(t.style.display="none")},G_=(t,e="block")=>{t&&new MutationObserver(()=>{Zh(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},fj=(t,e,n,r)=>{const i=t.querySelector(e);i&&i.style.setProperty(n,r)},Zh=(t,e,n="flex")=>{e?Yn(t,n):xr(t)},qr=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),qG=()=>!qr(Ga())&&!qr(Bc())&&!qr(_d()),L1=t=>t.scrollHeight>t.clientHeight,HG=(t,e)=>{let n=t;for(;n&&n!==e;){if(L1(n))return!0;n=n.parentElement}return!1},KM=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},W_=(t,e=!1)=>{const n=Ev();n&&qr(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},KG=()=>{const t=Ev();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},GG=()=>typeof window>"u"||typeof document>"u",WG=`
 <div aria-labelledby="${se.title}" aria-describedby="${se["html-container"]}" class="${se.popup}" tabindex="-1">
   <button type="button" class="${se.close}"></button>
   <ul class="${se["progress-steps"]}"></ul>
   <div class="${se.icon}"></div>
   <img class="${se.image}" />
   <h2 class="${se.title}" id="${se.title}"></h2>
   <div class="${se["html-container"]}" id="${se["html-container"]}"></div>
   <input class="${se.input}" id="${se.input}" />
   <input type="file" class="${se.file}" />
   <div class="${se.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${se.select}" id="${se.select}"></select>
   <div class="${se.radio}"></div>
   <label class="${se.checkbox}">
     <input type="checkbox" id="${se.checkbox}" />
     <span class="${se.label}"></span>
   </label>
   <textarea class="${se.textarea}" id="${se.textarea}"></textarea>
   <div class="${se["validation-message"]}" id="${se["validation-message"]}"></div>
   <div class="${se.actions}">
     <div class="${se.loader}"></div>
     <button type="button" class="${se.confirm}"></button>
     <button type="button" class="${se.deny}"></button>
     <button type="button" class="${se.cancel}"></button>
   </div>
   <div class="${se.footer}"></div>
   <div class="${se["timer-progress-bar-container"]}">
     <div class="${se["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),YG=()=>{const t=Ir();return t?(t.remove(),zi([document.documentElement,document.body],[se["no-backdrop"],se["toast-shown"],se["has-column"]]),!0):!1},Jl=()=>{De.currentInstance.resetValidationMessage()},XG=()=>{const t=ut(),e=Wo(t,se.input),n=Wo(t,se.file),r=t.querySelector(`.${se.range} input`),i=t.querySelector(`.${se.range} output`),a=Wo(t,se.select),l=t.querySelector(`.${se.checkbox} input`),u=Wo(t,se.textarea);e.oninput=Jl,n.onchange=Jl,a.onchange=Jl,l.onchange=Jl,u.oninput=Jl,r.oninput=()=>{Jl(),i.value=r.value},r.onchange=()=>{Jl(),i.value=r.value}},QG=t=>typeof t=="string"?document.querySelector(t):t,ZG=t=>{const e=ut();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},JG=t=>{window.getComputedStyle(t).direction==="rtl"&&ht(Ir(),se.rtl)},eW=t=>{const e=YG();if(GG()){Uc("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=se.container,e&&ht(n,se["no-transition"]),hi(n,WG),n.dataset.swal2Theme=t.theme;const r=QG(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),ZG(t),JG(r),XG()},Y_=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?tW(t,e):t&&hi(e,t)},tW=(t,e)=>{t.jquery?nW(e,t):hi(e,t.toString())},nW=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},rW=(t,e)=>{const n=Qh(),r=Ed();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?xr(n):Yn(n),ui(n,e,"actions"),iW(n,r,e),hi(r,e.loaderHtml||""),ui(r,e,"loader"))};function iW(t,e,n){const r=Ga(),i=Bc(),a=_d();!r||!i||!a||(Nx(r,"confirm",n),Nx(i,"deny",n),Nx(a,"cancel",n),aW(r,i,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(i,r)):(t.insertBefore(a,e),t.insertBefore(i,e),t.insertBefore(r,e))))}function aW(t,e,n,r){if(!r.buttonsStyling){zi([t,e,n],se.styled);return}ht([t,e,n],se.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Cx(t),Cx(e),Cx(n)}function Cx(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Nx(t,e,n){const r=U_(e);Zh(t,n[`show${r}Button`],"inline-block"),hi(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=se[e],ui(t,n,`${e}Button`)}const sW=(t,e)=>{const n=q_();n&&(hi(n,e.closeButtonHtml||""),ui(n,e,"closeButton"),Zh(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},oW=(t,e)=>{const n=Ir();n&&(lW(n,e.backdrop),cW(n,e.position),uW(n,e.grow),ui(n,e,"container"))};function lW(t,e){typeof e=="string"?t.style.background=e:e||ht([document.documentElement,document.body],se["no-backdrop"])}function cW(t,e){e&&(e in se?ht(t,se[e]):(Or('The "position" parameter is not valid, defaulting to "center"'),ht(t,se.center)))}function uW(t,e){e&&ht(t,se[`grow-${e}`])}var Dt={innerParams:new WeakMap,domCache:new WeakMap};const dW=["input","file","range","select","radio","checkbox","textarea"],fW=(t,e)=>{const n=ut();if(!n)return;const r=Dt.innerParams.get(t),i=!r||e.input!==r.input;dW.forEach(a=>{const l=Wo(n,se[a]);l&&(pW(a,e.inputAttributes),l.className=se[a],i&&xr(l))}),e.input&&(i&&hW(e),gW(e))},hW=t=>{if(!t.input)return;if(!mn[t.input]){Uc(`Unexpected type of input! Expected ${Object.keys(mn).join(" | ")}, got "${t.input}"`);return}const e=GM(t.input);if(!e)return;const n=mn[t.input](e,t);Yn(e),t.inputAutoFocus&&setTimeout(()=>{qM(n)})},mW=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},pW=(t,e)=>{const n=ut();if(!n)return;const r=Sv(n,t);if(r){mW(r);for(const i in e)r.setAttribute(i,e[i])}},gW=t=>{if(!t.input)return;const e=GM(t.input);e&&ui(e,t,"input")},X_=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Jh=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),i=se["input-label"];r.setAttribute("for",t.id),r.className=i,typeof n.customClass=="object"&&ht(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},GM=t=>{const e=ut();if(e)return Wo(e,se[t]||se.input)},Xg=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:z_(e)||Or(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},mn={};mn.text=mn.email=mn.password=mn.number=mn.tel=mn.url=mn.search=mn.date=mn["datetime-local"]=mn.time=mn.week=mn.month=(t,e)=>(Xg(t,e.inputValue),Jh(t,t,e),X_(t,e),t.type=e.input,t);mn.file=(t,e)=>(Jh(t,t,e),X_(t,e),t);mn.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Xg(n,e.inputValue),n.type=e.input,Xg(r,e.inputValue),Jh(n,t,e),t};mn.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");hi(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Jh(t,t,e),t};mn.radio=t=>(t.textContent="",t);mn.checkbox=(t,e)=>{const n=Sv(ut(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return hi(r,e.inputPlaceholder||e.inputLabel),n};mn.textarea=(t,e)=>{Xg(t,e.inputValue),X_(t,e),Jh(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(ut()).width),i=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?ut().style.width=`${a}px`:hc(ut(),"width",e.width)};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const yW=(t,e)=>{const n=$_();n&&(G_(n),ui(n,e,"htmlContainer"),e.html?(Y_(e.html,n),Yn(n,"block")):e.text?(n.textContent=e.text,Yn(n,"block")):xr(n),fW(t,e))},vW=(t,e)=>{const n=FM();n&&(G_(n),Zh(n,e.footer,"block"),e.footer&&Y_(e.footer,n),ui(n,e,"footer"))},bW=(t,e)=>{const n=Dt.innerParams.get(t),r=wd();if(!r)return;if(n&&e.icon===n.icon){mj(r,e),hj(r,e);return}if(!e.icon&&!e.iconHtml){xr(r);return}if(e.icon&&Object.keys(Yg).indexOf(e.icon)===-1){Uc(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),xr(r);return}Yn(r),mj(r,e),hj(r,e),ht(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",WM)},hj=(t,e)=>{for(const[n,r]of Object.entries(Yg))e.icon!==n&&zi(t,r);ht(t,e.icon&&Yg[e.icon]),_W(t,e),WM(),ui(t,e,"icon")},WM=()=>{const t=ut();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},xW=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,wW=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,mj=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=pj(e.iconHtml):e.icon==="success"?(r=xW(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=wW:e.icon&&(r=pj({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&hi(t,r)},_W=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])fj(t,n,"background-color",e.iconColor);fj(t,".swal2-success-ring","border-color",e.iconColor)}},pj=t=>`<div class="${se["icon-content"]}">${t}</div>`,EW=(t,e)=>{const n=$M();if(n){if(!e.imageUrl){xr(n);return}Yn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),hc(n,"width",e.imageWidth),hc(n,"height",e.imageHeight),n.className=se.image,ui(n,e,"image")}};let Q_=!1,YM=0,XM=0,QM=0,ZM=0;const AW=t=>{t.addEventListener("mousedown",Qg),document.body.addEventListener("mousemove",Zg),t.addEventListener("mouseup",Jg),t.addEventListener("touchstart",Qg),document.body.addEventListener("touchmove",Zg),t.addEventListener("touchend",Jg)},SW=t=>{t.removeEventListener("mousedown",Qg),document.body.removeEventListener("mousemove",Zg),t.removeEventListener("mouseup",Jg),t.removeEventListener("touchstart",Qg),document.body.removeEventListener("touchmove",Zg),t.removeEventListener("touchend",Jg)},Qg=t=>{const e=ut();if(t.target===e||wd().contains(t.target)){Q_=!0;const n=JM(t);YM=n.clientX,XM=n.clientY,QM=parseInt(e.style.insetInlineStart)||0,ZM=parseInt(e.style.insetBlockStart)||0,ht(e,"swal2-dragging")}},Zg=t=>{const e=ut();if(Q_){let{clientX:n,clientY:r}=JM(t);e.style.insetInlineStart=`${QM+(n-YM)}px`,e.style.insetBlockStart=`${ZM+(r-XM)}px`}},Jg=()=>{const t=ut();Q_=!1,zi(t,"swal2-dragging")},JM=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},TW=(t,e)=>{const n=Ir(),r=ut();if(!(!n||!r)){if(e.toast){hc(n,"width",e.width),r.style.width="100%";const i=Ed();i&&r.insertBefore(i,wd())}else hc(r,"width",e.width);hc(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),xr(_v()),CW(r,e),e.draggable&&!e.toast?(ht(r,se.draggable),AW(r)):(zi(r,se.draggable),SW(r))}},CW=(t,e)=>{const n=e.showClass||{};t.className=`${se.popup} ${qr(t)?n.popup:""}`,e.toast?(ht([document.documentElement,document.body],se["toast-shown"]),ht(t,se.toast)):ht(t,se.modal),ui(t,e,"popup"),typeof e.customClass=="string"&&ht(t,e.customClass),e.icon&&ht(t,se[`icon-${e.icon}`])},NW=(t,e)=>{const n=F_();if(!n)return;const{progressSteps:r,currentProgressStep:i}=e;if(!r||r.length===0||i===void 0){xr(n);return}Yn(n),n.textContent="",i>=r.length&&Or("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,l)=>{const u=PW(a);if(n.appendChild(u),l===i&&ht(u,se["active-progress-step"]),l!==r.length-1){const d=jW(e);n.appendChild(d)}})},PW=t=>{const e=document.createElement("li");return ht(e,se["progress-step"]),hi(e,t),e},jW=t=>{const e=document.createElement("li");return ht(e,se["progress-step-line"]),t.progressStepsDistance&&hc(e,"width",t.progressStepsDistance),e},OW=(t,e)=>{const n=zM();n&&(G_(n),Zh(n,e.title||e.titleText,"block"),e.title&&Y_(e.title,n),e.titleText&&(n.innerText=e.titleText),ui(n,e,"title"))},e3=(t,e)=>{TW(t,e),oW(t,e),NW(t,e),bW(t,e),EW(t,e),OW(t,e),sW(t,e),yW(t,e),rW(t,e),vW(t,e);const n=ut();typeof e.didRender=="function"&&n&&e.didRender(n),De.eventEmitter.emit("didRender",n)},IW=()=>qr(ut()),t3=()=>{var t;return(t=Ga())===null||t===void 0?void 0:t.click()},RW=()=>{var t;return(t=Bc())===null||t===void 0?void 0:t.click()},kW=()=>{var t;return(t=_d())===null||t===void 0?void 0:t.click()},Ad=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),n3=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},DW=(t,e,n)=>{n3(t),e.toast||(t.keydownHandler=r=>LW(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:ut(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},V1=(t,e)=>{var n;const r=H_();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=ut())===null||n===void 0||n.focus()},r3=["ArrowRight","ArrowDown"],MW=["ArrowLeft","ArrowUp"],LW=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?VW(e,t):e.key==="Tab"?UW(e):[...r3,...MW].includes(e.key)?BW(e.key):e.key==="Escape"&&zW(e,t,n)))},VW=(t,e)=>{if(!wv(e.allowEnterKey))return;const n=Sv(ut(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;t3(),t.preventDefault()}},UW=t=>{const e=t.target,n=H_();let r=-1;for(let i=0;i<n.length;i++)if(e===n[i]){r=i;break}t.shiftKey?V1(r,-1):V1(r,1),t.stopPropagation(),t.preventDefault()},BW=t=>{const e=Qh(),n=Ga(),r=Bc(),i=_d();if(!e||!n||!r||!i)return;const a=[n,r,i];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const l=r3.includes(t)?"nextElementSibling":"previousElementSibling";let u=document.activeElement;if(u){for(let d=0;d<e.children.length;d++){if(u=u[l],!u)return;if(u instanceof HTMLButtonElement&&qr(u))break}u instanceof HTMLButtonElement&&u.focus()}},zW=(t,e,n)=>{t.preventDefault(),wv(e.allowEscapeKey)&&n(Ad.esc)};var td={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const $W=()=>{const t=Ir();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},i3=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},a3=typeof window<"u"&&!!window.GestureEvent,FW=()=>{if(a3&&!Ms(document.body,se.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,ht(document.body,se.iosfix),qW()}},qW=()=>{const t=Ir();if(!t)return;let e;t.ontouchstart=n=>{e=HW(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},HW=t=>{const e=t.target,n=Ir(),r=$_();return!n||!r||KW(t)||GW(t)?!1:e===n||!L1(n)&&e instanceof HTMLElement&&!HG(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(L1(r)&&r.contains(e))},KW=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",GW=t=>t.touches&&t.touches.length>1,WW=()=>{if(Ms(document.body,se.iosfix)){const t=parseInt(document.body.style.top,10);zi(document.body,se.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},YW=()=>{const t=document.createElement("div");t.className=se["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let zu=null;const XW=t=>{zu===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(zu=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${zu+YW()}px`)},QW=()=>{zu!==null&&(document.body.style.paddingRight=`${zu}px`,zu=null)};function s3(t,e,n,r){Av()?gj(t,r):(DG(n).then(()=>gj(t,r)),n3(De)),a3?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),K_()&&(QW(),WW(),i3()),ZW()}function ZW(){zi([document.documentElement,document.body],[se.shown,se["height-auto"],se["no-backdrop"],se["toast-shown"]])}function Yo(t){t=eY(t);const e=td.swalPromiseResolve.get(this),n=JW(this);this.isAwaitingPromise?t.isDismissed||(em(this),e(t)):n&&e(t)}const JW=t=>{const e=ut();if(!e)return!1;const n=Dt.innerParams.get(t);if(!n||Ms(e,n.hideClass.popup))return!1;zi(e,n.showClass.popup),ht(e,n.hideClass.popup);const r=Ir();return zi(r,n.showClass.backdrop),ht(r,n.hideClass.backdrop),tY(t,e,n),!0};function o3(t){const e=td.swalPromiseReject.get(this);em(this),e&&e(t)}const em=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Dt.innerParams.get(t)||t._destroy())},eY=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),tY=(t,e,n)=>{var r;const i=Ir(),a=KM(e);typeof n.willClose=="function"&&n.willClose(e),(r=De.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?nY(t,e,i,n.returnFocus,n.didClose):s3(t,i,n.returnFocus,n.didClose)},nY=(t,e,n,r,i)=>{De.swalCloseEventFinishedCallback=s3.bind(null,t,n,r,i);const a=function(l){if(l.target===e){var u;(u=De.swalCloseEventFinishedCallback)===null||u===void 0||u.call(De),delete De.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},gj=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=De.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},nd=t=>{let e=ut();if(e||new ke,e=ut(),!e)return;const n=Ed();Av()?xr(wd()):rY(e,t),Yn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},rY=(t,e)=>{const n=Qh(),r=Ed();!n||!r||(!e&&qr(Ga())&&(e=Ga()),Yn(n),e&&(xr(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),ht([t,n],se.loading))},iY=(t,e)=>{e.input==="select"||e.input==="radio"?cY(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(B_(e.inputValue)||z_(e.inputValue))&&(nd(Ga()),uY(t,e))},aY=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return sY(n);case"radio":return oY(n);case"file":return lY(n);default:return e.inputAutoTrim?n.value.trim():n.value}},sY=t=>t.checked?1:0,oY=t=>t.checked?t.value:null,lY=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,cY=(t,e)=>{const n=ut();if(!n)return;const r=i=>{e.input==="select"?dY(n,ey(i),e):e.input==="radio"&&fY(n,ey(i),e)};B_(e.inputOptions)||z_(e.inputOptions)?(nd(Ga()),Yh(e.inputOptions).then(i=>{t.hideLoading(),r(i)})):typeof e.inputOptions=="object"?r(e.inputOptions):Uc(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},uY=(t,e)=>{const n=t.getInput();n&&(xr(n),Yh(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,Yn(n),n.focus(),t.hideLoading()}).catch(r=>{Uc(`Error in inputValue promise: ${r}`),n.value="",Yn(n),n.focus(),t.hideLoading()}))};function dY(t,e,n){const r=Wo(t,se.select);if(!r)return;const i=(a,l,u)=>{const d=document.createElement("option");d.value=u,hi(d,l),d.selected=l3(u,n.inputValue),a.appendChild(d)};e.forEach(a=>{const l=a[0],u=a[1];if(Array.isArray(u)){const d=document.createElement("optgroup");d.label=l,d.disabled=!1,r.appendChild(d),u.forEach(f=>i(d,f[1],f[0]))}else i(r,u,l)}),r.focus()}function fY(t,e,n){const r=Wo(t,se.radio);if(!r)return;e.forEach(a=>{const l=a[0],u=a[1],d=document.createElement("input"),f=document.createElement("label");d.type="radio",d.name=se.radio,d.value=l,l3(l,n.inputValue)&&(d.checked=!0);const p=document.createElement("span");hi(p,u),p.className=se.label,f.appendChild(d),f.appendChild(p),r.appendChild(f)});const i=r.querySelectorAll("input");i.length&&i[0].focus()}const ey=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let i=n;typeof i=="object"&&(i=ey(i)),e.push([r,i])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=ey(r)),e.push([n,r])}),e},l3=(t,e)=>!!e&&e.toString()===t.toString(),hY=t=>{const e=Dt.innerParams.get(t);t.disableButtons(),e.input?c3(t,"confirm"):J_(t,!0)},mY=t=>{const e=Dt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?c3(t,"deny"):Z_(t,!1)},pY=(t,e)=>{t.disableButtons(),e(Ad.cancel)},c3=(t,e)=>{const n=Dt.innerParams.get(t);if(!n.input){Uc(`The "input" parameter is needed to be set when using returnInputValueOn${U_(e)}`);return}const r=t.getInput(),i=aY(t,n);n.inputValidator?gY(t,i,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?Z_(t,i):J_(t,i)},gY=(t,e,n)=>{const r=Dt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Yh(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?Z_(t,e):J_(t,e)})},Z_=(t,e)=>{const n=Dt.innerParams.get(t||void 0);n.showLoaderOnDeny&&nd(Bc()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Yh(n.preDeny(e,n.validationMessage))).then(i=>{i===!1?(t.hideLoading(),em(t)):t.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>u3(t||void 0,i))):t.close({isDenied:!0,value:e})},yj=(t,e)=>{t.close({isConfirmed:!0,value:e})},u3=(t,e)=>{t.rejectPromise(e)},J_=(t,e)=>{const n=Dt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&nd(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Yh(n.preConfirm(e,n.validationMessage))).then(i=>{qr(_v())||i===!1?(t.hideLoading(),em(t)):yj(t,typeof i>"u"?e:i)}).catch(i=>u3(t||void 0,i))):yj(t,e)};function ty(){const t=Dt.innerParams.get(this);if(!t)return;const e=Dt.domCache.get(this);xr(e.loader),Av()?t.icon&&Yn(wd()):yY(e),zi([e.popup,e.actions],se.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const yY=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Yn(e[0],"inline-block"):qG()&&xr(t.actions)};function d3(){const t=Dt.innerParams.get(this),e=Dt.domCache.get(this);return e?Sv(e.popup,t.input):null}function f3(t,e,n){const r=Dt.domCache.get(t);e.forEach(i=>{r[i].disabled=n})}function h3(t,e){const n=ut();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${se.radio}"]`);for(let i=0;i<r.length;i++)r[i].disabled=e}else t.disabled=e}function m3(){f3(this,["confirmButton","denyButton","cancelButton"],!1)}function p3(){f3(this,["confirmButton","denyButton","cancelButton"],!0)}function g3(){h3(this.getInput(),!1)}function y3(){h3(this.getInput(),!0)}function v3(t){const e=Dt.domCache.get(this),n=Dt.innerParams.get(this);hi(e.validationMessage,t),e.validationMessage.className=se["validation-message"],n.customClass&&n.customClass.validationMessage&&ht(e.validationMessage,n.customClass.validationMessage),Yn(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",se["validation-message"]),qM(r),ht(r,se.inputerror))}function b3(){const t=Dt.domCache.get(this);t.validationMessage&&xr(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),zi(e,se.inputerror))}const $u={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},vY=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],bY={allowEnterKey:void 0},xY=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],x3=t=>Object.prototype.hasOwnProperty.call($u,t),w3=t=>vY.indexOf(t)!==-1,_3=t=>bY[t],wY=t=>{x3(t)||Or(`Unknown parameter "${t}"`)},_Y=t=>{xY.includes(t)&&Or(`The parameter "${t}" is incompatible with toasts`)},EY=t=>{const e=_3(t);e&&BM(t,e)},E3=t=>{t.backdrop===!1&&t.allowOutsideClick&&Or('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Or(`Invalid theme "${t.theme}"`);for(const e in t)wY(e),t.toast&&_Y(e),EY(e)};function A3(t){const e=Ir(),n=ut(),r=Dt.innerParams.get(this);if(!n||Ms(n,r.hideClass.popup)){Or("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=AY(t),a=Object.assign({},r,i);E3(a),e.dataset.swal2Theme=a.theme,e3(this,a),Dt.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const AY=t=>{const e={};return Object.keys(t).forEach(n=>{w3(n)?e[n]=t[n]:Or(`Invalid parameter to update: ${n}`)}),e};function S3(){const t=Dt.domCache.get(this),e=Dt.innerParams.get(this);if(!e){T3(this);return}t.popup&&De.swalCloseEventFinishedCallback&&(De.swalCloseEventFinishedCallback(),delete De.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),De.eventEmitter.emit("didDestroy"),SY(this)}const SY=t=>{T3(t),delete t.params,delete De.keydownHandler,delete De.keydownTarget,delete De.currentInstance},T3=t=>{t.isAwaitingPromise?(Px(Dt,t),t.isAwaitingPromise=!0):(Px(td,t),Px(Dt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Px=(t,e)=>{for(const n in t)t[n].delete(e)};var TY=Object.freeze({__proto__:null,_destroy:S3,close:Yo,closeModal:Yo,closePopup:Yo,closeToast:Yo,disableButtons:p3,disableInput:y3,disableLoading:ty,enableButtons:m3,enableInput:g3,getInput:d3,handleAwaitingPromise:em,hideLoading:ty,rejectPromise:o3,resetValidationMessage:b3,showValidationMessage:v3,update:A3});const CY=(t,e,n)=>{t.toast?NY(t,e,n):(jY(e),OY(e),IY(t,e,n))},NY=(t,e,n)=>{e.popup.onclick=()=>{t&&(PY(t)||t.timer||t.input)||n(Ad.close)}},PY=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let ny=!1;const jY=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(ny=!0)}}},OY=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(ny=!0)}}},IY=(t,e,n)=>{e.container.onclick=r=>{if(ny){ny=!1;return}r.target===e.container&&wv(t.allowOutsideClick)&&n(Ad.backdrop)}},RY=t=>typeof t=="object"&&t.jquery,vj=t=>t instanceof Element||RY(t),kY=t=>{const e={};return typeof t[0]=="object"&&!vj(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const i=t[r];typeof i=="string"||vj(i)?e[n]=i:i!==void 0&&Uc(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)}),e};function DY(...t){return new this(...t)}function MY(t){class e extends this{_main(r,i){return super._main(r,Object.assign({},t,i))}}return e}const LY=()=>De.timeout&&De.timeout.getTimerLeft(),C3=()=>{if(De.timeout)return KG(),De.timeout.stop()},N3=()=>{if(De.timeout){const t=De.timeout.start();return W_(t),t}},VY=()=>{const t=De.timeout;return t&&(t.running?C3():N3())},UY=t=>{if(De.timeout){const e=De.timeout.increase(t);return W_(e,!0),e}},BY=()=>!!(De.timeout&&De.timeout.isRunning());let bj=!1;const U1={};function zY(t="data-swal-template"){U1[t]=this,bj||(document.body.addEventListener("click",$Y),bj=!0)}const $Y=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in U1){const r=e.getAttribute(n);if(r){U1[n].fire({template:r});return}}};let FY=class{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...i)=>{this.removeListener(e,r),n.apply(this,i)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(i){console.error(i)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),i=r.indexOf(n);i>-1&&r.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}};De.eventEmitter=new FY;const qY=(t,e)=>{De.eventEmitter.on(t,e)},HY=(t,e)=>{De.eventEmitter.once(t,e)},KY=(t,e)=>{if(!t){De.eventEmitter.reset();return}e?De.eventEmitter.removeListener(t,e):De.eventEmitter.removeAllListeners(t)};var GY=Object.freeze({__proto__:null,argsToParams:kY,bindClickHandler:zY,clickCancel:kW,clickConfirm:t3,clickDeny:RW,enableLoading:nd,fire:DY,getActions:Qh,getCancelButton:_d,getCloseButton:q_,getConfirmButton:Ga,getContainer:Ir,getDenyButton:Bc,getFocusableElements:H_,getFooter:FM,getHtmlContainer:$_,getIcon:wd,getIconContent:UG,getImage:$M,getInputLabel:BG,getLoader:Ed,getPopup:ut,getProgressSteps:F_,getTimerLeft:LY,getTimerProgressBar:Ev,getTitle:zM,getValidationMessage:_v,increaseTimer:UY,isDeprecatedParameter:_3,isLoading:$G,isTimerRunning:BY,isUpdatableParameter:w3,isValidParameter:x3,isVisible:IW,mixin:MY,off:KY,on:qY,once:HY,resumeTimer:N3,showLoading:nd,stopTimer:C3,toggleTimer:VY});class WY{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const P3=["swal-title","swal-html","swal-footer"],YY=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return rX(n),Object.assign(XY(n),QY(n),ZY(n),JY(n),eX(n),tX(n),nX(n,P3))},XY=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Ec(r,["name","value"]);const i=r.getAttribute("name"),a=r.getAttribute("value");!i||!a||(typeof $u[i]=="boolean"?e[i]=a!=="false":typeof $u[i]=="object"?e[i]=JSON.parse(a):e[i]=a)}),e},QY=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const i=r.getAttribute("name"),a=r.getAttribute("value");!i||!a||(e[i]=new Function(`return ${a}`)())}),e},ZY=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Ec(r,["type","color","aria-label"]);const i=r.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=r.innerHTML,e[`show${U_(i)}Button`]=!0,r.hasAttribute("color")&&(e[`${i}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},JY=t=>{const e={},n=t.querySelector("swal-image");return n&&(Ec(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},eX=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Ec(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},tX=t=>{const e={},n=t.querySelector("swal-input");n&&(Ec(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(i=>{Ec(i,["value"]);const a=i.getAttribute("value");if(!a)return;const l=i.innerHTML;e.inputOptions[a]=l})),e},nX=(t,e)=>{const n={};for(const r in e){const i=e[r],a=t.querySelector(i);a&&(Ec(a,[]),n[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},rX=t=>{const e=P3.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||Or(`Unrecognized element <${r}>`)})},Ec=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Or([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},j3=10,iX=t=>{const e=Ir(),n=ut();typeof t.willOpen=="function"&&t.willOpen(n),De.eventEmitter.emit("willOpen",n);const i=window.getComputedStyle(document.body).overflowY;oX(e,n,t),setTimeout(()=>{aX(e,n)},j3),K_()&&(sX(e,t.scrollbarPadding,i),$W()),!Av()&&!De.previousActiveElement&&(De.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),De.eventEmitter.emit("didOpen",n),zi(e,se["no-transition"])},ry=t=>{const e=ut();if(t.target!==e)return;const n=Ir();e.removeEventListener("animationend",ry),e.removeEventListener("transitionend",ry),n.style.overflowY="auto"},aX=(t,e)=>{KM(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",ry),e.addEventListener("transitionend",ry)):t.style.overflowY="auto"},sX=(t,e,n)=>{FW(),e&&n!=="hidden"&&XW(n),setTimeout(()=>{t.scrollTop=0})},oX=(t,e,n)=>{ht(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Yn(e,"grid"),setTimeout(()=>{ht(e,n.showClass.popup),e.style.removeProperty("opacity")},j3)):Yn(e,"grid"),ht([document.documentElement,document.body],se.shown),n.heightAuto&&n.backdrop&&!n.toast&&ht([document.documentElement,document.body],se["height-auto"])};var xj={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function lX(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=xj.email),t.input==="url"&&(t.inputValidator=xj.url))}function cX(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Or('Target parameter is not valid, defaulting to "body"'),t.target="body")}function uX(t){lX(t),t.showLoaderOnConfirm&&!t.preConfirm&&Or(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),cX(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),eW(t)}let Da;var Kp=new WeakMap;class yn{constructor(...e){if(OG(this,Kp,void 0),typeof window>"u")return;Da=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,IG(Kp,this,this._main(Da.params))}_main(e,n={}){if(E3(Object.assign({},n,e)),De.currentInstance){const a=td.swalPromiseResolve.get(De.currentInstance),{isAwaitingPromise:l}=De.currentInstance;De.currentInstance._destroy(),l||a({isDismissed:!0}),K_()&&i3()}De.currentInstance=Da;const r=fX(e,n);uX(r),Object.freeze(r),De.timeout&&(De.timeout.stop(),delete De.timeout),clearTimeout(De.restoreFocusTimeout);const i=hX(Da);return e3(Da,r),Dt.innerParams.set(Da,r),dX(Da,i,r)}then(e){return uj(Kp,this).then(e)}finally(e){return uj(Kp,this).finally(e)}}const dX=(t,e,n)=>new Promise((r,i)=>{const a=l=>{t.close({isDismissed:!0,dismiss:l})};td.swalPromiseResolve.set(t,r),td.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{hY(t)},e.denyButton.onclick=()=>{mY(t)},e.cancelButton.onclick=()=>{pY(t,a)},e.closeButton.onclick=()=>{a(Ad.close)},CY(n,e,a),DW(De,n,a),iY(t,n),iX(n),mX(De,n,a),pX(e,n),setTimeout(()=>{e.container.scrollTop=0})}),fX=(t,e)=>{const n=YY(t),r=Object.assign({},$u,e,n,t);return r.showClass=Object.assign({},$u.showClass,r.showClass),r.hideClass=Object.assign({},$u.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},hX=t=>{const e={popup:ut(),container:Ir(),actions:Qh(),confirmButton:Ga(),denyButton:Bc(),cancelButton:_d(),loader:Ed(),closeButton:q_(),validationMessage:_v(),progressSteps:F_()};return Dt.domCache.set(t,e),e},mX=(t,e,n)=>{const r=Ev();xr(r),e.timer&&(t.timeout=new WY(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Yn(r),ui(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&W_(e.timer)})))},pX=(t,e)=>{if(!e.toast){if(!wv(e.allowEnterKey)){BM("allowEnterKey"),vX();return}gX(t)||yX(t,e)||V1(-1,1)}},gX=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&qr(n))return n.focus(),!0;return!1},yX=(t,e)=>e.focusDeny&&qr(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&qr(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&qr(t.confirmButton)?(t.confirmButton.focus(),!0):!1,vX=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};yn.prototype.disableButtons=p3;yn.prototype.enableButtons=m3;yn.prototype.getInput=d3;yn.prototype.disableInput=y3;yn.prototype.enableInput=g3;yn.prototype.hideLoading=ty;yn.prototype.disableLoading=ty;yn.prototype.showValidationMessage=v3;yn.prototype.resetValidationMessage=b3;yn.prototype.close=Yo;yn.prototype.closePopup=Yo;yn.prototype.closeModal=Yo;yn.prototype.closeToast=Yo;yn.prototype.rejectPromise=o3;yn.prototype.update=A3;yn.prototype._destroy=S3;Object.assign(yn,GY);Object.keys(TY).forEach(t=>{yn[t]=function(...e){return Da&&Da[t]?Da[t](...e):null}});yn.DismissReason=Ad;yn.version="11.23.0";const ke=yn;ke.default=ke;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const jx=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,a]=_.useState(null),[l,u]=_.useState("all"),[d,f]=_.useState(""),{addToCart:p}=xd(),{addToWishlist:g}=xv(),{currentUser:b}=va();_.useEffect(()=>{(async()=>{try{r(!0);const N=await NG();e(N)}catch(N){a("Failed to load products"),console.error("Error fetching products:",N)}finally{r(!1)}})()},[]);const x=_.useMemo(()=>{let P=l==="all"?t:t.filter(N=>N.category===l);if(d){const N=d.toLowerCase();P=P.filter(L=>L.name.toLowerCase().includes(N)||L.description&&L.description.toLowerCase().includes(N)||L.category&&L.category.toLowerCase().includes(N)||L.material&&L.material.toLowerCase().includes(N)||L.color&&L.color.toLowerCase().includes(N))}return P},[t,l,d]),A=["all",...new Set(t.map(P=>P.category))],E=P=>{if(P.imageUrls&&P.imageUrls.length>0){const N=P.imageUrls.filter(L=>L&&(typeof L=="string"||L.data&&typeof L.data=="string"));if(N.length>0){const L=P.primaryImageIndex||0,M=Math.min(L,N.length-1),U=N[M];if(typeof U=="string")return U;if(U&&U.data)return U.data}}return P.imageUrl||"https://via.placeholder.com/300x300.png?text=Moño"},S=P=>{if(!b){ke.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos al carrito",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(M=>{M.isConfirmed&&(window.location.href="/login")});return}if((P.stock!==void 0?P.stock:1/0)===0){ke.fire({title:"Producto agotado",text:"Este producto no está disponible actualmente.",icon:"error",confirmButtonText:"Aceptar"});return}const L=E(P);p({...P,imageUrl:L,quantity:1}),ke.fire({title:"Producto agregado",text:"Producto agregado correctamente al carrito",icon:"success",confirmButtonText:"Aceptar"})},C=P=>{if(!b){ke.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos a tu lista de deseos",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(L=>{L.isConfirmed&&(window.location.href="/login")});return}const N=E(P);g({...P,imageUrl:N}),ke.fire({title:"Producto agregado",text:"Producto agregado correctamente a tu lista de deseos",icon:"success",confirmButtonText:"Aceptar"})};return m.jsx("div",{children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Nuestra Colección"}),m.jsxs("div",{className:"mt-4 md:mt-0 flex flex-col sm:flex-row gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",placeholder:"Buscar productos...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 w-full sm:w-64",value:d,onChange:P=>f(P.target.value)}),m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"category-filter",className:"mr-2 text-sm font-medium text-gray-700",children:"Filtrar por:"}),m.jsx("select",{id:"category-filter",className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:l,onChange:P=>u(P.target.value),children:A.map(P=>m.jsx("option",{value:P,children:P==="all"?"Todos":P},P))})]})]})]}),n?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):i?m.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[m.jsx("strong",{className:"font-bold",children:"Error! "}),m.jsx("span",{className:"block sm:inline",children:i})]}):m.jsxs(m.Fragment,{children:[d&&m.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[x.length,' producto(s) encontrado(s) para "',d,'"']}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:x.map(P=>m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[m.jsx(tt,{to:`/product/${P.id}`,children:m.jsx("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden",children:m.jsx("img",{src:E(P),alt:P.name,className:"w-full h-64 object-cover",onError:N=>{N.target.onerror=null,N.target.src="https://via.placeholder.com/300x300.png?text=Moño"}})})}),m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:P.category}),P.stock!==void 0&&P.stock<=5&&m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:P.stock>0?`Solo ${P.stock} disponibles`:"Agotado"})]}),m.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:P.name}),P.rating>0&&m.jsx("div",{className:"mt-2",children:m.jsx(Wg,{rating:P.rating,size:"sm"})}),m.jsx("div",{className:"mt-2",children:m.jsxs("span",{className:"text-lg font-semibold text-indigo-600",children:["$",parseFloat(P.price).toLocaleString("es-CO")]})}),m.jsxs("div",{className:"mt-4 flex gap-2",children:[m.jsx("button",{className:"flex-1 bg-indigo-600 border border-transparent rounded-md py-2 px-4 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:N=>{N.preventDefault(),S(P)},children:"Agregar al Carrito"}),m.jsx("button",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:N=>{N.preventDefault(),N.stopPropagation(),C(P)},children:m.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4 4 0 000 6.364L12 20.364l7.682-7.682a4 4 0 00-6.364-6.364L12 7.636l-1.318-1.318a4 4 0 00-6.364 0z"})})})]})]})]},P.id))})]}),!n&&!i&&x.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No se encontraron productos"}),m.jsx("p",{className:"mt-1 text-gray-500",children:d?`No se encontraron productos que coincidan con "${d}".`:"No hay productos disponibles en esta categoría."}),d&&m.jsx("div",{className:"mt-6",children:m.jsx("button",{onClick:()=>{f(""),u("all")},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ver todos los productos"})})]})]})})},O3=async t=>{try{const e=Pt(Ie,"reviews");return{id:(await vv(e,{...t,createdAt:new Date,updatedAt:new Date})).id,...t,createdAt:new Date,updatedAt:new Date}}catch(e){throw console.error("Error creating review:",e),e}},wj=async t=>{try{const e=Pt(Ie,"reviews"),n=ma(e,Ks("productId","==",t),yl("createdAt","desc"));return(await Ht(n)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){if(console.error("Error fetching reviews:",e),e.code==="failed-precondition"||e.message&&e.message.includes("index"))try{const n=Pt(Ie,"reviews"),r=ma(n,Ks("productId","==",t));return(await Ht(r)).docs.map(u=>({id:u.id,...u.data()})).sort((u,d)=>{const f=u.createdAt?.toDate?u.createdAt.toDate():new Date(u.createdAt);return(d.createdAt?.toDate?d.createdAt.toDate():new Date(d.createdAt))-f})}catch(n){throw console.error("Error fetching reviews without index:",n),n}else throw e}},_j=async()=>{try{const t=Pt(Ie,"reviews"),e=ma(t,yl("createdAt","desc"));return(await Ht(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){if(console.error("Error fetching all reviews:",t),t.code==="failed-precondition"||t.message&&t.message.includes("index"))try{const e=Pt(Ie,"reviews");return(await Ht(e)).docs.map(a=>({id:a.id,...a.data()})).sort((a,l)=>{const u=a.createdAt?.toDate?a.createdAt.toDate():new Date(a.createdAt);return(l.createdAt?.toDate?l.createdAt.toDate():new Date(l.createdAt))-u})}catch(e){throw console.error("Error fetching all reviews without index:",e),e}else throw t}},bX=async(t,e)=>{try{const n=bt(Ie,"reviews",t);return await aa(n,{...e,updatedAt:new Date}),{id:t,...e,updatedAt:new Date}}catch(n){throw console.error("Error updating review:",n),n}},xX=async t=>{try{const e=bt(Ie,"reviews",t);return await V_(e),t}catch(e){throw console.error("Error deleting review:",e),e}},wX=()=>{const{id:t}=$V(),[e,n]=_.useState(null),[r,i]=_.useState(!0),[a,l]=_.useState(null),[u,d]=_.useState(1),[f,p]=_.useState(0),{addToCart:g}=xd(),{addToWishlist:b}=xv(),{currentUser:x}=va(),A=qi(),[E,S]=_.useState([]),[C,P]=_.useState(!0),[N,L]=_.useState({rating:0,comment:""}),[M,U]=_.useState(!1);_.useEffect(()=>{t&&(async()=>{try{i(!0);const ae=await PG(t);n(ae),p(0)}catch(ae){l("Failed to load product"),console.error("Error fetching product:",ae)}finally{i(!1)}})()},[t]),_.useEffect(()=>{(async()=>{if(t)try{P(!0);const ae=await wj(t);S(ae)}catch(ae){console.error("Error fetching reviews:",ae)}finally{P(!1)}})()},[t]);const R=W=>{if(W.imageUrls&&W.imageUrls.length>0){const ae=W.imageUrls.filter(ye=>ye&&(typeof ye=="string"||ye.data&&typeof ye.data=="string"));if(ae.length>0){const ye=W.primaryImageIndex||0,H=Math.min(ye,ae.length-1),le=ae[H];if(typeof le=="string")return le;if(le&&le.data)return le.data}}return W.imageUrl||"https://via.placeholder.com/600x600.png?text=Moño"},I=()=>{if(!x){ke.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos al carrito",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(W=>{W.isConfirmed&&A("/login")});return}if(e){if((e.stock!==void 0?e.stock:1/0)===0){ke.fire({title:"Producto agotado",text:"Este producto no está disponible actualmente.",icon:"error",confirmButtonText:"Aceptar"});return}const ae=R(e);g({...e,imageUrl:ae,quantity:1}),ke.fire({title:"Producto agregado",text:"Producto agregado correctamente al carrito",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})}},k=()=>{if(!x){ke.fire({title:"Inicia sesión",text:"Debes iniciar sesión para agregar productos a tu lista de deseos",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(W=>{W.isConfirmed&&A("/login")});return}if(e){const W=R(e);b({...e,imageUrl:W}),ke.fire({title:"Producto agregado",text:"Producto agregado correctamente a tu lista de deseos",icon:"success",confirmButtonText:"Aceptar"})}},$=()=>{if(e?.imageUrls&&Array.isArray(e.imageUrls)){const W=e.imageUrls.filter(ae=>ae&&(typeof ae=="string"||ae.data&&typeof ae.data=="string"));return W.length>0?W.map(ye=>typeof ye=="string"?ye:ye&&ye.data?ye.data:"https://via.placeholder.com/600x600.png?text=Moño"):["https://via.placeholder.com/600x600.png?text=Moño"]}return e?.imageUrl?[e.imageUrl]:["https://via.placeholder.com/600x600.png?text=Moño"]},V=()=>{const W=$();return W[f]||W[0]},F=W=>{const{name:ae,value:ye}=W.target;L(H=>({...H,[ae]:ye}))},B=W=>{L(ae=>({...ae,rating:W}))},ve=async W=>{if(W.preventDefault(),!x){ke.fire({title:"Inicia sesión",text:"Debes iniciar sesión para dejar una reseña",icon:"warning",confirmButtonText:"Iniciar sesión",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(ae=>{ae.isConfirmed&&A("/login")});return}if(N.rating===0){ke.fire({title:"Error",text:"Por favor selecciona una calificación",icon:"error",confirmButtonText:"Aceptar"});return}if(N.comment.trim()===""){ke.fire({title:"Error",text:"Por favor escribe un comentario",icon:"error",confirmButtonText:"Aceptar"});return}U(!0);try{const ae={productId:t,userId:x.uid,userEmail:x.email,userName:x.displayName||x.email.split("@")[0],rating:N.rating,comment:N.comment.trim()};await O3(ae),L({rating:0,comment:""});const ye=await wj(t);S(ye),ke.fire({title:"Reseña enviada",text:"Tu reseña ha sido enviada correctamente",icon:"success",confirmButtonText:"Aceptar"})}catch(ae){console.error("Error submitting review:",ae),ke.fire({title:"Error",text:"Hubo un error al enviar tu reseña. Por favor intenta nuevamente.",icon:"error",confirmButtonText:"Aceptar"})}finally{U(!1)}},ie=W=>W?W instanceof Date?W.toLocaleDateString("es-CO"):W.toDate?W.toDate().toLocaleDateString("es-CO"):"N/A":"N/A";if(r)return m.jsx("div",{children:m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"w-12 h-12 border-b-2 border-gray-900 rounded-full animate-spin"})})});if(a||!e)return m.jsx("div",{children:m.jsx("div",{className:"px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8",children:m.jsxs("div",{className:"relative px-4 py-3 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:[m.jsx("strong",{className:"font-bold",children:"Error! "}),m.jsx("span",{className:"block sm:inline",children:a||"Product not found"})]})})});const G=$();return m.jsx("div",{children:m.jsxs("div",{className:"px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[m.jsx("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:m.jsxs("ol",{className:"flex items-center space-x-2",children:[m.jsx("li",{children:m.jsx(tt,{to:"/home",className:"text-gray-500 hover:text-gray-700",children:"Home"})}),m.jsx("li",{children:m.jsx("span",{className:"text-gray-500",children:"/"})}),m.jsx("li",{children:m.jsx(tt,{to:"/shop",className:"text-gray-500 hover:text-gray-700",children:"Shop"})}),m.jsx("li",{children:m.jsx("span",{className:"text-gray-500",children:"/"})}),m.jsx("li",{children:m.jsx("span",{className:"text-gray-900",children:e.name})})]})}),m.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-x-8 lg:items-start",children:[m.jsxs("div",{className:"flex flex-col-reverse",children:[G.length>1&&m.jsx("div",{className:"w-full max-w-2xl mx-auto mt-6 lg:max-w-none",children:m.jsx("div",{className:"grid grid-cols-4 gap-6","aria-orientation":"horizontal",children:G.map((W,ae)=>m.jsxs("button",{className:`relative h-24 bg-white rounded-md flex items-center justify-center text-sm font-medium uppercase text-gray-900 cursor-pointer hover:bg-gray-50 focus:outline-none focus:ring focus:ring-offset-4 focus:ring-indigo-500 ${f===ae?"ring-2 ring-indigo-500":""}`,onClick:()=>p(ae),children:[m.jsxs("span",{className:"sr-only",children:["Imagen ",ae+1]}),m.jsx("span",{className:"absolute inset-0 overflow-hidden rounded-md",children:m.jsx("img",{src:W,alt:`Imagen ${ae+1}`,className:"object-cover w-full h-full",onError:ye=>{ye.target.onerror=null,ye.target.src="https://via.placeholder.com/100x100.png?text=Moño"}})}),f===ae&&m.jsx("span",{className:"absolute inset-0 rounded-md pointer-events-none ring-2 ring-offset-2 ring-indigo-500","aria-hidden":"true"})]},ae))})}),m.jsx("div",{className:"w-full aspect-w-1 aspect-h-1",children:m.jsx("img",{src:V(),alt:e.name,className:"object-cover object-center w-full h-full sm:rounded-lg",onError:W=>{W.target.onerror=null,W.target.src="https://via.placeholder.com/600x600.png?text=Moño"}})})]}),m.jsxs("div",{className:"px-4 mt-10 sm:px-0 sm:mt-16 lg:mt-0",children:[m.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:e.name}),m.jsxs("div",{className:"mt-3",children:[m.jsx("h2",{className:"sr-only",children:"Product information"}),m.jsxs("p",{className:"text-3xl text-gray-900",children:["$",parseFloat(e.price).toLocaleString("es-CO")]})]}),e.rating>0&&m.jsx("div",{className:"mt-2",children:m.jsx(Wg,{rating:e.rating,size:"lg"})}),m.jsxs("div",{className:"mt-6",children:[m.jsx("h3",{className:"sr-only",children:"Description"}),m.jsx("div",{className:"space-y-6 text-base text-gray-700",children:m.jsx("p",{children:e.description})})]}),m.jsxs("div",{className:"mt-6",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"mr-2 text-gray-700",children:"Categoría:"}),m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.category})]}),e.stock!==void 0&&m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsx("span",{className:"mr-2 text-gray-700",children:"Stock:"}),m.jsx("span",{className:`font-medium ${e.stock>5?"text-green-600":e.stock>0?"text-yellow-600":"text-red-600"}`,children:e.stock>0?`${e.stock} disponibles`:"Agotado"})]}),e.material&&m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsx("span",{className:"mr-2 text-gray-700",children:"Material:"}),m.jsx("span",{className:"text-gray-900",children:e.material})]}),e.color&&m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsx("span",{className:"mr-2 text-gray-700",children:"Color:"}),m.jsx("span",{className:"text-gray-900",children:e.color})]}),e.size&&m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsx("span",{className:"mr-2 text-gray-700",children:"Tamaño:"}),m.jsx("span",{className:"text-gray-900",children:e.size})]}),e.style&&m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsx("span",{className:"mr-2 text-gray-700",children:"Estilo:"}),m.jsx("span",{className:"text-gray-900",children:e.style})]})]}),m.jsx("form",{className:"mt-6",children:m.jsxs("div",{className:"flex gap-3 mt-10 sm:flex-col1",children:[m.jsx("button",{type:"button",onClick:I,className:"flex items-center justify-center flex-1 max-w-xs px-8 py-3 text-base font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:w-full",disabled:e.stock===0,children:"Agregar al Carrito"}),m.jsxs("button",{type:"button",onClick:k,className:"flex items-center justify-center px-4 py-3 ml-4 text-gray-400 rounded-md hover:bg-gray-100 hover:text-gray-500",children:[m.jsx("svg",{className:"flex-shrink-0 w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),m.jsx("span",{className:"sr-only",children:"Add to favorites"})]})]})})]})]}),m.jsx("div",{className:"mt-16",children:m.jsxs("div",{className:"border-t border-gray-200 pt-10",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Reseñas de Clientes"}),x&&m.jsxs("div",{className:"mb-10",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Deja tu reseña"}),m.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calificación"}),m.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(W=>m.jsx("button",{type:"button",onClick:()=>B(W),className:"text-2xl focus:outline-none",children:W<=N.rating?m.jsx("span",{className:"text-yellow-400",children:"★"}):m.jsx("span",{className:"text-gray-300",children:"☆"})},W)),m.jsx("span",{className:"ml-2 text-sm text-gray-500",children:N.rating>0?`${N.rating} de 5 estrellas`:"Selecciona una calificación"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Comentario"}),m.jsx("textarea",{id:"comment",name:"comment",rows:4,value:N.comment,onChange:F,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border border-gray-300 rounded-md p-3",placeholder:"Comparte tu experiencia con este producto..."})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:M,className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${M?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,children:M?"Enviando...":"Enviar Reseña"})})]})]}),m.jsx("div",{children:C?m.jsx("div",{className:"flex justify-center py-8",children:m.jsx("div",{className:"w-8 h-8 border-b-2 border-gray-900 rounded-full animate-spin"})}):E.length===0?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("p",{className:"text-gray-500",children:"No hay reseñas para este producto aún."}),!x&&m.jsx("p",{className:"mt-2 text-sm text-gray-500",children:m.jsx(tt,{to:"/login",className:"text-indigo-600 hover:text-indigo-500",children:"Inicia sesión para dejar la primera reseña"})})]}):m.jsx("div",{className:"space-y-6",children:E.map(W=>m.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-medium text-gray-900",children:W.userName}),m.jsx("div",{className:"mt-1",children:m.jsx(Wg,{rating:W.rating,size:"sm"})})]}),m.jsx("p",{className:"text-sm text-gray-500",children:ie(W.createdAt)})]}),m.jsx("div",{className:"mt-4",children:m.jsx("p",{className:"text-gray-700",children:W.comment})})]},W.id))})})]})})]})})},_X=()=>{const{items:t,updateQuantity:e,removeFromCart:n,getTotalPrice:r,loading:i,coupon:a,applyCoupon:l,removeCoupon:u}=xd(),d=qi(),[f,p]=_.useState(""),[g,b]=_.useState(""),[x,A]=_.useState(!1);if(i)return m.jsx("div",{children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})})});const E=()=>{d("/checkout")},S=async N=>{if(N.preventDefault(),!!f.trim()){A(!0),b("");try{await l(f.trim()),p("")}catch(L){b(L.message||"Error al aplicar el cupón")}finally{A(!1)}}},C=()=>{u(),p(""),b("")},P=t.reduce((N,L)=>N+L.price*L.quantity,0);return m.jsx("div",{children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Tu Carrito de Compras"}),t.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),m.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Tu carrito está vacío"}),m.jsx("p",{className:"mt-1 text-gray-500",children:"Empieza a agregar productos a tu carrito"}),m.jsx("div",{className:"mt-6",children:m.jsx(tt,{to:"/shop",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Continuar Comprando"})})]}):m.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-12",children:[m.jsx("div",{className:"lg:col-span-8",children:m.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:m.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(N=>m.jsx("li",{className:"p-4 sm:p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden",children:m.jsx("img",{src:N.imageUrl||"https://via.placeholder.com/100x100.png?text=Moño",alt:N.name,className:"w-full h-full object-center object-cover",onError:L=>{L.target.onerror=null,L.target.src="https://via.placeholder.com/100x100.png?text=Moño"}})}),m.jsxs("div",{className:"ml-4 flex-1 flex flex-col",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[m.jsx("h3",{children:m.jsx(tt,{to:`/product/${N.id}`,children:N.name})}),m.jsxs("p",{className:"ml-4",children:["$",parseFloat(N.price*N.quantity).toLocaleString("es-CO")]})]}),m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:N.category}),N.stock!==void 0&&m.jsx("p",{className:"mt-1 text-sm",children:m.jsx("span",{className:`font-medium ${N.stock>5?"text-green-600":N.stock>0?"text-yellow-600":"text-red-600"}`,children:N.stock>0?`Stock: ${N.stock} disponibles`:"Agotado"})})]}),m.jsxs("div",{className:"flex-1 flex items-end justify-between text-sm",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsxs("button",{onClick:()=>e(N.id,N.quantity-1),className:"text-gray-500 hover:text-gray-600",disabled:N.quantity<=1,children:[m.jsx("span",{className:"sr-only",children:"Remove one"}),m.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})})]}),m.jsx("span",{className:"mx-2 text-gray-500",children:N.quantity}),m.jsxs("button",{onClick:()=>{const L=N.stock!==void 0?N.stock:1/0;N.quantity<L&&e(N.id,N.quantity+1)},className:"text-gray-500 hover:text-gray-600",disabled:N.stock!==void 0&&N.quantity>=N.stock,children:[m.jsx("span",{className:"sr-only",children:"Add one"}),m.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})]}),m.jsx("div",{className:"flex",children:m.jsx("button",{type:"button",onClick:()=>n(N.id),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Eliminar"})})]})]})]})},N.id))})})}),m.jsx("div",{className:"mt-8 lg:mt-0 lg:col-span-4",children:m.jsxs("div",{className:"bg-gray-50 rounded-lg px-4 py-6 sm:p-6 lg:p-8",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Resumen del Pedido"}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Cupón de Descuento"}),a?m.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-md",children:[m.jsxs("div",{children:[m.jsx("span",{className:"font-medium text-green-800",children:a.code}),m.jsx("span",{className:"ml-2 text-sm text-green-600",children:a.discountType==="percentage"?`-${a.discountValue}%`:`-$${a.discountValue.toLocaleString("es-CO")}`})]}),m.jsx("button",{onClick:C,className:"text-sm text-red-600 hover:text-red-800",children:"Eliminar"})]}):m.jsxs("form",{onSubmit:S,className:"flex space-x-2",children:[m.jsx("input",{type:"text",value:f,onChange:N=>p(N.target.value),placeholder:"Ingresa tu código",className:"flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",disabled:x}),m.jsx("button",{type:"submit",disabled:x||!f.trim(),className:`inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white ${x||!f.trim()?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:x?"Aplicando...":"Aplicar"})]}),g&&m.jsx("p",{className:"mt-2 text-sm text-red-600",children:g})]}),m.jsxs("dl",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("dt",{className:"text-sm text-gray-600",children:"Subtotal"}),m.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:["$",parseFloat(P).toLocaleString("es-CO")]})]}),a&&m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("dt",{className:"text-sm text-gray-600",children:["Descuento (",a.code,")"]}),m.jsxs("dd",{className:"text-sm font-medium text-green-600",children:["-$",parseFloat(P-r()).toLocaleString("es-CO")]})]}),m.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6",children:[m.jsx("dt",{className:"text-base font-medium text-gray-900",children:"Total del Pedido"}),m.jsxs("dd",{className:"text-base font-medium text-gray-900",children:["$",parseFloat(r()).toLocaleString("es-CO")]})]})]}),t.some(N=>N.stock!==void 0&&N.stock<N.quantity)&&m.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),m.jsxs("div",{className:"ml-3",children:[m.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Algunos productos tienen stock limitado"}),m.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:m.jsx("p",{children:"La cantidad en tu carrito excede el stock disponible para algunos productos. Por favor, ajusta las cantidades."})})]})]})}),m.jsx("div",{className:"mt-6",children:m.jsx("button",{type:"button",onClick:E,className:"w-full bg-indigo-600 border border-transparent rounded-md shadow-sm py-3 px-4 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-indigo-500",disabled:t.some(N=>N.stock!==void 0&&N.stock<N.quantity),children:"Proceder al Pago"})}),m.jsx("div",{className:"mt-4 text-center",children:m.jsx(tt,{to:"/shop",className:"text-indigo-600 hover:text-indigo-500",children:"← Continuar Comprando"})})]})})]})]})})};/*!
 * react-paypal-js v8.9.2 (2025-10-02T20:17:55.069Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br;(function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"})(Br||(Br={}));var el;(function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"})(el||(el={}));var Ej;(function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"})(Ej||(Ej={}));var Sn=function(){return Sn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sn.apply(this,arguments)};function I3(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Aj(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Eh="data-react-paypal-script-id",oc={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},EX="Failed to load the PayPal JS SDK script.",R3="paypal",AX="usePayPalScriptReducer must be used within a PayPalScriptProvider";function SX(t){return t===void 0&&(t=R3),window[t]}function TX(t){for(var e="",n=0;n<t.length;n++){var r=t[n].charCodeAt(0)*n;t[n+1]&&(r+=t[n+1].charCodeAt(0)*(n-1)),e+=String.fromCharCode(97+Math.abs(r)%26)}return e}function CX(t){var e=t.reactComponentName,n=t.sdkComponentKey,r=t.sdkRequestedComponents,i=r===void 0?"":r,a=t.sdkDataNamespace,l=a===void 0?R3:a,u=n.charAt(0).toUpperCase().concat(n.substring(1)),d="Unable to render <".concat(e," /> because window.").concat(l,".").concat(u," is undefined."),f=typeof i=="string"?i:i.join(",");if(!f.includes(n)){var p=[f,n].filter(Boolean).join();d+=`
To fix the issue, add '`.concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(p,"'}}>`.")}return d}function k3(t){var e=t,n=Eh;e[n];var r=I3(e,[n+""]);return"react-paypal-js-".concat(TX(JSON.stringify(r)))}function NX(t){var e=self.document.querySelector("script[".concat(Eh,'="').concat(t,'"]'));e?.parentNode&&e.parentNode.removeChild(e)}function PX(t,e){var n,r;switch(e.type){case el.LOADING_STATUS:return typeof e.value=="object"?Sn(Sn({},t),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):Sn(Sn({},t),{loadingStatus:e.value});case el.RESET_OPTIONS:return NX(t.options[Eh]),Sn(Sn({},t),{loadingStatus:Br.PENDING,options:Sn(Sn((n={},n[oc.DATA_SDK_INTEGRATION_SOURCE]=oc.DATA_LIBRARY_VALUE,n),e.value),(r={},r[Eh]="".concat(k3(e.value)),r))});case el.SET_BRAINTREE_INSTANCE:return Sn(Sn({},t),{braintreePayPalCheckoutInstance:e.value});default:return t}}var D3=_.createContext(null);function jX(t){if(typeof t?.dispatch=="function"&&t.dispatch.length!==0)return t;throw new Error(AX)}function OX(){var t=jX(_.useContext(D3)),e=Sn(Sn({},t),{isInitial:t.loadingStatus===Br.INITIAL,isPending:t.loadingStatus===Br.PENDING,isResolved:t.loadingStatus===Br.RESOLVED,isRejected:t.loadingStatus===Br.REJECTED});return[e,t.dispatch]}_.createContext({});function IX(t){var e=_.useRef(new Proxy({},{get:function(n,r,i){return typeof n[r]=="function"?function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return n[r].apply(n,a)}:Reflect.get(n,r,i)}}));return e.current=Object.assign(e.current,t),e.current}var eE=function(t){var e,n=t.className,r=n===void 0?"":n,i=t.disabled,a=i===void 0?!1:i,l=t.children,u=t.forceReRender,d=u===void 0?[]:u,f=I3(t,["className","disabled","children","forceReRender"]),p=a?{opacity:.38}:{},g="".concat(r," ").concat(a?"paypal-buttons-disabled":"").trim(),b=_.useRef(null),x=_.useRef(null),A=IX(f),E=OX()[0],S=E.isResolved,C=E.options,P=_.useState(null),N=P[0],L=P[1],M=_.useState(!0),U=M[0],R=M[1],I=_.useState(null),k=I[1];function $(){x.current!==null&&x.current.close().catch(function(){})}return!((e=x.current)===null||e===void 0)&&e.updateProps&&x.current.updateProps({message:f.message}),_.useEffect(function(){if(S===!1)return $;var V=SX(C.dataNamespace);if(V===void 0||V.Buttons===void 0)return k(function(){throw new Error(CX({reactComponentName:eE.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:C.components,sdkDataNamespace:C[oc.DATA_NAMESPACE]}))}),$;var F=function(B,ve){L(ve),typeof f.onInit=="function"&&f.onInit(B,ve)};try{x.current=V.Buttons(Sn(Sn({},A),{onInit:F}))}catch(B){return k(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(B))})}return x.current.isEligible()===!1?(R(!1),$):(b.current&&x.current.render(b.current).catch(function(B){b.current===null||b.current.children.length===0||k(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(B))})}),$)},Aj(Aj([S],d,!0),[f.fundingSource],!1)),_.useEffect(function(){N!==null&&(a===!0?N.disable().catch(function(){}):N.enable().catch(function(){}))},[a,N]),li.createElement(li.Fragment,null,U?li.createElement("div",{ref:b,style:p,className:g}):l)};eE.displayName="PayPalButtons";function RX(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kX(t,e){var n=document.querySelector('script[src="'.concat(t,'"]'));if(n===null)return null;var r=M3(t,e),i=n.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(r.dataset).length)return null;var a=!0;return Object.keys(i.dataset).forEach(function(l){i.dataset[l]!==r.dataset[l]&&(a=!1)}),a?n:null}function DX(t){var e=t.url,n=t.attributes,r=t.onSuccess,i=t.onError,a=M3(e,n);a.onerror=i,a.onload=r,document.head.insertBefore(a,document.head.firstElementChild)}function MX(t){var e=t.sdkBaseUrl,n=t.environment,r=RX(t,["sdkBaseUrl","environment"]),i=e||UX(n),a=r,l=Object.keys(a).filter(function(f){return typeof a[f]<"u"&&a[f]!==null&&a[f]!==""}).reduce(function(f,p){var g=a[p].toString();return p=LX(p),p.substring(0,4)==="data"||p==="crossorigin"?f.attributes[p]=g:f.queryParams[p]=g,f},{queryParams:{},attributes:{}}),u=l.queryParams,d=l.attributes;return u["merchant-id"]&&u["merchant-id"].indexOf(",")!==-1&&(d["data-merchant-id"]=u["merchant-id"],u["merchant-id"]="*"),{url:"".concat(i,"?").concat(VX(u)),attributes:d}}function LX(t){var e=function(n,r){return(r?"-":"")+n.toLowerCase()};return t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function VX(t){var e="";return Object.keys(t).forEach(function(n){e.length!==0&&(e+="&"),e+=n+"="+t[n]}),e}function UX(t){return t==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function M3(t,e){e===void 0&&(e={});var n=document.createElement("script");return n.src=t,Object.keys(e).forEach(function(r){n.setAttribute(r,e[r]),r==="data-csp-nonce"&&n.setAttribute("nonce",e["data-csp-nonce"])}),n}function BX(t,e){if(e===void 0&&(e=Promise),L3(t,e),typeof document>"u")return e.resolve(null);var n=MX(t),r=n.url,i=n.attributes,a=i["data-namespace"]||"paypal",l=Sj(a);return i["data-js-sdk-library"]||(i["data-js-sdk-library"]="paypal-js"),kX(r,i)&&l?e.resolve(l):zX({url:r,attributes:i},e).then(function(){var u=Sj(a);if(u)return u;throw new Error("The window.".concat(a," global variable is not available."))})}function zX(t,e){e===void 0&&(e=Promise),L3(t,e);var n=t.url,r=t.attributes;if(typeof n!="string"||n.length===0)throw new Error("Invalid url.");if(typeof r<"u"&&typeof r!="object")throw new Error("Expected attributes to be an object.");return new e(function(i,a){if(typeof document>"u")return i();DX({url:n,attributes:r,onSuccess:function(){return i()},onError:function(){var l=new Error('The script "'.concat(n,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return a(l)}})})}function Sj(t){return window[t]}function L3(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");var n=t.environment;if(n&&n!=="production"&&n!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var $X=function(t){var e,n=t.options,r=n===void 0?{clientId:"test"}:n,i=t.children,a=t.deferLoading,l=a===void 0?!1:a,u=_.useReducer(PX,{options:Sn(Sn({},r),(e={},e[oc.DATA_JS_SDK_LIBRARY]=oc.DATA_LIBRARY_VALUE,e[oc.DATA_SDK_INTEGRATION_SOURCE]=oc.DATA_LIBRARY_VALUE,e[Eh]="".concat(k3(r)),e)),loadingStatus:l?Br.INITIAL:Br.PENDING}),d=u[0],f=u[1];return _.useEffect(function(){if(l===!1&&d.loadingStatus===Br.INITIAL)return f({type:el.LOADING_STATUS,value:Br.PENDING});if(d.loadingStatus===Br.PENDING){var p=!0;return BX(d.options).then(function(){p&&f({type:el.LOADING_STATUS,value:Br.RESOLVED})}).catch(function(g){console.error("".concat(EX," ").concat(g)),p&&f({type:el.LOADING_STATUS,value:{state:Br.REJECTED,message:String(g)}})}),function(){p=!1}}},[d.options,l,d.loadingStatus]),li.createElement(D3.Provider,{value:Sn(Sn({},d),{dispatch:f})},i)};function Tj(){}_.createContext({cardFieldsForm:null,fields:{},registerField:Tj,unregisterField:Tj});const FX=()=>{const{items:t,getTotalPrice:e,loading:n,clearCart:r,coupon:i}=xd(),{currentUser:a}=va(),l=qi(),u=28e-5,d=ie=>ie*u,f=ie=>{if(ie.imageUrls&&ie.imageUrls.length>0){const G=ie.imageUrls.filter(W=>W&&(typeof W=="string"||W.data&&typeof W.data=="string"));if(G.length>0){const W=ie.primaryImageIndex||0,ae=Math.min(W,G.length-1),ye=G[ae];if(typeof ye=="string")return ye;if(ye&&ye.data)return ye.data}}return ie.imageUrl||"https://via.placeholder.com/100x100.png?text=Moño"},[p,g]=_.useState([]),[b,x]=_.useState(null),[A,E]=_.useState({name:"",street:"",city:"",state:"",zipCode:"",country:"Colombia"}),[S,C]=_.useState(!1),[P,N]=_.useState(!0),[L,M]=_.useState(!1),U=t.reduce((ie,G)=>ie+G.price*G.quantity,0),R=i?U-e():0,I=e();_.useEffect(()=>{(async()=>{if(!a){l("/login");return}try{const G=bt(Ie,"users",a.uid),W=await pa(G);if(W.exists()){const ye=W.data().addresses||[];g(ye);const H=ye.find(le=>le.isDefault);H?x(H):ye.length>0&&x(ye[0])}}catch(G){console.error("Error loading addresses:",G),ke.fire({title:"Error",text:"Error al cargar las direcciones",icon:"error",confirmButtonText:"Aceptar"})}finally{N(!1)}})()},[a,l]);const k=ie=>{const{name:G,value:W}=ie.target;E(ae=>({...ae,[G]:W}))},$=async ie=>{if(ie.preventDefault(),!A.name||!A.street||!A.city||!A.state||!A.zipCode){ke.fire({title:"Error",text:"Por favor completa todos los campos de la dirección",icon:"error",confirmButtonText:"Aceptar"});return}try{const G=bt(Ie,"users",a.uid),W={...A,id:Date.now(),isDefault:p.length===0};await aa(G,{addresses:[...p,W]});const ae=[...p,W];g(ae),x(W),C(!1),E({name:"",street:"",city:"",state:"",zipCode:"",country:"Colombia"}),ke.fire({title:"Dirección agregada",text:"La dirección se ha agregado correctamente",icon:"success",confirmButtonText:"Aceptar"})}catch(G){console.error("Error adding address:",G),ke.fire({title:"Error",text:"Error al agregar la dirección: "+G.message,icon:"error",confirmButtonText:"Aceptar"})}},V=async(ie,G)=>{try{const W=d(I),ae={userId:a.uid,userEmail:a.email,items:t,subtotal:parseFloat(U),discount:parseFloat(R),totalAmount:parseFloat(I),totalAmountUSD:parseFloat(W.toFixed(2)),address:b,paymentMethod:ie,paymentStatus:G,orderStatus:"pending",coupon:i||null,createdAt:new Date,updatedAt:new Date},ye=Pt(Ie,"orders"),H=await vv(ye,ae);return console.log("Order created with ID:",H.id),H.id}catch(W){throw console.error("Error creating order:",W),W}},F=(ie,G)=>G.order.capture().then(async W=>{M(!0);try{await V("PayPal","completed"),r(),ke.fire({title:"¡Pago exitoso!",text:`Gracias por tu compra, ${W.payer.name.given_name}!`,icon:"success",confirmButtonText:"Aceptar"}).then(()=>{l("/home")})}catch(ae){console.error("Error processing order:",ae),ke.fire({title:"Error",text:"Hubo un error al procesar tu pedido. Por favor contacta al soporte.",icon:"error",confirmButtonText:"Aceptar"})}finally{M(!1)}}),B=ie=>{console.error("PayPal payment error:",ie),ke.fire({title:"Error",text:"Hubo un error al procesar el pago con PayPal. Por favor intenta nuevamente.",icon:"error",confirmButtonText:"Aceptar"})},ve=async()=>{if(!b){ke.fire({title:"Error",text:"Por favor selecciona una dirección de envío",icon:"error",confirmButtonText:"Aceptar"});return}M(!0);try{await V("Cash on Delivery","pending"),r(),ke.fire({title:"Pedido confirmado",text:"Tu pedido ha sido confirmado. Pagarás contra entrega.",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{l("/home")})}catch(ie){console.error("Error processing order:",ie),ke.fire({title:"Error",text:"Error al procesar el pedido: "+ie.message,icon:"error",confirmButtonText:"Aceptar"})}finally{M(!1)}};return n||P?m.jsx("div",{children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})})}):t.length===0?(l("/cart"),null):m.jsx("div",{children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Checkout"}),m.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-12",children:[m.jsxs("div",{className:"lg:col-span-8",children:[m.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-8",children:m.jsxs("div",{className:"px-4 py-6 sm:px-6",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Dirección de Envío"}),p.length===0?m.jsxs("div",{className:"text-center py-8",children:[m.jsxs("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),m.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay direcciones guardadas"}),m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Agrega una nueva dirección para continuar."})]}):m.jsx("div",{className:"space-y-4",children:p.map(ie=>m.jsx("div",{className:`border rounded-lg p-4 cursor-pointer ${b&&b.id===ie.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>x(ie),children:m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"flex items-center h-5",children:m.jsx("input",{type:"radio",name:"address",checked:b&&b.id===ie.id,onChange:()=>x(ie),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"})}),m.jsxs("div",{className:"ml-3",children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[ie.name,ie.isDefault&&m.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Predeterminada"})]}),m.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:[m.jsx("p",{children:ie.street}),m.jsxs("p",{children:[ie.city,", ",ie.state," ",ie.zipCode]}),m.jsx("p",{children:ie.country})]})]})]})},ie.id))}),m.jsx("div",{className:"mt-6",children:m.jsxs("button",{type:"button",onClick:()=>C(!S),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[m.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),p.length===0?"Agregar Dirección":"Agregar Nueva Dirección"]})}),S&&m.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[m.jsx("h3",{className:"text-md font-medium text-gray-900 mb-4",children:p.length===0?"Agregar Dirección":"Nueva Dirección"}),m.jsxs("form",{onSubmit:$,children:[m.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre de la Dirección"}),m.jsx("input",{type:"text",name:"name",id:"name",value:A.name,onChange:k,placeholder:"Ej: Casa, Trabajo",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700",children:"Calle y Número"}),m.jsx("input",{type:"text",name:"street",id:"street",value:A.street,onChange:k,placeholder:"Ej: Av. Principal 123",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"Ciudad"}),m.jsx("input",{type:"text",name:"city",id:"city",value:A.city,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"Estado/Provincia"}),m.jsx("input",{type:"text",name:"state",id:"state",value:A.state,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700",children:"Código Postal"}),m.jsx("input",{type:"text",name:"zipCode",id:"zipCode",value:A.zipCode,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"País"}),m.jsx("input",{type:"text",name:"country",id:"country",value:A.country,onChange:k,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),m.jsxs("div",{className:"mt-6 flex space-x-3",children:[m.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Guardar Dirección"}),m.jsx("button",{type:"button",onClick:()=>C(!1),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"})]})]})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:m.jsxs("div",{className:"px-4 py-6 sm:px-6",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Resumen del Pedido"}),m.jsx("div",{className:"flow-root",children:m.jsx("ul",{className:"-my-6 divide-y divide-gray-200",children:t.map(ie=>m.jsxs("li",{className:"py-6 flex",children:[m.jsx("div",{className:"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden",children:m.jsx("img",{src:f(ie),alt:ie.name,className:"w-full h-full object-center object-cover",onError:G=>{G.target.onerror=null,G.target.src="https://via.placeholder.com/100x100.png?text=Moño"}})}),m.jsxs("div",{className:"ml-4 flex-1 flex flex-col",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[m.jsx("h3",{children:ie.name}),m.jsxs("p",{className:"ml-4",children:["$",parseFloat(ie.price*ie.quantity).toLocaleString("es-CO")]})]}),m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:ie.category})]}),m.jsx("div",{className:"flex-1 flex items-end justify-between text-sm",children:m.jsxs("p",{className:"text-gray-500",children:["Cantidad: ",ie.quantity]})})]})]},ie.id))})})]})})]}),m.jsx("div",{className:"mt-8 lg:mt-0 lg:col-span-4",children:m.jsxs("div",{className:"bg-gray-50 rounded-lg px-4 py-6 sm:p-6 lg:p-8",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Resumen del Pedido"}),m.jsxs("dl",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("dt",{className:"text-sm text-gray-600",children:"Subtotal"}),m.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:["$",parseFloat(U).toLocaleString("es-CO")]})]}),i&&m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("dt",{className:"text-sm text-gray-600",children:["Descuento (",i.code,")"]}),m.jsxs("dd",{className:"text-sm font-medium text-green-600",children:["-$",parseFloat(R).toLocaleString("es-CO")]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("dt",{className:"text-sm text-gray-600",children:"Envío"}),m.jsx("dd",{className:"text-sm font-medium text-gray-900",children:"$0"})]}),m.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6",children:[m.jsx("dt",{className:"text-base font-medium text-gray-900",children:"Total"}),m.jsxs("dd",{className:"text-base font-medium text-gray-900",children:["$",parseFloat(I).toLocaleString("es-CO")]})]})]}),b&&m.jsxs("div",{className:"mt-8 p-4 bg-white rounded-lg border border-gray-200",children:[m.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Dirección de Envío"}),m.jsxs("div",{className:"text-sm text-gray-500",children:[m.jsx("p",{className:"font-medium",children:b.name}),m.jsx("p",{children:b.street}),m.jsxs("p",{children:[b.city,", ",b.state," ",b.zipCode]}),m.jsx("p",{children:b.country})]})]}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h3",{className:"text-md font-medium text-gray-900 mb-4",children:"Método de Pago"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"w-full",children:b?m.jsx(eE,{style:{layout:"vertical"},createOrder:(ie,G)=>{const W=d(I);return G.order.create({purchase_units:[{amount:{value:W.toFixed(2),currency_code:"USD"}}]})},onApprove:F,onError:B}):m.jsxs("button",{disabled:!0,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white opacity-50 cursor-not-allowed",children:[m.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 38 24",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{fill:"#253b80",d:"M35.71 15.39c.27-.4.4-.87.36-1.35-.04-.48-.24-.93-.57-1.28-.33-.35-.76-.55-1.22-.56-.46 0-.89.19-1.22.53-.33.34-.52.8-.54 1.28-.02.48.12.94.4 1.33.28.39.68.67 1.14.8.46.13.95.1 1.4-.08.45-.18.84-.49 1.12-.89z"}),m.jsx("path",{fill:"#179bd7",d:"M13.34 15.96c.34-.46.52-1.02.51-1.59-.01-.57-.22-1.12-.59-1.54-.37-.42-.87-.67-1.41-.71-.54-.04-1.08.13-1.51.46-.43.33-.73.81-.85 1.35-.12.54-.07 1.11.14 1.62.21.51.57.94 1.03 1.23.46.29.99.42 1.53.37.54-.05 1.05-.27 1.47-.63z"}),m.jsx("path",{fill:"#253b80",d:"M22.72 16.11c.41-.36.67-.87.72-1.41.05-.54-.09-1.08-.31-1.55-.28-.42-.72-.81-1.23-.96-.51-.15-1-.08-1.46.09-.46.17-.85.49-1.11.89-.27.4-.37.93-.32 1.44.03.51.21.99.51 1.4.3.41.74.72 1.23.88.49.16 1.01.17 1.51.06.5-.12.94-.4 1.26-.78z"}),m.jsx("path",{fill:"#179bd7",d:"M30.21 16.26c.45-.31.75-.8.83-1.34.08-.54-.03-1.09-.31-1.55-.28-.42-.72-.81-1.23-.96-.51-.15-1-.08-1.46.09-.46.17-.85.49-1.11.89-.26.4-.37.88-.32 1.37.05.49.27.95.61 1.31.34.36.79.6 1.28.68.49.08 1-.01 1.44-.24z"}),m.jsx("path",{fill:"#253b80",d:"M5.39 16.39c.47-.23.81-.66.93-1.16.12-.5.03-1.03-.25-1.45-.28-.42-.71-.71-1.2-.82-.49-.11-1-.08-1.46.09-.46.17-.85.49-1.11.89-.26.4-.37.88-.32 1.37.05.49.27.95.61 1.31.34.36.79.6 1.28.68.49.08 1-.01 1.44-.24z"})]}),"Pagar con PayPal"]})}),m.jsxs("button",{onClick:ve,disabled:L||!b,className:`w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${L||!b?"opacity-50 cursor-not-allowed":""}`,children:[L?m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):m.jsx("svg",{className:"mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pagar Contra Entrega"]})]})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("button",{onClick:()=>l("/cart"),className:"text-indigo-600 hover:text-indigo-500",children:"← Volver al Carrito"})})]})})]})]})})},qX=()=>{const{currentUser:t,userRole:e,refreshUserData:n}=va(),r=qi(),[i,a]=_.useState({displayName:"",email:"",phone:"",profileImage:""}),[l,u]=_.useState({currentPassword:"",newPassword:"",confirmNewPassword:""}),[d,f]=_.useState([]),[p,g]=_.useState({id:Date.now(),name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1}),[b,x]=_.useState(null),[A,E]=_.useState({id:null,name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1}),[S,C]=_.useState("profile"),[P,N]=_.useState(!0),[L,M]=_.useState(!1),[U,R]=_.useState(!1),[I,k]=_.useState(!1);_.useEffect(()=>{(async()=>{if(!t){r("/login");return}try{const he=bt(Ie,"users",t.uid),be=await pa(he);if(be.exists()){const we=be.data();a({displayName:we.displayName||t.displayName||"",email:t.email,phone:we.phone||"",profileImage:we.profileImage||t.photoURL||""}),f(we.addresses||[])}else a({displayName:t.displayName||"",email:t.email,phone:"",profileImage:t.photoURL||""}),f([])}catch(he){console.error("Error loading profile:",he),ke.fire({title:"Error",text:"Error al cargar el perfil",icon:"error",confirmButtonText:"Aceptar"})}finally{N(!1)}})()},[t,r]);const $=oe=>{const{name:he,value:be}=oe.target;a(we=>({...we,[he]:be}))},V=oe=>{const{name:he,value:be}=oe.target;u(we=>({...we,[he]:be}))},F=oe=>{const{name:he,value:be}=oe.target;g(we=>({...we,[he]:be}))},B=oe=>{const{name:he,value:be}=oe.target;E(we=>({...we,[he]:be}))},ve=oe=>{const he=oe.target.files[0];if(he){if(he.size>2*1024*1024){ke.fire({title:"Archivo muy grande",text:"La imagen debe ser menor a 2MB",icon:"warning",confirmButtonText:"Aceptar"});return}if(!he.type.match("image.*")){ke.fire({title:"Tipo de archivo inválido",text:"Por favor selecciona una imagen",icon:"warning",confirmButtonText:"Aceptar"});return}const be=new FileReader;be.onload=we=>{a(Ge=>({...Ge,profileImage:we.target.result}))},be.readAsDataURL(he)}},ie=async oe=>{oe.preventDefault(),M(!0);try{const he=bt(Ie,"users",t.uid),be=await pa(he);let we={...i,updatedAt:new Date};if(be.exists()){const Ge=be.data();Ge.hasOwnProperty("role")&&(we.role=Ge.role),Ge.hasOwnProperty("createdAt")&&(we.createdAt=Ge.createdAt),Ge.hasOwnProperty("addresses")&&(we.addresses=Ge.addresses)}else we.role="customer",we.createdAt=new Date,we.addresses=[];await cl(he,we),console.log("Profile saved, refreshing user data"),n(),ke.fire({title:"Perfil actualizado",text:"Tu perfil se ha actualizado correctamente",icon:"success",confirmButtonText:"Aceptar"})}catch(he){console.error("Error saving profile:",he),ke.fire({title:"Error",text:"Error al guardar el perfil: "+he.message,icon:"error",confirmButtonText:"Aceptar"})}finally{M(!1)}},G=async oe=>{if(oe.preventDefault(),R(!0),l.newPassword!==l.confirmNewPassword){ke.fire({title:"Error",text:"Las contraseñas nuevas no coinciden",icon:"error",confirmButtonText:"Aceptar"}),R(!1);return}if(l.newPassword.length<6){ke.fire({title:"Error",text:"La nueva contraseña debe tener al menos 6 caracteres",icon:"error",confirmButtonText:"Aceptar"}),R(!1);return}try{const he=kc.credential(t.email,l.currentPassword);await g$(t,he),await x$(t,l.newPassword),ke.fire({title:"Contraseña actualizada",text:"Tu contraseña se ha actualizado correctamente",icon:"success",confirmButtonText:"Aceptar"}),u({currentPassword:"",newPassword:"",confirmNewPassword:""})}catch(he){console.error("Error changing password:",he);let be="Error al cambiar la contraseña";switch(he.code){case"auth/wrong-password":be="La contraseña actual es incorrecta";break;case"auth/too-many-requests":be="Demasiados intentos. Por favor, inténtalo más tarde";break;default:be="Error al cambiar la contraseña: "+he.message}ke.fire({title:"Error",text:be,icon:"error",confirmButtonText:"Aceptar"})}finally{R(!1)}},W=async oe=>{if(oe.preventDefault(),k(!0),!p.name||!p.street||!p.city||!p.state||!p.zipCode||!p.country){ke.fire({title:"Error",text:"Por favor completa todos los campos de la dirección",icon:"error",confirmButtonText:"Aceptar"}),k(!1);return}try{const he=bt(Ie,"users",t.uid),be={...p,id:Date.now()};if(d.length===0||p.isDefault){be.isDefault=!0;const we=d.map(Ge=>({...Ge,isDefault:!1}));f([...we,be])}else f([...d,be]);await aa(he,{addresses:rj(be)}),ke.fire({title:"Dirección agregada",text:"La dirección se ha agregado correctamente",icon:"success",confirmButtonText:"Aceptar"}),g({id:Date.now(),name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1})}catch(he){console.error("Error adding address:",he),ke.fire({title:"Error",text:"Error al agregar la dirección: "+he.message,icon:"error",confirmButtonText:"Aceptar"})}finally{k(!1)}},ae=oe=>{x(oe.id),E({...oe})},ye=()=>{x(null),E({id:null,name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1})},H=async oe=>{if(oe.preventDefault(),k(!0),!A.name||!A.street||!A.city||!A.state||!A.zipCode||!A.country){ke.fire({title:"Error",text:"Por favor completa todos los campos de la dirección",icon:"error",confirmButtonText:"Aceptar"}),k(!1);return}try{const he=bt(Ie,"users",t.uid),be=d.find(Ge=>Ge.id===A.id);be&&await aa(he,{addresses:ij(be)});const we={...A};await aa(he,{addresses:rj(we)}),f(d.map(Ge=>Ge.id===A.id?we:Ge)),ke.fire({title:"Dirección actualizada",text:"La dirección se ha actualizado correctamente",icon:"success",confirmButtonText:"Aceptar"}),x(null),E({id:null,name:"",street:"",city:"",state:"",zipCode:"",country:"",isDefault:!1})}catch(he){console.error("Error updating address:",he),ke.fire({title:"Error",text:"Error al actualizar la dirección: "+he.message,icon:"error",confirmButtonText:"Aceptar"})}finally{k(!1)}},le=async oe=>{ke.fire({title:"¿Estás seguro?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async he=>{if(he.isConfirmed)try{const be=bt(Ie,"users",t.uid),we=d.find(Ge=>Ge.id===oe);we&&(await aa(be,{addresses:ij(we)}),f(d.filter(Ge=>Ge.id!==oe)),ke.fire({title:"Dirección eliminada",text:"La dirección se ha eliminado correctamente",icon:"success",confirmButtonText:"Aceptar"}))}catch(be){console.error("Error deleting address:",be),ke.fire({title:"Error",text:"Error al eliminar la dirección: "+be.message,icon:"error",confirmButtonText:"Aceptar"})}})},ue=async oe=>{try{const he=bt(Ie,"users",t.uid),be=d.map(we=>({...we,isDefault:we.id===oe}));f(be),await aa(he,{addresses:be}),ke.fire({title:"Dirección predeterminada",text:"La dirección se ha establecido como predeterminada",icon:"success",confirmButtonText:"Aceptar"})}catch(he){console.error("Error setting default address:",he),ke.fire({title:"Error",text:"Error al establecer la dirección predeterminada: "+he.message,icon:"error",confirmButtonText:"Aceptar"})}};return P?m.jsx("div",{children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})})}):m.jsx("div",{children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsxs("div",{className:"max-w-5xl mx-auto",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Mi Perfil"}),m.jsx("div",{className:"border-b border-gray-200 mb-8",children:m.jsxs("nav",{className:"-mb-px flex space-x-8",children:[m.jsx("button",{onClick:()=>C("profile"),className:`py-4 px-1 border-b-2 font-medium text-sm ${S==="profile"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Perfil"}),m.jsx("button",{onClick:()=>C("security"),className:`py-4 px-1 border-b-2 font-medium text-sm ${S==="security"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Seguridad"}),m.jsx("button",{onClick:()=>C("addresses"),className:`py-4 px-1 border-b-2 font-medium text-sm ${S==="addresses"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Direcciones"})]})}),S==="profile"&&m.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:m.jsx("div",{className:"px-6 py-8",children:m.jsxs("form",{onSubmit:ie,children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Foto de Perfil"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0",children:i.profileImage?m.jsx("img",{src:i.profileImage,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-gray-300"}):m.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 border-2 border-gray-300 flex items-center justify-center",children:m.jsx("span",{className:"text-gray-500 text-3xl font-bold",children:i.displayName?.charAt(0)||i.email?.charAt(0)||"U"})})}),m.jsxs("div",{className:"ml-6",children:[m.jsxs("label",{className:"block",children:[m.jsx("span",{className:"px-4 py-2 bg-white border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 cursor-pointer",children:"Cambiar foto"}),m.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:ve})]}),m.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"JPG, GIF o PNG. Tamaño máximo 2MB"})]})]})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información Personal"}),m.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Nombre Completo"}),m.jsx("input",{type:"text",name:"displayName",id:"displayName",value:i.displayName,onChange:$,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo Electrónico"}),m.jsx("input",{type:"email",name:"email",id:"email",value:i.email,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 bg-gray-100"}),m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"El correo no puede ser modificado"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Teléfono"}),m.jsx("input",{type:"tel",name:"phone",id:"phone",value:i.phone,onChange:$,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Rol"}),m.jsx("input",{type:"text",name:"role",id:"role",value:e||"customer",disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 bg-gray-100"}),m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"El rol no puede ser modificado"})]})]})]}),m.jsx("div",{className:"flex justify-end",children:m.jsx("button",{type:"submit",disabled:L,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:L?"Guardando...":"Guardar Cambios"})})]})})}),S==="security"&&m.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:m.jsxs("div",{className:"px-6 py-8",children:[m.jsxs("form",{onSubmit:G,children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cambiar Contraseña"}),m.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:m.jsxs("div",{children:[m.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Contraseña Actual"}),m.jsx("input",{type:"password",name:"currentPassword",id:"currentPassword",value:l.currentPassword,onChange:V,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})}),m.jsxs("div",{className:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"Nueva Contraseña"}),m.jsx("input",{type:"password",name:"newPassword",id:"newPassword",value:l.newPassword,onChange:V,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"confirmNewPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmar Nueva Contraseña"}),m.jsx("input",{type:"password",name:"confirmNewPassword",id:"confirmNewPassword",value:l.confirmNewPassword,onChange:V,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),m.jsx("div",{className:"flex justify-end",children:m.jsx("button",{type:"submit",disabled:U,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:U?"Guardando...":"Cambiar Contraseña"})})]}),m.jsxs("div",{className:"mt-12",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Dispositivos Activos"}),m.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:m.jsx("svg",{className:"h-6 w-6 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Este dispositivo"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Última actividad: Ahora mismo"})]}),m.jsx("div",{className:"ml-auto",children:m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Activo"})})]})}),m.jsx("div",{className:"mt-4 text-sm text-gray-500",children:m.jsx("p",{children:"Para seguridad adicional, si ves un dispositivo que no reconoces, cierra la sesión en todos los dispositivos y cambia tu contraseña."})})]})]})}),S==="addresses"&&m.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:m.jsxs("div",{className:"px-6 py-8",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:b?"Editar Dirección":"Agregar Nueva Dirección"}),m.jsxs("form",{onSubmit:b?H:W,children:[m.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"addressName",className:"block text-sm font-medium text-gray-700",children:"Nombre de la Dirección"}),m.jsx("input",{type:"text",name:"name",id:"addressName",value:b?A.name:p.name,onChange:b?B:F,placeholder:"Ej: Casa, Trabajo",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"addressStreet",className:"block text-sm font-medium text-gray-700",children:"Calle y Número"}),m.jsx("input",{type:"text",name:"street",id:"addressStreet",value:b?A.street:p.street,onChange:b?B:F,placeholder:"Ej: Av. Principal 123",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"addressCity",className:"block text-sm font-medium text-gray-700",children:"Ciudad"}),m.jsx("input",{type:"text",name:"city",id:"addressCity",value:b?A.city:p.city,onChange:b?B:F,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"addressState",className:"block text-sm font-medium text-gray-700",children:"Estado/Provincia"}),m.jsx("input",{type:"text",name:"state",id:"addressState",value:b?A.state:p.state,onChange:b?B:F,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"addressZipCode",className:"block text-sm font-medium text-gray-700",children:"Código Postal"}),m.jsx("input",{type:"text",name:"zipCode",id:"addressZipCode",value:b?A.zipCode:p.zipCode,onChange:b?B:F,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"addressCountry",className:"block text-sm font-medium text-gray-700",children:"País"}),m.jsx("input",{type:"text",name:"country",id:"addressCountry",value:b?A.country:p.country,onChange:b?B:F,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"addressIsDefault",name:"isDefault",type:"checkbox",checked:b?A.isDefault:p.isDefault,onChange:oe=>b?E(he=>({...he,isDefault:oe.target.checked})):g(he=>({...he,isDefault:oe.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),m.jsx("label",{htmlFor:"addressIsDefault",className:"ml-2 block text-sm text-gray-900",children:"Establecer como dirección predeterminada"})]})]}),m.jsxs("div",{className:"mt-6 flex space-x-3",children:[m.jsx("button",{type:"submit",disabled:I,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:I?"Guardando...":b?"Guardar Cambios":"Agregar Dirección"}),b&&m.jsx("button",{type:"button",onClick:ye,className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"})]})]})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Direcciones Guardadas"}),d.length===0?m.jsxs("div",{className:"text-center py-8",children:[m.jsxs("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),m.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay direcciones"}),m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Agrega tu primera dirección usando el formulario de arriba."})]}):m.jsx("div",{className:"space-y-4",children:d.map(oe=>m.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-medium text-gray-900",children:oe.name}),m.jsx("p",{className:"text-sm text-gray-500",children:oe.street}),m.jsxs("p",{className:"text-sm text-gray-500",children:[oe.city,", ",oe.state," ",oe.zipCode]}),m.jsx("p",{className:"text-sm text-gray-500",children:oe.country}),oe.isDefault&&m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 mt-2",children:"Predeterminada"})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("button",{onClick:()=>ae(oe),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200",children:"Editar"}),m.jsx("button",{onClick:()=>ue(oe.id),disabled:oe.isDefault,className:`inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 ${oe.isDefault?"bg-gray-100":"bg-indigo-100 hover:bg-indigo-200"}`,children:oe.isDefault?"Predeterminada":"Hacer Predeterminada"}),m.jsx("button",{onClick:()=>le(oe.id),className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200",children:"Eliminar"})]})]})},oe.id))})]})]})})]})})})},HX=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[i,a]=_.useState(""),[l,u]=_.useState(!1),d=qi(),{currentUser:f}=va();li.useEffect(()=>{f&&d("/home")},[f,d]);const p=async()=>{a(""),u(!0);try{const b=new Ma,A=(await GD(da,b)).user,E=bt(Ie,"users",A.uid);(await pa(E)).exists()||(await cl(E,{email:A.email,displayName:A.displayName||"",profileImage:A.photoURL||"",createdAt:new Date,role:"customer"}),console.log("User info stored successfully for Google user")),d("/home")}catch(b){console.error("Google sign-in error:",b),a("Error al iniciar sesión con Google. Por favor, inténtalo de nuevo.")}finally{u(!1)}},g=async b=>{b.preventDefault(),a(""),u(!0);try{await b$(da,t,n),d("/home")}catch(x){switch(x.code){case"auth/user-not-found":a("No se encontró una cuenta con ese correo electrónico.");break;case"auth/wrong-password":a("Contraseña incorrecta.");break;case"auth/invalid-email":a("El correo electrónico no es válido.");break;case"auth/user-disabled":a("Esta cuenta ha sido deshabilitada.");break;default:a("Error al iniciar sesión. Por favor, verifica tus credenciales.")}}finally{u(!1)}};return m.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 py-12 bg-white sm:px-6 lg:px-8",children:m.jsxs("div",{className:"w-full max-w-md space-y-8",children:[m.jsx("div",{className:"flex justify-center",children:m.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-full",children:m.jsx("svg",{className:"w-6 h-6 text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Login"}),m.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"See your growth and get consulting support!"})]}),i&&m.jsx("div",{className:"relative px-4 py-3 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:m.jsx("span",{className:"block sm:inline",children:i})}),m.jsx("div",{children:m.jsxs("button",{onClick:p,disabled:l,className:"flex items-center justify-center w-full gap-3 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50",children:[m.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[m.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),m.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),m.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),m.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),m.jsx("span",{children:"Sign in with Google"})]})}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("div",{className:"w-full border-t border-gray-300"})}),m.jsx("div",{className:"relative flex justify-center text-sm",children:m.jsx("span",{className:"px-2 text-gray-500 bg-white",children:"or Sign in with Email"})})]}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email*"}),m.jsx("div",{className:"mt-1",children:m.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"mail@website.com",value:t,onChange:b=>e(b.target.value),disabled:l})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password*"}),m.jsx("div",{className:"text-sm",children:m.jsx(tt,{to:"/reset-password",className:"font-medium text-purple-600 hover:text-purple-500",children:"Forgot password?"})})]}),m.jsx("div",{className:"mt-1",children:m.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Min. 8 character",value:n,onChange:b=>r(b.target.value),disabled:l})})]})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),m.jsx("label",{htmlFor:"remember-me",className:"block ml-2 text-sm text-gray-700",children:"Remember me"})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:l,className:"relative flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-purple-600 border border-transparent rounded-full group hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:l?"Logging in...":"Login"})})]}),m.jsx("div",{className:"text-center",children:m.jsxs("p",{className:"text-sm text-gray-500",children:["Not registered yet?"," ",m.jsx(tt,{to:"/register",className:"font-medium text-purple-600 hover:text-purple-500",children:"Create an Account"})]})}),m.jsx("div",{className:"mt-8 text-center",children:m.jsx("p",{className:"text-xs text-gray-500",children:"©2020 Felix All rights reserved."})})]})})},KX=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[i,a]=_.useState(""),[l,u]=_.useState(""),[d,f]=_.useState(""),[p,g]=_.useState(!1),b=qi(),{firebaseError:x}=va(),A=async()=>{u(""),f(""),g(!0);try{const S=new Ma,P=(await GD(da,S)).user,N=bt(Ie,"users",P.uid);(await pa(N)).exists()||(await cl(N,{email:P.email,displayName:P.displayName||"",profileImage:P.photoURL||"",createdAt:new Date,role:"customer"}),console.log("User info stored successfully for Google user")),b("/home")}catch(S){console.error("Google sign-up error:",S),u("Error al registrarse con Google. Por favor, inténtalo de nuevo.")}finally{g(!1)}},E=async S=>{if(S.preventDefault(),u(""),f(""),x){u(x);return}if(!da||!Ie){u("Firebase no está configurado correctamente. Por favor, verifica tu archivo .env");return}if(n!==i){u("Las contraseñas no coinciden");return}if(n.length<6){u("La contraseña debe tener al menos 6 caracteres");return}g(!0);try{console.log("Attempting to create user with email:",t);const P=(await v$(da,t,n)).user;console.log("User created successfully:",P),console.log("Storing user info in Firestore..."),await cl(bt(Ie,"users",P.uid),{email:P.email,displayName:"",profileImage:"",createdAt:new Date,role:"customer"}),console.log("User info stored successfully"),f("Cuenta creada exitosamente. Redirigiendo..."),setTimeout(()=>{b("/home")},2e3)}catch(C){switch(console.error("Registration error:",C),console.error("Error code:",C.code),console.error("Error message:",C.message),C.code){case"auth/email-already-in-use":u("Este correo electrónico ya está registrado.");break;case"auth/invalid-email":u("El correo electrónico no es válido.");break;case"auth/operation-not-allowed":u("El registro de usuarios está deshabilitado. Por favor, habilita la autenticación en la consola de Firebase.");break;case"auth/weak-password":u("La contraseña es muy débil.");break;default:u(`Error al crear la cuenta: ${C.message}`)}}finally{g(!1)}};return m.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 py-12 bg-white sm:px-6 lg:px-8",children:m.jsxs("div",{className:"w-full max-w-md space-y-8",children:[m.jsx("div",{className:"flex justify-center",children:m.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-full",children:m.jsx("svg",{className:"w-6 h-6 text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Register"}),m.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Create an account to get started!"})]}),x&&m.jsxs("div",{className:"relative px-4 py-3 text-yellow-700 bg-yellow-100 border border-yellow-400 rounded",role:"alert",children:[m.jsx("strong",{className:"font-bold",children:"Configuración incompleta! "}),m.jsx("span",{className:"block sm:inline",children:x})]}),l&&m.jsx("div",{className:"relative px-4 py-3 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:m.jsx("span",{className:"block sm:inline",children:l})}),d&&m.jsx("div",{className:"relative px-4 py-3 text-green-700 bg-green-100 border border-green-400 rounded",role:"alert",children:m.jsx("span",{className:"block sm:inline",children:d})}),m.jsx("div",{children:m.jsxs("button",{onClick:A,disabled:p||x,className:"flex items-center justify-center w-full gap-3 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50",children:[m.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[m.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),m.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),m.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),m.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),m.jsx("span",{children:"Sign up with Google"})]})}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("div",{className:"w-full border-t border-gray-300"})}),m.jsx("div",{className:"relative flex justify-center text-sm",children:m.jsx("span",{className:"px-2 text-gray-500 bg-white",children:"or Sign up with Email"})})]}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:E,children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email*"}),m.jsx("div",{className:"mt-1",children:m.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"mail@website.com",value:t,onChange:S=>e(S.target.value),disabled:x||p})})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password*"}),m.jsx("div",{className:"mt-1",children:m.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Min. 8 character",value:n,onChange:S=>r(S.target.value),disabled:x||p})})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm Password*"}),m.jsx("div",{className:"mt-1",children:m.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Confirm your password",value:i,onChange:S=>a(S.target.value),disabled:x||p})})]})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:p||x,className:"relative flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-purple-600 border border-transparent rounded-full group hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:p?"Creating Account...":"Create Account"})})]}),m.jsx("div",{className:"text-center",children:m.jsxs("p",{className:"text-sm text-gray-500",children:["Already have an account?"," ",m.jsx(tt,{to:"/login",className:"font-medium text-purple-600 hover:text-purple-500",children:"Sign in"})]})}),m.jsx("div",{className:"mt-8 text-center",children:m.jsx("p",{className:"text-xs text-gray-500",children:"©2020 Felix All rights reserved."})})]})})},GX=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[i,a]=_.useState(""),[l,u]=_.useState(!1);qi();const d=async f=>{f.preventDefault(),a(""),r(""),u(!0);try{await y$(da,t),r("Se ha enviado un correo para restablecer tu contraseña. Revisa tu bandeja de entrada.")}catch(p){switch(p.code){case"auth/user-not-found":a("No se encontró una cuenta con ese correo electrónico.");break;case"auth/invalid-email":a("El correo electrónico no es válido.");break;default:a("Error al enviar el correo de restablecimiento. Por favor, inténtalo de nuevo.")}}finally{u(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8",children:[m.jsxs("div",{children:[m.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center",children:m.jsx("svg",{className:"h-6 w-6 text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),m.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Restablecer Contraseña"}),m.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Ingresa tu correo electrónico y te enviaremos un enlace para restablecer tu contraseña."})]}),n&&m.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:m.jsx("span",{className:"block sm:inline",children:n})}),i&&m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:m.jsx("span",{className:"block sm:inline",children:i})}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700",children:"Correo Electrónico"}),m.jsx("div",{className:"mt-1",children:m.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"mail@website.com",value:t,onChange:f=>e(f.target.value),disabled:l})})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-full text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:l?"Enviando...":"Enviar Enlace de Restablecimiento"})})]}),m.jsx("div",{className:"text-center",children:m.jsx(tt,{to:"/login",className:"font-medium text-purple-600 hover:text-purple-500",children:"← Volver al inicio de sesión"})}),m.jsx("div",{className:"mt-8 text-center",children:m.jsx("p",{className:"text-xs text-gray-500",children:"©2020 Felix All rights reserved."})})]})})},Cj=async()=>{try{const t=Pt(Ie,"users");return(await Ht(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Error fetching users:",t),t}},WX=async(t,e)=>{try{const n=bt(Ie,"users",t);return await aa(n,{role:e}),{id:t,role:e}}catch(n){throw console.error("Error updating user role:",n),n}},Ox=t=>{switch(t){case"pending":return"Pendiente";case"processing":return"Procesando";case"shipped":return"Enviado";case"delivered":return"Entregado";case"cancelled":return"Cancelado";default:return t}},Nj=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},YX=async t=>{try{const e=Pt(Ie,"orders"),n=ma(e,Ks("userId","==",t),yl("createdAt","desc"));return(await Ht(n)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){if(console.error("Error fetching orders:",e),e.code==="failed-precondition"||e.message&&e.message.includes("index"))try{const n=Pt(Ie,"orders"),r=ma(n,Ks("userId","==",t));return(await Ht(r)).docs.map(u=>({id:u.id,...u.data()})).sort((u,d)=>{const f=u.createdAt?.toDate?u.createdAt.toDate():new Date(u.createdAt);return(d.createdAt?.toDate?d.createdAt.toDate():new Date(d.createdAt))-f})}catch(n){throw console.error("Error fetching orders without index:",n),n}else throw e}},XX=async(t,e)=>{try{const n=bt(Ie,"orders",t);return await aa(n,{orderStatus:e,updatedAt:new Date}),{id:t,status:e}}catch(n){throw console.error("Error updating order status:",n),n}},QX=async()=>{try{const t=Pt(Ie,"orders"),e=ma(t,yl("createdAt","desc"));return(await Ht(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){if(console.error("Error fetching all orders:",t),t.code==="failed-precondition"||t.message&&t.message.includes("index"))try{const e=Pt(Ie,"orders");return(await Ht(e)).docs.map(a=>({id:a.id,...a.data()})).sort((a,l)=>{const u=a.createdAt?.toDate?a.createdAt.toDate():new Date(a.createdAt);return(l.createdAt?.toDate?l.createdAt.toDate():new Date(l.createdAt))-u})}catch(e){throw console.error("Error fetching all orders without index:",e),e}else throw t}},ZX=async(t,e)=>{try{const n=Pt(Ie,"orders"),r=ma(n,Ks("createdAt",">=",t),Ks("createdAt","<=",e),yl("createdAt","desc")),a=(await Ht(r)).docs.map(p=>({id:p.id,...p.data()})),l={};let u=0,d=0;return a.forEach(p=>{const g=p.createdAt.toDate().toISOString().split("T")[0];l[g]||(l[g]={date:g,totalSales:0,orderCount:0,revenue:0});const b=p.totalAmount||0;l[g].totalSales+=b,l[g].orderCount+=1,l[g].revenue+=b,u+=b,d+=1}),{salesData:Object.values(l).sort((p,g)=>new Date(p.date)-new Date(g.date)),totalRevenue:u,totalOrders:d,averageOrderValue:d>0?u/d:0}}catch(n){throw console.error("Error fetching sales data:",n),n}},JX=async()=>{try{const t=Pt(Ie,"products"),n=(await Ht(t)).docs.map(f=>({id:f.id,...f.data()})),r=Pt(Ie,"orders"),a=(await Ht(r)).docs.map(f=>({id:f.id,...f.data()})),l={};n.forEach(f=>{l[f.id]=f.category||"Sin categoría"});const u={};return a.forEach(f=>{f.items&&Array.isArray(f.items)&&f.items.forEach(p=>{const g=l[p.productId]||"Sin categoría";u[g]||(u[g]={category:g,sales:0,quantity:0,revenue:0});const b=(p.price||0)*(p.quantity||0);u[g].sales+=b,u[g].quantity+=p.quantity||0,u[g].revenue+=b})}),Object.values(u).sort((f,p)=>p.revenue-f.revenue)}catch(t){throw console.error("Error fetching sales by category:",t),t}},eQ=async()=>{try{const t=Pt(Ie,"orders"),n=(await Ht(t)).docs.map(a=>({id:a.id,...a.data()})),r={pending:0,processing:0,shipped:0,delivered:0,cancelled:0};return n.forEach(a=>{const l=a.orderStatus||"pending";l in r&&r[l]++}),Object.entries(r).map(([a,l])=>({status:a,count:l}))}catch(t){throw console.error("Error fetching order status distribution:",t),t}},tQ=async(t=10)=>{try{const e=Pt(Ie,"products"),r=(await Ht(e)).docs.map(p=>({id:p.id,...p.data()})),i=Pt(Ie,"orders"),l=(await Ht(i)).docs.map(p=>({id:p.id,...p.data()})),u={};r.forEach(p=>{u[p.id]=p.name||"Producto sin nombre"});const d={};return l.forEach(p=>{p.items&&Array.isArray(p.items)&&p.items.forEach(g=>{const b=g.productId;d[b]||(d[b]={productId:b,productName:u[b]||"Producto desconocido",sales:0,quantity:0,revenue:0});const x=(g.price||0)*(g.quantity||0);d[b].sales+=x,d[b].quantity+=g.quantity||0,d[b].revenue+=x})}),Object.values(d).sort((p,g)=>g.revenue-p.revenue).slice(0,t)}catch(e){throw console.error("Error fetching top selling products:",e),e}},nQ=async(t,e)=>{try{const n=Pt(Ie,"users"),r=ma(n,Ks("createdAt",">=",t),Ks("createdAt","<=",e),yl("createdAt","desc")),a=(await Ht(r)).docs.map(f=>({id:f.id,...f.data()})),l={};let u=0;return a.forEach(f=>{const p=f.createdAt.toDate().toISOString().split("T")[0];l[p]||(l[p]={date:p,registrations:0}),l[p].registrations+=1,u+=1}),{registrationData:Object.values(l).sort((f,p)=>new Date(f.date)-new Date(p.date)),totalUsers:u}}catch(n){throw console.error("Error fetching user registration data:",n),n}},rQ=async()=>{try{const t=Pt(Ie,"orders"),n=(await Ht(t)).docs.map(a=>({id:a.id,...a.data()})),r={};return n.forEach(a=>{const l=a.paymentMethod||"Desconocido",u=a.totalAmount||0;r[l]||(r[l]={method:l,revenue:0,count:0}),r[l].revenue+=u,r[l].count+=1}),Object.values(r)}catch(t){throw console.error("Error fetching revenue by payment method:",t),t}},iQ=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,a]=_.useState(null),[l,u]=_.useState(""),[d,f]=_.useState({code:"",discountType:"percentage",discountValue:"",isActive:!0,expiryDate:""}),[p,g]=_.useState(null),b=Pt(Ie,"coupons"),x=async()=>{try{const U=ma(b,yl("createdAt","desc")),R=await Ht(U);e(R.docs.map(I=>({...I.data(),id:I.id})))}catch(U){console.error("Firebase error fetching coupons: ",U),a("No se pudieron cargar los cupones. Revisa las reglas de seguridad de Firebase y la consola del navegador.")}r(!1)};_.useEffect(()=>{x()},[]);const A=U=>{u(U),setTimeout(()=>u(""),3e3)},E=U=>{const{name:R,value:I,type:k,checked:$}=U.target;f({...d,[R]:k==="checkbox"?$:I})},S=U=>{const{name:R,value:I,type:k,checked:$}=U.target;g({...p,[R]:k==="checkbox"?$:I})},C=async U=>{if(U.preventDefault(),!d.code||!d.discountValue){a("Por favor, completa todos los campos obligatorios.");return}if(d.discountType==="percentage"&&(d.discountValue<1||d.discountValue>100)){a("El porcentaje de descuento debe estar entre 1 y 100.");return}try{const R={code:d.code.toUpperCase(),discountType:d.discountType,discountValue:parseFloat(d.discountValue),isActive:d.isActive,createdAt:new Date,...d.expiryDate&&{expiryDate:new Date(d.expiryDate)}};await vv(b,R),f({code:"",discountType:"percentage",discountValue:"",isActive:!0,expiryDate:""}),a(null),A("Cupón creado exitosamente!"),x()}catch(R){console.error("Firebase error creating coupon: ",R),a("Error al crear el cupón. ¿Tienes permisos de escritura?")}},P=async(U,R)=>{if(window.confirm(`¿Estás seguro de que quieres eliminar el cupón "${R}"?`))try{const k=bt(Ie,"coupons",U);await V_(k),e(t.filter($=>$.id!==U)),A("Cupón eliminado exitosamente!")}catch(k){console.error("Firebase error deleting coupon: ",k),a("Error al eliminar el cupón. ¿Tienes permisos de escritura?")}},N=async U=>{if(U.preventDefault(),!p.code||!p.discountValue){a("Por favor, completa todos los campos obligatorios.");return}if(p.discountType==="percentage"&&(p.discountValue<1||p.discountValue>100)){a("El porcentaje de descuento debe estar entre 1 y 100.");return}try{const R=bt(Ie,"coupons",p.id),I={code:p.code.toUpperCase(),discountType:p.discountType,discountValue:parseFloat(p.discountValue),isActive:p.isActive,updatedAt:new Date,...p.expiryDate&&{expiryDate:new Date(p.expiryDate)}};await aa(R,I),g(null),a(null),A("Cupón actualizado exitosamente!"),x()}catch(R){console.error("Firebase error updating coupon: ",R),a("Error al actualizar el cupón. ¿Tienes permisos de escritura?")}},L=U=>U?U instanceof Date?U.toLocaleDateString("es-CO"):U.toDate?U.toDate().toLocaleDateString("es-CO"):"N/A":"N/A",M=U=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(U||0);return m.jsxs("div",{className:"mt-8",children:[l&&m.jsxs("div",{className:"relative px-4 py-3 mb-4 text-green-700 bg-green-100 border border-green-400 rounded",role:"alert",children:[m.jsx("strong",{className:"font-bold",children:"Éxito! "}),m.jsx("span",{className:"block sm:inline",children:l})]}),i&&m.jsxs("div",{className:"relative px-4 py-3 mb-4 text-red-700 bg-red-100 border border-red-400 rounded",role:"alert",children:[m.jsx("strong",{className:"font-bold",children:"Error! "}),m.jsx("span",{className:"block sm:inline",children:i})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-8",children:[m.jsx("div",{className:"px-4 py-5 border-b border-gray-200 sm:px-6",children:m.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:p?"Editar Cupón":"Agregar Nuevo Cupón"})}),m.jsx("div",{className:"px-4 py-5 sm:p-6",children:m.jsxs("form",{onSubmit:p?N:C,children:[m.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700",children:"Código del Cupón *"}),m.jsx("input",{type:"text",name:"code",id:"code",required:!0,value:p?p.code:d.code,onChange:p?S:E,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Ej: DESCUENTO10"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"discountType",className:"block text-sm font-medium text-gray-700",children:"Tipo de Descuento *"}),m.jsxs("select",{name:"discountType",id:"discountType",required:!0,value:p?p.discountType:d.discountType,onChange:p?S:E,className:"mt-1 block w-full bg-white border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[m.jsx("option",{value:"percentage",children:"Porcentaje"}),m.jsx("option",{value:"fixed",children:"Monto Fijo"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"discountValue",className:"block text-sm font-medium text-gray-700",children:"Valor del Descuento *"}),m.jsx("input",{type:"number",name:"discountValue",id:"discountValue",required:!0,min:"0",step:"0.01",value:p?p.discountValue:d.discountValue,onChange:p?S:E,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:p?p.discountType==="percentage"?"Ej: 15":"Ej: 5000":d.discountType==="percentage"?"Ej: 15":"Ej: 5000"}),m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:p?p.discountType==="percentage"?"Porcentaje de descuento (1-100%)":"Monto fijo en COP":d.discountType==="percentage"?"Porcentaje de descuento (1-100%)":"Monto fijo en COP"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"expiryDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de Expiración"}),m.jsx("input",{type:"date",name:"expiryDate",id:"expiryDate",value:p?p.expiryDate:d.expiryDate,onChange:p?S:E,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),m.jsx("div",{className:"sm:col-span-2",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"isActive",name:"isActive",type:"checkbox",checked:p?p.isActive:d.isActive,onChange:p?S:E,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),m.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Cupón Activo"})]})})]}),m.jsx("div",{className:"mt-6 flex space-x-3",children:p?m.jsxs(m.Fragment,{children:[m.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Guardar Cambios"}),m.jsx("button",{type:"button",onClick:()=>g(null),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"})]}):m.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Crear Cupón"})})]})})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[m.jsx("div",{className:"px-4 py-5 border-b border-gray-200 sm:px-6",children:m.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Cupones Existentes"})}),m.jsx("div",{className:"px-4 py-5 sm:px-6",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Código"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Tipo"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Valor"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Estado"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Expiración"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-right text-gray-500 uppercase",children:"Acciones"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:m.jsx("div",{className:"flex justify-center",children:m.jsx("div",{className:"w-6 h-6 border-b-2 border-gray-900 rounded-full animate-spin"})})})}):i?m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-red-500",children:i})}):t.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No hay cupones disponibles"})}):t.map(U=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.code})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:U.discountType==="percentage"?"Porcentaje":"Monto Fijo"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.discountType==="percentage"?`${U.discountValue}%`:M(U.discountValue)}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:U.isActive?m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Activo"}):m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactivo"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.expiryDate?L(U.expiryDate):"Nunca"}),m.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-right whitespace-nowrap",children:[m.jsx("button",{onClick:()=>g(U),className:"mr-3 text-indigo-600 hover:text-indigo-900",children:"Editar"}),m.jsx("button",{onClick:()=>P(U.id,U.code),className:"text-red-600 hover:text-red-900",children:"Eliminar"})]})]},U.id))})]})})})]})]})},V3=({order:t,isOpen:e,onClose:n,formatDate:r,formatCurrency:i,getOrderStatusText:a,getStatusBadgeClass:l})=>!e||!t?null:m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto bg-black bg-opacity-50",children:m.jsx("div",{className:"relative w-full max-w-2xl mx-auto my-8 bg-white rounded-lg shadow-xl",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Detalles de la Orden"}),m.jsx("button",{onClick:n,className:"text-2xl font-bold text-gray-400 hover:text-gray-500",children:"×"})]}),m.jsxs("div",{className:"mt-2 space-y-6",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Información de la Orden"}),m.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"ID de Orden"}),m.jsx("p",{className:"font-medium",children:t.id})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Fecha"}),m.jsx("p",{className:"font-medium",children:r(t.createdAt)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Estado"}),m.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l(t.orderStatus||"pending")}`,children:a(t.orderStatus||"pending")})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Método de Pago"}),m.jsx("p",{className:"font-medium",children:t.paymentMethod||"N/A"}),m.jsx("p",{className:"text-sm text-gray-500",children:t.paymentStatus==="completed"?"Pagado":"Pendiente"})]})]})})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Información del Cliente"}),m.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Nombre"}),m.jsx("p",{className:"font-medium",children:t.userEmail||"N/A"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"ID de Usuario"}),m.jsx("p",{className:"font-medium",children:t.userId?.substring(0,8)||"N/A"})]})]})})]}),t.address&&m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Dirección de Envío"}),m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[m.jsx("p",{className:"font-medium",children:t.address.name}),m.jsx("p",{children:t.address.street}),m.jsxs("p",{children:[t.address.city,", ",t.address.state," ",t.address.zipCode]}),m.jsx("p",{children:t.address.country})]})]}),t.coupon&&m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cupón de Descuento"}),m.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Código"}),m.jsx("p",{className:"font-medium",children:t.coupon.code})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Descuento"}),m.jsx("p",{className:"font-medium",children:t.coupon.discountType==="percentage"?`${t.coupon.discountValue}%`:i(t.coupon.discountValue)})]})]})})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Productos"}),m.jsx("div",{className:"bg-gray-50 rounded-lg divide-y divide-gray-200",children:t.items?.map((u,d)=>m.jsx("div",{className:"p-4",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0 w-16 h-16 border border-gray-200 rounded-md overflow-hidden",children:m.jsx("img",{src:u.imageUrl||"https://via.placeholder.com/64x64.png?text=Moño",alt:u.name,className:"w-full h-full object-center object-cover",onError:f=>{f.target.onerror=null,f.target.src="https://via.placeholder.com/64x64.png?text=Moño"}})}),m.jsxs("div",{className:"ml-4 flex-1",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("h5",{className:"font-medium text-gray-900",children:u.name}),m.jsx("p",{className:"font-medium",children:i(u.price*u.quantity)})]}),m.jsx("p",{className:"text-sm text-gray-500",children:u.category}),m.jsxs("div",{className:"flex justify-between mt-1",children:[m.jsxs("p",{className:"text-sm text-gray-500",children:["Cantidad: ",u.quantity]}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Precio unitario: ",i(u.price)]})]})]})]})},d))})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Resumen del Pedido"}),m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("p",{className:"text-gray-600",children:"Subtotal"}),m.jsx("p",{className:"font-medium",children:i(t.subtotal||0)})]}),t.coupon&&m.jsxs("div",{className:"flex justify-between",children:[m.jsxs("p",{className:"text-gray-600",children:["Descuento (",t.coupon.code,")"]}),m.jsxs("p",{className:"font-medium text-green-600",children:["-",i(t.discount||0)]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("p",{className:"text-gray-600",children:"Envío"}),m.jsx("p",{className:"font-medium",children:"$0"})]}),m.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[m.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Total"}),m.jsx("p",{className:"text-lg font-medium text-gray-900",children:i(t.totalAmount||0)})]})]})]})]}),m.jsx("div",{className:"flex justify-end pt-4",children:m.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cerrar"})})]})})});function U3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=U3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ot(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=U3(t))&&(r&&(r+=" "),r+=e);return r}var Ix={},Rx={},Pj;function aQ(){return Pj||(Pj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Rx)),Rx}var kx={},jj;function B3(){return jj||(jj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(kx)),kx}var Dx={},Oj;function z3(){return Oj||(Oj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Dx)),Dx}var Mx={},Ij;function tE(){return Ij||(Ij=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let a=0,l="",u="",d=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const f=n[a];u?f==="\\"&&a+1<i?(a++,l+=n[a]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,r.push(l),l=""):l+=f:f==="["?(d=!0,l&&(r.push(l),l="")):f==="."?l&&(r.push(l),l=""):l+=f,a++}return l&&r.push(l),r}t.toPath=e})(Mx)),Mx}var Rj;function nE(){return Rj||(Rj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aQ(),n=B3(),r=z3(),i=tE();function a(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return f;const p=u[d];return p===void 0?n.isDeepKey(d)?a(u,i.toPath(d),f):f:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=u[d];return p===void 0?f:p}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return f;const p=u[d];return p===void 0?f:p}}}function l(u,d,f){if(d.length===0)return f;let p=u;for(let g=0;g<d.length;g++){if(p==null||e.isUnsafeProperty(d[g]))return f;p=p[d[g]]}return p===void 0?f:p}t.get=a})(Ix)),Ix}var Lx,kj;function sQ(){return kj||(kj=1,Lx=nE().get),Lx}var oQ=sQ();const Ac=Qs(oQ);var Vx={exports:{}},St={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dj;function lQ(){if(Dj)return St;Dj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function A(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case n:case i:case r:case d:case f:case b:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case g:case p:return E;case a:return E;default:return S}}case e:return S}}}return St.ContextConsumer=a,St.ContextProvider=l,St.Element=t,St.ForwardRef=u,St.Fragment=n,St.Lazy=g,St.Memo=p,St.Portal=e,St.Profiler=i,St.StrictMode=r,St.Suspense=d,St.SuspenseList=f,St.isContextConsumer=function(E){return A(E)===a},St.isContextProvider=function(E){return A(E)===l},St.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},St.isForwardRef=function(E){return A(E)===u},St.isFragment=function(E){return A(E)===n},St.isLazy=function(E){return A(E)===g},St.isMemo=function(E){return A(E)===p},St.isPortal=function(E){return A(E)===e},St.isProfiler=function(E){return A(E)===i},St.isStrictMode=function(E){return A(E)===r},St.isSuspense=function(E){return A(E)===d},St.isSuspenseList=function(E){return A(E)===f},St.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===l||E.$$typeof===a||E.$$typeof===u||E.$$typeof===x||E.getModuleId!==void 0)},St.typeOf=A,St}var Mj;function cQ(){return Mj||(Mj=1,Vx.exports=lQ()),Vx.exports}var uQ=cQ(),Wn=t=>t===0?0:t>0?1:-1,Hr=t=>typeof t=="number"&&t!=+t,lc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Pe=t=>(typeof t=="number"||t instanceof Number)&&!Hr(t),Wa=t=>Pe(t)||typeof t=="string",dQ=0,Ah=t=>{var e=++dQ;return"".concat(t||"").concat(e)},vr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(e)&&typeof e!="string")return r;var a;if(lc(e)){if(n==null)return r;var l=e.indexOf("%");a=n*parseFloat(e.slice(0,l))/100}else a=+e;return Hr(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},$3=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Tt(t,e,n){return Pe(t)&&Pe(e)?t+n*(e-t):e}function F3(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Ac(r,e))===n)}var zt=t=>t===null||typeof t>"u",tm=t=>zt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),fQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function rE(t){if(typeof t!="string")return!1;var e=fQ;return e.includes(t)}var hQ=["viewBox","children"],Lj=["points","pathLength"],Ux={svg:hQ,polygon:Lj,polyline:Lj},iE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{rE(i)&&(r[i]=(a=>n[i](n,a)))}),r},mQ=(t,e,n)=>r=>(t(e,n,r),null),nm=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];rE(i)&&typeof a=="function"&&(r||(r={}),r[i]=mQ(a,e,n))}),r},pQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function q3(t){if(typeof t!="string")return!1;var e=pQ;return e.includes(t)}function Hi(t){var e=Object.entries(t).filter(n=>{var[r]=n;return q3(r)});return Object.fromEntries(e)}var Vj=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",Uj=null,Bx=null,H3=t=>{if(t===Uj&&Array.isArray(Bx))return Bx;var e=[];return _.Children.forEach(t,n=>{zt(n)||(uQ.isFragment(n)?e=e.concat(H3(n.props.children)):e.push(n))}),Bx=e,Uj=t,e};function aE(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>Vj(i)):r=[Vj(e)],H3(t).forEach(i=>{var a=Ac(i,"type.displayName")||Ac(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var Tv=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,gQ=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&Ux?.[r])!==null&&i!==void 0?i:[],l=e.startsWith("data-"),u=typeof t!="function"&&(!!r&&a.includes(e)||q3(e)),d=!!n&&rE(e);return l||u||d},$t=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(_.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var l;gQ((l=r)===null||l===void 0?void 0:l[a],a,e,n)&&(i[a]=r[a])}),i},yQ=["children","width","height","viewBox","className","style","title","desc"];function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(null,arguments)}function vQ(t,e){if(t==null)return{};var n,r,i=bQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sE=_.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:d,desc:f}=t,p=vQ(t,yQ),g=a||{width:r,height:i,x:0,y:0},b=ot("recharts-surface",l);return _.createElement("svg",B1({},$t(p,!0,"svg"),{className:b,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),_.createElement("title",null,d),_.createElement("desc",null,f),n)}),xQ=["children","className"];function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1.apply(null,arguments)}function wQ(t,e){if(t==null)return{};var n,r,i=_Q(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _Q(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cn=_.forwardRef((t,e)=>{var{children:n,className:r}=t,i=wQ(t,xQ),a=ot("recharts-layer",r);return _.createElement("g",z1({className:a},$t(i,!0),{ref:e}),n)}),K3=_.createContext(null),EQ=()=>_.useContext(K3);function Rt(t){return function(){return t}}const G3=Math.cos,iy=Math.sin,ba=Math.sqrt,ay=Math.PI,Cv=2*ay,$1=Math.PI,F1=2*$1,nc=1e-6,AQ=F1-nc;function W3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function SQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return W3;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class TQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?W3:SQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,d=r-e,f=i-n,p=l-e,g=u-n,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>nc)if(!(Math.abs(g*d-f*p)>nc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-l,A=i-u,E=d*d+f*f,S=x*x+A*A,C=Math.sqrt(E),P=Math.sqrt(b),N=a*Math.tan(($1-Math.acos((E+b-S)/(2*C*P)))/2),L=N/P,M=N/C;Math.abs(L-1)>nc&&this._append`L${e+L*p},${n+L*g}`,this._append`A${a},${a},0,0,${+(g*x>p*A)},${this._x1=e+M*d},${this._y1=n+M*f}`}}arc(e,n,r,i,a,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),f=e+u,p=n+d,g=1^l,b=l?i-a:a-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>nc||Math.abs(this._y1-p)>nc)&&this._append`L${f},${p}`,r&&(b<0&&(b=b%F1+F1),b>AQ?this._append`A${r},${r},0,1,${g},${e-u},${n-d}A${r},${r},0,1,${g},${this._x1=f},${this._y1=p}`:b>nc&&this._append`A${r},${r},0,${+(b>=$1)},${g},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function oE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new TQ(e)}function lE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Y3(t){this._context=t}Y3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Nv(t){return new Y3(t)}function X3(t){return t[0]}function Q3(t){return t[1]}function Z3(t,e){var n=Rt(!0),r=null,i=Nv,a=null,l=oE(u);t=typeof t=="function"?t:t===void 0?X3:Rt(t),e=typeof e=="function"?e:e===void 0?Q3:Rt(e);function u(d){var f,p=(d=lE(d)).length,g,b=!1,x;for(r==null&&(a=i(x=l())),f=0;f<=p;++f)!(f<p&&n(g=d[f],f,d))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+t(g,f,d),+e(g,f,d));if(x)return a=null,x+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Rt(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Rt(+d),u):e},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Rt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),u):r},u}function Gp(t,e,n){var r=null,i=Rt(!0),a=null,l=Nv,u=null,d=oE(f);t=typeof t=="function"?t:t===void 0?X3:Rt(+t),e=typeof e=="function"?e:Rt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Q3:Rt(+n);function f(g){var b,x,A,E=(g=lE(g)).length,S,C=!1,P,N=new Array(E),L=new Array(E);for(a==null&&(u=l(P=d())),b=0;b<=E;++b){if(!(b<E&&i(S=g[b],b,g))===C)if(C=!C)x=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=b-1;A>=x;--A)u.point(N[A],L[A]);u.lineEnd(),u.areaEnd()}C&&(N[b]=+t(S,b,g),L[b]=+e(S,b,g),u.point(r?+r(S,b,g):N[b],n?+n(S,b,g):L[b]))}if(P)return u=null,P+""||null}function p(){return Z3().defined(i).curve(l).context(a)}return f.x=function(g){return arguments.length?(t=typeof g=="function"?g:Rt(+g),r=null,f):t},f.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Rt(+g),f):t},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Rt(+g),f):r},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:Rt(+g),n=null,f):e},f.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Rt(+g),f):e},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Rt(+g),f):n},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(n)},f.lineX1=function(){return p().x(r).y(e)},f.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Rt(!!g),f):i},f.curve=function(g){return arguments.length?(l=g,a!=null&&(u=l(a)),f):l},f.context=function(g){return arguments.length?(g==null?a=u=null:u=l(a=g),f):a},f}class J3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function CQ(t){return new J3(t,!0)}function NQ(t){return new J3(t,!1)}const cE={draw(t,e){const n=ba(e/ay);t.moveTo(n,0),t.arc(0,0,n,0,Cv)}},PQ={draw(t,e){const n=ba(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},e6=ba(1/3),jQ=e6*2,OQ={draw(t,e){const n=ba(e/jQ),r=n*e6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},IQ={draw(t,e){const n=ba(e),r=-n/2;t.rect(r,r,n,n)}},RQ=.8908130915292852,t6=iy(ay/10)/iy(7*ay/10),kQ=iy(Cv/10)*t6,DQ=-G3(Cv/10)*t6,MQ={draw(t,e){const n=ba(e*RQ),r=kQ*n,i=DQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const l=Cv*a/5,u=G3(l),d=iy(l);t.lineTo(d*n,-u*n),t.lineTo(u*r-d*i,d*r+u*i)}t.closePath()}},zx=ba(3),LQ={draw(t,e){const n=-ba(e/(zx*3));t.moveTo(0,n*2),t.lineTo(-zx*n,-n),t.lineTo(zx*n,-n),t.closePath()}},Oi=-.5,Ii=ba(3)/2,q1=1/ba(12),VQ=(q1/2+1)*3,UQ={draw(t,e){const n=ba(e/VQ),r=n/2,i=n*q1,a=r,l=n*q1+n,u=-a,d=l;t.moveTo(r,i),t.lineTo(a,l),t.lineTo(u,d),t.lineTo(Oi*r-Ii*i,Ii*r+Oi*i),t.lineTo(Oi*a-Ii*l,Ii*a+Oi*l),t.lineTo(Oi*u-Ii*d,Ii*u+Oi*d),t.lineTo(Oi*r+Ii*i,Oi*i-Ii*r),t.lineTo(Oi*a+Ii*l,Oi*l-Ii*a),t.lineTo(Oi*u+Ii*d,Oi*d-Ii*u),t.closePath()}};function BQ(t,e){let n=null,r=oE(i);t=typeof t=="function"?t:Rt(t||cE),e=typeof e=="function"?e:Rt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Rt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Rt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function sy(){}function oy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function n6(t){this._context=t}n6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:oy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:oy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zQ(t){return new n6(t)}function r6(t){this._context=t}r6.prototype={areaStart:sy,areaEnd:sy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:oy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $Q(t){return new r6(t)}function i6(t){this._context=t}i6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:oy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function FQ(t){return new i6(t)}function a6(t){this._context=t}a6.prototype={areaStart:sy,areaEnd:sy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function qQ(t){return new a6(t)}function Bj(t){return t<0?-1:1}function zj(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(Bj(a)+Bj(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function $j(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function $x(t,e,n){var r=t._x0,i=t._y0,a=t._x1,l=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,l-u*n,a,l)}function ly(t){this._context=t}ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$x(this,this._t0,$j(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$x(this,$j(this,n=zj(this,t,e)),n);break;default:$x(this,this._t0,n=zj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function s6(t){this._context=new o6(t)}(s6.prototype=Object.create(ly.prototype)).point=function(t,e){ly.prototype.point.call(this,e,t)};function o6(t){this._context=t}o6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function HQ(t){return new ly(t)}function KQ(t){return new s6(t)}function l6(t){this._context=t}l6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Fj(t),i=Fj(e),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Fj(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function GQ(t){return new l6(t)}function Pv(t,e){this._context=t,this._t=e}Pv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function WQ(t){return new Pv(t,.5)}function YQ(t){return new Pv(t,0)}function XQ(t){return new Pv(t,1)}function rd(t,e){if((l=t.length)>1)for(var n=1,r,i,a=t[e[0]],l,u=a.length;n<l;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function H1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function QQ(t,e){return t[e]}function ZQ(t){const e=[];return e.key=t,e}function JQ(){var t=Rt([]),e=H1,n=rd,r=QQ;function i(a){var l=Array.from(t.apply(this,arguments),ZQ),u,d=l.length,f=-1,p;for(const g of a)for(u=0,++f;u<d;++u)(l[u][f]=[0,+r(g,l[u].key,f,a)]).data=g;for(u=0,p=lE(e(l));u<d;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Rt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Rt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?H1:typeof a=="function"?a:Rt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??rd,i):n},i}function eZ(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}rd(t,e)}}function tZ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}rd(t,e)}}function nZ(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,d=0,f=0;u<l;++u){for(var p=t[e[u]],g=p[r][1]||0,b=p[r-1][1]||0,x=(g-b)/2,A=0;A<u;++A){var E=t[e[A]],S=E[r][1]||0,C=E[r-1][1]||0;x+=S-C}d+=g,f+=x*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,rd(t,e)}}var rZ=["type","size","sizeType"];function K1(){return K1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K1.apply(null,arguments)}function qj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qj(Object(n),!0).forEach(function(r){iZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iZ(t,e,n){return(e=aZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aZ(t){var e=sZ(t,"string");return typeof e=="symbol"?e:e+""}function sZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oZ(t,e){if(t==null)return{};var n,r,i=lZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var c6={symbolCircle:cE,symbolCross:PQ,symbolDiamond:OQ,symbolSquare:IQ,symbolStar:MQ,symbolTriangle:LQ,symbolWye:UQ},cZ=Math.PI/180,uZ=t=>{var e="symbol".concat(tm(t));return c6[e]||cE},dZ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*cZ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},fZ=(t,e)=>{c6["symbol".concat(tm(t))]=e},uE=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=oZ(t,rZ),a=Hj(Hj({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var b=uZ(l),x=BQ().type(b).size(dZ(n,r,l));return x()},{className:d,cx:f,cy:p}=a,g=$t(a,!0);return f===+f&&p===+p&&n===+n?_.createElement("path",K1({},g,{className:ot("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:u()})):null};uE.registerSymbol=fZ;function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G1.apply(null,arguments)}function Kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(n),!0).forEach(function(r){dE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dE(t,e,n){return(e=mZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mZ(t){var e=pZ(t,"string");return typeof e=="symbol"?e:e+""}function pZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ri=32;class fE extends _.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Ri/2,a=Ri/6,l=Ri/3,u=e.inactive?r:e.color,d=n??e.type;if(d==="none")return null;if(d==="plainline")return _.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Ri,y2:i,className:"recharts-legend-icon"});if(d==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ri,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return _.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Ri/8,"h").concat(Ri,"v").concat(Ri*3/4,"h").concat(-Ri,"z"),className:"recharts-legend-icon"});if(_.isValidElement(e.legendIcon)){var f=hZ({},e);return delete f.legendIcon,_.cloneElement(e.legendIcon,f)}return _.createElement(uE,{fill:u,cx:i,cy:i,size:Ri,sizeType:"diameter",type:d})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=this.props,u={x:0,y:0,width:Ri,height:Ri},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,g)=>{var b=p.formatter||i,x=ot({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var A=p.inactive?a:p.color,E=b?b(p.value,p,g):p.value;return _.createElement("li",G1({className:x,style:d,key:"legend-item-".concat(g)},nm(this.props,p,g)),_.createElement(sE,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(E," legend icon")},this.renderIcon(p,l)),_.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},E))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}dE(fE,"displayName","Legend");dE(fE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Fx={},qx={},Gj;function gZ(){return Gj||(Gj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(qx)),qx}var Hx={},Wj;function u6(){return Wj||(Wj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Hx)),Hx}var Kx={},Gx={},Wx={},Yj;function yZ(){return Yj||(Yj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Wx)),Wx}var Xj;function hE(){return Xj||(Xj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yZ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Gx)),Gx}var Yx={},Qj;function vZ(){return Qj||(Qj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Yx)),Yx}var Zj;function bZ(){return Zj||(Zj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hE(),n=vZ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Kx)),Kx}var Xx={},Qx={},Jj;function xZ(){return Jj||(Jj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Qx)),Qx}var Zx={},Jx={},ew={},tw={},eO;function d6(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(tw)),tw}var nw={},tO;function f6(){return tO||(tO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(nw)),nw}var rw={},nO;function h6(){return nO||(nO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(rw)),rw}var rO;function wZ(){return rO||(rO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mE(),n=d6(),r=f6(),i=h6();function a(g,b,x){return typeof x!="function"?e.isMatch(g,b):l(g,b,function A(E,S,C,P,N,L){const M=x(E,S,C,P,N,L);return M!==void 0?!!M:l(E,S,A,L)},new Map)}function l(g,b,x,A){if(b===g)return!0;switch(typeof b){case"object":return u(g,b,x,A);case"function":return Object.keys(b).length>0?l(g,{...b},x,A):i.eq(g,b);default:return n.isObject(g)?typeof b=="string"?b==="":!0:i.eq(g,b)}}function u(g,b,x,A){if(b==null)return!0;if(Array.isArray(b))return f(g,b,x,A);if(b instanceof Map)return d(g,b,x,A);if(b instanceof Set)return p(g,b,x,A);const E=Object.keys(b);if(g==null)return E.length===0;if(E.length===0)return!0;if(A&&A.has(b))return A.get(b)===g;A&&A.set(b,g);try{for(let S=0;S<E.length;S++){const C=E[S];if(!r.isPrimitive(g)&&!(C in g)||b[C]===void 0&&g[C]!==void 0||b[C]===null&&g[C]!==null||!x(g[C],b[C],C,g,b,A))return!1}return!0}finally{A&&A.delete(b)}}function d(g,b,x,A){if(b.size===0)return!0;if(!(g instanceof Map))return!1;for(const[E,S]of b.entries()){const C=g.get(E);if(x(C,S,E,g,b,A)===!1)return!1}return!0}function f(g,b,x,A){if(b.length===0)return!0;if(!Array.isArray(g))return!1;const E=new Set;for(let S=0;S<b.length;S++){const C=b[S];let P=!1;for(let N=0;N<g.length;N++){if(E.has(N))continue;const L=g[N];let M=!1;if(x(L,C,S,g,b,A)&&(M=!0),M){E.add(N),P=!0;break}}if(!P)return!1}return!0}function p(g,b,x,A){return b.size===0?!0:g instanceof Set?f([...g],[...b],x,A):!1}t.isMatchWith=a,t.isSetMatch=p})(ew)),ew}var iO;function mE(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wZ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Jx)),Jx}var iw={},aw={},sw={},aO;function _Z(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(sw)),sw}var ow={},sO;function m6(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(ow)),ow}var lw={},oO;function p6(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",p="[object Array]",g="[object Function]",b="[object ArrayBuffer]",x="[object Object]",A="[object Error]",E="[object DataView]",S="[object Uint8Array]",C="[object Uint8ClampedArray]",P="[object Uint16Array]",N="[object Uint32Array]",L="[object BigUint64Array]",M="[object Int8Array]",U="[object Int16Array]",R="[object Int32Array]",I="[object BigInt64Array]",k="[object Float32Array]",$="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=L,t.booleanTag=i,t.dataViewTag=E,t.dateTag=u,t.errorTag=A,t.float32ArrayTag=k,t.float64ArrayTag=$,t.functionTag=g,t.int16ArrayTag=U,t.int32ArrayTag=R,t.int8ArrayTag=M,t.mapTag=d,t.numberTag=r,t.objectTag=x,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=P,t.uint32ArrayTag=N,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=C})(lw)),lw}var cw={},lO;function EZ(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(cw)),cw}var cO;function g6(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_Z(),n=m6(),r=p6(),i=f6(),a=EZ();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,b,x=new Map,A=void 0){const E=A?.(p,g,b,x);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(x.has(p))return x.get(p);if(Array.isArray(p)){const S=new Array(p.length);x.set(p,S);for(let C=0;C<p.length;C++)S[C]=u(p[C],C,b,x,A);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;x.set(p,S);for(const[C,P]of p)S.set(C,u(P,C,b,x,A));return S}if(p instanceof Set){const S=new Set;x.set(p,S);for(const C of p)S.add(u(C,void 0,b,x,A));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(a.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);x.set(p,S);for(let C=0;C<p.length;C++)S[C]=u(p[C],C,b,x,A);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return x.set(p,S),d(S,p,b,x,A),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return x.set(p,S),d(S,p,b,x,A),S}if(p instanceof Blob){const S=new Blob([p],{type:p.type});return x.set(p,S),d(S,p,b,x,A),S}if(p instanceof Error){const S=new p.constructor;return x.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,d(S,p,b,x,A),S}if(typeof p=="object"&&f(p)){const S=Object.create(Object.getPrototypeOf(p));return x.set(p,S),d(S,p,b,x,A),S}return p}function d(p,g,b=p,x,A){const E=[...Object.keys(g),...e.getSymbols(g)];for(let S=0;S<E.length;S++){const C=E[S],P=Object.getOwnPropertyDescriptor(p,C);(P==null||P.writable)&&(p[C]=u(g[C],C,b,x,A))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=d})(aw)),aw}var uO;function AZ(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(iw)),iw}var dO;function SZ(){return dO||(dO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mE(),n=AZ();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(Zx)),Zx}var uw={},dw={},fw={},fO;function TZ(){return fO||(fO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g6(),n=p6();function r(i,a){return e.cloneDeepWith(i,(l,u,d,f)=>{const p=a?.(l,u,d,f);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(fw)),fw}var hO;function CZ(){return hO||(hO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TZ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(dw)),dw}var hw={},mw={},mO;function y6(){return mO||(mO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(mw)),mw}var pw={},pO;function NZ(){return pO||(pO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m6();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(pw)),pw}var gO;function PZ(){return gO||(gO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B3(),n=y6(),r=NZ(),i=tE();function a(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?d=i.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let p=0;p<d.length;p++){const g=d[p];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}t.has=a})(hw)),hw}var yO;function jZ(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mE(),n=z3(),r=CZ(),i=nE(),a=PZ();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(f){const p=i.get(f,u);return p===void 0?a.has(f,u):d===void 0?p===void 0:e.isMatch(p,d)}}t.matchesProperty=l})(uw)),uw}var vO;function OZ(){return vO||(vO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u6(),n=xZ(),r=SZ(),i=jZ();function a(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=a})(Xx)),Xx}var bO;function IZ(){return bO||(bO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gZ(),n=u6(),r=bZ(),i=OZ();function a(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=a})(Fx)),Fx}var gw,xO;function RZ(){return xO||(xO=1,gw=IZ().uniqBy),gw}var kZ=RZ();const wO=Qs(kZ);function v6(t,e,n){return e===!0?wO(t,n):typeof e=="function"?wO(t,e):t}var yw={exports:{}},vw={},bw={exports:{}},xw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _O;function DZ(){if(_O)return xw;_O=1;var t=fd();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function u(g,b){var x=b(),A=r({inst:{value:x,getSnapshot:b}}),E=A[0].inst,S=A[1];return a(function(){E.value=x,E.getSnapshot=b,d(E)&&S({inst:E})},[g,x,b]),i(function(){return d(E)&&S({inst:E}),g(function(){d(E)&&S({inst:E})})},[g]),l(x),x}function d(g){var b=g.getSnapshot;g=g.value;try{var x=b();return!n(g,x)}catch{return!0}}function f(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return xw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,xw}var EO;function MZ(){return EO||(EO=1,bw.exports=DZ()),bw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AO;function LZ(){if(AO)return vw;AO=1;var t=fd(),e=MZ();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return vw.useSyncExternalStoreWithSelector=function(f,p,g,b,x){var A=a(null);if(A.current===null){var E={hasValue:!1,value:null};A.current=E}else E=A.current;A=u(function(){function C(U){if(!P){if(P=!0,N=U,U=b(U),x!==void 0&&E.hasValue){var R=E.value;if(x(R,U))return L=R}return L=U}if(R=L,r(N,U))return R;var I=b(U);return x!==void 0&&x(R,I)?(N=U,R):(N=U,L=I)}var P=!1,N,L,M=g===void 0?null:g;return[function(){return C(p())},M===null?void 0:function(){return C(M())}]},[p,g,b,x]);var S=i(f,A[0],A[1]);return l(function(){E.hasValue=!0,E.value=S},[S]),d(S),S},vw}var SO;function VZ(){return SO||(SO=1,yw.exports=LZ()),yw.exports}var UZ=VZ(),pE=_.createContext(null),BZ=t=>t,an=()=>{var t=_.useContext(pE);return t?t.store.dispatch:BZ},_g=()=>{},zZ=()=>_g,$Z=(t,e)=>t===e;function Ne(t){var e=_.useContext(pE);return UZ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:zZ,e?e.store.getState:_g,e?e.store.getState:_g,e?t:_g,$Z)}function FZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function qZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function HZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var TO=t=>Array.isArray(t)?t:[t];function KZ(t){const e=Array.isArray(t[0])?t[0]:t;return HZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function GZ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var WZ=class{constructor(t){this.value=t}deref(){return this.value}},YZ=typeof WeakRef<"u"?WeakRef:WZ,XZ=0,CO=1;function Wp(){return{s:XZ,v:void 0,o:null,p:null}}function b6(t,e={}){let n=Wp();const{resultEqualityCheck:r}=e;let i,a=0;function l(){let u=n;const{length:d}=arguments;for(let g=0,b=d;g<b;g++){const x=arguments[g];if(typeof x=="function"||typeof x=="object"&&x!==null){let A=u.o;A===null&&(u.o=A=new WeakMap);const E=A.get(x);E===void 0?(u=Wp(),A.set(x,u)):u=E}else{let A=u.p;A===null&&(u.p=A=new Map);const E=A.get(x);E===void 0?(u=Wp(),A.set(x,u)):u=E}}const f=u;let p;if(u.s===CO)p=u.v;else if(p=t.apply(null,arguments),a++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,a!==0&&a--),i=typeof p=="object"&&p!==null||typeof p=="function"?new YZ(p):p}return f.s=CO,f.v=p,p}return l.clearCache=()=>{n=Wp(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function QZ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,l=0,u,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),FZ(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...d},{memoize:g,memoizeOptions:b=[],argsMemoize:x=b6,argsMemoizeOptions:A=[]}=p,E=TO(b),S=TO(A),C=KZ(i),P=g(function(){return a++,f.apply(null,arguments)},...E),N=x(function(){l++;const M=GZ(C,arguments);return u=P.apply(null,M),u},...S);return Object.assign(N,{resultFunc:f,memoizedResultFunc:P,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var ee=QZ(b6),ZZ=Object.assign((t,e=ee)=>{qZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>ZZ}),ww={},_w={},Ew={},NO;function JZ(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};t.compareValues=n})(Ew)),Ew}var Aw={},Sw={},PO;function x6(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Sw)),Sw}var jO;function eJ(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}t.isKey=i})(Aw)),Aw}var OO;function tJ(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JZ(),n=eJ(),r=tE();function i(a,l,u,d){if(a==null)return[];u=d?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const f=(x,A)=>{let E=x;for(let S=0;S<A.length&&E!=null;++S)E=E[A[S]];return E},p=(x,A)=>A==null||x==null?A:typeof x=="object"&&"key"in x?Object.hasOwn(A,x.key)?A[x.key]:f(A,x.path):typeof x=="function"?x(A):Array.isArray(x)?f(A,x):typeof A=="object"?A[x]:A,g=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return a.map(x=>({original:x,criteria:g.map(A=>p(A,x))})).slice().sort((x,A)=>{for(let E=0;E<g.length;E++){const S=e.compareValues(x.criteria[E],A.criteria[E],u[E]);if(S!==0)return S}return 0}).map(x=>x.original)}t.orderBy=i})(_w)),_w}var Tw={},IO;function nJ(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),l=(u,d)=>{for(let f=0;f<u.length;f++){const p=u[f];Array.isArray(p)&&d<a?l(p,d+1):i.push(p)}};return l(n,0),i}t.flatten=e})(Tw)),Tw}var Cw={},RO;function w6(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y6(),n=hE(),r=d6(),i=h6();function a(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&e.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}t.isIterateeCall=a})(Cw)),Cw}var kO;function rJ(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tJ(),n=nJ(),r=w6();function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(a,n.flatten(l),["asc"])}t.sortBy=i})(ww)),ww}var Nw,DO;function iJ(){return DO||(DO=1,Nw=rJ().sortBy),Nw}var aJ=iJ();const jv=Qs(aJ);var _6=t=>t.legend.settings,sJ=t=>t.legend.size,oJ=t=>t.legend.payload,lJ=ee([oJ,_6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?jv(r,n):r});function cJ(){return Ne(lJ)}var Yp=1;function E6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-e.height)>Yp||Math.abs(l.left-e.left)>Yp||Math.abs(l.top-e.top)>Yp||Math.abs(l.width-e.width)>Yp)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function nr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var uJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",MO=uJ,Pw=()=>Math.random().toString(36).substring(7).split("").join("."),dJ={INIT:`@@redux/INIT${Pw()}`,REPLACE:`@@redux/REPLACE${Pw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Pw()}`},cy=dJ;function gE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function A6(t,e,n){if(typeof t!="function")throw new Error(nr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nr(1));return n(A6)(t,e)}let r=t,i=e,a=new Map,l=a,u=0,d=!1;function f(){l===a&&(l=new Map,a.forEach((S,C)=>{l.set(C,S)}))}function p(){if(d)throw new Error(nr(3));return i}function g(S){if(typeof S!="function")throw new Error(nr(4));if(d)throw new Error(nr(5));let C=!0;f();const P=u++;return l.set(P,S),function(){if(C){if(d)throw new Error(nr(6));C=!1,f(),l.delete(P),a=null}}}function b(S){if(!gE(S))throw new Error(nr(7));if(typeof S.type>"u")throw new Error(nr(8));if(typeof S.type!="string")throw new Error(nr(17));if(d)throw new Error(nr(9));try{d=!0,i=r(i,S)}finally{d=!1}return(a=l).forEach(P=>{P()}),S}function x(S){if(typeof S!="function")throw new Error(nr(10));r=S,b({type:cy.REPLACE})}function A(){const S=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(nr(11));function P(){const L=C;L.next&&L.next(p())}return P(),{unsubscribe:S(P)}},[MO](){return this}}}return b({type:cy.INIT}),{dispatch:b,subscribe:g,getState:p,replaceReducer:x,[MO]:A}}function fJ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:cy.INIT})>"u")throw new Error(nr(12));if(typeof n(void 0,{type:cy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nr(13))})}function S6(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{fJ(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let d=!1;const f={};for(let p=0;p<r.length;p++){const g=r[p],b=n[g],x=l[g],A=b(x,u);if(typeof A>"u")throw u&&u.type,new Error(nr(14));f[g]=A,d=d||A!==x}return d=d||r.length!==Object.keys(l).length,d?f:l}}function uy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function hJ(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(nr(15))};const l={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},u=t.map(d=>d(l));return a=uy(...u)(i.dispatch),{...i,dispatch:a}}}function T6(t){return gE(t)&&"type"in t&&typeof t.type=="string"}var C6=Symbol.for("immer-nothing"),LO=Symbol.for("immer-draftable"),di=Symbol.for("immer-state");function sa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var id=Object.getPrototypeOf;function Sc(t){return!!t&&!!t[di]}function Gs(t){return t?N6(t)||Array.isArray(t)||!!t[LO]||!!t.constructor?.[LO]||rm(t)||Iv(t):!1}var mJ=Object.prototype.constructor.toString();function N6(t){if(!t||typeof t!="object")return!1;const e=id(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===mJ}function dy(t,e){Ov(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Ov(t){const e=t[di];return e?e.type_:Array.isArray(t)?1:rm(t)?2:Iv(t)?3:0}function W1(t,e){return Ov(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function P6(t,e,n){const r=Ov(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function pJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function rm(t){return t instanceof Map}function Iv(t){return t instanceof Set}function rc(t){return t.copy_||t.base_}function Y1(t,e){if(rm(t))return new Map(t);if(Iv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=N6(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[di];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(id(t),r)}else{const r=id(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function yE(t,e=!1){return Rv(t)||Sc(t)||!Gs(t)||(Ov(t)>1&&Object.defineProperties(t,{set:{value:Xp},add:{value:Xp},clear:{value:Xp},delete:{value:Xp}}),Object.freeze(t),e&&Object.values(t).forEach(n=>yE(n,!0))),t}function Xp(){sa(2)}function Rv(t){return Object.isFrozen(t)}var gJ={};function Tc(t){const e=gJ[t];return e||sa(0,t),e}var Sh;function j6(){return Sh}function yJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function VO(t,e){e&&(Tc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function X1(t){Q1(t),t.drafts_.forEach(vJ),t.drafts_=null}function Q1(t){t===Sh&&(Sh=t.parent_)}function UO(t){return Sh=yJ(Sh,t)}function vJ(t){const e=t[di];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function BO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[di].modified_&&(X1(e),sa(4)),Gs(t)&&(t=fy(e,t),e.parent_||hy(e,t)),e.patches_&&Tc("Patches").generateReplacementPatches_(n[di].base_,t,e.patches_,e.inversePatches_)):t=fy(e,n,[]),X1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==C6?t:void 0}function fy(t,e,n){if(Rv(e))return e;const r=e[di];if(!r)return dy(e,(i,a)=>zO(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return hy(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,l=!1;r.type_===3&&(a=new Set(i),i.clear(),l=!0),dy(a,(u,d)=>zO(t,r,i,u,d,n,l)),hy(t,i,!1),n&&t.patches_&&Tc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function zO(t,e,n,r,i,a,l){if(Sc(i)){const u=a&&e&&e.type_!==3&&!W1(e.assigned_,r)?a.concat(r):void 0,d=fy(t,i,u);if(P6(n,r,d),Sc(d))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Gs(i)&&!Rv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;fy(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(rm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&hy(t,i)}}function hy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&yE(e,n)}function bJ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:j6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=vE;n&&(i=[r],a=Th);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var vE={get(t,e){if(e===di)return t;const n=rc(t);if(!W1(n,e))return xJ(t,n,e);const r=n[e];return t.finalized_||!Gs(r)?r:r===jw(t.base_,e)?(Ow(t),t.copy_[e]=J1(r,t)):r},has(t,e){return e in rc(t)},ownKeys(t){return Reflect.ownKeys(rc(t))},set(t,e,n){const r=O6(rc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=jw(rc(t),e),a=i?.[di];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(pJ(n,i)&&(n!==void 0||W1(t.base_,e)))return!0;Ow(t),Z1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return jw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Ow(t),Z1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=rc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){sa(11)},getPrototypeOf(t){return id(t.base_)},setPrototypeOf(){sa(12)}},Th={};dy(vE,(t,e)=>{Th[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Th.deleteProperty=function(t,e){return Th.set.call(this,t,e,void 0)};Th.set=function(t,e,n){return vE.set.call(this,t[0],e,n,t[0])};function jw(t,e){const n=t[di];return(n?rc(n):t)[e]}function xJ(t,e,n){const r=O6(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function O6(t,e){if(!(e in t))return;let n=id(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=id(n)}}function Z1(t){t.modified_||(t.modified_=!0,t.parent_&&Z1(t.parent_))}function Ow(t){t.copy_||(t.copy_=Y1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var wJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const l=this;return function(d=a,...f){return l.produce(d,p=>n.call(this,p,...f))}}typeof n!="function"&&sa(6),r!==void 0&&typeof r!="function"&&sa(7);let i;if(Gs(e)){const a=UO(this),l=J1(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?X1(a):Q1(a)}return VO(a,r),BO(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===C6&&(i=void 0),this.autoFreeze_&&yE(i,!0),r){const a=[],l=[];Tc("Patches").generateReplacementPatches_(e,i,a,l),r(a,l)}return i}else sa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,d=>e(d,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Gs(t)||sa(8),Sc(t)&&(t=Ls(t));const e=UO(this),n=J1(t,void 0);return n[di].isManual_=!0,Q1(e),n}finishDraft(t,e){const n=t&&t[di];(!n||!n.isManual_)&&sa(9);const{scope_:r}=n;return VO(r,e),BO(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Tc("Patches").applyPatches_;return Sc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function J1(t,e){const n=rm(t)?Tc("MapSet").proxyMap_(t,e):Iv(t)?Tc("MapSet").proxySet_(t,e):bJ(t,e);return(e?e.scope_:j6()).drafts_.push(n),n}function Ls(t){return Sc(t)||sa(10,t),I6(t)}function I6(t){if(!Gs(t)||Rv(t))return t;const e=t[di];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Y1(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Y1(t,!0);return dy(n,(r,i)=>{P6(n,r,I6(i))}),e&&(e.finalized_=!1),n}var _J=new wJ,R6=_J.produce;function k6(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var EJ=k6(),AJ=k6,SJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?uy:uy.apply(null,arguments)};function $i(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ci(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>T6(r)&&r.type===t,n}var D6=class ah extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ah.prototype)}static get[Symbol.species](){return ah}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ah(...e[0].concat(this)):new ah(...e.concat(this))}};function $O(t){return Gs(t)?R6(t,()=>{}):t}function Qp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function TJ(t){return typeof t=="boolean"}var CJ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new D6;return n&&(TJ(n)?l.push(EJ):l.push(AJ(n.extraArgument))),l},NJ="RTK_autoBatch",FO=t=>e=>{setTimeout(e,t)},PJ=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,l=!1;const u=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:FO(10):t.type==="callback"?t.queueNotification:FO(t.timeout),f=()=>{l=!1,a&&(a=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),b=r.subscribe(g);return u.add(p),()=>{b(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[NJ],a=!i,a&&(l||(l=!0,d(f))),r.dispatch(p)}finally{i=!0}}})},jJ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new D6(t);return r&&i.push(PJ(typeof r=="object"?r:void 0)),i};function OJ(t){const e=CJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(gE(n))u=S6(n);else throw new Error(ci(1));let d;typeof r=="function"?d=r(e):d=e();let f=uy;i&&(f=SJ({trace:!1,...typeof i=="object"&&i}));const p=hJ(...d),g=jJ(p);let b=typeof l=="function"?l(g):g();const x=f(...b);return A6(u,a,x)}function M6(t){const e={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(ci(28));if(u in e)throw new Error(ci(29));return e[u]=l,i},addAsyncThunk(a,l){return l.pending&&(e[a.pending.type]=l.pending),l.rejected&&(e[a.rejected.type]=l.rejected),l.fulfilled&&(e[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function IJ(t){return typeof t=="function"}function RJ(t,e){let[n,r,i]=M6(e),a;if(IJ(t))a=()=>$O(t());else{const u=$O(t);a=()=>u}function l(u=a(),d){let f=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[i]),f.reduce((p,g)=>{if(g)if(Sc(p)){const x=g(p,d);return x===void 0?p:x}else{if(Gs(p))return R6(p,b=>g(b,d));{const b=g(p,d);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},u)}return l.getInitialState=a,l}var kJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",DJ=(t=21)=>{let e="",n=t;for(;n--;)e+=kJ[Math.random()*64|0];return e},MJ=Symbol.for("rtk-slice-createasyncthunk");function LJ(t,e){return`${t}/${e}`}function VJ({creators:t}={}){const e=t?.asyncThunk?.[MJ];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(ci(11));const l=(typeof r.reducers=="function"?r.reducers(BJ()):r.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(N,L){const M=typeof N=="string"?N:N.type;if(!M)throw new Error(ci(12));if(M in d.sliceCaseReducersByType)throw new Error(ci(13));return d.sliceCaseReducersByType[M]=L,f},addMatcher(N,L){return d.sliceMatchers.push({matcher:N,reducer:L}),f},exposeAction(N,L){return d.actionCreators[N]=L,f},exposeCaseReducer(N,L){return d.sliceCaseReducersByName[N]=L,f}};u.forEach(N=>{const L=l[N],M={reducerName:N,type:LJ(i,N),createNotation:typeof r.reducers=="function"};$J(L)?qJ(M,L,f,e):zJ(M,L,f)});function p(){const[N={},L=[],M=void 0]=typeof r.extraReducers=="function"?M6(r.extraReducers):[r.extraReducers],U={...N,...d.sliceCaseReducersByType};return RJ(r.initialState,R=>{for(let I in U)R.addCase(I,U[I]);for(let I of d.sliceMatchers)R.addMatcher(I.matcher,I.reducer);for(let I of L)R.addMatcher(I.matcher,I.reducer);M&&R.addDefaultCase(M)})}const g=N=>N,b=new Map,x=new WeakMap;let A;function E(N,L){return A||(A=p()),A(N,L)}function S(){return A||(A=p()),A.getInitialState()}function C(N,L=!1){function M(R){let I=R[N];return typeof I>"u"&&L&&(I=Qp(x,M,S)),I}function U(R=g){const I=Qp(b,L,()=>new WeakMap);return Qp(I,R,()=>{const k={};for(const[$,V]of Object.entries(r.selectors??{}))k[$]=UJ(V,R,()=>Qp(x,R,S),L);return k})}return{reducerPath:N,getSelectors:U,get selectors(){return U(M)},selectSlice:M}}const P={name:i,reducer:E,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...C(a),injectInto(N,{reducerPath:L,...M}={}){const U=L??a;return N.inject({reducerPath:U,reducer:E},M),{...P,...C(U,!0)}}};return P}}function UJ(t,e,n,r){function i(a,...l){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var mi=VJ();function BJ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function zJ({type:t,reducerName:e,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!FJ(r))throw new Error(ci(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?$i(t,l):$i(t))}function $J(t){return t._reducerDefinitionType==="asyncThunk"}function FJ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function qJ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ci(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:d,settled:f,options:p}=n,g=i(t,a,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(e,{fulfilled:l||Zp,pending:u||Zp,rejected:d||Zp,settled:f||Zp})}function Zp(){}var HJ="task",L6="listener",V6="completed",bE="cancelled",KJ=`task-${bE}`,GJ=`task-${V6}`,e2=`${L6}-${bE}`,WJ=`${L6}-${V6}`,kv=class{constructor(t){this.code=t,this.message=`${HJ} ${bE} (reason: ${t})`}name="TaskAbortError";message},xE=(t,e)=>{if(typeof t!="function")throw new TypeError(ci(32))},my=()=>{},U6=(t,e=my)=>(t.catch(e),t),B6=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),mc=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},pc=t=>{if(t.aborted){const{reason:e}=t;throw new kv(e)}};function z6(t,e){let n=my;return new Promise((r,i)=>{const a=()=>i(new kv(t.reason));if(t.aborted){a();return}n=B6(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=my})}var YJ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof kv?"cancelled":"rejected",error:n}}finally{e?.()}},py=t=>e=>U6(z6(t,e).then(n=>(pc(t),n))),$6=t=>{const e=py(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Fu}=Object,qO={},Dv="listenerMiddleware",XJ=(t,e)=>{const n=r=>B6(t,()=>mc(r,t.reason));return(r,i)=>{xE(r);const a=new AbortController;n(a);const l=YJ(async()=>{pc(t),pc(a.signal);const u=await r({pause:py(a.signal),delay:$6(a.signal),signal:a.signal});return pc(a.signal),u},()=>mc(a,GJ));return i?.autoJoin&&e.push(l.catch(my)),{result:py(t)(l),cancel(){mc(a,KJ)}}}},QJ=(t,e)=>{const n=async(r,i)=>{pc(e);let a=()=>{};const u=[new Promise((d,f)=>{let p=t({predicate:r,effect:(g,b)=>{b.unsubscribe(),d([g,b.getState(),b.getOriginalState()])}});a=()=>{p(),f()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await z6(e,Promise.race(u));return pc(e),d}finally{a()}};return(r,i)=>U6(n(r,i))},F6=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=$i(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ci(21));return xE(a),{predicate:i,type:e,effect:a}},q6=Fu(t=>{const{type:e,predicate:n,effect:r}=F6(t);return{id:DJ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ci(22))}}},{withTypes:()=>q6}),HO=(t,e)=>{const{type:n,effect:r,predicate:i}=F6(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},t2=t=>{t.pending.forEach(e=>{mc(e,e2)})},ZJ=t=>()=>{t.forEach(t2),t.clear()},KO=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},H6=Fu($i(`${Dv}/add`),{withTypes:()=>H6}),JJ=$i(`${Dv}/removeAll`),K6=Fu($i(`${Dv}/remove`),{withTypes:()=>K6}),eee=(...t)=>{console.error(`${Dv}/error`,...t)},im=(t={})=>{const e=new Map,{extra:n,onError:r=eee}=t;xE(r);const i=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),g=>{p.unsubscribe(),g?.cancelActive&&t2(p)}),a=p=>{const g=HO(e,p)??q6(p);return i(g)};Fu(a,{withTypes:()=>a});const l=p=>{const g=HO(e,p);return g&&(g.unsubscribe(),p.cancelActive&&t2(g)),!!g};Fu(l,{withTypes:()=>l});const u=async(p,g,b,x)=>{const A=new AbortController,E=QJ(a,A.signal),S=[];try{p.pending.add(A),await Promise.resolve(p.effect(g,Fu({},b,{getOriginalState:x,condition:(C,P)=>E(C,P).then(Boolean),take:E,delay:$6(A.signal),pause:py(A.signal),extra:n,signal:A.signal,fork:XJ(A.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((C,P,N)=>{C!==A&&(mc(C,e2),N.delete(C))})},cancel:()=>{mc(A,e2),p.pending.delete(A)},throwIfCancelled:()=>{pc(A.signal)}})))}catch(C){C instanceof kv||KO(r,C,{raisedBy:"effect"})}finally{await Promise.all(S),mc(A,WJ),p.pending.delete(A)}},d=ZJ(e);return{middleware:p=>g=>b=>{if(!T6(b))return g(b);if(H6.match(b))return a(b.payload);if(JJ.match(b)){d();return}if(K6.match(b))return l(b.payload);let x=p.getState();const A=()=>{if(x===qO)throw new Error(ci(23));return x};let E;try{if(E=g(b),e.size>0){const S=p.getState(),C=Array.from(e.values());for(const P of C){let N=!1;try{N=P.predicate(b,S,x)}catch(L){N=!1,KO(r,L,{raisedBy:"predicate"})}N&&u(P,b,p,A)}}}finally{x=qO}return E},startListening:a,stopListening:l,clearListeners:d}};function ci(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var tee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},G6=mi({name:"chartLayout",initialState:tee,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:nee,setLayout:ree,setChartSize:iee,setScale:aee}=G6.actions,see=G6.reducer;function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){oee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oee(t,e,n){return(e=lee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lee(t){var e=cee(t,"string");return typeof e=="symbol"?e:e+""}function cee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gy=Math.PI/180,uee=t=>t*180/Math.PI,Nn=(t,e,n,r)=>({x:t+Math.cos(-gy*r)*n,y:e+Math.sin(-gy*r)*n}),W6=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},dee=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},fee=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,l=dee({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>a&&(d=2*Math.PI-d),{radius:l,angle:uee(d),angleInRadian:d}},hee=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},mee=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return t+l*360},pee=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=fee({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:f}=hee(e),p=a,g;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=d}return g?WO(WO({},e),{},{radius:i,angle:mee(p,e)}):null};function Y6(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){gee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gee(t,e,n){return(e=yee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yee(t){var e=vee(t,"string");return typeof e=="symbol"?e:e+""}function vee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ct(t,e,n){return zt(t)||zt(e)?n:Wa(e)?Ac(t,e,n):typeof e=="function"?e(t):n}var bee=(t,e,n,r,i)=>{var a,l=-1,u=(a=e?.length)!==null&&a!==void 0?a:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<u;d++){var f=d>0?n[d-1].coordinate:n[u-1].coordinate,p=n[d].coordinate,g=d>=u-1?n[0].coordinate:n[d+1].coordinate,b=void 0;if(Wn(p-f)!==Wn(g-p)){var x=[];if(Wn(g-p)===Wn(i[1]-i[0])){b=g;var A=p+i[1]-i[0];x[0]=Math.min(A,(A+f)/2),x[1]=Math.max(A,(A+f)/2)}else{b=f;var E=g+i[1]-i[0];x[0]=Math.min(p,(E+p)/2),x[1]=Math.max(p,(E+p)/2)}var S=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(t>S[0]&&t<=S[1]||t>=x[0]&&t<=x[1]){({index:l}=n[d]);break}}else{var C=Math.min(f,g),P=Math.max(f,g);if(t>(C+p)/2&&t<=(P+p)/2){({index:l}=n[d]);break}}}else if(e){for(var N=0;N<u;N++)if(N===0&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N>0&&N<u-1&&t>(e[N].coordinate+e[N-1].coordinate)/2&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N===u-1&&t>(e[N].coordinate+e[N-1].coordinate)/2){({index:l}=e[N]);break}}return l},xee=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&Pe(t[a]))return Di(Di({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&Pe(t[l]))return Di(Di({},t),{},{[l]:t[l]+(i||0)})}return t},ts=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",X6=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,a,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(e),a||l.push(n),l},Q6=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:p,ticks:g,niceTicks:b,axisType:x}=t;if(!l)return null;var A=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/A:0;if(E=x==="angleAxis"&&a&&a.length>=2?Wn(a[0]-a[1])*2*E:E,g||b){var S=(g||b||[]).map((C,P)=>{var N=r?r.indexOf(C):C;return{coordinate:l(N)+E,value:C,offset:E,index:P}});return S.filter(C=>!Hr(C.coordinate))}return d&&f?f.map((C,P)=>({coordinate:l(C)+E,value:C,index:P,offset:E})):l.ticks&&p!=null?l.ticks(p).map((C,P)=>({coordinate:l(C)+E,value:C,offset:E,index:P})):l.domain().map((C,P)=>({coordinate:l(C)+E,value:r?r[C]:C,index:P,offset:E}))},XO=1e-4,wee=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-XO,a=Math.max(r[0],r[1])+XO,l=t(e[0]),u=t(e[n-1]);(l<i||l>a||u<i||u>a)&&t.domain([e[0],e[n-1]])}},_ee=(t,e)=>{if(!e||e.length!==2||!Pe(e[0])||!Pe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Pe(t[0])||t[0]<n)&&(i[0]=n),(!Pe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Eee=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,l=0;l<e;++l){var u=Hr(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=i,t[l][n][1]=i+u,i=t[l][n][1]):(t[l][n][0]=a,t[l][n][1]=a+u,a=t[l][n][1])}},Aee=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var l=Hr(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},See={sign:Eee,expand:eZ,none:rd,silhouette:tZ,wiggle:nZ,positive:Aee},Tee=(t,e,n)=>{var r=See[n],i=JQ().keys(e).value((a,l)=>+Ct(a,l,0)).order(H1).offset(r);return i(t)};function Z6(t){return t==null?void 0:String(t)}function yy(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!zt(i[e.dataKey])){var u=F3(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var d=Ct(i,zt(l)?e.dataKey:l);return zt(d)?null:e.scale(d)}var QO=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=Ct(a,e.dataKey,e.scale.domain()[l]);return zt(u)?null:e.scale(u)-i/2+r},Cee=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Nee=t=>{var e=t.flat(2).filter(Pe);return[Math.min(...e),Math.max(...e)]},Pee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],jee=(t,e,n)=>{if(t!=null)return Pee(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:l}=a,u=l.reduce((d,f)=>{var p=Y6(f,e,n),g=Nee(p);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},ZO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cc=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=jv(e,p=>p.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var d=i[l],f=i[l-1];a=Math.min((d.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function eI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Di(Di({},e),{},{dataKey:n,payload:r,value:i,name:a})}function vl(t,e){if(t)return String(t);if(typeof e=="string")return e}function Oee(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?pee({x:t,y:e},r):null}var Iee=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:l}=r;return Di(Di(Di({},r),Nn(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:d}=r;return Di(Di(Di({},r),Nn(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{x:0,y:0}},Ree=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,eo=t=>t.layout.width,to=t=>t.layout.height,kee=t=>t.layout.scale,J6=t=>t.layout.margin,Mv=ee(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Lv=ee(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),e5="data-recharts-item-index",t5="data-recharts-item-data-key",am=60;function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){Dee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dee(t,e,n){return(e=Mee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mee(t){var e=Lee(t,"string");return typeof e=="symbol"?e:e+""}function Lee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vee=t=>t.brush.height;function Uee(t){var e=Lv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:am;return n+i}return n},0)}function Bee(t){var e=Lv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:am;return n+i}return n},0)}function zee(t){var e=Mv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function $ee(t){var e=Mv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ln=ee([eo,to,J6,Vee,Uee,Bee,zee,$ee,_6,sJ],(t,e,n,r,i,a,l,u,d,f)=>{var p={left:(n.left||0)+i,right:(n.right||0)+a},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},b=Jp(Jp({},g),p),x=b.bottom;b.bottom+=r,b=xee(b,d,f);var A=t-b.left-b.right,E=e-b.top-b.bottom;return Jp(Jp({brushBottom:x},b),{},{width:Math.max(A,0),height:Math.max(E,0)})}),Fee=ee(Ln,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),wE=ee(eo,to,(t,e)=>({x:0,y:0,width:t,height:e})),qee=_.createContext(null),wr=()=>_.useContext(qee)!=null,Vv=t=>t.brush,Uv=ee([Vv,Ln,J6],(t,e,n)=>({height:t.height,x:Pe(t.x)?t.x:e.left,y:Pe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Pe(t.width)?t.width:e.width})),_E=()=>{var t,e=wr(),n=Ne(Fee),r=Ne(Uv),i=(t=Ne(Vv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Hee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},n5=()=>{var t;return(t=Ne(Ln))!==null&&t!==void 0?t:Hee},EE=()=>Ne(eo),AE=()=>Ne(to),Kee=()=>Ne(t=>t.layout.margin),Je=t=>t.layout.layoutType,sm=()=>Ne(Je),Gee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},r5=mi({name:"legend",initialState:Gee,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Ls(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:nI,setLegendSettings:Wee,addLegendPayload:i5,removeLegendPayload:a5}=r5.actions,Yee=r5.reducer,Xee=["contextPayload"];function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n2.apply(null,arguments)}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ad(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){SE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SE(t,e,n){return(e=Qee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qee(t){var e=Zee(t,"string");return typeof e=="symbol"?e:e+""}function Zee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jee(t,e){if(t==null)return{};var n,r,i=ete(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ete(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tte(t){return t.value}function nte(t){var{contextPayload:e}=t,n=Jee(t,Xee),r=v6(e,t.payloadUniqBy,tte),i=ad(ad({},n),{},{payload:r});return _.isValidElement(t.content)?_.cloneElement(t.content,i):typeof t.content=="function"?_.createElement(t.content,i):_.createElement(fE,i)}function rte(t,e,n,r,i,a){var{layout:l,align:u,verticalAlign:d}=e,f,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?f={left:((r||0)-a.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?p={top:((i||0)-a.height)/2}:p=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ad(ad({},f),p)}function ite(t){var e=an();return _.useEffect(()=>{e(Wee(t))},[e,t]),null}function ate(t){var e=an();return _.useEffect(()=>(e(nI(t)),()=>{e(nI({width:0,height:0}))}),[e,t]),null}function ste(t){var e=cJ(),n=EQ(),r=Kee(),{width:i,height:a,wrapperStyle:l,portal:u}=t,[d,f]=E6([e]),p=EE(),g=AE();if(p==null||g==null)return null;var b=p-(r.left||0)-(r.right||0),x=bl.getWidthOrHeight(t.layout,a,i,b),A=u?l:ad(ad({position:"absolute",width:x?.width||i||"auto",height:x?.height||a||"auto"},rte(l,t,r,p,g,d)),l),E=u??n;if(E==null)return null;var S=_.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:f},_.createElement(ite,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),_.createElement(ate,{width:d.width,height:d.height}),_.createElement(nte,n2({},t,x,{margin:r,chartWidth:p,chartHeight:g,contextPayload:e})));return Zk.createPortal(S,E)}class bl extends _.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Pe(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return _.createElement(ste,this.props)}}SE(bl,"displayName","Legend");SE(bl,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function r2(){return r2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r2.apply(null,arguments)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ote(t,e,n){return(e=lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lte(t){var e=cte(t,"string");return typeof e=="symbol"?e:e+""}function cte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ute(t){return Array.isArray(t)&&Wa(t[0])&&Wa(t[1])?t.join(" ~ "):t}var dte=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:p,labelFormatter:g,accessibilityLayer:b=!1}=t,x=()=>{if(a&&a.length){var M={padding:0,margin:0},U=(u?jv(a,u):a).map((R,I)=>{if(R.type==="none")return null;var k=R.formatter||l||ute,{value:$,name:V}=R,F=$,B=V;if(k){var ve=k($,V,R,I,a);if(Array.isArray(ve))[F,B]=ve;else if(ve!=null)F=ve;else return null}var ie=Iw({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:ie},Wa(B)?_.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Wa(B)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},F),_.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:M},U)}return null},A=Iw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=Iw({margin:0},i),S=!zt(p),C=S?p:"",P=ot("recharts-default-tooltip",d),N=ot("recharts-tooltip-label",f);S&&g&&a!==void 0&&a!==null&&(C=g(p,a));var L=b?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",r2({className:P,style:A},L),_.createElement("p",{className:N,style:E},_.isValidElement(C)?C:"".concat(C)),x())},Hf="recharts-tooltip-wrapper",fte={visibility:"hidden"};function hte(t){var{coordinate:e,translateX:n,translateY:r}=t;return ot(Hf,{["".concat(Hf,"-right")]:Pe(n)&&e&&Pe(e.x)&&n>=e.x,["".concat(Hf,"-left")]:Pe(n)&&e&&Pe(e.x)&&n<e.x,["".concat(Hf,"-bottom")]:Pe(r)&&e&&Pe(e.y)&&r>=e.y,["".concat(Hf,"-top")]:Pe(r)&&e&&Pe(e.y)&&r<e.y})}function aI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=t;if(a&&Pe(a[r]))return a[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?p:g;var b=d[r];if(b==null)return 0;if(l[r]){var x=p,A=b;return x<A?Math.max(g,b):Math.max(p,b)}if(f==null)return 0;var E=g+u,S=b+f;return E>S?Math.max(p,b):Math.max(g,b)}function mte(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function pte(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:u,viewBox:d}=t,f,p,g;return l.height>0&&l.width>0&&n?(p=aI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=aI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=mte({translateX:p,translateY:g,useTranslate3d:u})):f=fte,{cssProperties:f,cssClasses:hte({translateX:p,translateY:g,coordinate:n})}}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){i2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i2(t,e,n){return(e=gte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gte(t){var e=yte(t,"string");return typeof e=="symbol"?e:e+""}function yte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vte extends _.PureComponent{constructor(){super(...arguments),i2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),i2(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:p,reverseDirection:g,useTranslate3d:b,viewBox:x,wrapperStyle:A,lastBoundingBox:E,innerRef:S,hasPortalFromProps:C}=this.props,{cssClasses:P,cssProperties:N}=pte({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:p,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:x}),L=C?{}:eg(eg({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),M=eg(eg({},L),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},A);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:M,ref:S},a)}}var bte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),no={devToolsEnabled:!1,isSsr:bte()},s5=()=>Ne(t=>t.rootProps.accessibilityLayer);function or(t){return Number.isFinite(t)}function sd(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function a2(){return a2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a2.apply(null,arguments)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){xte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xte(t,e,n){return(e=wte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wte(t){var e=_te(t,"string");return typeof e=="symbol"?e:e+""}function _te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cI={curveBasisClosed:$Q,curveBasisOpen:FQ,curveBasis:zQ,curveBumpX:CQ,curveBumpY:NQ,curveLinearClosed:qQ,curveLinear:Nv,curveMonotoneX:HQ,curveMonotoneY:KQ,curveNatural:GQ,curveStep:WQ,curveStepAfter:XQ,curveStepBefore:YQ},tg=t=>or(t.x)&&or(t.y),Kf=t=>t.x,Gf=t=>t.y,Ete=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(tm(t));return(n==="curveMonotone"||n==="curveBump")&&e?cI["".concat(n).concat(e==="vertical"?"Y":"X")]:cI[n]||Nv},Ate=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,l=Ete(e,i),u=a?n.filter(tg):n,d;if(Array.isArray(r)){var f=a?r.filter(g=>tg(g)):r,p=u.map((g,b)=>lI(lI({},g),{},{base:f[b]}));return i==="vertical"?d=Gp().y(Gf).x1(Kf).x0(g=>g.base.x):d=Gp().x(Kf).y1(Gf).y0(g=>g.base.y),d.defined(tg).curve(l),d(p)}return i==="vertical"&&Pe(r)?d=Gp().y(Gf).x1(Kf).x0(r):Pe(r)?d=Gp().x(Kf).y1(Gf).y0(r):d=Z3().x(Kf).y(Gf),d.defined(tg).curve(l),d(u)},qu=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Ate(t):r;return _.createElement("path",a2({},Hi(t),iE(t),{className:ot("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Ste=["x","y","top","left","width","height","className"];function s2(){return s2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s2.apply(null,arguments)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){Cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cte(t,e,n){return(e=Nte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nte(t){var e=Pte(t,"string");return typeof e=="symbol"?e:e+""}function Pte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jte(t,e){if(t==null)return{};var n,r,i=Ote(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ote(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ite=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Rte=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=t,d=jte(t,Ste),f=Tte({x:e,y:n,top:r,left:i,width:a,height:l},d);return!Pe(e)||!Pe(n)||!Pe(a)||!Pe(l)||!Pe(r)||!Pe(i)?null:_.createElement("path",s2({},$t(f,!0),{className:ot("recharts-cross",u),d:Ite(e,n,a,l,r,i)}))};function kte(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){Mte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mte(t,e,n){return(e=Lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lte(t){var e=Vte(t,"string");return typeof e=="symbol"?e:e+""}function Vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vn(t,e){var n=Dte({},t),r=e,i=Object.keys(e),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}function Ute(){}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){Bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bte(t,e,n){return(e=zte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zte(t){var e=$te(t,"string");return typeof e=="symbol"?e:e+""}function $te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fte=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),o5=(t,e,n)=>t.map(r=>"".concat(Fte(r)," ").concat(e,"ms ").concat(n)).join(","),qte=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ch=(t,e)=>Object.keys(e).reduce((n,r)=>hI(hI({},n),{},{[r]:t(r,e[r])}),{});function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){Hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hte(t,e,n){return(e=Kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=Gte(t,"string");return typeof e=="symbol"?e:e+""}function Gte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vy=(t,e,n)=>t+(e-t)*n,o2=t=>{var{from:e,to:n}=t;return e!==n},l5=(t,e,n)=>{var r=Ch((i,a)=>{if(o2(a)){var[l,u]=t(a.from,a.to,a.velocity);return ir(ir({},a),{},{from:l,velocity:u})}return a},e);return n<1?Ch((i,a)=>o2(a)?ir(ir({},a),{},{velocity:vy(a.velocity,r[i].velocity,n),from:vy(a.from,r[i].from,n)}):a,e):l5(t,r,n-1)};function Wte(t,e,n,r,i,a){var l,u=r.reduce((b,x)=>ir(ir({},b),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),d=()=>Ch((b,x)=>x.from,u),f=()=>!Object.values(u).filter(o2).length,p=null,g=b=>{l||(l=b);var x=b-l,A=x/n.dt;u=l5(n,u,A),i(ir(ir(ir({},t),e),d())),l=b,f()||(p=a.setTimeout(g))};return()=>(p=a.setTimeout(g),()=>{p()})}function Yte(t,e,n,r,i,a,l){var u=null,d=i.reduce((g,b)=>ir(ir({},g),{},{[b]:[t[b],e[b]]}),{}),f,p=g=>{f||(f=g);var b=(g-f)/r,x=Ch((E,S)=>vy(...S,n(b)),d);if(a(ir(ir(ir({},t),e),x)),b<1)u=l.setTimeout(p);else{var A=Ch((E,S)=>vy(...S,n(1)),d);a(ir(ir(ir({},t),e),A))}};return()=>(u=l.setTimeout(p),()=>{u()})}const Xte=(t,e,n,r,i,a)=>{var l=qte(t,e);return n.isStepper===!0?Wte(t,e,n,l,i,a):Yte(t,e,n,r,l,i,a)};var by=1e-4,c5=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],u5=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),pI=(t,e)=>n=>{var r=c5(t,e);return u5(r,n)},Qte=(t,e)=>n=>{var r=c5(t,e),i=[...r.map((a,l)=>a*l).slice(1),0];return u5(i,n)},gI=function(){for(var e,n,r,i,a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([e,r,n,i]=d[1].split(")")[0].split(",").map(A=>parseFloat(A)))}}else l.length===4&&([e,r,n,i]=l);var f=pI(e,n),p=pI(r,i),g=Qte(e,n),b=A=>A>1?1:A<0?0:A,x=A=>{for(var E=A>1?1:A,S=E,C=0;C<8;++C){var P=f(S)-E,N=g(S);if(Math.abs(P-E)<by||N<by)return p(S);S=b(S-P/N)}return p(S)};return x.isStepper=!1,x},Zte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(l,u,d)=>{var f=-(l-u)*n,p=d*r,g=d+(f-p)*i/1e3,b=d*i/1e3+l;return Math.abs(b-u)<by&&Math.abs(g)<by?[u,0]:[b,g]};return a.isStepper=!0,a.dt=i,a},Jte=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gI(t);case"spring":return Zte();default:if(t.split("(")[0]==="cubic-bezier")return gI(t)}return typeof t=="function"?t:null};function ene(t){var e,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){i=t.setTimeout(a.bind(null,f),d);return}a(d),i=t.setTimeout(a.bind(null,f));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class tne{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function nne(){return ene(new tne)}var rne=_.createContext(nne);function ine(t,e){var n=_.useContext(rne);return _.useMemo(()=>e??n(t),[t,e,n])}var ane={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yI={t:0},Rw={t:1};function Sd(t){var e=Vn(t,ane),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=e,p=ine(e.animationId,e.animationManager),[g,b]=_.useState(n?yI:Rw),x=_.useRef(null);return _.useEffect(()=>{n||b(Rw)},[n]),_.useEffect(()=>{if(!n||!r)return Ute;var A=Xte(yI,Rw,Jte(a),i,b,p.getTimeoutController()),E=()=>{x.current=A()};return p.start([d,l,E,i,u]),()=>{p.stop(),x.current&&x.current(),u()}},[n,r,i,a,l,d,u,p]),f(g.t)}function Td(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Ah(e)),r=_.useRef(t);return r.current!==t&&(n.current=Ah(e),r.current=t),n.current}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sne(t,e,n){return(e=one(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function one(t){var e=lne(t,"string");return typeof e=="symbol"?e:e+""}function lne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xy(){return xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xy.apply(null,arguments)}var xI=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,b=4;g<b;g++)p[g]=i[g]>a?a:i[g];f="M".concat(t,",").concat(e+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(t+u*p[0],",").concat(e)),f+="L ".concat(t+n-u*p[1],",").concat(e),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(e+l*p[1])),f+="L ".concat(t+n,",").concat(e+r-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(t+n-u*p[2],",").concat(e+r)),f+="L ".concat(t+u*p[3],",").concat(e+r),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(e+r-l*p[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var x=Math.min(a,i);f="M ".concat(t,",").concat(e+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+u*x,",").concat(e,`
            L `).concat(t+n-u*x,",").concat(e,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n,",").concat(e+l*x,`
            L `).concat(t+n,",").concat(e+r-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n-u*x,",").concat(e+r,`
            L `).concat(t+u*x,",").concat(e+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(e+r-l*x," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},cne={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},d5=t=>{var e=Vn(t,cne),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ve=n.current.getTotalLength();ve&&i(ve)}catch{}},[]);var{x:a,y:l,width:u,height:d,radius:f,className:p}=e,{animationEasing:g,animationDuration:b,animationBegin:x,isAnimationActive:A,isUpdateAnimationActive:E}=e,S=_.useRef(u),C=_.useRef(d),P=_.useRef(a),N=_.useRef(l),L=_.useMemo(()=>({x:a,y:l,width:u,height:d,radius:f}),[a,l,u,d,f]),M=Td(L,"rectangle-");if(a!==+a||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var U=ot("recharts-rectangle",p);if(!E)return _.createElement("path",xy({},$t(e,!0),{className:U,d:xI(a,l,u,d,f)}));var R=S.current,I=C.current,k=P.current,$=N.current,V="0px ".concat(r===-1?1:r,"px"),F="".concat(r,"px 0px"),B=o5(["strokeDasharray"],b,typeof g=="string"?g:void 0);return _.createElement(Sd,{animationId:M,key:M,canBegin:r>0,duration:b,easing:g,isActive:E,begin:x},ve=>{var ie=Tt(R,u,ve),G=Tt(I,d,ve),W=Tt(k,a,ve),ae=Tt($,l,ve);n.current&&(S.current=ie,C.current=G,P.current=W,N.current=ae);var ye;return A?ve>0?ye={transition:B,strokeDasharray:F}:ye={strokeDasharray:V}:ye={strokeDasharray:F},_.createElement("path",xy({},$t(e,!0),{className:U,d:xI(W,ae,ie,G,f),ref:n,style:bI(bI({},ye),e.style)}))})};function f5(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,l=Nn(e,n,r,i),u=Nn(e,n,r,a);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function l2(){return l2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l2.apply(null,arguments)}var une=(t,e)=>{var n=Wn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},ng=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:d}=t,f=u*(l?1:-1)+r,p=Math.asin(u/f)/gy,g=d?i:i+a*p,b=Nn(e,n,f,g),x=Nn(e,n,r,g),A=d?i-a*p:i,E=Nn(e,n,f*Math.cos(p*gy),A);return{center:b,circleTangency:x,lineTangency:E,theta:p}},h5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=t,u=une(a,l),d=a+u,f=Nn(e,n,i,a),p=Nn(e,n,i,d),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var b=Nn(e,n,r,a),x=Nn(e,n,r,d);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=d),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},dne=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=t,p=Wn(f-d),{circleTangency:g,lineTangency:b,theta:x}=ng({cx:e,cy:n,radius:i,angle:d,sign:p,cornerRadius:a,cornerIsExternal:u}),{circleTangency:A,lineTangency:E,theta:S}=ng({cx:e,cy:n,radius:i,angle:f,sign:-p,cornerRadius:a,cornerIsExternal:u}),C=u?Math.abs(d-f):Math.abs(d-f)-x-S;if(C<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):h5({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var P="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:N,lineTangency:L,theta:M}=ng({cx:e,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:U,lineTangency:R,theta:I}=ng({cx:e,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),k=u?Math.abs(d-f):Math.abs(d-f)-M-I;if(k<0&&a===0)return"".concat(P,"L").concat(e,",").concat(n,"Z");P+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(p>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,"Z")}else P+="L".concat(e,",").concat(n,"Z");return P},fne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},m5=t=>{var e=Vn(t,fne),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:p,className:g}=e;if(a<i||f===p)return null;var b=ot("recharts-sector",g),x=a-i,A=vr(l,x,0,!0),E;return A>0&&Math.abs(f-p)<360?E=dne({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(A,x/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:p}):E=h5({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:p}),_.createElement("path",l2({},$t(e,!0),{className:b,d:E}))};function hne(t,e,n){var r,i,a,l;if(t==="horizontal")r=e.x,a=r,i=n.top,l=n.top+n.height;else if(t==="vertical")i=e.y,l=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:d,innerRadius:f,outerRadius:p,angle:g}=e,b=Nn(u,d,f,g),x=Nn(u,d,p,g);r=b.x,i=b.y,a=x.x,l=x.y}else return f5(e);return[{x:r,y:i},{x:a,y:l}]}var kw={},Dw={},Mw={},wI;function mne(){return wI||(wI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Mw)),Mw}var _I;function pne(){return _I||(_I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mne();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Dw)),Dw}var EI;function gne(){return EI||(EI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w6(),n=pne();function r(i,a,l){l&&typeof l!="number"&&e.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=i,i+=l;return d}t.range=r})(kw)),kw}var Lw,AI;function yne(){return AI||(AI=1,Lw=gne().range),Lw}var vne=yne();const p5=Qs(vne);function tl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function TE(t){let e,n,r;t.length!==2?(e=tl,n=(u,d)=>tl(t(u),d),r=(u,d)=>t(u)-d):(e=t===tl||t===bne?t:xne,n=t,r=t);function i(u,d,f=0,p=u.length){if(f<p){if(e(d,d)!==0)return p;do{const g=f+p>>>1;n(u[g],d)<0?f=g+1:p=g}while(f<p)}return f}function a(u,d,f=0,p=u.length){if(f<p){if(e(d,d)!==0)return p;do{const g=f+p>>>1;n(u[g],d)<=0?f=g+1:p=g}while(f<p)}return f}function l(u,d,f=0,p=u.length){const g=i(u,d,f,p-1);return g>f&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:l,right:a}}function xne(){return 0}function g5(t){return t===null?NaN:+t}function*wne(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const _ne=TE(tl),om=_ne.right;TE(g5).center;class SI extends Map{constructor(e,n=Sne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(TI(this,e))}has(e){return super.has(TI(this,e))}set(e,n){return super.set(Ene(this,e),n)}delete(e){return super.delete(Ane(this,e))}}function TI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ene({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Ane({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Sne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Tne(t=tl){if(t===tl)return y5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function y5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Cne=Math.sqrt(50),Nne=Math.sqrt(10),Pne=Math.sqrt(2);function wy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=Cne?10:a>=Nne?5:a>=Pne?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(t*f),d=Math.round(e*f),u/f<t&&++u,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(t/f),d=Math.round(e/f),u*f<t&&++u,d*f>e&&--d),d<u&&.5<=n&&n<2?wy(t,e,n*2):[u,d,f]}function c2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,l]=r?wy(e,t,n):wy(t,e,n);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)d[f]=(a-f)/-l;else for(let f=0;f<u;++f)d[f]=(a-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function u2(t,e,n){return e=+e,t=+t,n=+n,wy(t,e,n)[2]}function d2(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?u2(e,t,n):u2(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function CI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function NI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function v5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?y5:Tne(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,p=Math.log(d),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(d-g)/d)*(f-d/2<0?-1:1),x=Math.max(n,Math.floor(e-f*g/d+b)),A=Math.min(r,Math.floor(e+(d-f)*g/d+b));v5(t,e,x,A,i)}const a=t[e];let l=n,u=r;for(Wf(t,n,e),i(t[r],a)>0&&Wf(t,n,r);l<u;){for(Wf(t,l,u),++l,--u;i(t[l],a)<0;)++l;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?Wf(t,n,u):(++u,Wf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Wf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function jne(t,e,n){if(t=Float64Array.from(wne(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return NI(t);if(e>=1)return CI(t);var r,i=(r-1)*e,a=Math.floor(i),l=CI(v5(t,a).subarray(0,a+1)),u=NI(t.subarray(a+1));return l+(u-l)*(i-a)}}function One(t,e,n=g5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),l=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return l+(u-l)*(i-a)}}function Ine(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Ki(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ro(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const f2=Symbol("implicit");function CE(){var t=new SI,e=[],n=[],r=f2;function i(a){let l=t.get(a);if(l===void 0){if(r!==f2)return r;t.set(a,l=e.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new SI;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return CE(e,n).unknown(r)},Ki.apply(i,arguments),i}function NE(){var t=CE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,l,u=!1,d=0,f=0,p=.5;delete t.unknown;function g(){var b=e().length,x=i<r,A=x?i:r,E=x?r:i;a=(E-A)/Math.max(1,b-d+f*2),u&&(a=Math.floor(a)),A+=(E-A-a*(b-d))*p,l=a*(1-d),u&&(A=Math.round(A),l=Math.round(l));var S=Ine(b).map(function(C){return A+a*C});return n(x?S.reverse():S)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(b){return arguments.length?(u=!!b,g()):u},t.padding=function(b){return arguments.length?(d=Math.min(1,f=+b),g()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),g()):d},t.paddingOuter=function(b){return arguments.length?(f=+b,g()):f},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},t.copy=function(){return NE(e(),[r,i]).round(u).paddingInner(d).paddingOuter(f).align(p)},Ki.apply(g(),arguments)}function b5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return b5(e())},t}function Rne(){return b5(NE.apply(null,arguments).paddingInner(1))}function PE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function x5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function lm(){}var Nh=.7,_y=1/Nh,Hu="\\s*([+-]?\\d+)\\s*",Ph="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kne=/^#([0-9a-f]{3,8})$/,Dne=new RegExp(`^rgb\\(${Hu},${Hu},${Hu}\\)$`),Mne=new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`),Lne=new RegExp(`^rgba\\(${Hu},${Hu},${Hu},${Ph}\\)$`),Vne=new RegExp(`^rgba\\(${qa},${qa},${qa},${Ph}\\)$`),Une=new RegExp(`^hsl\\(${Ph},${qa},${qa}\\)$`),Bne=new RegExp(`^hsla\\(${Ph},${qa},${qa},${Ph}\\)$`),PI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};PE(lm,jh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:jI,formatHex:jI,formatHex8:zne,formatHsl:$ne,formatRgb:OI,toString:OI});function jI(){return this.rgb().formatHex()}function zne(){return this.rgb().formatHex8()}function $ne(){return w5(this).formatHsl()}function OI(){return this.rgb().formatRgb()}function jh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kne.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?II(e):n===3?new Fr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Dne.exec(t))?new Fr(e[1],e[2],e[3],1):(e=Mne.exec(t))?new Fr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Lne.exec(t))?rg(e[1],e[2],e[3],e[4]):(e=Vne.exec(t))?rg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Une.exec(t))?DI(e[1],e[2]/100,e[3]/100,1):(e=Bne.exec(t))?DI(e[1],e[2]/100,e[3]/100,e[4]):PI.hasOwnProperty(t)?II(PI[t]):t==="transparent"?new Fr(NaN,NaN,NaN,0):null}function II(t){return new Fr(t>>16&255,t>>8&255,t&255,1)}function rg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Fr(t,e,n,r)}function Fne(t){return t instanceof lm||(t=jh(t)),t?(t=t.rgb(),new Fr(t.r,t.g,t.b,t.opacity)):new Fr}function h2(t,e,n,r){return arguments.length===1?Fne(t):new Fr(t,e,n,r??1)}function Fr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}PE(Fr,h2,x5(lm,{brighter(t){return t=t==null?_y:Math.pow(_y,t),new Fr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Nh:Math.pow(Nh,t),new Fr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Fr(gc(this.r),gc(this.g),gc(this.b),Ey(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RI,formatHex:RI,formatHex8:qne,formatRgb:kI,toString:kI}));function RI(){return`#${cc(this.r)}${cc(this.g)}${cc(this.b)}`}function qne(){return`#${cc(this.r)}${cc(this.g)}${cc(this.b)}${cc((isNaN(this.opacity)?1:this.opacity)*255)}`}function kI(){const t=Ey(this.opacity);return`${t===1?"rgb(":"rgba("}${gc(this.r)}, ${gc(this.g)}, ${gc(this.b)}${t===1?")":`, ${t})`}`}function Ey(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cc(t){return t=gc(t),(t<16?"0":"")+t.toString(16)}function DI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new oa(t,e,n,r)}function w5(t){if(t instanceof oa)return new oa(t.h,t.s,t.l,t.opacity);if(t instanceof lm||(t=jh(t)),!t)return new oa;if(t instanceof oa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,u=a-i,d=(a+i)/2;return u?(e===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-e)/u+2:l=(e-n)/u+4,u/=d<.5?a+i:2-a-i,l*=60):u=d>0&&d<1?0:l,new oa(l,u,d,t.opacity)}function Hne(t,e,n,r){return arguments.length===1?w5(t):new oa(t,e,n,r??1)}function oa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}PE(oa,Hne,x5(lm,{brighter(t){return t=t==null?_y:Math.pow(_y,t),new oa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nh:Math.pow(Nh,t),new oa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Fr(Vw(t>=240?t-240:t+120,i,r),Vw(t,i,r),Vw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new oa(MI(this.h),ig(this.s),ig(this.l),Ey(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ey(this.opacity);return`${t===1?"hsl(":"hsla("}${MI(this.h)}, ${ig(this.s)*100}%, ${ig(this.l)*100}%${t===1?")":`, ${t})`}`}}));function MI(t){return t=(t||0)%360,t<0?t+360:t}function ig(t){return Math.max(0,Math.min(1,t||0))}function Vw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const jE=t=>()=>t;function Kne(t,e){return function(n){return t+n*e}}function Gne(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Wne(t){return(t=+t)==1?_5:function(e,n){return n-e?Gne(e,n,t):jE(isNaN(e)?n:e)}}function _5(t,e){var n=e-t;return n?Kne(t,n):jE(isNaN(t)?e:t)}const LI=(function t(e){var n=Wne(e);function r(i,a){var l=n((i=h2(i)).r,(a=h2(a)).r),u=n(i.g,a.g),d=n(i.b,a.b),f=_5(i.opacity,a.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=f(p),i+""}}return r.gamma=t,r})(1);function Yne(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Xne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Qne(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=Cd(t[l],e[l]);for(;l<n;++l)a[l]=e[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function Zne(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ay(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Jne(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Cd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var m2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Uw=new RegExp(m2.source,"g");function ere(t){return function(){return t}}function tre(t){return function(e){return t(e)+""}}function nre(t,e){var n=m2.lastIndex=Uw.lastIndex=0,r,i,a,l=-1,u=[],d=[];for(t=t+"",e=e+"";(r=m2.exec(t))&&(i=Uw.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:Ay(r,i)})),n=Uw.lastIndex;return n<e.length&&(a=e.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?d[0]?tre(d[0].x):ere(e):(e=d.length,function(f){for(var p=0,g;p<e;++p)u[(g=d[p]).i]=g.x(f);return u.join("")})}function Cd(t,e){var n=typeof e,r;return e==null||n==="boolean"?jE(e):(n==="number"?Ay:n==="string"?(r=jh(e))?(e=r,LI):nre:e instanceof jh?LI:e instanceof Date?Zne:Xne(e)?Yne:Array.isArray(e)?Qne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Jne:Ay)(t,e)}function OE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function rre(t,e){e===void 0&&(e=t,t=Cd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function ire(t){return function(){return t}}function Sy(t){return+t}var VI=[0,1];function jr(t){return t}function p2(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ire(isNaN(e)?NaN:.5)}function are(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function sre(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=p2(i,r),a=n(l,a)):(r=p2(r,i),a=n(a,l)),function(u){return a(r(u))}}function ore(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=p2(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(u){var d=om(t,u,1,r)-1;return a[d](i[d](u))}}function cm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Bv(){var t=VI,e=VI,n=Cd,r,i,a,l=jr,u,d,f;function p(){var b=Math.min(t.length,e.length);return l!==jr&&(l=are(t[0],t[b-1])),u=b>2?ore:sre,d=f=null,g}function g(b){return b==null||isNaN(b=+b)?a:(d||(d=u(t.map(r),e,n)))(r(l(b)))}return g.invert=function(b){return l(i((f||(f=u(e,t.map(r),Ay)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,Sy),p()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),n=OE,p()},g.clamp=function(b){return arguments.length?(l=b?!0:jr,p()):l!==jr},g.interpolate=function(b){return arguments.length?(n=b,p()):n},g.unknown=function(b){return arguments.length?(a=b,g):a},function(b,x){return r=b,i=x,p()}}function IE(){return Bv()(jr,jr)}function lre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ty(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function od(t){return t=Ty(Math.abs(t)),t?t[1]:NaN}function cre(t,e){return function(n,r){for(var i=n.length,a=[],l=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),a.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=t[l=(l+1)%t.length];return a.reverse().join(e)}}function ure(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var dre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oh(t){if(!(e=dre.exec(t)))throw new Error("invalid format: "+t);var e;return new RE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Oh.prototype=RE.prototype;function RE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}RE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var E5;function hre(t,e){var n=Ty(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(E5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ty(t,Math.max(0,e+a-1))[0]}function UI(t,e){var n=Ty(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const BI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:lre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>UI(t*100,e),r:UI,s:hre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function zI(t){return t}var $I=Array.prototype.map,FI=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function mre(t){var e=t.grouping===void 0||t.thousands===void 0?zI:cre($I.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?zI:ure($I.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(g){g=Oh(g);var b=g.fill,x=g.align,A=g.sign,E=g.symbol,S=g.zero,C=g.width,P=g.comma,N=g.precision,L=g.trim,M=g.type;M==="n"?(P=!0,M="g"):BI[M]||(N===void 0&&(N=12),L=!0,M="g"),(S||b==="0"&&x==="=")&&(S=!0,b="0",x="=");var U=E==="$"?n:E==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",R=E==="$"?r:/[%p]/.test(M)?l:"",I=BI[M],k=/[defgprs%]/.test(M);N=N===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function $(V){var F=U,B=R,ve,ie,G;if(M==="c")B=I(V)+B,V="";else{V=+V;var W=V<0||1/V<0;if(V=isNaN(V)?d:I(Math.abs(V),N),L&&(V=fre(V)),W&&+V==0&&A!=="+"&&(W=!1),F=(W?A==="("?A:u:A==="-"||A==="("?"":A)+F,B=(M==="s"?FI[8+E5/3]:"")+B+(W&&A==="("?")":""),k){for(ve=-1,ie=V.length;++ve<ie;)if(G=V.charCodeAt(ve),48>G||G>57){B=(G===46?i+V.slice(ve+1):V.slice(ve))+B,V=V.slice(0,ve);break}}}P&&!S&&(V=e(V,1/0));var ae=F.length+V.length+B.length,ye=ae<C?new Array(C-ae+1).join(b):"";switch(P&&S&&(V=e(ye+V,ye.length?C-B.length:1/0),ye=""),x){case"<":V=F+V+B+ye;break;case"=":V=F+ye+V+B;break;case"^":V=ye.slice(0,ae=ye.length>>1)+F+V+B+ye.slice(ae);break;default:V=ye+F+V+B;break}return a(V)}return $.toString=function(){return g+""},$}function p(g,b){var x=f((g=Oh(g),g.type="f",g)),A=Math.max(-8,Math.min(8,Math.floor(od(b)/3)))*3,E=Math.pow(10,-A),S=FI[8+A/3];return function(C){return x(E*C)+S}}return{format:f,formatPrefix:p}}var ag,kE,A5;pre({thousands:",",grouping:[3],currency:["$",""]});function pre(t){return ag=mre(t),kE=ag.format,A5=ag.formatPrefix,ag}function gre(t){return Math.max(0,-od(Math.abs(t)))}function yre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(od(e)/3)))*3-od(Math.abs(t)))}function vre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,od(e)-od(t))+1}function S5(t,e,n,r){var i=d2(t,e,n),a;switch(r=Oh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=yre(i,l))&&(r.precision=a),A5(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=vre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=gre(i))&&(r.precision=a-(r.type==="%")*2);break}}return kE(r)}function xl(t){var e=t.domain;return t.ticks=function(n){var r=e();return c2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return S5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,l=r[i],u=r[a],d,f,p=10;for(u<l&&(f=l,l=u,u=f,f=i,i=a,a=f);p-- >0;){if(f=u2(l,u,n),f===d)return r[i]=l,r[a]=u,e(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return t},t}function T5(){var t=IE();return t.copy=function(){return cm(t,T5())},Ki.apply(t,arguments),xl(t)}function C5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Sy),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return C5(t).unknown(e)},t=arguments.length?Array.from(t,Sy):[0,1],xl(n)}function N5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function qI(t){return Math.log(t)}function HI(t){return Math.exp(t)}function bre(t){return-Math.log(-t)}function xre(t){return-Math.exp(-t)}function wre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _re(t){return t===10?wre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ere(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function KI(t){return(e,n)=>-t(-e,n)}function DE(t){const e=t(qI,HI),n=e.domain;let r=10,i,a;function l(){return i=Ere(r),a=_re(r),n()[0]<0?(i=KI(i),a=KI(a),t(bre,xre)):t(qI,HI),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const d=n();let f=d[0],p=d[d.length-1];const g=p<f;g&&([f,p]=[p,f]);let b=i(f),x=i(p),A,E;const S=u==null?10:+u;let C=[];if(!(r%1)&&x-b<S){if(b=Math.floor(b),x=Math.ceil(x),f>0){for(;b<=x;++b)for(A=1;A<r;++A)if(E=b<0?A/a(-b):A*a(b),!(E<f)){if(E>p)break;C.push(E)}}else for(;b<=x;++b)for(A=r-1;A>=1;--A)if(E=b>0?A/a(-b):A*a(b),!(E<f)){if(E>p)break;C.push(E)}C.length*2<S&&(C=c2(f,p,S))}else C=c2(b,x,Math.min(x-b,S)).map(a);return g?C.reverse():C},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Oh(d)).precision==null&&(d.trim=!0),d=kE(d)),u===1/0)return d;const f=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/a(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=f?d(p):""}},e.nice=()=>n(N5(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function P5(){const t=DE(Bv()).domain([1,10]);return t.copy=()=>cm(t,P5()).base(t.base()),Ki.apply(t,arguments),t}function GI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function WI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ME(t){var e=1,n=t(GI(e),WI(e));return n.constant=function(r){return arguments.length?t(GI(e=+r),WI(e)):e},xl(n)}function j5(){var t=ME(Bv());return t.copy=function(){return cm(t,j5()).constant(t.constant())},Ki.apply(t,arguments)}function YI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Are(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Sre(t){return t<0?-t*t:t*t}function LE(t){var e=t(jr,jr),n=1;function r(){return n===1?t(jr,jr):n===.5?t(Are,Sre):t(YI(n),YI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xl(e)}function VE(){var t=LE(Bv());return t.copy=function(){return cm(t,VE()).exponent(t.exponent())},Ki.apply(t,arguments),t}function Tre(){return VE.apply(null,arguments).exponent(.5)}function XI(t){return Math.sign(t)*t*t}function Cre(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function O5(){var t=IE(),e=[0,1],n=!1,r;function i(a){var l=Cre(t(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return t.invert(XI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Sy)).map(XI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return O5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ki.apply(i,arguments),xl(i)}function I5(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=One(t,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:e[om(n,l)]}return a.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(tl),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return I5().domain(t).range(e).unknown(r)},Ki.apply(a,arguments)}function R5(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function l(d){return d!=null&&d<=d?i[om(r,d,0,n)]:a}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(a=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return R5().domain([t,e]).range(i).unknown(a)},Ki.apply(xl(l),arguments)}function k5(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[om(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return k5().domain(t).range(e).unknown(n)},Ki.apply(i,arguments)}const Bw=new Date,zw=new Date;function Un(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return d;let f;do d.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<l);return d},i.filter=a=>Un(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!a(l););else for(;--u>=0;)for(;e(l,1),!a(l););}),n&&(i.count=(a,l)=>(Bw.setTime(+a),zw.setTime(+l),t(Bw),t(zw),Math.floor(n(Bw,zw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const Cy=Un(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Cy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Un(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Cy);Cy.range;const js=1e3,Li=js*60,Os=Li*60,Ws=Os*24,UE=Ws*7,QI=Ws*30,$w=Ws*365,uc=Un(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*js)},(t,e)=>(e-t)/js,t=>t.getUTCSeconds());uc.range;const BE=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*js)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getMinutes());BE.range;const zE=Un(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getUTCMinutes());zE.range;const $E=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*js-t.getMinutes()*Li)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getHours());$E.range;const FE=Un(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getUTCHours());FE.range;const um=Un(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Li)/Ws,t=>t.getDate()-1);um.range;const zv=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ws,t=>t.getUTCDate()-1);zv.range;const D5=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ws,t=>Math.floor(t/Ws));D5.range;function zc(t){return Un(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Li)/UE)}const $v=zc(0),Ny=zc(1),Nre=zc(2),Pre=zc(3),ld=zc(4),jre=zc(5),Ore=zc(6);$v.range;Ny.range;Nre.range;Pre.range;ld.range;jre.range;Ore.range;function $c(t){return Un(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/UE)}const Fv=$c(0),Py=$c(1),Ire=$c(2),Rre=$c(3),cd=$c(4),kre=$c(5),Dre=$c(6);Fv.range;Py.range;Ire.range;Rre.range;cd.range;kre.range;Dre.range;const qE=Un(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());qE.range;const HE=Un(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());HE.range;const Ys=Un(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ys.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ys.range;const Xs=Un(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Xs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Xs.range;function M5(t,e,n,r,i,a){const l=[[uc,1,js],[uc,5,5*js],[uc,15,15*js],[uc,30,30*js],[a,1,Li],[a,5,5*Li],[a,15,15*Li],[a,30,30*Li],[i,1,Os],[i,3,3*Os],[i,6,6*Os],[i,12,12*Os],[r,1,Ws],[r,2,2*Ws],[n,1,UE],[e,1,QI],[e,3,3*QI],[t,1,$w]];function u(f,p,g){const b=p<f;b&&([f,p]=[p,f]);const x=g&&typeof g.range=="function"?g:d(f,p,g),A=x?x.range(f,+p+1):[];return b?A.reverse():A}function d(f,p,g){const b=Math.abs(p-f)/g,x=TE(([,,S])=>S).right(l,b);if(x===l.length)return t.every(d2(f/$w,p/$w,g));if(x===0)return Cy.every(Math.max(d2(f,p,g),1));const[A,E]=l[b/l[x-1][2]<l[x][2]/b?x-1:x];return A.every(E)}return[u,d]}const[Mre,Lre]=M5(Xs,HE,Fv,D5,FE,zE),[Vre,Ure]=M5(Ys,qE,$v,um,$E,BE);function Fw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Bre(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,f=Xf(i),p=Qf(i),g=Xf(a),b=Qf(a),x=Xf(l),A=Qf(l),E=Xf(u),S=Qf(u),C=Xf(d),P=Qf(d),N={a:W,A:ae,b:ye,B:H,c:null,d:rR,e:rR,f:cie,g:bie,G:wie,H:sie,I:oie,j:lie,L:L5,m:uie,M:die,p:le,q:ue,Q:sR,s:oR,S:fie,u:hie,U:mie,V:pie,w:gie,W:yie,x:null,X:null,y:vie,Y:xie,Z:_ie,"%":aR},L={a:oe,A:he,b:be,B:we,c:null,d:iR,e:iR,f:Tie,g:Mie,G:Vie,H:Eie,I:Aie,j:Sie,L:U5,m:Cie,M:Nie,p:Ge,q:lt,Q:sR,s:oR,S:Pie,u:jie,U:Oie,V:Iie,w:Rie,W:kie,x:null,X:null,y:Die,Y:Lie,Z:Uie,"%":aR},M={a:$,A:V,b:F,B,c:ve,d:tR,e:tR,f:nie,g:eR,G:JI,H:nR,I:nR,j:Zre,L:tie,m:Qre,M:Jre,p:k,q:Xre,Q:iie,s:aie,S:eie,u:Hre,U:Kre,V:Gre,w:qre,W:Wre,x:ie,X:G,y:eR,Y:JI,Z:Yre,"%":rie};N.x=U(n,N),N.X=U(r,N),N.c=U(e,N),L.x=U(n,L),L.X=U(r,L),L.c=U(e,L);function U(Ee,$e){return function(Ke){var ge=[],Le=-1,et=0,bn=Ee.length,Yt,Lt,ns;for(Ke instanceof Date||(Ke=new Date(+Ke));++Le<bn;)Ee.charCodeAt(Le)===37&&(ge.push(Ee.slice(et,Le)),(Lt=ZI[Yt=Ee.charAt(++Le)])!=null?Yt=Ee.charAt(++Le):Lt=Yt==="e"?" ":"0",(ns=$e[Yt])&&(Yt=ns(Ke,Lt)),ge.push(Yt),et=Le+1);return ge.push(Ee.slice(et,Le)),ge.join("")}}function R(Ee,$e){return function(Ke){var ge=Yf(1900,void 0,1),Le=I(ge,Ee,Ke+="",0),et,bn;if(Le!=Ke.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if($e&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(et=qw(Yf(ge.y,0,1)),bn=et.getUTCDay(),et=bn>4||bn===0?Py.ceil(et):Py(et),et=zv.offset(et,(ge.V-1)*7),ge.y=et.getUTCFullYear(),ge.m=et.getUTCMonth(),ge.d=et.getUTCDate()+(ge.w+6)%7):(et=Fw(Yf(ge.y,0,1)),bn=et.getDay(),et=bn>4||bn===0?Ny.ceil(et):Ny(et),et=um.offset(et,(ge.V-1)*7),ge.y=et.getFullYear(),ge.m=et.getMonth(),ge.d=et.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),bn="Z"in ge?qw(Yf(ge.y,0,1)).getUTCDay():Fw(Yf(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(bn+5)%7:ge.w+ge.U*7-(bn+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,qw(ge)):Fw(ge)}}function I(Ee,$e,Ke,ge){for(var Le=0,et=$e.length,bn=Ke.length,Yt,Lt;Le<et;){if(ge>=bn)return-1;if(Yt=$e.charCodeAt(Le++),Yt===37){if(Yt=$e.charAt(Le++),Lt=M[Yt in ZI?$e.charAt(Le++):Yt],!Lt||(ge=Lt(Ee,Ke,ge))<0)return-1}else if(Yt!=Ke.charCodeAt(ge++))return-1}return ge}function k(Ee,$e,Ke){var ge=f.exec($e.slice(Ke));return ge?(Ee.p=p.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function $(Ee,$e,Ke){var ge=x.exec($e.slice(Ke));return ge?(Ee.w=A.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function V(Ee,$e,Ke){var ge=g.exec($e.slice(Ke));return ge?(Ee.w=b.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function F(Ee,$e,Ke){var ge=C.exec($e.slice(Ke));return ge?(Ee.m=P.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function B(Ee,$e,Ke){var ge=E.exec($e.slice(Ke));return ge?(Ee.m=S.get(ge[0].toLowerCase()),Ke+ge[0].length):-1}function ve(Ee,$e,Ke){return I(Ee,e,$e,Ke)}function ie(Ee,$e,Ke){return I(Ee,n,$e,Ke)}function G(Ee,$e,Ke){return I(Ee,r,$e,Ke)}function W(Ee){return l[Ee.getDay()]}function ae(Ee){return a[Ee.getDay()]}function ye(Ee){return d[Ee.getMonth()]}function H(Ee){return u[Ee.getMonth()]}function le(Ee){return i[+(Ee.getHours()>=12)]}function ue(Ee){return 1+~~(Ee.getMonth()/3)}function oe(Ee){return l[Ee.getUTCDay()]}function he(Ee){return a[Ee.getUTCDay()]}function be(Ee){return d[Ee.getUTCMonth()]}function we(Ee){return u[Ee.getUTCMonth()]}function Ge(Ee){return i[+(Ee.getUTCHours()>=12)]}function lt(Ee){return 1+~~(Ee.getUTCMonth()/3)}return{format:function(Ee){var $e=U(Ee+="",N);return $e.toString=function(){return Ee},$e},parse:function(Ee){var $e=R(Ee+="",!1);return $e.toString=function(){return Ee},$e},utcFormat:function(Ee){var $e=U(Ee+="",L);return $e.toString=function(){return Ee},$e},utcParse:function(Ee){var $e=R(Ee+="",!0);return $e.toString=function(){return Ee},$e}}}var ZI={"-":"",_:" ",0:"0"},Xn=/^\s*\d+/,zre=/^%/,$re=/[\\^$*+?|[\]().{}]/g;function dt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Fre(t){return t.replace($re,"\\$&")}function Xf(t){return new RegExp("^(?:"+t.map(Fre).join("|")+")","i")}function Qf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function qre(t,e,n){var r=Xn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Hre(t,e,n){var r=Xn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Kre(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Gre(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Wre(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function JI(t,e,n){var r=Xn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function eR(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Yre(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Xre(t,e,n){var r=Xn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Qre(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function tR(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Zre(t,e,n){var r=Xn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function nR(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Jre(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function eie(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function tie(t,e,n){var r=Xn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function nie(t,e,n){var r=Xn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function rie(t,e,n){var r=zre.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function iie(t,e,n){var r=Xn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function aie(t,e,n){var r=Xn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function rR(t,e){return dt(t.getDate(),e,2)}function sie(t,e){return dt(t.getHours(),e,2)}function oie(t,e){return dt(t.getHours()%12||12,e,2)}function lie(t,e){return dt(1+um.count(Ys(t),t),e,3)}function L5(t,e){return dt(t.getMilliseconds(),e,3)}function cie(t,e){return L5(t,e)+"000"}function uie(t,e){return dt(t.getMonth()+1,e,2)}function die(t,e){return dt(t.getMinutes(),e,2)}function fie(t,e){return dt(t.getSeconds(),e,2)}function hie(t){var e=t.getDay();return e===0?7:e}function mie(t,e){return dt($v.count(Ys(t)-1,t),e,2)}function V5(t){var e=t.getDay();return e>=4||e===0?ld(t):ld.ceil(t)}function pie(t,e){return t=V5(t),dt(ld.count(Ys(t),t)+(Ys(t).getDay()===4),e,2)}function gie(t){return t.getDay()}function yie(t,e){return dt(Ny.count(Ys(t)-1,t),e,2)}function vie(t,e){return dt(t.getFullYear()%100,e,2)}function bie(t,e){return t=V5(t),dt(t.getFullYear()%100,e,2)}function xie(t,e){return dt(t.getFullYear()%1e4,e,4)}function wie(t,e){var n=t.getDay();return t=n>=4||n===0?ld(t):ld.ceil(t),dt(t.getFullYear()%1e4,e,4)}function _ie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function iR(t,e){return dt(t.getUTCDate(),e,2)}function Eie(t,e){return dt(t.getUTCHours(),e,2)}function Aie(t,e){return dt(t.getUTCHours()%12||12,e,2)}function Sie(t,e){return dt(1+zv.count(Xs(t),t),e,3)}function U5(t,e){return dt(t.getUTCMilliseconds(),e,3)}function Tie(t,e){return U5(t,e)+"000"}function Cie(t,e){return dt(t.getUTCMonth()+1,e,2)}function Nie(t,e){return dt(t.getUTCMinutes(),e,2)}function Pie(t,e){return dt(t.getUTCSeconds(),e,2)}function jie(t){var e=t.getUTCDay();return e===0?7:e}function Oie(t,e){return dt(Fv.count(Xs(t)-1,t),e,2)}function B5(t){var e=t.getUTCDay();return e>=4||e===0?cd(t):cd.ceil(t)}function Iie(t,e){return t=B5(t),dt(cd.count(Xs(t),t)+(Xs(t).getUTCDay()===4),e,2)}function Rie(t){return t.getUTCDay()}function kie(t,e){return dt(Py.count(Xs(t)-1,t),e,2)}function Die(t,e){return dt(t.getUTCFullYear()%100,e,2)}function Mie(t,e){return t=B5(t),dt(t.getUTCFullYear()%100,e,2)}function Lie(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function Vie(t,e){var n=t.getUTCDay();return t=n>=4||n===0?cd(t):cd.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function Uie(){return"+0000"}function aR(){return"%"}function sR(t){return+t}function oR(t){return Math.floor(+t/1e3)}var ju,z5,$5;Bie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bie(t){return ju=Bre(t),z5=ju.format,ju.parse,$5=ju.utcFormat,ju.utcParse,ju}function zie(t){return new Date(t)}function $ie(t){return t instanceof Date?+t:+new Date(+t)}function KE(t,e,n,r,i,a,l,u,d,f){var p=IE(),g=p.invert,b=p.domain,x=f(".%L"),A=f(":%S"),E=f("%I:%M"),S=f("%I %p"),C=f("%a %d"),P=f("%b %d"),N=f("%B"),L=f("%Y");function M(U){return(d(U)<U?x:u(U)<U?A:l(U)<U?E:a(U)<U?S:r(U)<U?i(U)<U?C:P:n(U)<U?N:L)(U)}return p.invert=function(U){return new Date(g(U))},p.domain=function(U){return arguments.length?b(Array.from(U,$ie)):b().map(zie)},p.ticks=function(U){var R=b();return t(R[0],R[R.length-1],U??10)},p.tickFormat=function(U,R){return R==null?M:f(R)},p.nice=function(U){var R=b();return(!U||typeof U.range!="function")&&(U=e(R[0],R[R.length-1],U??10)),U?b(N5(R,U)):p},p.copy=function(){return cm(p,KE(t,e,n,r,i,a,l,u,d,f))},p}function Fie(){return Ki.apply(KE(Vre,Ure,Ys,qE,$v,um,$E,BE,uc,z5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qie(){return Ki.apply(KE(Mre,Lre,Xs,HE,Fv,zv,FE,zE,uc,$5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qv(){var t=0,e=1,n,r,i,a,l=jr,u=!1,d;function f(g){return g==null||isNaN(g=+g)?d:l(i===0?.5:(g=(a(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(l=g,f):l};function p(g){return function(b){var x,A;return arguments.length?([x,A]=b,l=g(x,A),f):[l(0),l(1)]}}return f.range=p(Cd),f.rangeRound=p(OE),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return a=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),f}}function wl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function F5(){var t=xl(qv()(jr));return t.copy=function(){return wl(t,F5())},ro.apply(t,arguments)}function q5(){var t=DE(qv()).domain([1,10]);return t.copy=function(){return wl(t,q5()).base(t.base())},ro.apply(t,arguments)}function H5(){var t=ME(qv());return t.copy=function(){return wl(t,H5()).constant(t.constant())},ro.apply(t,arguments)}function GE(){var t=LE(qv());return t.copy=function(){return wl(t,GE()).exponent(t.exponent())},ro.apply(t,arguments)}function Hie(){return GE.apply(null,arguments).exponent(.5)}function K5(){var t=[],e=jr;function n(r){if(r!=null&&!isNaN(r=+r))return e((om(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(tl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>jne(t,a/r))},n.copy=function(){return K5(e).domain(t)},ro.apply(n,arguments)}function Hv(){var t=0,e=.5,n=1,r=1,i,a,l,u,d,f=jr,p,g=!1,b;function x(E){return isNaN(E=+E)?b:(E=.5+((E=+p(E))-a)*(r*E<r*a?u:d),f(g?Math.max(0,Math.min(1,E)):E))}x.domain=function(E){return arguments.length?([t,e,n]=E,i=p(t=+t),a=p(e=+e),l=p(n=+n),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,x):[t,e,n]},x.clamp=function(E){return arguments.length?(g=!!E,x):g},x.interpolator=function(E){return arguments.length?(f=E,x):f};function A(E){return function(S){var C,P,N;return arguments.length?([C,P,N]=S,f=rre(E,[C,P,N]),x):[f(0),f(.5),f(1)]}}return x.range=A(Cd),x.rangeRound=A(OE),x.unknown=function(E){return arguments.length?(b=E,x):b},function(E){return p=E,i=E(t),a=E(e),l=E(n),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,x}}function G5(){var t=xl(Hv()(jr));return t.copy=function(){return wl(t,G5())},ro.apply(t,arguments)}function W5(){var t=DE(Hv()).domain([.1,1,10]);return t.copy=function(){return wl(t,W5()).base(t.base())},ro.apply(t,arguments)}function Y5(){var t=ME(Hv());return t.copy=function(){return wl(t,Y5()).constant(t.constant())},ro.apply(t,arguments)}function WE(){var t=LE(Hv());return t.copy=function(){return wl(t,WE()).exponent(t.exponent())},ro.apply(t,arguments)}function Kie(){return WE.apply(null,arguments).exponent(.5)}const sh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:NE,scaleDiverging:G5,scaleDivergingLog:W5,scaleDivergingPow:WE,scaleDivergingSqrt:Kie,scaleDivergingSymlog:Y5,scaleIdentity:C5,scaleImplicit:f2,scaleLinear:T5,scaleLog:P5,scaleOrdinal:CE,scalePoint:Rne,scalePow:VE,scaleQuantile:I5,scaleQuantize:R5,scaleRadial:O5,scaleSequential:F5,scaleSequentialLog:q5,scaleSequentialPow:GE,scaleSequentialQuantile:K5,scaleSequentialSqrt:Hie,scaleSequentialSymlog:H5,scaleSqrt:Tre,scaleSymlog:j5,scaleThreshold:k5,scaleTime:Fie,scaleUtc:qie,tickFormat:S5},Symbol.toStringTag,{value:"Module"}));var _l=t=>t.chartData,YE=ee([_l],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),dm=(t,e,n,r)=>r?YE(t):_l(t);function ud(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(or(e)&&or(n))return!0}return!1}function lR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Gie(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(or(n))i=n;else if(typeof n=="function")return;if(or(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(ud(l))return l}}function Wie(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ud(r))return lR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Pe(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&ZO.test(i)){var d=ZO.exec(i);if(d==null||e==null)l=void 0;else{var f=+d[1];l=e[0]-f}}else l=e?.[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(Pe(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e?.[1]))}catch{}else if(typeof a=="string"&&JO.test(a)){var p=JO.exec(a);if(p==null||e==null)u=void 0;else{var g=+p[1];u=e[1]+g}}else u=e?.[1];var b=[l,u];if(ud(b))return e==null?b:lR(b,e,n)}}}var Nd=1e9,Yie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},QE,Kt=!0,Fi="[DecimalError] ",yc=Fi+"Invalid argument: ",XE=Fi+"Exponent out of range: ",Pd=Math.floor,ic=Math.pow,Xie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,si,Gn=1e7,Ut=7,X5=9007199254740991,jy=Pd(X5/Ut),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ut;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return Vs(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return jt(Vs(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return Pn(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(si))throw Error(Fi+"NaN");if(n.s<1)throw Error(Fi+(n.s?"NaN":"-Infinity"));return n.eq(si)?new r(0):(Kt=!1,e=Vs(Ih(n,a),Ih(t,a),a),Kt=!0,jt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?J5(e,t):Q5(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Fi+"NaN");return n.s?(Kt=!1,e=Vs(n,t,0,1).times(t),Kt=!0,n.minus(e)):jt(new r(n),i)};Te.naturalExponential=Te.exp=function(){return Z5(this)};Te.naturalLogarithm=Te.ln=function(){return Ih(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Q5(e,t):J5(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(yc+t);if(e=Pn(i)+1,r=i.d.length-1,n=r*Ut+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,a,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Fi+"NaN")}for(t=Pn(u),Kt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=La(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Pd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(a=r,r=a.plus(Vs(u,a,l+2)).times(.5),La(a.d).slice(0,l)===(e=La(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(jt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;l+=4}return Kt=!0,jt(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,a,l,u,d,f,p=this,g=p.constructor,b=p.d,x=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,d=b.length,f=x.length,d<f&&(a=b,b=x,x=a,l=d,d=f,f=l),a=[],l=d+f,r=l;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)u=a[i]+x[r]*b[i-r-1]+e,a[i--]=u%Gn|0,e=u/Gn|0;a[i]=(a[i]+e)%Gn|0}for(;!a[--l];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Kt?jt(t,g.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ya(t,0,Nd),e===void 0?e=r.rounding:Ya(e,0,8),jt(n,t+Pn(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Nc(r,!0):(Ya(t,0,Nd),e===void 0?e=i.rounding:Ya(e,0,8),r=jt(new i(r),t+1,e),n=Nc(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Nc(i):(Ya(t,0,Nd),e===void 0?e=a.rounding:Ya(e,0,8),r=jt(new a(i),t+Pn(i)+1,e),n=Nc(r.abs(),!1,t+Pn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return jt(new e(t),Pn(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,a,l,u=this,d=u.constructor,f=12,p=+(t=new d(t));if(!t.s)return new d(si);if(u=new d(u),!u.s){if(t.s<1)throw Error(Fi+"Infinity");return u}if(u.eq(si))return u;if(r=d.precision,t.eq(si))return jt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,a=u.s,l){if((n=p<0?-p:p)<=X5){for(i=new d(si),e=Math.ceil(r/Ut+4),Kt=!1;n%2&&(i=i.times(u),uR(i.d,e)),n=Pd(n/2),n!==0;)u=u.times(u),uR(u.d,e);return Kt=!0,t.s<0?new d(si).div(i):jt(i,r)}}else if(a<0)throw Error(Fi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Kt=!1,i=t.times(Ih(u,r+f)),Kt=!0,i=Z5(i),i.s=a,i};Te.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Pn(i),r=Nc(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ya(t,1,Nd),e===void 0?e=a.rounding:Ya(e,0,8),i=jt(new a(i),t,e),n=Pn(i),r=Nc(i,t<=n||n<=a.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ya(t,1,Nd),e===void 0?e=r.rounding:Ya(e,0,8)),jt(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Pn(t),n=t.constructor;return Nc(t,e<=n.toExpNeg||e>=n.toExpPos)};function Q5(t,e){var n,r,i,a,l,u,d,f,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Kt?jt(e,g):e;if(d=t.d,f=e.d,l=t.e,i=e.e,d=d.slice(),a=l-i,a){for(a<0?(r=d,a=-a,u=f.length):(r=f,i=l,u=d.length),l=Math.ceil(g/Ut),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=d.length,a=f.length,u-a<0&&(a=u,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/Gn|0,d[a]%=Gn;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,Kt?jt(e,g):e}function Ya(t,e,n){if(t!==~~t||t<e||t>n)throw Error(yc+t)}function La(t){var e,n,r,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)r=t[e]+"",n=Ut-r.length,n&&(a+=zo(n)),a+=r;l=t[e],r=l+"",n=Ut-r.length,n&&(a+=zo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var Vs=(function(){function t(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%Gn|0,l=a/Gn|0;return l&&r.unshift(l),r}function e(r,i,a,l){var u,d;if(a!=l)d=a>l?1:-1;else for(u=d=0;u<a;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Gn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,d,f,p,g,b,x,A,E,S,C,P,N,L,M,U,R,I,k=r.constructor,$=r.s==i.s?1:-1,V=r.d,F=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Fi+"Division by zero");for(d=r.e-i.e,R=F.length,M=V.length,x=new k($),A=x.d=[],f=0;F[f]==(V[f]||0);)++f;if(F[f]>(V[f]||0)&&--d,a==null?P=a=k.precision:l?P=a+(Pn(r)-Pn(i))+1:P=a,P<0)return new k(0);if(P=P/Ut+2|0,f=0,R==1)for(p=0,F=F[0],P++;(f<M||p)&&P--;f++)N=p*Gn+(V[f]||0),A[f]=N/F|0,p=N%F|0;else{for(p=Gn/(F[0]+1)|0,p>1&&(F=t(F,p),V=t(V,p),R=F.length,M=V.length),L=R,E=V.slice(0,R),S=E.length;S<R;)E[S++]=0;I=F.slice(),I.unshift(0),U=F[0],F[1]>=Gn/2&&++U;do p=0,u=e(F,E,R,S),u<0?(C=E[0],R!=S&&(C=C*Gn+(E[1]||0)),p=C/U|0,p>1?(p>=Gn&&(p=Gn-1),g=t(F,p),b=g.length,S=E.length,u=e(g,E,b,S),u==1&&(p--,n(g,R<b?I:F,b))):(p==0&&(u=p=1),g=F.slice()),b=g.length,b<S&&g.unshift(0),n(E,g,S),u==-1&&(S=E.length,u=e(F,E,R,S),u<1&&(p++,n(E,R<S?I:F,S))),S=E.length):u===0&&(p++,E=[0]),A[f++]=p,u&&E[0]?E[S++]=V[L]||0:(E=[V[L]],S=1);while((L++<M||E[0]!==void 0)&&P--)}return A[0]||A.shift(),x.e=d,jt(x,l?a+Pn(x)+1:a)}})();function Z5(t,e){var n,r,i,a,l,u,d=0,f=0,p=t.constructor,g=p.precision;if(Pn(t)>16)throw Error(XE+Pn(t));if(!t.s)return new p(si);for(Kt=!1,u=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log(ic(2,f))/Math.LN10*2+5|0,u+=r,n=i=a=new p(si),p.precision=u;;){if(i=jt(i.times(t),u),n=n.times(++d),l=a.plus(Vs(i,n,u)),La(l.d).slice(0,u)===La(a.d).slice(0,u)){for(;f--;)a=jt(a.times(a),u);return p.precision=g,e==null?(Kt=!0,jt(a,g)):a}a=l}}function Pn(t){for(var e=t.e*Ut,n=t.d[0];n>=10;n/=10)e++;return e}function Hw(t,e,n){if(e>t.LN10.sd())throw Kt=!0,n&&(t.precision=n),Error(Fi+"LN10 precision limit exceeded");return jt(new t(t.LN10),e)}function zo(t){for(var e="";t--;)e+="0";return e}function Ih(t,e){var n,r,i,a,l,u,d,f,p,g=1,b=10,x=t,A=x.d,E=x.constructor,S=E.precision;if(x.s<1)throw Error(Fi+(x.s?"NaN":"-Infinity"));if(x.eq(si))return new E(0);if(e==null?(Kt=!1,f=S):f=e,x.eq(10))return e==null&&(Kt=!0),Hw(E,f);if(f+=b,E.precision=f,n=La(A),r=n.charAt(0),a=Pn(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=La(x.d),r=n.charAt(0),g++;a=Pn(x),r>1?(x=new E("0."+n),a++):x=new E(r+"."+n.slice(1))}else return d=Hw(E,f+2,S).times(a+""),x=Ih(new E(r+"."+n.slice(1)),f-b).plus(d),E.precision=S,e==null?(Kt=!0,jt(x,S)):x;for(u=l=x=Vs(x.minus(si),x.plus(si),f),p=jt(x.times(x),f),i=3;;){if(l=jt(l.times(p),f),d=u.plus(Vs(l,new E(i),f)),La(d.d).slice(0,f)===La(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(Hw(E,f+2,S).times(a+""))),u=Vs(u,new E(g),f),E.precision=S,e==null?(Kt=!0,jt(u,S)):u;u=d,i+=2}}function cR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Pd(n/Ut),t.d=[],r=(n+1)%Ut,n<0&&(r+=Ut),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ut;r<i;)t.d.push(+e.slice(r,r+=Ut));e=e.slice(r),r=Ut-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Kt&&(t.e>jy||t.e<-jy))throw Error(XE+n)}else t.s=0,t.e=0,t.d=[0];return t}function jt(t,e,n){var r,i,a,l,u,d,f,p,g=t.d;for(l=1,a=g[0];a>=10;a/=10)l++;if(r=e-l,r<0)r+=Ut,i=e,f=g[p=0];else{if(p=Math.ceil((r+1)/Ut),a=g.length,p>=a)return t;for(f=a=g[p],l=1;a>=10;a/=10)l++;r%=Ut,i=r-Ut+l}if(n!==void 0&&(a=ic(10,l-i-1),u=f/a%10|0,d=e<0||g[p+1]!==void 0||f%a,d=n<4?(u||d)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?f/ic(10,l-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return d?(a=Pn(t),g.length=1,e=e-a-1,g[0]=ic(10,(Ut-e%Ut)%Ut),t.e=Pd(-e/Ut)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,a=1,p--):(g.length=p+1,a=ic(10,Ut-r),g[p]=i>0?(f/ic(10,l-i)%ic(10,i)|0)*a:0),d)for(;;)if(p==0){(g[0]+=a)==Gn&&(g[0]=1,++t.e);break}else{if(g[p]+=a,g[p]!=Gn)break;g[p--]=0,a=1}for(r=g.length;g[--r]===0;)g.pop();if(Kt&&(t.e>jy||t.e<-jy))throw Error(XE+Pn(t));return t}function J5(t,e){var n,r,i,a,l,u,d,f,p,g,b=t.constructor,x=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Kt?jt(e,x):e;if(d=t.d,g=e.d,r=e.e,f=t.e,d=d.slice(),l=f-r,l){for(p=l<0,p?(n=d,l=-l,u=g.length):(n=g,r=f,u=d.length),i=Math.max(Math.ceil(x/Ut),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}l=0}for(p&&(n=d,d=g,g=n,e.s=-e.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>l;){if(d[--i]<g[i]){for(a=i;a&&d[--a]===0;)d[a]=Gn-1;--d[a],d[i]+=Gn}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Kt?jt(e,x):e):new b(0)}function Nc(t,e,n){var r,i=Pn(t),a=La(t.d),l=a.length;return e?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+zo(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+zo(-i-1)+a,n&&(r=n-l)>0&&(a+=zo(r))):i>=l?(a+=zo(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+zo(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=zo(r))),t.s<0?"-"+a:a}function uR(t,e){if(t.length>e)return t.length=e,!0}function eL(t){var e,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(yc+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return cR(l,a.toString())}else if(typeof a!="string")throw Error(yc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,Xie.test(a))cR(l,a);else throw Error(yc+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=eL,i.config=i.set=Qie,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Qie(t){if(!t||typeof t!="object")throw Error(Fi+"Object expected");var e,n,r,i=["precision",1,Nd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Pd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(yc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(yc+n+": "+r);return this}var QE=eL(Yie);si=new QE(1);const vt=QE;var Zie=t=>t,tL={},nL=t=>t===tL,dR=t=>function e(){return arguments.length===0||arguments.length===1&&nL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},rL=(t,e)=>t===1?e:dR(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==tL).length;return a>=t?e(...r):rL(t-a,dR(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=r.map(p=>nL(p)?u.shift():p);return e(...f,...u)}))}),Kv=t=>rL(t.length,t),g2=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Jie=Kv((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),eae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Zie;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),a(...arguments))}},y2=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),iL=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((l,u)=>{var d;return l===((d=e)===null||d===void 0?void 0:d[u])})||(e=i,n=t(...i)),n}};function aL(t){var e;return t===0?e=1:e=Math.floor(new vt(t).abs().log(10).toNumber())+1,e}function sL(t,e,n){for(var r=new vt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}Kv((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Kv((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Kv((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var oL=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},lL=(t,e,n)=>{if(t.lte(0))return new vt(0);var r=aL(t.toNumber()),i=new vt(10).pow(r),a=t.div(i),l=r!==1?.05:.1,u=new vt(Math.ceil(a.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return e?new vt(d.toNumber()):new vt(Math.ceil(d.toNumber()))},tae=(t,e,n)=>{var r=new vt(1),i=new vt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new vt(10).pow(aL(t)-1),i=new vt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new vt(Math.floor(t)))}else t===0?i=new vt(Math.floor((e-1)/2)):n||(i=new vt(Math.floor(t)));var l=Math.floor((e-1)/2),u=eae(Jie(d=>i.add(new vt(d-l).mul(r)).toNumber()),g2);return u(0,e)},cL=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var l=lL(new vt(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new vt(0):(u=new vt(e).add(n).div(2),u=u.sub(new vt(u).mod(l)));var d=Math.ceil(u.sub(e).div(l).toNumber()),f=Math.ceil(new vt(n).sub(u).div(l).toNumber()),p=d+f+1;return p>r?cL(e,n,r,i,a+1):(p<r&&(f=n>0?f+(r-p):f,d=n>0?d:d+(r-p)),{step:l,tickMin:u.sub(new vt(d).mul(l)),tickMax:u.add(new vt(f).mul(l))})};function nae(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[l,u]=oL([e,n]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...g2(0,r-1).map(()=>1/0)]:[...g2(0,r-1).map(()=>-1/0),u];return e>n?y2(d):d}if(l===u)return tae(l,r,i);var{step:f,tickMin:p,tickMax:g}=cL(l,u,a,i,0),b=sL(p,g.add(new vt(.1).mul(f)),f);return e>n?y2(b):b}function rae(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=oL([n,r]);if(a===-1/0||l===1/0)return[n,r];if(a===l)return[a];var u=Math.max(e,2),d=lL(new vt(l).sub(a).div(u-1),i,0),f=[...sL(new vt(a),new vt(l),d),l];return i===!1&&(f=f.map(p=>Math.round(p))),n>r?y2(f):f}var iae=iL(nae),aae=iL(rae),uL=t=>t.rootProps.maxBarSize,sae=t=>t.rootProps.barGap,dL=t=>t.rootProps.barCategoryGap,oae=t=>t.rootProps.barSize,fm=t=>t.rootProps.stackOffset,ZE=t=>t.options.chartName,JE=t=>t.rootProps.syncId,fL=t=>t.rootProps.syncMethod,eA=t=>t.options.eventEmitter,Ts={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ii={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Gv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},lae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ts.angleAxisId,includeHidden:!1,name:void 0,reversed:Ts.reversed,scale:Ts.scale,tick:Ts.tick,tickCount:void 0,ticks:void 0,type:Ts.type,unit:void 0},cae={allowDataOverflow:ii.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ii.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ii.scale,tick:ii.tick,tickCount:ii.tickCount,ticks:void 0,type:ii.type,unit:void 0},uae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ts.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ts.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ts.scale,tick:Ts.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},dae={allowDataOverflow:ii.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ii.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ii.scale,tick:ii.tick,tickCount:ii.tickCount,ticks:void 0,type:"category",unit:void 0},tA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?uae:lae,nA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?dae:cae,Wv=t=>t.polarOptions,rA=ee([eo,to,Ln],W6),hL=ee([Wv,rA],(t,e)=>{if(t!=null)return vr(t.innerRadius,e,0)}),mL=ee([Wv,rA],(t,e)=>{if(t!=null)return vr(t.outerRadius,e,e*.8)}),fae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},pL=ee([Wv],fae);ee([tA,pL],Gv);var gL=ee([rA,hL,mL],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ee([nA,gL],Gv);var yL=ee([Je,Wv,hL,mL,eo,to],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=e;return{cx:vr(l,i,i/2),cy:vr(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Wt=(t,e)=>e,hm=(t,e,n)=>n;function Yv(t){return t?.id}var Bn=t=>{var e=Je(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},jd=t=>t.tooltip.settings.axisId,Qn=t=>{var e=Bn(t),n=jd(t);return mm(t,e,n)},vL=ee([Qn],t=>t?.dataKey);function bL(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return t.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var p=Yv(u);f.forEach((g,b)=>{var x=a==null||i?b:String(Ct(g,a,null)),A=Ct(g,u.dataKey,0),E;l.has(x)?E=l.get(x):E={},Object.assign(E,{[p]:A}),l.set(x,E)})}}),Array.from(l.values())}function Xv(t){return t.stackId!=null&&t.dataKey!=null}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){hae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hae(t,e,n){return(e=mae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mae(t){var e=pae(t,"string");return typeof e=="symbol"?e:e+""}function pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v2=[0,"auto"],ni={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},xL=(t,e)=>t.cartesianAxis.xAxis[e],io=(t,e)=>{var n=xL(t,e);return n??ni},ri={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:v2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:am},wL=(t,e)=>t.cartesianAxis.yAxis[e],ao=(t,e)=>{var n=wL(t,e);return n??ri},gae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},iA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??gae},vn=(t,e,n)=>{switch(e){case"xAxis":return io(t,n);case"yAxis":return ao(t,n);case"zAxis":return iA(t,n);case"angleAxis":return tA(t,n);case"radiusAxis":return nA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},yae=(t,e,n)=>{switch(e){case"xAxis":return io(t,n);case"yAxis":return ao(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},mm=(t,e,n)=>{switch(e){case"xAxis":return io(t,n);case"yAxis":return ao(t,n);case"angleAxis":return tA(t,n);case"radiusAxis":return nA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},_L=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function aA(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var pm=t=>t.graphicalItems.cartesianItems,vae=ee([Wt,hm],aA),sA=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),gm=ee([pm,vn,vae],sA),EL=ee([gm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Xv)),AL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),SL=ee([gm],AL),oA=t=>t.map(e=>e.data).filter(Boolean).flat(1),bae=ee([gm],oA),lA=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},cA=ee([bae,dm],lA),uA=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Ct(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Ct(i,r)}))):t.map(r=>({value:r})),Qv=ee([cA,vn,gm],uA);function TL(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Fc(t){return t.filter(e=>Wa(e)||e instanceof Date).map(Number).filter(e=>Hr(e)===!1)}function xae(t,e,n){return!n||typeof e!="number"||Hr(e)?[]:n.length?Fc(n.flatMap(r=>{var i=Ct(t,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!or(a)||!or(l)))return[e-a,e+l]})):[]}var wae=ee([EL,dm,Qn],bL),CL=(t,e,n)=>{var r={},i=e.reduce((a,l)=>(l.stackId==null||(a[l.stackId]==null&&(a[l.stackId]=[]),a[l.stackId].push(l)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[l,u]=a,d=u.map(Yv);return[l,{stackedData:Tee(t,d,n),graphicalItems:u}]}))},Rh=ee([wae,EL,fm],CL),NL=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=jee(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},_ae=ee([Rh,_l,Wt],NL),PL=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(l=>{var u,d,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(g=>TL(i,g)),p=Ct(a,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey);return{value:p,errorDomain:xae(a,p,f)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:Ct(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),Zv=t=>t.errorBars,jL=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>TL(n,r));ee([SL,Zv,Wt],jL);var Eae=ee([cA,vn,SL,Zv,Wt],PL);function Aae(t){var{value:e}=t;if(Wa(e)||e instanceof Date)return e}var hR=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Fc(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Sae=(t,e,n)=>{var r=t.map(Aae).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&$3(r))?p5(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},dA=t=>{var e;if(t==null||!("domain"in t))return v2;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Fc(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:v2},Iy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},OL=t=>t.referenceElements.dots,Od=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Tae=ee([OL,Wt,hm],Od),IL=t=>t.referenceElements.areas,Cae=ee([IL,Wt,hm],Od),RL=t=>t.referenceElements.lines,Nae=ee([RL,Wt,hm],Od),kL=(t,e)=>{var n=Fc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Pae=ee(Tae,Wt,kL),DL=(t,e)=>{var n=Fc(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},jae=ee([Cae,Wt],DL),ML=(t,e)=>{var n=Fc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Oae=ee(Nae,Wt,ML),Iae=ee(Pae,Oae,jae,(t,e,n)=>Iy(t,n,e)),LL=ee([vn],dA),fA=(t,e,n,r,i,a,l)=>{var u=Gie(e,t.allowDataOverflow);if(u!=null)return u;var d=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",f=d?Iy(n,i,hR(r)):Iy(i,hR(r));return Wie(e,f,t.allowDataOverflow)},Rae=ee([vn,LL,_ae,Eae,Iae,Je,Wt],fA),kae=[0,1],hA=(t,e,n,r,i,a,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=t,f=ts(e,a);return f&&u==null?p5(0,n.length):d==="category"?Sae(r,t,f):i==="expand"?kae:l}},mA=ee([vn,Je,cA,Qv,fm,Wt,Rae],hA),VL=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:l}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(tm(a));return u in sh?u:"point"}}},Id=ee([vn,Je,_L,ZE,Wt],VL);function Dae(t){if(t!=null){if(t in sh)return sh[t]();var e="scale".concat(tm(t));if(e in sh)return sh[e]()}}function pA(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Dae(e);if(i!=null){var a=i.domain(n).range(r);return wee(a),a}}}var gA=(t,e,n)=>{var r=dA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ud(t))return iae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ud(t))return aae(t,e.tickCount,e.allowDecimals)}},yA=ee([mA,mm,Id],gA),vA=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&ud(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,a),Math.max(l,u)]}return e},Mae=ee([vn,mA,yA,Wt],vA),Lae=ee(Qv,vn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Fc(t.map(u=>u.value))).sort((u,d)=>u-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/i}}),UL=ee(Lae,Je,dL,Ln,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!or(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var l=vr(n,t*a),u=t*a/2;return u-l-(u-l)/a*l}return 0}),Vae=(t,e)=>{var n=io(t,e);return n==null||typeof n.padding!="string"?0:UL(t,"xAxis",e,n.padding)},Uae=(t,e)=>{var n=ao(t,e);return n==null||typeof n.padding!="string"?0:UL(t,"yAxis",e,n.padding)},Bae=ee(io,Vae,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),zae=ee(ao,Uae,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),$ae=ee([Ln,Bae,Uv,Vv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Fae=ee([Ln,Je,zae,Uv,Vv,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ym=(t,e,n,r)=>{var i;switch(e){case"xAxis":return $ae(t,n,r);case"yAxis":return Fae(t,n,r);case"zAxis":return(i=iA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return pL(t);case"radiusAxis":return gL(t,n);default:return}},BL=ee([vn,ym],Gv),Rd=ee([vn,Id,Mae,BL],pA);ee([gm,Zv,Wt],jL);function zL(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Jv=(t,e)=>e,e0=(t,e,n)=>n,qae=ee(Mv,Jv,e0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(zL)),Hae=ee(Lv,Jv,e0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(zL)),$L=(t,e)=>({width:t.width,height:e.height}),Kae=(t,e)=>{var n=typeof e.width=="number"?e.width:am;return{width:n,height:t.height}},FL=ee(Ln,io,$L),Gae=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Wae=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Yae=ee(to,Ln,qae,Jv,e0,(t,e,n,r,i)=>{var a={},l;return n.forEach(u=>{var d=$L(e,u);l==null&&(l=Gae(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),a}),Xae=ee(eo,Ln,Hae,Jv,e0,(t,e,n,r,i)=>{var a={},l;return n.forEach(u=>{var d=Kae(e,u);l==null&&(l=Wae(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),a}),Qae=(t,e)=>{var n=io(t,e);if(n!=null)return Yae(t,n.orientation,n.mirror)},Zae=ee([Ln,io,Qae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Jae=(t,e)=>{var n=ao(t,e);if(n!=null)return Xae(t,n.orientation,n.mirror)},ese=ee([Ln,ao,Jae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),qL=ee(Ln,ao,(t,e)=>{var n=typeof e.width=="number"?e.width:am;return{width:n,height:t.height}}),mR=(t,e,n)=>{switch(e){case"xAxis":return FL(t,n).width;case"yAxis":return qL(t,n).height;default:return}},HL=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=ts(t,r),d=e.map(f=>f.value);if(l&&u&&a==="category"&&i&&$3(d))return d}},bA=ee([Je,Qv,vn,Wt],HL),KL=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=ts(t,r);if(l&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},xA=ee([Je,Qv,mm,Wt],KL),pR=ee([Je,yae,Id,Rd,bA,xA,ym,yA,Wt],(t,e,n,r,i,a,l,u,d)=>{if(e==null)return null;var f=ts(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}),tse=(t,e,n,r,i,a,l,u,d)=>{if(!(e==null||r==null)){var f=ts(t,d),{type:p,ticks:g,tickCount:b}=e,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,A=p==="category"&&r.bandwidth?r.bandwidth()/x:0;A=d==="angleAxis"&&a!=null&&a.length>=2?Wn(a[0]-a[1])*2*A:A;var E=g||i;if(E){var S=E.map((C,P)=>{var N=l?l.indexOf(C):C;return{index:P,coordinate:r(N)+A,value:C,offset:A}});return S.filter(C=>!Hr(C.coordinate))}return f&&u?u.map((C,P)=>({coordinate:r(C)+A,value:C,index:P,offset:A})):r.ticks?r.ticks(b).map(C=>({coordinate:r(C)+A,value:C,offset:A})):r.domain().map((C,P)=>({coordinate:r(C)+A,value:l?l[C]:C,index:P,offset:A}))}},GL=ee([Je,mm,Id,Rd,yA,ym,bA,xA,Wt],tse),nse=(t,e,n,r,i,a,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=ts(t,l),{tickCount:d}=e,f=0;return f=l==="angleAxis"&&r?.length>=2?Wn(r[0]-r[1])*2*f:f,u&&a?a.map((p,g)=>({coordinate:n(p)+f,value:p,index:g,offset:f})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,g)=>({coordinate:n(p)+f,value:i?i[p]:p,index:g,offset:f}))}},Xa=ee([Je,mm,Rd,ym,bA,xA,Wt],nse),Qa=ee(vn,Rd,(t,e)=>{if(!(t==null||e==null))return Oy(Oy({},t),{},{scale:e})}),rse=ee([vn,Id,mA,BL],pA);ee((t,e,n)=>iA(t,n),rse,(t,e)=>{if(!(t==null||e==null))return Oy(Oy({},t),{},{scale:e})});var ise=ee([Je,Mv,Lv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),WL=t=>t.options.defaultTooltipEventType,YL=t=>t.options.validateTooltipEventTypes;function XL(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function wA(t,e){var n=WL(t),r=YL(t);return XL(e,n,r)}function ase(t){return Ne(e=>wA(e,t))}var QL=(t,e)=>{var n,r=Number(e);if(!(Hr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},sse=t=>t.tooltip.settings,Ko={active:!1,index:null,dataKey:void 0,coordinate:void 0},ose={itemInteraction:{click:Ko,hover:Ko},axisInteraction:{click:Ko,hover:Ko},keyboardInteraction:Ko,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ZL=mi({name:"tooltip",initialState:ose,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Ls(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:lse,removeTooltipEntrySettings:cse,setTooltipSettingsState:use,setActiveMouseOverItemIndex:JL,mouseLeaveItem:dse,mouseLeaveChart:e9,setActiveClickItemIndex:fse,setMouseOverAxisIndex:t9,setMouseClickAxisIndex:hse,setSyncInteraction:b2,setKeyboardInteraction:x2}=ZL.actions,mse=ZL.reducer;function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){pse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pse(t,e,n){return(e=gse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gse(t){var e=yse(t,"string");return typeof e=="symbol"?e:e+""}function yse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vse(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function bse(t){return t.index!=null}var n9=(t,e,n,r)=>{if(e==null)return Ko;var i=vse(t,e,n);if(i==null)return Ko;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(bse(i)){if(a)return sg(sg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return sg(sg({},Ko),{},{coordinate:i.coordinate})},_A=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!or(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},r9=(t,e,n,r,i,a,l,u)=>{if(!(a==null||u==null)){var d=l[0],f=d==null?void 0:u(d.positions,a);if(f!=null)return f;var p=i?.[Number(a)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},i9=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},vm=t=>t.options.tooltipPayloadSearcher,kd=t=>t.tooltip;function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){xse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xse(t,e,n){return(e=wse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wse(t){var e=_se(t,"string");return typeof e=="symbol"?e:e+""}function _se(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ese(t,e){return t??e}var a9=(t,e,n,r,i,a,l)=>{if(!(e==null||a==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:p}=n,g=[];return t.reduce((b,x)=>{var A,{dataDefinedOnItem:E,settings:S}=x,C=Ese(E,u),P=Array.isArray(C)?Y6(C,f,p):C,N=(A=S?.dataKey)!==null&&A!==void 0?A:r,L=S?.nameKey,M;if(r&&Array.isArray(P)&&!Array.isArray(P[0])&&l==="axis"?M=F3(P,r,i):M=a(P,e,d,L),Array.isArray(M))M.forEach(R=>{var I=vR(vR({},S),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});b.push(eI({tooltipEntrySettings:I,dataKey:R.dataKey,payload:R.payload,value:Ct(R.payload,R.dataKey),name:R.name}))});else{var U;b.push(eI({tooltipEntrySettings:S,dataKey:N,payload:M,value:Ct(M,N),name:(U=Ct(M,L))!==null&&U!==void 0?U:S?.name}))}return b},g)}},EA=ee([Qn,Je,_L,ZE,Bn],VL),Ase=ee([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Sse=ee([Bn,jd],aA),bm=ee([Ase,Qn,Sse],sA),Tse=ee([bm],t=>t.filter(Xv)),Cse=ee([bm],oA),Dd=ee([Cse,_l],lA),Nse=ee([Tse,_l,Qn],bL),AA=ee([Dd,Qn,bm],uA),Pse=ee([Qn],dA),jse=ee([bm],t=>t.filter(Xv)),Ose=ee([Nse,jse,fm],CL),Ise=ee([Ose,_l,Bn],NL),Rse=ee([bm],AL),kse=ee([Dd,Qn,Rse,Zv,Bn],PL),Dse=ee([OL,Bn,jd],Od),Mse=ee([Dse,Bn],kL),Lse=ee([IL,Bn,jd],Od),Vse=ee([Lse,Bn],DL),Use=ee([RL,Bn,jd],Od),Bse=ee([Use,Bn],ML),zse=ee([Mse,Bse,Vse],Iy),$se=ee([Qn,Pse,Ise,kse,zse,Je,Bn],fA),s9=ee([Qn,Je,Dd,AA,fm,Bn,$se],hA),Fse=ee([s9,Qn,EA],gA),qse=ee([Qn,s9,Fse,Bn],vA),o9=t=>{var e=Bn(t),n=jd(t),r=!1;return ym(t,e,n,r)},l9=ee([Qn,o9],Gv),c9=ee([Qn,EA,qse,l9],pA),Hse=ee([Je,AA,Qn,Bn],HL),Kse=ee([Je,AA,Qn,Bn],KL),Gse=(t,e,n,r,i,a,l,u)=>{if(e){var{type:d}=e,f=ts(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?Wn(i[0]-i[1])*2*g:g,f&&l?l.map((b,x)=>({coordinate:r(b)+g,value:b,index:x,offset:g})):r.domain().map((b,x)=>({coordinate:r(b)+g,value:a?a[b]:b,index:x,offset:g}))}}},so=ee([Je,Qn,EA,c9,o9,Hse,Kse,Bn],Gse),SA=ee([WL,YL,sse],(t,e,n)=>XL(n.shared,t,e)),u9=t=>t.tooltip.settings.trigger,TA=t=>t.tooltip.settings.defaultIndex,t0=ee([kd,SA,u9,TA],n9),ul=ee([t0,Dd],_A),d9=ee([so,ul],QL),f9=ee([t0],t=>{if(t)return t.dataKey}),h9=ee([kd,SA,u9,TA],i9),Wse=ee([eo,to,Je,Ln,so,TA,h9,vm],r9),Yse=ee([t0,Wse],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Xse=ee([t0],t=>t.active),Qse=ee([h9,ul,_l,vL,d9,vm,SA],a9),Zse=ee([Qse],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){Jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jse(t,e,n){return(e=eoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eoe(t){var e=toe(t,"string");return typeof e=="symbol"?e:e+""}function toe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var noe=()=>Ne(Qn),roe=()=>{var t=noe(),e=Ne(so),n=Ne(c9);return Cc(xR(xR({},t),{},{scale:n}),e)},m9=()=>Ne(ZE),CA=(t,e)=>e,p9=(t,e,n)=>n,NA=(t,e,n,r)=>r,ioe=ee(so,t=>jv(t,e=>e.coordinate)),PA=ee([kd,CA,p9,NA],n9),g9=ee([PA,Dd],_A),aoe=(t,e,n)=>{if(e!=null){var r=kd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},y9=ee([kd,CA,p9,NA],i9),Ry=ee([eo,to,Je,Ln,so,NA,y9,vm],r9),soe=ee([PA,Ry],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),v9=ee(so,g9,QL),ooe=ee([y9,g9,_l,vL,v9,vm,CA],a9),loe=ee([PA],t=>({isActive:t.active,activeIndex:t.index})),coe=(t,e,n,r,i,a,l,u)=>{if(!(!t||!e||!r||!i||!a)){var d=Oee(t.chartX,t.chartY,e,n,u);if(d){var f=Ree(d,e),p=bee(f,l,a,r,i),g=Iee(e,a,p,d);return{activeIndex:String(p),activeCoordinate:g}}}};function w2(){return w2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w2.apply(null,arguments)}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){uoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uoe(t,e,n){return(e=doe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function doe(t){var e=foe(t,"string");return typeof e=="symbol"?e:e+""}function foe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hoe(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:l,cursor:u,tooltipEventType:d,chartName:f}=t,p=e,g=n,b=r;if(!u||!p||f!=="ScatterChart"&&d!=="axis")return null;var x,A;if(f==="ScatterChart")x=p,A=Rte;else if(f==="BarChart")x=kte(l,p,i,a),A=d5;else if(l==="radial"){var{cx:E,cy:S,radius:C,startAngle:P,endAngle:N}=f5(p);x={cx:E,cy:S,startAngle:P,endAngle:N,innerRadius:C,outerRadius:C},A=m5}else x={points:hne(l,p,i)},A=qu;var L=typeof u=="object"&&"className"in u?u.className:void 0,M=og(og(og(og({stroke:"#ccc",pointerEvents:"none"},i),x),$t(u,!1)),{},{payload:g,payloadIndex:b,className:ot("recharts-tooltip-cursor",L)});return _.isValidElement(u)?_.cloneElement(u,M):_.createElement(A,M)}function moe(t){var e=roe(),n=n5(),r=sm(),i=m9();return _.createElement(hoe,w2({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var b9=_.createContext(null),poe=()=>_.useContext(b9),Kw={exports:{}},_R;function goe(){return _R||(_R=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function a(d,f,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,g||d,b),A=n?n+f:f;return d._events[A]?d._events[A].fn?d._events[A]=[d._events[A],x]:d._events[A].push(x):(d._events[A]=x,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)e.call(p,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=n?n+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,x=g.length,A=new Array(x);b<x;b++)A[b]=g[b].fn;return A},u.prototype.listenerCount=function(f){var p=n?n+f:f,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,p,g,b,x,A){var E=n?n+f:f;if(!this._events[E])return!1;var S=this._events[E],C=arguments.length,P,N;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),C){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,b),!0;case 5:return S.fn.call(S.context,p,g,b,x),!0;case 6:return S.fn.call(S.context,p,g,b,x,A),!0}for(N=1,P=new Array(C-1);N<C;N++)P[N-1]=arguments[N];S.fn.apply(S.context,P)}else{var L=S.length,M;for(N=0;N<L;N++)switch(S[N].once&&this.removeListener(f,S[N].fn,void 0,!0),C){case 1:S[N].fn.call(S[N].context);break;case 2:S[N].fn.call(S[N].context,p);break;case 3:S[N].fn.call(S[N].context,p,g);break;case 4:S[N].fn.call(S[N].context,p,g,b);break;default:if(!P)for(M=1,P=new Array(C-1);M<C;M++)P[M-1]=arguments[M];S[N].fn.apply(S[N].context,P)}}return!0},u.prototype.on=function(f,p,g){return a(this,f,p,g,!1)},u.prototype.once=function(f,p,g){return a(this,f,p,g,!0)},u.prototype.removeListener=function(f,p,g,b){var x=n?n+f:f;if(!this._events[x])return this;if(!p)return l(this,x),this;var A=this._events[x];if(A.fn)A.fn===p&&(!b||A.once)&&(!g||A.context===g)&&l(this,x);else{for(var E=0,S=[],C=A.length;E<C;E++)(A[E].fn!==p||b&&!A[E].once||g&&A[E].context!==g)&&S.push(A[E]);S.length?this._events[x]=S.length===1?S[0]:S:l(this,x)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(Kw)),Kw.exports}var yoe=goe();const voe=Qs(yoe);var kh=new voe,_2="recharts.syncEvent.tooltip",ER="recharts.syncEvent.brush";function n0(t,e){if(e){var n=Number.parseInt(e,10);if(!Hr(n))return t?.[n]}}var boe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},x9=mi({name:"options",initialState:boe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),xoe=x9.reducer,{createEventEmitter:woe}=x9.actions;function _oe(t){return t.tooltip.syncInteraction}var Eoe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},w9=mi({name:"chartData",initialState:Eoe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:AR,setDataStartEndIndexes:Aoe,setComputedData:Qpe}=w9.actions,Soe=w9.reducer,Toe=["x","y"];function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){Coe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Coe(t,e,n){return(e=Noe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Noe(t){var e=Poe(t,"string");return typeof e=="symbol"?e:e+""}function Poe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function joe(t,e){if(t==null)return{};var n,r,i=Ooe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ooe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _9=()=>{};function Ioe(){var t=Ne(JE),e=Ne(eA),n=an(),r=Ne(fL),i=Ne(so),a=sm(),l=_E(),u=Ne(d=>d.rootProps.className);_.useEffect(()=>{if(t==null)return _9;var d=(f,p,g)=>{if(e!==g&&t===f){if(r==="index"){var b;if(l&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate){var x=p.payload.coordinate,{x:A,y:E}=x,S=joe(x,Toe),C=ec(ec(ec({},S),typeof A=="number"&&{x:Math.max(l.x,Math.min(A,l.x+l.width))}),typeof E=="number"&&{y:Math.max(l.y,Math.min(E,l.y+l.height))}),P=ec(ec({},p),{},{payload:ec(ec({},p.payload),{},{coordinate:C})});n(P)}else n(p);return}if(i!=null){var N;if(typeof r=="function"){var L={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},M=r(i,L);N=i[M]}else r==="value"&&(N=i.find(B=>String(B.value)===p.payload.label));var{coordinate:U}=p.payload;if(N==null||p.payload.active===!1||U==null||l==null){n(b2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:R,y:I}=U,k=Math.min(R,l.x+l.width),$=Math.min(I,l.y+l.height),V={x:a==="horizontal"?N.coordinate:k,y:a==="horizontal"?$:N.coordinate},F=b2({active:p.payload.active,coordinate:V,dataKey:p.payload.dataKey,index:String(N.index),label:p.payload.label});n(F)}}};return kh.on(_2,d),()=>{kh.off(_2,d)}},[u,n,e,t,r,i,a,l])}function Roe(){var t=Ne(JE),e=Ne(eA),n=an();_.useEffect(()=>{if(t==null)return _9;var r=(i,a,l)=>{e!==l&&t===i&&n(Aoe(a))};return kh.on(ER,r),()=>{kh.off(ER,r)}},[n,e,t])}function koe(){var t=an();_.useEffect(()=>{t(woe())},[t]),Ioe(),Roe()}function Doe(t,e,n,r,i,a){var l=Ne(b=>aoe(b,t,e)),u=Ne(eA),d=Ne(JE),f=Ne(fL),p=Ne(_oe),g=p?.active;_.useEffect(()=>{if(!g&&d!=null&&u!=null){var b=b2({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});kh.emit(_2,d,b,u)}},[g,n,l,i,r,u,d,f,a])}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){Moe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Moe(t,e,n){return(e=Loe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Loe(t){var e=Voe(t,"string");return typeof e=="symbol"?e:e+""}function Voe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uoe(t){return t.dataKey}function Boe(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(dte,e)}var NR=[],zoe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!no.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xm(t){var e=Vn(t,zoe),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:p,position:g,reverseDirection:b,useTranslate3d:x,wrapperStyle:A,cursor:E,shared:S,trigger:C,defaultIndex:P,portal:N,axisId:L}=e,M=an(),U=typeof P=="number"?String(P):P;_.useEffect(()=>{M(use({shared:S,trigger:C,axisId:L,active:n,defaultIndex:U}))},[M,S,C,L,n,U]);var R=_E(),I=s5(),k=ase(S),{activeIndex:$,isActive:V}=Ne(be=>loe(be,k,C,U)),F=Ne(be=>ooe(be,k,C,U)),B=Ne(be=>v9(be,k,C,U)),ve=Ne(be=>soe(be,k,C,U)),ie=F,G=poe(),W=n??V,[ae,ye]=E6([ie,W]),H=k==="axis"?B:void 0;Doe(k,C,ve,H,$,W);var le=N??G;if(le==null)return null;var ue=ie??NR;W||(ue=NR),u&&ue.length&&(ue=v6(ie.filter(be=>be.value!=null&&(be.hide!==!0||e.includeHidden)),p,Uoe));var oe=ue.length>0,he=_.createElement(vte,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:d,active:W,coordinate:ve,hasPayload:oe,offset:f,position:g,reverseDirection:b,useTranslate3d:x,viewBox:R,wrapperStyle:A,lastBoundingBox:ae,innerRef:ye,hasPortalFromProps:!!N},Boe(l,CR(CR({},e),{},{payload:ue,label:H,active:W,coordinate:ve,accessibilityLayer:I})));return _.createElement(_.Fragment,null,Zk.createPortal(he,le),W&&_.createElement(moe,{cursor:E,tooltipEventType:k,coordinate:ve,payload:ie,index:$}))}var Gw={},Ww={},Yw={},PR;function $oe(){return PR||(PR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let l,u=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{f&&p(),E()};let b=null;const x=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},A=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{A(),l=void 0,u=null},S=()=>{p()},C=function(...P){if(i?.aborted)return;l=this,u=P;const N=b==null;x(),d&&N&&p()};return C.schedule=x,C.cancel=E,C.flush=S,i?.addEventListener("abort",E,{once:!0}),C}t.debounce=e})(Yw)),Yw}var jR;function Foe(){return jR||(jR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$oe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:d}=a,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let p,g=null;const b=e.debounce(function(...E){p=r.apply(this,E),g=null},i,{edges:f}),x=function(...E){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(p=r.apply(this,E),g=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,E),p)},A=()=>(b.flush(),p);return x.cancel=b.cancel,x.flush=A,x}t.debounce=n})(Ww)),Ww}var OR;function qoe(){return OR||(OR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Foe();function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(Gw)),Gw}var Xw,IR;function Hoe(){return IR||(IR=1,Xw=qoe().throttle),Xw}var Koe=Hoe();const Goe=Qs(Koe);var hh=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){Woe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Woe(t,e,n){return(e=Yoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yoe(t){var e=Xoe(t,"string");return typeof e=="symbol"?e:e+""}function Xoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wm=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:l=0,minHeight:u,maxHeight:d,children:f,debounce:p=0,id:g,className:b,onResize:x,style:A={}}=t,E=_.useRef(null),S=_.useRef();S.current=x,_.useImperativeHandle(e,()=>E.current);var[C,P]=_.useState({containerWidth:r.width,containerHeight:r.height}),N=_.useCallback((M,U)=>{P(R=>{var I=Math.round(M),k=Math.round(U);return R.containerWidth===I&&R.containerHeight===k?R:{containerWidth:I,containerHeight:k}})},[]);_.useEffect(()=>{var M=k=>{var $,{width:V,height:F}=k[0].contentRect;N(V,F),($=S.current)===null||$===void 0||$.call(S,V,F)};p>0&&(M=Goe(M,p,{trailing:!0,leading:!1}));var U=new ResizeObserver(M),{width:R,height:I}=E.current.getBoundingClientRect();return N(R,I),U.observe(E.current),()=>{U.disconnect()}},[N,p]);var L=_.useMemo(()=>{var{containerWidth:M,containerHeight:U}=C;if(M<0||U<0)return null;hh(lc(i)||lc(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),hh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=lc(i)?M:i,I=lc(a)?U:a;return n&&n>0&&(R?I=R/n:I&&(R=I*n),d&&I>d&&(I=d)),hh(R>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,I,i,a,l,u,n),_.Children.map(f,k=>_.cloneElement(k,{width:R,height:I,style:Qw({width:R,height:I},k.props.style)}))},[n,f,a,d,u,l,C,i]);return _.createElement("div",{id:g?"".concat(g):void 0,className:ot("recharts-responsive-container",b),style:Qw(Qw({},A),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:d}),ref:E},_.createElement("div",{style:{width:0,height:0,overflow:"visible"}},L))}),qc=t=>null;qc.displayName="Cell";function Qoe(t,e,n){return(e=Zoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zoe(t){var e=Joe(t,"string");return typeof e=="symbol"?e:e+""}function Joe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ele{constructor(e){Qoe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){nle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nle(t,e,n){return(e=rle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rle(t){var e=ile(t,"string");return typeof e=="symbol"?e:e+""}function ile(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ale={cacheSize:2e3,enableCache:!0},E9=tle({},ale),DR=new ele(E9.cacheSize),sle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MR="recharts_measurement_span";function ole(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var LR=(t,e)=>{try{var n=document.getElementById(MR);n||(n=document.createElement("span"),n.setAttribute("id",MR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,sle,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},mh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||no.isSsr)return{width:0,height:0};if(!E9.enableCache)return LR(e,n);var r=ole(e,n),i=DR.get(r);if(i)return i;var a=LR(e,n);return DR.set(r,a),a},VR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,A9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ule=Object.keys(A9),Du="NaN";function dle(t,e){return t*A9[e]}class Vr{static parse(e){var n,[,r,i]=(n=cle.exec(e))!==null&&n!==void 0?n:[];return new Vr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Hr(e)&&(this.unit=""),n!==""&&!lle.test(n)&&(this.num=NaN,this.unit=""),ule.includes(n)&&(this.num=dle(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Vr(NaN,""):new Vr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Vr(NaN,""):new Vr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Vr(NaN,""):new Vr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Vr(NaN,""):new Vr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Hr(this.num)}}function S9(t){if(t.includes(Du))return Du;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=VR.exec(e))!==null&&n!==void 0?n:[],l=Vr.parse(r??""),u=Vr.parse(a??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Du;e=e.replace(VR,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,p,g,b]=(f=UR.exec(e))!==null&&f!==void 0?f:[],x=Vr.parse(p??""),A=Vr.parse(b??""),E=g==="+"?x.add(A):x.subtract(A);if(E.isNaN())return Du;e=e.replace(UR,E.toString())}return e}var BR=/\(([^()]*)\)/;function fle(t){for(var e=t,n;(n=BR.exec(e))!=null;){var[,r]=n;e=e.replace(BR,S9(r))}return e}function hle(t){var e=t.replace(/\s+/g,"");return e=fle(e),e=S9(e),e}function mle(t){try{return hle(t)}catch{return Du}}function Zw(t){var e=mle(t.slice(5,-1));return e===Du?"":e}var ple=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gle=["dx","dy","angle","className","breakAll"];function E2(){return E2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E2.apply(null,arguments)}function zR(t,e){if(t==null)return{};var n,r,i=yle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var T9=/[ \f\n\r\t\v\u2028\u2029]+/,C9=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];zt(e)||(n?i=e.toString().split(""):i=e.toString().split(T9));var a=i.map(u=>({word:u,width:mh(u,r).width})),l=n?0:mh(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},vle=(t,e,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:d}=t,f=Pe(a),p=l,g=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce((F,B)=>{var{word:ve,width:ie}=B,G=F[F.length-1];if(G&&(r==null||i||G.width+ie+n<Number(r)))G.words.push(ve),G.width+=ie+n;else{var W={words:[ve],width:ie};F.push(W)}return F},[])},b=g(e),x=$=>$.reduce((V,F)=>V.width>F.width?V:F);if(!f||i)return b;var A=b.length>a||x(b).width>Number(r);if(!A)return b;for(var E="…",S=$=>{var V=p.slice(0,$),F=C9({breakAll:d,style:u,children:V+E}).wordsWithComputedWidth,B=g(F),ve=B.length>a||x(B).width>Number(r);return[ve,B]},C=0,P=p.length-1,N=0,L;C<=P&&N<=p.length-1;){var M=Math.floor((C+P)/2),U=M-1,[R,I]=S(U),[k]=S(M);if(!R&&!k&&(C=M+1),R&&k&&(P=M-1),!R&&k){L=I;break}N++}return L||b},$R=t=>{var e=zt(t)?[]:t.toString().split(T9);return[{words:e}]},ble=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=t;if((e||n)&&!no.isSsr){var u,d,f=C9({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:p,spaceWidth:g}=f;u=p,d=g}else return $R(r);return vle({breakAll:a,children:r,maxLines:l,style:i},u,d,e,n)}return $R(r)},FR="#808080",r0=_.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:d="end",fill:f=FR}=t,p=zR(t,ple),g=_.useMemo(()=>ble({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:l,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,l,p.style,p.width]),{dx:b,dy:x,angle:A,className:E,breakAll:S}=p,C=zR(p,gle);if(!Wa(n)||!Wa(r)||g.length===0)return null;var P=n+(Pe(b)?b:0),N=r+(Pe(x)?x:0),L;switch(d){case"start":L=Zw("calc(".concat(a,")"));break;case"middle":L=Zw("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:L=Zw("calc(".concat(g.length-1," * -").concat(i,")"));break}var M=[];if(l){var U=g[0].width,{width:R}=p;M.push("scale(".concat(Pe(R)?R/U:1,")"))}return A&&M.push("rotate(".concat(A,", ").concat(P,", ").concat(N,")")),M.length&&(C.transform=M.join(" ")),_.createElement("text",E2({},$t(C,!0),{ref:e,x:P,y:N,className:ot("recharts-text",E),textAnchor:u,fill:f.includes("url")?FR:f}),g.map((I,k)=>{var $=I.words.join(S?"":" ");return _.createElement("tspan",{x:P,dy:k===0?L:i,key:"".concat($,"-").concat(k)},$)}))});r0.displayName="Text";var xle=["labelRef"];function wle(t,e){if(t==null)return{};var n,r,i=_le(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _le(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){Ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ele(t,e,n){return(e=Ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ale(t){var e=Sle(t,"string");return typeof e=="symbol"?e:e+""}function Sle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cs(){return Cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cs.apply(null,arguments)}var N9=_.createContext(null),Tle=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,l=_.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return _.createElement(N9.Provider,{value:l},a)},P9=()=>{var t=_.useContext(N9),e=_E();return t||e},Cle=_.createContext(null),Nle=()=>{var t=_.useContext(Cle),e=Ne(yL);return t||e},Ple=t=>{var{value:e,formatter:n}=t,r=zt(t.children)?e:t.children;return typeof n=="function"?n(r):r},jA=t=>t!=null&&typeof t=="function",jle=(t,e)=>{var n=Wn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Ole=(t,e,n,r,i)=>{var{offset:a,className:l}=t,{cx:u,cy:d,innerRadius:f,outerRadius:p,startAngle:g,endAngle:b,clockWise:x}=i,A=(f+p)/2,E=jle(g,b),S=E>=0?1:-1,C,P;switch(e){case"insideStart":C=g+S*a,P=x;break;case"insideEnd":C=b-S*a,P=!x;break;case"end":C=b+S*a,P=x;break;default:throw new Error("Unsupported position ".concat(e))}P=E<=0?P:!P;var N=Nn(u,d,A,C),L=Nn(u,d,A,C+(P?1:-1)*359),M="M".concat(N.x,",").concat(N.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(P?0:1,`,
    `).concat(L.x,",").concat(L.y),U=zt(t.id)?Ah("recharts-radial-line-"):t.id;return _.createElement("text",Cs({},r,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",l)}),_.createElement("defs",null,_.createElement("path",{id:U,d:M})),_.createElement("textPath",{xlinkHref:"#".concat(U)},n))},Ile=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:d}=t,f=(u+d)/2;if(n==="outside"){var{x:p,y:g}=Nn(r,i,l+e,f);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(a+l)/2,{x,y:A}=Nn(r,i,b,f);return{x,y:A,textAnchor:"middle",verticalAnchor:"middle"}},j9=t=>"cx"in t&&Pe(t.cx),Rle=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!j9(n)&&(a=n);var{x:l,y:u,width:d,height:f}=e,p=f>=0?1:-1,g=p*r,b=p>0?"end":"start",x=p>0?"start":"end",A=d>=0?1:-1,E=A*r,S=A>0?"end":"start",C=A>0?"start":"end";if(i==="top"){var P={x:l+d/2,y:u-p*r,textAnchor:"middle",verticalAnchor:b};return hn(hn({},P),a?{height:Math.max(u-a.y,0),width:d}:{})}if(i==="bottom"){var N={x:l+d/2,y:u+f+g,textAnchor:"middle",verticalAnchor:x};return hn(hn({},N),a?{height:Math.max(a.y+a.height-(u+f),0),width:d}:{})}if(i==="left"){var L={x:l-E,y:u+f/2,textAnchor:S,verticalAnchor:"middle"};return hn(hn({},L),a?{width:Math.max(L.x-a.x,0),height:f}:{})}if(i==="right"){var M={x:l+d+E,y:u+f/2,textAnchor:C,verticalAnchor:"middle"};return hn(hn({},M),a?{width:Math.max(a.x+a.width-M.x,0),height:f}:{})}var U=a?{width:d,height:f}:{};return i==="insideLeft"?hn({x:l+E,y:u+f/2,textAnchor:C,verticalAnchor:"middle"},U):i==="insideRight"?hn({x:l+d-E,y:u+f/2,textAnchor:S,verticalAnchor:"middle"},U):i==="insideTop"?hn({x:l+d/2,y:u+g,textAnchor:"middle",verticalAnchor:x},U):i==="insideBottom"?hn({x:l+d/2,y:u+f-g,textAnchor:"middle",verticalAnchor:b},U):i==="insideTopLeft"?hn({x:l+E,y:u+g,textAnchor:C,verticalAnchor:x},U):i==="insideTopRight"?hn({x:l+d-E,y:u+g,textAnchor:S,verticalAnchor:x},U):i==="insideBottomLeft"?hn({x:l+E,y:u+f-g,textAnchor:C,verticalAnchor:b},U):i==="insideBottomRight"?hn({x:l+d-E,y:u+f-g,textAnchor:S,verticalAnchor:b},U):i&&typeof i=="object"&&(Pe(i.x)||lc(i.x))&&(Pe(i.y)||lc(i.y))?hn({x:l+vr(i.x,d),y:u+vr(i.y,f),textAnchor:"end",verticalAnchor:"end"},U):hn({x:l+d/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},U)},kle={offset:5};function $o(t){var e=Vn(t,kle),{viewBox:n,position:r,value:i,children:a,content:l,className:u="",textBreakAll:d,labelRef:f}=e,p=Nle(),g=P9(),b=r==="center"?g:p??g,x=n||b;if(!x||zt(i)&&zt(a)&&!_.isValidElement(l)&&typeof l!="function")return null;var A=hn(hn({},e),{},{viewBox:x});if(_.isValidElement(l)){var{labelRef:E}=A,S=wle(A,xle);return _.cloneElement(l,S)}var C;if(typeof l=="function"){if(C=_.createElement(l,A),_.isValidElement(C))return C}else C=Ple(e);var P=j9(x),N=$t(e,!0);if(P&&(r==="insideStart"||r==="insideEnd"||r==="end"))return Ole(e,r,C,N,x);var L=P?Ile(x,e.offset,e.position):Rle(e,x);return _.createElement(r0,Cs({ref:f,className:ot("recharts-label",u)},N,L,{breakAll:d}),C)}$o.displayName="Label";var Dle=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement($o,Cs({key:"label-implicit"},r)):Wa(t)?_.createElement($o,Cs({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===$o?_.cloneElement(t,hn({key:"label-implicit"},r)):_.createElement($o,Cs({key:"label-implicit",content:t},r)):jA(t)?_.createElement($o,Cs({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement($o,Cs({},t,{key:"label-implicit"},r)):null};function Mle(t){var{label:e}=t,n=P9();return Dle(e,n)||null}var Jw={},e1={},HR;function Lle(){return HR||(HR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(e1)),e1}var t1={},KR;function Vle(){return KR||(KR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(t1)),t1}var GR;function Ule(){return GR||(GR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lle(),n=Vle(),r=hE();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(Jw)),Jw}var n1,WR;function Ble(){return WR||(WR=1,n1=Ule().last),n1}var zle=Ble();const $le=Qs(zle);var Fle=["valueAccessor"],qle=["dataKey","clockWise","id","textBreakAll"];function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(null,arguments)}function YR(t,e){if(t==null)return{};var n,r,i=Hle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kle=t=>Array.isArray(t.value)?$le(t.value):t.value,O9=_.createContext(void 0),OA=O9.Provider,I9=_.createContext(void 0),Gle=I9.Provider;function Wle(){return _.useContext(O9)}function Yle(){return _.useContext(I9)}function Eg(t){var{valueAccessor:e=Kle}=t,n=YR(t,Fle),{dataKey:r,clockWise:i,id:a,textBreakAll:l}=n,u=YR(n,qle),d=Wle(),f=Yle(),p=d||f;return!p||!p.length?null:_.createElement(cn,{className:"recharts-label-list"},p.map((g,b)=>{var x,A=zt(r)?e(g,b):Ct(g&&g.payload,r),E=zt(a)?{}:{id:"".concat(a,"-").concat(b)};return _.createElement($o,ky({},$t(g,!0),u,E,{fill:(x=n.fill)!==null&&x!==void 0?x:g.fill,parentViewBox:g.parentViewBox,value:A,textBreakAll:l,viewBox:g.viewBox,key:"label-".concat(b),index:b}))}))}Eg.displayName="LabelList";function i0(t){var{label:e}=t;return e?e===!0?_.createElement(Eg,{key:"labelList-implicit"}):_.isValidElement(e)||jA(e)?_.createElement(Eg,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(Eg,ky({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function A2(){return A2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A2.apply(null,arguments)}var IA=t=>{var{cx:e,cy:n,r,className:i}=t,a=ot("recharts-dot",i);return e===+e&&n===+n&&r===+r?_.createElement("circle",A2({},Hi(t),iE(t),{className:a,cx:e,cy:n,r})):null},R9=t=>t.graphicalItems.polarItems,Xle=ee([Wt,hm],aA),RA=ee([R9,vn,Xle],sA),Qle=ee([RA],oA),kA=ee([Qle,YE],lA),Zle=ee([kA,vn,RA],uA),Jle=ee([kA,vn,RA],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,l=Ct(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:Ct(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),XR=()=>{},ece=ee([vn,LL,XR,Jle,XR,Je,Wt],fA),k9=ee([vn,Je,kA,Zle,fm,Wt,ece],hA),tce=ee([k9,vn,Id],gA);ee([vn,k9,tce,Wt],vA);var nce={radiusAxis:{},angleAxis:{}},D9=mi({name:"polarAxis",initialState:nce,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Zpe,removeRadiusAxis:Jpe,addAngleAxis:ege,removeAngleAxis:tge}=D9.actions,rce=D9.reducer;function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){ice(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ice(t,e,n){return(e=ace(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ace(t){var e=sce(t,"string");return typeof e=="symbol"?e:e+""}function sce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oce=(t,e)=>e,DA=ee([R9,oce],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),lce=[],MA=(t,e,n)=>n?.length===0?lce:n,M9=ee([YE,DA,MA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>ZR(ZR({},e.presentationProps),a.props))),i!=null)return i}}),cce=ee([M9,DA,MA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,l=Ct(r,e.nameKey,e.name),u;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:vl(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),uce=ee([M9,DA,MA,Ln],(t,e,n,r)=>{if(!(e==null||t==null))return oue({offset:r,pieSettings:e,displayedData:t,cells:n})}),r1={},JR;function dce(){return JR||(JR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(r1)),r1}var i1,ek;function fce(){return ek||(ek=1,i1=dce().isPlainObject),i1}var hce=fce();const mce=Qs(hce);function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){pce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pce(t,e,n){return(e=gce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gce(t){var e=yce(t,"string");return typeof e=="symbol"?e:e+""}function yce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dy(){return Dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dy.apply(null,arguments)}var rk=(t,e,n,r,i)=>{var a=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-a/2,",").concat(e+i),l+="L ".concat(t+n-a/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},vce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bce=t=>{var e=Vn(t,vce),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:u}=e,{animationEasing:d,animationDuration:f,animationBegin:p,isUpdateAnimationActive:g}=e,b=_.useRef(),[x,A]=_.useState(-1),E=_.useRef(i),S=_.useRef(a),C=_.useRef(l),P=_.useRef(n),N=_.useRef(r),L=Td(t,"trapezoid-");if(_.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var ve=b.current.getTotalLength();ve&&A(ve)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var M=ot("recharts-trapezoid",u);if(!g)return _.createElement("g",null,_.createElement("path",Dy({},$t(e,!0),{className:M,d:rk(n,r,i,a,l)})));var U=E.current,R=S.current,I=C.current,k=P.current,$=N.current,V="0px ".concat(x===-1?1:x,"px"),F="".concat(x,"px 0px"),B=o5(["strokeDasharray"],f,d);return _.createElement(Sd,{animationId:L,key:L,canBegin:x>0,duration:f,easing:d,isActive:g,begin:p},ve=>{var ie=Tt(U,i,ve),G=Tt(R,a,ve),W=Tt(I,l,ve),ae=Tt(k,n,ve),ye=Tt($,r,ve);b.current&&(E.current=ie,S.current=G,C.current=W,P.current=ae,N.current=ye);var H=ve>0?{transition:B,strokeDasharray:F}:{strokeDasharray:V};return _.createElement("path",Dy({},$t(e,!0),{className:M,d:rk(ae,ye,ie,G,W),ref:b,style:nk(nk({},H),e.style)}))})},xce=["option","shapeType","propTransformer","activeClassName","isActive"];function wce(t,e){if(t==null)return{};var n,r,i=_ce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function My(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){Ece(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ece(t,e,n){return(e=Ace(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ace(t){var e=Sce(t,"string");return typeof e=="symbol"?e:e+""}function Sce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tce(t,e){return My(My({},e),t)}function Cce(t,e){return t==="symbols"}function ak(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(d5,n);case"trapezoid":return _.createElement(bce,n);case"sector":return _.createElement(m5,n);case"symbols":if(Cce(e))return _.createElement(uE,n);break;default:return null}}function Nce(t){return _.isValidElement(t)?t.props:t}function L9(t){var{option:e,shapeType:n,propTransformer:r=Tce,activeClassName:i="recharts-active-shape",isActive:a}=t,l=wce(t,xce),u;if(_.isValidElement(e))u=_.cloneElement(e,My(My({},l),Nce(e)));else if(typeof e=="function")u=e(l);else if(mce(e)&&typeof e!="boolean"){var d=r(e,l);u=_.createElement(ak,{shapeType:n,elementProps:d})}else{var f=l;u=_.createElement(ak,{shapeType:n,elementProps:f})}return a?_.createElement(cn,{className:i},u):u}var LA=(t,e)=>{var n=an();return(r,i)=>a=>{t?.(r,i,a),n(JL({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},VA=t=>{var e=an();return(n,r)=>i=>{t?.(n,r,i),e(dse())}},UA=(t,e)=>{var n=an();return(r,i)=>a=>{t?.(r,i,a),n(fse({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function a0(t){var{fn:e,args:n}=t,r=an(),i=wr();return _.useEffect(()=>{if(!i){var a=e(n);return r(lse(a)),()=>{r(cse(a))}}},[e,n,r,i]),null}var V9=()=>{};function BA(t){var{legendPayload:e}=t,n=an(),r=wr();return _.useEffect(()=>r?V9:(n(i5(e)),()=>{n(a5(e))}),[n,r,e]),null}function Pce(t){var{legendPayload:e}=t,n=an(),r=Ne(Je);return _.useEffect(()=>r!=="centric"&&r!=="radial"?V9:(n(i5(e)),()=>{n(a5(e))}),[n,r,e]),null}var a1,jce=()=>{var[t]=_.useState(()=>Ah("uid-"));return t},Oce=(a1=sV.useId)!==null&&a1!==void 0?a1:jce;function Ice(t,e){var n=Oce();return e||(t?"".concat(t,"-").concat(n):n)}var Rce=_.createContext(void 0),s0=t=>{var{id:e,type:n,children:r}=t,i=Ice("recharts-".concat(n),e);return _.createElement(Rce.Provider,{value:i},r(i))},kce={cartesianItems:[],polarItems:[]},U9=mi({name:"graphicalItems",initialState:kce,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Ls(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Ls(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Ls(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Dce,replaceCartesianGraphicalItem:Mce,removeCartesianGraphicalItem:Lce,addPolarGraphicalItem:Vce,removePolarGraphicalItem:Uce}=U9.actions,Bce=U9.reducer;function zA(t){var e=an(),n=_.useRef(null);return _.useEffect(()=>{n.current===null?e(Dce(t)):n.current!==t&&e(Mce({prev:n.current,next:t})),n.current=t},[e,t]),_.useEffect(()=>()=>{n.current&&(e(Lce(n.current)),n.current=null)},[e]),null}function zce(t){var e=an();return _.useEffect(()=>(e(Vce(t)),()=>{e(Uce(t))}),[e,t]),null}var $ce=["onMouseEnter","onClick","onMouseLeave"],Fce=["id"],qce=["id"];function $A(t,e){if(t==null)return{};var n,r,i=Hce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){Kce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kce(t,e,n){return(e=Gce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gce(t){var e=Wce(t,"string");return typeof e=="symbol"?e:e+""}function Wce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(null,arguments)}function Yce(t){var e=_.useMemo(()=>aE(t.children,qc),[t.children]),n=Ne(r=>cce(r,t.id,e));return n==null?null:_.createElement(Pce,{legendPayload:n})}function Xce(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:l,name:u,hide:d,tooltipType:f}=t;return{dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:l,dataKey:e,nameKey:n,name:vl(u,e),hide:d,type:f,color:l,unit:""}}}var Qce=(t,e)=>t>e?"start":t<e?"end":"middle",Zce=(t,e,n)=>vr(typeof e=="function"?e(t):e,n,n*.8),Jce=(t,e,n)=>{var{top:r,left:i,width:a,height:l}=e,u=W6(a,l),d=i+vr(t.cx,a,a/2),f=r+vr(t.cy,l,l/2),p=vr(t.innerRadius,u,0),g=Zce(n,t.outerRadius,u),b=t.maxRadius||Math.sqrt(a*a+l*l)/2;return{cx:d,cy:f,innerRadius:p,outerRadius:g,maxRadius:b}},eue=(t,e)=>{var n=Wn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function tue(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var nue=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var n=ot("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return _.createElement(qu,dl({},e,{type:"linear",className:n}))},rue=(t,e,n)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),_.isValidElement(r)))return r;var i=ot("recharts-pie-label-text",tue(t));return _.createElement(r0,dl({},e,{alignmentBaseline:"middle",className:i}),r)};function iue(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:l}=n;if(!r||!i||!e)return null;var u=Hi(n),d=$t(i,!1),f=$t(a,!1),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((b,x)=>{var A=(b.startAngle+b.endAngle)/2,E=Nn(b.cx,b.cy,b.outerRadius+p,A),S=qt(qt(qt(qt({},u),b),{},{stroke:"none"},d),{},{index:x,textAnchor:Qce(E.x,b.cx)},E),C=qt(qt(qt(qt({},u),b),{},{fill:"none",stroke:b.fill},f),{},{index:x,points:[Nn(b.cx,b.cy,b.outerRadius,A),E],key:"line"});return _.createElement(cn,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},a&&nue(a,C),rue(i,S,Ct(b,l)))});return _.createElement(cn,{className:"recharts-pie-labels"},g)}function aue(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(i0,{label:i}):_.createElement(iue,{sectors:e,props:n,showLabels:r})}function sue(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=Ne(ul),{onMouseEnter:l,onClick:u,onMouseLeave:d}=i,f=$A(i,$ce),p=LA(l,i.dataKey),g=VA(d),b=UA(u,i.dataKey);return e==null||e.length===0?null:_.createElement(_.Fragment,null,e.map((x,A)=>{if(x?.startAngle===0&&x?.endAngle===0&&e.length!==1)return null;var E=n&&String(A)===a,S=a?r:null,C=E?n:S,P=qt(qt({},x),{},{stroke:x.stroke,tabIndex:-1,[e5]:A,[t5]:i.dataKey});return _.createElement(cn,dl({tabIndex:-1,className:"recharts-pie-sector"},nm(f,x,A),{onMouseEnter:p(x,A),onMouseLeave:g(x,A),onClick:b(x,A),key:"sector-".concat(x?.startAngle,"-").concat(x?.endAngle,"-").concat(x.midAngle,"-").concat(A)}),_.createElement(L9,dl({option:C,isActive:E,shapeType:"sector"},P)))}))}function oue(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:f,nameKey:p,tooltipType:g}=n,b=Math.abs(n.minAngle),x=eue(u,d),A=Math.abs(x),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,S=r.filter(U=>Ct(U,f,0)!==0).length,C=(A>=360?S:S-1)*E,P=A-S*b-C,N=r.reduce((U,R)=>{var I=Ct(R,f,0);return U+(Pe(I)?I:0)},0),L;if(N>0){var M;L=r.map((U,R)=>{var I=Ct(U,f,0),k=Ct(U,p,R),$=Jce(n,a,U),V=(Pe(I)?I:0)/N,F,B=qt(qt({},U),i&&i[R]&&i[R].props);R?F=M.endAngle+Wn(x)*E*(I!==0?1:0):F=u;var ve=F+Wn(x)*((I!==0?b:0)+V*P),ie=(F+ve)/2,G=($.innerRadius+$.outerRadius)/2,W=[{name:k,value:I,payload:B,dataKey:f,type:g}],ae=Nn($.cx,$.cy,G,ie);return M=qt(qt(qt(qt({},n.presentationProps),{},{percent:V,cornerRadius:l,name:k,tooltipPayload:W,midAngle:ie,middleRadius:G,tooltipPosition:ae},B),$),{},{value:I,startAngle:F,endAngle:ve,payload:B,paddingAngle:Wn(x)*E}),M})}return L}function lue(t){var{showLabels:e,sectors:n,children:r}=t,i=_.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return _.createElement(Gle,{value:e?i:void 0},r)}function cue(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:l,animationEasing:u,activeShape:d,inactiveShape:f,onAnimationStart:p,onAnimationEnd:g}=e,b=Td(e,"recharts-pie-"),x=n.current,[A,E]=_.useState(!1),S=_.useCallback(()=>{typeof g=="function"&&g(),E(!1)},[g]),C=_.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return _.createElement(lue,{showLabels:!A,sectors:r},_.createElement(Sd,{animationId:b,begin:a,duration:l,isActive:i,easing:u,onAnimationStart:C,onAnimationEnd:S,key:b},P=>{var N=[],L=r&&r[0],M=L?.startAngle;return r?.forEach((U,R)=>{var I=x&&x[R],k=R>0?Ac(U,"paddingAngle",0):0;if(I){var $=Tt(I.endAngle-I.startAngle,U.endAngle-U.startAngle,P),V=qt(qt({},U),{},{startAngle:M+k,endAngle:M+$+k});N.push(V),M=V.endAngle}else{var{endAngle:F,startAngle:B}=U,ve=Tt(0,F-B,P),ie=qt(qt({},U),{},{startAngle:M+k,endAngle:M+ve+k});N.push(ie),M=ie.endAngle}}),n.current=N,_.createElement(cn,null,_.createElement(sue,{sectors:N,activeShape:d,inactiveShape:f,allOtherPieProps:e}))}),_.createElement(aue,{showLabels:!A,sectors:r,props:e}),e.children)}var uue={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!no.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function due(t){var{id:e}=t,n=$A(t,Fce),{hide:r,className:i,rootTabIndex:a}=t,l=_.useMemo(()=>aE(t.children,qc),[t.children]),u=Ne(p=>uce(p,e,l)),d=_.useRef(null),f=ot("recharts-pie",i);return r||u==null?(d.current=null,_.createElement(cn,{tabIndex:a,className:f})):_.createElement(_.Fragment,null,_.createElement(a0,{fn:Xce,args:qt(qt({},t),{},{sectors:u})}),_.createElement(cn,{tabIndex:a,className:f},_.createElement(cue,{props:qt(qt({},n),{},{sectors:u}),previousSectorsRef:d})))}function FA(t){var e=Vn(t,uue),{id:n}=e,r=$A(e,qce),i=Hi(r);return _.createElement(s0,{id:n,type:"pie"},a=>_.createElement(_.Fragment,null,_.createElement(zce,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),_.createElement(Yce,dl({},r,{id:a})),_.createElement(due,dl({},r,{id:a}))))}FA.displayName="Pie";function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){fue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fue(t,e,n){return(e=hue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hue(t){var e=mue(t,"string");return typeof e=="symbol"?e:e+""}function mue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pue={xAxis:{},yAxis:{},zAxis:{}},B9=mi({name:"cartesianAxis",initialState:pue,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=lk(lk({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:gue,removeXAxis:yue,addYAxis:vue,removeYAxis:bue,addZAxis:nge,removeZAxis:rge,updateYAxisWidth:xue}=B9.actions,wue=B9.reducer,_ue=ee([Ln],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Eue=ee([_ue,eo,to],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),o0=()=>Ne(Eue),Aue=()=>Ne(Zse);function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){Sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sue(t,e,n){return(e=Tue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tue(t){var e=Cue(t,"string");return typeof e=="symbol"?e:e+""}function Cue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nue=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l=uk(uk({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},$t(i,!1)),iE(i)),u;return _.isValidElement(i)?u=_.cloneElement(i,l):typeof i=="function"?u=i(l):u=_.createElement(IA,l),_.createElement(cn,{className:"recharts-active-dot"},u)};function S2(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=Ne(ul),l=Aue();if(e==null||l==null)return null;var u=e.find(d=>l.includes(d.payload));return zt(u)?null:Nue({point:u,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var Pue="Invariant failed";function jue(t,e){throw new Error(Pue)}var Oue=["x","y"];function T2(){return T2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T2.apply(null,arguments)}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){Iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iue(t,e,n){return(e=Rue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rue(t){var e=kue(t,"string");return typeof e=="symbol"?e:e+""}function kue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Due(t,e){if(t==null)return{};var n,r,i=Mue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lue(t,e){var{x:n,y:r}=t,i=Due(t,Oue),a="".concat(n),l=parseInt(a,10),u="".concat(r),d=parseInt(u,10),f="".concat(e.height||i.height),p=parseInt(f,10),g="".concat(e.width||i.width),b=parseInt(g,10);return Zf(Zf(Zf(Zf(Zf({},e),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:b,name:e.name,radius:e.radius})}function qA(t){return _.createElement(L9,T2({shapeType:"rectangle",propTransformer:Lue,activeClassName:"recharts-active-bar"},t))}var Vue=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Pe(e))return e;var a=Pe(r)||zt(r);return a?e(r,i):(a||jue(),n)}},Uue={},z9=mi({name:"errorBars",initialState:Uue,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:ige,replaceErrorBar:age,removeErrorBar:sge}=z9.actions,Bue=z9.reducer,zue=["children"];function $ue(t,e){if(t==null)return{};var n,r,i=Fue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var que={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Hue=_.createContext(que);function $9(t){var{children:e}=t,n=$ue(t,zue);return _.createElement(Hue.Provider,{value:n},e)}function l0(t,e){var n,r,i=Ne(f=>io(f,t)),a=Ne(f=>ao(f,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ni.allowDataOverflow,u=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:ri.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function HA(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=o0(),{needClipX:a,needClipY:l,needClip:u}=l0(e,n);if(!u)return null;var{x:d,y:f,width:p,height:g}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:a?d:d-p/2,y:l?f:f-g/2,width:a?p:p*2,height:l?g:g*2}))}var Kue=["onMouseEnter","onMouseLeave","onClick"],Gue=["value","background","tooltipPosition"],Wue=["id"],Yue=["onMouseEnter","onClick","onMouseLeave"];function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fl.apply(null,arguments)}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){Xue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xue(t,e,n){return(e=Que(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Que(t){var e=Zue(t,"string");return typeof e=="symbol"?e:e+""}function Zue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ly(t,e){if(t==null)return{};var n,r,i=Jue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ede=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:vl(n,e),payload:t}]};function tde(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:l,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:vl(a,e),hide:l,type:t.tooltipType,color:t.fill,unit:u}}}function nde(t){var e=Ne(ul),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:l,onMouseLeave:u,onClick:d}=a,f=Ly(a,Kue),p=LA(l,r),g=VA(u),b=UA(d,r);if(!i||n==null)return null;var x=$t(i,!1);return _.createElement(_.Fragment,null,n.map((A,E)=>{var{value:S,background:C,tooltipPosition:P}=A,N=Ly(A,Gue);if(!C)return null;var L=p(A,E),M=g(A,E),U=b(A,E),R=Pr(Pr(Pr(Pr(Pr({option:i,isActive:String(E)===e},N),{},{fill:"#eee"},C),x),nm(f,A,E)),{},{onMouseEnter:L,onMouseLeave:M,onClick:U,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return _.createElement(qA,fl({key:"background-bar-".concat(R.index)},R))}))}function rde(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(a=>{var l={x:a.x,y:a.y,width:a.width,height:a.height};return Pr(Pr({},l),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:l,fill:a.fill})});return _.createElement(OA,{value:e?i:void 0},n)}function ide(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:l}=t,u=Ne(ul),d=Ne(f9),f=n&&String(a)===u&&(d==null||l===d),p=f?n:e;return _.createElement(qA,fl({},r,i,{isActive:f,option:p,index:a,dataKey:l}))}function ade(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return _.createElement(qA,fl({},n,r,{isActive:!1,option:e,index:i,dataKey:a}))}function sde(t){var{data:e,props:n}=t,r=Hi(n),{id:i}=r,a=Ly(r,Wue),{shape:l,dataKey:u,activeBar:d}=n,{onMouseEnter:f,onClick:p,onMouseLeave:g}=n,b=Ly(n,Yue),x=LA(f,u),A=VA(g),E=UA(p,u);return e?_.createElement(_.Fragment,null,e.map((S,C)=>_.createElement(cn,fl({className:"recharts-bar-rectangle"},nm(b,S,C),{onMouseEnter:x(S,C),onMouseLeave:A(S,C),onClick:E(S,C),key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(C)}),d?_.createElement(ide,{shape:l,activeBar:d,baseProps:a,entry:S,index:C,dataKey:u}):_.createElement(ade,{shape:l,baseProps:a,entry:S,index:C,dataKey:u})))):null}function ode(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:f,onAnimationStart:p}=e,g=n.current,b=Td(e,"recharts-bar-"),[x,A]=_.useState(!1),E=!x,S=_.useCallback(()=>{typeof f=="function"&&f(),A(!1)},[f]),C=_.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return _.createElement(rde,{showLabels:E,rects:r},_.createElement(Sd,{animationId:b,begin:l,duration:u,isActive:a,easing:d,onAnimationEnd:S,onAnimationStart:C,key:b},P=>{var N=P===1?r:r?.map((L,M)=>{var U=g&&g[M];if(U)return Pr(Pr({},L),{},{x:Tt(U.x,L.x,P),y:Tt(U.y,L.y,P),width:Tt(U.width,L.width,P),height:Tt(U.height,L.height,P)});if(i==="horizontal"){var R=Tt(0,L.height,P);return Pr(Pr({},L),{},{y:L.y+L.height-R,height:R})}var I=Tt(0,L.width,P);return Pr(Pr({},L),{},{width:I})});return P>0&&(n.current=N??null),N==null?null:_.createElement(cn,null,_.createElement(sde,{props:e,data:N}))}),_.createElement(i0,{label:e.label}),e.children)}function lde(t){var e=_.useRef(null);return _.createElement(ode,{previousRectanglesRef:e,props:t})}var F9=0,cde=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Ct(t,e)}};class ude extends _.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:l,needClip:u,background:d,id:f}=this.props;if(e||n==null)return null;var p=ot("recharts-bar",i),g=f;return _.createElement(cn,{className:p,id:f},u&&_.createElement("defs",null,_.createElement(HA,{clipPathId:g,xAxisId:a,yAxisId:l})),_.createElement(cn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},_.createElement(nde,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),_.createElement(lde,this.props)))}}var dde={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!no.isSsr,legendType:"rect",minPointSize:F9,xAxisId:0,yAxisId:0};function fde(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:p}=t,{needClip:g}=l0(e,n),b=sm(),x=wr(),A=aE(t.children,qc),E=Ne(P=>Bde(P,e,n,x,t.id,A));if(b!=="vertical"&&b!=="horizontal")return null;var S,C=E?.[0];return C==null||C.height==null||C.width==null?S=0:S=b==="vertical"?C.height/2:C.width/2,_.createElement($9,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:cde,errorBarOffset:S},_.createElement(ude,fl({},t,{layout:b,needClip:g,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:p})))}function hde(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:f,stackedData:p,displayedData:g,offset:b,cells:x,parentViewBox:A}=t,E=e==="horizontal"?u:l,S=p?E.scale.domain():null,C=Cee({numericAxis:E});return g.map((P,N)=>{var L,M,U,R,I,k;p?L=_ee(p[N],S):(L=Ct(P,n),Array.isArray(L)||(L=[C,L]));var $=Vue(r,F9)(L[1],N);if(e==="horizontal"){var V,[F,B]=[u.scale(L[0]),u.scale(L[1])];M=QO({axis:l,ticks:d,bandSize:a,offset:i.offset,entry:P,index:N}),U=(V=B??F)!==null&&V!==void 0?V:void 0,R=i.size;var ve=F-B;if(I=Hr(ve)?0:ve,k={x:M,y:b.top,width:R,height:b.height},Math.abs($)>0&&Math.abs(I)<Math.abs($)){var ie=Wn(I||$)*(Math.abs($)-Math.abs(I));U-=ie,I+=ie}}else{var[G,W]=[l.scale(L[0]),l.scale(L[1])];if(M=G,U=QO({axis:u,ticks:f,bandSize:a,offset:i.offset,entry:P,index:N}),R=W-G,I=i.size,k={x:b.left,y:U,width:b.width,height:I},Math.abs($)>0&&Math.abs(R)<Math.abs($)){var ae=Wn(R||$)*(Math.abs($)-Math.abs(R));R+=ae}}if(M==null||U==null||R==null||I==null)return null;var ye=Pr(Pr({},P),{},{x:M,y:U,width:R,height:I,value:p?L:L[1],payload:P,background:k,tooltipPosition:{x:M+R/2,y:U+I/2},parentViewBox:A},x&&x[N]&&x[N].props);return ye}).filter(Boolean)}function mde(t){var e=Vn(t,dde),n=wr();return _.createElement(s0,{id:e.id,type:"bar"},r=>_.createElement(_.Fragment,null,_.createElement(BA,{legendPayload:ede(e)}),_.createElement(a0,{fn:tde,args:e}),_.createElement(zA,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Z6(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),_.createElement(fde,fl({},e,{id:r}))))}var q9=_.memo(mde);q9.displayName="Bar";function hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(n),!0).forEach(function(r){pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pde(t,e,n){return(e=gde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gde(t){var e=yde(t,"string");return typeof e=="symbol"?e:e+""}function yde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vde=(t,e)=>e,bde=(t,e,n)=>n,xde=(t,e,n,r)=>r,wde=(t,e,n,r,i)=>i,_m=ee([pm,wde],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),_de=ee([_m],t=>t?.maxBarSize),Ede=(t,e,n,r,i,a)=>a,mk=(t,e,n)=>{var r=n??t;if(!zt(r))return vr(r,e,0)},Ade=ee([Je,pm,vde,bde,xde],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Sde=(t,e,n,r)=>{var i=Je(t);return i==="horizontal"?Rh(t,"yAxis",n,r):Rh(t,"xAxis",e,r)},Tde=(t,e,n)=>{var r=Je(t);return r==="horizontal"?mR(t,"xAxis",e):mR(t,"yAxis",n)},Cde=(t,e,n)=>{var r={},i=t.filter(Xv),a=t.filter(f=>f.stackId==null),l=i.reduce((f,p)=>(f[p.stackId]||(f[p.stackId]=[]),f[p.stackId].push(p),f),r),u=Object.entries(l).map(f=>{var[p,g]=f,b=g.map(A=>A.dataKey),x=mk(e,n,g[0].barSize);return{stackId:p,dataKeys:b,barSize:x}}),d=a.map(f=>{var p=[f.dataKey].filter(b=>b!=null),g=mk(e,n,f.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...d]},Nde=ee([Ade,oae,Tde],Cde),Pde=(t,e,n,r,i)=>{var a,l,u=_m(t,e,n,r,i);if(u!=null){var d=Je(t),f=uL(t),{maxBarSize:p}=u,g=zt(p)?f:p,b,x;return d==="horizontal"?(b=Qa(t,"xAxis",e,r),x=Xa(t,"xAxis",e,r)):(b=Qa(t,"yAxis",n,r),x=Xa(t,"yAxis",n,r)),(a=(l=Cc(b,x,!0))!==null&&l!==void 0?l:g)!==null&&a!==void 0?a:0}},H9=(t,e,n,r)=>{var i=Je(t),a,l;return i==="horizontal"?(a=Qa(t,"xAxis",e,r),l=Xa(t,"xAxis",e,r)):(a=Qa(t,"yAxis",n,r),l=Xa(t,"yAxis",n,r)),Cc(a,l)};function jde(t,e,n,r,i){var a=r.length;if(!(a<1)){var l=vr(t,n,0,!0),u,d=[];if(or(r[0].barSize)){var f=!1,p=n/a,g=r.reduce((C,P)=>C+(P.barSize||0),0);g+=(a-1)*l,g>=n&&(g-=(a-1)*l,l=0),g>=n&&p>0&&(f=!0,p*=.9,g=a*p);var b=(n-g)/2>>0,x={offset:b-l,size:0};u=r.reduce((C,P)=>{var N,L={stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:x.offset+x.size+l,size:f?p:(N=P.barSize)!==null&&N!==void 0?N:0}},M=[...C,L];return x=M[M.length-1].position,M},d)}else{var A=vr(e,n,0,!0);n-2*A-(a-1)*l<=0&&(l=0);var E=(n-2*A-(a-1)*l)/a;E>1&&(E>>=0);var S=or(i)?Math.min(E,i):E;u=r.reduce((C,P,N)=>[...C,{stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:A+(E+l)*N+(E-S)/2,size:S}}],d)}return u}}var Ode=(t,e,n,r,i,a,l)=>{var u=zt(l)?e:l,d=jde(n,r,i!==a?i:a,t,u);return i!==a&&d!=null&&(d=d.map(f=>lg(lg({},f),{},{position:lg(lg({},f.position),{},{offset:f.position.offset-i/2})}))),d},Ide=ee([Nde,uL,sae,dL,Pde,H9,_de],Ode),Rde=(t,e,n,r)=>Qa(t,"xAxis",e,r),kde=(t,e,n,r)=>Qa(t,"yAxis",n,r),Dde=(t,e,n,r)=>Xa(t,"xAxis",e,r),Mde=(t,e,n,r)=>Xa(t,"yAxis",n,r),Lde=ee([Ide,_m],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Vde=(t,e)=>{var n=Yv(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(l=>l.key===n)}}}},Ude=ee([Sde,_m],Vde),Bde=ee([Ln,wE,Rde,kde,Dde,Mde,Lde,Je,dm,H9,Ude,_m,Ede],(t,e,n,r,i,a,l,u,d,f,p,g,b)=>{var{chartData:x,dataStartIndex:A,dataEndIndex:E}=d;if(!(g==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:S}=g,C;if(S!=null&&S.length>0?C=S:C=x?.slice(A,E+1),C!=null)return hde({layout:u,barSettings:g,pos:l,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:p,displayedData:C,offset:t,cells:b})}}),K9=t=>{var{chartData:e}=t,n=an(),r=wr();return _.useEffect(()=>r?()=>{}:(n(AR(e)),()=>{n(AR(void 0))}),[e,n,r]),null},pk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},G9=mi({name:"brush",initialState:pk,reducers:{setBrushSettings(t,e){return e.payload==null?pk:e.payload}}}),{setBrushSettings:oge}=G9.actions,zde=G9.reducer;function $de(t,e,n){return(e=Fde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fde(t){var e=qde(t,"string");return typeof e=="symbol"?e:e+""}function qde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class KA{static create(e){return new KA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}$de(KA,"EPS",1e-4);function Hde(t){return(t%180+180)%180}var Kde=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Hde(i),l=a*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Gde={dots:[],areas:[],lines:[]},W9=mi({name:"referenceElements",initialState:Gde,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ls(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ls(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ls(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:lge,removeDot:cge,addArea:uge,removeArea:dge,addLine:fge,removeLine:hge}=W9.actions,Wde=W9.reducer,Yde=_.createContext(void 0),Xde=t=>{var{children:e}=t,[n]=_.useState("".concat(Ah("recharts"),"-clip")),r=o0();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return _.createElement(Yde.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:a,height:u,width:l}))),e)};function dd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Y9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Qde(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Kde(r,n)}function Zde(t,e,n){var r=n==="width",{x:i,y:a,width:l,height:u}=t;return e===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function Vy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Jde(t,e){return Y9(t,e+1)}function efe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=e,d=0,f=1,p=l,g=function(){var A=r?.[d];if(A===void 0)return{v:Y9(r,f)};var E=d,S,C=()=>(S===void 0&&(S=n(A,E)),S),P=A.coordinate,N=d===0||Vy(t,P,C,p,u);N||(d=0,p=l,f+=1),N&&(p=P+t*(C()/2+i),d+=f)},b;f<=a.length;)if(b=g(),b)return b.v;return[]}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tfe(t,e,n){return(e=nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nfe(t){var e=rfe(t,"string");return typeof e=="symbol"?e:e+""}function rfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ife(t,e,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=e,{end:d}=e,f=function(b){var x=a[b],A,E=()=>(A===void 0&&(A=n(x,b)),A);if(b===l-1){var S=t*(x.coordinate+t*E()/2-d);a[b]=x=mr(mr({},x),{},{tickCoord:S>0?x.coordinate-S*t:x.coordinate})}else a[b]=x=mr(mr({},x),{},{tickCoord:x.coordinate});var C=Vy(t,x.tickCoord,E,u,d);C&&(d=x.tickCoord-t*(E()/2+i),a[b]=mr(mr({},x),{},{isShow:!0}))},p=l-1;p>=0;p--)f(p);return a}function afe(t,e,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:d,end:f}=e;if(a){var p=r[u-1],g=n(p,u-1),b=t*(p.coordinate+t*g/2-f);l[u-1]=p=mr(mr({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate});var x=Vy(t,p.tickCoord,()=>g,d,f);x&&(f=p.tickCoord-t*(g/2+i),l[u-1]=mr(mr({},p),{},{isShow:!0}))}for(var A=a?u-1:u,E=function(P){var N=l[P],L,M=()=>(L===void 0&&(L=n(N,P)),L);if(P===0){var U=t*(N.coordinate-t*M()/2-d);l[P]=N=mr(mr({},N),{},{tickCoord:U<0?N.coordinate-U*t:N.coordinate})}else l[P]=N=mr(mr({},N),{},{tickCoord:N.coordinate});var R=Vy(t,N.tickCoord,M,d,f);R&&(d=N.tickCoord+t*(M()/2+i),l[P]=mr(mr({},N),{},{isShow:!0}))},S=0;S<A;S++)E(S);return l}function GA(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Pe(d)||no.isSsr){var b;return(b=Jde(i,Pe(d)?d:0))!==null&&b!==void 0?b:[]}var x=[],A=u==="top"||u==="bottom"?"width":"height",E=p&&A==="width"?mh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(N,L)=>{var M=typeof f=="function"?f(N.value,L):N.value;return A==="width"?Qde(mh(M,{fontSize:e,letterSpacing:n}),E,g):mh(M,{fontSize:e,letterSpacing:n})[A]},C=i.length>=2?Wn(i[1].coordinate-i[0].coordinate):1,P=Zde(a,C,A);return d==="equidistantPreserveStart"?efe(C,P,S,i,l):(d==="preserveStart"||d==="preserveStartEnd"?x=afe(C,P,S,i,l,d==="preserveStartEnd"):x=ife(C,P,S,i,l),x.filter(N=>N.isShow))}var sfe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,l=0;if(e){e.forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+a,f=l+d+u+(n?r:0);return Math.round(f)}return 0},ofe=["axisLine","width","height","className","hide","ticks"],lfe=["viewBox"],cfe=["viewBox"];function C2(t,e){if(t==null)return{};var n,r,i=ufe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ufe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(null,arguments)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){dfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dfe(t,e,n){return(e=ffe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ffe(t){var e=hfe(t,"string");return typeof e=="symbol"?e:e+""}function hfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WA={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function mfe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u,otherSvgProps:d}=t;if(!u)return null;var f=Dn(Dn(Dn({},d),$t(u,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var p=+(a==="top"&&!l||a==="bottom"&&l);f=Dn(Dn({},f),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(a==="left"&&!l||a==="right"&&l);f=Dn(Dn({},f),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return _.createElement("line",Pc({},f,{className:ot("recharts-cartesian-axis-line",Ac(u,"className"))}))}function pfe(t,e,n,r,i,a,l,u,d){var f,p,g,b,x,A,E=u?-1:1,S=t.tickSize||l,C=Pe(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=p=t.coordinate,b=n+ +!u*i,g=b-E*S,A=g-E*d,x=C;break;case"left":g=b=t.coordinate,p=e+ +!u*r,f=p-E*S,x=f-E*d,A=C;break;case"right":g=b=t.coordinate,p=e+ +u*r,f=p+E*S,x=f+E*d,A=C;break;default:f=p=t.coordinate,b=n+ +u*i,g=b+E*S,A=g+E*d,x=C;break}return{line:{x1:f,y1:g,x2:p,y2:b},tick:{x,y:A}}}function gfe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function yfe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function vfe(t){var{option:e,tickProps:n,value:r}=t,i,a=ot(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,Dn(Dn({},n),{},{className:a}));else if(typeof e=="function")i=e(Dn(Dn({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=ot(l,e?.className)),i=_.createElement(r0,Pc({},n,{className:l}),r)}return i}function bfe(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:p,x:g,y:b,width:x,height:A,tickSize:E,tickMargin:S,fontSize:C,letterSpacing:P,getTicksConfig:N,events:L}=t,M=GA(Dn(Dn({},N),{},{ticks:e}),C,P),U=gfe(f,p),R=yfe(f,p),I=Hi(N),k=$t(n,!1),$=Dn(Dn({},I),{},{fill:"none"},$t(r,!1)),V=M.map((F,B)=>{var{line:ve,tick:ie}=pfe(F,g,b,x,A,f,E,p,S),G=Dn(Dn(Dn(Dn({textAnchor:U,verticalAnchor:R},I),{},{stroke:"none",fill:i},k),ie),{},{index:B,payload:F,visibleTicksCount:M.length,tickFormatter:a,padding:u},d);return _.createElement(cn,Pc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},nm(L,F,B)),r&&_.createElement("line",Pc({},$,ve,{className:ot("recharts-cartesian-axis-tick-line",Ac(r,"className"))})),n&&_.createElement(vfe,{option:n,tickProps:G,value:"".concat(typeof a=="function"?a(F.value,B):F.value).concat(l||"")}))});return V.length>0?_.createElement("g",{className:"recharts-cartesian-axis-ticks"},V):null}var xfe=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:u}=t,d=C2(t,ofe),[f,p]=_.useState(""),[g,b]=_.useState(""),x=_.useRef([]);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return sfe({ticks:x.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=_.useCallback(E=>{if(E){var S=E.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=Array.from(S);var C=S[0];if(C){var P=window.getComputedStyle(C),N=P.fontSize,L=P.letterSpacing;(N!==f||L!==g)&&(p(N),b(L))}}},[f,g]);return l||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(cn,{className:ot("recharts-cartesian-axis",a),ref:A},_.createElement(mfe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Hi(t)}),_.createElement(bfe,{ticks:u,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:f,letterSpacing:g,getTicksConfig:t,events:d}),_.createElement(Tle,{x:t.x,y:t.y,width:t.width,height:t.height},_.createElement(Mle,{label:t.label}),t.children))}),wfe=_.memo(xfe,(t,e)=>{var{viewBox:n}=t,r=C2(t,lfe),{viewBox:i}=e,a=C2(e,cfe);return dd(n,i)&&dd(r,a)}),YA=_.forwardRef((t,e)=>{var n=Vn(t,WA);return _.createElement(wfe,Pc({},n,{ref:e}))});YA.displayName="CartesianAxis";var _fe=["x1","y1","x2","y2","key"],Efe=["offset"],Afe=["xAxisId","yAxisId"],Sfe=["xAxisId","yAxisId"];function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){Tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tfe(t,e,n){return(e=Cfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cfe(t){var e=Nfe(t,"string");return typeof e=="symbol"?e:e+""}function Nfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(null,arguments)}function Uy(t,e){if(t==null)return{};var n,r,i=Pfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jfe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=t;return _.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function X9(t,e){var n;if(_.isValidElement(t))n=_.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:l,key:u}=e,d=Uy(e,_fe),f=Hi(d),{offset:p}=f,g=Uy(f,Efe);n=_.createElement("line",dc({},g,{x1:r,y1:i,x2:a,y2:l,fill:"none",key:u}))}return n}function Ofe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,u=Uy(t,Afe),d=i.map((f,p)=>{var g=yr(yr({},u),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(p),index:p});return X9(r,g)});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Ife(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,u=Uy(t,Sfe),d=i.map((f,p)=>{var g=yr(yr({},u),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(p),index:p});return X9(r,g)});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Rfe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:d=!0}=t;if(!d||!e||!e.length)return null;var f=u.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==f[0]&&f.unshift(0);var p=f.map((g,b)=>{var x=!f[b+1],A=x?i+l-g:f[b+1]-g;if(A<=0)return null;var E=b%e.length;return _.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:A,width:a,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function kfe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var f=d.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==f[0]&&f.unshift(0);var p=f.map((g,b)=>{var x=!f[b+1],A=x?i+l-g:f[b+1]-g;if(A<=0)return null;var E=b%n.length;return _.createElement("rect",{key:"react-".concat(b),x:g,y:a,width:A,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Dfe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return X6(GA(yr(yr(yr({},WA),n),{},{ticks:Q6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},Mfe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return X6(GA(yr(yr(yr({},WA),n),{},{ticks:Q6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Lfe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function c0(t){var e=EE(),n=AE(),r=n5(),i=yr(yr({},Vn(t,Lfe)),{},{x:Pe(t.x)?t.x:r.left,y:Pe(t.y)?t.y:r.top,width:Pe(t.width)?t.width:r.width,height:Pe(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:d,width:f,height:p,syncWithTicks:g,horizontalValues:b,verticalValues:x}=i,A=wr(),E=Ne(k=>pR(k,"xAxis",a,A)),S=Ne(k=>pR(k,"yAxis",l,A));if(!Pe(f)||f<=0||!Pe(p)||p<=0||!Pe(u)||u!==+u||!Pe(d)||d!==+d)return null;var C=i.verticalCoordinatesGenerator||Dfe,P=i.horizontalCoordinatesGenerator||Mfe,{horizontalPoints:N,verticalPoints:L}=i;if((!N||!N.length)&&typeof P=="function"){var M=b&&b.length,U=P({yAxis:S?yr(yr({},S),{},{ticks:M?b:S.ticks}):void 0,width:e,height:n,offset:r},M?!0:g);hh(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(N=U)}if((!L||!L.length)&&typeof C=="function"){var R=x&&x.length,I=C({xAxis:E?yr(yr({},E),{},{ticks:R?x:E.ticks}):void 0,width:e,height:n,offset:r},R?!0:g);hh(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(L=I)}return _.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(jfe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(Rfe,dc({},i,{horizontalPoints:N})),_.createElement(kfe,dc({},i,{verticalPoints:L})),_.createElement(Ofe,dc({},i,{offset:r,horizontalPoints:N,xAxis:E,yAxis:S})),_.createElement(Ife,dc({},i,{offset:r,verticalPoints:L,xAxis:E,yAxis:S})))}c0.displayName="CartesianGrid";var Q9=(t,e,n,r)=>Qa(t,"xAxis",e,r),Z9=(t,e,n,r)=>Xa(t,"xAxis",e,r),J9=(t,e,n,r)=>Qa(t,"yAxis",n,r),e8=(t,e,n,r)=>Xa(t,"yAxis",n,r),Vfe=ee([Je,Q9,J9,Z9,e8],(t,e,n,r,i)=>ts(t,"xAxis")?Cc(e,r,!1):Cc(n,i,!1)),Ufe=(t,e,n,r,i)=>i;function Bfe(t){return t.type==="line"}var zfe=ee([pm,Ufe],(t,e)=>t.filter(Bfe).find(n=>n.id===e)),$fe=ee([Je,Q9,J9,Z9,e8,zfe,Vfe,dm],(t,e,n,r,i,a,l,u)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:p}=u;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{dataKey:g,data:b}=a,x;if(b!=null&&b.length>0?x=b:x=d?.slice(f,p+1),x!=null)return uhe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:x})}}),Ffe=["id"],qfe=["type","layout","connectNulls","needClip"],Hfe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){Kfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kfe(t,e,n){return(e=Gfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gfe(t){var e=Wfe(t,"string");return typeof e=="symbol"?e:e+""}function Wfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XA(t,e){if(t==null)return{};var n,r,i=Yfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(null,arguments)}var Xfe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:vl(n,e),payload:t}]};function Qfe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:d}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:vl(l,e),hide:u,type:t.tooltipType,color:t.stroke,unit:d}}}var t8=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Zfe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Jfe=(t,e,n)=>{var r=n.reduce((g,b)=>g+b);if(!r)return t8(e,t);for(var i=Math.floor(t/r),a=t%r,l=e-t,u=[],d=0,f=0;d<n.length;f+=n[d],++d)if(f+n[d]>a){u=[...n.slice(0,d),a-f];break}var p=u.length%2===0?[0,l]:[l];return[...Zfe(n,i),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function ehe(t,e){var n;if(_.isValidElement(t))n=_.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=ot("recharts-line-dot",typeof t!="boolean"?t.className:"");n=_.createElement(IA,jc({},e,{className:r}))}return n}function the(t,e){return t==null?!1:e?!0:t.length===1}function nhe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:l}=r;if(!the(n,i))return null;var{id:u}=r,d=XA(r,Ffe),f=Tv(i),p=Hi(d),g=$t(i,!0),b=n.map((A,E)=>{var S=ai(ai(ai({key:"dot-".concat(E),r:3},p),g),{},{index:E,cx:A.x,cy:A.y,dataKey:a,value:A.value,payload:A.payload,points:n});return ehe(i,S)}),x={clipPath:l?"url(#clipPath-".concat(f?"":"dots-").concat(e,")"):void 0};return _.createElement(cn,jc({className:"recharts-line-dots",key:"dots"},x),b)}function rhe(t){var{showLabels:e,children:n,points:r}=t,i=_.useMemo(()=>r?.map(a=>{var l={x:a.x,y:a.y,width:0,height:0};return ai(ai({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return _.createElement(OA,{value:e?i:null},n)}function xk(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:l,layout:u,connectNulls:d,needClip:f}=a,p=XA(a,qfe),g=ai(ai({},$t(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i??a.strokeDasharray});return _.createElement(_.Fragment,null,r?.length>1&&_.createElement(qu,jc({},g,{pathRef:n})),_.createElement(nhe,{points:r,clipPathId:e,props:a}))}function ihe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function ahe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:f,animationDuration:p,animationEasing:g,animateNewValues:b,width:x,height:A,onAnimationEnd:E,onAnimationStart:S}=n,C=i.current,P=Td(n,"recharts-line-"),[N,L]=_.useState(!1),M=!N,U=_.useCallback(()=>{typeof E=="function"&&E(),L(!1)},[E]),R=_.useCallback(()=>{typeof S=="function"&&S(),L(!0)},[S]),I=ihe(r.current),k=a.current;return _.createElement(rhe,{points:l,showLabels:M},n.children,_.createElement(Sd,{animationId:P,begin:f,duration:p,isActive:d,easing:g,onAnimationEnd:U,onAnimationStart:R,key:P},$=>{var V=Tt(k,I+k,$),F=Math.min(V,I),B;if(d)if(u){var ve="".concat(u).split(/[,\s]+/gim).map(W=>parseFloat(W));B=Jfe(F,I,ve)}else B=t8(I,F);else B=u==null?void 0:String(u);if(C){var ie=C.length/l.length,G=$===1?l:l.map((W,ae)=>{var ye=Math.floor(ae*ie);if(C[ye]){var H=C[ye];return ai(ai({},W),{},{x:Tt(H.x,W.x,$),y:Tt(H.y,W.y,$)})}return b?ai(ai({},W),{},{x:Tt(x*2,W.x,$),y:Tt(A/2,W.y,$)}):ai(ai({},W),{},{x:W.x,y:W.y})});return i.current=G,_.createElement(xk,{props:n,points:G,clipPathId:e,pathRef:r,strokeDasharray:B})}return $>0&&I>0&&(i.current=l,a.current=F),_.createElement(xk,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:B})}),_.createElement(i0,{label:n.label}))}function she(t){var{clipPathId:e,props:n}=t,r=_.useRef(null),i=_.useRef(0),a=_.useRef(null);return _.createElement(ahe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var ohe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Ct(t.payload,e)});class lhe extends _.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:l,yAxisId:u,top:d,left:f,width:p,height:g,id:b,needClip:x}=this.props;if(n)return null;var A=ot("recharts-line",a),E=b,{r:S=3,strokeWidth:C=2}=(e=$t(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},P=Tv(r),N=S*2+C;return _.createElement(_.Fragment,null,_.createElement(cn,{className:A},x&&_.createElement("defs",null,_.createElement(HA,{clipPathId:E,xAxisId:l,yAxisId:u}),!P&&_.createElement("clipPath",{id:"clipPath-dots-".concat(E)},_.createElement("rect",{x:f-N/2,y:d-N/2,width:p+N,height:g+N}))),_.createElement($9,{xAxisId:l,yAxisId:u,data:i,dataPointFormatter:ohe,errorBarOffset:0},_.createElement(she,{props:this.props,clipPathId:E}))),_.createElement(S2,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var n8={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!no.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function che(t){var e=Vn(t,n8),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:d,hide:f,isAnimationActive:p,label:g,legendType:b,xAxisId:x,yAxisId:A,id:E}=e,S=XA(e,Hfe),{needClip:C}=l0(x,A),P=o0(),N=sm(),L=wr(),M=Ne($=>$fe($,x,A,L,E));if(N!=="horizontal"&&N!=="vertical"||M==null||P==null)return null;var{height:U,width:R,x:I,y:k}=P;return _.createElement(lhe,jc({},S,{id:E,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:p,hide:f,label:g,legendType:b,xAxisId:x,yAxisId:A,points:M,layout:N,height:U,width:R,left:I,top:k,needClip:C}))}function uhe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:u,displayedData:d}=t;return d.map((f,p)=>{var g=Ct(f,l);if(e==="horizontal"){var b=yy({axis:n,ticks:i,bandSize:u,entry:f,index:p}),x=zt(g)?null:r.scale(g);return{x:b,y:x,value:g,payload:f}}var A=zt(g)?null:n.scale(g),E=yy({axis:r,ticks:a,bandSize:u,entry:f,index:p});return A==null||E==null?null:{x:A,y:E,value:g,payload:f}}).filter(Boolean)}function dhe(t){var e=Vn(t,n8),n=wr();return _.createElement(s0,{id:e.id,type:"line"},r=>_.createElement(_.Fragment,null,_.createElement(BA,{legendPayload:Xfe(e)}),_.createElement(a0,{fn:Qfe,args:e}),_.createElement(zA,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),_.createElement(che,jc({},e,{id:r}))))}var N2=_.memo(dhe);N2.displayName="Line";var r8=(t,e,n,r)=>Qa(t,"xAxis",e,r),i8=(t,e,n,r)=>Xa(t,"xAxis",e,r),a8=(t,e,n,r)=>Qa(t,"yAxis",n,r),s8=(t,e,n,r)=>Xa(t,"yAxis",n,r),fhe=ee([Je,r8,a8,i8,s8],(t,e,n,r,i)=>ts(t,"xAxis")?Cc(e,r,!1):Cc(n,i,!1)),hhe=(t,e,n,r,i)=>i,o8=ee([pm,hhe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),mhe=(t,e,n,r,i)=>{var a,l=o8(t,e,n,r,i);if(l!=null){var u=Je(t),d=ts(u,"xAxis"),f;if(d?f=Rh(t,"yAxis",n,r):f=Rh(t,"xAxis",e,r),f!=null){var{stackId:p}=l,g=Yv(l);if(!(p==null||g==null)){var b=(a=f[p])===null||a===void 0?void 0:a.stackedData;return b?.find(x=>x.key===g)}}}},phe=ee([Je,r8,a8,i8,s8,mhe,dm,fhe,o8],(t,e,n,r,i,a,l,u,d)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:g}=l;if(!(d==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:b}=d,x;if(b&&b.length>0?x=b:x=f?.slice(p,g+1),x!=null){var A=void 0;return Mhe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:d,stackedData:a,displayedData:x,chartBaseValue:A,bandSize:u})}}}),ghe=["id"],yhe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function l8(t,e){if(t==null)return{};var n,r,i=vhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bhe(t,e,n){return(e=xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xhe(t){var e=whe(t,"string");return typeof e=="symbol"?e:e+""}function whe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Us(){return Us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Us.apply(null,arguments)}function By(t,e){return t&&t!=="none"?t:e}var _he=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:l}=t;return[{inactive:l,dataKey:e,type:a,color:By(r,i),value:vl(n,e),payload:t}]};function Ehe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:d}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:vl(l,e),hide:u,type:t.tooltipType,color:By(r,a),unit:d}}}var Ahe=(t,e)=>{var n;if(_.isValidElement(t))n=_.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=ot("recharts-area-dot",typeof t!="boolean"?t.className:"");n=_.createElement(IA,Us({},e,{className:r}))}return n};function She(t,e){return t==null?!1:e?!0:t.length===1}function The(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:l}=r;if(!She(n,a))return null;var u=Tv(a),d=Hi(r),f=$t(a,!0),p=n.map((b,x)=>{var A=Is(Is(Is({key:"dot-".concat(x),r:3},d),f),{},{index:x,cx:b.x,cy:b.y,dataKey:l,value:b.value,payload:b.payload,points:n});return Ahe(a,A)}),g={clipPath:i?"url(#clipPath-".concat(u?"":"dots-").concat(e,")"):void 0};return _.createElement(cn,Us({className:"recharts-area-dots"},g),p)}function Che(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var l={x:a.x,y:a.y,width:0,height:0};return Is(Is({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return _.createElement(OA,{value:e?i:null},n)}function _k(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:l,type:u,stroke:d,connectNulls:f,isRange:p}=a,{id:g}=a,b=l8(a,ghe),x=Hi(b);return _.createElement(_.Fragment,null,e?.length>1&&_.createElement(cn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},_.createElement(qu,Us({},x,{id:g,points:e,connectNulls:f,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&_.createElement(qu,Us({},x,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:e})),d!=="none"&&p&&_.createElement(qu,Us({},x,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n}))),_.createElement(The,{points:e,props:b,clipPathId:i}))}function Nhe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].y,l=r[r.length-1].y;if(!or(a)||!or(l))return null;var u=e*Math.abs(a-l),d=Math.max(...r.map(f=>f.x||0));return Pe(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(f=>f.x||0),d)),Pe(d)?_.createElement("rect",{x:0,y:a<l?a:a-u,width:d+(i?parseInt("".concat(i),10):1),height:Math.floor(u)}):null}function Phe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].x,l=r[r.length-1].x;if(!or(a)||!or(l))return null;var u=e*Math.abs(a-l),d=Math.max(...r.map(f=>f.y||0));return Pe(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(f=>f.y||0),d)),Pe(d)?_.createElement("rect",{x:a<l?a:a-u,y:0,width:u,height:Math.floor(d+(i?parseInt("".concat(i),10):1))}):null}function jhe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?_.createElement(Nhe,{alpha:e,points:r,baseLine:i,strokeWidth:a}):_.createElement(Phe,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function Ohe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:l,baseLine:u,isAnimationActive:d,animationBegin:f,animationDuration:p,animationEasing:g,onAnimationStart:b,onAnimationEnd:x}=r,A=Td(r,"recharts-area-"),[E,S]=_.useState(!1),C=!E,P=_.useCallback(()=>{typeof x=="function"&&x(),S(!1)},[x]),N=_.useCallback(()=>{typeof b=="function"&&b(),S(!0)},[b]),L=i.current,M=a.current;return _.createElement(Che,{showLabels:C,points:l},r.children,_.createElement(Sd,{animationId:A,begin:f,duration:p,isActive:d,easing:g,onAnimationEnd:P,onAnimationStart:N,key:A},U=>{if(L){var R=L.length/l.length,I=U===1?l:l.map(($,V)=>{var F=Math.floor(V*R);if(L[F]){var B=L[F];return Is(Is({},$),{},{x:Tt(B.x,$.x,U),y:Tt(B.y,$.y,U)})}return $}),k;return Pe(u)?k=Tt(M,u,U):zt(u)||Hr(u)?k=Tt(M,0,U):k=u.map(($,V)=>{var F=Math.floor(V*R);if(Array.isArray(M)&&M[F]){var B=M[F];return Is(Is({},$),{},{x:Tt(B.x,$.x,U),y:Tt(B.y,$.y,U)})}return $}),U>0&&(i.current=I,a.current=k),_.createElement(_k,{points:I,baseLine:k,needClip:e,clipPathId:n,props:r})}return U>0&&(i.current=l,a.current=u),_.createElement(cn,null,d&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(n)},_.createElement(jhe,{alpha:U,points:l,baseLine:u,layout:r.layout,strokeWidth:r.strokeWidth}))),_.createElement(cn,{clipPath:"url(#animationClipPath-".concat(n,")")},_.createElement(_k,{points:l,baseLine:u,needClip:e,clipPathId:n,props:r})))}),_.createElement(i0,{label:r.label}))}function Ihe(t){var{needClip:e,clipPathId:n,props:r}=t,i=_.useRef(null),a=_.useRef();return _.createElement(Ohe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class Rhe extends _.PureComponent{render(){var e,{hide:n,dot:r,points:i,className:a,top:l,left:u,needClip:d,xAxisId:f,yAxisId:p,width:g,height:b,id:x,baseLine:A}=this.props;if(n)return null;var E=ot("recharts-area",a),S=x,{r:C=3,strokeWidth:P=2}=(e=$t(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},N=Tv(r),L=C*2+P;return _.createElement(_.Fragment,null,_.createElement(cn,{className:E},d&&_.createElement("defs",null,_.createElement(HA,{clipPathId:S,xAxisId:f,yAxisId:p}),!N&&_.createElement("clipPath",{id:"clipPath-dots-".concat(S)},_.createElement("rect",{x:u-L/2,y:l-L/2,width:g+L,height:b+L}))),_.createElement(Ihe,{needClip:d,clipPathId:S,props:this.props})),_.createElement(S2,{points:i,mainColor:By(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(A)&&_.createElement(S2,{points:A,mainColor:By(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var c8={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!no.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function khe(t){var e,n=Vn(t,c8),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:d,fill:f,fillOpacity:p,hide:g,isAnimationActive:b,legendType:x,stroke:A,xAxisId:E,yAxisId:S}=n,C=l8(n,yhe),P=sm(),N=m9(),{needClip:L}=l0(E,S),M=wr(),{points:U,isRange:R,baseLine:I}=(e=Ne(ve=>phe(ve,E,S,M,t.id)))!==null&&e!==void 0?e:{},k=o0();if(P!=="horizontal"&&P!=="vertical"||k==null||N!=="AreaChart"&&N!=="ComposedChart")return null;var{height:$,width:V,x:F,y:B}=k;return!U||!U.length?null:_.createElement(Rhe,Us({},C,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:l,baseLine:I,connectNulls:u,dot:d,fill:f,fillOpacity:p,height:$,hide:g,layout:P,isAnimationActive:b,isRange:R,legendType:x,needClip:L,points:U,stroke:A,width:V,left:F,top:B,xAxisId:E,yAxisId:S}))}var Dhe=(t,e,n,r,i)=>{var a=n??e;if(Pe(a))return a;var l=t==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return a==="dataMin"?f:a==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]};function Mhe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:f,dataStartIndex:p,xAxisTicks:g,yAxisTicks:b,bandSize:x}=t,A=i&&i.length,E=Dhe(a,l,n,u,d),S=a==="horizontal",C=!1,P=f.map((L,M)=>{var U;A?U=i[p+M]:(U=Ct(L,r),Array.isArray(U)?C=!0:U=[E,U]);var R=U[1]==null||A&&!e&&Ct(L,r)==null;return S?{x:yy({axis:u,ticks:g,bandSize:x,entry:L,index:M}),y:R?null:d.scale(U[1]),value:U,payload:L}:{x:R?null:u.scale(U[1]),y:yy({axis:d,ticks:b,bandSize:x,entry:L,index:M}),value:U,payload:L}}),N;return A||C?N=P.map(L=>{var M=Array.isArray(L.value)?L.value[0]:null;return S?{x:L.x,y:M!=null&&L.y!=null?d.scale(M):null,payload:L.payload}:{x:M!=null?u.scale(M):null,y:L.y,payload:L.payload}}):N=S?d.scale(E):u.scale(E),{points:P,baseLine:N,isRange:C}}function Lhe(t){var e=Vn(t,c8),n=wr();return _.createElement(s0,{id:e.id,type:"area"},r=>_.createElement(_.Fragment,null,_.createElement(BA,{legendPayload:_he(e)}),_.createElement(a0,{fn:Ehe,args:e}),_.createElement(zA,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:Z6(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),_.createElement(khe,Us({},e,{id:r}))))}var u8=_.memo(Lhe);u8.displayName="Area";var Vhe=["dangerouslySetInnerHTML","ticks"],Uhe=["id"],Bhe=["domain"],zhe=["domain"];function P2(){return P2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P2.apply(null,arguments)}function zy(t,e){if(t==null)return{};var n,r,i=$he(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $he(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fhe(t){var e=an();return _.useEffect(()=>(e(gue(t)),()=>{e(yue(t))}),[t,e]),null}var qhe=t=>{var{xAxisId:e,className:n}=t,r=Ne(wE),i=wr(),a="xAxis",l=Ne(S=>Rd(S,a,e,i)),u=Ne(S=>GL(S,a,e,i)),d=Ne(S=>FL(S,e)),f=Ne(S=>Zae(S,e)),p=Ne(S=>xL(S,e));if(d==null||f==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:b}=t,x=zy(t,Vhe),{id:A}=p,E=zy(p,Uhe);return _.createElement(YA,P2({},x,E,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:ot("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u}))},Hhe={allowDataOverflow:ni.allowDataOverflow,allowDecimals:ni.allowDecimals,allowDuplicatedCategory:ni.allowDuplicatedCategory,height:ni.height,hide:!1,mirror:ni.mirror,orientation:ni.orientation,padding:ni.padding,reversed:ni.reversed,scale:ni.scale,tickCount:ni.tickCount,type:ni.type,xAxisId:0},Khe=t=>{var e,n,r,i,a,l=Vn(t,Hhe);return _.createElement(_.Fragment,null,_.createElement(Fhe,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),_.createElement(qhe,l))},Ghe=(t,e)=>{var{domain:n}=t,r=zy(t,Bhe),{domain:i}=e,a=zy(e,zhe);return dd(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:dd({domain:n},{domain:i}):!1},u0=_.memo(Khe,Ghe);u0.displayName="XAxis";var Whe=["dangerouslySetInnerHTML","ticks"],Yhe=["id"],Xhe=["domain"],Qhe=["domain"];function j2(){return j2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j2.apply(null,arguments)}function $y(t,e){if(t==null)return{};var n,r,i=Zhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jhe(t){var e=an();return _.useEffect(()=>(e(vue(t)),()=>{e(bue(t))}),[t,e]),null}var eme=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=_.useRef(null),l=_.useRef(null),u=Ne(wE),d=wr(),f=an(),p="yAxis",g=Ne(M=>Rd(M,p,e,d)),b=Ne(M=>qL(M,e)),x=Ne(M=>ese(M,e)),A=Ne(M=>GL(M,p,e,d)),E=Ne(M=>wL(M,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!b||jA(i)||_.isValidElement(i)||E==null)){var M=a.current;if(M){var U=M.getCalculatedWidth();Math.round(b.width)!==Math.round(U)&&f(xue({id:e,width:U}))}}},[A,b,f,i,e,r,E]),b==null||x==null||E==null)return null;var{dangerouslySetInnerHTML:S,ticks:C}=t,P=$y(t,Whe),{id:N}=E,L=$y(E,Yhe);return _.createElement(YA,j2({},P,L,{ref:a,labelRef:l,scale:g,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:ot("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:A}))},tme={allowDataOverflow:ri.allowDataOverflow,allowDecimals:ri.allowDecimals,allowDuplicatedCategory:ri.allowDuplicatedCategory,hide:!1,mirror:ri.mirror,orientation:ri.orientation,padding:ri.padding,reversed:ri.reversed,scale:ri.scale,tickCount:ri.tickCount,type:ri.type,width:ri.width,yAxisId:0},nme=t=>{var e,n,r,i,a,l=Vn(t,tme);return _.createElement(_.Fragment,null,_.createElement(Jhe,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),_.createElement(eme,l))},rme=(t,e)=>{var{domain:n}=t,r=$y(t,Xhe),{domain:i}=e,a=$y(e,Qhe);return dd(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:dd({domain:n},{domain:i}):!1},d0=_.memo(nme,rme);d0.displayName="YAxis";var s1={exports:{}},o1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ek;function ime(){if(Ek)return o1;Ek=1;var t=fd();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return o1.useSyncExternalStoreWithSelector=function(d,f,p,g,b){var x=i(null);if(x.current===null){var A={hasValue:!1,value:null};x.current=A}else A=x.current;x=l(function(){function S(M){if(!C){if(C=!0,P=M,M=g(M),b!==void 0&&A.hasValue){var U=A.value;if(b(U,M))return N=U}return N=M}if(U=N,n(P,M))return U;var R=g(M);return b!==void 0&&b(U,R)?(P=M,U):(P=M,N=R)}var C=!1,P,N,L=p===void 0?null:p;return[function(){return S(f())},L===null?void 0:function(){return S(L())}]},[f,p,g,b]);var E=r(d,x[0],x[1]);return a(function(){A.hasValue=!0,A.value=E},[E]),u(E),E},o1}var Ak;function ame(){return Ak||(Ak=1,s1.exports=ime()),s1.exports}ame();function sme(t){t()}function ome(){let t=null,e=null;return{clear(){t=null,e=null},notify(){sme(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Sk={notify(){},get:()=>[]};function lme(t,e){let n,r=Sk,i=0,a=!1;function l(E){p();const S=r.subscribe(E);let C=!1;return()=>{C||(C=!0,S(),g())}}function u(){r.notify()}function d(){A.onStateChange&&A.onStateChange()}function f(){return a}function p(){i++,n||(n=t.subscribe(d),r=ome())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Sk)}function b(){a||(a=!0,p())}function x(){a&&(a=!1,g())}const A={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:b,tryUnsubscribe:x,getListeners:()=>r};return A}var cme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ume=cme(),dme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fme=dme(),hme=()=>ume||fme?_.useLayoutEffect:_.useEffect,mme=hme(),pme=Symbol.for("react-redux-context"),gme=typeof globalThis<"u"?globalThis:{};function yme(){if(!_.createContext)return{};const t=gme[pme]??=new Map;let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var vme=yme();function bme(t){const{children:e,context:n,serverState:r,store:i}=t,a=_.useMemo(()=>{const d=lme(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=_.useMemo(()=>i.getState(),[i]);mme(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,l]);const u=n||vme;return _.createElement(u.Provider,{value:a},e)}var xme=bme,wme=(t,e)=>e,QA=ee([wme,Je,yL,Bn,l9,so,ioe,Ln],coe),ZA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},d8=$i("mouseClick"),f8=im();f8.startListening({actionCreator:d8,effect:(t,e)=>{var n=t.payload,r=QA(e.getState(),ZA(n));r?.activeIndex!=null&&e.dispatch(hse({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var O2=$i("mouseMove"),h8=im();h8.startListening({actionCreator:O2,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=wA(r,r.tooltip.settings.shared),a=QA(r,ZA(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(t9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(e9()))}});var Tk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},m8=mi({name:"rootProps",initialState:Tk,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Tk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),_me=m8.reducer,{updateOptions:Eme}=m8.actions,p8=mi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Ame}=p8.actions,Sme=p8.reducer,g8=$i("keyDown"),y8=$i("focus"),JA=im();JA.startListening({actionCreator:g8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=Number(_A(i,Dd(n))),u=so(n);if(a==="Enter"){var d=Ry(n,"axis","hover",String(i.index));e.dispatch(x2({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=ise(n),p=f==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,b=l+g*p;if(!(u==null||b>=u.length||b<0)){var x=Ry(n,"axis","hover",String(b));e.dispatch(x2({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});JA.startListening({actionCreator:y8,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=Ry(n,"axis","hover",String(a));e.dispatch(x2({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var ki=$i("externalEvent"),v8=im();v8.startListening({actionCreator:ki,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Yse(n),activeDataKey:f9(n),activeIndex:ul(n),activeLabel:d9(n),activeTooltipIndex:ul(n),isTooltipActive:Xse(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Tme=ee([kd],t=>t.tooltipItemPayloads),Cme=ee([Tme,vm,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=e(a,n);return l}}}),b8=$i("touchMove"),x8=im();x8.startListening({actionCreator:b8,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=wA(r,r.tooltip.settings.shared);if(i==="axis"){var a=QA(r,ZA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(t9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0],d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(e5),p=(l=d.getAttribute(t5))!==null&&l!==void 0?l:void 0,g=Cme(e.getState(),f,p);e.dispatch(JL({activeDataKey:p,activeIndex:f,activeCoordinate:g}))}}});var Nme=S6({brush:zde,cartesianAxis:wue,chartData:Soe,errorBars:Bue,graphicalItems:Bce,layout:see,legend:Yee,options:xoe,polarAxis:rce,polarOptions:Sme,referenceElements:Wde,rootProps:_me,tooltip:mse}),Pme=function(e){return OJ({reducer:Nme,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([f8.middleware,h8.middleware,JA.middleware,v8.middleware,x8.middleware]),devTools:no.devToolsEnabled})};function w8(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=wr(),a=_.useRef(null);if(i)return n;a.current==null&&(a.current=Pme(e));var l=pE;return _.createElement(xme,{context:l,store:a.current},n)}function _8(t){var{layout:e,width:n,height:r,margin:i}=t,a=an(),l=wr();return _.useEffect(()=>{l||(a(ree(e)),a(iee({width:n,height:r})),a(nee(i)))},[a,l,e,n,r,i]),null}function E8(t){var e=an();return _.useEffect(()=>{e(Eme(t))},[e,t]),null}var jme=["children"];function Ome(t,e){if(t==null)return{};var n,r,i=Ime(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ime(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fy(){return Fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fy.apply(null,arguments)}var Rme={width:"100%",height:"100%"},kme=_.forwardRef((t,e)=>{var n=EE(),r=AE(),i=s5();if(!sd(n)||!sd(r))return null;var{children:a,otherAttributes:l,title:u,desc:d}=t,f,p;return typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0,_.createElement(sE,Fy({},l,{title:u,desc:d,role:p,tabIndex:f,width:n,height:r,style:Rme,ref:e}),a)}),Dme=t=>{var{children:e}=t,n=Ne(Uv);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return _.createElement(sE,{width:r,height:i,x:l,y:a},e)},Ck=_.forwardRef((t,e)=>{var{children:n}=t,r=Ome(t,jme),i=wr();return i?_.createElement(Dme,null,n):_.createElement(kme,Fy({ref:e},r),n)});function Mme(){var t=an(),[e,n]=_.useState(null),r=Ne(kee);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;or(a)&&a!==r&&t(aee(a))}},[e,t,r]),n}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){Vme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vme(t,e,n){return(e=Ume(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ume(t){var e=Bme(t,"string");return typeof e=="symbol"?e:e+""}function Bme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zme=_.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:p,onMouseMove:g,onMouseUp:b,onTouchEnd:x,onTouchMove:A,onTouchStart:E,style:S,width:C}=t,P=an(),[N,L]=_.useState(null),[M,U]=_.useState(null);koe();var R=Mme(),I=_.useCallback(ue=>{R(ue),typeof e=="function"&&e(ue),L(ue),U(ue)},[R,e,L,U]),k=_.useCallback(ue=>{P(d8(ue)),P(ki({handler:a,reactEvent:ue}))},[P,a]),$=_.useCallback(ue=>{P(O2(ue)),P(ki({handler:f,reactEvent:ue}))},[P,f]),V=_.useCallback(ue=>{P(e9()),P(ki({handler:p,reactEvent:ue}))},[P,p]),F=_.useCallback(ue=>{P(O2(ue)),P(ki({handler:g,reactEvent:ue}))},[P,g]),B=_.useCallback(()=>{P(y8())},[P]),ve=_.useCallback(ue=>{P(g8(ue.key))},[P]),ie=_.useCallback(ue=>{P(ki({handler:l,reactEvent:ue}))},[P,l]),G=_.useCallback(ue=>{P(ki({handler:u,reactEvent:ue}))},[P,u]),W=_.useCallback(ue=>{P(ki({handler:d,reactEvent:ue}))},[P,d]),ae=_.useCallback(ue=>{P(ki({handler:b,reactEvent:ue}))},[P,b]),ye=_.useCallback(ue=>{P(ki({handler:E,reactEvent:ue}))},[P,E]),H=_.useCallback(ue=>{P(b8(ue)),P(ki({handler:A,reactEvent:ue}))},[P,A]),le=_.useCallback(ue=>{P(ki({handler:x,reactEvent:ue}))},[P,x]);return _.createElement(b9.Provider,{value:N},_.createElement(K3.Provider,{value:M},_.createElement("div",{className:ot("recharts-wrapper",r),style:Lme({position:"relative",cursor:"default",width:C,height:i},S),onClick:k,onContextMenu:ie,onDoubleClick:G,onFocus:B,onKeyDown:ve,onMouseDown:W,onMouseEnter:$,onMouseLeave:V,onMouseMove:F,onMouseUp:ae,onTouchEnd:le,onTouchMove:H,onTouchStart:ye,ref:I},n)))}),$me=["children","className","width","height","style","compact","title","desc"];function Fme(t,e){if(t==null)return{};var n,r,i=qme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var A8=_.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:l,compact:u,title:d,desc:f}=t,p=Fme(t,$me),g=Hi(p);return u?_.createElement(Ck,{otherAttributes:g,title:d,desc:f},n):_.createElement(zme,{className:r,style:l,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(Ck,{otherAttributes:g,title:d,desc:f,ref:e},_.createElement(Xde,null,n)))}),Hme=["width","height"];function I2(){return I2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I2.apply(null,arguments)}function Kme(t,e){if(t==null)return{};var n,r,i=Gme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Wme={top:5,right:5,bottom:5,left:5},Yme={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Wme,reverseStackOrder:!1,syncMethod:"index"},eS=_.forwardRef(function(e,n){var r,i=Vn(e.categoricalChartProps,Yme),{width:a,height:l}=i,u=Kme(i,Hme);if(!sd(a)||!sd(l))return null;var{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,categoricalChartProps:b}=e,x={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,eventEmitter:void 0};return _.createElement(w8,{preloadedState:{options:x},reduxStoreName:(r=b.id)!==null&&r!==void 0?r:d},_.createElement(K9,{chartData:b.data}),_.createElement(_8,{width:a,height:l,layout:i.layout,margin:i.margin}),_.createElement(E8,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(A8,I2({},u,{width:a,height:l,ref:n})))}),Xme=["axis"],Qme=_.forwardRef((t,e)=>_.createElement(eS,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Xme,tooltipPayloadSearcher:n0,categoricalChartProps:t,ref:e})),Zme=["axis","item"],Jme=_.forwardRef((t,e)=>_.createElement(eS,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Zme,tooltipPayloadSearcher:n0,categoricalChartProps:t,ref:e}));function epe(t){var e=an();return _.useEffect(()=>{e(Ame(t))},[e,t]),null}var tpe=["width","height","layout"];function R2(){return R2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R2.apply(null,arguments)}function npe(t,e){if(t==null)return{};var n,r,i=rpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ipe={top:5,right:5,bottom:5,left:5},ape={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ipe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},spe=_.forwardRef(function(e,n){var r,i=Vn(e.categoricalChartProps,ape),{width:a,height:l,layout:u}=i,d=npe(i,tpe);if(!sd(a)||!sd(l))return null;var{chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:b}=e,x={chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:b,eventEmitter:void 0};return _.createElement(w8,{preloadedState:{options:x},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:f},_.createElement(K9,{chartData:i.data}),_.createElement(_8,{width:a,height:l,layout:u,margin:i.margin}),_.createElement(E8,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(epe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(A8,R2({width:a,height:l},d,{ref:n})))}),ope=["item"],lpe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},S8=_.forwardRef((t,e)=>{var n=Vn(t,lpe);return _.createElement(spe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ope,tooltipPayloadSearcher:n0,categoricalChartProps:n,ref:e})}),cpe=["axis"],upe=_.forwardRef((t,e)=>_.createElement(eS,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:cpe,tooltipPayloadSearcher:n0,categoricalChartProps:t,ref:e}));const dpe=({data:t})=>{const e=t.map(r=>({date:r.date,Ventas:r.totalSales,Pedidos:r.orderCount})),n=r=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(r);return m.jsx(wm,{width:"100%",height:"100%",children:m.jsxs(Qme,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[m.jsx(c0,{strokeDasharray:"3 3"}),m.jsx(u0,{dataKey:"date",tick:{fontSize:12},tickFormatter:r=>new Date(r).toLocaleDateString("es-CO",{month:"short",day:"numeric"})}),m.jsx(d0,{tick:{fontSize:12},tickFormatter:r=>n(r)}),m.jsx(xm,{formatter:(r,i)=>i==="Ventas"?[n(r),"Ventas"]:[r,"Pedidos"],labelFormatter:r=>new Date(r).toLocaleDateString("es-CO",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),m.jsx(bl,{}),m.jsx(N2,{type:"monotone",dataKey:"Ventas",stroke:"#3b82f6",activeDot:{r:8},strokeWidth:2,name:"Ventas"}),m.jsx(N2,{type:"monotone",dataKey:"Pedidos",stroke:"#10b981",strokeWidth:2,name:"Pedidos"})]})})},fpe=({data:t})=>{const e=t.map(i=>({name:i.category,value:i.revenue,sales:i.sales,quantity:i.quantity})),n=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#f97316","#ec4899"],r=i=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(i);return m.jsx(wm,{width:"100%",height:"100%",children:m.jsxs(S8,{children:[m.jsx(FA,{data:e,cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:i,percent:a})=>`${i}: ${(a*100).toFixed(0)}%`,children:e.map((i,a)=>m.jsx(qc,{fill:n[a%n.length]},`cell-${a}`))}),m.jsx(xm,{formatter:i=>r(i),labelFormatter:i=>`Categoría: ${i}`}),m.jsx(bl,{})]})})},hpe=({data:t})=>{const e=i=>{switch(i){case"pending":return"Pendiente";case"processing":return"Procesando";case"shipped":return"Enviado";case"delivered":return"Entregado";case"cancelled":return"Cancelado";default:return i}},n=i=>{switch(i){case"pending":return"#f59e0b";case"processing":return"#3b82f6";case"shipped":return"#8b5cf6";case"delivered":return"#10b981";case"cancelled":return"#ef4444";default:return"#6b7280"}},r=t.map(i=>({name:e(i.status),value:i.count}));return m.jsx(wm,{width:"100%",height:"100%",children:m.jsxs(Jme,{data:r,margin:{top:5,right:30,left:20,bottom:5},children:[m.jsx(c0,{strokeDasharray:"3 3"}),m.jsx(u0,{dataKey:"name",tick:{fontSize:12}}),m.jsx(d0,{tick:{fontSize:12}}),m.jsx(xm,{formatter:i=>[i,"Pedidos"],labelFormatter:i=>`Estado: ${i}`}),m.jsx(bl,{}),m.jsx(q9,{dataKey:"value",name:"Número de Pedidos",children:r.map((i,a)=>m.jsx(qc,{fill:n(t[a].status)},`cell-${a}`))})]})})},mpe=({data:t})=>{const e=t.map(i=>({name:i.method,value:i.revenue,count:i.count})),n=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#f97316","#ec4899"],r=i=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(i);return m.jsx(wm,{width:"100%",height:"100%",children:m.jsxs(S8,{children:[m.jsx(FA,{data:e,cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:i,percent:a})=>`${i}: ${(a*100).toFixed(0)}%`,children:e.map((i,a)=>m.jsx(qc,{fill:n[a%n.length]},`cell-${a}`))}),m.jsx(xm,{formatter:(i,a,l)=>a==="value"?[r(i),"Ingresos"]:[i,"Pedidos"],labelFormatter:i=>`Método: ${i}`}),m.jsx(bl,{})]})})},ppe=({data:t})=>{const e=t.map(n=>({date:n.date,Registros:n.registrations}));return m.jsx(wm,{width:"100%",height:"100%",children:m.jsxs(upe,{data:e,margin:{top:10,right:30,left:0,bottom:0},children:[m.jsx(c0,{strokeDasharray:"3 3"}),m.jsx(u0,{dataKey:"date",tick:{fontSize:12},tickFormatter:n=>new Date(n).toLocaleDateString("es-CO",{month:"short",day:"numeric"})}),m.jsx(d0,{tick:{fontSize:12}}),m.jsx(xm,{labelFormatter:n=>new Date(n).toLocaleDateString("es-CO",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),m.jsx(bl,{}),m.jsx(u8,{type:"monotone",dataKey:"Registros",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.3,strokeWidth:2})]})})};var T8={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Pk=li.createContext&&li.createContext(T8),gpe=["attr","size","title"];function ype(t,e){if(t==null)return{};var n=vpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(this,arguments)}function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){bpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bpe(t,e,n){return e=xpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xpe(t){var e=wpe(t,"string");return typeof e=="symbol"?e:e+""}function wpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C8(t){return t&&t.map((e,n)=>li.createElement(e.tag,Hy({key:n},e.attr),C8(e.child)))}function Mt(t){return e=>li.createElement(_pe,qy({attr:Hy({},t.attr)},e),C8(t.child))}function _pe(t){var e=n=>{var{attr:r,size:i,title:a}=t,l=ype(t,gpe),u=i||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),li.createElement("svg",qy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:d,style:Hy(Hy({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&li.createElement("title",null,a),t.children)};return Pk!==void 0?li.createElement(Pk.Consumer,null,n=>e(n)):e(T8)}function Ok(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function Ik(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function Epe(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Ape(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function Spe(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function Rk(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function Tpe(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function cg(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(t)}function Cpe(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function Npe(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function kk(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function Dk(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function l1(t){return Mt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Ppe=()=>{const{currentUser:t,isAdmin:e}=va(),n=qi(),[r,i]=_.useState(!1),[a,l]=_.useState("analytics"),[u,d]=_.useState({totalProducts:0,totalOrders:0,totalUsers:0,totalReviews:0,totalRevenue:0,recentOrders:[],recentUsers:[],salesData:[],salesByCategory:[],orderStatusData:[],topSellingProducts:[],userRegistrationData:[],paymentMethodData:[],dateRange:"last30days"}),[f,p]=_.useState(!1),[g,b]=_.useState([]),[x,A]=_.useState(!1),[E,S]=_.useState({name:"",description:"",price:"",imageUrls:[],primaryImageIndex:0,category:"",material:"",color:"",size:"",style:"",stock:0,rating:0}),[C,P]=_.useState(null),[N,L]=_.useState(!1),[M,U]=_.useState("add"),[R,I]=_.useState([]),[k,$]=_.useState(!1),[V,F]=_.useState([]),[B,ve]=_.useState(!1),[ie,G]=_.useState(null),[W,ae]=_.useState(!1),[ye,H]=_.useState([]),[le,ue]=_.useState(!1),[oe,he]=_.useState(null),[be,we]=_.useState(!1),[Ge,lt]=_.useState({}),[Ee,$e]=_.useState(!1),Ke=_.useRef(null),[ge,Le]=_.useState(null),[et,bn]=_.useState(""),[Yt,Lt]=_.useState(!1);_.useEffect(()=>{const Y=xe=>{Ke.current&&!Ke.current.contains(xe.target)&&$e(!1)};return document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[]);const ns=()=>{$e(!Ee)},Xt=()=>{$e(!1)},xn=async()=>{try{await DD(da),Xt(),n("/login")}catch(Y){console.error("Error signing out:",Y),Le("Error al cerrar sesión")}},zn=Y=>{bn(Y),setTimeout(()=>bn(""),3e3)},xa=Y=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(Y||0),Gi=Y=>Y?Y instanceof Date?Y.toLocaleDateString("es-CO"):Y.toDate?Y.toDate().toLocaleDateString("es-CO"):"N/A":"N/A",Md=async(Y,xe)=>{try{lt(je=>({...je,[Y]:!0})),await XX(Y,xe),H(ye.map(je=>je.id===Y?{...je,orderStatus:xe,updatedAt:new Date}:je)),oe&&oe.id===Y&&he({...oe,orderStatus:xe,updatedAt:new Date}),zn(`Estado del pedido actualizado a ${Ox(xe)}`)}catch(je){console.error("Error updating order status:",je),Le("Error al actualizar el estado del pedido")}finally{lt(je=>({...je,[Y]:!1}))}},wa=async()=>{try{p(!0);const Y=new Date;let xe=new Date;switch(u.dateRange){case"last7days":xe.setDate(xe.getDate()-7);break;case"last30days":xe.setDate(xe.getDate()-30);break;case"last90days":xe.setDate(xe.getDate()-90);break;case"lastYear":xe.setFullYear(xe.getFullYear()-1);break;default:xe.setDate(xe.getDate()-30)}const xt=(await Ht(Pt(Ie,"products"))).size,Jt=await Ht(Pt(Ie,"orders")),lr=Jt.size;let Xi=0;Jt.docs.forEach(wi=>{const kr=wi.data();Xi+=kr.totalAmount||0});const cr=await Cj(),yi=cr.length,Ta=(await _j()).length,en=ma(Pt(Ie,"orders"),yl("createdAt","desc"),HK(5)),as=(await Ht(en)).docs.map(wi=>({id:wi.id,...wi.data()})),vi=cr.slice(0,5),bi=await ZX(xe,Y),ss=await JX(),xi=await eQ(),uo=await tQ(10),Bd=await nQ(xe,Y),os=await rQ();d({totalProducts:xt,totalOrders:lr,totalUsers:yi,totalReviews:Ta,totalRevenue:Xi,recentOrders:as,recentUsers:vi,salesData:bi.salesData,salesByCategory:ss,orderStatusData:xi,topSellingProducts:uo,userRegistrationData:Bd.registrationData,paymentMethodData:os,dateRange:u.dateRange})}catch(Y){console.error("Error fetching dashboard stats:",Y),Le("Error al cargar las estadísticas del dashboard")}finally{p(!1)}},Kr=Y=>{d(xe=>({...xe,dateRange:Y}))},wn=async()=>{try{A(!0);const xe=(await Ht(Pt(Ie,"products"))).docs.map(je=>({id:je.id,...je.data()}));b(xe)}catch(Y){console.error("Error fetching products:",Y),Le("Error al cargar los productos")}finally{A(!1)}},Rr=async()=>{try{$(!0);const Y=await Cj();I(Y)}catch(Y){console.error("Error fetching users:",Y),Le("Error al cargar los usuarios")}finally{$(!1)}},Zn=async()=>{try{ve(!0);const Y=await _j();F(Y)}catch(Y){console.error("Error fetching reviews:",Y),Le("Error al cargar las reseñas")}finally{ve(!1)}},Ld=async()=>{try{ue(!0);const Y=await QX();H(Y)}catch(Y){console.error("Error fetching orders:",Y),Le("Error al cargar los pedidos")}finally{ue(!1)}};_.useEffect(()=>{if(e)switch(p(!1),A(!1),$(!1),ve(!1),ue(!1),a){case"analytics":wa();break;case"products":A(!0),wn();break;case"users":$(!0),Rr();break;case"reviews":ve(!0),Zn();break;case"orders":ue(!0),Ld();break;default:wa()}},[a,e]);const _r=Y=>{S({...E,[Y.target.name]:Y.target.value})},Er=Y=>{P({...C,[Y.target.name]:Y.target.value})},pi=async Y=>{if(!Y)return null;if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(Y.type))return Le("Por favor, sube una imagen válida (JPEG, JPG, PNG, GIF)."),null;if(Y.size>1024*1024)return Le("La imagen debe ser menor a 1MB."),null;try{Lt(!0);const je=await _a(Y);return{name:Y.name,type:Y.type,data:je,timestamp:Date.now()}}catch(je){return console.error("Error converting file to base64:",je),Le("Error al procesar la imagen: "+je.message),null}finally{Lt(!1)}},_a=Y=>new Promise((xe,je)=>{const xt=new FileReader;xt.readAsDataURL(Y),xt.onload=()=>xe(xt.result),xt.onerror=Jt=>je(Jt)}),Gr=async(Y=!1)=>{const xe=document.createElement("input");xe.type="file",xe.accept="image/*",xe.multiple=!0,xe.onchange=async je=>{const xt=Array.from(je.target.files);if(!xt.length)return;const Jt=Y?C.imageUrls:E.imageUrls;if(Jt.length+xt.length>4){Le(`Solo puedes subir un máximo de 4 imágenes. Actualmente tienes ${Jt.length} imágenes.`);return}const lr=[];for(const Xi of xt){const cr=await pi(Xi);cr&&lr.push(cr)}lr.length>0&&(Y?P({...C,imageUrls:[...C.imageUrls,...lr]}):S({...E,imageUrls:[...E.imageUrls,...lr]}),zn(`${lr.length} imagen(es) subida(s) exitosamente!`))},xe.click()},Ar=(Y,xe=!1)=>{if(xe){const je=[...C.imageUrls];je.splice(Y,1),P({...C,imageUrls:je})}else{const je=[...E.imageUrls];je.splice(Y,1),S({...E,imageUrls:je})}},Wi=(Y,xe=!1)=>{xe?P({...C,primaryImageIndex:Y}):S({...E,primaryImageIndex:Y})},rs=async Y=>{if(Y.preventDefault(),!E.name||!E.price){Le("Por favor, introduce al menos un nombre y un precio.");return}try{const xe=parseFloat(E.price);if(isNaN(xe)){Le("El precio debe ser un número válido.");return}const je=parseInt(E.stock);if(isNaN(je)){Le("El stock debe ser un número válido.");return}const xt=parseFloat(E.rating);if(isNaN(xt)||xt<0||xt>5){Le("La calificación debe ser un número entre 0 y 5.");return}await vv(Pt(Ie,"products"),{...E,price:xe,stock:je,rating:xt,createdAt:new Date}),S({name:"",description:"",price:"",stock:0,rating:0,imageUrls:[],primaryImageIndex:0,category:"",material:"",color:"",size:"",style:""}),zn("Producto añadido exitosamente!"),L(!1),wn()}catch(xe){console.error("Firebase error: ",xe),Le("Error al crear el producto. ¿Tienes permisos de escritura?")}},oo=async Y=>{if(Y.preventDefault(),!C.name||!C.price){Le("Por favor, introduce al menos un nombre y un precio.");return}try{const xe=parseFloat(C.price);if(isNaN(xe)){Le("El precio debe ser un número válido.");return}const je=parseInt(C.stock);if(isNaN(je)){Le("El stock debe ser un número válido.");return}const xt=parseFloat(C.rating);if(isNaN(xt)||xt<0||xt>5){Le("La calificación debe ser un número entre 0 y 5.");return}const Jt=bt(Ie,"products",C.id);await aa(Jt,{...C,price:xe,stock:je,rating:xt,updatedAt:new Date}),zn("Producto actualizado exitosamente!"),L(!1),P(null),wn()}catch(xe){console.error("Firebase error: ",xe),Le("Error al actualizar el producto. ¿Tienes permisos de escritura?")}},Ea=async(Y,xe)=>{if(window.confirm(`¿Estás seguro de que quieres eliminar el producto "${xe}"?`))try{const xt=bt(Ie,"products",Y);await V_(xt),b(g.filter(Jt=>Jt.id!==Y)),zn("Producto eliminado exitosamente!")}catch(xt){console.error("Firebase error: ",xt),Le("Error al eliminar el producto. ¿Tienes permisos de escritura?")}},lo=()=>{S({name:"",description:"",price:"",imageUrls:[],primaryImageIndex:0,category:"",material:"",color:"",size:"",style:"",stock:0,rating:0}),U("add"),L(!0)},Qt=Y=>{P({...Y}),U("edit"),L(!0)},Hc=async(Y,xe)=>{try{await WX(Y,xe),I(R.map(je=>je.id===Y?{...je,role:xe,updatedAt:new Date}:je)),zn(`Usuario actualizado a ${xe==="admin"?"administrador":"cliente"} exitosamente!`)}catch(je){console.error("Firebase error updating user role: ",je),Le("Error al actualizar el rol del usuario. ¿Tienes permisos de escritura?")}},Aa=Y=>{const{name:xe,value:je}=Y.target;G({...ie,[xe]:je})},Sa=Y=>{G({...ie,rating:Y})},co=async Y=>{if(Y.preventDefault(),ie.rating<1||ie.rating>5){Le("La calificación debe estar entre 1 y 5 estrellas.");return}if(!ie.comment||ie.comment.trim()===""){Le("El comentario no puede estar vacío.");return}try{await bX(ie.id,{rating:ie.rating,comment:ie.comment.trim()}),F(V.map(xe=>xe.id===ie.id?{...xe,rating:ie.rating,comment:ie.comment.trim()}:xe)),G(null),ae(!1),zn("Reseña actualizada exitosamente!")}catch(xe){console.error("Firebase error: ",xe),Le("Error al actualizar la reseña. ¿Tienes permisos de escritura?")}},El=async Y=>{if(window.confirm("¿Estás seguro de que quieres eliminar esta reseña?"))try{await xX(Y),F(V.filter(je=>je.id!==Y)),zn("Reseña eliminada exitosamente!")}catch(je){console.error("Firebase error: ",je),Le("Error al eliminar la reseña. ¿Tienes permisos de escritura?")}},Yi=Y=>{G({...Y}),ae(!0)},Vd=Y=>{he(Y),we(!0)},gi=()=>{we(!1),he(null)},Zt=[{id:"analytics",label:"Analytics",icon:m.jsx(Ok,{})},{id:"products",label:"Productos",icon:m.jsx(cg,{})},{id:"users",label:"Usuarios",icon:m.jsx(Dk,{})},{id:"reviews",label:"Reviews",icon:m.jsx(Spe,{})},{id:"coupons",label:"Códigos Promocionales",icon:m.jsx(Npe,{})},{id:"orders",label:"Pedidos",icon:m.jsx(Rk,{})}],jn=()=>{switch(a){case"analytics":return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-6 bg-white shadow-sm rounded-xl",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analíticas"}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{onClick:()=>Kr("last7days"),className:`px-4 py-2 text-sm rounded-lg ${u.dateRange==="last7days"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Últimos 7 días"}),m.jsx("button",{onClick:()=>Kr("last30days"),className:`px-4 py-2 text-sm rounded-lg ${u.dateRange==="last30days"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Últimos 30 días"}),m.jsx("button",{onClick:()=>Kr("last90days"),className:`px-4 py-2 text-sm rounded-lg ${u.dateRange==="last90days"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Últimos 90 días"}),m.jsx("button",{onClick:()=>Kr("lastYear"),className:`px-4 py-2 text-sm rounded-lg ${u.dateRange==="lastYear"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Último año"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[m.jsx("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:m.jsx(cg,{className:"text-blue-600",size:24})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Productos"}),m.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:u.totalProducts})]})]})}),m.jsx("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:m.jsx(Rk,{className:"text-green-600",size:24})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pedidos"}),m.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:u.totalOrders})]})]})}),m.jsx("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:m.jsx(Dk,{className:"text-purple-600",size:24})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Usuarios"}),m.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:u.totalUsers})]})]})}),m.jsx("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:m.jsx(Ok,{className:"text-indigo-600",size:24})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos Totales"}),m.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:xa(u.totalRevenue)})]})]})})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[m.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[m.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Tendencia de Ventas"}),m.jsx("div",{className:"h-80",children:m.jsx(dpe,{data:u.salesData})})]}),m.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[m.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Ventas por Categoría"}),m.jsx("div",{className:"h-80",children:m.jsx(fpe,{data:u.salesByCategory})})]}),m.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[m.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Distribución de Estados de Pedido"}),m.jsx("div",{className:"h-80",children:m.jsx(hpe,{data:u.orderStatusData})})]}),m.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[m.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Ingresos por Método de Pago"}),m.jsx("div",{className:"h-80",children:m.jsx(mpe,{data:u.paymentMethodData})})]})]}),m.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[m.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Productos Más Vendidos"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Producto"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Cantidad Vendida"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Ingresos"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.topSellingProducts.map((Y,xe)=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:Y.productName}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Y.quantity}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:xa(Y.revenue)})]},xe))})]})})]}),m.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[m.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Tendencia de Registro de Usuarios"}),m.jsx("div",{className:"h-80",children:m.jsx(ppe,{data:u.userRegistrationData})})]}),m.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[m.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Pedidos Recientes"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"ID"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Cliente"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Fecha"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Total"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Estado"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.recentOrders.map(Y=>m.jsxs("tr",{children:[m.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:[Y.id.substring(0,8),"..."]}),m.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:Y.userEmail||"N/A"}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Gi(Y.createdAt)}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:xa(Y.totalAmount||0)}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Nj(Y.orderStatus||"pending")}`,children:Ox(Y.orderStatus||"pending")})})]},Y.id))})]})})]}),m.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[m.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Usuarios Recientes"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Nombre"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Email"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Rol"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Fecha de Registro"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.recentUsers.map(Y=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:Y.name||Y.email}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Y.email}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Y.role==="admin"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:Y.role==="admin"?"Administrador":"Cliente"})}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Gi(Y.createdAt)})]},Y.id))})]})})]})]});case"products":return m.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gestión de Productos"}),m.jsxs("button",{onClick:lo,className:"flex items-center px-4 py-2 text-white transition-colors bg-blue-600 rounded-lg hover:bg-blue-700",children:[m.jsx(Tpe,{className:"mr-2"}),"Añadir Producto"]})]}),x?m.jsx("div",{className:"flex justify-center py-8",children:m.jsx("div",{className:"w-8 h-8 border-b-2 border-blue-600 rounded-full animate-spin"})}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Imagen"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Nombre"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Stock"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Precio"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Acciones"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(Y=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"flex-shrink-0 w-10 h-10",children:Y.imageUrls&&Y.imageUrls.length>0?m.jsx("img",{className:"object-cover w-10 h-10 rounded-md",src:typeof Y.imageUrls[Y.primaryImageIndex]=="string"?Y.imageUrls[Y.primaryImageIndex]:Y.imageUrls[Y.primaryImageIndex]?.data||Y.imageUrls[0],alt:Y.name,onError:xe=>{xe.target.onerror=null,xe.target.src="https://via.placeholder.com/40x40.png?text=Moño"}}):m.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-200 rounded-md",children:m.jsx(cg,{className:"text-gray-500"})})})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.name})}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Y.stock}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:xa(Y.price)}),m.jsxs("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap",children:[m.jsx("button",{onClick:()=>Qt(Y),className:"mr-3 text-blue-600 hover:text-blue-900",title:"Editar producto",children:m.jsx(Ik,{})}),m.jsx("button",{onClick:()=>Ea(Y.id,Y.name),className:"text-red-600 hover:text-red-900",title:"Eliminar producto",children:m.jsx(kk,{})})]})]},Y.id))})]})})]});case"users":return m.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[m.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-900",children:"Gestión de Usuarios"}),k?m.jsx("div",{className:"flex justify-center py-8",children:m.jsx("div",{className:"w-8 h-8 border-b-2 border-blue-600 rounded-full animate-spin"})}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Email"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Rol"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Acciones"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(Y=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Y.email}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Y.role==="admin"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:Y.role==="admin"?"Administrador":"Cliente"})}),m.jsx("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap",children:m.jsx("button",{onClick:()=>{const xe=Y.role==="admin"?"customer":"admin";Hc(Y.id,xe)},className:`px-3 py-1 text-xs rounded-md ${Y.role==="admin"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-blue-100 text-blue-800 hover:bg-blue-200"}`,children:Y.role==="admin"?"Hacer Cliente":"Hacer Administrador"})})]},Y.id))})]})})]});case"reviews":return m.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[m.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-900",children:"Gestión de Reseñas"}),B?m.jsx("div",{className:"flex justify-center py-8",children:m.jsx("div",{className:"w-8 h-8 border-b-2 border-blue-600 rounded-full animate-spin"})}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Producto"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Usuario"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Calificación"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Fecha"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Acciones"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(Y=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Y.productId||"N/A"}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[m.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.userName||"N/A"}),m.jsx("div",{className:"text-sm text-gray-500",children:Y.userEmail||"N/A"})]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx(Wg,{rating:Y.rating})}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Gi(Y.createdAt)}),m.jsxs("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap",children:[m.jsx("button",{onClick:()=>Yi(Y),className:"mr-3 text-blue-600 hover:text-blue-900",title:"Editar reseña",children:m.jsx(Ik,{})}),m.jsx("button",{onClick:()=>El(Y.id),className:"text-red-600 hover:text-red-900",title:"Eliminar reseña",children:m.jsx(kk,{})})]})]},Y.id))})]})})]});case"coupons":return m.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[m.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-900",children:"Gestión de Códigos Promocionales"}),m.jsx(iQ,{})]});case"orders":return m.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[m.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-900",children:"Gestión de Pedidos"}),le?m.jsx("div",{className:"flex justify-center py-8",children:m.jsx("div",{className:"w-8 h-8 border-b-2 border-blue-600 rounded-full animate-spin"})}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"ID"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Cliente"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Fecha"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Total"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Estado"}),m.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Acciones"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ye.map(Y=>m.jsxs("tr",{children:[m.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:[Y.id.substring(0,8),"..."]}),m.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:Y.userEmail||"N/A"}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:Gi(Y.createdAt)}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:xa(Y.totalAmount||0)}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("select",{value:Y.orderStatus||"pending",onChange:xe=>Md(Y.id,xe.target.value),className:"px-2 py-1 text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:Ge[Y.id],children:[m.jsx("option",{value:"pending",children:"Pendiente"}),m.jsx("option",{value:"processing",children:"Procesando"}),m.jsx("option",{value:"shipped",children:"Enviado"}),m.jsx("option",{value:"delivered",children:"Entregado"}),m.jsx("option",{value:"cancelled",children:"Cancelado"})]})}),m.jsx("td",{className:"px-6 py-4 text-sm font-medium whitespace-nowrap",children:m.jsx("button",{onClick:()=>Vd(Y),className:"text-blue-600 hover:text-blue-900",children:"Ver Detalles"})})]},Y.id))})]})})]});default:return m.jsxs("div",{className:"p-6 bg-white shadow-sm rounded-xl",children:[m.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900",children:"Dashboard"}),m.jsx("p",{className:"text-gray-600",children:"Bienvenido al panel de administración moderno."})]})}};return e?m.jsxs("div",{className:"flex h-screen bg-gray-50",children:[r&&m.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>i(!1)}),m.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${r?"translate-x-0":"-translate-x-full"}`,children:[m.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(cg,{className:"text-blue-600",size:24}),m.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"Ecommerce Admin"})]}),m.jsx("button",{className:"p-1 rounded-md lg:hidden",onClick:()=>i(!1),children:m.jsx(l1,{size:24})})]}),m.jsx("nav",{className:"mt-6",children:Zt.map(Y=>m.jsxs("button",{className:`flex items-center w-full px-6 py-3 text-left transition-colors duration-200 ${a===Y.id?"bg-blue-50 border-l-4 border-blue-500 text-blue-600":"text-gray-600 hover:bg-gray-50"}`,onClick:()=>{l(Y.id),i(!1)},children:[m.jsx("span",{className:"mr-3",children:Y.icon}),m.jsx("span",{className:"font-medium",children:Y.label})]},Y.id))})]}),m.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[m.jsxs("header",{className:"flex items-center justify-between h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("button",{className:"p-2 mr-2 rounded-md lg:hidden",onClick:()=>i(!0),children:m.jsx(Ape,{size:24})}),m.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Panel de Administración"})]}),m.jsx("div",{className:"flex items-center space-x-4",children:m.jsxs("div",{className:"relative",ref:Ke,children:[m.jsxs("div",{className:"flex items-center px-3 py-1 text-sm bg-gray-100 rounded-full cursor-pointer",onClick:ns,children:[m.jsx("div",{className:"flex items-center justify-center w-8 h-8 mr-2 font-semibold text-white bg-blue-500 rounded-full",children:t?.email?.charAt(0).toUpperCase()||"A"}),m.jsx("span",{className:"font-medium text-gray-700",children:"Administrador"})]}),Ee&&m.jsx("div",{className:"absolute right-0 z-50 w-48 mt-2 bg-white rounded-md shadow-lg",children:m.jsxs("div",{className:"py-1",children:[m.jsxs("button",{onClick:()=>{n("/shop"),Xt()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[m.jsx(Cpe,{className:"mr-3 text-gray-400"}),"Ir a la tienda"]}),m.jsxs("button",{onClick:()=>{xn(),Xt()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[m.jsx(Epe,{className:"mr-3 text-gray-400"}),"Cerrar sesión"]})]})})]})})]}),et&&m.jsx("div",{className:"p-4 mx-4 mt-4 border-l-4 border-green-500 bg-green-50 lg:mx-6",children:m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("span",{className:"text-green-500",children:"✓"})}),m.jsx("div",{className:"ml-3",children:m.jsx("p",{className:"text-sm text-green-700",children:et})})]})}),ge&&m.jsx("div",{className:"p-4 mx-4 mt-4 border-l-4 border-red-500 bg-red-50 lg:mx-6",children:m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("span",{className:"text-red-500",children:"✕"})}),m.jsx("div",{className:"ml-3",children:m.jsx("p",{className:"text-sm text-red-700",children:ge})})]})}),m.jsx("main",{className:"flex-1 p-4 overflow-y-auto lg:p-6 bg-gray-50",children:a==="analytics"&&f?m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"w-8 h-8 border-b-2 border-blue-600 rounded-full animate-spin"})}):jn()})]}),N&&m.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:m.jsxs("div",{className:"flex items-end justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[m.jsx("div",{className:"fixed transition-opacity bg-opacity-75 bg-white-500","aria-hidden":"true",onClick:()=>L(!1)}),m.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),m.jsxs("div",{className:"z-50 inline-block overflow-hidden text-left align-bottom transition-all transform bg-white shadow-xl rounded-2xl sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full",style:{boxShadow:"0 10px 30px rgba(0,0,0,0.1)",width:"650px"},children:[m.jsxs("div",{className:"px-8 py-8",children:[m.jsxs("div",{className:"mb-8 text-center",children:[m.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:M==="add"?"Añadir Producto":"Editar Producto"}),m.jsx("p",{className:"mt-2 text-sm text-gray-500",children:M==="add"?"Ingresa los detalles del nuevo producto":"Modifica la información del producto"})]}),m.jsx("div",{className:"mt-2",children:m.jsxs("form",{onSubmit:M==="add"?rs:oo,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Nombre del Producto"}),m.jsx("input",{type:"text",name:"name",value:M==="add"?E.name:C?.name,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Nombre del producto",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Descripción"}),m.jsx("textarea",{name:"description",value:M==="add"?E.description:C?.description,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",rows:"4",placeholder:"Descripción del producto"})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Precio (COP)"}),m.jsx("input",{type:"number",name:"price",step:"0.01",min:"0",value:M==="add"?E.price:C?.price,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"0.00",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Stock"}),m.jsx("input",{type:"number",name:"stock",min:"0",value:M==="add"?E.stock:C?.stock,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Cantidad disponible"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Calificación"}),m.jsx("input",{type:"number",name:"rating",step:"0.1",min:"0",max:"5",value:M==="add"?E.rating:C?.rating,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"0.0 - 5.0"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Material"}),m.jsx("input",{type:"text",name:"material",value:M==="add"?E.material:C?.material,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Material del producto"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Color"}),m.jsx("input",{type:"text",name:"color",value:M==="add"?E.color:C?.color,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Color del producto"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Tamaño"}),m.jsx("input",{type:"text",name:"size",value:M==="add"?E.size:C?.size,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Tamaño del producto"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Estilo"}),m.jsx("input",{type:"text",name:"style",value:M==="add"?E.style:C?.style,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Estilo del producto"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Categoría"}),m.jsxs("select",{name:"category",value:M==="add"?E.category:C?.category,onChange:M==="add"?_r:Er,className:"w-full px-4 py-3 text-gray-900 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",children:[m.jsx("option",{value:"",children:"Seleccionar categoría"}),m.jsx("option",{value:"Moños Elegantes",children:"Moños Elegantes"}),m.jsx("option",{value:"Moños Infantiles",children:"Moños Infantiles"}),m.jsx("option",{value:"Moños Deportivos",children:"Moños Deportivos"}),m.jsx("option",{value:"Moños Casuales",children:"Moños Casuales"}),m.jsx("option",{value:"Moños de Novia",children:"Moños de Novia"}),m.jsx("option",{value:"Moños de Gala",children:"Moños de Gala"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Imágenes"}),m.jsxs("div",{className:"mt-3",children:[m.jsx("button",{type:"button",onClick:()=>Gr(M==="edit"),className:"inline-flex items-center px-4 py-2.5 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all",disabled:Yt||(M==="add"?E.imageUrls.length>=4:C?.imageUrls.length>=4),children:Yt?"Subiendo...":`Añadir Imagen${M==="add"?E.imageUrls.length>0?` (${E.imageUrls.length}/4)`:"":C?.imageUrls.length>0?` (${C?.imageUrls.length}/4)`:""}`}),(M==="add"?E.imageUrls.length>=4:C?.imageUrls.length>=4)&&m.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Has alcanzado el límite máximo de 4 imágenes."}),Yt&&m.jsx("div",{className:"mt-4",children:m.jsx("div",{className:"w-8 h-8 border-b-2 border-gray-900 rounded-full animate-spin"})}),M==="add"?E.imageUrls.length>0&&m.jsx("div",{className:"grid grid-cols-2 gap-4 mt-5",children:E.imageUrls.map((Y,xe)=>m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:typeof Y=="string"?Y:Y.data,alt:`Preview ${xe}`,className:"object-cover w-full h-32 rounded-lg",onError:je=>{je.target.onerror=null,je.target.src="https://via.placeholder.com/150x150.png?text=Imagen"}}),m.jsx("button",{type:"button",onClick:()=>Ar(xe),className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full p-1.5 hover:bg-red-700 transition-colors shadow-md",children:m.jsx(l1,{size:14})}),m.jsx("button",{type:"button",onClick:()=>Wi(xe),className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 text-xs px-2.5 py-1 rounded-full shadow-sm ${E.primaryImageIndex===xe?"bg-gray-900 text-white":"bg-white text-gray-800 border border-gray-300"}`,children:"Principal"})]},xe))}):C?.imageUrls.length>0&&m.jsx("div",{className:"grid grid-cols-2 gap-4 mt-5",children:C.imageUrls.map((Y,xe)=>m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:typeof Y=="string"?Y:Y.data,alt:`Preview ${xe}`,className:"object-cover w-full h-32 rounded-lg",onError:je=>{je.target.onerror=null,je.target.src="https://via.placeholder.com/150x150.png?text=Imagen"}}),m.jsx("button",{type:"button",onClick:()=>Ar(xe,!0),className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full p-1.5 hover:bg-red-700 transition-colors shadow-md",children:m.jsx(l1,{size:14})}),m.jsx("button",{type:"button",onClick:()=>Wi(xe,!0),className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 text-xs px-2.5 py-1 rounded-full shadow-sm ${C.primaryImageIndex===xe?"bg-gray-900 text-white":"bg-white text-gray-800 border border-gray-300"}`,children:"Principal"})]},xe))})]})]})]})})]}),m.jsxs("div",{className:"flex justify-between px-8 py-5 bg-white border-t border-gray-200",children:[m.jsx("button",{type:"button",onClick:()=>L(!1),className:"inline-flex justify-center px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all",children:"Cancelar"}),m.jsx("button",{type:"button",onClick:M==="add"?rs:oo,className:"inline-flex justify-center px-5 py-2.5 text-sm font-medium text-white bg-gray-900 border border-transparent rounded-lg hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all",children:M==="add"?"Añadir Producto":"Actualizar Producto"})]})]})]})}),W&&ie&&m.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:m.jsxs("div",{className:"flex items-end justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[m.jsx("div",{className:"fixed transition-opacity bg-gray-500 bg-opacity-75","aria-hidden":"true",onClick:()=>ae(!1)}),m.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),m.jsxs("div",{className:"z-50 inline-block overflow-hidden text-left align-bottom transition-all transform bg-white shadow-xl rounded-2xl sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",style:{boxShadow:"0 10px 30px rgba(0,0,0,0.1)",width:"650px"},children:[m.jsxs("div",{className:"px-8 py-8",children:[m.jsxs("div",{className:"mb-8 text-center",children:[m.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:"Editar Reseña"}),m.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Modifica la calificación y el comentario de la reseña"})]}),m.jsx("div",{className:"mt-2",children:m.jsxs("form",{onSubmit:co,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block mb-4 text-sm font-medium text-gray-700",children:"Calificación"}),m.jsx("div",{className:"flex items-center justify-center space-x-2",children:[1,2,3,4,5].map(Y=>m.jsx("button",{type:"button",onClick:()=>Sa(Y),className:"text-4xl transition-transform focus:outline-none hover:scale-110",children:Y<=ie.rating?m.jsx("span",{className:"text-yellow-400",children:"★"}):m.jsx("span",{className:"text-gray-300",children:"☆"})},Y))}),m.jsx("div",{className:"mt-3 text-center",children:m.jsxs("span",{className:"text-sm text-gray-500",children:[ie.rating," de 5 estrellas"]})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-3 text-sm font-medium text-gray-700",children:"Comentario"}),m.jsx("textarea",{name:"comment",rows:6,value:ie.comment,onChange:Aa,className:"w-full px-4 py-3 text-gray-900 placeholder-gray-400 transition-all border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900",placeholder:"Escribe tu reseña aquí..."})]})]})})]}),m.jsxs("div",{className:"flex justify-between px-8 py-5 bg-white border-t border-gray-200",children:[m.jsx("button",{type:"button",onClick:()=>ae(!1),className:"inline-flex justify-center px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all",children:"Cancelar"}),m.jsx("button",{type:"button",onClick:co,className:"inline-flex justify-center px-5 py-2.5 text-sm font-medium text-white bg-gray-900 border border-transparent rounded-lg hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all",children:"Guardar Cambios"})]})]})]})}),be&&oe&&m.jsx(V3,{order:oe,isOpen:be,onClose:gi,formatDate:Gi,formatCurrency:xa,getOrderStatusText:Ox,getStatusBadgeClass:Nj})]}):m.jsx("div",{className:"flex items-center justify-center min-h-screen",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Acceso Denegado"}),m.jsx("p",{className:"mt-2 text-gray-600",children:"No tienes permisos para acceder a esta sección."})]})})},jpe=()=>{const{currentUser:t}=va(),e=qi(),[n,r]=_.useState([]),[i,a]=_.useState(!0),[l,u]=_.useState(null),[d,f]=_.useState(null),[p,g]=_.useState(!1),[b,x]=_.useState(null),A=I=>{switch(I){case"pending":return"Pendiente";case"processing":return"Procesando";case"shipped":return"Enviado";case"delivered":return"Entregado";case"cancelled":return"Cancelado";default:return I}},E=I=>{switch(I){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=I=>I?I instanceof Date?I.toLocaleDateString("es-CO"):I.toDate?I.toDate().toLocaleDateString("es-CO"):"N/A":"N/A",C=I=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(I||0),P=I=>{f(I),g(!0)},N=()=>{g(!1),f(null)},L=I=>{x({productId:I.id,productName:I.name,rating:0,comment:""})},M=I=>{const{name:k,value:$}=I.target;x(V=>({...V,[k]:$}))},U=I=>{x(k=>({...k,rating:I}))},R=async()=>{if(b.rating===0){ke.fire({title:"Error",text:"Por favor selecciona una calificación",icon:"error",confirmButtonText:"Aceptar"});return}if(b.comment.trim()===""){ke.fire({title:"Error",text:"Por favor escribe un comentario",icon:"error",confirmButtonText:"Aceptar"});return}try{const I={productId:b.productId,userId:t.uid,userEmail:t.email,userName:t.displayName||t.email.split("@")[0],rating:b.rating,comment:b.comment.trim()};await O3(I),ke.fire({title:"Reseña enviada",text:"Tu reseña ha sido enviada correctamente",icon:"success",confirmButtonText:"Aceptar"}),x(null)}catch(I){console.error("Error submitting review:",I),ke.fire({title:"Error",text:"Hubo un error al enviar tu reseña. Por favor intenta nuevamente.",icon:"error",confirmButtonText:"Aceptar"})}};return _.useEffect(()=>{(async()=>{if(!t){e("/login");return}try{const k=await YX(t.uid);r(k)}catch(k){console.error("Error fetching user orders:",k),u("No se pudieron cargar tus órdenes. Por favor, intenta nuevamente.")}finally{a(!1)}})()},[t,e]),i?m.jsx("div",{children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})})}):m.jsxs("div",{children:[m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Pedidos"}),m.jsx("p",{className:"mt-2 text-gray-600",children:"Consulta el estado de tus pedidos recientes"})]}),l&&m.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-6",children:m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),m.jsx("div",{className:"ml-3",children:m.jsx("h3",{className:"text-sm font-medium text-red-800",children:l})})]})}),n.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002-2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),m.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No tienes pedidos"}),m.jsx("p",{className:"mt-1 text-gray-500",children:"Aún no has realizado ningún pedido."}),m.jsx("div",{className:"mt-6",children:m.jsx(tt,{to:"/shop",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Comprar ahora"})})]}):m.jsx("div",{className:"space-y-6",children:n.map(I=>m.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[m.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Pedido #",I.id.substring(0,8)]}),m.jsxs("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:["Realizado el ",S(I.createdAt)]})]}),m.jsxs("div",{className:"mt-4 md:mt-0 flex items-center space-x-2",children:[m.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${E(I.orderStatus)}`,children:A(I.orderStatus)}),m.jsx("button",{onClick:()=>P(I),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ver detalles"})]})]})}),m.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[m.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),m.jsx("p",{className:"text-lg font-medium text-gray-900",children:C(I.totalAmount)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Productos"}),m.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[I.items?.length||0," ",I.items?.length===1?"producto":"productos"]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Método de Pago"}),m.jsx("p",{className:"text-lg font-medium text-gray-900",children:I.paymentMethod||"N/A"})]})]}),m.jsxs("div",{className:"mt-6",children:[m.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Productos en este pedido"}),m.jsx("div",{className:"space-y-4",children:I.items?.map((k,$)=>m.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0 w-16 h-16 border border-gray-200 rounded-md overflow-hidden",children:m.jsx("img",{src:k.imageUrl||"https://via.placeholder.com/64x64.png?text=Moño",alt:k.name,className:"w-full h-full object-center object-cover",onError:V=>{V.target.onerror=null,V.target.src="https://via.placeholder.com/64x64.png?text=Moño"}})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("h5",{className:"text-sm font-medium text-gray-900",children:k.name}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Cantidad: ",k.quantity]})]})]}),m.jsx("button",{onClick:()=>L(k),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Dejar reseña"})]},$))})]})]})]},I.id))})]}),b&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto bg-black bg-opacity-50",children:m.jsx("div",{className:"relative w-full max-w-md mx-auto my-8 bg-white rounded-lg shadow-xl",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Dejar una reseña"}),m.jsx("button",{onClick:()=>x(null),className:"text-2xl font-bold text-gray-400 hover:text-gray-500",children:"×"})]}),m.jsxs("div",{className:"mt-2",children:[m.jsx("h4",{className:"font-medium text-gray-900",children:b.productName}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calificación"}),m.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(I=>m.jsx("button",{type:"button",onClick:()=>U(I),className:"text-2xl focus:outline-none",children:I<=b.rating?m.jsx("span",{className:"text-yellow-400",children:"★"}):m.jsx("span",{className:"text-gray-300",children:"☆"})},I)),m.jsx("span",{className:"ml-2 text-sm text-gray-500",children:b.rating>0?`${b.rating} de 5 estrellas`:"Selecciona una calificación"})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{htmlFor:"review-comment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Comentario"}),m.jsx("textarea",{id:"review-comment",name:"comment",rows:4,value:b.comment,onChange:M,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border border-gray-300 rounded-md p-3",placeholder:"Comparte tu experiencia con este producto..."})]}),m.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[m.jsx("button",{type:"button",onClick:()=>x(null),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),m.jsx("button",{onClick:R,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Enviar Reseña"})]})]})]})})}),m.jsx(V3,{order:d,isOpen:p,onClose:N,formatDate:S,formatCurrency:C,getOrderStatusText:A,getStatusBadgeClass:E})]})};function Ope(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function Ipe(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function Rpe(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function kpe(t){return Mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function Dpe(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function Mpe(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function Lpe(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function Vpe(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function Upe(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Bpe(t){return Mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function zpe(t){return Mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function $pe(t){return Mt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Mk(t){return Mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const N8=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState(!1),{currentUser:i,isAdmin:a,userProfile:l}=va(),{items:u}=xd(),{items:d}=xv(),f=qi(),p=_.useRef(null);_.useEffect(()=>{console.log("Navbar isAdmin value:",a)},[a]),_.useEffect(()=>{const N=L=>{p.current&&!p.current.contains(L.target)&&r(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const g=()=>{e(!t)},b=()=>{console.log("Toggling profile menu, current state:",n),r(!n)},x=()=>{console.log("Closing profile menu"),r(!1)},A=async()=>{try{await DD(da),x(),f("/home")}catch(N){console.error("Error signing out:",N)}},E="text-slate-600 hover:text-slate-900 transition-colors duration-300",S="relative text-slate-600 hover:text-slate-900 transition-colors duration-300 cursor-pointer",C=u.reduce((N,L)=>N+L.quantity,0),P=d.length;return m.jsxs(m.Fragment,{children:[m.jsx("header",{className:"sticky top-0 z-50 font-sans bg-white shadow-sm",children:m.jsxs("nav",{className:"flex items-center justify-between p-4 mx-auto max-w-7xl",children:[m.jsx("div",{className:"text-2xl font-bold text-slate-800",children:m.jsx(tt,{to:"/home",children:"PSGSHOP"})}),m.jsxs("ul",{className:"items-center hidden space-x-8 md:flex",children:[m.jsx("li",{children:m.jsx(tt,{to:"/home",className:E,children:"Inicio"})}),m.jsx("li",{children:m.jsx(tt,{to:"/shop",className:E,children:"Productos"})}),m.jsx("li",{children:m.jsx(tt,{to:"/blog",className:E,children:"Blog"})}),m.jsx("li",{children:m.jsx(tt,{to:"/contact",className:E,children:"Contacto"})})]}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:`hidden md:block ${S} text-xl`,children:m.jsx(Upe,{})}),m.jsxs(tt,{to:"/wishlist",className:`${S} text-xl flex items-center justify-center relative`,children:[m.jsx(Lpe,{}),P>0&&m.jsx("span",{className:"absolute flex items-center justify-center w-5 h-5 text-xs font-semibold text-white bg-green-500 rounded-full -top-2 -right-3",children:P})]}),m.jsxs(tt,{to:"/cart",className:`${S} text-xl flex items-center justify-center relative`,children:[m.jsx(Bpe,{}),C>0&&m.jsx("span",{className:"absolute flex items-center justify-center w-5 h-5 text-xs font-semibold text-white bg-green-500 rounded-full -top-2 -right-3",children:C})]}),m.jsxs("div",{className:"relative",ref:p,children:[i?m.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 border border-gray-300 rounded-full cursor-pointer",onClick:b,children:l?.profileImage?m.jsx("img",{src:l.profileImage,alt:"Profile",className:"object-cover w-full h-full rounded-full"}):m.jsx("span",{className:"text-xs font-bold text-gray-600",children:l?.displayName?.charAt(0).toUpperCase()||i.email?.charAt(0).toUpperCase()||"U"})}):m.jsx(tt,{to:"/login",className:"flex items-center justify-center w-8 h-8 bg-gray-200 border border-gray-300 rounded-full cursor-pointer",children:m.jsx(Mk,{className:"text-gray-600"})}),i&&n&&m.jsxs("div",{className:"absolute right-0 z-50 w-64 mt-2 bg-gray-800 rounded-lg shadow-lg",children:[m.jsx("div",{className:"p-4 border-b border-gray-700",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-200 border border-gray-300 rounded-full",children:l?.profileImage?m.jsx("img",{src:l.profileImage,alt:"Profile",className:"object-cover w-full h-full rounded-full"}):m.jsx("span",{className:"text-sm font-bold text-gray-600",children:l?.displayName?.charAt(0).toUpperCase()||i.email?.charAt(0).toUpperCase()||"U"})}),m.jsxs("div",{className:"ml-3",children:[m.jsx("p",{className:"text-sm font-bold text-white",children:l?.displayName||i.email?.split("@")[0]||"Usuario"}),m.jsx("p",{className:"text-xs text-gray-400",children:i.email})]})]})}),m.jsxs("div",{className:"py-1",children:[console.log("Rendering admin link, isAdmin:",a),a&&m.jsxs(tt,{to:"/admin",className:"flex items-center px-4 py-2 text-sm text-white hover:bg-gray-700",onClick:x,children:[m.jsx(Mpe,{className:"mr-3 text-gray-400"}),m.jsx("span",{children:"Administrar página"})]}),m.jsxs(tt,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-white hover:bg-gray-700",onClick:x,children:[m.jsx(Mk,{className:"mr-3 text-gray-400"}),m.jsx("span",{children:"Editar perfil"})]}),m.jsx("div",{className:"border-t border-gray-700",children:m.jsxs(tt,{to:"/orders",className:"flex items-center px-4 py-2 text-sm text-white hover:bg-gray-700",onClick:x,children:[m.jsx(Vpe,{className:"mr-3 text-gray-400"}),m.jsx("span",{children:"Mis Pedidos"})]})}),m.jsxs("button",{onClick:A,className:"flex items-center w-full px-4 py-2 text-sm text-left text-white hover:bg-gray-700",children:[m.jsx(zpe,{className:"mr-3 text-gray-400"}),m.jsx("span",{children:"Cerrar sesión"})]})]})]})]}),m.jsxs("div",{className:"ml-3 text-2xl cursor-pointer md:hidden text-slate-800",onClick:g,children:[m.jsx(Dpe,{}),m.jsx("span",{className:"absolute flex items-center justify-center w-5 h-5 text-xs font-semibold text-white bg-green-500 rounded-full -top-1 -right-1",children:"11"})]})]})]})}),m.jsxs(m.Fragment,{children:[t&&m.jsx("div",{className:"fixed inset-0 z-40 bg-black/40",onClick:g}),m.jsxs("aside",{className:`fixed top-0 left-0 h-full w-72 bg-white shadow-xl transform ${t?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 p-5 flex flex-col font-sans`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-10",children:[m.jsx("div",{className:"text-xl font-bold text-slate-800",children:"BOWSHOP"}),m.jsx("button",{onClick:g,className:"text-2xl cursor-pointer text-slate-600 hover:text-slate-900",children:m.jsx($pe,{})})]}),m.jsxs("ul",{className:"flex-grow space-y-4",children:[m.jsx("li",{children:m.jsx(tt,{to:"/home",className:`text-lg ${E}`,onClick:g,children:"Inicio"})}),m.jsx("li",{children:m.jsx(tt,{to:"/shop",className:`text-lg ${E}`,onClick:g,children:"Productos"})}),m.jsx("li",{children:m.jsx(tt,{to:"/blog",className:`text-lg ${E}`,onClick:g,children:"Blog"})}),m.jsx("li",{children:m.jsx(tt,{to:"/contact",className:`text-lg ${E}`,onClick:g,children:"Contacto"})}),m.jsx("li",{children:m.jsx(tt,{to:"/cart",className:`text-lg ${E}`,onClick:g,children:"Carrito"})}),m.jsx("li",{children:m.jsx(tt,{to:"/wishlist",className:`text-lg ${E}`,onClick:g,children:"Favoritos"})}),i&&a&&m.jsx("li",{children:m.jsx(tt,{to:"/admin",className:"text-lg font-medium text-blue-600",onClick:g,children:"Panel administrativo"})})]}),m.jsx("div",{className:"mt-4",children:i?m.jsx("button",{onClick:()=>{A(),g()},className:"w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cerrar Sesión"}):m.jsx(tt,{to:"/login",className:"block w-full px-4 py-2 text-sm font-medium text-center text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:g,children:"Iniciar Sesión"})}),m.jsxs("div",{className:"flex justify-center p-5 mt-auto space-x-6",children:[m.jsx("a",{href:"#",className:`text-2xl ${S}`,children:m.jsx(kpe,{})}),m.jsx("a",{href:"#",className:`text-2xl ${S}`,children:m.jsx(Ipe,{})}),m.jsx("a",{href:"#",className:`text-2xl ${S}`,children:m.jsx(Ope,{})}),m.jsx("a",{href:"#",className:`text-2xl ${S}`,children:m.jsx(Rpe,{})})]})]})]})]})},Fpe=()=>{const{applyCoupon:t,removeCoupon:e,coupon:n}=xd(),r=async()=>{try{const a=await t("DESCUENTO10");console.log("Coupon applied successfully:",a),alert("Coupon applied successfully!")}catch(a){console.error("Error applying coupon:",a),alert("Error applying coupon: "+a.message)}},i=()=>{e(),alert("Coupon removed!")};return m.jsxs("div",{children:[m.jsx(N8,{}),m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Prueba de Cupones"}),m.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden p-6",children:[m.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-4",children:"Funcionalidad de Cupones"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Estado Actual"}),n?m.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:[m.jsxs("p",{className:"font-medium text-green-800",children:["Cupón Aplicado: ",n.code]}),m.jsxs("p",{className:"text-sm text-green-600",children:["Descuento: ",n.discountType==="percentage"?`${n.discountValue}%`:`$${n.discountValue}`]})]}):m.jsx("p",{className:"text-gray-500",children:"No hay cupón aplicado"})]}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("button",{onClick:r,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Aplicar Cupón de Prueba (DESCUENTO10)"}),m.jsx("button",{onClick:i,disabled:!n,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white ${n?"bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500":"bg-gray-400 cursor-not-allowed"}`,children:"Remover Cupón"})]}),m.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[m.jsx("h3",{className:"text-md font-medium text-blue-800 mb-2",children:"Instrucciones"}),m.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-700 space-y-1",children:[m.jsx("li",{children:"Primero, asegúrate de haber creado un cupón de prueba en Firestore"}),m.jsx("li",{children:'Haz clic en "Aplicar Cupón de Prueba" para probar la funcionalidad'}),m.jsx("li",{children:"Verifica que el cupón se aplique correctamente"}),m.jsx("li",{children:'Haz clic en "Remover Cupón" para eliminarlo'})]})]})]})]})]})]})},qpe=()=>{const{items:t,removeFromWishlist:e,loading:n}=xv(),r=i=>{if(i.imageUrls&&i.imageUrls.length>0){const a=i.imageUrls.filter(l=>l&&(typeof l=="string"||l.data&&typeof l.data=="string"));if(a.length>0){const l=i.primaryImageIndex||0,u=Math.min(l,a.length-1),d=a[u];if(typeof d=="string")return d;if(d&&d.data)return d.data}}return i.imageUrl||"https://via.placeholder.com/300x300.png?text=Moño"};return n?m.jsx("div",{children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Mi Lista de Deseos"}),m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})]})}):m.jsx("div",{children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Mi Lista de Deseos"}),t.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),m.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Tu lista de deseos está vacía"}),m.jsx("p",{className:"mt-1 text-gray-500",children:"Empieza a agregar productos a tu lista de deseos"}),m.jsx("div",{className:"mt-6",children:m.jsx(tt,{to:"/shop",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Explorar Productos"})})]}):m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(i=>m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[m.jsx(tt,{to:`/product/${i.id}`,children:m.jsx("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden",children:m.jsx("img",{src:r(i),alt:i.name,className:"w-full h-64 object-cover",onError:a=>{a.target.onerror=null,a.target.src="https://via.placeholder.com/300x300.png?text=Moño"}})})}),m.jsxs("div",{className:"p-4",children:[m.jsx("div",{className:"flex items-center justify-between",children:m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:i.category})}),m.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:i.name}),i.rating>0&&m.jsx("div",{className:"mt-2",children:m.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((a,l)=>m.jsx("svg",{className:`w-4 h-4 ${l<Math.floor(i.rating)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},l)),m.jsx("span",{className:"ml-1 text-sm text-gray-600",children:i.rating})]})}),m.jsx("div",{className:"mt-2",children:m.jsxs("span",{className:"text-lg font-semibold text-indigo-600",children:["$",parseFloat(i.price).toLocaleString("es-CO")]})}),m.jsxs("div",{className:"mt-4 flex gap-2",children:[m.jsx(tt,{to:`/product/${i.id}`,className:"flex-1 bg-indigo-600 border border-transparent rounded-md py-2 px-4 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 text-center",children:"Ver Detalles"}),m.jsx("button",{onClick:()=>e(i.id),className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:m.jsx("svg",{className:"h-5 w-5 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},i.id))})]})})},Hpe=()=>m.jsx("footer",{className:"bg-gray-800 text-white py-8",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Tienda de Moños"}),m.jsx("p",{className:"text-gray-300",children:"La mejor selección de moños para todas las ocasiones."})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Enlaces Rápidos"}),m.jsxs("ul",{className:"space-y-2",children:[m.jsx("li",{children:m.jsx("a",{href:"/home",className:"text-gray-300 hover:text-white",children:"Inicio"})}),m.jsx("li",{children:m.jsx("a",{href:"/cart",className:"text-gray-300 hover:text-white",children:"Carrito"})}),m.jsx("li",{children:m.jsx("a",{href:"/login",className:"text-gray-300 hover:text-white",children:"Iniciar Sesión"})}),m.jsx("li",{children:m.jsx("a",{href:"/register",className:"text-gray-300 hover:text-white",children:"Registrarse"})})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contacto"}),m.jsxs("address",{className:"text-gray-300 not-italic",children:[m.jsx("p",{children:"Email: psgmoños@gmail.com"}),m.jsx("p",{children:"Teléfono: (123) 456-7890"})]})]})]}),m.jsx("div",{className:"border-t border-gray-700 mt-8 pt-6 text-center text-gray-400",children:m.jsxs("p",{children:["© ",new Date().getFullYear()," Tienda de Moños. Todos los derechos reservados."]})})]})});function Kpe(){const[t,e]=_.useState(null),[n,r]=_.useState(null),[i,a]=_.useState(!0),[l,u]=_.useState(!1);_.useEffect(()=>S$(da,async b=>{if(e(b),b)try{const x=bt(Ie,"users",b.uid),A=await pa(x);if(A.exists()){const E=A.data();r(E),u(E.role==="admin")}else r(null),u(!1)}catch(x){console.error("Error fetching user profile:",x),r(null),u(!1)}else r(null),u(!1);a(!1)}),[]);const d={currentUser:t,userProfile:n,isAdmin:l};if(i)return m.jsx("div",{className:"flex items-center justify-center min-h-screen",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})});const f=({children:g,adminOnly:b=!1})=>t?b&&!l?m.jsx(dx,{to:"/home"}):g:m.jsx(dx,{to:"/login"}),p=({children:g})=>t?m.jsx(dx,{to:"/home"}):g;return m.jsx(kM.Provider,{value:d,children:m.jsx(TG,{children:m.jsx(CG,{children:m.jsxs("div",{className:"flex flex-col min-h-screen",children:[m.jsxs(fx,{children:[m.jsx(kn,{path:"/admin/*",element:null}),m.jsx(kn,{path:"*",element:m.jsx(N8,{})})]}),m.jsx("main",{className:"flex-grow",children:m.jsxs(fx,{children:[m.jsx(kn,{path:"/",element:m.jsx(jx,{})}),m.jsx(kn,{path:"/home",element:m.jsx(jx,{})}),m.jsx(kn,{path:"/shop",element:m.jsx(jx,{})}),m.jsx(kn,{path:"/product/:id",element:m.jsx(wX,{})}),m.jsx(kn,{path:"/cart",element:m.jsx(_X,{})}),m.jsx(kn,{path:"/wishlist",element:m.jsx(qpe,{})}),m.jsx(kn,{path:"/checkout",element:m.jsx(f,{children:m.jsx(FX,{})})}),m.jsx(kn,{path:"/profile",element:m.jsx(f,{children:m.jsx(qX,{})})}),m.jsx(kn,{path:"/orders",element:m.jsx(f,{children:m.jsx(jpe,{})})}),m.jsx(kn,{path:"/login",element:m.jsx(p,{children:m.jsx(HX,{})})}),m.jsx(kn,{path:"/register",element:m.jsx(p,{children:m.jsx(KX,{})})}),m.jsx(kn,{path:"/reset-password",element:m.jsx(p,{children:m.jsx(GX,{})})}),m.jsx(kn,{path:"/admin/*",element:m.jsx(f,{adminOnly:!0,children:m.jsx(Ppe,{})})}),m.jsx(kn,{path:"/coupon-test",element:m.jsx(f,{adminOnly:!0,children:m.jsx(Fpe,{})})})]})}),m.jsxs(fx,{children:[m.jsx(kn,{path:"/admin/*",element:null}),m.jsx(kn,{path:"*",element:m.jsx(Hpe,{})})]})]})})})})}const Gpe={"client-id":"AdgxAW2HZC5B-yzBWZKimJnJH8W5r-PwL5_lppQOw1w43p_mlpg5FzCDl2trocXC23YuwZhhjyiJIOEf",currency:"USD",intent:"capture"};fV.createRoot(document.getElementById("root")).render(m.jsx(_.StrictMode,{children:m.jsx($X,{options:Gpe,children:m.jsx(SU,{children:m.jsx(Kpe,{})})})}));
